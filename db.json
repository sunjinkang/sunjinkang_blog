{"meta":{"version":1,"warehouse":"4.0.0"},"models":{"Asset":[{"_id":"source/nodejs/images/async-call.png","path":"nodejs/images/async-call.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/async-progress.png","path":"nodejs/images/async-progress.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/async-experience.png","path":"nodejs/images/async-experience.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/buffer-1.png","path":"nodejs/images/buffer-1.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/bigpipe.png","path":"nodejs/images/bigpipe.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/buffer-2.png","path":"nodejs/images/buffer-2.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/buffer-3.png","path":"nodejs/images/buffer-3.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/buffer.png","path":"nodejs/images/buffer.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/ca-1.png","path":"nodejs/images/ca-1.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/ca.png","path":"nodejs/images/ca.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/cache.png","path":"nodejs/images/cache.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/commonjs-node-relation.png","path":"nodejs/images/commonjs-node-relation.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/collect-diff.png","path":"nodejs/images/collect-diff.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/cross-platform.png","path":"nodejs/images/cross-platform.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/defer-promise.png","path":"nodejs/images/defer-promise.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/epoll-loop.png","path":"nodejs/images/epoll-loop.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/fork.png","path":"nodejs/images/fork.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/how-to-call-async.png","path":"nodejs/images/how-to-call-async.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/http.png","path":"nodejs/images/http.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/increase-target.png","path":"nodejs/images/increase-target.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/jam.png","path":"nodejs/images/jam.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/loop.png","path":"nodejs/images/loop.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/loop-1.png","path":"nodejs/images/loop-1.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/master-slave.png","path":"nodejs/images/master-slave.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/mvc.png","path":"nodejs/images/mvc.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/middle.png","path":"nodejs/images/middle.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/net-2.png","path":"nodejs/images/net-2.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/net-1.png","path":"nodejs/images/net-1.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/net-3.png","path":"nodejs/images/net-3.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/net-4.png","path":"nodejs/images/net-4.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/no-jam.png","path":"nodejs/images/no-jam.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/node-modules.png","path":"nodejs/images/node-modules.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/node-require.png","path":"nodejs/images/node-require.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/nvm-download.png","path":"nodejs/images/nvm-download.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/nvm-install.png","path":"nodejs/images/nvm-install.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/nvm-setting.png","path":"nodejs/images/nvm-setting.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/nvm-setting-content.png","path":"nodejs/images/nvm-setting-content.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/package.png","path":"nodejs/images/package.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/pipe-1.png","path":"nodejs/images/pipe-1.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/pipe-2.png","path":"nodejs/images/pipe-2.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/pipe-4.png","path":"nodejs/images/pipe-4.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/pipe.png","path":"nodejs/images/pipe.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/pipe-3.png","path":"nodejs/images/pipe-3.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/poll-loop.png","path":"nodejs/images/poll-loop.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/product.png","path":"nodejs/images/product.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/select-loop.png","path":"nodejs/images/select-loop.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/read-loop.png","path":"nodejs/images/read-loop.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/product-1.png","path":"nodejs/images/product-1.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/settimeout.png","path":"nodejs/images/settimeout.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/tail-trigger.png","path":"nodejs/images/tail-trigger.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/test-1.png","path":"nodejs/images/test-1.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/sweep-compact.png","path":"nodejs/images/sweep-compact.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/test-2.png","path":"nodejs/images/test-2.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/test.png","path":"nodejs/images/test.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/tls-ssl.png","path":"nodejs/images/tls-ssl.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/v8-promot.png","path":"nodejs/images/v8-promot.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/v8-promot2.png","path":"nodejs/images/v8-promot2.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/websocket-1.png","path":"nodejs/images/websocket-1.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/websocket.png","path":"nodejs/images/websocket.png","modified":1,"renderable":0},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":1,"renderable":1},{"_id":"themes/next/source/css/noscript.styl","path":"css/noscript.styl","modified":1,"renderable":1},{"_id":"themes/next/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/avatar.jpg","path":"images/avatar.jpg","modified":1,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/logo-algolia-nebula-blue-full.svg","path":"images/logo-algolia-nebula-blue-full.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/logo.jpeg","path":"images/logo.jpeg","modified":1,"renderable":1},{"_id":"themes/next/source/images/logo.svg","path":"images/logo.svg","modified":1,"renderable":1},{"_id":"themes/next/source/js/bookmark.js","path":"js/bookmark.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/comments-buttons.js","path":"js/comments-buttons.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/comments.js","path":"js/comments.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/config.js","path":"js/config.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/motion.js","path":"js/motion.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/next-boot.js","path":"js/next-boot.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/schedule.js","path":"js/schedule.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/pjax.js","path":"js/pjax.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/utils.js","path":"js/utils.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/fancybox.js","path":"js/third-party/fancybox.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/pace.js","path":"js/third-party/pace.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/quicklink.js","path":"js/third-party/quicklink.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/rating.js","path":"js/third-party/rating.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/schemes/muse.js","path":"js/schemes/muse.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/analytics/baidu-analytics.js","path":"js/third-party/analytics/baidu-analytics.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/chat/gitter.js","path":"js/third-party/chat/gitter.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/chat/tidio.js","path":"js/third-party/chat/tidio.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/chat/chatra.js","path":"js/third-party/chat/chatra.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/analytics/google-analytics.js","path":"js/third-party/analytics/google-analytics.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/analytics/growingio.js","path":"js/third-party/analytics/growingio.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/comments/changyan.js","path":"js/third-party/comments/changyan.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/comments/disqus.js","path":"js/third-party/comments/disqus.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/comments/disqusjs.js","path":"js/third-party/comments/disqusjs.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/comments/gitalk.js","path":"js/third-party/comments/gitalk.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/comments/isso.js","path":"js/third-party/comments/isso.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/comments/utterances.js","path":"js/third-party/comments/utterances.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/comments/livere.js","path":"js/third-party/comments/livere.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/math/katex.js","path":"js/third-party/math/katex.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/math/mathjax.js","path":"js/third-party/math/mathjax.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/search/algolia-search.js","path":"js/third-party/search/algolia-search.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/tags/mermaid.js","path":"js/third-party/tags/mermaid.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/search/local-search.js","path":"js/third-party/search/local-search.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/tags/pdf.js","path":"js/third-party/tags/pdf.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/statistics/firestore.js","path":"js/third-party/statistics/firestore.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/statistics/lean-analytics.js","path":"js/third-party/statistics/lean-analytics.js","modified":1,"renderable":1}],"Cache":[{"_id":"source/Vue/index.md","hash":"4015b33dec697a3f2f6351db6de2edcdaf2a8e31","modified":1655911608885},{"_id":"source/commonweal/index.md","hash":"30ae361c27bf73c5d23ddfe4e637a3b0dd854c3d","modified":1661260525942},{"_id":"source/index.md","hash":"b55e6f2c2b127640284ae1c862095d2e57cd2d03","modified":1669163619765},{"_id":"source/Vue/change.md","hash":"01da9f47a27eb736b43bd12ec2321715e2b54e4d","modified":1655911608869},{"_id":"source/_posts/1-hello-world.md","hash":"270b836ccfe6be2557efe7cff4f7508dcbe21bba","modified":1669163618994},{"_id":"source/_posts/11-github-push-insert-password.md","hash":"87aeeeb28c3eff8b13f2918e2327da52f06d2c86","modified":1669163618996},{"_id":"source/_posts/12-create-github-tokens.md","hash":"cfffdaad81b6557337511d6d4c89b6d60c49be08","modified":1669163618997},{"_id":"source/_posts/10-about-meta.md","hash":"bb4ea509d4e70d028ab897066775a3c5daa92e4c","modified":1669163618995},{"_id":"source/Vue/dependency.md","hash":"6e38909af4945785fb09db5abe4a064ff6066d9f","modified":1655911608869},{"_id":"source/_posts/13-document-location.md","hash":"983b8b428ebc7d9146c2f02b1c6ef9a19a404a52","modified":1669163618998},{"_id":"source/_posts/14-about-fe-theory.md","hash":"ee90c2ae75015903f9261d7c849236c184bb4df4","modified":1669163618999},{"_id":"source/_posts/16-origin-type-and-reference-type.md","hash":"e91c2a19b4bf48ec025be138d09b7ebd4720bb8f","modified":1669163619008},{"_id":"source/_posts/15-js-transform.md","hash":"e4d1f5492b8b4e50326ec441dabbc9c46334fa9e","modified":1669163619002},{"_id":"source/_posts/18-fake-array.md","hash":"4b0406f4195ca751edc4426411c200cf155fd87f","modified":1669163619011},{"_id":"source/_posts/2-var-const-let.md","hash":"41e5f191349193383557269ea8ec33cf0d9ce21c","modified":1669163619020},{"_id":"source/_posts/20-create-vscode-plugin.md","hash":"35ab6d151c4624146a9a2bc0489de546e19f4b4a","modified":1669163619021},{"_id":"source/_posts/22-about-symbol.md","hash":"65133492a1cdad66e5bd241b08a42b952816b362","modified":1669163619024},{"_id":"source/_posts/19-about-map.md","hash":"434508a12d6e8b1c4361dcf0fe6dbca14322fbfd","modified":1669163619019},{"_id":"source/_posts/17-about-dom.md","hash":"8b9d82b293d05a8607338ba7805995668a2a75bc","modified":1669163619010},{"_id":"source/_posts/24-about-design-model1.md","hash":"8f76ec64f22977e4d5a6486f4e4090779a91f5c5","modified":1669163619113},{"_id":"source/_posts/25-about-design-model2.md","hash":"f019282254e044cfd0639f0c6871d7d6651c010f","modified":1669163619159},{"_id":"source/_posts/21-devan-operation.md","hash":"56a6010664a58518a152734891c96e4381e0ff5f","modified":1669163619023},{"_id":"source/_posts/23-about-design-model.md","hash":"9eb2c5bd6124d1a582158156ccc553a079934b46","modified":1669163619025},{"_id":"source/_posts/26-about-design-model3.md","hash":"9d452a95a2015277863bca964eed0873b5ef82a0","modified":1669163619174},{"_id":"source/_posts/27-about-design-model4.md","hash":"4cc57015e62534ab2b5752eb9e1633c454841329","modified":1669163619280},{"_id":"source/_posts/28-about-design-model5.md","hash":"552e6b11c56858c2a0a01016bccfe44c5e78ba98","modified":1669163619421},{"_id":"source/_posts/29-es6-object-strong.md","hash":"04664900cbb58b4d353a3d72473ed26fb85b6ace","modified":1669163619561},{"_id":"source/_posts/30-some-convenient-code.md","hash":"172c114e41c436ee4200ff3a09fd0be5ab95dc9e","modified":1669163619563},{"_id":"source/_posts/3-about-use-hexo.md","hash":"dfe2e57286b86d882621511540b190d20445efea","modified":1671586035833},{"_id":"source/_posts/31-get-and-set-prototypeof.md","hash":"3fd4686d10367d858de7333622e29edd04ddffb4","modified":1669163619564},{"_id":"source/_posts/32-apply-array-to-params.md","hash":"d48e9e939a61b0409dd376241fc5f7180953b32a","modified":1669163619565},{"_id":"source/_posts/34-data-structure2.md","hash":"2285e2e65adf53358a73874c3d5d71cc306acf34","modified":1669163619569},{"_id":"source/_posts/36-data-structure4.md","hash":"655310cf16867c2ac283bc9cf9a88f5695657455","modified":1669163619591},{"_id":"source/_posts/35-data-structure3.md","hash":"2be456c7d5ef82b74e291d83c0fba2699c204742","modified":1669163619580},{"_id":"source/_posts/37-data-structure5.md","hash":"fa3b431ab83b728d20e50257ea5f50c21e6d888f","modified":1669163619631},{"_id":"source/_posts/39-data-structure7.md","hash":"a65a703431ea3e324a705e7502a5b680955db788","modified":1669163619698},{"_id":"source/_posts/33-data-structure1.md","hash":"86910e71b066d9318c663db55df022fa817ebc1f","modified":1669163619566},{"_id":"source/_posts/4-browser-render.md","hash":"748dabbf3eaa00f47492d9d5909abaebbb4ae79e","modified":1669163619725},{"_id":"source/_posts/42-scrollInToView-params.md","hash":"03ced352159ad34993358af41ada55a3a366241d","modified":1669163619730},{"_id":"source/_posts/41-js-equal-type.md","hash":"4a7637c22e9de68b9cc8a61a2dd3b5bbd192f150","modified":1669163619729},{"_id":"source/_posts/38-data-structure6.md","hash":"088a4533518b455406f3d87f6b0f3181c18008e4","modified":1669163619668},{"_id":"source/_posts/5-react-render.md","hash":"3d1ecf1f8ba758118a9958874f508559db7f5a93","modified":1669163619732},{"_id":"source/_posts/40-tail-call.md","hash":"b7b7aac8508f22653ae46455c18cefea7a2800a0","modified":1671586035833},{"_id":"source/_posts/43-compress-picture.md","hash":"be187f049a28b605f9dc7b150de11e49d2c4e63c","modified":1670540979348},{"_id":"source/_posts/6-vue3-render.md","hash":"0e7f667b40d879002559a3e6be9ea488e11a467b","modified":1669163619741},{"_id":"source/_posts/7-question-about-render.md","hash":"89a5efd2525355a1907daf11d1bc09e49856c7cd","modified":1669163619762},{"_id":"source/_posts/8-create-fixed-length-array.md","hash":"b725c0831414ac6986702e40043db3bfc9959a2b","modified":1669163619763},{"_id":"source/_posts/9-text-type-about-markdown.md","hash":"573320cb9f0cbd868e793205a36fec7bd682fd23","modified":1669163619764},{"_id":"source/nodejs/install-diff-version-node-by-nvm.md","hash":"06257bd9ce3f1bcdcd188be3774221e2be0088c6","modified":1671586035833},{"_id":"source/nodejs/index.md","hash":"f1763e0fa97b0afc310529a591d814054ded14c0","modified":1671586035833},{"_id":"source/nodejs/nodejs-note-1.md","hash":"1c43517aefbf32e5d016226ab544cd607ccb19fa","modified":1671586035833},{"_id":"source/nodejs/nodejs-note-5.md","hash":"7c4ab407345e8d2c315c23979270efcf94c6e1e7","modified":1672135326020},{"_id":"source/nodejs/nodejs-note-2.md","hash":"2251399aaebac272c59f1efa8b10a4fe02832f3b","modified":1672034002247},{"_id":"source/nodejs/nodejs-note-4.md","hash":"6641ebc712ce1bac59f69824752303112554eccb","modified":1672060506521},{"_id":"source/nodejs/nodejs-note-3.md","hash":"ecf0a16f86dfb92a8051b8a12de336700a7cc54a","modified":1672034037829},{"_id":"source/nodejs/nodejs-note-7.md","hash":"30909b4dd6759ad6f9ab6541f604d1ad49cf1d6e","modified":1671586035833},{"_id":"source/_posts/18-fake-array/document.png","hash":"c0e73c5d922eaf7f899856685f5fbd8245517fe8","modified":1669163619014},{"_id":"source/_posts/18-fake-array/prototype_call.png","hash":"166ae1ed6f21a1c4ee961508d06adae89f22c6d6","modified":1669163619016},{"_id":"source/_posts/18-fake-array/array_from.png","hash":"50733fd866277f6aa27e12e432f2511fa886855f","modified":1669163619013},{"_id":"source/_posts/18-fake-array/slice_call.png","hash":"a97bd9fef96df18bbe6097521df710bd9615090a","modified":1669163619018},{"_id":"source/_posts/24-about-design-model1/abstract-car.png","hash":"63b2384c0b130f2d40907996aeb528d2131ab01f","modified":1669163619115},{"_id":"source/_posts/24-about-design-model1/static-param.png","hash":"ec22668e0901214c3d2efadcdae0ae34f801c2ac","modified":1669163619152},{"_id":"source/_posts/24-about-design-model1/safe-model-class.png","hash":"90a874baec5df9156cf7b65d7c7754d28c82337e","modified":1669163619150},{"_id":"source/_posts/25-about-design-model2/bridge1.png","hash":"70973d153e1e628ebf1152bce98b1a68b7530784","modified":1669163619162},{"_id":"source/_posts/25-about-design-model2/bridge3.png","hash":"8358d5a031c07b8a0dbe61df13f0642bf03b7c5d","modified":1669163619165},{"_id":"source/_posts/25-about-design-model2/bridge2.png","hash":"0d4e3980c0c177ef97e690e69919f954f2292ddb","modified":1669163619163},{"_id":"source/_posts/26-about-design-model3/command-model-3.png","hash":"f8973520dfc9d241d4e418d016dbde7cf647482f","modified":1669163619195},{"_id":"source/_posts/26-about-design-model3/explain-model-2.png","hash":"13dd495c6f42e9820c60034d2e87bc917486129e","modified":1669163619209},{"_id":"source/_posts/26-about-design-model3/observer-regist.png","hash":"160d15173ed43415298e65c9b3d9a63159aacb91","modified":1669163619249},{"_id":"source/_posts/27-about-design-model4/entrust-model-2.png","hash":"71764eebae7d27ba83deff08b4d925307914e3d0","modified":1669163619302},{"_id":"source/_posts/27-about-design-model4/lazy-model-1.png","hash":"5237b5b92b4b542f593af63d48afb088237eb2ed","modified":1669163619304},{"_id":"source/_posts/27-about-design-model4/localstorage-model-1.png","hash":"d78dd470675aa3f2a42ad1ce9617ef7d89e2168a","modified":1669163619324},{"_id":"source/_posts/27-about-design-model4/participate-model-1.png","hash":"44ef46104d7428d99d7b80b7ca8e2f9059d02340","modified":1669163619343},{"_id":"source/_posts/27-about-design-model4/participate-model-2.png","hash":"04cb3a2efcc6a9a9b3cc52a11c14b75ebfa332d6","modified":1669163619345},{"_id":"source/nodejs/nodejs-note-6.md","hash":"edad9e6637dd7713f25da3a3a9ce50d1e83c158a","modified":1671586035833},{"_id":"source/_posts/27-about-design-model4/template-model-6.png","hash":"f34ff79b1d619c45ccb21c2158a4680a6617942f","modified":1669163619373},{"_id":"source/_posts/27-about-design-model4/waiter-model-3.png","hash":"b59dca3e470f10063815167bca6227f8341dbc8e","modified":1669163619404},{"_id":"source/_posts/27-about-design-model4/waiter-model-8.png","hash":"9be78a26ae2db46d9ec8d4bb36902be64991e2f9","modified":1669163619419},{"_id":"source/_posts/28-about-design-model5/async-module-model-2.png","hash":"8898b83e3301783ee9bfb43b2488f4171e86a2bc","modified":1669163619469},{"_id":"source/_posts/28-about-design-model5/async-module-model-9.png","hash":"3959c02225b63e07adce93a968ed0bb0e2e6c365","modified":1669163619484},{"_id":"source/_posts/28-about-design-model5/async-module-model-7.png","hash":"8473d1889cf3ba7e45e0b71a8dd861cc233f05c2","modified":1669163619481},{"_id":"source/_posts/28-about-design-model5/async-module-model-8.png","hash":"3a03fb902c96d787e256412ebc5a604a26aabd93","modified":1669163619482},{"_id":"source/_posts/28-about-design-model5/module-model-5.png","hash":"c866de378508cfdbfd9307dd72b719577d2a3cff","modified":1669163619497},{"_id":"source/_posts/28-about-design-model5/mvc-model-1.png","hash":"9fe4ed86ba3315ba722de0660cc6ec5770666487","modified":1669163619498},{"_id":"source/_posts/28-about-design-model5/mvc-model-4.png","hash":"03b64f2faf10dbcc8c3a32fb96b29e0b135f2f49","modified":1669163619505},{"_id":"source/_posts/28-about-design-model5/mvp-model-1.png","hash":"ff42b48b0eb5f6ac14adc79c348d093c14f164de","modified":1669163619507},{"_id":"source/_posts/28-about-design-model5/mvp-model-7.png","hash":"85c76e7e1a84df4345885b58a4495b8472da6c7c","modified":1669163619524},{"_id":"source/_posts/28-about-design-model5/mvvm-model-2.png","hash":"3cb6051a5054c50231162690a8494170b90397f4","modified":1669163619529},{"_id":"source/_posts/28-about-design-model5/widget-model-1.png","hash":"4f89287a4f8aa1122864cbc4c77f89d592a68c45","modified":1669163619547},{"_id":"source/_posts/34-data-structure2/chain-table-1.png","hash":"b4a240e43972349b743117265ca1897051389bed","modified":1669163619571},{"_id":"source/_posts/34-data-structure2/chain-table-3.png","hash":"6db25c5f058ceecae16751cea75e2a13e62a6b3d","modified":1669163619574},{"_id":"source/_posts/34-data-structure2/chain-table-4.png","hash":"04054fdc4cbdfb48b13bde3769b7ccb590e6bff9","modified":1669163619575},{"_id":"source/_posts/34-data-structure2/chain-table-2.png","hash":"ea63e231035c3929b320bb52dc63c363a1b1ff39","modified":1669163619572},{"_id":"source/_posts/35-data-structure3/lose-lose.png","hash":"55e49878d996f933010c1ac93b306b407a74019a","modified":1669163619584},{"_id":"source/_posts/35-data-structure3/linear-probing.png","hash":"0a020e8afc93027a2f5d6873414f7afbfa4b6f83","modified":1669163619582},{"_id":"source/_posts/36-data-structure4/binary-search-tree.png","hash":"ad74f8c6b96f77ca95d6b9b48cf87fda5efcfdbc","modified":1669163619593},{"_id":"source/_posts/35-data-structure3/sperate-chain.png","hash":"1c7b05c0f24bd68757a3497182c41da36cf91bbc","modified":1669163619589},{"_id":"source/_posts/36-data-structure4/factorial.png","hash":"ddfb0d84eab3db09c51a4b87376c023e35c597be","modified":1669163619594},{"_id":"source/_posts/35-data-structure3/move-key.png","hash":"ebb4944fee6e7aa9426ad27101ccaaca152e2fa2","modified":1669163619586},{"_id":"source/_posts/36-data-structure4/left-left-2.png","hash":"31829f0a81c4d517a768b0d824702e96ed38af94","modified":1669163619597},{"_id":"source/_posts/36-data-structure4/left-left-1.png","hash":"655a6a8118dd11fffc1c0bf38c1a06fd9d861fb7","modified":1669163619596},{"_id":"source/_posts/36-data-structure4/in-order-traverse.png","hash":"db6c59fc444e910a9921f50bc9e8e66964ef2849","modified":1669163619595},{"_id":"source/_posts/35-data-structure3/soft-delete.png","hash":"f8fc5195e6b92a91af6b1a283be51fea18d95ccb","modified":1669163619588},{"_id":"source/_posts/36-data-structure4/left-right-2.png","hash":"dde339c5a7c4a70be0a832190a2678237f10331d","modified":1669163619600},{"_id":"source/_posts/36-data-structure4/left-right-1.png","hash":"b0d03e54c49df4be3cdc60f9436e4ecb40a3c6b6","modified":1669163619599},{"_id":"source/_posts/36-data-structure4/pre-order-traverse.png","hash":"d93c415f7de4fd6c9d5bf3dfc7fdaf4484d6173c","modified":1669163619603},{"_id":"source/_posts/36-data-structure4/post-order-traverse.png","hash":"aee9c88702a4fa397c4146e997f7ba3504b19a3e","modified":1669163619601},{"_id":"source/_posts/36-data-structure4/red-black-2b.png","hash":"88a4290e21e993ca3a39a86a83283bc607f24b9c","modified":1669163619606},{"_id":"source/_posts/36-data-structure4/red-black-2a.png","hash":"618993219918c6d178ac4f468129647d0c0d6f72","modified":1669163619604},{"_id":"source/_posts/36-data-structure4/red-black-3b.png","hash":"e4f8a20d976abc667a94482eeeeaa0f5281c410e","modified":1669163619622},{"_id":"source/_posts/36-data-structure4/red-black-3a.png","hash":"6db63a5d31e7477b9d3a7ce036c9607db9262fb8","modified":1669163619608},{"_id":"source/_posts/36-data-structure4/remove-left-right.png","hash":"4141ff9827c5c74323d60196c96038c898c07cf6","modified":1669163619623},{"_id":"source/_posts/36-data-structure4/right-left-1.png","hash":"3d1ec645ec1def7aeb460386d421b9dc3cc684e0","modified":1669163619624},{"_id":"source/_posts/36-data-structure4/right-right-1.png","hash":"5d6258c158f22e8582f538f06c89dc86bbedfba7","modified":1669163619626},{"_id":"source/_posts/36-data-structure4/right-left-2.png","hash":"9fd153762d1b34409ac583c8dd871153f0ce5fc1","modified":1669163619625},{"_id":"source/_posts/36-data-structure4/right-right-2.png","hash":"b6a6f5a17aa73fc8daf16313e0204a05314c3c16","modified":1669163619628},{"_id":"source/_posts/36-data-structure4/tree.png","hash":"c1a3dff14361fa7bfc3f73bf7391d46c57044737","modified":1669163619630},{"_id":"source/_posts/37-data-structure5/graph-10.png","hash":"be4ed69d06ae7dcea2b875b3b0ce92922a7fd0b2","modified":1669163619635},{"_id":"source/_posts/37-data-structure5/graph-1.png","hash":"a1b2db6ab3de04b1adf413855eaa4220c96ae523","modified":1669163619632},{"_id":"source/_posts/37-data-structure5/graph-11.png","hash":"070f67f44e46097fb8750af9a315c9bca7fc6c0f","modified":1669163619637},{"_id":"source/_posts/37-data-structure5/graph-12.png","hash":"b557ac7c33f3672b559a4a1eacf84aba2fcff1cf","modified":1669163619639},{"_id":"source/_posts/37-data-structure5/graph-13.png","hash":"0ef979dea025ae063ccc8477915e14c2bada6f77","modified":1669163619640},{"_id":"source/_posts/37-data-structure5/graph-2.png","hash":"f56455b618e7b41e84fba80e91ade7ed29df91ca","modified":1669163619642},{"_id":"source/_posts/37-data-structure5/graph-3.png","hash":"4bca0b6ea37be10e8ab4b015ab1879bc9c95f98b","modified":1669163619645},{"_id":"source/_posts/37-data-structure5/graph-4.png","hash":"47bcd4a1de612d5af3bd3301602b4b6bc07b4c6a","modified":1669163619647},{"_id":"source/_posts/37-data-structure5/graph-5.png","hash":"a85fa2dffae020f8d02eebce15b1592e9b222a5e","modified":1669163619650},{"_id":"source/_posts/37-data-structure5/graph-7.png","hash":"dbd8e52679bcbf321c3a8d17006729c4af0c87ad","modified":1669163619653},{"_id":"source/_posts/37-data-structure5/graph-6.png","hash":"3781b637547025de758bec7262c50fe45bb57774","modified":1669163619652},{"_id":"source/_posts/37-data-structure5/graph-8.png","hash":"93de61e5c29df7b193e41f2595521446bc81226d","modified":1669163619655},{"_id":"source/_posts/15-js-transform/js-transform.html","hash":"f4f8d85e5386d9b251c24aea038d4c57c88ede50","modified":1669163619007},{"_id":"source/_posts/37-data-structure5/heat.png","hash":"a37ac1abfbbf1bd9742deec30a783d0f90e49657","modified":1669163619663},{"_id":"source/_posts/37-data-structure5/min-heat.png","hash":"c2c5f8cc68ba6cf3d89bebb94c0a7a7d22c1e5a0","modified":1669163619666},{"_id":"source/_posts/38-data-structure6/search-1.png","hash":"a844a9c7aabbe1a2fc3c7151e88a35f494e9d09b","modified":1669163619671},{"_id":"source/_posts/38-data-structure6/search-3.png","hash":"719072030a73de7c3054974d55b626d221894218","modified":1669163619673},{"_id":"source/_posts/38-data-structure6/search-2.png","hash":"3626ed24aaf5d1563eb1daa3a4f8d5136150bb83","modified":1669163619672},{"_id":"source/_posts/38-data-structure6/search-4.png","hash":"ecf4e1f8dd0fdf38b91d89de529f09da6eb88dd8","modified":1669163619674},{"_id":"source/_posts/38-data-structure6/sort-10.png","hash":"cbb2fbde7d06aae552356dd7e4c65274d322f0fe","modified":1669163619677},{"_id":"source/_posts/38-data-structure6/sort-1.png","hash":"97f90c860ce1d2669135aa5a7a474aeb7a799ad6","modified":1669163619675},{"_id":"source/_posts/38-data-structure6/sort-12.png","hash":"a8fdcaca8fd646997a58eca48c76809cb25c7571","modified":1669163619681},{"_id":"source/_posts/38-data-structure6/sort-11.png","hash":"067113a10d14e5524fe4e7972c61d1b077811134","modified":1669163619680},{"_id":"source/_posts/38-data-structure6/sort-2.png","hash":"a63daadd4590ed6b4ad7519bd1a14ae4be364a64","modified":1669163619683},{"_id":"source/_posts/38-data-structure6/sort-4.png","hash":"273c67388337e6e5eeb6c6e3486e5047d8d02321","modified":1669163619686},{"_id":"source/_posts/38-data-structure6/sort-5.png","hash":"05867cc82ce12a1a2b6c92d0d37e2155df04d0a5","modified":1669163619689},{"_id":"source/_posts/38-data-structure6/sort-3.png","hash":"913bb3906ff437f6dfe6a773b852918b7a49ae0d","modified":1669163619685},{"_id":"source/_posts/38-data-structure6/sort-8.png","hash":"f62f618f88c3715fa98532f136e36afea5153b3b","modified":1669163619694},{"_id":"source/_posts/38-data-structure6/sort-9.png","hash":"b1a616076a59411ae21537a155e8f12e198c78b0","modified":1669163619696},{"_id":"source/_posts/38-data-structure6/sort-7.png","hash":"681be89ab6425489c526125d890ae38ef8ee1435","modified":1669163619692},{"_id":"source/_posts/39-data-structure7/big-o-1.png","hash":"bfc4e8cd9822858a4f5afd7ea21ac69ae391248f","modified":1669163619701},{"_id":"source/_posts/38-data-structure6/sort-6.png","hash":"c4802ae6c84bee330fec94ddd888543a590ec692","modified":1669163619691},{"_id":"source/_posts/39-data-structure7/big-o-2.png","hash":"5abf1a71a4b31ade53b60d5d6edf850266d502e2","modified":1669163619702},{"_id":"source/_posts/39-data-structure7/big-o-3.png","hash":"b7140be66eb3272f0dd9c183b48cfb8555cb4511","modified":1669163619703},{"_id":"source/_posts/39-data-structure7/big-o-4.png","hash":"75fd12b92a8ef511524bb5306c73fb63346d586d","modified":1669163619704},{"_id":"source/_posts/39-data-structure7/big-o-6.png","hash":"443cef5a2ff290edd7a7b9f9c3e4580e9d8375b3","modified":1669163619707},{"_id":"source/_posts/39-data-structure7/big-o-5.png","hash":"0e81454c15a22289ae8fd29e9ba356f9058ca226","modified":1669163619706},{"_id":"source/_posts/39-data-structure7/technology-1.png","hash":"25d324e43b4ae5d4921a2fa9bf40479a54ba55d2","modified":1669163619709},{"_id":"source/_posts/39-data-structure7/technology-2.png","hash":"00436e4649e1f7cdeecb39e78e1cece84a8c0591","modified":1669163619711},{"_id":"source/_posts/39-data-structure7/technology-5.png","hash":"61dc4bb992375a4f2d5c5b5afdb594877f58510a","modified":1669163619714},{"_id":"source/_posts/39-data-structure7/technology-4.png","hash":"956d458c4792a6a56ad0f9292f3e7773bafca1d1","modified":1669163619713},{"_id":"source/_posts/39-data-structure7/technology-3.png","hash":"fe308b75c03e0efc9bc24154073ae4a31c1fc73f","modified":1669163619712},{"_id":"source/_posts/40-tail-call/call-stack.png","hash":"9ceba234d31d636baca2b4f2af1384b6b25d4a4a","modified":1669163619728},{"_id":"source/_posts/6-vue3-render/render.png","hash":"0b20ebf2700ccd675e40f6330e07dce8341807a0","modified":1669163619744},{"_id":"source/nodejs/images/async-call.png","hash":"cf73b4e1fa6ef2c5eb1d6813c73ed2abe6bb5989","modified":1669163619767},{"_id":"source/nodejs/images/async-progress.png","hash":"5e6ef5a50ac929df8694a62ec96202048c4bb18b","modified":1671586035833},{"_id":"source/nodejs/images/async-experience.png","hash":"c7c903136156205117f819ae03a5ce81204c23b9","modified":1671586035833},{"_id":"source/nodejs/images/buffer-1.png","hash":"2ddb6050f0ebac6bb733b8d50f9abdb71bb21563","modified":1671714099555},{"_id":"source/nodejs/images/bigpipe.png","hash":"dc9b44b4ed5e79203f2690bd2e87ee7aefac6b23","modified":1672057367022},{"_id":"source/nodejs/images/buffer-2.png","hash":"3fc41fcc7896fe6af165cbdb5f4048770c915b9e","modified":1671714115300},{"_id":"source/nodejs/images/buffer-3.png","hash":"586ecdade8a0bd9f926e4a9e4c8f9b328517719d","modified":1671714128820},{"_id":"source/nodejs/images/ca-1.png","hash":"89317164d8d399085df7d23a37d737c26a2c5a30","modified":1672022995869},{"_id":"source/nodejs/images/ca.png","hash":"81f692dee7584b2c9d6e7ad0360b4461953c40d9","modified":1672022621640},{"_id":"source/nodejs/images/buffer.png","hash":"0c585b0181968674a65b89c42f8c31421af99dc6","modified":1671713616448},{"_id":"source/nodejs/images/cache.png","hash":"1ac69103427a3c1a8b0022af1620a927362c3385","modified":1672049649678},{"_id":"source/nodejs/images/collect-diff.png","hash":"d69687d4300e224c23ef3169a9c6e4f3db396fc3","modified":1671609321918},{"_id":"source/nodejs/images/commonjs-node-relation.png","hash":"5cc6679d9fe66c78a61dbacd4e94f3f11fd848d2","modified":1669163619768},{"_id":"source/nodejs/images/cross-platform.png","hash":"2c1a28975ade0c9f106e3716dcaf24c877e0773d","modified":1669163619769},{"_id":"source/nodejs/images/epoll-loop.png","hash":"bc7af5054040babc3f1af3b688d8764760f7bfb3","modified":1671586035833},{"_id":"source/nodejs/images/fork.png","hash":"d3796212324ee8f24e8405d54ec6ad8e57b49bf8","modified":1672058406769},{"_id":"source/nodejs/images/defer-promise.png","hash":"6b8484c9a5882e75524b0944be43b010c22e1d5c","modified":1671589580395},{"_id":"source/nodejs/images/how-to-call-async.png","hash":"39ac29400db5abed7d02b2b3e3397cc761006271","modified":1671586035833},{"_id":"source/nodejs/images/http.png","hash":"335a31f82a46e1bf32a09cdd9f51a17aaf827a14","modified":1671756827129},{"_id":"source/nodejs/images/increase-target.png","hash":"55ed1f32bfd6360265eb8b16ce0f0ed2c21c514c","modified":1671609598248},{"_id":"source/nodejs/images/jam.png","hash":"638a73d978e27ade2b7e8e0ac66d340caa63453d","modified":1671586035833},{"_id":"source/nodejs/images/loop.png","hash":"a1b9e75136f79dcccdafc48d6f30606b8664a9f4","modified":1672060019229},{"_id":"source/nodejs/images/loop-1.png","hash":"7dd0d30cf11ca3d1851d68d9c04b186d0b97aa23","modified":1672060111684},{"_id":"source/nodejs/images/mvc.png","hash":"f86ed56705edc5f57ab24298801afe09cd4badc6","modified":1672055933068},{"_id":"source/nodejs/images/middle.png","hash":"e68b0513b166f049e4f0d72b91e1d5c2c8338747","modified":1672056421325},{"_id":"source/nodejs/images/net-1.png","hash":"4f9169ff8774a785573375b0eae0bf611d918376","modified":1671715595753},{"_id":"source/nodejs/images/net-2.png","hash":"1b28b0d5d2ac3d95c136285f9be2d83ba2ba7bdb","modified":1671715646693},{"_id":"source/nodejs/images/net-3.png","hash":"8af8561052ec1608a0773304cf04af4234557052","modified":1671717571408},{"_id":"source/nodejs/images/master-slave.png","hash":"4f45a0cadfd5ab7633103418fcf49bcc018da4d2","modified":1672058171852},{"_id":"source/nodejs/images/net-4.png","hash":"81f06ad4be9d956662e629238db1590287228ce7","modified":1671717600299},{"_id":"source/nodejs/images/node-modules.png","hash":"e5835f2da7cca29d0eb1676c7b081c7122a52528","modified":1671586035833},{"_id":"source/nodejs/images/no-jam.png","hash":"5d4728cbaa1c2f7e680f6f3a12202ec94347211c","modified":1671586035833},{"_id":"source/nodejs/images/node-require.png","hash":"9e2fd7eee0b6bdf918b4fb34544beb7424702ab8","modified":1671586035833},{"_id":"source/nodejs/images/nvm-setting.png","hash":"742427d031db38180aebc79883d7fe7f2b5082dd","modified":1671586035833},{"_id":"source/nodejs/images/nvm-setting-content.png","hash":"8d0ebc40648adcebe40cc663caab2cee4b8f6436","modified":1671586035833},{"_id":"source/nodejs/images/package.png","hash":"dccf0cad2808e81718b9efe11c884aa24fe6b73d","modified":1671586035833},{"_id":"source/nodejs/images/pipe-1.png","hash":"7385963b2e8c0359641f3f3ccf316dbcb60b32f8","modified":1672058649473},{"_id":"source/nodejs/images/pipe-2.png","hash":"7bda2919687448a1c427e768f6474271782ef1fa","modified":1672058926376},{"_id":"source/nodejs/images/pipe.png","hash":"e92d4834ee1fc339f8d36a745950a10d7633955a","modified":1672058587269},{"_id":"source/nodejs/images/pipe-4.png","hash":"ce3c89fb6762678626193ff9fc6aaa9227de6660","modified":1672059118325},{"_id":"source/nodejs/images/pipe-3.png","hash":"38b94af4d0d88bef05b17d1233bf2e3b3623b25e","modified":1672058960688},{"_id":"source/nodejs/images/poll-loop.png","hash":"8d0bfc2b615eb460d6ab8be0837e523af238c8f0","modified":1671586035833},{"_id":"source/nodejs/images/product.png","hash":"47cef8cf353b57b3a18c013ea8b6bed0a8e617cf","modified":1672129209893},{"_id":"source/nodejs/images/select-loop.png","hash":"bba3437eb7794c0fe3abb77fb37ac8897bf19bb5","modified":1671586035833},{"_id":"source/nodejs/images/read-loop.png","hash":"8656ba0172108ecb0a251139cbe0a8df61873b40","modified":1671586035833},{"_id":"source/nodejs/images/product-1.png","hash":"a127d5caca21588163ce2a98490b4f677aeb78c6","modified":1672135237786},{"_id":"source/nodejs/images/settimeout.png","hash":"55f051726fe3210ac5ad039ce469da805b5c45de","modified":1671588116067},{"_id":"source/nodejs/images/test-1.png","hash":"0bac06c06b58a4a61acd1a6c17971046d56c1d82","modified":1672105716765},{"_id":"source/nodejs/images/test-2.png","hash":"e613d096c62a0d27f72b8b50224e5b5fafafc3e9","modified":1672120861131},{"_id":"source/nodejs/images/tail-trigger.png","hash":"052e9473880c882918ae9b763b9fa6f808bccdf1","modified":1671590882693},{"_id":"source/nodejs/images/sweep-compact.png","hash":"5af9bde21db63d1483a807be5b0f6cde77ef5cda","modified":1671609250480},{"_id":"source/nodejs/images/test.png","hash":"840cda90b44467e3648decdf62f1d146f1261538","modified":1672105578266},{"_id":"source/nodejs/images/v8-promot.png","hash":"28d3849e4e768a3ae7954bae653b55ce6e9a7bb5","modified":1671607409121},{"_id":"source/nodejs/images/v8-promot2.png","hash":"4fe47a4a361987c7928001641f8b092af4f5764a","modified":1671607499764},{"_id":"source/nodejs/images/tls-ssl.png","hash":"e7011243d619ef7b1f2489146744a741d80e027d","modified":1671764371997},{"_id":"source/nodejs/images/websocket.png","hash":"907dcc1e99f2e6d20f1133508ff3b84e1985e065","modified":1671758093200},{"_id":"source/nodejs/images/websocket-1.png","hash":"a6e3598d6c9cdef36c1930c9e7535c3a76b1dcc9","modified":1671758635044},{"_id":"source/_posts/23-about-design-model/how-to-inherit.png","hash":"2610b10429de1454b684733ede30778da89da750","modified":1669163619058},{"_id":"source/_posts/23-about-design-model/parasitic-inherit.png","hash":"dcde79d7db360d5f56bf441be778908d3056f693","modified":1669163619080},{"_id":"source/_posts/23-about-design-model/prototype.png","hash":"fe3518ce58c5945b8f5db473d69be75f67a98b0a","modified":1669163619086},{"_id":"source/_posts/23-about-design-model/prototype-inherit.png","hash":"a5f0085a3caf9e0519fe3cb26129dd144cfc7594","modified":1669163619082},{"_id":"source/_posts/23-about-design-model/public-and-private.png","hash":"275fce752eaeadf6eee22e10bf14451ed9eb675c","modified":1669163619089},{"_id":"source/_posts/23-about-design-model/static-and-public.png","hash":"aef2330dce27ebc420b7654abdf1859266ec48a4","modified":1669163619107},{"_id":"source/_posts/23-about-design-model/simple-factory2.png","hash":"e8d75951fa119c24b2c188eb639f16a32bf70928","modified":1669163619104},{"_id":"source/_posts/24-about-design-model1/abstract-factory2.png","hash":"a1a8a6b4b0c2aa47bbc543add6b6a675670b41ce","modified":1669163619120},{"_id":"source/_posts/24-about-design-model1/human.png","hash":"f78b9964ce7223cc99122c99667673d9242df348","modified":1669163619125},{"_id":"source/_posts/24-about-design-model1/lazy-single-instance.png","hash":"4bbd91090a4364cc48ec5cf388ae29f1f3626b8a","modified":1669163619128},{"_id":"source/_posts/24-about-design-model1/name.png","hash":"d46e84150e7fdea9eb17d8ad0624e7eb79654ace","modified":1669163619130},{"_id":"source/_posts/24-about-design-model1/person.png","hash":"12e19fccdb8ee0dea2ec9e55c4f55125a536b76e","modified":1669163619134},{"_id":"source/_posts/24-about-design-model1/prototype-inherit2.png","hash":"cd61b59785ea6144fabce855bd363ff7906468a9","modified":1669163619139},{"_id":"source/_posts/25-about-design-model2/out-look.png","hash":"d9f11180b44ccded8da8ecba5593bdd6ebd58eb4","modified":1669163619170},{"_id":"source/_posts/25-about-design-model2/station-culculate.png","hash":"26cda447bac04b0260f0ec11ca1dcb836f93855a","modified":1669163619172},{"_id":"source/_posts/25-about-design-model2/decorator.png","hash":"a0fdfe4dc2b74b52a33fd13ed7e1b3c1fba8480e","modified":1669163619168},{"_id":"source/_posts/26-about-design-model3/add-message.png","hash":"03712141c27e51d24f4361c6c48a609b366f5692","modified":1669163619177},{"_id":"source/_posts/26-about-design-model3/marry-state1.png","hash":"2f5c004568231ff2a14ab499c91aabd48c302f28","modified":1669163619238},{"_id":"source/_posts/26-about-design-model3/observer-fire.png","hash":"0204e744bdcb2480cae91e03d4e79c26913cf85a","modified":1669163619247},{"_id":"source/_posts/26-about-design-model3/observer-remove.png","hash":"e0e97122604f5eaa716042ffd19d7e6fc4d9535f","modified":1669163619252},{"_id":"source/_posts/26-about-design-model3/observer.png","hash":"05738a02cd73736025351c0e9e3fc0d0de27158f","modified":1669163619254},{"_id":"source/_posts/26-about-design-model3/regist-change-num.png","hash":"3aa9791db11e1985c21e29959201f022a0f98a88","modified":1669163619261},{"_id":"source/_posts/27-about-design-model4/chain-model-2.png","hash":"8a59f234053c9a85a94f74273fafed9051ec578d","modified":1669163619286},{"_id":"source/_posts/27-about-design-model4/chain-model-1.png","hash":"ac13400dfce89f26fe4bcadca5c2a1f4994083ca","modified":1669163619283},{"_id":"source/_posts/27-about-design-model4/chain-model-4.png","hash":"33fa9dc7cb773d0e519dcb4a4a5869aa78234950","modified":1669163619292},{"_id":"source/_posts/27-about-design-model4/entrust-model-1.png","hash":"900a7cc246a17adae923b5e0b87d5b8b8d255674","modified":1669163619301},{"_id":"source/_posts/27-about-design-model4/lazy-model-2.png","hash":"29a6f621b06f9283d3caff7d3c63f7c711095978","modified":1669163619306},{"_id":"source/_posts/27-about-design-model4/lazy-model-3.png","hash":"7cf3eba1156eb71177fee16c281edfd2f7d3d0e0","modified":1669163619309},{"_id":"source/_posts/27-about-design-model4/lazy-model-5.png","hash":"ce1428d6b73612a3290d3cbd0efa607829fdb233","modified":1669163619320},{"_id":"source/_posts/27-about-design-model4/lazy-model-6.png","hash":"bb1487d2e1e38d3c2ea4cb6dcc310f0025664444","modified":1669163619322},{"_id":"source/_posts/27-about-design-model4/participate-model-3.png","hash":"257320d7e940dcef49305ea8d1642621bfbf3ff1","modified":1669163619348},{"_id":"source/_posts/27-about-design-model4/participate-model-4.png","hash":"5f13e728cfa8cf2eabd3925f1a0798bc905d267b","modified":1669163619350},{"_id":"source/_posts/27-about-design-model4/participate-model-5.png","hash":"9694840f32c90094e37228de41fc2cfdf4f66388","modified":1669163619353},{"_id":"source/_posts/27-about-design-model4/template-model-3.png","hash":"3a24763c6d9e280dd6c26d966da99ceb0d658ec5","modified":1669163619366},{"_id":"source/_posts/27-about-design-model4/template-model-1.png","hash":"41e2537938230a77a4072987778016031fe92291","modified":1669163619360},{"_id":"source/_posts/27-about-design-model4/template-model-4.png","hash":"b301423b25f6447a52369e96a6f0d1c3b93da6c5","modified":1669163619368},{"_id":"source/_posts/27-about-design-model4/waiter-model-4.png","hash":"ad67d02d972353793d59f1ca5f1191fb9a220e52","modified":1669163619406},{"_id":"source/_posts/27-about-design-model4/waiter-model-5.png","hash":"30412937d3a27e5d8bf1db0d87fce38a8d59839e","modified":1669163619409},{"_id":"source/_posts/27-about-design-model4/waiter-model-6.png","hash":"007198e00695be520e246815152687e250bf4941","modified":1669163619411},{"_id":"source/_posts/27-about-design-model4/waiter-model-7.png","hash":"0eefaa7468c3726aecd02980b1c10574a1d06c40","modified":1669163619416},{"_id":"source/_posts/28-about-design-model5/async-module-model-5.png","hash":"436f66ba99f8bd7400ad91b3d857d255f6f3034c","modified":1669163619476},{"_id":"source/_posts/28-about-design-model5/async-module-model-4.png","hash":"731b4ee9c777c9d9bd6664bf674e1abf1f48af65","modified":1669163619474},{"_id":"source/_posts/28-about-design-model5/module-model-2.png","hash":"a22fb6b41b50875766d5382664361095fca59051","modified":1669163619490},{"_id":"source/_posts/28-about-design-model5/module-model-3.png","hash":"aa42c569b2a73fae726d6518fda8a48a325c5a3f","modified":1669163619491},{"_id":"source/_posts/28-about-design-model5/mvc-model-3.png","hash":"28fd4de773e1352941b4b0773858520ec4e21039","modified":1669163619504},{"_id":"source/_posts/28-about-design-model5/mvp-model-4.png","hash":"59ab08a2d276eb142c4789000d2c484aaaeb4890","modified":1669163619517},{"_id":"source/_posts/28-about-design-model5/mvvm-model-3.png","hash":"b4f73f397dcb296b03350b04390a8f2cdc0906d4","modified":1669163619531},{"_id":"source/_posts/28-about-design-model5/mvvm-model-7.png","hash":"4d8187320d10b1bb36a49169575baf54fe7e7a71","modified":1669163619543},{"_id":"source/_posts/28-about-design-model5/widget-model-5.png","hash":"5ff7151981d6c83fa8a45556de7e17f4e527c093","modified":1669163619556},{"_id":"source/_posts/28-about-design-model5/widget-model-4.png","hash":"7c2ca9c608b6829fa768590455a8785c9ff13781","modified":1669163619554},{"_id":"source/_posts/37-data-structure5/min-heat-pic.png","hash":"6d8794be490f9dd7f0664813070eea6169c49181","modified":1669163619666},{"_id":"source/_posts/37-data-structure5/heap-sort.png","hash":"a344a2264bed09372c160b691a6e0a581bea3bd6","modified":1669163619660},{"_id":"source/_posts/5-react-render/update_class.png","hash":"5854028928496a0b6c4ad02452cd07c12650f8e8","modified":1669163619741},{"_id":"source/_posts/5-react-render/force_update.png","hash":"f0333239066cd2e4a8cdf12bff8fcdfcc01a7616","modified":1669163619739},{"_id":"source/_posts/6-vue3-render/render_node1.png","hash":"4a4266c87a315afeb55de174b11784431f3c40b9","modified":1669163619750},{"_id":"source/_posts/6-vue3-render/render_node2.png","hash":"bd8cbab05ce653b80a1cc89e609b7ae9c309b7fe","modified":1669163619752},{"_id":"source/nodejs/images/nvm-download.png","hash":"1fddd6469f02c83d3c54603c3f43a72224565a29","modified":1671586035833},{"_id":"source/nodejs/images/nvm-install.png","hash":"347c3fe9e8ac21a112d1eba02b594b5f5b2af672","modified":1671586035833},{"_id":"source/_posts/15-js-transform/convert-table.png","hash":"fdffd1b86ddacb402a9a3a423cffd91fcc229fce","modified":1669163619006},{"_id":"source/_posts/23-about-design-model/class-inherit.png","hash":"7316cf53af5ae3d11eb708f911ddc2b9fbf35027","modified":1669163619031},{"_id":"source/_posts/23-about-design-model/create-pop.png","hash":"43feb1eed0b060643140cfa80c073e12729b47af","modified":1669163619053},{"_id":"source/_posts/23-about-design-model/multiple-inherit.png","hash":"3370f1d5c3f1c73449ddc04e438559b4a0925ad0","modified":1669163619063},{"_id":"source/_posts/23-about-design-model/parasitic-combination-inherit.png","hash":"5b7c9be2d070fe04cd77d8923eaa4e1585ad9e02","modified":1669163619073},{"_id":"source/_posts/23-about-design-model/parasitic-inherit-change.png","hash":"0b683e58266a2816c17a932a910be6ce1bdbbf1e","modified":1669163619077},{"_id":"source/_posts/24-about-design-model1/abstract-factory1.png","hash":"27096d5d5c2a949d2b5a0b8b4483cd0955007a30","modified":1669163619118},{"_id":"source/_posts/24-about-design-model1/abstract-factory3.png","hash":"565cc1a91ec9f7f4113759d8ee84d9e7e5765dec","modified":1669163619123},{"_id":"source/_posts/24-about-design-model1/prototype-inherit1.png","hash":"3d8d602b70b2a85f84ccb77667bfdf58688ef1e6","modified":1669163619137},{"_id":"source/_posts/24-about-design-model1/safe-factory-model.png","hash":"1d4838406d573590c135cb651e98e970dd03d761","modified":1669163619148},{"_id":"source/_posts/26-about-design-model3/command-model-2.png","hash":"394963fe76e75b6ff152d0bc64eb440812f181e4","modified":1669163619193},{"_id":"source/_posts/26-about-design-model3/create-component.png","hash":"313f9c4b04afdb3c0bbb24d02394ff7ed7f7afa9","modified":1669163619199},{"_id":"source/_posts/26-about-design-model3/deal-data.png","hash":"229c21fa8cd0891d9cf137520e2756088d805b32","modified":1669163619204},{"_id":"source/_posts/26-about-design-model3/marry-state.png","hash":"9d3b9fd7f74062d32194ddee1084db94ab8f2f5e","modified":1669163619236},{"_id":"source/_posts/26-about-design-model3/send-data.png","hash":"f2dd937ad9d5dbd6373c78b766b0ca7d18689bb8","modified":1669163619269},{"_id":"source/_posts/26-about-design-model3/vote-status.png","hash":"ce2f7e1b2250efafac59e7e0a6c69a8f2f57e1fb","modified":1669163619277},{"_id":"source/_posts/27-about-design-model4/chain-model-5.png","hash":"6c1d9aaa8a2f5c8a33e827428f33df74156af591","modified":1669163619294},{"_id":"source/_posts/27-about-design-model4/chain-model-6.png","hash":"0a2af8c6826567da8695e8010d13bf7101a75d0a","modified":1669163619298},{"_id":"source/_posts/27-about-design-model4/lazy-model-4.png","hash":"d2cec3917cabaf4da67a6ac877730c32d27d6b82","modified":1669163619317},{"_id":"source/_posts/27-about-design-model4/localstorage-model-2.png","hash":"b130a85fa7ca8cc738c636091e35ce86095e4da4","modified":1669163619326},{"_id":"source/_posts/27-about-design-model4/localstorage-model-4.png","hash":"c7d8b6cd9bc0093ceaaa9a731d6b721dabf0c2e2","modified":1669163619334},{"_id":"source/_posts/27-about-design-model4/template-model-2.png","hash":"f0f1cf1e6328ed7dd2da13e3ef19f0ba3090d50b","modified":1669163619363},{"_id":"source/_posts/27-about-design-model4/template-model-5.png","hash":"a615f27465cba32bd7ef16f4aa2d229123c6cd04","modified":1669163619370},{"_id":"source/_posts/27-about-design-model4/throttle-model-3.png","hash":"9ba30093c88bda5cdf0b74397078c98615ab14e8","modified":1669163619391},{"_id":"source/_posts/27-about-design-model4/throttle-model-2.png","hash":"4d06f2204e6a312ad534b08e4aa3a0cc199b0fe4","modified":1669163619385},{"_id":"source/_posts/27-about-design-model4/waiter-model-1.png","hash":"4ecd76529d5af3bab1200944f956550c438d7e4c","modified":1669163619398},{"_id":"source/_posts/27-about-design-model4/waiter-model-2.png","hash":"115d73933b2c9e3b333f0173a9c67b40b82b360e","modified":1669163619402},{"_id":"source/_posts/28-about-design-model5/appendix-1.png","hash":"63d1fb2d7060dc8e20879b271cfc0fae5ba53ce5","modified":1669163619426},{"_id":"source/_posts/28-about-design-model5/appendix-10.png","hash":"47f4c469384a2ae6ee68920c9c9d056323bc6964","modified":1669163619430},{"_id":"source/_posts/28-about-design-model5/async-module-model-3.png","hash":"955761aa1d41f38f58070239091ec7ef56eab433","modified":1669163619472},{"_id":"source/_posts/28-about-design-model5/async-module-model-6.png","hash":"c0234e34b71f60317c8532f9b4332297ddbfc3b2","modified":1669163619479},{"_id":"source/_posts/28-about-design-model5/mvp-model-2.png","hash":"a05c2d67784dc8a0c9dadb55ff4cb313ff0a4581","modified":1669163619510},{"_id":"source/_posts/28-about-design-model5/mvp-model-5.png","hash":"b38b48df97224ac10c391b5231c27b5ff9439d15","modified":1669163619520},{"_id":"source/_posts/28-about-design-model5/mvp-model-6.png","hash":"b678a14aa7203ed211d9b03cc517629296d39ccb","modified":1669163619523},{"_id":"source/_posts/28-about-design-model5/mvvm-model-1.png","hash":"dec3d9b3d1b759d8ab97b596942a57870ea5e899","modified":1669163619527},{"_id":"source/_posts/28-about-design-model5/mvvm-model-5.png","hash":"f5b38278a65c50724df598782714d46b16198ddb","modified":1669163619537},{"_id":"source/_posts/28-about-design-model5/mvvm-model-8.png","hash":"ae0f8837c7bf0b7cebcf1b643602ef1b7c91d9b0","modified":1669163619545},{"_id":"source/_posts/28-about-design-model5/widget-model-2.png","hash":"d5b2a749b270b467d4e5ca0442f079ad0d68c0ad","modified":1669163619549},{"_id":"source/_posts/28-about-design-model5/widget-model-3.png","hash":"8caaa1350394bb4924a26779474bd8ffdedfd1a3","modified":1669163619552},{"_id":"source/_posts/28-about-design-model5/widget-model-6.png","hash":"17625b96826cacb789210181082942b9d92c9685","modified":1669163619558},{"_id":"source/_posts/37-data-structure5/graph-9.png","hash":"3e0a9c9a2cb3f8145448b3dab7b9066c53f468d2","modified":1669163619657},{"_id":"source/_posts/4-brower-render/network.png","hash":"bb36a90979d2b630aa4c09b7187c9e4ca300f3d4","modified":1669163619721},{"_id":"source/_posts/4-brower-render/performance.png","hash":"c54be1dc0abe417046e5abd2a9ac3bbfc89bb98e","modified":1669163619724},{"_id":"source/_posts/4-brower-render/hover.png","hash":"310534f76efad7820e4f9527f39b9232feb717da","modified":1669163619719},{"_id":"source/_posts/5-react-render/fiber_tree.png","hash":"947d11b845e1abb74cbb2d4e135767a377692041","modified":1669163619736},{"_id":"source/_posts/6-vue3-render/render_function.png","hash":"ab09e61382c872069a70212525d4333d6ba8cd19","modified":1669163619748},{"_id":"source/_posts/23-about-design-model/multiple-status.png","hash":"99f1acc2445ec0c692d48660ddbd71b510f1284b","modified":1669163619068},{"_id":"source/_posts/23-about-design-model/simple-factory1.png","hash":"7a9ab5660cbd92e1e0f851985402404fb0f49814","modified":1669163619102},{"_id":"source/_posts/23-about-design-model/safe-model.png","hash":"8ddf098b287fc1582ef3c57f6641b8cdfe529ee0","modified":1669163619096},{"_id":"source/_posts/23-about-design-model/test-prototype-inherit.png","hash":"ffe8e406495b76ed7e8fa5fa95247335f0842bd8","modified":1669163619112},{"_id":"source/_posts/24-about-design-model1/work.png","hash":"85878cbf259712eba4a4d960bef9fc8f72361f7d","modified":1669163619157},{"_id":"source/_posts/26-about-design-model3/basic-model.png","hash":"d11299e00239d8eee68fa84742cf934d7b2b7455","modified":1669163619181},{"_id":"source/_posts/26-about-design-model3/cache-model.png","hash":"849dac393027d49c7932b80aeacdeb6dc665ad8d","modified":1669163619186},{"_id":"source/_posts/26-about-design-model3/command-model-1.png","hash":"e8f27f13a8b8964e1f98cf90c9d11336745ce4cd","modified":1669163619190},{"_id":"source/_posts/26-about-design-model3/explain-model-1.png","hash":"b41f3ee9472b65e45fd3699586fe343b90801e1c","modified":1669163619207},{"_id":"source/_posts/26-about-design-model3/inherit-as-basic-model.png","hash":"04bcb6c49805f61c210a276673688925342a97a2","modified":1669163619219},{"_id":"source/_posts/26-about-design-model3/explain-model-3.png","hash":"7090631280b778e1a081cf14ee1aef4eaddf2724","modified":1669163619213},{"_id":"source/_posts/26-about-design-model3/inherit-model.png","hash":"c458570cfbf5cb544f160dbf7f5ea2688eb54cfe","modified":1669163619224},{"_id":"source/_posts/26-about-design-model3/mediator-model.png","hash":"037a378a4fd6a9b68621c714239390a175768283","modified":1669163619245},{"_id":"source/_posts/26-about-design-model3/price-strategy.png","hash":"8c9b4bc9e46d85dbd5ff1db682f35d7727ac2d24","modified":1669163619258},{"_id":"source/_posts/26-about-design-model3/regist-message.png","hash":"94993ad78c5391eb4cc60f851d1bf5de794d680a","modified":1669163619265},{"_id":"source/_posts/26-about-design-model3/visitor-model.png","hash":"b47054fdf9198975a39ebfc6b4ea46cb988dc080","modified":1669163619274},{"_id":"source/_posts/27-about-design-model4/chain-model-3.png","hash":"de232baf72880e1c2bfca1e52ca3dece90b30922","modified":1669163619290},{"_id":"source/_posts/27-about-design-model4/localstorage-model-3.png","hash":"0dd09a8620412a0a10e0749a2eae5b990e14131f","modified":1669163619331},{"_id":"source/_posts/27-about-design-model4/localstorage-model-5.png","hash":"f60b1b8098b39c8d16bef6ce21e93f80eed6a06d","modified":1669163619338},{"_id":"source/_posts/27-about-design-model4/localstorage-model-6.png","hash":"af1bc9d6bd7aa6c6582b3b498aaace38b3beb7d0","modified":1669163619341},{"_id":"source/_posts/27-about-design-model4/participate-model-6.png","hash":"a27676bb25d07081323b4801ff167a2f9c830583","modified":1669163619358},{"_id":"source/_posts/27-about-design-model4/throttle-model-1.png","hash":"efe9c32037c01c30eef7c906b1477675a4b22296","modified":1669163619379},{"_id":"source/_posts/28-about-design-model5/appendix-2.png","hash":"c793bb154006138580dfe636e8e96f48af31c136","modified":1669163619436},{"_id":"source/_posts/28-about-design-model5/appendix-3.png","hash":"972a431f1b9f113e9c28acd09c21965abf3ae776","modified":1669163619440},{"_id":"source/_posts/28-about-design-model5/appendix-5.png","hash":"7d00695f69933f1493a5b215459372aa8922aa90","modified":1669163619448},{"_id":"source/_posts/28-about-design-model5/appendix-4.png","hash":"0caa8c2b2efef085bf73708c696b163b27cf4acd","modified":1669163619443},{"_id":"source/_posts/28-about-design-model5/appendix-6.png","hash":"ebaf47a4d6e618ed357e3ef105bf1a78aac86dcd","modified":1669163619451},{"_id":"source/_posts/28-about-design-model5/appendix-7.png","hash":"c12235fa4218a1f12d5f04de3c292d9d8a1cc606","modified":1669163619454},{"_id":"source/_posts/28-about-design-model5/appendix-8.png","hash":"acc5e67aafb4ec4d3a10ca9507832f965d05bb86","modified":1669163619458},{"_id":"source/_posts/28-about-design-model5/appendix-9.png","hash":"5128c7e89b6784e2e75e7f74154a3a2a36859a4a","modified":1669163619462},{"_id":"source/_posts/28-about-design-model5/module-model-4.png","hash":"0591ff679bd8b40d96b399c2df5db22e5d6857f1","modified":1669163619495},{"_id":"source/_posts/28-about-design-model5/mvc-model-2.png","hash":"2ad2eeb884aac27d63ceb815d119f4bdab3b28bf","modified":1669163619502},{"_id":"source/_posts/28-about-design-model5/mvvm-model-4.png","hash":"362b306d44bd195ca4adee181dabcbbb524da1ac","modified":1669163619534},{"_id":"source/_posts/28-about-design-model5/mvvm-model-6.png","hash":"7d62d18ec951b6be1b53157c9380618cb8f65cc2","modified":1669163619540},{"_id":"source/_posts/23-about-design-model/combination-inherit.png","hash":"51a2c5f4775a37e5f2a21ab257749912178476c3","modified":1669163619038},{"_id":"source/_posts/24-about-design-model1/prototype-model.png","hash":"7e1b5e0841203ae571b20c1c21fc40fb6589f946","modified":1669163619143},{"_id":"source/_posts/26-about-design-model3/iterator-model.png","hash":"b372e782497790afdac5ef90a53eb4ecd88bc18f","modified":1669163619232},{"_id":"source/_posts/28-about-design-model5/async-module-model-1.png","hash":"f465cd97d9c16ecea67b0d0f8ee7d3bb6ebb545c","modified":1669163619467},{"_id":"source/_posts/28-about-design-model5/module-model-1.png","hash":"940ec1732a0d822780c486ccb9ffc6cc29119a6f","modified":1669163619488},{"_id":"source/_posts/28-about-design-model5/mvp-model-3.png","hash":"f3ebcf32efc3e9b536605c9df96654c81cfc9b82","modified":1669163619515},{"_id":"source/_posts/23-about-design-model/constructor-inherit.png","hash":"e1eb49fe9cd4796f60678113b6f865f2e1576464","modified":1669163619046},{"_id":"themes/next/.eslintrc.json","hash":"611e15c3fcb41dc68fa8532ee595a1262a1b5a8a","modified":1656425734924},{"_id":"themes/next/.editorconfig","hash":"731c650ddad6eb0fc7c3d4a91cad1698fe7ad311","modified":1656425734924},{"_id":"themes/next/.gitattributes","hash":"aeeca2f1e987d83232d7870d1435a4e3ed66b648","modified":1656425734924},{"_id":"themes/next/.gitignore","hash":"087b7677078303acb2acb47432165950e4d29b43","modified":1656425734940},{"_id":"themes/next/.stylintrc","hash":"6259e2a0b65d46865ab89564b88fc67638668295","modified":1656425734940},{"_id":"themes/next/LICENSE.md","hash":"8cfb03967dd4cbaf3b825271ffce0039aa3fc22a","modified":1656425734940},{"_id":"themes/next/_vendors.yml","hash":"82f1e8e8fbbf20aab6bbec9d736ecd6c1bda33dd","modified":1656425734940},{"_id":"themes/next/_config.yml","hash":"5ea1a8c7163a7e6e3bbc127fe02fbb59a3e675aa","modified":1671586035849},{"_id":"source/_posts/6-vue3-render/vue3_render.png","hash":"c27773553432184cba670aac70e69865c21a4727","modified":1669163619760},{"_id":"themes/next/.githooks/pre-commit","hash":"b69b9d0b51e27d5d4c87c3242f5067c2cda26e44","modified":1656425734924},{"_id":"themes/next/crowdin.yml","hash":"4a53f5985e545c635cb56b2a57ed290cb8cf8942","modified":1656425734940},{"_id":"themes/next/package.json","hash":"59799b4933d021b37b1120a4dc3e8fb86599b017","modified":1656425735018},{"_id":"themes/next/.github/config.yml","hash":"0956bf71b6f36632b63b14d26580458041a5abd2","modified":1656425734924},{"_id":"themes/next/.githooks/install.js","hash":"305c2a269818466eed9e381b866c6cd1ad7f8afd","modified":1656425734924},{"_id":"themes/next/README.md","hash":"9b0af190c8265911c379ba9c7b453c8a7f1501c8","modified":1656425734940},{"_id":"themes/next/renovate.json","hash":"767b077c7b615e20af3cf865813cd64674a9bea6","modified":1656425735033},{"_id":"themes/next/.github/CONTRIBUTING.md","hash":"2fdca1040427cabfe27cae6754ec5e027ec7092e","modified":1656425734924},{"_id":"themes/next/.github/CODE_OF_CONDUCT.md","hash":"593ae64e72d43c020a697eac65b1f9c3483ff097","modified":1656425734924},{"_id":"themes/next/.github/PULL_REQUEST_TEMPLATE.md","hash":"a103e2d875f7434191859e5b42075cfa9a4cbcb3","modified":1656425734924},{"_id":"themes/next/.github/labeler.yml","hash":"ff76a903609932a867082b8ccced906e9910533a","modified":1656425734940},{"_id":"themes/next/.github/issue_label_bot.yaml","hash":"533fbe6b2f87d7e7ec6949063bb7ea7eb4fbe52d","modified":1656425734924},{"_id":"themes/next/.github/label-commenter-config.yml","hash":"a1aa85a2fc66ff0c52c65bd97b0fa282e297a73f","modified":1656425734924},{"_id":"themes/next/.github/release-drafter.yml","hash":"de38f816e3023e0a5c1fd1f3c2b626f78bc35246","modified":1656425734940},{"_id":"themes/next/languages/README.md","hash":"b1c96465b3bc139bf5ba6200974b66581d8ff85a","modified":1656425734955},{"_id":"themes/next/docs/AGPL3.md","hash":"f463f95b169d64983f59fa6f3e4b6760290a0e6b","modified":1656425734955},{"_id":"themes/next/docs/LICENSE.txt","hash":"d1cd5a8e83d3bbdb50f902d2b487813da95ddfd3","modified":1656425734955},{"_id":"themes/next/docs/AUTHORS.md","hash":"579014d47f45b27fd1618b9709f0efe9585c7449","modified":1656425734955},{"_id":"themes/next/languages/ar.yml","hash":"cc7e3e2855348563d746f15c4752b9c63fcdd91a","modified":1656425734955},{"_id":"themes/next/languages/default.yml","hash":"ea5e6aee4cb14510793ac4593a3bddffe23e530c","modified":1656425734955},{"_id":"themes/next/languages/de.yml","hash":"83023c4246b93a2f89f342afe29a7b9e1185f74f","modified":1656425734955},{"_id":"themes/next/languages/es.yml","hash":"21676d658d309eb90342a924e106645611c937bc","modified":1656425734971},{"_id":"themes/next/languages/bn.yml","hash":"842adcbab6a56762521a02f8b1d8c49c10e02a80","modified":1656425734955},{"_id":"themes/next/languages/fa.yml","hash":"e09fad889ab3ae87874093e1acd51edc9297d869","modified":1656425734971},{"_id":"themes/next/languages/ja.yml","hash":"57a35b21aca04ce8bca64fb5933f35626c462ea3","modified":1656425734971},{"_id":"themes/next/languages/fr.yml","hash":"328c255c82e9b561e20a9f51a4d84abc63d1b90a","modified":1656425734971},{"_id":"themes/next/languages/it.yml","hash":"c038ff0cadbe405750d980bcacfd3900acf96905","modified":1656425734971},{"_id":"themes/next/languages/en.yml","hash":"66445143decfbb5eb7031eb370698e31d5222a7a","modified":1656425734955},{"_id":"themes/next/languages/ko.yml","hash":"a4b607d38fb77f083235a0ecb2384cfdd3542bde","modified":1656425734971},{"_id":"themes/next/languages/pt-BR.yml","hash":"305025e932832328b7e2a8a584638a23c462e68f","modified":1656425734971},{"_id":"themes/next/languages/pt.yml","hash":"ff93459250c33d3c7ba06c30164cc4208edf9b33","modified":1656425734971},{"_id":"themes/next/languages/tr.yml","hash":"d3262d2221b0583a52e5d20a3cd1380f5dc49378","modified":1656425734971},{"_id":"themes/next/languages/id.yml","hash":"d7c337ca72efb0bd02ade8b5560c559384ad84dd","modified":1656425734971},{"_id":"themes/next/languages/si.yml","hash":"c15ed758dbad890e856f4fc281208d7b78cc1a59","modified":1656425734971},{"_id":"themes/next/languages/nl.yml","hash":"e47858bd1e0d0622c15366ae6c0513d996f589e3","modified":1656425734971},{"_id":"themes/next/languages/ru.yml","hash":"837bb39651769244b19ce458053757d429869764","modified":1656425734971},{"_id":"themes/next/languages/zh-CN.yml","hash":"f8379d15038e22ef7039d91272cb4f36842dbbe1","modified":1656425734971},{"_id":"themes/next/languages/vi.yml","hash":"e452ea8c48993262a3e8fce9d92072cafabfc734","modified":1656425734971},{"_id":"themes/next/languages/tk.yml","hash":"bf61562ac892231bd28f23a2a5597ee98fb05aa6","modified":1656425734971},{"_id":"themes/next/languages/uk.yml","hash":"f32871f67c63d26bc4e3e15df9b01f5a41236a50","modified":1656425734971},{"_id":"themes/next/languages/zh-tw.yml","hash":"70c45076ad722b777956048fcc430eac37844c11","modified":1656425734986},{"_id":"themes/next/layout/archive.njk","hash":"aa491dba8f746e626c273a920effedf7d0b32170","modified":1656425735018},{"_id":"themes/next/languages/zh-hk.yml","hash":"c1ee97ceb56da76ecdc7b69fa975f28c8574441b","modified":1656425734971},{"_id":"themes/next/layout/category.njk","hash":"82f541452cae76a94ee15cb8d8a888f44260a0fd","modified":1656425735018},{"_id":"themes/next/layout/_layout.njk","hash":"2842f3e9fdde5bbd14cac89629221e68d80c8ea1","modified":1656425734986},{"_id":"themes/next/layout/page.njk","hash":"fddfdee95f5da86eab8a85d6eb1901996d2153cf","modified":1656425735018},{"_id":"themes/next/layout/tag.njk","hash":"b6c017d30d08ddd30d66e9c6f3a71aa65d214eac","modified":1656425735018},{"_id":"themes/next/layout/index.njk","hash":"fa52c3049871e879980cb6abccdea3792ca4ce70","modified":1656425735018},{"_id":"themes/next/layout/post.njk","hash":"707a50e50b90df5fbeaf8407d12895d04163a290","modified":1656425735018},{"_id":"themes/next/.github/ISSUE_TEMPLATE/config.yml","hash":"daeedc5da2ee74ac31cf71846b766ca6499e9fc6","modified":1656425734924},{"_id":"themes/next/.github/ISSUE_TEMPLATE/bug-report.md","hash":"032194e7975564176f2109aa8b7c020fa6d5e6b1","modified":1656425734924},{"_id":"themes/next/.github/workflows/label-commenter.yml","hash":"b87ffaf40820461159c891d0d41c87e00e312ff3","modified":1656425734940},{"_id":"themes/next/.github/ISSUE_TEMPLATE/feature-request.md","hash":"4a7885fe2c8b25be02ab57c345cd862aeeeeacaf","modified":1656425734924},{"_id":"themes/next/test/index.js","hash":"983a505399796b9d9e174ba46d89abbdde38f8ee","modified":1656425735206},{"_id":"themes/next/.github/workflows/labeler.yml","hash":"bfea9b04e3ea7da31a2095277c4c23ae6bd14baa","modified":1656425734940},{"_id":"themes/next/.github/workflows/linter.yml","hash":"40b9068c85bff6a11ae0f7623fa3b5e9fdbd273e","modified":1656425734940},{"_id":"themes/next/.github/ISSUE_TEMPLATE/other.md","hash":"618d07b49f4774cd79613d4001984a19d954a6ad","modified":1656425734924},{"_id":"themes/next/.github/workflows/tester.yml","hash":"dda18899fe62652c633f60c300a93df18f58862f","modified":1656425734940},{"_id":"themes/next/.github/workflows/lock.yml","hash":"58eca481fd71088a8ae1dbc04645bcfc03460b87","modified":1656425734940},{"_id":"themes/next/layout/_macro/post-collapse.njk","hash":"d9d8e6d7a6a8c80009dd5334cc17fd3e4977a008","modified":1656425734986},{"_id":"themes/next/docs/zh-CN/README.md","hash":"fc077960de61db02072573dd330ba2ca3ae9d4de","modified":1656425734955},{"_id":"themes/next/.github/workflows/release-drafter.yml","hash":"359b74890a47d784e35a5cc3c7885d5cdf302e82","modified":1656425734940},{"_id":"themes/next/docs/zh-CN/CODE_OF_CONDUCT.md","hash":"7befb4325b107dd668d9eae3d7e86a34910ce3f2","modified":1656425734955},{"_id":"themes/next/docs/zh-CN/CONTRIBUTING.md","hash":"a09ceb82b45dd8b7da76c227f3d0bb7eebe7d5d1","modified":1656425734955},{"_id":"themes/next/layout/_partials/comments.njk","hash":"60f4620dd479da6d86d1d493440e9e2a28b6e132","modified":1656425734986},{"_id":"themes/next/layout/_macro/sidebar.njk","hash":"eec74e135d01948361020140c3798769e1e7363b","modified":1656425734986},{"_id":"themes/next/layout/_macro/post.njk","hash":"ce639fff96aabea825d48fc2d928e07039bacb22","modified":1656425734986},{"_id":"themes/next/docs/ru/README.md","hash":"ce247fb6ba20c607be42957ff38f2dd6d71c12a4","modified":1656425734955},{"_id":"themes/next/layout/_partials/languages.njk","hash":"537026fc120adeef9148c98ebf074207e3810538","modified":1656425734986},{"_id":"themes/next/layout/_partials/pagination.njk","hash":"2de77d533c91532a8a4052000244d0c1693370df","modified":1656425734986},{"_id":"themes/next/layout/_partials/widgets.njk","hash":"967594ee64805e27b7ff9d957e23ab3f5c948600","modified":1656425735002},{"_id":"themes/next/layout/_partials/footer.njk","hash":"65f0d69084e0e26a0153d3b8db610a15c4102691","modified":1656425734986},{"_id":"themes/next/layout/_third-party/quicklink.njk","hash":"73bc15a9c3c5c239ab90efa19a1e721f41f3cb93","modified":1656425735018},{"_id":"themes/next/layout/_third-party/fancybox.njk","hash":"53ad3c31762b74e5d29787b37d5e494cc4fded9b","modified":1656425735018},{"_id":"themes/next/scripts/events/index.js","hash":"e1c366efdab730a7791099115698c97b31b5ff78","modified":1656425735033},{"_id":"themes/next/layout/_third-party/index.njk","hash":"33a4a3275474bd3bb2e8d1b0ea01b42dda9ea608","modified":1656425735018},{"_id":"themes/next/layout/_third-party/pace.njk","hash":"13b2a77b4858a127f458ea092b6f713b052befac","modified":1656425735018},{"_id":"themes/next/scripts/filters/locals.js","hash":"87f3bff03fa9fd96cf0787a6442464a7ff57f76b","modified":1656425735033},{"_id":"themes/next/scripts/filters/default-injects.js","hash":"0c9a1fe9906672724dbf274154a37bac1915ca2c","modified":1656425735033},{"_id":"themes/next/scripts/filters/post.js","hash":"1ca7885ce5024bfda13e28e605a33ba335b8aea0","modified":1656425735033},{"_id":"themes/next/scripts/filters/minify.js","hash":"81edb9cfda491b860ebeb5645c1f5349ccacfbec","modified":1656425735033},{"_id":"themes/next/layout/_scripts/index.njk","hash":"4eb65641b47ea9b23ed2ddfd69b18f21d7d8f214","modified":1656425735002},{"_id":"themes/next/layout/_scripts/vendors.njk","hash":"0a1470440f11362df2b1cd6b6228e273d9f999d6","modified":1656425735002},{"_id":"themes/next/scripts/tags/button.js","hash":"86c71c73a63744efbbbb367612871fede0d69529","modified":1656425735049},{"_id":"themes/next/layout/_third-party/rating.njk","hash":"d0444179fec512760ab1d4f76928d795b971c884","modified":1656425735018},{"_id":"themes/next/scripts/tags/caniuse.js","hash":"8e912c715702addaf0cefe63e580e45b97ae8c3f","modified":1656425735049},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"b4d12e6fe29089be0f43bafc9eea736602cd16bf","modified":1656425735049},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"1c609312a71d47f838226346aad5c2e1c35f15dd","modified":1656425735049},{"_id":"themes/next/scripts/tags/index.js","hash":"255dd1090e8319b557eeca43571f0e4f8aab013b","modified":1656425735049},{"_id":"themes/next/scripts/tags/label.js","hash":"c18b0e619a779ed40be7f014db92af18f45fbd5c","modified":1656425735049},{"_id":"themes/next/scripts/tags/link-grid.js","hash":"3f358bb78c5c6fdf45de287f3ead553e3a6a93c2","modified":1656425735049},{"_id":"themes/next/scripts/tags/mermaid.js","hash":"b3844e168b51a99d495ca05562ffac47677f5728","modified":1656425735049},{"_id":"themes/next/scripts/tags/pdf.js","hash":"317ba4611020cc840854386dde098dbbe452777e","modified":1656425735049},{"_id":"themes/next/scripts/tags/note.js","hash":"a12fd53e421400836a3722ae69130969558d6ac0","modified":1656425735049},{"_id":"themes/next/scripts/tags/tabs.js","hash":"e0ed5fe1bc9d2957952a1aacdf3252d6ef3f9743","modified":1656425735049},{"_id":"themes/next/scripts/tags/video.js","hash":"f6ad3f52779f0636251238d3cbdc5b6f91cc5aba","modified":1656425735049},{"_id":"themes/next/scripts/helpers/engine.js","hash":"43568a872a93259fc1c497724a53914474ef83ae","modified":1656425735033},{"_id":"themes/next/scripts/helpers/font.js","hash":"0a6fa582a0890ecaf5f03f758a730936e48aeca1","modified":1656425735033},{"_id":"themes/next/scripts/helpers/navigation.js","hash":"82f6e81bacf23d10cac71b09cff8708e47891ef3","modified":1656425735033},{"_id":"themes/next/scripts/helpers/next-config.js","hash":"ad764d48715c5da87d33f048ad5f1ae8b4e2eb52","modified":1656425735033},{"_id":"themes/next/scripts/helpers/next-url.js","hash":"98fc68cf3fcd6253bbb94068ab1d86578a4ef9ea","modified":1656425735049},{"_id":"themes/next/scripts/helpers/next-vendors.js","hash":"52acbc74c1ead8a77cd3bbcba4e033053683f7d0","modified":1656425735049},{"_id":"themes/next/test/helpers/font.js","hash":"6f5076bd3f2724e47b46ca69028393a9b6275cd1","modified":1656425735206},{"_id":"themes/next/test/helpers/index.js","hash":"2fb58dca3df2fe53116ee2b1232fa26ebe7b2ce5","modified":1656425735206},{"_id":"themes/next/test/helpers/next-url.js","hash":"08e84781f1cd54e5634b86877ad9cefae4a78e95","modified":1656425735206},{"_id":"themes/next/test/tags/center-quote.js","hash":"2ac4b5a358681691a17e736de06fce0b640a7023","modified":1656425735206},{"_id":"themes/next/test/tags/group-pictures.js","hash":"8f66d3c6f03fb11d85aa2ab05c9b3c9aa2b4e994","modified":1656425735206},{"_id":"themes/next/test/tags/button.js","hash":"a50ca44eaec3d91c2958e3157d624cd3e68828c7","modified":1656425735206},{"_id":"themes/next/test/tags/caniuse.js","hash":"2852be850d9103c25114253a45e6c62e32517de4","modified":1656425735206},{"_id":"themes/next/test/tags/index.js","hash":"5cad001936a694bf32d59751cc2b68a66199f976","modified":1656425735206},{"_id":"themes/next/test/tags/label.js","hash":"6cad7d84c42511459a89cda3971e8ea5cdee0125","modified":1656425735206},{"_id":"themes/next/test/tags/mermaid.js","hash":"f718a3d0e303d842e2ca5a3b162539a49e45a520","modified":1656425735206},{"_id":"themes/next/test/tags/link-grid.js","hash":"41730266306c02362258384cd73659223928361f","modified":1656425735206},{"_id":"themes/next/test/tags/note.js","hash":"161a81ce749e239d2403681372d48ecc1b51d7b9","modified":1656425735206},{"_id":"themes/next/test/tags/tabs.js","hash":"b19d2592347eae5d6a7a97ca7e8cec03e8f25b51","modified":1656425735206},{"_id":"themes/next/test/validate/index.js","hash":"560862194991c5963da5a411629d8e6c71d20ee2","modified":1656425735206},{"_id":"themes/next/test/tags/pdf.js","hash":"2d114596a8a180b2f3cd2a9c6528a328961f12d4","modified":1656425735206},{"_id":"themes/next/test/tags/video.js","hash":"88db9a3a26cd35525c43c0339fcd1c5965ec9518","modified":1656425735206},{"_id":"themes/next/source/css/_colors.styl","hash":"a88430865c99f47ce1d8240f8895819b8b7b0c06","modified":1656425735049},{"_id":"themes/next/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1641603456899},{"_id":"themes/next/source/images/avatar.gif","hash":"2dbc3e2f2d624b2ca1afe6edc2ca17307f1950c8","modified":1656425735120},{"_id":"themes/next/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1641603456915},{"_id":"themes/next/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1641603456915},{"_id":"themes/next/source/images/logo-algolia-nebula-blue-full.svg","hash":"b85e274207b1392782476a0430feac98db1e7da0","modified":1656425735120},{"_id":"themes/next/source/images/logo.jpeg","hash":"cf0f17140f5d4eefe4607db39c354c73eb9b6500","modified":1661260525946},{"_id":"themes/next/source/css/main.styl","hash":"38b8a12681a3a04bed02aa1659054912ed6def11","modified":1656425735120},{"_id":"themes/next/source/images/logo.svg","hash":"2cb74fd3ea2635e015eabc58a8d488aed6cf6417","modified":1656425735120},{"_id":"themes/next/source/css/_mixins.styl","hash":"74cf298800fa560e1521d1875f60b5097a5c3b4d","modified":1656425735096},{"_id":"themes/next/source/css/noscript.styl","hash":"6a9e80ca4abb294bc0fb22442fc7a0201dd8fc25","modified":1656425735120},{"_id":"themes/next/source/js/comments.js","hash":"0b4daf0ce610760bd52e95d423f61f3e1c72442a","modified":1656425735128},{"_id":"themes/next/source/js/bookmark.js","hash":"1457291a7244b7786ec35b949d97183e4fbd181d","modified":1656425735120},{"_id":"themes/next/source/js/comments-buttons.js","hash":"81ea6cbcdf0357094753d7523919c1eafa38e79f","modified":1656425735128},{"_id":"themes/next/source/js/config.js","hash":"211a9ab35205ccfa6b7c74394bade84da0d00af7","modified":1656425735128},{"_id":"themes/next/source/js/next-boot.js","hash":"da11083557070d947da48d29d2d60988c8d628e9","modified":1656425735128},{"_id":"themes/next/source/js/pjax.js","hash":"85293c253e0f43540572c4e4615c712325a732e2","modified":1656425735128},{"_id":"themes/next/source/js/motion.js","hash":"cce4f3cc59e76f899f3c1d9a7c53a33cf693d507","modified":1656425735128},{"_id":"themes/next/source/js/schedule.js","hash":"4858233224756e3cadfabd8135f7c4b1e3673b44","modified":1656425735128},{"_id":"themes/next/layout/_partials/header/index.njk","hash":"1b2ae17f3c394ce310fe2d9ed5f4d07d8cc74ae7","modified":1656425734986},{"_id":"themes/next/layout/_partials/header/menu.njk","hash":"828700af2a2f273d3e3e0554ffc60706d889d539","modified":1656425734986},{"_id":"themes/next/layout/_partials/header/menu-item.njk","hash":"62513f08e9e7f4abeaeedca91fd0af0861a2540f","modified":1656425734986},{"_id":"themes/next/source/js/utils.js","hash":"8abd170f5d3c2399b8012fb08b22dbf4cef2e89f","modified":1656425735206},{"_id":"themes/next/layout/_partials/header/sub-menu.njk","hash":"20cb9c39bcdcfa3f710df7bc5838d6e62d4dd674","modified":1656425734986},{"_id":"themes/next/layout/_partials/header/brand.njk","hash":"8e08c19e1bd92f3179907b0ff3743d6e2371d7ae","modified":1656425734986},{"_id":"themes/next/layout/_partials/head/head-unique.njk","hash":"fd75652957c1c3668874fdfd16f4f56027be0d8b","modified":1656425734986},{"_id":"themes/next/layout/_partials/page/categories.njk","hash":"b352346dd2cb42f7eeaec5e39d9a2a353b029775","modified":1656425734986},{"_id":"themes/next/layout/_partials/page/breadcrumb.njk","hash":"1fe44a1e156cd30e3e9fd8313e1011ad30970f83","modified":1656425734986},{"_id":"themes/next/layout/_partials/page/page-header.njk","hash":"92553feb26f30f7fc9147bc4ef122908a9da06be","modified":1656425734986},{"_id":"themes/next/layout/_partials/head/head.njk","hash":"3ff7e251bf99a275cd5dfda1b3e51f773c5f7b05","modified":1656425734986},{"_id":"themes/next/layout/_partials/page/tags.njk","hash":"752df7d12360a077c51a25609916a3ecc1763bb3","modified":1656425734986},{"_id":"themes/next/layout/_partials/search/localsearch.njk","hash":"f73d25a8ccfdd5d4ca2953dc434ff8ce36034c57","modified":1656425735002},{"_id":"themes/next/layout/_partials/page/schedule.njk","hash":"6ec9c97e91c793cc2eb5ac0f7c3c36fdaaf637d1","modified":1656425734986},{"_id":"themes/next/layout/_partials/search/algolia-search.njk","hash":"93fbb449fbd599cb4315d7eb0daeb239811b233f","modified":1656425735002},{"_id":"themes/next/layout/_partials/post/post-footer.njk","hash":"e3502059bcc443ce932946a9891fcbe8b2bb362d","modified":1656425735002},{"_id":"themes/next/layout/_partials/search/index.njk","hash":"9766852e72c1809d8c1eea71ac6116b4cc0886d2","modified":1656425735002},{"_id":"themes/next/layout/_partials/post/post-followme.njk","hash":"ebf83083856f8bd81ad47ffb985d44e338b4e6bb","modified":1656425734986},{"_id":"themes/next/layout/_partials/post/post-copyright.njk","hash":"0ebc0142abebbeef4278e32abb543c7d7fa75d88","modified":1656425734986},{"_id":"themes/next/layout/_partials/post/post-reward.njk","hash":"58b3f657a47bae406e5fcf19cd5e42680785ac71","modified":1656425735002},{"_id":"themes/next/layout/_partials/sidebar/site-overview.njk","hash":"c5c38b4fb137cc799a6ec31f391d1efc12234c8c","modified":1656425735002},{"_id":"themes/next/layout/_partials/post/post-related.njk","hash":"17e03b61e20a5cb4195f0e0d75261ce61a1cddc4","modified":1656425735002},{"_id":"themes/next/layout/_partials/post/post-meta.njk","hash":"9a9c4fb7e7c4fe4b7d474bdfdb4ed2b0a5423df2","modified":1656425735002},{"_id":"themes/next/layout/_third-party/chat/tidio.njk","hash":"3fbc72427c1211e5dcfd269af1a74852a7ba5c1a","modified":1656425735002},{"_id":"themes/next/layout/_third-party/chat/gitter.njk","hash":"375a86f0b19e130cfa7707007e3a53d9ae7c9b64","modified":1656425735002},{"_id":"themes/next/layout/_third-party/chat/chatra.njk","hash":"09d2c9487d75894d45a823e3237ae9f90fd6ee01","modified":1656425735002},{"_id":"themes/next/layout/_third-party/analytics/baidu-analytics.njk","hash":"3e80332f88b101141be69f2a07f54ed8c053eabb","modified":1656425735002},{"_id":"themes/next/layout/_third-party/analytics/google-analytics.njk","hash":"52ad137450f7b3d6a330e16b3ed1c6174290f0eb","modified":1656425735002},{"_id":"themes/next/layout/_third-party/analytics/growingio.njk","hash":"9ff9ec05c2037beea229a6bb698f9e3546973220","modified":1656425735002},{"_id":"themes/next/layout/_third-party/analytics/cloudflare.njk","hash":"17173c45f0b740669ef45aaae1fe96eeb0a0ff52","modified":1656425735002},{"_id":"themes/next/layout/_third-party/comments/disqus.njk","hash":"b0828dd1b1fd66ecd612d9e886a08e7579e9a4f7","modified":1656425735002},{"_id":"themes/next/layout/_third-party/analytics/index.njk","hash":"eef710e9be20e7fed7573d0824feaa4eb1cf2737","modified":1656425735002},{"_id":"themes/next/layout/_third-party/comments/changyan.njk","hash":"5f7967bd946060f4102263a552ddfbae9975e7ea","modified":1656425735002},{"_id":"themes/next/layout/_third-party/analytics/microsoft-clarity.njk","hash":"24719266662fcff63e88a21ee9b5b284abb8b37c","modified":1656425735002},{"_id":"themes/next/layout/_third-party/comments/gitalk.njk","hash":"6fd4df5c21cfe530dbb0c012bc0b202f2c362b9c","modified":1656425735018},{"_id":"themes/next/layout/_third-party/comments/disqusjs.njk","hash":"c5086b4c35f730f82c99c4a8317f2f153ebde869","modified":1656425735002},{"_id":"themes/next/layout/_third-party/comments/livere.njk","hash":"b8e0d5de584cece5e05b03db5b86145aa1e422b4","modified":1656425735018},{"_id":"themes/next/layout/_third-party/comments/isso.njk","hash":"38badcc7624a13961381c2465478056b9602aee5","modified":1656425735018},{"_id":"themes/next/layout/_third-party/math/katex.njk","hash":"a84db8bc8804335f95609a221ac1746433dcdc89","modified":1656425735018},{"_id":"themes/next/layout/_third-party/math/index.njk","hash":"1856c4b035c5b8e64300a11af0461b519dfc4cf4","modified":1656425735018},{"_id":"themes/next/layout/_third-party/search/algolia-search.njk","hash":"67f67a77f27103177b9940446f43610229536d82","modified":1656425735018},{"_id":"themes/next/layout/_third-party/comments/utterances.njk","hash":"a7921be7328e1509d33b435175f5333a9aada66f","modified":1656425735018},{"_id":"themes/next/layout/_third-party/statistics/firestore.njk","hash":"af5336e8bbdc4638435971da115bb7443d374ade","modified":1656425735018},{"_id":"themes/next/layout/_third-party/search/localsearch.njk","hash":"210c32b654adae3d8076c4417d370b42af258cea","modified":1656425735018},{"_id":"themes/next/layout/_third-party/math/mathjax.njk","hash":"a62aa1ed4e35b8d0451d83f341bf0a97538bc9a4","modified":1656425735018},{"_id":"themes/next/layout/_third-party/tags/pdf.njk","hash":"0386c708975cc5faea4f782611c5d2c6b8ac2850","modified":1656425735018},{"_id":"themes/next/layout/_third-party/statistics/busuanzi-counter.njk","hash":"d97790e4b442a1e3ded7d7b4f84b8ee6cdb6e8ea","modified":1656425735018},{"_id":"themes/next/layout/_third-party/statistics/index.njk","hash":"866ffa15a3250678eb8a90aa6f609fa965db90fd","modified":1656425735018},{"_id":"themes/next/layout/_third-party/tags/mermaid.njk","hash":"dd8f963acd5a3685be46fd5319c06df0308d99b2","modified":1656425735018},{"_id":"themes/next/scripts/events/lib/injects.js","hash":"1f1ea7b579a49f17574c31d78d663c54896133eb","modified":1656425735033},{"_id":"themes/next/layout/_third-party/statistics/lean-analytics.njk","hash":"8703d1855bb8d251c9b7c2940b7e3be525e53000","modified":1656425735018},{"_id":"themes/next/scripts/events/lib/config.js","hash":"f78cd74b25cc0ef65c060fec1d7e056967e26b4b","modified":1656425735033},{"_id":"themes/next/scripts/events/lib/highlight.js","hash":"00cec6980cafd417def885f496371856cd524a25","modified":1656425735033},{"_id":"themes/next/scripts/events/lib/navigation.js","hash":"0a2df7d40d64c61ce7e730bb8269b848b03526d1","modified":1656425735033},{"_id":"themes/next/scripts/events/lib/utils.js","hash":"65825c37e473c942095df05183424003d7263df5","modified":1656425735033},{"_id":"themes/next/scripts/events/lib/vendors.js","hash":"a96050b0a9bcb49f1f6897660efc77991024790a","modified":1656425735033},{"_id":"themes/next/scripts/filters/comment/common.js","hash":"550cc7f57bc3ab3d093e34741e7860222851d4d4","modified":1656425735033},{"_id":"themes/next/scripts/filters/comment/changyan.js","hash":"17fbc99521440a5d6c32ac991ba2038a12f86b31","modified":1656425735033},{"_id":"themes/next/scripts/filters/comment/gitalk.js","hash":"96e58efba0dc76af409cc7d2db225f0fe4526ea8","modified":1656425735033},{"_id":"themes/next/scripts/filters/comment/disqus.js","hash":"3283bdd6e5ac7d10376df8ddd5faaec5dc1bd667","modified":1656425735033},{"_id":"themes/next/scripts/filters/comment/disqusjs.js","hash":"70eb507ef7f1a4fc3ca71a3814cc57afe7f3f60c","modified":1656425735033},{"_id":"themes/next/scripts/filters/comment/default-config.js","hash":"1cb58aa6b88f7461c3c3f9605273686adcc30979","modified":1656425735033},{"_id":"themes/next/scripts/filters/comment/utterances.js","hash":"a50718c081685fd35ff8ea9ca13682c284399ed8","modified":1656425735033},{"_id":"themes/next/scripts/filters/comment/isso.js","hash":"c22cbccd7d514947e084eeac6a3af1aa41ec857a","modified":1656425735033},{"_id":"themes/next/scripts/filters/comment/livere.js","hash":"bb8ebb541c40362c0cbbd8e83d3b777302bb6c40","modified":1656425735033},{"_id":"themes/next/source/css/_variables/Gemini.styl","hash":"c4537fa2de33d98baff2c87a73801770414e0b69","modified":1656425735112},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"58014a2d087c4126058a99b5b1cb7d8a2eb6224d","modified":1656425735120},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"ee5024be8e39605f0c6d71db038e15e0693d0f41","modified":1656425735112},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"d3a8f6e71c86926d0c2a247a31d7446d829736d5","modified":1656425735112},{"_id":"themes/next/source/js/third-party/pace.js","hash":"0ebee77b2307bf4b260afb06c060171ef42b7141","modified":1656425735190},{"_id":"themes/next/source/js/third-party/quicklink.js","hash":"5b0197e061f57e00875be3636ba372a67693abe0","modified":1656425735190},{"_id":"themes/next/source/js/third-party/fancybox.js","hash":"8a847a7bbdbc0086dd1de12b82107a854b43f5e5","modified":1656425735190},{"_id":"themes/next/source/css/_variables/base.styl","hash":"0876b50a58f114bc0b7982b85c5e5011730253b8","modified":1656425735120},{"_id":"themes/next/source/js/third-party/rating.js","hash":"a1f44247c18ac00ee3e0026560398429e4c77dd7","modified":1656425735190},{"_id":"themes/next/source/js/schemes/muse.js","hash":"714acb6317cc0d4c5aca26d974c536e37bb9ce1b","modified":1656425735128},{"_id":"themes/next/source/css/_common/components/index.styl","hash":"991c1f80995cec418dc00d3d6b13e2d911ac9894","modified":1656425735049},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"2bbf9046ef2a8f99ef3668bbb8be4e52e9d97bb7","modified":1656425735049},{"_id":"themes/next/source/css/_common/components/reading-progress.styl","hash":"f3defd56be33dba4866a695396d96c767ce63182","modified":1656425735065},{"_id":"themes/next/source/css/_common/scaffolding/comments.styl","hash":"cf8446f4378dcab27b55ede1635c608ae6b8a5c8","modified":1656425735080},{"_id":"themes/next/source/css/_schemes/Gemini/index.styl","hash":"f51b6a4f06359ed56b2d10caa6f15362d3b3751d","modified":1656425735096},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"1239f1b432a6932b2bb9ebcfbaabf724b8f4e59a","modified":1656425735080},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"6d740699fb6a7640647a8fd77c4ea4992d8d6437","modified":1656425735080},{"_id":"themes/next/source/css/_common/scaffolding/buttons.styl","hash":"f768ecb2fe3e9384777c1c115cd7409e9155edd7","modified":1656425735080},{"_id":"themes/next/source/css/_common/scaffolding/pagination.styl","hash":"34416a5792d0235caa8c0c7e59725f2df0fa614c","modified":1656425735080},{"_id":"themes/next/source/css/_common/scaffolding/toggles.styl","hash":"90f7d3baab061e860172b536c9edc38c7fd2ef5c","modified":1656425735096},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"b9388016f8d9274703e77e306a1feaad1b7b9d6c","modified":1656425735080},{"_id":"themes/next/source/css/_common/scaffolding/index.styl","hash":"43045d115f8fe95732c446aa45bf1c97609ff2a5","modified":1656425735080},{"_id":"themes/next/source/css/_common/outline/index.styl","hash":"7782dfae7a0f8cd61b936fa8ac980440a7bbd3bb","modified":1656425735080},{"_id":"themes/next/source/css/_common/outline/mobile.styl","hash":"2db4462e9cb87b8aef3f50f850fed407de16da3e","modified":1656425735080},{"_id":"themes/next/source/css/_schemes/Muse/_header.styl","hash":"fd89988442f380cba907752fe3f608e3498f8c93","modified":1656425735096},{"_id":"themes/next/source/css/_schemes/Muse/_sidebar.styl","hash":"134272cb8096156c9e32fbbe085394633c7509cd","modified":1656425735096},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"ec5d4e8ffe74722a092a69ace2f8dec7776466a8","modified":1656425735096},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"018b6a761e197086174c9f06b4d5ea21cc230951","modified":1656425735096},{"_id":"themes/next/source/css/_schemes/Muse/_sub-menu.styl","hash":"2d3e05015796a790abd9d68957a5c698c0c9f9b6","modified":1656425735096},{"_id":"themes/next/source/css/_schemes/Pisces/_header.styl","hash":"9b2cba0c9aa5a64957294f7548c199db1f63f0f4","modified":1656425735112},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"1d29eca70fa686d895f8e98a283e4a159e40905a","modified":1656425735112},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"25c2a7930da14f023329df20f38df2728057fb4d","modified":1656425735096},{"_id":"themes/next/source/css/_schemes/Pisces/_sub-menu.styl","hash":"b5c3dd08c520a16ee49f85fa12b4935e725ef261","modified":1656425735112},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"9f60d501808f67d151af437221d0dfacc27c180c","modified":1656425735112},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"7905f428b46d100ac5928875cb1e2b99fa86fc0b","modified":1656425735112},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"42bf453def88da82c842dca84e8f47087091f08e","modified":1656425735112},{"_id":"themes/next/source/css/_schemes/Mist/_layout.styl","hash":"00366a6bd1a66f99f845c5ebfc9e8cf56651b815","modified":1656425735096},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"b1054313ca9419e76fea0451417c881616f50a38","modified":1656425735096},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"82311a531e26ca5a6ad17cf14959da75d4ac6106","modified":1656425735096},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expand.styl","hash":"4a454bcadd9de7d73172abd3276943e8626657be","modified":1656425735096},{"_id":"themes/next/source/js/third-party/analytics/baidu-analytics.js","hash":"f9579a02599de063ccff336177ba964a2931a6e9","modified":1656425735175},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"89bf3f6b82cb0fafbbd483431df8f450857c5a0b","modified":1656425735096},{"_id":"themes/next/source/js/third-party/chat/tidio.js","hash":"77c231bcd64f1c09bd9989909e9fee703b65f47f","modified":1656425735190},{"_id":"themes/next/source/js/third-party/chat/gitter.js","hash":"14b024c920a8b359777d79dd8e1a849387f8f3ad","modified":1656425735190},{"_id":"themes/next/source/js/third-party/chat/chatra.js","hash":"72e0766752b78a723fb30e92d533a8b353104e2d","modified":1656425735190},{"_id":"themes/next/source/js/third-party/analytics/growingio.js","hash":"f755e8537ccbbb0bd84c26923f320d4e206e7428","modified":1656425735190},{"_id":"themes/next/source/js/third-party/comments/changyan.js","hash":"b4cb06fdf531292e2361398a98d75a4ca2b8473a","modified":1656425735190},{"_id":"themes/next/source/js/third-party/analytics/google-analytics.js","hash":"d77d4934d959e7125128754b568f1d041c3fbfff","modified":1656425735175},{"_id":"themes/next/source/js/third-party/comments/disqus.js","hash":"5460de247c038d6cfbe774d7f8747f0a958d9017","modified":1656425735190},{"_id":"themes/next/source/js/third-party/comments/disqusjs.js","hash":"1c282d6c2151346d1f0aa95055d17abe77054ec9","modified":1656425735190},{"_id":"themes/next/source/js/third-party/comments/gitalk.js","hash":"1e8509356fb027d948d118ab220d9631f4d482fa","modified":1656425735190},{"_id":"themes/next/source/js/third-party/comments/isso.js","hash":"b9b9fd2f0e098a123b34a4932da912a9485ffe6c","modified":1656425735190},{"_id":"themes/next/source/js/third-party/comments/livere.js","hash":"68892d74ef5fc308c6e7e6b4f190826d79f3055d","modified":1656425735190},{"_id":"themes/next/source/js/third-party/comments/utterances.js","hash":"ec44d7f1c8b51b0aa3cccba099a78f3575ac828c","modified":1656425735190},{"_id":"themes/next/source/js/third-party/math/katex.js","hash":"5c63ec71458b4fe0cd98fd4a04e11c3746764f11","modified":1656425735190},{"_id":"themes/next/source/js/third-party/math/mathjax.js","hash":"d93556184b2c0aa1dbc4a6fb892d2f77b80d7d9f","modified":1656425735190},{"_id":"themes/next/source/js/third-party/search/algolia-search.js","hash":"e927000b375e79e2d173bdc6b8b45e67364fad4a","modified":1656425735190},{"_id":"themes/next/source/js/third-party/tags/mermaid.js","hash":"e9fffe2a14751e86aed5e84a5e96514413eac2dc","modified":1656425735190},{"_id":"themes/next/source/js/third-party/search/local-search.js","hash":"e6361ed3d5fa959e11e90f7dab8fdaff398b4425","modified":1656425735190},{"_id":"themes/next/source/js/third-party/tags/pdf.js","hash":"e109c2d6828f527f0289d5fa3bb02fce63ee6d93","modified":1656425735206},{"_id":"themes/next/source/js/third-party/statistics/firestore.js","hash":"3272f3373fa7c3910852124bc5e43e90e3470ff8","modified":1656425735190},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"80595d274f593b321c0b644a06f3165fe07b16f5","modified":1656425735049},{"_id":"themes/next/source/css/_common/scaffolding/highlight/index.styl","hash":"ee05c1d00bc38397bd320128bbe15d05d9100039","modified":1656425735080},{"_id":"themes/next/source/js/third-party/statistics/lean-analytics.js","hash":"6abdc209f4503d4efd676e18bc30ddea813b6ff9","modified":1656425735190},{"_id":"themes/next/source/css/_common/scaffolding/highlight/copy-code.styl","hash":"047bf8176ea24e277b1a4f6e6ad599033f1d1a44","modified":1656425735080},{"_id":"themes/next/source/css/_common/components/pages/breadcrumb.styl","hash":"fde10ce94e9ae21a03b60d41d532835b54abdcb1","modified":1656425735049},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"091b8c763e43447d087c122a86538f290f83136a","modified":1656425735049},{"_id":"themes/next/source/css/_common/components/pages/tag-cloud.styl","hash":"56d719bcdcba3d725141c55bbd4b168f3942f912","modified":1656425735049},{"_id":"themes/next/source/css/_common/components/pages/index.styl","hash":"6cf78a379bb656cc0abb4ab80fcae60152ce41ad","modified":1656425735049},{"_id":"themes/next/source/css/_common/components/third-party/disqusjs.styl","hash":"c1e9edbfd1c3696b35d5452ae2e6d766f3fe91aa","modified":1656425735065},{"_id":"themes/next/source/css/_common/components/third-party/gitter.styl","hash":"7b36f776c41fbb744572c5de2c8d49b35656ec21","modified":1656425735065},{"_id":"themes/next/source/css/_common/components/third-party/index.styl","hash":"0c4c5e39f8ac12febaa0f4ff7265151e139edad8","modified":1656425735065},{"_id":"themes/next/source/css/_common/components/third-party/gitalk.styl","hash":"fb165c1a0d990c5cf98b87773e0dc50410229b96","modified":1656425735065},{"_id":"themes/next/source/css/_common/components/third-party/math.styl","hash":"1e5776ad4c5c8bcf7596ac74dcabc30704b3f5a0","modified":1656425735065},{"_id":"themes/next/source/css/_common/components/third-party/search.styl","hash":"49c26184580fde8a732899a4de5aae8662e289b8","modified":1656425735065},{"_id":"themes/next/source/css/_common/components/third-party/related-posts.styl","hash":"0527153aa821bdbdb84c7b47f60e3cefd95a742f","modified":1656425735065},{"_id":"themes/next/source/css/_common/components/third-party/utterances.styl","hash":"d28856f365a9373c4ae6fe1e5673d63df2dfd65f","modified":1656425735065},{"_id":"themes/next/source/css/_common/components/post/index.styl","hash":"df2fbd0ada00f37439b0de965c6f1c29d3c97429","modified":1656425735049},{"_id":"themes/next/source/css/_common/components/post/post-followme.styl","hash":"791bc9befb0d4d06e3e517eccfe0bc3551a02a60","modified":1656425735065},{"_id":"themes/next/source/css/_common/components/post/post-body.styl","hash":"268e0a4cf638b9ce4db07268031ab34c5f31ac65","modified":1656425735065},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"eebe3013a9a976011570dce2d04dfeae4c31d790","modified":1656425735065},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"69dff7cf231d01f85671758455726dd666664a73","modified":1656425735065},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"c34936a17c3d8af6c0988ac6746d7509dc0b50eb","modified":1656425735065},{"_id":"themes/next/source/css/_common/components/post/post-header.styl","hash":"4d29b6ae7ed3dc44b10df851a4128b6441efa8be","modified":1656425735065},{"_id":"themes/next/source/css/_common/components/post/post-footer.styl","hash":"e53a5eb1d1771e284044bdb0bc0ed2de27923669","modified":1656425735065},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"9043d9bc2db35ca000c79258ef89fdb161dc43fb","modified":1656425735065},{"_id":"themes/next/source/css/_common/components/post/post-widgets.styl","hash":"0a779f955a0e25df0852e0731517dadb234aa181","modified":1656425735065},{"_id":"themes/next/source/css/_common/outline/footer/index.styl","hash":"02b6d1a53f7a02c6b0929b11f3ab904b5b873a0e","modified":1656425735065},{"_id":"themes/next/source/css/_common/scaffolding/tags/blockquote-center.styl","hash":"6b3680e0dbea8e14c1cec24ef63b7fae5e37f7ef","modified":1656425735080},{"_id":"themes/next/source/css/_common/scaffolding/tags/index.styl","hash":"e22fde6f1657d311d46f64d868c4491d535c8caa","modified":1656425735096},{"_id":"themes/next/source/css/_common/scaffolding/tags/group-pictures.styl","hash":"8d9218980e185210ce034e9769ab639b9630fd88","modified":1656425735096},{"_id":"themes/next/source/css/_common/scaffolding/tags/label.styl","hash":"531daf2612c6217950677a2d03924459ce57c291","modified":1656425735096},{"_id":"themes/next/source/css/_common/scaffolding/tags/note.styl","hash":"2e9dc3b3546e19e9de18050ad04b1741841116bc","modified":1656425735096},{"_id":"themes/next/source/css/_common/scaffolding/tags/mermaid.styl","hash":"c7754dc6c866928b538f0863a05b96ec44b5e986","modified":1656425735096},{"_id":"themes/next/source/css/_common/scaffolding/tags/link-grid.styl","hash":"7075dd32dd70da1e161e4bd14b46f1e8be62fa3c","modified":1656425735096},{"_id":"themes/next/source/css/_common/scaffolding/tags/pdf.styl","hash":"77122986509a6b4968bae2729417b7016137534c","modified":1656425735096},{"_id":"themes/next/source/css/_common/outline/header/github-banner.styl","hash":"05af22f3edc2383a3d97ec4c05e9ac43b014bead","modified":1656425735065},{"_id":"themes/next/source/css/_common/outline/header/bookmark.styl","hash":"c8648c8ea3105556be0068d9fb2735261d0d94bc","modified":1656425735065},{"_id":"themes/next/source/css/_common/outline/header/index.styl","hash":"f465cc1bfe98e3f2b33f5b696d4870c8dc56da6b","modified":1656425735065},{"_id":"themes/next/source/css/_common/outline/header/site-meta.styl","hash":"86b0925e968f35bbc76b473a861e8f9797f7580e","modified":1656425735080},{"_id":"themes/next/source/css/_common/scaffolding/tags/tabs.styl","hash":"f71b2022094c5bc8c74b4ed049639f7262e0b182","modified":1656425735096},{"_id":"themes/next/source/css/_common/outline/header/menu.styl","hash":"2db695204d39e4c7daa7b91585a0ea4b06b49f11","modified":1656425735065},{"_id":"themes/next/source/css/_common/outline/header/site-nav.styl","hash":"d9bc2b520636b9df7f946295cd430593df4118ff","modified":1656425735080},{"_id":"themes/next/source/css/_common/outline/sidebar/index.styl","hash":"9964a96f9a647cfb16b97679eced79d07e084e6d","modified":1656425735080},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-author-links.styl","hash":"2c2bfbc34b6f19d262ae7c041474985e12f4f4ad","modified":1656425735080},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-author.styl","hash":"d8a028f532d562e6a86bb3b9c7b992e4b6dbbb51","modified":1656425735080},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-nav.styl","hash":"db4f3263b2b6551dd56bfdf33cceaf81661a3611","modified":1656425735080},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-blogroll.styl","hash":"1c324d56ae83e96db2c4c6d63edd7ee51c936fc1","modified":1656425735080},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-dimmer.styl","hash":"57ed6770535ecb2e6485a0c87d4de6d6476368b9","modified":1656425735080},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-toc.styl","hash":"081345490271840855d1238b969dbf2e0a2bba8f","modified":1656425735080},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-button.styl","hash":"63d8f5f169c2b1c969928fc79244c5fe89ee484e","modified":1656425735080},{"_id":"themes/next/source/images/avatar.jpg","hash":"6c8990146a8952732d3fa65f7933f4644c62f475","modified":1661260525946},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-toggle.styl","hash":"6681ffe283f8a7e3c86310ef4f6ca1e499c1a19f","modified":1656425735080},{"_id":"themes/next/source/css/_common/outline/sidebar/site-state.styl","hash":"2de038def2cb91da143b14696366c14a66e0e569","modified":1656425735080},{"_id":"public/atom.xml","hash":"55fab23ddf2d5d3aba3f26e8ba5b4135620e9c71","modified":1672135515421},{"_id":"public/commonweal/index.html","hash":"a76c8bce8669e3c688d650294772185f931e26a0","modified":1672135515421},{"_id":"public/Vue/index.html","hash":"b130a30e98946d5cfce2de5e59c9cdaef140d8a4","modified":1672135515421},{"_id":"public/Vue/dependency.html","hash":"3f1814c17d491dcd7f5e299d9d0fe5f99b32b14d","modified":1672135515421},{"_id":"public/index.html","hash":"13e33092c10c3f18959eb788eaaf63f26d0d8cf4","modified":1672135515421},{"_id":"public/nodejs/index.html","hash":"33399bbd22ea2e35bf20372138313ca4c2d87047","modified":1672135515421},{"_id":"public/nodejs/install-diff-version-node-by-nvm.html","hash":"0864bae6b89109ce46a9b19e9841654566a4af6f","modified":1672135515421},{"_id":"public/2022/11/23/15-js-transform/js-transform/index.html","hash":"f3b73c689c2af5b09490bf9d2bffc79422baab27","modified":1672135515421},{"_id":"public/2022/11/23/1-hello-world/index.html","hash":"4e46925c978b4abd34c1d6a7d121face45bd4c83","modified":1672135515421},{"_id":"public/2022/11/10/42-scrollInToView-params/index.html","hash":"c267a18191d5a764f9c32b06d70b6e325941b767","modified":1672135515421},{"_id":"public/2022/10/26/41-js-equal-type/index.html","hash":"fe2a558fe38aa5aaea5067be1d6e717107715c27","modified":1672135515421},{"_id":"public/2022/08/19/22-about-symbol/index.html","hash":"78dc527a9c9bcc9244199b748868c5cb54763865","modified":1672135515421},{"_id":"public/2022/08/05/20-create-vscode-plugin/index.html","hash":"7048fe9f1e7137a008e5597e861383440b27fe4e","modified":1672135515421},{"_id":"public/2022/07/19/16-origin-type-and-reference-type/index.html","hash":"36bacf4e28d9605d95a3851241bd599d7f29586f","modified":1672135515421},{"_id":"public/2022/06/30/12-create-github-tokens/index.html","hash":"d845932e220ea49fb2e97c864a4eabd3f49a095e","modified":1672135515421},{"_id":"public/2022/06/23/7-question-about-render/index.html","hash":"728a901221e0d1c10df4da3256d8e2ddc51271cd","modified":1672135515421},{"_id":"public/2022/06/22/6-vue3-render/index.html","hash":"5df06ab21553417f16c8db717775b7ae3bab98bc","modified":1672135515421},{"_id":"public/2022/06/22/5-react-render/index.html","hash":"d34b817b55c2251dcec92ff38538caa72265a70e","modified":1672135515421},{"_id":"public/2022/03/26/2-var-const-let/index.html","hash":"b9955bad0e6dd6730bca330a1696f7b74151fd97","modified":1672135515421},{"_id":"public/archives/page/3/index.html","hash":"8e580afc0bed97a7746733c384df8e15b250e8ee","modified":1672135515421},{"_id":"public/archives/2022/page/3/index.html","hash":"8a611812b7505dccace5219d8b68a2c10b3b1945","modified":1672135515421},{"_id":"public/archives/2022/03/index.html","hash":"78b5819f83558b6417860a8943aec415ec6a3a8c","modified":1672135515421},{"_id":"public/archives/2022/05/index.html","hash":"7f2c124bf6d50ba454d36bf520267aa7141a3408","modified":1672135515421},{"_id":"public/archives/2022/06/index.html","hash":"208a7839d2aa0e2b2a735b9a9bf4ad09848609de","modified":1672135515421},{"_id":"public/archives/2022/07/index.html","hash":"31f81eff3122a15f831358d6c24828e872ceac9e","modified":1672135515421},{"_id":"public/archives/2022/08/index.html","hash":"d90d172786f849fed1f15401f7686e7d980a32c5","modified":1672135515421},{"_id":"public/archives/2022/09/index.html","hash":"e70d45ce4783a0c391c7143b78688a3f9de6b4a0","modified":1672135515421},{"_id":"public/archives/2022/10/index.html","hash":"7d3afae014792963b28ff2fb6160f0ffebe7d208","modified":1672135515421},{"_id":"public/archives/2022/11/index.html","hash":"836da17a637a1bfc29fca95e3a330832b82955a7","modified":1672135515421},{"_id":"public/archives/2022/12/index.html","hash":"49cce6ab682bbdafe290a22ad42c64d3a335942e","modified":1672135515421},{"_id":"public/Vue/change.html","hash":"a0e63bdad2fbe1123147493ba5218e85934f7401","modified":1672135515421},{"_id":"public/nodejs/nodejs-note-1.html","hash":"3554fafbdf1523159568223eb6dc936139b8ec9a","modified":1672135515421},{"_id":"public/nodejs/nodejs-note-2.html","hash":"a5f6008162f2194a01c58436c9eb8c2f998786a3","modified":1672135515421},{"_id":"public/nodejs/nodejs-note-4.html","hash":"978255ae95fc64ab49082dc63f162eb9d12f2105","modified":1672135515421},{"_id":"public/nodejs/nodejs-note-3.html","hash":"bc2f786fe3c712ed901fa99cb9ec8d1678fc88c2","modified":1672135515421},{"_id":"public/nodejs/nodejs-note-5.html","hash":"ada1dcdea313810331e693ab40de1e5730e48367","modified":1672135515421},{"_id":"public/nodejs/nodejs-note-7.html","hash":"460adbd95ced9256996a5d5d41b5472d7cf311e5","modified":1672135515421},{"_id":"public/nodejs/nodejs-note-6.html","hash":"0be504e57f04adf15ebb73f5b3cfef1269eaf705","modified":1672135515421},{"_id":"public/2022/12/08/43-compress-picture/index.html","hash":"f1e512b2a3964e4ebc5f4865df5538937b92c189","modified":1672135515421},{"_id":"public/2022/10/17/40-tail-call/index.html","hash":"ae730feded8443b10942e9a38612988db8db3080","modified":1672135515421},{"_id":"public/2022/10/13/39-data-structure7/index.html","hash":"bc57f6466644f5ef3cd8eea03490f6293578ba9b","modified":1672135515421},{"_id":"public/2022/10/13/38-data-structure6/index.html","hash":"b3a0431edd8870d3e5f94abc516eb34e9e1055fb","modified":1672135515421},{"_id":"public/2022/10/08/37-data-structure5/index.html","hash":"f74b8bd861f5b2bd9f8facd16d1dcabf585c1a77","modified":1672135515421},{"_id":"public/2022/10/08/36-data-structure4/index.html","hash":"147e81cc84e83495dac6bd5a5fc44d03c199bd3c","modified":1672135515421},{"_id":"public/2022/09/29/35-data-structure3/index.html","hash":"f21498bb2a0c9c69ef32e59cd8af153993bfdd44","modified":1672135515421},{"_id":"public/2022/09/23/34-data-structure2/index.html","hash":"90e38c2aa0682e701fa1ec411af6cfbe405241ca","modified":1672135515421},{"_id":"public/2022/09/21/32-apply-array-to-params/index.html","hash":"6a2ada93c0e045f96c50f2be49ab5de830f4d35d","modified":1672135515421},{"_id":"public/2022/09/20/33-data-structure1/index.html","hash":"f66d80db668790ef071f17a2ae3b682158dfd679","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/index.html","hash":"4c5e9e6cc4ee87266aa86fb526e8014b530e469e","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/index.html","hash":"6972cf399f1d273a40221af688c9af8aa01fa6e4","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/index.html","hash":"f59fc581eb22ee20cf5bd56eb883224ad8f9b307","modified":1672135515421},{"_id":"public/2022/09/06/25-about-design-model2/index.html","hash":"1feea635f163d663bc060aa2b62454dcba94f027","modified":1672135515421},{"_id":"public/2022/09/05/31-get-and-set-prototypeof/index.html","hash":"fad1830fccaff83aa485f76bf702d8cbb767bc03","modified":1672135515421},{"_id":"public/2022/09/05/30-some-convenient-code/index.html","hash":"cfee30b7e745aedf799812ccedca04fe24ac0d3c","modified":1672135515421},{"_id":"public/2022/09/04/24-about-design-model1/index.html","hash":"faaee3df389b12bbf5d2cd72c9f055062beccb0c","modified":1672135515421},{"_id":"public/2022/09/02/29-es6-object-strong/index.html","hash":"667b47f6ea48fc86b82df501c38517f99caec370","modified":1672135515421},{"_id":"public/2022/08/20/23-about-design-model/index.html","hash":"7b774a747e5d84ca85197f5a44761b0b13605a3f","modified":1672135515421},{"_id":"public/2022/08/09/21-devan-operation/index.html","hash":"608c46e5a76a6f57aabad773f5e4b1a92ae4e960","modified":1672135515421},{"_id":"public/2022/08/04/19-about-map/index.html","hash":"4667e183a2e00f376bf1be10fbb8cbbf2581979d","modified":1672135515421},{"_id":"public/2022/08/04/18-fake-array/index.html","hash":"3eafddfd9a08b77a248ea9a47cacb1f6a403dbb3","modified":1672135515421},{"_id":"public/2022/07/31/17-about-dom/index.html","hash":"36445641bd3eeae1659a59e4178b3cadda429768","modified":1672135515421},{"_id":"public/2022/07/19/15-js-transform/index.html","hash":"4adafd3254ac48ad4175f300d4c192b1f50da8ca","modified":1672135515421},{"_id":"public/2022/07/12/14-about-fe-theory/index.html","hash":"3b6130a294eb1d0a0c5bebc8f4de27c39759ae8b","modified":1672135515421},{"_id":"public/2022/07/05/13-document-location/index.html","hash":"909506be3ac96c94c319e12fb2373b3b97c26ffe","modified":1672135515421},{"_id":"public/2022/06/30/11-github-push-insert-password/index.html","hash":"ef3953ccb8a3f524fd40b6d7fde9665e5f2f6622","modified":1672135515421},{"_id":"public/2022/06/28/10-about-meta/index.html","hash":"a35815a8f927b3a3874eec63f35da7a76aeca117","modified":1672135515421},{"_id":"public/2022/06/27/9-text-type-about-markdown/index.html","hash":"6614160c7d264ce2054bc77851b2f4f84832cac7","modified":1672135515421},{"_id":"public/2022/06/27/8-create-fixed-length-array/index.html","hash":"91cd1d9f80a5c26f76abca7c0f9b56f550ae8a9b","modified":1672135515421},{"_id":"public/2022/05/23/4-browser-render/index.html","hash":"4b4f16fe70bcdd42759a25cef31d52215b452717","modified":1672135515421},{"_id":"public/2022/03/26/3-about-use-hexo/index.html","hash":"b0922ae6580fd50ca53cc4688c7500761bb03229","modified":1672135515421},{"_id":"public/archives/index.html","hash":"259bb480072ec3f4f8e6850a4376f56e7397597e","modified":1672135515421},{"_id":"public/archives/page/2/index.html","hash":"8b106f70cb78cb171851acc2033ec0b17ea9840e","modified":1672135515421},{"_id":"public/archives/2022/index.html","hash":"1f04ecb68a523acfa1658766811d986c2a6a139d","modified":1672135515421},{"_id":"public/archives/2022/page/2/index.html","hash":"6f304a0e85d05eaf73d3ea4b9e15deb1701533d3","modified":1672135515421},{"_id":"public/default-index/index.html","hash":"3713e14ea9bbf56d01a98a435828082fd4753784","modified":1672135515421},{"_id":"public/default-index/page/2/index.html","hash":"1545cefd5df41ea5d358665fddc73f7484cd7b9f","modified":1672135515421},{"_id":"public/default-index/page/3/index.html","hash":"efaf04e092a74d047c8e4e56279c4fcbb059810b","modified":1672135515421},{"_id":"public/default-index/page/4/index.html","hash":"59972295ac988d986235ba02b1b073aa5f4b4fe4","modified":1672135515421},{"_id":"public/default-index/page/5/index.html","hash":"eb481cb9e871df411e94819fde3628a0c7868014","modified":1672135515421},{"_id":"public/nodejs/images/async-progress.png","hash":"5e6ef5a50ac929df8694a62ec96202048c4bb18b","modified":1672135515421},{"_id":"public/nodejs/images/async-experience.png","hash":"c7c903136156205117f819ae03a5ce81204c23b9","modified":1672135515421},{"_id":"public/nodejs/images/async-call.png","hash":"cf73b4e1fa6ef2c5eb1d6813c73ed2abe6bb5989","modified":1672135515421},{"_id":"public/nodejs/images/buffer-1.png","hash":"2ddb6050f0ebac6bb733b8d50f9abdb71bb21563","modified":1672135515421},{"_id":"public/nodejs/images/buffer-3.png","hash":"586ecdade8a0bd9f926e4a9e4c8f9b328517719d","modified":1672135515421},{"_id":"public/nodejs/images/buffer-2.png","hash":"3fc41fcc7896fe6af165cbdb5f4048770c915b9e","modified":1672135515421},{"_id":"public/nodejs/images/buffer.png","hash":"0c585b0181968674a65b89c42f8c31421af99dc6","modified":1672135515421},{"_id":"public/nodejs/images/bigpipe.png","hash":"dc9b44b4ed5e79203f2690bd2e87ee7aefac6b23","modified":1672135515421},{"_id":"public/nodejs/images/ca-1.png","hash":"89317164d8d399085df7d23a37d737c26a2c5a30","modified":1672135515421},{"_id":"public/nodejs/images/ca.png","hash":"81f692dee7584b2c9d6e7ad0360b4461953c40d9","modified":1672135515421},{"_id":"public/nodejs/images/commonjs-node-relation.png","hash":"5cc6679d9fe66c78a61dbacd4e94f3f11fd848d2","modified":1672135515421},{"_id":"public/nodejs/images/cache.png","hash":"1ac69103427a3c1a8b0022af1620a927362c3385","modified":1672135515421},{"_id":"public/nodejs/images/collect-diff.png","hash":"d69687d4300e224c23ef3169a9c6e4f3db396fc3","modified":1672135515421},{"_id":"public/nodejs/images/cross-platform.png","hash":"2c1a28975ade0c9f106e3716dcaf24c877e0773d","modified":1672135515421},{"_id":"public/nodejs/images/defer-promise.png","hash":"6b8484c9a5882e75524b0944be43b010c22e1d5c","modified":1672135515421},{"_id":"public/nodejs/images/epoll-loop.png","hash":"bc7af5054040babc3f1af3b688d8764760f7bfb3","modified":1672135515421},{"_id":"public/nodejs/images/fork.png","hash":"d3796212324ee8f24e8405d54ec6ad8e57b49bf8","modified":1672135515421},{"_id":"public/nodejs/images/how-to-call-async.png","hash":"39ac29400db5abed7d02b2b3e3397cc761006271","modified":1672135515421},{"_id":"public/nodejs/images/jam.png","hash":"638a73d978e27ade2b7e8e0ac66d340caa63453d","modified":1672135515421},{"_id":"public/nodejs/images/http.png","hash":"335a31f82a46e1bf32a09cdd9f51a17aaf827a14","modified":1672135515421},{"_id":"public/nodejs/images/increase-target.png","hash":"55ed1f32bfd6360265eb8b16ce0f0ed2c21c514c","modified":1672135515421},{"_id":"public/nodejs/images/loop.png","hash":"a1b9e75136f79dcccdafc48d6f30606b8664a9f4","modified":1672135515421},{"_id":"public/nodejs/images/loop-1.png","hash":"7dd0d30cf11ca3d1851d68d9c04b186d0b97aa23","modified":1672135515421},{"_id":"public/nodejs/images/master-slave.png","hash":"4f45a0cadfd5ab7633103418fcf49bcc018da4d2","modified":1672135515421},{"_id":"public/nodejs/images/middle.png","hash":"e68b0513b166f049e4f0d72b91e1d5c2c8338747","modified":1672135515421},{"_id":"public/nodejs/images/mvc.png","hash":"f86ed56705edc5f57ab24298801afe09cd4badc6","modified":1672135515421},{"_id":"public/nodejs/images/net-2.png","hash":"1b28b0d5d2ac3d95c136285f9be2d83ba2ba7bdb","modified":1672135515421},{"_id":"public/nodejs/images/net-3.png","hash":"8af8561052ec1608a0773304cf04af4234557052","modified":1672135515421},{"_id":"public/nodejs/images/net-1.png","hash":"4f9169ff8774a785573375b0eae0bf611d918376","modified":1672135515421},{"_id":"public/nodejs/images/no-jam.png","hash":"5d4728cbaa1c2f7e680f6f3a12202ec94347211c","modified":1672135515421},{"_id":"public/nodejs/images/net-4.png","hash":"81f06ad4be9d956662e629238db1590287228ce7","modified":1672135515421},{"_id":"public/nodejs/images/node-modules.png","hash":"e5835f2da7cca29d0eb1676c7b081c7122a52528","modified":1672135515421},{"_id":"public/nodejs/images/node-require.png","hash":"9e2fd7eee0b6bdf918b4fb34544beb7424702ab8","modified":1672135515421},{"_id":"public/nodejs/images/nvm-setting.png","hash":"742427d031db38180aebc79883d7fe7f2b5082dd","modified":1672135515421},{"_id":"public/nodejs/images/nvm-setting-content.png","hash":"8d0ebc40648adcebe40cc663caab2cee4b8f6436","modified":1672135515421},{"_id":"public/nodejs/images/package.png","hash":"dccf0cad2808e81718b9efe11c884aa24fe6b73d","modified":1672135515421},{"_id":"public/nodejs/images/pipe-1.png","hash":"7385963b2e8c0359641f3f3ccf316dbcb60b32f8","modified":1672135515421},{"_id":"public/nodejs/images/pipe-4.png","hash":"ce3c89fb6762678626193ff9fc6aaa9227de6660","modified":1672135515421},{"_id":"public/nodejs/images/pipe.png","hash":"e92d4834ee1fc339f8d36a745950a10d7633955a","modified":1672135515421},{"_id":"public/nodejs/images/pipe-2.png","hash":"7bda2919687448a1c427e768f6474271782ef1fa","modified":1672135515421},{"_id":"public/nodejs/images/pipe-3.png","hash":"38b94af4d0d88bef05b17d1233bf2e3b3623b25e","modified":1672135515421},{"_id":"public/nodejs/images/product.png","hash":"47cef8cf353b57b3a18c013ea8b6bed0a8e617cf","modified":1672135515421},{"_id":"public/nodejs/images/poll-loop.png","hash":"8d0bfc2b615eb460d6ab8be0837e523af238c8f0","modified":1672135515421},{"_id":"public/nodejs/images/read-loop.png","hash":"8656ba0172108ecb0a251139cbe0a8df61873b40","modified":1672135515421},{"_id":"public/nodejs/images/select-loop.png","hash":"bba3437eb7794c0fe3abb77fb37ac8897bf19bb5","modified":1672135515421},{"_id":"public/nodejs/images/product-1.png","hash":"a127d5caca21588163ce2a98490b4f677aeb78c6","modified":1672135515421},{"_id":"public/nodejs/images/settimeout.png","hash":"55f051726fe3210ac5ad039ce469da805b5c45de","modified":1672135515421},{"_id":"public/nodejs/images/tail-trigger.png","hash":"052e9473880c882918ae9b763b9fa6f808bccdf1","modified":1672135515421},{"_id":"public/nodejs/images/test-1.png","hash":"0bac06c06b58a4a61acd1a6c17971046d56c1d82","modified":1672135515421},{"_id":"public/nodejs/images/test-2.png","hash":"e613d096c62a0d27f72b8b50224e5b5fafafc3e9","modified":1672135515421},{"_id":"public/nodejs/images/sweep-compact.png","hash":"5af9bde21db63d1483a807be5b0f6cde77ef5cda","modified":1672135515421},{"_id":"public/nodejs/images/tls-ssl.png","hash":"e7011243d619ef7b1f2489146744a741d80e027d","modified":1672135515421},{"_id":"public/nodejs/images/test.png","hash":"840cda90b44467e3648decdf62f1d146f1261538","modified":1672135515421},{"_id":"public/nodejs/images/v8-promot.png","hash":"28d3849e4e768a3ae7954bae653b55ce6e9a7bb5","modified":1672135515421},{"_id":"public/nodejs/images/v8-promot2.png","hash":"4fe47a4a361987c7928001641f8b092af4f5764a","modified":1672135515421},{"_id":"public/nodejs/images/websocket-1.png","hash":"a6e3598d6c9cdef36c1930c9e7535c3a76b1dcc9","modified":1672135515421},{"_id":"public/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1672135515421},{"_id":"public/nodejs/images/websocket.png","hash":"907dcc1e99f2e6d20f1133508ff3b84e1985e065","modified":1672135515421},{"_id":"public/images/avatar.gif","hash":"2dbc3e2f2d624b2ca1afe6edc2ca17307f1950c8","modified":1672135515421},{"_id":"public/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1672135515421},{"_id":"public/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1672135515421},{"_id":"public/images/logo.jpeg","hash":"cf0f17140f5d4eefe4607db39c354c73eb9b6500","modified":1672135515421},{"_id":"public/images/logo.svg","hash":"2cb74fd3ea2635e015eabc58a8d488aed6cf6417","modified":1672135515421},{"_id":"public/images/logo-algolia-nebula-blue-full.svg","hash":"b85e274207b1392782476a0430feac98db1e7da0","modified":1672135515421},{"_id":"public/2022/08/04/18-fake-array/document.png","hash":"c0e73c5d922eaf7f899856685f5fbd8245517fe8","modified":1672135515421},{"_id":"public/2022/08/04/18-fake-array/array_from.png","hash":"50733fd866277f6aa27e12e432f2511fa886855f","modified":1672135515421},{"_id":"public/2022/08/04/18-fake-array/prototype_call.png","hash":"166ae1ed6f21a1c4ee961508d06adae89f22c6d6","modified":1672135515421},{"_id":"public/2022/08/04/18-fake-array/slice_call.png","hash":"a97bd9fef96df18bbe6097521df710bd9615090a","modified":1672135515421},{"_id":"public/2022/09/04/24-about-design-model1/abstract-car.png","hash":"63b2384c0b130f2d40907996aeb528d2131ab01f","modified":1672135515421},{"_id":"public/2022/09/04/24-about-design-model1/safe-model-class.png","hash":"90a874baec5df9156cf7b65d7c7754d28c82337e","modified":1672135515421},{"_id":"public/2022/09/04/24-about-design-model1/static-param.png","hash":"ec22668e0901214c3d2efadcdae0ae34f801c2ac","modified":1672135515421},{"_id":"public/2022/09/06/25-about-design-model2/bridge1.png","hash":"70973d153e1e628ebf1152bce98b1a68b7530784","modified":1672135515421},{"_id":"public/2022/09/06/25-about-design-model2/bridge2.png","hash":"0d4e3980c0c177ef97e690e69919f954f2292ddb","modified":1672135515421},{"_id":"public/2022/09/06/25-about-design-model2/bridge3.png","hash":"8358d5a031c07b8a0dbe61df13f0642bf03b7c5d","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/command-model-3.png","hash":"f8973520dfc9d241d4e418d016dbde7cf647482f","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/explain-model-2.png","hash":"13dd495c6f42e9820c60034d2e87bc917486129e","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/observer-regist.png","hash":"160d15173ed43415298e65c9b3d9a63159aacb91","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/entrust-model-2.png","hash":"71764eebae7d27ba83deff08b4d925307914e3d0","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/lazy-model-1.png","hash":"5237b5b92b4b542f593af63d48afb088237eb2ed","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/localstorage-model-1.png","hash":"d78dd470675aa3f2a42ad1ce9617ef7d89e2168a","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/participate-model-1.png","hash":"44ef46104d7428d99d7b80b7ca8e2f9059d02340","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/participate-model-2.png","hash":"04cb3a2efcc6a9a9b3cc52a11c14b75ebfa332d6","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/template-model-6.png","hash":"f34ff79b1d619c45ccb21c2158a4680a6617942f","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/waiter-model-3.png","hash":"b59dca3e470f10063815167bca6227f8341dbc8e","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/waiter-model-8.png","hash":"9be78a26ae2db46d9ec8d4bb36902be64991e2f9","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/async-module-model-2.png","hash":"8898b83e3301783ee9bfb43b2488f4171e86a2bc","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/async-module-model-7.png","hash":"8473d1889cf3ba7e45e0b71a8dd861cc233f05c2","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/async-module-model-8.png","hash":"3a03fb902c96d787e256412ebc5a604a26aabd93","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/async-module-model-9.png","hash":"3959c02225b63e07adce93a968ed0bb0e2e6c365","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/module-model-5.png","hash":"c866de378508cfdbfd9307dd72b719577d2a3cff","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/mvc-model-1.png","hash":"9fe4ed86ba3315ba722de0660cc6ec5770666487","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/mvc-model-4.png","hash":"03b64f2faf10dbcc8c3a32fb96b29e0b135f2f49","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/mvp-model-1.png","hash":"ff42b48b0eb5f6ac14adc79c348d093c14f164de","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/mvp-model-7.png","hash":"85c76e7e1a84df4345885b58a4495b8472da6c7c","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/mvvm-model-2.png","hash":"3cb6051a5054c50231162690a8494170b90397f4","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/widget-model-1.png","hash":"4f89287a4f8aa1122864cbc4c77f89d592a68c45","modified":1672135515421},{"_id":"public/2022/09/23/34-data-structure2/chain-table-2.png","hash":"ea63e231035c3929b320bb52dc63c363a1b1ff39","modified":1672135515421},{"_id":"public/2022/09/23/34-data-structure2/chain-table-1.png","hash":"b4a240e43972349b743117265ca1897051389bed","modified":1672135515421},{"_id":"public/2022/09/23/34-data-structure2/chain-table-3.png","hash":"6db25c5f058ceecae16751cea75e2a13e62a6b3d","modified":1672135515421},{"_id":"public/2022/09/23/34-data-structure2/chain-table-4.png","hash":"04054fdc4cbdfb48b13bde3769b7ccb590e6bff9","modified":1672135515421},{"_id":"public/2022/10/08/36-data-structure4/binary-search-tree.png","hash":"ad74f8c6b96f77ca95d6b9b48cf87fda5efcfdbc","modified":1672135515421},{"_id":"public/2022/10/08/36-data-structure4/factorial.png","hash":"ddfb0d84eab3db09c51a4b87376c023e35c597be","modified":1672135515421},{"_id":"public/2022/10/08/36-data-structure4/in-order-traverse.png","hash":"db6c59fc444e910a9921f50bc9e8e66964ef2849","modified":1672135515421},{"_id":"public/2022/10/08/36-data-structure4/left-left-1.png","hash":"655a6a8118dd11fffc1c0bf38c1a06fd9d861fb7","modified":1672135515421},{"_id":"public/2022/10/08/36-data-structure4/left-left-2.png","hash":"31829f0a81c4d517a768b0d824702e96ed38af94","modified":1672135515421},{"_id":"public/2022/10/08/36-data-structure4/left-right-1.png","hash":"b0d03e54c49df4be3cdc60f9436e4ecb40a3c6b6","modified":1672135515421},{"_id":"public/2022/10/08/36-data-structure4/left-right-2.png","hash":"dde339c5a7c4a70be0a832190a2678237f10331d","modified":1672135515421},{"_id":"public/2022/10/08/36-data-structure4/post-order-traverse.png","hash":"aee9c88702a4fa397c4146e997f7ba3504b19a3e","modified":1672135515421},{"_id":"public/2022/10/08/36-data-structure4/pre-order-traverse.png","hash":"d93c415f7de4fd6c9d5bf3dfc7fdaf4484d6173c","modified":1672135515421},{"_id":"public/2022/10/08/36-data-structure4/red-black-2a.png","hash":"618993219918c6d178ac4f468129647d0c0d6f72","modified":1672135515421},{"_id":"public/2022/10/08/36-data-structure4/red-black-2b.png","hash":"88a4290e21e993ca3a39a86a83283bc607f24b9c","modified":1672135515421},{"_id":"public/2022/10/08/36-data-structure4/red-black-3a.png","hash":"6db63a5d31e7477b9d3a7ce036c9607db9262fb8","modified":1672135515421},{"_id":"public/2022/10/08/36-data-structure4/red-black-3b.png","hash":"e4f8a20d976abc667a94482eeeeaa0f5281c410e","modified":1672135515421},{"_id":"public/2022/10/08/36-data-structure4/remove-left-right.png","hash":"4141ff9827c5c74323d60196c96038c898c07cf6","modified":1672135515421},{"_id":"public/2022/10/08/36-data-structure4/right-left-2.png","hash":"9fd153762d1b34409ac583c8dd871153f0ce5fc1","modified":1672135515421},{"_id":"public/2022/10/08/36-data-structure4/right-left-1.png","hash":"3d1ec645ec1def7aeb460386d421b9dc3cc684e0","modified":1672135515421},{"_id":"public/2022/10/08/36-data-structure4/right-right-2.png","hash":"b6a6f5a17aa73fc8daf16313e0204a05314c3c16","modified":1672135515421},{"_id":"public/2022/10/08/36-data-structure4/right-right-1.png","hash":"5d6258c158f22e8582f538f06c89dc86bbedfba7","modified":1672135515421},{"_id":"public/2022/10/13/39-data-structure7/big-o-1.png","hash":"bfc4e8cd9822858a4f5afd7ea21ac69ae391248f","modified":1672135515421},{"_id":"public/2022/10/08/36-data-structure4/tree.png","hash":"c1a3dff14361fa7bfc3f73bf7391d46c57044737","modified":1672135515421},{"_id":"public/2022/10/13/39-data-structure7/big-o-2.png","hash":"5abf1a71a4b31ade53b60d5d6edf850266d502e2","modified":1672135515421},{"_id":"public/2022/10/13/39-data-structure7/big-o-3.png","hash":"b7140be66eb3272f0dd9c183b48cfb8555cb4511","modified":1672135515421},{"_id":"public/2022/10/13/39-data-structure7/big-o-5.png","hash":"0e81454c15a22289ae8fd29e9ba356f9058ca226","modified":1672135515421},{"_id":"public/2022/10/13/39-data-structure7/technology-1.png","hash":"25d324e43b4ae5d4921a2fa9bf40479a54ba55d2","modified":1672135515421},{"_id":"public/2022/10/13/39-data-structure7/big-o-4.png","hash":"75fd12b92a8ef511524bb5306c73fb63346d586d","modified":1672135515421},{"_id":"public/2022/10/13/39-data-structure7/big-o-6.png","hash":"443cef5a2ff290edd7a7b9f9c3e4580e9d8375b3","modified":1672135515421},{"_id":"public/2022/10/13/39-data-structure7/technology-2.png","hash":"00436e4649e1f7cdeecb39e78e1cece84a8c0591","modified":1672135515421},{"_id":"public/2022/10/13/39-data-structure7/technology-3.png","hash":"fe308b75c03e0efc9bc24154073ae4a31c1fc73f","modified":1672135515421},{"_id":"public/2022/10/13/39-data-structure7/technology-4.png","hash":"956d458c4792a6a56ad0f9292f3e7773bafca1d1","modified":1672135515421},{"_id":"public/2022/10/13/39-data-structure7/technology-5.png","hash":"61dc4bb992375a4f2d5c5b5afdb594877f58510a","modified":1672135515421},{"_id":"public/2022/10/08/37-data-structure5/graph-1.png","hash":"a1b2db6ab3de04b1adf413855eaa4220c96ae523","modified":1672135515421},{"_id":"public/2022/10/08/37-data-structure5/graph-10.png","hash":"be4ed69d06ae7dcea2b875b3b0ce92922a7fd0b2","modified":1672135515421},{"_id":"public/2022/10/08/37-data-structure5/graph-13.png","hash":"0ef979dea025ae063ccc8477915e14c2bada6f77","modified":1672135515421},{"_id":"public/2022/10/08/37-data-structure5/graph-11.png","hash":"070f67f44e46097fb8750af9a315c9bca7fc6c0f","modified":1672135515421},{"_id":"public/2022/10/08/37-data-structure5/graph-12.png","hash":"b557ac7c33f3672b559a4a1eacf84aba2fcff1cf","modified":1672135515421},{"_id":"public/2022/10/08/37-data-structure5/graph-2.png","hash":"f56455b618e7b41e84fba80e91ade7ed29df91ca","modified":1672135515421},{"_id":"public/2022/10/08/37-data-structure5/graph-3.png","hash":"4bca0b6ea37be10e8ab4b015ab1879bc9c95f98b","modified":1672135515421},{"_id":"public/2022/10/08/37-data-structure5/graph-5.png","hash":"a85fa2dffae020f8d02eebce15b1592e9b222a5e","modified":1672135515421},{"_id":"public/2022/10/08/37-data-structure5/graph-4.png","hash":"47bcd4a1de612d5af3bd3301602b4b6bc07b4c6a","modified":1672135515421},{"_id":"public/2022/10/08/37-data-structure5/graph-6.png","hash":"3781b637547025de758bec7262c50fe45bb57774","modified":1672135515421},{"_id":"public/2022/10/08/37-data-structure5/graph-7.png","hash":"dbd8e52679bcbf321c3a8d17006729c4af0c87ad","modified":1672135515421},{"_id":"public/2022/10/08/37-data-structure5/graph-8.png","hash":"93de61e5c29df7b193e41f2595521446bc81226d","modified":1672135515421},{"_id":"public/2022/10/08/37-data-structure5/heat.png","hash":"a37ac1abfbbf1bd9742deec30a783d0f90e49657","modified":1672135515421},{"_id":"public/2022/10/08/37-data-structure5/min-heat.png","hash":"c2c5f8cc68ba6cf3d89bebb94c0a7a7d22c1e5a0","modified":1672135515421},{"_id":"public/2022/09/29/35-data-structure3/lose-lose.png","hash":"55e49878d996f933010c1ac93b306b407a74019a","modified":1672135515421},{"_id":"public/2022/09/29/35-data-structure3/linear-probing.png","hash":"0a020e8afc93027a2f5d6873414f7afbfa4b6f83","modified":1672135515421},{"_id":"public/2022/09/29/35-data-structure3/move-key.png","hash":"ebb4944fee6e7aa9426ad27101ccaaca152e2fa2","modified":1672135515421},{"_id":"public/2022/09/29/35-data-structure3/soft-delete.png","hash":"f8fc5195e6b92a91af6b1a283be51fea18d95ccb","modified":1672135515421},{"_id":"public/2022/09/29/35-data-structure3/sperate-chain.png","hash":"1c7b05c0f24bd68757a3497182c41da36cf91bbc","modified":1672135515421},{"_id":"public/2022/10/13/38-data-structure6/search-1.png","hash":"a844a9c7aabbe1a2fc3c7151e88a35f494e9d09b","modified":1672135515421},{"_id":"public/2022/10/13/38-data-structure6/search-2.png","hash":"3626ed24aaf5d1563eb1daa3a4f8d5136150bb83","modified":1672135515421},{"_id":"public/2022/10/13/38-data-structure6/search-3.png","hash":"719072030a73de7c3054974d55b626d221894218","modified":1672135515421},{"_id":"public/2022/10/13/38-data-structure6/sort-1.png","hash":"97f90c860ce1d2669135aa5a7a474aeb7a799ad6","modified":1672135515421},{"_id":"public/2022/10/13/38-data-structure6/search-4.png","hash":"ecf4e1f8dd0fdf38b91d89de529f09da6eb88dd8","modified":1672135515421},{"_id":"public/2022/10/13/38-data-structure6/sort-10.png","hash":"cbb2fbde7d06aae552356dd7e4c65274d322f0fe","modified":1672135515421},{"_id":"public/2022/10/13/38-data-structure6/sort-11.png","hash":"067113a10d14e5524fe4e7972c61d1b077811134","modified":1672135515421},{"_id":"public/2022/10/13/38-data-structure6/sort-12.png","hash":"a8fdcaca8fd646997a58eca48c76809cb25c7571","modified":1672135515421},{"_id":"public/2022/10/13/38-data-structure6/sort-3.png","hash":"913bb3906ff437f6dfe6a773b852918b7a49ae0d","modified":1672135515421},{"_id":"public/2022/10/13/38-data-structure6/sort-2.png","hash":"a63daadd4590ed6b4ad7519bd1a14ae4be364a64","modified":1672135515421},{"_id":"public/2022/10/13/38-data-structure6/sort-4.png","hash":"273c67388337e6e5eeb6c6e3486e5047d8d02321","modified":1672135515421},{"_id":"public/2022/10/13/38-data-structure6/sort-5.png","hash":"05867cc82ce12a1a2b6c92d0d37e2155df04d0a5","modified":1672135515421},{"_id":"public/2022/10/13/38-data-structure6/sort-6.png","hash":"c4802ae6c84bee330fec94ddd888543a590ec692","modified":1672135515421},{"_id":"public/2022/10/13/38-data-structure6/sort-8.png","hash":"f62f618f88c3715fa98532f136e36afea5153b3b","modified":1672135515421},{"_id":"public/2022/10/13/38-data-structure6/sort-9.png","hash":"b1a616076a59411ae21537a155e8f12e198c78b0","modified":1672135515421},{"_id":"public/2022/10/13/38-data-structure6/sort-7.png","hash":"681be89ab6425489c526125d890ae38ef8ee1435","modified":1672135515421},{"_id":"public/2022/10/17/40-tail-call/call-stack.png","hash":"9ceba234d31d636baca2b4f2af1384b6b25d4a4a","modified":1672135515421},{"_id":"public/2022/06/22/6-vue3-render/render.png","hash":"0b20ebf2700ccd675e40f6330e07dce8341807a0","modified":1672135515421},{"_id":"public/nodejs/images/nvm-download.png","hash":"1fddd6469f02c83d3c54603c3f43a72224565a29","modified":1672135515421},{"_id":"public/nodejs/images/nvm-install.png","hash":"347c3fe9e8ac21a112d1eba02b594b5f5b2af672","modified":1672135515421},{"_id":"public/images/avatar.jpg","hash":"6c8990146a8952732d3fa65f7933f4644c62f475","modified":1672135515421},{"_id":"public/2022/09/04/24-about-design-model1/abstract-factory2.png","hash":"a1a8a6b4b0c2aa47bbc543add6b6a675670b41ce","modified":1672135515421},{"_id":"public/2022/09/04/24-about-design-model1/human.png","hash":"f78b9964ce7223cc99122c99667673d9242df348","modified":1672135515421},{"_id":"public/2022/09/04/24-about-design-model1/lazy-single-instance.png","hash":"4bbd91090a4364cc48ec5cf388ae29f1f3626b8a","modified":1672135515421},{"_id":"public/2022/09/04/24-about-design-model1/name.png","hash":"d46e84150e7fdea9eb17d8ad0624e7eb79654ace","modified":1672135515421},{"_id":"public/2022/09/04/24-about-design-model1/person.png","hash":"12e19fccdb8ee0dea2ec9e55c4f55125a536b76e","modified":1672135515421},{"_id":"public/2022/09/04/24-about-design-model1/prototype-inherit2.png","hash":"cd61b59785ea6144fabce855bd363ff7906468a9","modified":1672135515421},{"_id":"public/2022/08/20/23-about-design-model/how-to-inherit.png","hash":"2610b10429de1454b684733ede30778da89da750","modified":1672135515421},{"_id":"public/2022/08/20/23-about-design-model/parasitic-inherit.png","hash":"dcde79d7db360d5f56bf441be778908d3056f693","modified":1672135515421},{"_id":"public/2022/08/20/23-about-design-model/prototype-inherit.png","hash":"a5f0085a3caf9e0519fe3cb26129dd144cfc7594","modified":1672135515421},{"_id":"public/2022/08/20/23-about-design-model/prototype.png","hash":"fe3518ce58c5945b8f5db473d69be75f67a98b0a","modified":1672135515421},{"_id":"public/2022/08/20/23-about-design-model/public-and-private.png","hash":"275fce752eaeadf6eee22e10bf14451ed9eb675c","modified":1672135515421},{"_id":"public/2022/08/20/23-about-design-model/simple-factory2.png","hash":"e8d75951fa119c24b2c188eb639f16a32bf70928","modified":1672135515421},{"_id":"public/2022/08/20/23-about-design-model/static-and-public.png","hash":"aef2330dce27ebc420b7654abdf1859266ec48a4","modified":1672135515421},{"_id":"public/2022/09/06/25-about-design-model2/decorator.png","hash":"a0fdfe4dc2b74b52a33fd13ed7e1b3c1fba8480e","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/add-message.png","hash":"03712141c27e51d24f4361c6c48a609b366f5692","modified":1672135515421},{"_id":"public/2022/09/06/25-about-design-model2/station-culculate.png","hash":"26cda447bac04b0260f0ec11ca1dcb836f93855a","modified":1672135515421},{"_id":"public/2022/09/06/25-about-design-model2/out-look.png","hash":"d9f11180b44ccded8da8ecba5593bdd6ebd58eb4","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/marry-state1.png","hash":"2f5c004568231ff2a14ab499c91aabd48c302f28","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/observer-fire.png","hash":"0204e744bdcb2480cae91e03d4e79c26913cf85a","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/observer-remove.png","hash":"e0e97122604f5eaa716042ffd19d7e6fc4d9535f","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/observer.png","hash":"05738a02cd73736025351c0e9e3fc0d0de27158f","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/regist-change-num.png","hash":"3aa9791db11e1985c21e29959201f022a0f98a88","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/chain-model-1.png","hash":"ac13400dfce89f26fe4bcadca5c2a1f4994083ca","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/chain-model-2.png","hash":"8a59f234053c9a85a94f74273fafed9051ec578d","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/chain-model-4.png","hash":"33fa9dc7cb773d0e519dcb4a4a5869aa78234950","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/lazy-model-2.png","hash":"29a6f621b06f9283d3caff7d3c63f7c711095978","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/entrust-model-1.png","hash":"900a7cc246a17adae923b5e0b87d5b8b8d255674","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/lazy-model-3.png","hash":"7cf3eba1156eb71177fee16c281edfd2f7d3d0e0","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/lazy-model-6.png","hash":"bb1487d2e1e38d3c2ea4cb6dcc310f0025664444","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/lazy-model-5.png","hash":"ce1428d6b73612a3290d3cbd0efa607829fdb233","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/participate-model-3.png","hash":"257320d7e940dcef49305ea8d1642621bfbf3ff1","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/participate-model-4.png","hash":"5f13e728cfa8cf2eabd3925f1a0798bc905d267b","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/participate-model-5.png","hash":"9694840f32c90094e37228de41fc2cfdf4f66388","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/template-model-1.png","hash":"41e2537938230a77a4072987778016031fe92291","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/template-model-3.png","hash":"3a24763c6d9e280dd6c26d966da99ceb0d658ec5","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/template-model-4.png","hash":"b301423b25f6447a52369e96a6f0d1c3b93da6c5","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/waiter-model-4.png","hash":"ad67d02d972353793d59f1ca5f1191fb9a220e52","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/waiter-model-5.png","hash":"30412937d3a27e5d8bf1db0d87fce38a8d59839e","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/waiter-model-6.png","hash":"007198e00695be520e246815152687e250bf4941","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/waiter-model-7.png","hash":"0eefaa7468c3726aecd02980b1c10574a1d06c40","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/async-module-model-4.png","hash":"731b4ee9c777c9d9bd6664bf674e1abf1f48af65","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/async-module-model-5.png","hash":"436f66ba99f8bd7400ad91b3d857d255f6f3034c","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/module-model-2.png","hash":"a22fb6b41b50875766d5382664361095fca59051","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/module-model-3.png","hash":"aa42c569b2a73fae726d6518fda8a48a325c5a3f","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/mvc-model-3.png","hash":"28fd4de773e1352941b4b0773858520ec4e21039","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/mvp-model-4.png","hash":"59ab08a2d276eb142c4789000d2c484aaaeb4890","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/mvvm-model-3.png","hash":"b4f73f397dcb296b03350b04390a8f2cdc0906d4","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/mvvm-model-7.png","hash":"4d8187320d10b1bb36a49169575baf54fe7e7a71","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/widget-model-4.png","hash":"7c2ca9c608b6829fa768590455a8785c9ff13781","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/widget-model-5.png","hash":"5ff7151981d6c83fa8a45556de7e17f4e527c093","modified":1672135515421},{"_id":"public/2022/10/08/37-data-structure5/heap-sort.png","hash":"a344a2264bed09372c160b691a6e0a581bea3bd6","modified":1672135515421},{"_id":"public/2022/10/08/37-data-structure5/min-heat-pic.png","hash":"6d8794be490f9dd7f0664813070eea6169c49181","modified":1672135515421},{"_id":"public/2022/06/22/5-react-render/force_update.png","hash":"f0333239066cd2e4a8cdf12bff8fcdfcc01a7616","modified":1672135515421},{"_id":"public/2022/06/22/5-react-render/update_class.png","hash":"5854028928496a0b6c4ad02452cd07c12650f8e8","modified":1672135515421},{"_id":"public/2022/06/22/6-vue3-render/render_node1.png","hash":"4a4266c87a315afeb55de174b11784431f3c40b9","modified":1672135515421},{"_id":"public/2022/06/22/6-vue3-render/render_node2.png","hash":"bd8cbab05ce653b80a1cc89e609b7ae9c309b7fe","modified":1672135515421},{"_id":"public/css/noscript.css","hash":"ec89b3425fbce20863d554c6fd495ea29c3c303d","modified":1672135515421},{"_id":"public/js/bookmark.js","hash":"0f563ffbf05fad30e854e413ab17ff7164ab5a53","modified":1672135515421},{"_id":"public/js/comments.js","hash":"66ae2e26ea36a41b72c638ea8b220296638ae952","modified":1672135515421},{"_id":"public/js/comments-buttons.js","hash":"1a7344440321713426a0b2ab17e276b5bdf85ade","modified":1672135515421},{"_id":"public/js/config.js","hash":"4c4ebbe3b3f3841a26f9d5af6d0ba8bc6da01c54","modified":1672135515421},{"_id":"public/js/motion.js","hash":"f7c825cbff11885fa0dffa64824fd00e505d6a8d","modified":1672135515421},{"_id":"public/js/next-boot.js","hash":"da0f07f9eaaa83de70128b0feaea3fdadb90457a","modified":1672135515421},{"_id":"public/js/pjax.js","hash":"919f5281c4a04d11cfd94573ecf57b3dbabd3cc8","modified":1672135515421},{"_id":"public/js/schedule.js","hash":"a1333258726caf84f368a8f8454639c7dc1626bb","modified":1672135515421},{"_id":"public/js/utils.js","hash":"200088bfd042f5304b2a04befab0829148845e0e","modified":1672135515421},{"_id":"public/js/third-party/fancybox.js","hash":"c098d14e65dd170537134358d4b8359ad0539c2c","modified":1672135515421},{"_id":"public/js/third-party/pace.js","hash":"0ef04218b93561ba4d0ff420d556c3d90a756d32","modified":1672135515421},{"_id":"public/js/third-party/quicklink.js","hash":"eed02e6fced8e5a653077205d4d4d7834ca71472","modified":1672135515421},{"_id":"public/js/third-party/rating.js","hash":"4e92c2d107ba47b47826829f9668030d5ea9bfb8","modified":1672135515421},{"_id":"public/js/third-party/analytics/baidu-analytics.js","hash":"f629acc46ff40c071ffd31b77d5c7616f0fdd778","modified":1672135515421},{"_id":"public/js/third-party/chat/tidio.js","hash":"b0079f6a4601e06ca6fe46e83a2f5af553e9bc3c","modified":1672135515421},{"_id":"public/js/third-party/chat/chatra.js","hash":"c32180522788c10e51df1803aa6842ef0432ddc9","modified":1672135515421},{"_id":"public/js/schemes/muse.js","hash":"9794bd4fc6a458322949d6a0ade89cd1026bc69f","modified":1672135515421},{"_id":"public/js/third-party/chat/gitter.js","hash":"cc38c94125f90dadde11b5ebac7d8bf99a1a08a2","modified":1672135515421},{"_id":"public/js/third-party/analytics/google-analytics.js","hash":"59684383385059dc4f8a1ff85dbbeb703bcdbcb5","modified":1672135515421},{"_id":"public/js/third-party/analytics/growingio.js","hash":"78dd3cf04082b7dbe6246e404b2aa8e726922402","modified":1672135515421},{"_id":"public/js/third-party/comments/disqus.js","hash":"e1cc671b0d524864fd445e3ab4ade9ee6d07e565","modified":1672135515421},{"_id":"public/js/third-party/comments/changyan.js","hash":"260d1a77d6a3bb33a579d3e4cca1997003e799b5","modified":1672135515421},{"_id":"public/js/third-party/comments/gitalk.js","hash":"0ec038cf83e8ec067534f16a54041e47a3c1e59a","modified":1672135515421},{"_id":"public/js/third-party/comments/isso.js","hash":"753a873b6f566aff5ba77ca23f91b78eb880ca64","modified":1672135515421},{"_id":"public/js/third-party/comments/utterances.js","hash":"f67f90eb03e284c82da2b8cf2f1e31801813c16d","modified":1672135515421},{"_id":"public/js/third-party/comments/disqusjs.js","hash":"b6c58f098473b526d6a3cd35655caf34b77f7cff","modified":1672135515421},{"_id":"public/js/third-party/math/mathjax.js","hash":"5c749b9c1c3bb738122d0516211ecff6496d4907","modified":1672135515421},{"_id":"public/js/third-party/comments/livere.js","hash":"2247d88c934c765c43013337860774aaa99f0b31","modified":1672135515421},{"_id":"public/js/third-party/math/katex.js","hash":"83c54ee536e487a1031783443fe0cb63b1b4767e","modified":1672135515421},{"_id":"public/js/third-party/search/algolia-search.js","hash":"fdb7b7cef1a147d897e7f7cd8903b58368ec2062","modified":1672135515421},{"_id":"public/js/third-party/tags/mermaid.js","hash":"f27d817b0c2138dd3215b1f46af0753f60a008f3","modified":1672135515421},{"_id":"public/js/third-party/search/local-search.js","hash":"4536cb6d0a9bbaaa86fab3fa0101f6a3a3ec5a76","modified":1672135515421},{"_id":"public/js/third-party/tags/pdf.js","hash":"af78c22f0e61c8c8aa8794e585e0d632c6d4fcb8","modified":1672135515421},{"_id":"public/js/third-party/statistics/firestore.js","hash":"411a72df581f5b21317dc28633c7993207eb9e1c","modified":1672135515421},{"_id":"public/js/third-party/statistics/lean-analytics.js","hash":"5a928990856b8e456f0663cf3b6b406733672e39","modified":1672135515421},{"_id":"public/2022/07/19/15-js-transform/js-transform.html","hash":"18caf0ae505ad384d3fa4c402aaf049e263f6fc0","modified":1672135515421},{"_id":"public/css/main.css","hash":"b4ee45f983412d5fa84f99c4991fbc24d0bc8a7e","modified":1672135515421},{"_id":"public/2022/07/19/15-js-transform/convert-table.png","hash":"fdffd1b86ddacb402a9a3a423cffd91fcc229fce","modified":1672135515421},{"_id":"public/2022/09/04/24-about-design-model1/abstract-factory1.png","hash":"27096d5d5c2a949d2b5a0b8b4483cd0955007a30","modified":1672135515421},{"_id":"public/2022/09/04/24-about-design-model1/abstract-factory3.png","hash":"565cc1a91ec9f7f4113759d8ee84d9e7e5765dec","modified":1672135515421},{"_id":"public/2022/09/04/24-about-design-model1/prototype-inherit1.png","hash":"3d8d602b70b2a85f84ccb77667bfdf58688ef1e6","modified":1672135515421},{"_id":"public/2022/09/04/24-about-design-model1/safe-factory-model.png","hash":"1d4838406d573590c135cb651e98e970dd03d761","modified":1672135515421},{"_id":"public/2022/08/20/23-about-design-model/class-inherit.png","hash":"7316cf53af5ae3d11eb708f911ddc2b9fbf35027","modified":1672135515421},{"_id":"public/2022/08/20/23-about-design-model/create-pop.png","hash":"43feb1eed0b060643140cfa80c073e12729b47af","modified":1672135515421},{"_id":"public/2022/08/20/23-about-design-model/multiple-inherit.png","hash":"3370f1d5c3f1c73449ddc04e438559b4a0925ad0","modified":1672135515421},{"_id":"public/2022/08/20/23-about-design-model/parasitic-combination-inherit.png","hash":"5b7c9be2d070fe04cd77d8923eaa4e1585ad9e02","modified":1672135515421},{"_id":"public/2022/08/20/23-about-design-model/parasitic-inherit-change.png","hash":"0b683e58266a2816c17a932a910be6ce1bdbbf1e","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/create-component.png","hash":"313f9c4b04afdb3c0bbb24d02394ff7ed7f7afa9","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/command-model-2.png","hash":"394963fe76e75b6ff152d0bc64eb440812f181e4","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/deal-data.png","hash":"229c21fa8cd0891d9cf137520e2756088d805b32","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/marry-state.png","hash":"9d3b9fd7f74062d32194ddee1084db94ab8f2f5e","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/send-data.png","hash":"f2dd937ad9d5dbd6373c78b766b0ca7d18689bb8","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/vote-status.png","hash":"ce2f7e1b2250efafac59e7e0a6c69a8f2f57e1fb","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/chain-model-5.png","hash":"6c1d9aaa8a2f5c8a33e827428f33df74156af591","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/chain-model-6.png","hash":"0a2af8c6826567da8695e8010d13bf7101a75d0a","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/lazy-model-4.png","hash":"d2cec3917cabaf4da67a6ac877730c32d27d6b82","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/localstorage-model-2.png","hash":"b130a85fa7ca8cc738c636091e35ce86095e4da4","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/localstorage-model-4.png","hash":"c7d8b6cd9bc0093ceaaa9a731d6b721dabf0c2e2","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/template-model-2.png","hash":"f0f1cf1e6328ed7dd2da13e3ef19f0ba3090d50b","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/template-model-5.png","hash":"a615f27465cba32bd7ef16f4aa2d229123c6cd04","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/throttle-model-2.png","hash":"4d06f2204e6a312ad534b08e4aa3a0cc199b0fe4","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/throttle-model-3.png","hash":"9ba30093c88bda5cdf0b74397078c98615ab14e8","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/waiter-model-1.png","hash":"4ecd76529d5af3bab1200944f956550c438d7e4c","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/waiter-model-2.png","hash":"115d73933b2c9e3b333f0173a9c67b40b82b360e","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/appendix-10.png","hash":"47f4c469384a2ae6ee68920c9c9d056323bc6964","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/appendix-1.png","hash":"63d1fb2d7060dc8e20879b271cfc0fae5ba53ce5","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/async-module-model-3.png","hash":"955761aa1d41f38f58070239091ec7ef56eab433","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/async-module-model-6.png","hash":"c0234e34b71f60317c8532f9b4332297ddbfc3b2","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/mvp-model-2.png","hash":"a05c2d67784dc8a0c9dadb55ff4cb313ff0a4581","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/mvp-model-5.png","hash":"b38b48df97224ac10c391b5231c27b5ff9439d15","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/mvp-model-6.png","hash":"b678a14aa7203ed211d9b03cc517629296d39ccb","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/mvvm-model-1.png","hash":"dec3d9b3d1b759d8ab97b596942a57870ea5e899","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/mvvm-model-5.png","hash":"f5b38278a65c50724df598782714d46b16198ddb","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/mvvm-model-8.png","hash":"ae0f8837c7bf0b7cebcf1b643602ef1b7c91d9b0","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/widget-model-2.png","hash":"d5b2a749b270b467d4e5ca0442f079ad0d68c0ad","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/widget-model-3.png","hash":"8caaa1350394bb4924a26779474bd8ffdedfd1a3","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/widget-model-6.png","hash":"17625b96826cacb789210181082942b9d92c9685","modified":1672135515421},{"_id":"public/2022/10/08/37-data-structure5/graph-9.png","hash":"3e0a9c9a2cb3f8145448b3dab7b9066c53f468d2","modified":1672135515421},{"_id":"public/2022/06/22/5-react-render/fiber_tree.png","hash":"947d11b845e1abb74cbb2d4e135767a377692041","modified":1672135515421},{"_id":"public/2022/06/22/6-vue3-render/render_function.png","hash":"ab09e61382c872069a70212525d4333d6ba8cd19","modified":1672135515421},{"_id":"public/2022/09/04/24-about-design-model1/work.png","hash":"85878cbf259712eba4a4d960bef9fc8f72361f7d","modified":1672135515421},{"_id":"public/2022/08/20/23-about-design-model/multiple-status.png","hash":"99f1acc2445ec0c692d48660ddbd71b510f1284b","modified":1672135515421},{"_id":"public/2022/08/20/23-about-design-model/safe-model.png","hash":"8ddf098b287fc1582ef3c57f6641b8cdfe529ee0","modified":1672135515421},{"_id":"public/2022/08/20/23-about-design-model/simple-factory1.png","hash":"7a9ab5660cbd92e1e0f851985402404fb0f49814","modified":1672135515421},{"_id":"public/2022/08/20/23-about-design-model/test-prototype-inherit.png","hash":"ffe8e406495b76ed7e8fa5fa95247335f0842bd8","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/basic-model.png","hash":"d11299e00239d8eee68fa84742cf934d7b2b7455","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/cache-model.png","hash":"849dac393027d49c7932b80aeacdeb6dc665ad8d","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/command-model-1.png","hash":"e8f27f13a8b8964e1f98cf90c9d11336745ce4cd","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/explain-model-1.png","hash":"b41f3ee9472b65e45fd3699586fe343b90801e1c","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/explain-model-3.png","hash":"7090631280b778e1a081cf14ee1aef4eaddf2724","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/inherit-as-basic-model.png","hash":"04bcb6c49805f61c210a276673688925342a97a2","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/inherit-model.png","hash":"c458570cfbf5cb544f160dbf7f5ea2688eb54cfe","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/mediator-model.png","hash":"037a378a4fd6a9b68621c714239390a175768283","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/price-strategy.png","hash":"8c9b4bc9e46d85dbd5ff1db682f35d7727ac2d24","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/regist-message.png","hash":"94993ad78c5391eb4cc60f851d1bf5de794d680a","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/visitor-model.png","hash":"b47054fdf9198975a39ebfc6b4ea46cb988dc080","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/chain-model-3.png","hash":"de232baf72880e1c2bfca1e52ca3dece90b30922","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/localstorage-model-5.png","hash":"f60b1b8098b39c8d16bef6ce21e93f80eed6a06d","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/localstorage-model-3.png","hash":"0dd09a8620412a0a10e0749a2eae5b990e14131f","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/participate-model-6.png","hash":"a27676bb25d07081323b4801ff167a2f9c830583","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/localstorage-model-6.png","hash":"af1bc9d6bd7aa6c6582b3b498aaace38b3beb7d0","modified":1672135515421},{"_id":"public/2022/09/19/27-about-design-model4/throttle-model-1.png","hash":"efe9c32037c01c30eef7c906b1477675a4b22296","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/appendix-2.png","hash":"c793bb154006138580dfe636e8e96f48af31c136","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/appendix-4.png","hash":"0caa8c2b2efef085bf73708c696b163b27cf4acd","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/appendix-3.png","hash":"972a431f1b9f113e9c28acd09c21965abf3ae776","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/appendix-5.png","hash":"7d00695f69933f1493a5b215459372aa8922aa90","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/appendix-6.png","hash":"ebaf47a4d6e618ed357e3ef105bf1a78aac86dcd","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/appendix-7.png","hash":"c12235fa4218a1f12d5f04de3c292d9d8a1cc606","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/appendix-8.png","hash":"acc5e67aafb4ec4d3a10ca9507832f965d05bb86","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/appendix-9.png","hash":"5128c7e89b6784e2e75e7f74154a3a2a36859a4a","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/module-model-4.png","hash":"0591ff679bd8b40d96b399c2df5db22e5d6857f1","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/mvc-model-2.png","hash":"2ad2eeb884aac27d63ceb815d119f4bdab3b28bf","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/mvvm-model-4.png","hash":"362b306d44bd195ca4adee181dabcbbb524da1ac","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/mvvm-model-6.png","hash":"7d62d18ec951b6be1b53157c9380618cb8f65cc2","modified":1672135515421},{"_id":"public/2022/09/04/24-about-design-model1/prototype-model.png","hash":"7e1b5e0841203ae571b20c1c21fc40fb6589f946","modified":1672135515421},{"_id":"public/2022/08/20/23-about-design-model/combination-inherit.png","hash":"51a2c5f4775a37e5f2a21ab257749912178476c3","modified":1672135515421},{"_id":"public/2022/09/07/26-about-design-model3/iterator-model.png","hash":"b372e782497790afdac5ef90a53eb4ecd88bc18f","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/async-module-model-1.png","hash":"f465cd97d9c16ecea67b0d0f8ee7d3bb6ebb545c","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/module-model-1.png","hash":"940ec1732a0d822780c486ccb9ffc6cc29119a6f","modified":1672135515421},{"_id":"public/2022/09/20/28-about-design-model5/mvp-model-3.png","hash":"f3ebcf32efc3e9b536605c9df96654c81cfc9b82","modified":1672135515421},{"_id":"public/2022/08/20/23-about-design-model/constructor-inherit.png","hash":"e1eb49fe9cd4796f60678113b6f865f2e1576464","modified":1672135515421},{"_id":"public/2022/06/22/6-vue3-render/vue3_render.png","hash":"c27773553432184cba670aac70e69865c21a4727","modified":1672135515421}],"Category":[],"Data":[],"Page":[{"title":"2.x3.x","date":"2022-01-25T06:17:57.000Z","_content":"### \n|  API | Hook inside setup |\n| :------: | :------: |\n| beforeCreate | Not needed* |\n| created | Not needed* |\n| beforeMount | onBeforeMount |\n| mounted | onMounted |\n| beforeUpdate | onBeforeUpdate |\n| updated | onUpdated |\n| beforeUnmount | onBeforeUnmount |\n| unmounted | onUnmounted |\n| errorCaptured | onErrorCaptured |\n| renderTracked | onRenderTracked |\n| renderTriggered | onRenderTriggered |\n| activated | onActivated |\n| deactivated | onDeactivated |\n\n### vue3\n\n### \n\n\n### template\n Vue 2.x  template \n Vue 3.x  innerHTML\n\n###  class \nv-enterv-enter-fromv-leavev-leave-from\n\n### <transition> prop \nleave-classleave-from-class( JSX leaveFromClass)\nenter-classenter-from-class( JSX enterFromClass)\n\n### Transition Group \n<transition-group>tagattribute  tag='span' \n\n### v-on.native\nv-on.nativeemitsVue  (inheritAttrs: false)\n\n### v-if  v-for \n| vue2 | vue3 |\n| :--- | :--- |\n| v-ifv-forv-for | v-ifv-for |\n\n### v-bind \n| vue2 | vue3 |\n| :--- | :--- |\n| v-bind=\"object\" attribute attribute object | v-bind=\"object\" attribute |\n\n### VNode \n| vue2 | vue3 |\n| :--- | :--- |\n| ,hook: | vnode- HTML  |\n\nvnode-@vnode-updated=\"onUpdated\"vnode@vnodeUpdated=\"onUpdated\"\nbeforeDestroydestroyedbeforeUnmountunmounted\n\n[vue2(vue3)](https://v3.cn.vuejs.org/guide/migration/introduction.html)\n","source":"Vue/change.md","raw":"---\ntitle: 2.x3.x\ndate: 2022-01-25 14:17:57\n---\n### \n|  API | Hook inside setup |\n| :------: | :------: |\n| beforeCreate | Not needed* |\n| created | Not needed* |\n| beforeMount | onBeforeMount |\n| mounted | onMounted |\n| beforeUpdate | onBeforeUpdate |\n| updated | onUpdated |\n| beforeUnmount | onBeforeUnmount |\n| unmounted | onUnmounted |\n| errorCaptured | onErrorCaptured |\n| renderTracked | onRenderTracked |\n| renderTriggered | onRenderTriggered |\n| activated | onActivated |\n| deactivated | onDeactivated |\n\n### vue3\n\n### \n\n\n### template\n Vue 2.x  template \n Vue 3.x  innerHTML\n\n###  class \nv-enterv-enter-fromv-leavev-leave-from\n\n### <transition> prop \nleave-classleave-from-class( JSX leaveFromClass)\nenter-classenter-from-class( JSX enterFromClass)\n\n### Transition Group \n<transition-group>tagattribute  tag='span' \n\n### v-on.native\nv-on.nativeemitsVue  (inheritAttrs: false)\n\n### v-if  v-for \n| vue2 | vue3 |\n| :--- | :--- |\n| v-ifv-forv-for | v-ifv-for |\n\n### v-bind \n| vue2 | vue3 |\n| :--- | :--- |\n| v-bind=\"object\" attribute attribute object | v-bind=\"object\" attribute |\n\n### VNode \n| vue2 | vue3 |\n| :--- | :--- |\n| ,hook: | vnode- HTML  |\n\nvnode-@vnode-updated=\"onUpdated\"vnode@vnodeUpdated=\"onUpdated\"\nbeforeDestroydestroyedbeforeUnmountunmounted\n\n[vue2(vue3)](https://v3.cn.vuejs.org/guide/migration/introduction.html)\n","updated":"2022-06-22T15:26:48.869Z","path":"Vue/change.html","comments":1,"layout":"page","_id":"clc62bahz0000nwva4crg0uay","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><table>\n<thead>\n<tr>\n<th align=\"center\"> API</th>\n<th align=\"center\">Hook inside setup</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">beforeCreate</td>\n<td align=\"center\">Not needed*</td>\n</tr>\n<tr>\n<td align=\"center\">created</td>\n<td align=\"center\">Not needed*</td>\n</tr>\n<tr>\n<td align=\"center\">beforeMount</td>\n<td align=\"center\">onBeforeMount</td>\n</tr>\n<tr>\n<td align=\"center\">mounted</td>\n<td align=\"center\">onMounted</td>\n</tr>\n<tr>\n<td align=\"center\">beforeUpdate</td>\n<td align=\"center\">onBeforeUpdate</td>\n</tr>\n<tr>\n<td align=\"center\">updated</td>\n<td align=\"center\">onUpdated</td>\n</tr>\n<tr>\n<td align=\"center\">beforeUnmount</td>\n<td align=\"center\">onBeforeUnmount</td>\n</tr>\n<tr>\n<td align=\"center\">unmounted</td>\n<td align=\"center\">onUnmounted</td>\n</tr>\n<tr>\n<td align=\"center\">errorCaptured</td>\n<td align=\"center\">onErrorCaptured</td>\n</tr>\n<tr>\n<td align=\"center\">renderTracked</td>\n<td align=\"center\">onRenderTracked</td>\n</tr>\n<tr>\n<td align=\"center\">renderTriggered</td>\n<td align=\"center\">onRenderTriggered</td>\n</tr>\n<tr>\n<td align=\"center\">activated</td>\n<td align=\"center\">onActivated</td>\n</tr>\n<tr>\n<td align=\"center\">deactivated</td>\n<td align=\"center\">onDeactivated</td>\n</tr>\n</tbody></table>\n<h3 id=\"vue3\"><a href=\"#vue3\" class=\"headerlink\" title=\"vue3\"></a>vue3</h3><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h3 id=\"template\"><a href=\"#template\" class=\"headerlink\" title=\"template\"></a>template</h3><p> Vue 2.x  template <br> Vue 3.x  innerHTML</p>\n<h3 id=\"-class-\"><a href=\"#-class-\" class=\"headerlink\" title=\" class \"></a> class </h3><p>v-enterv-enter-fromv-leavev-leave-from</p>\n<h3 id=\"-prop-\"><a href=\"#-prop-\" class=\"headerlink\" title=\" prop \"></a><transition> prop </transition></h3><p>leave-classleave-from-class( JSX leaveFromClass)<br>enter-classenter-from-class( JSX enterFromClass)</p>\n<h3 id=\"Transition-Group-\"><a href=\"#Transition-Group-\" class=\"headerlink\" title=\"Transition Group \"></a>Transition Group </h3><p><transition-group>tagattribute  tag=span </transition-group></p>\n<h3 id=\"v-on-native\"><a href=\"#v-on-native\" class=\"headerlink\" title=\"v-on.native\"></a>v-on.native</h3><p>v-on.nativeemitsVue  (inheritAttrs: false)</p>\n<h3 id=\"v-if--v-for-\"><a href=\"#v-if--v-for-\" class=\"headerlink\" title=\"v-if  v-for \"></a>v-if  v-for </h3><table>\n<thead>\n<tr>\n<th align=\"left\">vue2</th>\n<th align=\"left\">vue3</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">v-ifv-forv-for</td>\n<td align=\"left\">v-ifv-for</td>\n</tr>\n</tbody></table>\n<h3 id=\"v-bind-\"><a href=\"#v-bind-\" class=\"headerlink\" title=\"v-bind \"></a>v-bind </h3><table>\n<thead>\n<tr>\n<th align=\"left\">vue2</th>\n<th align=\"left\">vue3</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">v-bind=object attribute attribute object</td>\n<td align=\"left\">v-bind=object attribute</td>\n</tr>\n</tbody></table>\n<h3 id=\"VNode-\"><a href=\"#VNode-\" class=\"headerlink\" title=\"VNode \"></a>VNode </h3><table>\n<thead>\n<tr>\n<th align=\"left\">vue2</th>\n<th align=\"left\">vue3</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">,hook:</td>\n<td align=\"left\">vnode- HTML </td>\n</tr>\n</tbody></table>\n<p>vnode-@vnode-updated=onUpdatedvnode@vnodeUpdated=onUpdated<br>beforeDestroydestroyedbeforeUnmountunmounted</p>\n<p><a href=\"https://v3.cn.vuejs.org/guide/migration/introduction.html\">vue2(vue3)</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><table>\n<thead>\n<tr>\n<th align=\"center\"> API</th>\n<th align=\"center\">Hook inside setup</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">beforeCreate</td>\n<td align=\"center\">Not needed*</td>\n</tr>\n<tr>\n<td align=\"center\">created</td>\n<td align=\"center\">Not needed*</td>\n</tr>\n<tr>\n<td align=\"center\">beforeMount</td>\n<td align=\"center\">onBeforeMount</td>\n</tr>\n<tr>\n<td align=\"center\">mounted</td>\n<td align=\"center\">onMounted</td>\n</tr>\n<tr>\n<td align=\"center\">beforeUpdate</td>\n<td align=\"center\">onBeforeUpdate</td>\n</tr>\n<tr>\n<td align=\"center\">updated</td>\n<td align=\"center\">onUpdated</td>\n</tr>\n<tr>\n<td align=\"center\">beforeUnmount</td>\n<td align=\"center\">onBeforeUnmount</td>\n</tr>\n<tr>\n<td align=\"center\">unmounted</td>\n<td align=\"center\">onUnmounted</td>\n</tr>\n<tr>\n<td align=\"center\">errorCaptured</td>\n<td align=\"center\">onErrorCaptured</td>\n</tr>\n<tr>\n<td align=\"center\">renderTracked</td>\n<td align=\"center\">onRenderTracked</td>\n</tr>\n<tr>\n<td align=\"center\">renderTriggered</td>\n<td align=\"center\">onRenderTriggered</td>\n</tr>\n<tr>\n<td align=\"center\">activated</td>\n<td align=\"center\">onActivated</td>\n</tr>\n<tr>\n<td align=\"center\">deactivated</td>\n<td align=\"center\">onDeactivated</td>\n</tr>\n</tbody></table>\n<h3 id=\"vue3\"><a href=\"#vue3\" class=\"headerlink\" title=\"vue3\"></a>vue3</h3><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h3 id=\"template\"><a href=\"#template\" class=\"headerlink\" title=\"template\"></a>template</h3><p> Vue 2.x  template <br> Vue 3.x  innerHTML</p>\n<h3 id=\"-class-\"><a href=\"#-class-\" class=\"headerlink\" title=\" class \"></a> class </h3><p>v-enterv-enter-fromv-leavev-leave-from</p>\n<h3 id=\"-prop-\"><a href=\"#-prop-\" class=\"headerlink\" title=\" prop \"></a><transition> prop </transition></h3><p>leave-classleave-from-class( JSX leaveFromClass)<br>enter-classenter-from-class( JSX enterFromClass)</p>\n<h3 id=\"Transition-Group-\"><a href=\"#Transition-Group-\" class=\"headerlink\" title=\"Transition Group \"></a>Transition Group </h3><p><transition-group>tagattribute  tag=span </transition-group></p>\n<h3 id=\"v-on-native\"><a href=\"#v-on-native\" class=\"headerlink\" title=\"v-on.native\"></a>v-on.native</h3><p>v-on.nativeemitsVue  (inheritAttrs: false)</p>\n<h3 id=\"v-if--v-for-\"><a href=\"#v-if--v-for-\" class=\"headerlink\" title=\"v-if  v-for \"></a>v-if  v-for </h3><table>\n<thead>\n<tr>\n<th align=\"left\">vue2</th>\n<th align=\"left\">vue3</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">v-ifv-forv-for</td>\n<td align=\"left\">v-ifv-for</td>\n</tr>\n</tbody></table>\n<h3 id=\"v-bind-\"><a href=\"#v-bind-\" class=\"headerlink\" title=\"v-bind \"></a>v-bind </h3><table>\n<thead>\n<tr>\n<th align=\"left\">vue2</th>\n<th align=\"left\">vue3</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">v-bind=object attribute attribute object</td>\n<td align=\"left\">v-bind=object attribute</td>\n</tr>\n</tbody></table>\n<h3 id=\"VNode-\"><a href=\"#VNode-\" class=\"headerlink\" title=\"VNode \"></a>VNode </h3><table>\n<thead>\n<tr>\n<th align=\"left\">vue2</th>\n<th align=\"left\">vue3</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">,hook:</td>\n<td align=\"left\">vnode- HTML </td>\n</tr>\n</tbody></table>\n<p>vnode-@vnode-updated=onUpdatedvnode@vnodeUpdated=onUpdated<br>beforeDestroydestroyedbeforeUnmountunmounted</p>\n<p><a href=\"https://v3.cn.vuejs.org/guide/migration/introduction.html\">vue2(vue3)</a></p>\n"},{"title":"commonweal","date":"2022-08-09T05:51:41.000Z","_content":"\n### ","source":"commonweal/index.md","raw":"---\ntitle: commonweal\ndate: 2022-08-09 13:51:41\n---\n\n### ","updated":"2022-08-23T13:15:25.942Z","path":"commonweal/index.html","comments":1,"layout":"page","_id":"clc62bai90002nwva04xw990a","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3>","site":{"data":{}},"excerpt":"","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3>"},{"title":"vue","date":"2022-01-07T09:11:56.000Z","_content":"## VUE 2\n\n### vue2\n\n\n## VUE 3\n\n### vue3\n[2.x3.x](/vue/change.html)\n[vue3.x](/vue/dependency.html)","source":"Vue/index.md","raw":"---\ntitle: vue\ndate: 2022-01-07 17:11:56\n---\n## VUE 2\n\n### vue2\n\n\n## VUE 3\n\n### vue3\n[2.x3.x](/vue/change.html)\n[vue3.x](/vue/dependency.html)","updated":"2022-06-22T15:26:48.885Z","path":"Vue/index.html","comments":1,"layout":"page","_id":"clc62baib0004nwvafvbi0jpc","content":"<h2 id=\"VUE-2\"><a href=\"#VUE-2\" class=\"headerlink\" title=\"VUE 2\"></a>VUE 2</h2><h3 id=\"vue2\"><a href=\"#vue2\" class=\"headerlink\" title=\"vue2\"></a>vue2</h3><p></p>\n<h2 id=\"VUE-3\"><a href=\"#VUE-3\" class=\"headerlink\" title=\"VUE 3\"></a>VUE 3</h2><h3 id=\"vue3\"><a href=\"#vue3\" class=\"headerlink\" title=\"vue3\"></a>vue3</h3><p><a href=\"/vue/change.html\">2.x3.x</a><br><a href=\"/vue/dependency.html\">vue3.x</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"VUE-2\"><a href=\"#VUE-2\" class=\"headerlink\" title=\"VUE 2\"></a>VUE 2</h2><h3 id=\"vue2\"><a href=\"#vue2\" class=\"headerlink\" title=\"vue2\"></a>vue2</h3><p></p>\n<h2 id=\"VUE-3\"><a href=\"#VUE-3\" class=\"headerlink\" title=\"VUE 3\"></a>VUE 3</h2><h3 id=\"vue3\"><a href=\"#vue3\" class=\"headerlink\" title=\"vue3\"></a>vue3</h3><p><a href=\"/vue/change.html\">2.x3.x</a><br><a href=\"/vue/dependency.html\">vue3.x</a></p>\n"},{"title":"3.x","date":"2022-01-25T09:02:52.000Z","_content":"#### [Vue 3  2022  2  7 ](https://gist.github.com/yyx990803/bf9a625eeff8b471bf0701afb8e3fe75)\n[ Vite ](https://vitejs.dev/)\n\n`<script setup>`  API \n\n[Volar  TypeScript IDE ](https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar)\n\n[vue-tsc ](https://github.com/johnsoncodehk/volar/tree/master/packages/vue-tsc)\n\n[Pinia ](https://pinia.vuejs.org/) / [Vuex4](https://next.vuex.vuejs.org/)\n\n[ Vue 2/Vue 3](https://devtools.vuejs.org/plugin/plugins-guide.html)\n\n[vuejs/core](https://github.com/vuejs/core)\n\n[Vue Router 4.0](https://next.router.vuejs.org/)\n[](https://github.com/vuejs/router)\n\n[vuejs/docs](https://github.com/vuejs/docs)\n\n[vuejs/test-utils](https://github.com/vuejs/test-utils)\n\n[vuejs/babel-plugin-jsx](https://github.com/vuejs/babel-plugin-jsx)\n\n[Element Plus(2022/02/07)](https://element-plus.gitee.io/zh-CN/)\n\n[Ant Design Vue(v2vue3v3beta)](https://next.antdv.com/)\n\nVue UI[Vuetify](https://vuetifyjs.com/zh-Hans/)[Quasar](https://quasar.dev/)\n\n[()](https://staging.vuejs.org/)[](https://staging-cn.vuejs.org/)","source":"Vue/dependency.md","raw":"---\ntitle: 3.x\ndate: 2022-01-25 17:02:52\n---\n#### [Vue 3  2022  2  7 ](https://gist.github.com/yyx990803/bf9a625eeff8b471bf0701afb8e3fe75)\n[ Vite ](https://vitejs.dev/)\n\n`<script setup>`  API \n\n[Volar  TypeScript IDE ](https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar)\n\n[vue-tsc ](https://github.com/johnsoncodehk/volar/tree/master/packages/vue-tsc)\n\n[Pinia ](https://pinia.vuejs.org/) / [Vuex4](https://next.vuex.vuejs.org/)\n\n[ Vue 2/Vue 3](https://devtools.vuejs.org/plugin/plugins-guide.html)\n\n[vuejs/core](https://github.com/vuejs/core)\n\n[Vue Router 4.0](https://next.router.vuejs.org/)\n[](https://github.com/vuejs/router)\n\n[vuejs/docs](https://github.com/vuejs/docs)\n\n[vuejs/test-utils](https://github.com/vuejs/test-utils)\n\n[vuejs/babel-plugin-jsx](https://github.com/vuejs/babel-plugin-jsx)\n\n[Element Plus(2022/02/07)](https://element-plus.gitee.io/zh-CN/)\n\n[Ant Design Vue(v2vue3v3beta)](https://next.antdv.com/)\n\nVue UI[Vuetify](https://vuetifyjs.com/zh-Hans/)[Quasar](https://quasar.dev/)\n\n[()](https://staging.vuejs.org/)[](https://staging-cn.vuejs.org/)","updated":"2022-06-22T15:26:48.869Z","path":"Vue/dependency.html","comments":1,"layout":"page","_id":"clc62baid0006nwva57t5bimk","content":"<h4 id=\"Vue-3--2022--2--7-\"><a href=\"#Vue-3--2022--2--7-\" class=\"headerlink\" title=\"Vue 3  2022  2  7 \"></a><a href=\"https://gist.github.com/yyx990803/bf9a625eeff8b471bf0701afb8e3fe75\">Vue 3  2022  2  7 </a></h4><p><a href=\"https://vitejs.dev/\"> Vite </a></p>\n<p><code>&lt;script setup&gt;</code>  API </p>\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar\">Volar  TypeScript IDE </a></p>\n<p><a href=\"https://github.com/johnsoncodehk/volar/tree/master/packages/vue-tsc\">vue-tsc </a></p>\n<p><a href=\"https://pinia.vuejs.org/\">Pinia </a> / <a href=\"https://next.vuex.vuejs.org/\">Vuex4</a></p>\n<p><a href=\"https://devtools.vuejs.org/plugin/plugins-guide.html\"> Vue 2/Vue 3</a></p>\n<p><a href=\"https://github.com/vuejs/core\">vuejs/core</a></p>\n<p><a href=\"https://next.router.vuejs.org/\">Vue Router 4.0</a><br><a href=\"https://github.com/vuejs/router\"></a></p>\n<p><a href=\"https://github.com/vuejs/docs\">vuejs/docs</a></p>\n<p><a href=\"https://github.com/vuejs/test-utils\">vuejs/test-utils</a></p>\n<p><a href=\"https://github.com/vuejs/babel-plugin-jsx\">vuejs/babel-plugin-jsx</a></p>\n<p><a href=\"https://element-plus.gitee.io/zh-CN/\">Element Plus(2022/02/07)</a></p>\n<p><a href=\"https://next.antdv.com/\">Ant Design Vue(v2vue3v3beta)</a></p>\n<p>Vue UI<a href=\"https://vuetifyjs.com/zh-Hans/\">Vuetify</a><a href=\"https://quasar.dev/\">Quasar</a></p>\n<p><a href=\"https://staging.vuejs.org/\">()</a><a href=\"https://staging-cn.vuejs.org/\"></a></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"Vue-3--2022--2--7-\"><a href=\"#Vue-3--2022--2--7-\" class=\"headerlink\" title=\"Vue 3  2022  2  7 \"></a><a href=\"https://gist.github.com/yyx990803/bf9a625eeff8b471bf0701afb8e3fe75\">Vue 3  2022  2  7 </a></h4><p><a href=\"https://vitejs.dev/\"> Vite </a></p>\n<p><code>&lt;script setup&gt;</code>  API </p>\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar\">Volar  TypeScript IDE </a></p>\n<p><a href=\"https://github.com/johnsoncodehk/volar/tree/master/packages/vue-tsc\">vue-tsc </a></p>\n<p><a href=\"https://pinia.vuejs.org/\">Pinia </a> / <a href=\"https://next.vuex.vuejs.org/\">Vuex4</a></p>\n<p><a href=\"https://devtools.vuejs.org/plugin/plugins-guide.html\"> Vue 2/Vue 3</a></p>\n<p><a href=\"https://github.com/vuejs/core\">vuejs/core</a></p>\n<p><a href=\"https://next.router.vuejs.org/\">Vue Router 4.0</a><br><a href=\"https://github.com/vuejs/router\"></a></p>\n<p><a href=\"https://github.com/vuejs/docs\">vuejs/docs</a></p>\n<p><a href=\"https://github.com/vuejs/test-utils\">vuejs/test-utils</a></p>\n<p><a href=\"https://github.com/vuejs/babel-plugin-jsx\">vuejs/babel-plugin-jsx</a></p>\n<p><a href=\"https://element-plus.gitee.io/zh-CN/\">Element Plus(2022/02/07)</a></p>\n<p><a href=\"https://next.antdv.com/\">Ant Design Vue(v2vue3v3beta)</a></p>\n<p>Vue UI<a href=\"https://vuetifyjs.com/zh-Hans/\">Vuetify</a><a href=\"https://quasar.dev/\">Quasar</a></p>\n<p><a href=\"https://staging.vuejs.org/\">()</a><a href=\"https://staging-cn.vuejs.org/\"></a></p>\n"},{"_content":"#### This is Sun Jinkangs page.\n\n* [Post](/archives/)\n* [vue](/vue/)\n* [Nodejs](/nodejs/)\n\n\n[](/2022/07/05/13-document-location/)","source":"index.md","raw":"#### This is Sun Jinkangs page.\n\n* [Post](/archives/)\n* [vue](/vue/)\n* [Nodejs](/nodejs/)\n\n\n[](/2022/07/05/13-document-location/)","date":"2022-11-23T00:33:39.765Z","updated":"2022-11-23T00:33:39.765Z","path":"index.html","title":"","comments":1,"layout":"page","_id":"clc62baie0008nwvacqxeexbe","content":"<h4 id=\"This-is-Sun-Jinkangs-page\"><a href=\"#This-is-Sun-Jinkangs-page\" class=\"headerlink\" title=\"This is Sun Jinkangs page.\"></a>This is Sun Jinkangs page.</h4><ul>\n<li><a href=\"/archives/\">Post</a></li>\n<li><a href=\"/vue/\">vue</a></li>\n<li><a href=\"/nodejs/\">Nodejs</a></li>\n</ul>\n<p><a href=\"/2022/07/05/13-document-location/\"></a></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"This-is-Sun-Jinkangs-page\"><a href=\"#This-is-Sun-Jinkangs-page\" class=\"headerlink\" title=\"This is Sun Jinkangs page.\"></a>This is Sun Jinkangs page.</h4><ul>\n<li><a href=\"/archives/\">Post</a></li>\n<li><a href=\"/vue/\">vue</a></li>\n<li><a href=\"/nodejs/\">Nodejs</a></li>\n</ul>\n<p><a href=\"/2022/07/05/13-document-location/\"></a></p>\n"},{"title":"nodejs","date":"2022-11-01T03:08:33.000Z","_content":"\n- [nvmnode](/nodejs/install-diff-version-node-by-nvm.html)\n- [nodejs1- & nodejs](/nodejs/nodejs-note-1.html)\n- [nodejs2-nodejs](/nodejs/nodejs-note-2.html)\n- [nodejs3-nodejs](/nodejs/nodejs-note-3.html)\n- [nodejs6-assert & asyncHooks](/nodejs/nodejs-note-6.html)\n- [nodejs7](/nodejs/nodejs-note-7.html)","source":"nodejs/index.md","raw":"---\ntitle: nodejs\ndate: 2022-11-01 11:08:33\n---\n\n- [nvmnode](/nodejs/install-diff-version-node-by-nvm.html)\n- [nodejs1- & nodejs](/nodejs/nodejs-note-1.html)\n- [nodejs2-nodejs](/nodejs/nodejs-note-2.html)\n- [nodejs3-nodejs](/nodejs/nodejs-note-3.html)\n- [nodejs6-assert & asyncHooks](/nodejs/nodejs-note-6.html)\n- [nodejs7](/nodejs/nodejs-note-7.html)","updated":"2022-12-21T01:27:15.833Z","path":"nodejs/index.html","comments":1,"layout":"page","_id":"clc62baig000anwvadz7a27w5","content":"<ul>\n<li><a href=\"/nodejs/install-diff-version-node-by-nvm.html\">nvmnode</a></li>\n<li><a href=\"/nodejs/nodejs-note-1.html\">nodejs1- &amp; nodejs</a></li>\n<li><a href=\"/nodejs/nodejs-note-2.html\">nodejs2-nodejs</a></li>\n<li><a href=\"/nodejs/nodejs-note-3.html\">nodejs3-nodejs</a></li>\n<li><a href=\"/nodejs/nodejs-note-6.html\">nodejs6-assert &amp; asyncHooks</a></li>\n<li><a href=\"/nodejs/nodejs-note-7.html\">nodejs7</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<ul>\n<li><a href=\"/nodejs/install-diff-version-node-by-nvm.html\">nvmnode</a></li>\n<li><a href=\"/nodejs/nodejs-note-1.html\">nodejs1- &amp; nodejs</a></li>\n<li><a href=\"/nodejs/nodejs-note-2.html\">nodejs2-nodejs</a></li>\n<li><a href=\"/nodejs/nodejs-note-3.html\">nodejs3-nodejs</a></li>\n<li><a href=\"/nodejs/nodejs-note-6.html\">nodejs6-assert &amp; asyncHooks</a></li>\n<li><a href=\"/nodejs/nodejs-note-7.html\">nodejs7</a></li>\n</ul>\n"},{"title":"nvmnode","date":"2022-12-16T05:21:49.000Z","tags":null,"_content":"\n###### \nnodenode[](https://nodejs.org/zh-cn/)node\n\n###### nvm--node\n**nvmnodenode**\n1nvm\n[nvm](https://github.com/coreybutler/nvm-windows/releases)\n![nvm](images/nvm-download.png)\ngithub\n\n2nvm\n*nvm*\n\ncmdnvm\n![](images/nvm-install.png)\n\n3\nnvmsetting.txt\n![](images/nvm-setting.png)\n```\nnode_mirror: https://npm.taobao.org/mirrors/node/\nnpm_mirror: https://npm.taobao.org/mirrors/npm/\n```\n![](images/nvm-setting-content.png)\n\n4nvm\n- node\n```javascript\nnvm install [--version]\n// eg: nvm install 18.12\n```\n- /node\n```javascript\nnvm use [--version]\n// eg: nvm use 18.12\n```\n- node\n```javascript\nnvm uninstall [--version]\n// eg: nvm uninstall 18.12\n```\n- node\n```javascript\nnvm ls\n```\n\n###### \n1nvmnode\nnvmnodejs\n\n2nvm usenode\n\n\n3nvmnodevscodenodenode\nem...nvmnodegitgitnvmnvmgit*nvmnodegit*","source":"nodejs/install-diff-version-node-by-nvm.md","raw":"---\ntitle: nvmnode\ndate: 2022-12-16 13:21:49\ntags:\n---\n\n###### \nnodenode[](https://nodejs.org/zh-cn/)node\n\n###### nvm--node\n**nvmnodenode**\n1nvm\n[nvm](https://github.com/coreybutler/nvm-windows/releases)\n![nvm](images/nvm-download.png)\ngithub\n\n2nvm\n*nvm*\n\ncmdnvm\n![](images/nvm-install.png)\n\n3\nnvmsetting.txt\n![](images/nvm-setting.png)\n```\nnode_mirror: https://npm.taobao.org/mirrors/node/\nnpm_mirror: https://npm.taobao.org/mirrors/npm/\n```\n![](images/nvm-setting-content.png)\n\n4nvm\n- node\n```javascript\nnvm install [--version]\n// eg: nvm install 18.12\n```\n- /node\n```javascript\nnvm use [--version]\n// eg: nvm use 18.12\n```\n- node\n```javascript\nnvm uninstall [--version]\n// eg: nvm uninstall 18.12\n```\n- node\n```javascript\nnvm ls\n```\n\n###### \n1nvmnode\nnvmnodejs\n\n2nvm usenode\n\n\n3nvmnodevscodenodenode\nem...nvmnodegitgitnvmnvmgit*nvmnodegit*","updated":"2022-12-21T01:27:15.833Z","path":"nodejs/install-diff-version-node-by-nvm.html","comments":1,"layout":"page","_id":"clc62baii000cnwvafx1cef30","content":"<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>nodenode<a href=\"https://nodejs.org/zh-cn/\"></a>node</p>\n<h6 id=\"nvmnode\"><a href=\"#nvmnode\" class=\"headerlink\" title=\"nvmnode\"></a>nvmnode</h6><p><strong>nvmnodenode</strong><br>1nvm<br><a href=\"https://github.com/coreybutler/nvm-windows/releases\">nvm</a><br><img src=\"/nodejs/images/nvm-download.png\" alt=\"nvm\"><br>github</p>\n<p>2nvm<br><em>nvm</em></p>\n<p>cmdnvm<br><img src=\"/nodejs/images/nvm-install.png\" alt=\"\"></p>\n<p>3<br>nvmsetting.txt<br><img src=\"/nodejs/images/nvm-setting.png\" alt=\"\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">node_mirror: https://npm.taobao.org/mirrors/node/</span><br><span class=\"line\">npm_mirror: https://npm.taobao.org/mirrors/npm/</span><br></pre></td></tr></table></figure>\n<p><img src=\"/nodejs/images/nvm-setting-content.png\" alt=\"\"></p>\n<p>4nvm</p>\n<ul>\n<li>node<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm install [--version]</span><br><span class=\"line\"><span class=\"comment\">// eg: nvm install 18.12</span></span><br></pre></td></tr></table></figure></li>\n<li>/node<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm use [--version]</span><br><span class=\"line\"><span class=\"comment\">// eg: nvm use 18.12</span></span><br></pre></td></tr></table></figure></li>\n<li>node<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm uninstall [--version]</span><br><span class=\"line\"><span class=\"comment\">// eg: nvm uninstall 18.12</span></span><br></pre></td></tr></table></figure></li>\n<li>node<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm ls</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>1nvmnode<br>nvmnodejs</p>\n<p>2nvm usenode<br></p>\n<p>3nvmnodevscodenodenode<br>emnvmnodegitgitnvmnvmgit<em>nvmnodegit</em></p>\n","site":{"data":{}},"excerpt":"","more":"<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>nodenode<a href=\"https://nodejs.org/zh-cn/\"></a>node</p>\n<h6 id=\"nvmnode\"><a href=\"#nvmnode\" class=\"headerlink\" title=\"nvmnode\"></a>nvmnode</h6><p><strong>nvmnodenode</strong><br>1nvm<br><a href=\"https://github.com/coreybutler/nvm-windows/releases\">nvm</a><br><img src=\"/nodejs/images/nvm-download.png\" alt=\"nvm\"><br>github</p>\n<p>2nvm<br><em>nvm</em></p>\n<p>cmdnvm<br><img src=\"/nodejs/images/nvm-install.png\" alt=\"\"></p>\n<p>3<br>nvmsetting.txt<br><img src=\"/nodejs/images/nvm-setting.png\" alt=\"\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">node_mirror: https://npm.taobao.org/mirrors/node/</span><br><span class=\"line\">npm_mirror: https://npm.taobao.org/mirrors/npm/</span><br></pre></td></tr></table></figure>\n<p><img src=\"/nodejs/images/nvm-setting-content.png\" alt=\"\"></p>\n<p>4nvm</p>\n<ul>\n<li>node<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm install [--version]</span><br><span class=\"line\"><span class=\"comment\">// eg: nvm install 18.12</span></span><br></pre></td></tr></table></figure></li>\n<li>/node<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm use [--version]</span><br><span class=\"line\"><span class=\"comment\">// eg: nvm use 18.12</span></span><br></pre></td></tr></table></figure></li>\n<li>node<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm uninstall [--version]</span><br><span class=\"line\"><span class=\"comment\">// eg: nvm uninstall 18.12</span></span><br></pre></td></tr></table></figure></li>\n<li>node<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm ls</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>1nvmnode<br>nvmnodejs</p>\n<p>2nvm usenode<br></p>\n<p>3nvmnodevscodenodenode<br>emnvmnodegitgitnvmnvmgit<em>nvmnodegit</em></p>\n"},{"title":"nodejs & nodejs(1)","date":"2022-10-19T11:12:12.000Z","tags":["node","docs"],"_content":"\n###### nodejs\nJavaScripthtmljsJSnodejs\n\njsjsjsDOMdocumentnodejsjshttpnodejsfs,http\n\n###### nodejs\nhttps://nodejs.org/en/\n\nnodejs\ndos *node -v*Google\n\n****\n1nodejs\n2\n3nodejsnpmnodejsnpmdos *npm -v*npm\n\n\n\n**nodejshttps://nodejs.org/zh-cn/docs/**\n**nodejshttps://www.nodeapp.cn/documentation.html**\n\n###### node\n(1)I/O\n![](./images/async-call.png)\nNode\n(2)\n(3)\nNodeJavaScript\n\n**\n- CPU\n- \n- CPUI/O\n\nnode\n(4)\nNodelibuv\n![](./images/cross-platform.png)\n\n###### Node \n(1)I/O\nNodeI/O\nI/ONode\n(2)CPU\nnodeV8\n*CPUNodeJavaScriptCPUI/OI/OI/OCPU*\n\nnodeCPU\n- NodeC/C++CPUV8C/C++C/C++Java\n- NodeC/C++NodeI/OCPU\n(3)\n(4)\n\n###### Node \n- \n- NodeI/O\n- I/O\n- I/OWeb\n- Node\n- \n- \n\n#### \n\n###### CommonJS\nCommonJSJavaScriptJavaScript\n\njavascript\n- \n- ECMAScriptI/OAPIHTML5W3C\n- JavaScriptWeb\n- JavaScript\n\n![commonjsnode](./images/commonjs-node-relation.png)\n\n###### CommonJS\n\n1. \nCommonJSrequire()API\n\n2. \nrequire()exportsmoduleexportsmoduleNodeexports\n\n3. \nrequire()....js\n\n###### Node \nNode3\n(1) \n(2) \n(3) \n\nNodeNode\n- NodeNode\n- \n\n*Node*\nrequire()\n\n**\n1. \n- httpfspath\n  - Node\n  - http\n- ...\n  - Node\n- /\n- connect\n  - \n**\nNode\n\n- node_modules\n- node_modules\n- node_modules\n- node_modules\nJavaScriptNode\n2. \n- \nrequire()CommonJSNode.js.json.node\n.node.jsonrequire()\nNode\n- \nrequire()Node\nNodeCommonJSNodepackage.jsonCommonJSJSON.parse()mainmainpackage.jsonNodeindexindex.jsindex.jsonindex.node\n\n\n**\nNode\n\n- .jsfs\n- .nodeC/C++dlopen()\n- .jsonfsJSON.parse()\n- .js\n\nModule._cache\n\n1. JavaScript\nNodeJavaScript(function (exports, require, module, __filename, __dirname) {\\n\\n});\nexports\nrequiremodule.exports\n2. C/C++\n.nodeC/C++\n3. JSON\n.json3NodefsJSONJSON.parse()exports\n\n###### \n(1)JavaScript\n1. C/C++\n2. JavaScript\n\nJavaScriptNativeModule._cacheModule._cache\n(2)C/C++\nC/C++NodebuffercryptoevalsfsosC/C++\n1. \nNODE_MODULEnoderegister_func\nnode_extensions.hnode_module_list\n- node_buffer \n- node_crypto \n- node_evals \n- node_fs \n- node_http_parser \n- node_os \n- node_zlib \n- node_timer_wrap \n- node_tcp_wrap \n- node_udp_wrap\n- node_pipe_wrap \n- node_cares_wrap \n- node_tty_wrap \n- node_process_wrap \n- node_fs_event_wrap \n- node_signal_watcher \n\n- C/C++\n- Node\n2. \nNode(javascript)(C/C++)\n\nexportsget_builtin_module()register_func()exportsexports\n(3)\n\n###### C/C++\n(1)\n- GYP\n- V8C++\n- libuv\n- Node\n- \n.nodeNodeprocess.dlopen()\n//Native extension for .node \nModule._extensions['.node'] = process.dlopen;\n\nrequire().node4\n![require](./images/node-require.png)\n\n###### \n- C/C++\n  - APIJavaScriptJavaScriptC/C++process.binding()\n- JavaScript\n  - C/C++\n- \n  - JavaScriptC/C++JavaScript\n![node](./images/node-modules.png)\n\n#### NPM\n![](./images/package.png)\n\n###### \n.ziptar.gz\nCommonJS\n- package.json\n- bin\n- libJavaScript\n- doc\n- test\n\n###### NPM\nJSONpackage.json\nCommonJSpackage.json\n- name._-NPMnodejsJavaScriptNode\n- description\n- versionhttp://semver.org/major.minor.revision\n- keywordsNPM \n- maintainersnameemailweb3\"maintainers\": [{ \"name\": \"Jackson Tian\", \"email\": \"shyvo1987@gmail.com\", \"web\": \"http://html5ify.com\" }], NPM\n- contributorscontributors\n- bugsbug\n- licenses\"licenses\": [{ \"type\": \"GPLv2\", \"url\": \"http://www.example.com/licenses/gpl.html\", }] \n- repositories\n- dependenciesNPM \n- homepage\n- osaixfreebsdlinuxmacossolarisvxworkswindows\n- cpuCPUarmmipsppcsparcx86x86_64osCPU\n- engineJavaScriptejsflusspferdgpseejscspidermonkeynarwhalnodev8\n- builtin\n- directories\n- implementsCommonJS\n- scripts\n\"scripts\": { \"install\": \"install.js\", \n \"uninstall\": \"uninstall.js\", \n \"build\": \"build.js\", \n \"doc\": \"make-doc.js\", \n \"test\": \"test.js\" } \n\nNPMnameversiondescriptionkeywordsrepositoriesauthorbinmainscriptsenginesdependenciesdevDependencies\nauthorbinmaindevDependencies4\n- author\n- binbinnpm install package_name -g\nnode-gyp-g\n- mainrequire()require()index.jsindex.nodeindex.json\n- devDependencies\n\n###### \n- \n- \n  - npm init\n- \n  - npm adduser\n- \n  - npm publish .\n- \n  - npm install XXXX\n- \n  - npm owner ls <package name>\n  - npm owner add <user> <package name> \n  - npm owner rm <user> <package name> \n\n\n- \n- READMEAPI\n- \n- \n- \n\n###### AMD\nAMDCommonJS\ndefine(id?, dependencies?, factory); \nidNodefactory\nAMDdefineNode\n\n###### CMD\nAMDAMD\ndefine(['dep1', 'dep2'], function (dep1, dep2) { \n return function () {}; \n}); \nAMDCMDNodeCommonJS\ndefine(factory); \nCMD\ndefine(function(require, exports, module) { \n // The module code goes here \n}); \nrequireexportsmodulerequire()\n\n","source":"nodejs/nodejs-note-1.md","raw":"---\ntitle: nodejs & nodejs(1)\ndate: 2022-10-19 19:12:12\ntags: [node, docs]\n---\n\n###### nodejs\nJavaScripthtmljsJSnodejs\n\njsjsjsDOMdocumentnodejsjshttpnodejsfs,http\n\n###### nodejs\nhttps://nodejs.org/en/\n\nnodejs\ndos *node -v*Google\n\n****\n1nodejs\n2\n3nodejsnpmnodejsnpmdos *npm -v*npm\n\n\n\n**nodejshttps://nodejs.org/zh-cn/docs/**\n**nodejshttps://www.nodeapp.cn/documentation.html**\n\n###### node\n(1)I/O\n![](./images/async-call.png)\nNode\n(2)\n(3)\nNodeJavaScript\n\n**\n- CPU\n- \n- CPUI/O\n\nnode\n(4)\nNodelibuv\n![](./images/cross-platform.png)\n\n###### Node \n(1)I/O\nNodeI/O\nI/ONode\n(2)CPU\nnodeV8\n*CPUNodeJavaScriptCPUI/OI/OI/OCPU*\n\nnodeCPU\n- NodeC/C++CPUV8C/C++C/C++Java\n- NodeC/C++NodeI/OCPU\n(3)\n(4)\n\n###### Node \n- \n- NodeI/O\n- I/O\n- I/OWeb\n- Node\n- \n- \n\n#### \n\n###### CommonJS\nCommonJSJavaScriptJavaScript\n\njavascript\n- \n- ECMAScriptI/OAPIHTML5W3C\n- JavaScriptWeb\n- JavaScript\n\n![commonjsnode](./images/commonjs-node-relation.png)\n\n###### CommonJS\n\n1. \nCommonJSrequire()API\n\n2. \nrequire()exportsmoduleexportsmoduleNodeexports\n\n3. \nrequire()....js\n\n###### Node \nNode3\n(1) \n(2) \n(3) \n\nNodeNode\n- NodeNode\n- \n\n*Node*\nrequire()\n\n**\n1. \n- httpfspath\n  - Node\n  - http\n- ...\n  - Node\n- /\n- connect\n  - \n**\nNode\n\n- node_modules\n- node_modules\n- node_modules\n- node_modules\nJavaScriptNode\n2. \n- \nrequire()CommonJSNode.js.json.node\n.node.jsonrequire()\nNode\n- \nrequire()Node\nNodeCommonJSNodepackage.jsonCommonJSJSON.parse()mainmainpackage.jsonNodeindexindex.jsindex.jsonindex.node\n\n\n**\nNode\n\n- .jsfs\n- .nodeC/C++dlopen()\n- .jsonfsJSON.parse()\n- .js\n\nModule._cache\n\n1. JavaScript\nNodeJavaScript(function (exports, require, module, __filename, __dirname) {\\n\\n});\nexports\nrequiremodule.exports\n2. C/C++\n.nodeC/C++\n3. JSON\n.json3NodefsJSONJSON.parse()exports\n\n###### \n(1)JavaScript\n1. C/C++\n2. JavaScript\n\nJavaScriptNativeModule._cacheModule._cache\n(2)C/C++\nC/C++NodebuffercryptoevalsfsosC/C++\n1. \nNODE_MODULEnoderegister_func\nnode_extensions.hnode_module_list\n- node_buffer \n- node_crypto \n- node_evals \n- node_fs \n- node_http_parser \n- node_os \n- node_zlib \n- node_timer_wrap \n- node_tcp_wrap \n- node_udp_wrap\n- node_pipe_wrap \n- node_cares_wrap \n- node_tty_wrap \n- node_process_wrap \n- node_fs_event_wrap \n- node_signal_watcher \n\n- C/C++\n- Node\n2. \nNode(javascript)(C/C++)\n\nexportsget_builtin_module()register_func()exportsexports\n(3)\n\n###### C/C++\n(1)\n- GYP\n- V8C++\n- libuv\n- Node\n- \n.nodeNodeprocess.dlopen()\n//Native extension for .node \nModule._extensions['.node'] = process.dlopen;\n\nrequire().node4\n![require](./images/node-require.png)\n\n###### \n- C/C++\n  - APIJavaScriptJavaScriptC/C++process.binding()\n- JavaScript\n  - C/C++\n- \n  - JavaScriptC/C++JavaScript\n![node](./images/node-modules.png)\n\n#### NPM\n![](./images/package.png)\n\n###### \n.ziptar.gz\nCommonJS\n- package.json\n- bin\n- libJavaScript\n- doc\n- test\n\n###### NPM\nJSONpackage.json\nCommonJSpackage.json\n- name._-NPMnodejsJavaScriptNode\n- description\n- versionhttp://semver.org/major.minor.revision\n- keywordsNPM \n- maintainersnameemailweb3\"maintainers\": [{ \"name\": \"Jackson Tian\", \"email\": \"shyvo1987@gmail.com\", \"web\": \"http://html5ify.com\" }], NPM\n- contributorscontributors\n- bugsbug\n- licenses\"licenses\": [{ \"type\": \"GPLv2\", \"url\": \"http://www.example.com/licenses/gpl.html\", }] \n- repositories\n- dependenciesNPM \n- homepage\n- osaixfreebsdlinuxmacossolarisvxworkswindows\n- cpuCPUarmmipsppcsparcx86x86_64osCPU\n- engineJavaScriptejsflusspferdgpseejscspidermonkeynarwhalnodev8\n- builtin\n- directories\n- implementsCommonJS\n- scripts\n\"scripts\": { \"install\": \"install.js\", \n \"uninstall\": \"uninstall.js\", \n \"build\": \"build.js\", \n \"doc\": \"make-doc.js\", \n \"test\": \"test.js\" } \n\nNPMnameversiondescriptionkeywordsrepositoriesauthorbinmainscriptsenginesdependenciesdevDependencies\nauthorbinmaindevDependencies4\n- author\n- binbinnpm install package_name -g\nnode-gyp-g\n- mainrequire()require()index.jsindex.nodeindex.json\n- devDependencies\n\n###### \n- \n- \n  - npm init\n- \n  - npm adduser\n- \n  - npm publish .\n- \n  - npm install XXXX\n- \n  - npm owner ls <package name>\n  - npm owner add <user> <package name> \n  - npm owner rm <user> <package name> \n\n\n- \n- READMEAPI\n- \n- \n- \n\n###### AMD\nAMDCommonJS\ndefine(id?, dependencies?, factory); \nidNodefactory\nAMDdefineNode\n\n###### CMD\nAMDAMD\ndefine(['dep1', 'dep2'], function (dep1, dep2) { \n return function () {}; \n}); \nAMDCMDNodeCommonJS\ndefine(factory); \nCMD\ndefine(function(require, exports, module) { \n // The module code goes here \n}); \nrequireexportsmodulerequire()\n\n","updated":"2022-12-21T01:27:15.833Z","path":"nodejs/nodejs-note-1.html","comments":1,"layout":"page","_id":"clc62baik000enwvad5109zou","content":"<h6 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h6><p>JavaScripthtmljsJSnodejs</p>\n<p>jsjsjsDOMdocumentnodejsjshttpnodejsfs,http</p>\n<h6 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h6><p><a href=\"https://nodejs.org/en/\">https://nodejs.org/en/</a></p>\n<p>nodejs<br>dos <em>node -v</em>Google</p>\n<p><strong></strong><br>1nodejs<br>2<br>3nodejsnpmnodejsnpmdos <em>npm -v</em>npm</p>\n<p></p>\n<p><strong>nodejs<a href=\"https://nodejs.org/zh-cn/docs/\">https://nodejs.org/zh-cn/docs/</a></strong><br><strong>nodejs<a href=\"https://www.nodeapp.cn/documentation.html\">https://www.nodeapp.cn/documentation.html</a></strong></p>\n<h6 id=\"node\"><a href=\"#node\" class=\"headerlink\" title=\"node\"></a>node</h6><p>(1)I/O<br><img src=\"/nodejs/images/async-call.png\" alt=\"\"><br>Node<br>(2)<br>(3)<br>NodeJavaScript<br><br><em></em></p>\n<ul>\n<li>CPU</li>\n<li></li>\n<li>CPUI/O</li>\n</ul>\n<p>node<br>(4)<br>Nodelibuv<br><img src=\"/nodejs/images/cross-platform.png\" alt=\"\"></p>\n<h6 id=\"Node-\"><a href=\"#Node-\" class=\"headerlink\" title=\"Node \"></a>Node </h6><p>(1)I/O<br>NodeI/O<br>I/ONode<br>(2)CPU<br>nodeV8<br><em>CPUNodeJavaScriptCPUI/OI/OI/OCPU</em></p>\n<p>nodeCPU</p>\n<ul>\n<li>NodeC/C++CPUV8C/C++C/C++Java</li>\n<li>NodeC/C++NodeI/OCPU<br>(3)<br>(4)</li>\n</ul>\n<h6 id=\"Node-\"><a href=\"#Node-\" class=\"headerlink\" title=\"Node \"></a>Node </h6><ul>\n<li></li>\n<li>NodeI/O</li>\n<li>I/O</li>\n<li>I/OWeb</li>\n<li>Node</li>\n<li></li>\n<li></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"CommonJS\"><a href=\"#CommonJS\" class=\"headerlink\" title=\"CommonJS\"></a>CommonJS</h6><p>CommonJSJavaScriptJavaScript</p>\n<p>javascript</p>\n<ul>\n<li></li>\n<li>ECMAScriptI/OAPIHTML5W3C</li>\n<li>JavaScriptWeb</li>\n<li>JavaScript</li>\n</ul>\n<p><img src=\"/nodejs/images/commonjs-node-relation.png\" alt=\"commonjsnode\"></p>\n<h6 id=\"CommonJS\"><a href=\"#CommonJS\" class=\"headerlink\" title=\"CommonJS\"></a>CommonJS</h6><p></p>\n<ol>\n<li><p><br>CommonJSrequire()API</p>\n</li>\n<li><p><br>require()exportsmoduleexportsmoduleNodeexports</p>\n</li>\n<li><p><br>require()....js</p>\n</li>\n</ol>\n<h6 id=\"Node-\"><a href=\"#Node-\" class=\"headerlink\" title=\"Node \"></a>Node </h6><p>Node3<br>(1) <br>(2) <br>(3) </p>\n<p>NodeNode</p>\n<ul>\n<li>NodeNode</li>\n<li></li>\n</ul>\n<p><em>Node</em><br>require()</p>\n<p><em></em></p>\n<ol>\n<li></li>\n</ol>\n<ul>\n<li>httpfspath<ul>\n<li>Node</li>\n<li>http</li>\n</ul>\n</li>\n<li>...<ul>\n<li>Node</li>\n</ul>\n</li>\n<li>/</li>\n<li>connect<ul>\n<li></li>\n</ul>\n</li>\n</ul>\n<p><em></em><br>Node<br></p>\n<ul>\n<li>node_modules</li>\n<li>node_modules</li>\n<li>node_modules</li>\n<li>node_modules<br>JavaScriptNode</li>\n</ul>\n<ol start=\"2\">\n<li></li>\n</ol>\n<ul>\n<li><br>require()CommonJSNode.js.json.node<br>.node.jsonrequire()<br>Node</li>\n<li><br>require()Node<br>NodeCommonJSNodepackage.jsonCommonJSJSON.parse()mainmainpackage.jsonNodeindexindex.jsindex.jsonindex.node<br></li>\n</ul>\n<p><em></em><br>Node<br></p>\n<ul>\n<li>.jsfs</li>\n<li>.nodeC/C++dlopen()</li>\n<li>.jsonfsJSON.parse()</li>\n<li>.js</li>\n</ul>\n<p>Module._cache</p>\n<ol>\n<li>JavaScript<br>NodeJavaScript(function (exports, require, module, __filename, __dirname) {\\n\\n});<br>exports<br>requiremodule.exports</li>\n<li>C/C++<br>.nodeC/C++</li>\n<li>JSON<br>.json3NodefsJSONJSON.parse()exports</li>\n</ol>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(1)JavaScript</p>\n<ol>\n<li>C/C++</li>\n<li>JavaScript<br><br>JavaScriptNativeModule._cacheModule._cache<br>(2)C/C++<br>C/C++NodebuffercryptoevalsfsosC/C++</li>\n<li><br>NODE_MODULEnoderegister_func<br>node_extensions.hnode_module_list</li>\n</ol>\n<ul>\n<li>node_buffer </li>\n<li>node_crypto </li>\n<li>node_evals </li>\n<li>node_fs </li>\n<li>node_http_parser </li>\n<li>node_os </li>\n<li>node_zlib </li>\n<li>node_timer_wrap </li>\n<li>node_tcp_wrap </li>\n<li>node_udp_wrap</li>\n<li>node_pipe_wrap </li>\n<li>node_cares_wrap </li>\n<li>node_tty_wrap </li>\n<li>node_process_wrap </li>\n<li>node_fs_event_wrap </li>\n<li>node_signal_watcher<br></li>\n<li>C/C++</li>\n<li>Node</li>\n</ul>\n<ol start=\"2\">\n<li><br>Node(javascript)(C/C++)<br><br>exportsget_builtin_module()register_func()exportsexports<br>(3)</li>\n</ol>\n<h6 id=\"C-C-\"><a href=\"#C-C-\" class=\"headerlink\" title=\"C/C++\"></a>C/C++</h6><p>(1)</p>\n<ul>\n<li>GYP</li>\n<li>V8C++</li>\n<li>libuv</li>\n<li>Node</li>\n<li><br>.nodeNodeprocess.dlopen()<br>//Native extension for .node<br>Module._extensions[.node] = process.dlopen;</li>\n</ul>\n<p>require().node4<br><img src=\"/nodejs/images/node-require.png\" alt=\"require\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li>C/C++<ul>\n<li>APIJavaScriptJavaScriptC/C++process.binding()</li>\n</ul>\n</li>\n<li>JavaScript<ul>\n<li>C/C++</li>\n</ul>\n</li>\n<li><ul>\n<li>JavaScriptC/C++JavaScript<br><img src=\"/nodejs/images/node-modules.png\" alt=\"node\"></li>\n</ul>\n</li>\n</ul>\n<h4 id=\"NPM\"><a href=\"#NPM\" class=\"headerlink\" title=\"NPM\"></a>NPM</h4><p><img src=\"/nodejs/images/package.png\" alt=\"\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>.ziptar.gz<br>CommonJS</p>\n<ul>\n<li>package.json</li>\n<li>bin</li>\n<li>libJavaScript</li>\n<li>doc</li>\n<li>test</li>\n</ul>\n<h6 id=\"NPM\"><a href=\"#NPM\" class=\"headerlink\" title=\"NPM\"></a>NPM</h6><p>JSONpackage.json<br>CommonJSpackage.json</p>\n<ul>\n<li>name._-NPMnodejsJavaScriptNode</li>\n<li>description</li>\n<li>version<a href=\"http://semver.org/%E4%B8%8A%E6%9C%89%E8%AF%A6%E7%BB%86%E5%AE%9A%E4%B9%89%EF%BC%8C%E9%80%9A%E5%B8%B8%E4%B8%BAmajor.minor.revision%E6%A0%BC%E5%BC%8F%E3%80%82%E8%AF%A5%E7%89%88%E6%9C%AC%E5%8F%B7%E5%8D%81%E5%88%86%E9%87%8D%E8%A6%81%EF%BC%8C%E5%B8%B8%E5%B8%B8%E7%94%A8%E4%BA%8E%E4%B8%80%E4%BA%9B%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E7%9A%84%E5%9C%BA%E5%90%88%E3%80%82\">http://semver.org/major.minor.revision</a></li>\n<li>keywordsNPM </li>\n<li>maintainersnameemailweb3maintainers: [{ name: Jackson Tian, email: <a href=\"mailto:&#x73;&#104;&#x79;&#118;&#x6f;&#49;&#57;&#x38;&#x37;&#x40;&#x67;&#x6d;&#97;&#x69;&#108;&#x2e;&#99;&#x6f;&#x6d;\">&#x73;&#104;&#x79;&#118;&#x6f;&#49;&#57;&#x38;&#x37;&#x40;&#x67;&#x6d;&#97;&#x69;&#108;&#x2e;&#99;&#x6f;&#x6d;</a>, web: <a href=\"http://html5ify.com&quot;/\">http://html5ify.com&quot;</a> }], NPM</li>\n<li>contributorscontributors</li>\n<li>bugsbug</li>\n<li>licenseslicenses: [{ type: GPLv2, url: <a href=\"http://www.example.com/licenses/gpl.html&quot;\">http://www.example.com/licenses/gpl.html&quot;</a>, }] </li>\n<li>repositories</li>\n<li>dependenciesNPM </li>\n<li>homepage</li>\n<li>osaixfreebsdlinuxmacossolarisvxworkswindows</li>\n<li>cpuCPUarmmipsppcsparcx86x86_64osCPU</li>\n<li>engineJavaScriptejsflusspferdgpseejscspidermonkeynarwhalnodev8</li>\n<li>builtin</li>\n<li>directories</li>\n<li>implementsCommonJS</li>\n<li>scripts<br>scripts: { install: install.js,<br>uninstall: uninstall.js,<br>build: build.js,<br>doc: make-doc.js,<br>test: test.js } </li>\n</ul>\n<p>NPMnameversiondescriptionkeywordsrepositoriesauthorbinmainscriptsenginesdependenciesdevDependencies<br>authorbinmaindevDependencies4</p>\n<ul>\n<li>author</li>\n<li>binbinnpm install package_name -g<br>node-gyp-g</li>\n<li>mainrequire()require()index.jsindex.nodeindex.json</li>\n<li>devDependencies</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li></li>\n<li><ul>\n<li>npm init</li>\n</ul>\n</li>\n<li><ul>\n<li>npm adduser</li>\n</ul>\n</li>\n<li><ul>\n<li>npm publish .</li>\n</ul>\n</li>\n<li><ul>\n<li>npm install XXXX</li>\n</ul>\n</li>\n<li><ul>\n<li>npm owner ls <package name></package></li>\n<li>npm owner add <user> <package name> </package></user></li>\n<li>npm owner rm <user> <package name> </package></user></li>\n</ul>\n</li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li>READMEAPI</li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h6 id=\"AMD\"><a href=\"#AMD\" class=\"headerlink\" title=\"AMD\"></a>AMD</h6><p>AMDCommonJS<br>define(id?, dependencies?, factory);<br>idNodefactory<br>AMDdefineNode</p>\n<h6 id=\"CMD\"><a href=\"#CMD\" class=\"headerlink\" title=\"CMD\"></a>CMD</h6><p>AMDAMD<br>define([dep1, dep2], function (dep1, dep2) {<br> return function () {};<br>});<br>AMDCMDNodeCommonJS<br>define(factory);<br>CMD<br>define(function(require, exports, module) {<br> // The module code goes here<br>});<br>requireexportsmodulerequire()</p>\n","site":{"data":{}},"excerpt":"","more":"<h6 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h6><p>JavaScripthtmljsJSnodejs</p>\n<p>jsjsjsDOMdocumentnodejsjshttpnodejsfs,http</p>\n<h6 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h6><p><a href=\"https://nodejs.org/en/\">https://nodejs.org/en/</a></p>\n<p>nodejs<br>dos <em>node -v</em>Google</p>\n<p><strong></strong><br>1nodejs<br>2<br>3nodejsnpmnodejsnpmdos <em>npm -v</em>npm</p>\n<p></p>\n<p><strong>nodejs<a href=\"https://nodejs.org/zh-cn/docs/\">https://nodejs.org/zh-cn/docs/</a></strong><br><strong>nodejs<a href=\"https://www.nodeapp.cn/documentation.html\">https://www.nodeapp.cn/documentation.html</a></strong></p>\n<h6 id=\"node\"><a href=\"#node\" class=\"headerlink\" title=\"node\"></a>node</h6><p>(1)I/O<br><img src=\"/nodejs/images/async-call.png\" alt=\"\"><br>Node<br>(2)<br>(3)<br>NodeJavaScript<br><br><em></em></p>\n<ul>\n<li>CPU</li>\n<li></li>\n<li>CPUI/O</li>\n</ul>\n<p>node<br>(4)<br>Nodelibuv<br><img src=\"/nodejs/images/cross-platform.png\" alt=\"\"></p>\n<h6 id=\"Node-\"><a href=\"#Node-\" class=\"headerlink\" title=\"Node \"></a>Node </h6><p>(1)I/O<br>NodeI/O<br>I/ONode<br>(2)CPU<br>nodeV8<br><em>CPUNodeJavaScriptCPUI/OI/OI/OCPU</em></p>\n<p>nodeCPU</p>\n<ul>\n<li>NodeC/C++CPUV8C/C++C/C++Java</li>\n<li>NodeC/C++NodeI/OCPU<br>(3)<br>(4)</li>\n</ul>\n<h6 id=\"Node-\"><a href=\"#Node-\" class=\"headerlink\" title=\"Node \"></a>Node </h6><ul>\n<li></li>\n<li>NodeI/O</li>\n<li>I/O</li>\n<li>I/OWeb</li>\n<li>Node</li>\n<li></li>\n<li></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"CommonJS\"><a href=\"#CommonJS\" class=\"headerlink\" title=\"CommonJS\"></a>CommonJS</h6><p>CommonJSJavaScriptJavaScript</p>\n<p>javascript</p>\n<ul>\n<li></li>\n<li>ECMAScriptI/OAPIHTML5W3C</li>\n<li>JavaScriptWeb</li>\n<li>JavaScript</li>\n</ul>\n<p><img src=\"/nodejs/images/commonjs-node-relation.png\" alt=\"commonjsnode\"></p>\n<h6 id=\"CommonJS\"><a href=\"#CommonJS\" class=\"headerlink\" title=\"CommonJS\"></a>CommonJS</h6><p></p>\n<ol>\n<li><p><br>CommonJSrequire()API</p>\n</li>\n<li><p><br>require()exportsmoduleexportsmoduleNodeexports</p>\n</li>\n<li><p><br>require()....js</p>\n</li>\n</ol>\n<h6 id=\"Node-\"><a href=\"#Node-\" class=\"headerlink\" title=\"Node \"></a>Node </h6><p>Node3<br>(1) <br>(2) <br>(3) </p>\n<p>NodeNode</p>\n<ul>\n<li>NodeNode</li>\n<li></li>\n</ul>\n<p><em>Node</em><br>require()</p>\n<p><em></em></p>\n<ol>\n<li></li>\n</ol>\n<ul>\n<li>httpfspath<ul>\n<li>Node</li>\n<li>http</li>\n</ul>\n</li>\n<li>...<ul>\n<li>Node</li>\n</ul>\n</li>\n<li>/</li>\n<li>connect<ul>\n<li></li>\n</ul>\n</li>\n</ul>\n<p><em></em><br>Node<br></p>\n<ul>\n<li>node_modules</li>\n<li>node_modules</li>\n<li>node_modules</li>\n<li>node_modules<br>JavaScriptNode</li>\n</ul>\n<ol start=\"2\">\n<li></li>\n</ol>\n<ul>\n<li><br>require()CommonJSNode.js.json.node<br>.node.jsonrequire()<br>Node</li>\n<li><br>require()Node<br>NodeCommonJSNodepackage.jsonCommonJSJSON.parse()mainmainpackage.jsonNodeindexindex.jsindex.jsonindex.node<br></li>\n</ul>\n<p><em></em><br>Node<br></p>\n<ul>\n<li>.jsfs</li>\n<li>.nodeC/C++dlopen()</li>\n<li>.jsonfsJSON.parse()</li>\n<li>.js</li>\n</ul>\n<p>Module._cache</p>\n<ol>\n<li>JavaScript<br>NodeJavaScript(function (exports, require, module, __filename, __dirname) {\\n\\n});<br>exports<br>requiremodule.exports</li>\n<li>C/C++<br>.nodeC/C++</li>\n<li>JSON<br>.json3NodefsJSONJSON.parse()exports</li>\n</ol>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(1)JavaScript</p>\n<ol>\n<li>C/C++</li>\n<li>JavaScript<br><br>JavaScriptNativeModule._cacheModule._cache<br>(2)C/C++<br>C/C++NodebuffercryptoevalsfsosC/C++</li>\n<li><br>NODE_MODULEnoderegister_func<br>node_extensions.hnode_module_list</li>\n</ol>\n<ul>\n<li>node_buffer </li>\n<li>node_crypto </li>\n<li>node_evals </li>\n<li>node_fs </li>\n<li>node_http_parser </li>\n<li>node_os </li>\n<li>node_zlib </li>\n<li>node_timer_wrap </li>\n<li>node_tcp_wrap </li>\n<li>node_udp_wrap</li>\n<li>node_pipe_wrap </li>\n<li>node_cares_wrap </li>\n<li>node_tty_wrap </li>\n<li>node_process_wrap </li>\n<li>node_fs_event_wrap </li>\n<li>node_signal_watcher<br></li>\n<li>C/C++</li>\n<li>Node</li>\n</ul>\n<ol start=\"2\">\n<li><br>Node(javascript)(C/C++)<br><br>exportsget_builtin_module()register_func()exportsexports<br>(3)</li>\n</ol>\n<h6 id=\"C-C-\"><a href=\"#C-C-\" class=\"headerlink\" title=\"C/C++\"></a>C/C++</h6><p>(1)</p>\n<ul>\n<li>GYP</li>\n<li>V8C++</li>\n<li>libuv</li>\n<li>Node</li>\n<li><br>.nodeNodeprocess.dlopen()<br>//Native extension for .node<br>Module._extensions[.node] = process.dlopen;</li>\n</ul>\n<p>require().node4<br><img src=\"/nodejs/images/node-require.png\" alt=\"require\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li>C/C++<ul>\n<li>APIJavaScriptJavaScriptC/C++process.binding()</li>\n</ul>\n</li>\n<li>JavaScript<ul>\n<li>C/C++</li>\n</ul>\n</li>\n<li><ul>\n<li>JavaScriptC/C++JavaScript<br><img src=\"/nodejs/images/node-modules.png\" alt=\"node\"></li>\n</ul>\n</li>\n</ul>\n<h4 id=\"NPM\"><a href=\"#NPM\" class=\"headerlink\" title=\"NPM\"></a>NPM</h4><p><img src=\"/nodejs/images/package.png\" alt=\"\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>.ziptar.gz<br>CommonJS</p>\n<ul>\n<li>package.json</li>\n<li>bin</li>\n<li>libJavaScript</li>\n<li>doc</li>\n<li>test</li>\n</ul>\n<h6 id=\"NPM\"><a href=\"#NPM\" class=\"headerlink\" title=\"NPM\"></a>NPM</h6><p>JSONpackage.json<br>CommonJSpackage.json</p>\n<ul>\n<li>name._-NPMnodejsJavaScriptNode</li>\n<li>description</li>\n<li>version<a href=\"http://semver.org/%E4%B8%8A%E6%9C%89%E8%AF%A6%E7%BB%86%E5%AE%9A%E4%B9%89%EF%BC%8C%E9%80%9A%E5%B8%B8%E4%B8%BAmajor.minor.revision%E6%A0%BC%E5%BC%8F%E3%80%82%E8%AF%A5%E7%89%88%E6%9C%AC%E5%8F%B7%E5%8D%81%E5%88%86%E9%87%8D%E8%A6%81%EF%BC%8C%E5%B8%B8%E5%B8%B8%E7%94%A8%E4%BA%8E%E4%B8%80%E4%BA%9B%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E7%9A%84%E5%9C%BA%E5%90%88%E3%80%82\">http://semver.org/major.minor.revision</a></li>\n<li>keywordsNPM </li>\n<li>maintainersnameemailweb3maintainers: [{ name: Jackson Tian, email: <a href=\"mailto:&#x73;&#104;&#x79;&#118;&#x6f;&#49;&#57;&#x38;&#x37;&#x40;&#x67;&#x6d;&#97;&#x69;&#108;&#x2e;&#99;&#x6f;&#x6d;\">&#x73;&#104;&#x79;&#118;&#x6f;&#49;&#57;&#x38;&#x37;&#x40;&#x67;&#x6d;&#97;&#x69;&#108;&#x2e;&#99;&#x6f;&#x6d;</a>, web: <a href=\"http://html5ify.com&quot;/\">http://html5ify.com&quot;</a> }], NPM</li>\n<li>contributorscontributors</li>\n<li>bugsbug</li>\n<li>licenseslicenses: [{ type: GPLv2, url: <a href=\"http://www.example.com/licenses/gpl.html&quot;\">http://www.example.com/licenses/gpl.html&quot;</a>, }] </li>\n<li>repositories</li>\n<li>dependenciesNPM </li>\n<li>homepage</li>\n<li>osaixfreebsdlinuxmacossolarisvxworkswindows</li>\n<li>cpuCPUarmmipsppcsparcx86x86_64osCPU</li>\n<li>engineJavaScriptejsflusspferdgpseejscspidermonkeynarwhalnodev8</li>\n<li>builtin</li>\n<li>directories</li>\n<li>implementsCommonJS</li>\n<li>scripts<br>scripts: { install: install.js,<br>uninstall: uninstall.js,<br>build: build.js,<br>doc: make-doc.js,<br>test: test.js } </li>\n</ul>\n<p>NPMnameversiondescriptionkeywordsrepositoriesauthorbinmainscriptsenginesdependenciesdevDependencies<br>authorbinmaindevDependencies4</p>\n<ul>\n<li>author</li>\n<li>binbinnpm install package_name -g<br>node-gyp-g</li>\n<li>mainrequire()require()index.jsindex.nodeindex.json</li>\n<li>devDependencies</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li></li>\n<li><ul>\n<li>npm init</li>\n</ul>\n</li>\n<li><ul>\n<li>npm adduser</li>\n</ul>\n</li>\n<li><ul>\n<li>npm publish .</li>\n</ul>\n</li>\n<li><ul>\n<li>npm install XXXX</li>\n</ul>\n</li>\n<li><ul>\n<li>npm owner ls <package name></package></li>\n<li>npm owner add <user> <package name> </package></user></li>\n<li>npm owner rm <user> <package name> </package></user></li>\n</ul>\n</li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li>READMEAPI</li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h6 id=\"AMD\"><a href=\"#AMD\" class=\"headerlink\" title=\"AMD\"></a>AMD</h6><p>AMDCommonJS<br>define(id?, dependencies?, factory);<br>idNodefactory<br>AMDdefineNode</p>\n<h6 id=\"CMD\"><a href=\"#CMD\" class=\"headerlink\" title=\"CMD\"></a>CMD</h6><p>AMDAMD<br>define([dep1, dep2], function (dep1, dep2) {<br> return function () {};<br>});<br>AMDCMDNodeCommonJS<br>define(factory);<br>CMD<br>define(function(require, exports, module) {<br> // The module code goes here<br>});<br>requireexportsmodulerequire()</p>\n"},{"title":"nodejs(2)","date":"2022-11-19T13:10:12.000Z","tags":["node","docs"],"_content":"\n####  I/O \n- \n  - ![i/o](./images/async-experience.png)\n- \n  - ![i/o](./images/how-to-call-async.png)\n\n*I/OI/O*\nI/OI/OI/O\n![i/o](./images/jam.png)\nI/O\n\nI/OCPUI/OCPUI/OI/OI/O\n![i/o](./images/no-jam.png)\n\n*I/OI/OI/OI/OI/OI/O*\n\nI/OCPUCPUCPU\n\n- readI/OCPU\n![read](./images/read-loop.png)\n- selectread\n![select](./images/select-loop.png)\n*select10241024*\n- pollselect\n![poll](./images/poll-loop.png)\n- epollLinuxI/OI/OCPU\n![epoll](./images/epoll-loop.png)\n- kqueueepollFreeBSD\n\n###### Node  I/O\n1. \n   Nodewhile(true)TickTick\n2. \n   \n3. \n   I/OI/O\n![i/o](./images/async-progress.png)\n\n*I/ONodeI/O*\nWindowsIOCPI/OI/O\nI/O\nLinuxepoll\nFreeBSDkqueue\nSolarisEvent ports\n\nWindowsIOCP*nixlibuv\n\n######  I/O  API \n- \nsetTimeout()setInterval()Tick\n\nsetTimeout()1095CPU4\n\n![](./images/settimeout.png)\n- process.nextTick()\n```javascript\nprocess.nextTick = function(callback) { \n // on the way out, don't bother. \n // it won't get fired anyway \n if (process._exiting) return; \n if (tickDepth >= process.maxTickDepth) \n maxTickWarn(); \n var tock = { callback: callback }; \n if (process.domain) tock.domain = process.domain; \n nextTickQueue.push(tock); \n if (nextTickQueue.length) { \n process._needTickCallback(); \n } \n}; \n```\nprocess.nextTick()TickO(lg(n))nextTick()O(1)process.nextTick()\n- setImmediate()\nprocess.nextTick()setImmediate()process.nextTick()idlesetImmediate()checkidleI/OI/Ocheck\n\nprocess.nextTick()setImmediate()process.nextTick()setImmediate()\n```javascript\n// nextTick()\nprocess.nextTick(function () { \n console.log('nextTick1'); \n}); \nprocess.nextTick(function () { \n console.log('nextTick2'); \n}); \n// setImmediate()\nsetImmediate(function () { \n console.log('setImmediate1'); \n // \n process.nextTick(function () { \n console.log(''); \n }); \n}); \nsetImmediate(function () { \n console.log('setImmediate2'); \n}); \nconsole.log(''); \n// \n// \n// nextTick1 \n// nextTick2 \n// setImmediate1 \n// \n// setImmediate2 \n```\n\n#### \n\n- :\n- : \n\n###### \n- \nI/OCPUI/O\n\n- \n  - \n  - \n  - \n  - \n  - \n\n###### \n- /\n  - Nodeeventshttp://nodejs.org/docs/latest/api/events.html/NodeDOMpreventDefault()stopPropagation()stopImmediatePropagation() addListener/on()  once()  removeListener() removeAllListeners()emit()\n  - 10Nodeemitter.setMaxListeners(0)CPU EventEmittererrorerrorEventEmittererrorEventEmittererror\n  - events\n  - \n  - \n```javascript\nvar count = 0; \nvar results = {}; \nvar done = function (key, value) { \n results[key] = value; \n count++; \n if (count === 3) { \n // \n render(results); \n } \n}; \nfs.readFile(template_path, \"utf8\", function (err, template) { \n done(\"template\", template); \n}); \ndb.query(sql, function (err, data) { \n done(\"data\", data); \n}); \nl10n.get(function (err, resources) { \n done(\"resources\", resources); \n});\n```\n   - EventProxy\n```javascript\n// Trigger an event, firing all bound callbacks. Callbacks are passed the \n// same arguments as `trigger` is, apart from the event name. \n// Listening for `\"all\"` passes the true event name as the first argument \ntrigger : function(eventName) { \n var list, calls, ev, callback, args; \n var both = 2; \n if (!(calls = this._callbacks)) return this;\n while (both--) { \n ev = both ? eventName : 'all'; \n if (list = calls[ev]) { \n for (var i = 0, l = list.length; i < l; i++) { \n if (!(callback = list[i])) { \n list.splice(i, 1); i--; l--; \n } else { \n args = both ? Array.prototype.slice.call(arguments, 1) : arguments; \n callback[0].apply(callback[1] || this, args); \n } \n } \n } \n } \n return this; \n}\n```\n   - EventProxy\n- Promise/Deferred\n  -  Promises/A \n     -  Promise/DeferredPromiseDeferredPromises/APromises/A\n        - Promise3\n        - Promise\n        - Promise\n      - APIPromises/APromisethen()then()\n        - \n        - progress\n        - then()function\n        - then()Promise\n        - ![deferpromise](./images/defer-promise.png)\n  - Promise\n```javascript\nDeferred.prototype.all = function (promises) { \nvar count = promises.length; \n var that = this; \n var results = []; \n promises.forEach(function (promise, i) { \n promise.then(function (data) { \n count--; \n results[i] = data; \n if (count === 0) { \n that.resolve(results); \n } \n }, function (err) { \n that.reject(err); \n }); \n }); \n return this.promise; \n}; \n```\n        - Promise\n```javascript\npromise() \n .then(obj.api1) \n .then(obj.api2) \n .then(obj.api3) \n .then(obj.api4) \n .then(function (value4) { \n // Do something with value4 \n }, function (error) { \n // Handle any error from step1 through step4 \n }) \n .done(); \n\nvar Deferred = function () { \n this.promise = new Promise(); \n}; \n// \nDeferred.prototype.resolve = function (obj) { \n var promise = this.promise; \n var handler; \n while ((handler = promise.queue.shift())) { \n if (handler && handler.fulfilled) { \n var ret = handler.fulfilled(obj); \n if (ret && ret.isPromise) { \n ret.queue = promise.queue; \n this.promise = ret; \n return; \n } \n } \n } \n}; \n// \nDeferred.prototype.reject = function (err) { \n var promise = this.promise; \n var handler; \n while ((handler = promise.queue.shift())) { \n if (handler && handler.error) { \n var ret = handler.error(err); \n if (ret && ret.isPromise) { \n ret.queue = promise.queue; \n this.promise = ret;\n return; \n } \n } \n } \n}; \n// \nDeferred.prototype.callback = function () { \n var that = this; \n return function (err, file) { \n if (err) { \n return that.reject(err); \n } \n that.resolve(file); \n }; \n}; \nvar Promise = function () { \n // \n this.queue = []; \n this.isPromise = true; \n}; \nPromise.prototype.then = function (fulfilledHandler, errorHandler, progressHandler) { \n var handler = {}; \n if (typeof fulfilledHandler === 'function') { \n handler.fulfilled = fulfilledHandler; \n } \n if (typeof errorHandler === 'function') { \n handler.error = errorHandler; \n } \n this.queue.push(handler); \n return this; \n};\n```\n        - API Promise\n- \n  - Next\n    - nextConnect\n    - ![](./images/tail-trigger.png)\n    - Promise\n  - async\n    - \n```javascript\nasync.series([ \n function (callback) { \n fs.readFile('file1.txt', 'utf-8', callback); \n }, \n function (callback) { \n fs.readFile('file2.txt', 'utf-8', callback); \n } \n], function (err, results) { \n // results => [file1.txt, file2.txt] \n}); \n\nfs.readFile('file1.txt', 'utf-8', function (err, content) { \n if (err) { \n return callback(err); \n } \n fs.readFile('file2.txt ', 'utf-8', function (err, data) { \n if (err) { \n return callback(err); \n } \n callback(null, [content, data]); \n }); \n}); \n\n```\n    - \n```javascript\nasync.parallel([ \n function (callback) { \n fs.readFile('file1.txt', 'utf-8', callback); \n }, \n function (callback) { \n fs.readFile('file2.txt', 'utf-8', callback); \n } \n], function (err, results) { \n // results => [file1.txt, file2.txt] \n}); \n```\n    - \n      - series()series()asyncwaterfall()\n```javascript\nasync.waterfall([ \n function (callback) { \n fs.readFile('file1.txt', 'utf-8', function (err, content) { \n callback(err, content); \n }); \n }, \n function (arg1, callback) { \n // arg1 => file2.txt \n fs.readFile(arg1, 'utf-8', function (err, content) { \n callback(err, content); \n }); \n }, \n function(arg1, callback){ \n // arg1 => file3.txt \n fs.readFile(arg1, 'utf-8', function (err, content) { \n callback(err, content); \n }); \n } \n], function (err, result) { \n // result => file4.txt \n});\n```\n    - \n      - asyncauto()\n  - Step\n```javascript\nStep( \n function readFile1() { \n fs.readFile('file1.txt', 'utf-8', this); \n }, \n function readFile2(err, content) { \n fs.readFile('file2.txt', 'utf-8', this); \n }, \n function done(err, content) { \n console.log(content); \n } \n);\n```\n    - StepthisStepnext()\n    - \n      - thisparallel()Step\n      - parallel()Step\n    - : group()\n  - wind\n    - \n    - $await()\n    - \n      - Wind.Async.Binding.fromCallback\n      - Wind.Async.Binding.fromStandard\n\n###### \n- bagpipe\n  - \n  - \n  - \n  - \n```javascript\nvar Bagpipe = require('bagpipe'); \n// 10\nvar bagpipe = new Bagpipe(10); \nfor (var i = 0; i < 100; i++) { \n bagpipe.push(async, function () { \n // \n }); \n} \nbagpipe.on('full', function (length) { \n console.warn(':' + length); \n}); \n```\n      - \n      - \n\n   - asyncasyncparallelLimit()\n     - parallelLimit()parallel()\n     - parallelLimit()asyncqueue()","source":"nodejs/nodejs-note-2.md","raw":"---\ntitle: nodejs(2)\ndate: 2022-11-19 21:10:12\ntags: [node, docs]\n---\n\n####  I/O \n- \n  - ![i/o](./images/async-experience.png)\n- \n  - ![i/o](./images/how-to-call-async.png)\n\n*I/OI/O*\nI/OI/OI/O\n![i/o](./images/jam.png)\nI/O\n\nI/OCPUI/OCPUI/OI/OI/O\n![i/o](./images/no-jam.png)\n\n*I/OI/OI/OI/OI/OI/O*\n\nI/OCPUCPUCPU\n\n- readI/OCPU\n![read](./images/read-loop.png)\n- selectread\n![select](./images/select-loop.png)\n*select10241024*\n- pollselect\n![poll](./images/poll-loop.png)\n- epollLinuxI/OI/OCPU\n![epoll](./images/epoll-loop.png)\n- kqueueepollFreeBSD\n\n###### Node  I/O\n1. \n   Nodewhile(true)TickTick\n2. \n   \n3. \n   I/OI/O\n![i/o](./images/async-progress.png)\n\n*I/ONodeI/O*\nWindowsIOCPI/OI/O\nI/O\nLinuxepoll\nFreeBSDkqueue\nSolarisEvent ports\n\nWindowsIOCP*nixlibuv\n\n######  I/O  API \n- \nsetTimeout()setInterval()Tick\n\nsetTimeout()1095CPU4\n\n![](./images/settimeout.png)\n- process.nextTick()\n```javascript\nprocess.nextTick = function(callback) { \n // on the way out, don't bother. \n // it won't get fired anyway \n if (process._exiting) return; \n if (tickDepth >= process.maxTickDepth) \n maxTickWarn(); \n var tock = { callback: callback }; \n if (process.domain) tock.domain = process.domain; \n nextTickQueue.push(tock); \n if (nextTickQueue.length) { \n process._needTickCallback(); \n } \n}; \n```\nprocess.nextTick()TickO(lg(n))nextTick()O(1)process.nextTick()\n- setImmediate()\nprocess.nextTick()setImmediate()process.nextTick()idlesetImmediate()checkidleI/OI/Ocheck\n\nprocess.nextTick()setImmediate()process.nextTick()setImmediate()\n```javascript\n// nextTick()\nprocess.nextTick(function () { \n console.log('nextTick1'); \n}); \nprocess.nextTick(function () { \n console.log('nextTick2'); \n}); \n// setImmediate()\nsetImmediate(function () { \n console.log('setImmediate1'); \n // \n process.nextTick(function () { \n console.log(''); \n }); \n}); \nsetImmediate(function () { \n console.log('setImmediate2'); \n}); \nconsole.log(''); \n// \n// \n// nextTick1 \n// nextTick2 \n// setImmediate1 \n// \n// setImmediate2 \n```\n\n#### \n\n- :\n- : \n\n###### \n- \nI/OCPUI/O\n\n- \n  - \n  - \n  - \n  - \n  - \n\n###### \n- /\n  - Nodeeventshttp://nodejs.org/docs/latest/api/events.html/NodeDOMpreventDefault()stopPropagation()stopImmediatePropagation() addListener/on()  once()  removeListener() removeAllListeners()emit()\n  - 10Nodeemitter.setMaxListeners(0)CPU EventEmittererrorerrorEventEmittererrorEventEmittererror\n  - events\n  - \n  - \n```javascript\nvar count = 0; \nvar results = {}; \nvar done = function (key, value) { \n results[key] = value; \n count++; \n if (count === 3) { \n // \n render(results); \n } \n}; \nfs.readFile(template_path, \"utf8\", function (err, template) { \n done(\"template\", template); \n}); \ndb.query(sql, function (err, data) { \n done(\"data\", data); \n}); \nl10n.get(function (err, resources) { \n done(\"resources\", resources); \n});\n```\n   - EventProxy\n```javascript\n// Trigger an event, firing all bound callbacks. Callbacks are passed the \n// same arguments as `trigger` is, apart from the event name. \n// Listening for `\"all\"` passes the true event name as the first argument \ntrigger : function(eventName) { \n var list, calls, ev, callback, args; \n var both = 2; \n if (!(calls = this._callbacks)) return this;\n while (both--) { \n ev = both ? eventName : 'all'; \n if (list = calls[ev]) { \n for (var i = 0, l = list.length; i < l; i++) { \n if (!(callback = list[i])) { \n list.splice(i, 1); i--; l--; \n } else { \n args = both ? Array.prototype.slice.call(arguments, 1) : arguments; \n callback[0].apply(callback[1] || this, args); \n } \n } \n } \n } \n return this; \n}\n```\n   - EventProxy\n- Promise/Deferred\n  -  Promises/A \n     -  Promise/DeferredPromiseDeferredPromises/APromises/A\n        - Promise3\n        - Promise\n        - Promise\n      - APIPromises/APromisethen()then()\n        - \n        - progress\n        - then()function\n        - then()Promise\n        - ![deferpromise](./images/defer-promise.png)\n  - Promise\n```javascript\nDeferred.prototype.all = function (promises) { \nvar count = promises.length; \n var that = this; \n var results = []; \n promises.forEach(function (promise, i) { \n promise.then(function (data) { \n count--; \n results[i] = data; \n if (count === 0) { \n that.resolve(results); \n } \n }, function (err) { \n that.reject(err); \n }); \n }); \n return this.promise; \n}; \n```\n        - Promise\n```javascript\npromise() \n .then(obj.api1) \n .then(obj.api2) \n .then(obj.api3) \n .then(obj.api4) \n .then(function (value4) { \n // Do something with value4 \n }, function (error) { \n // Handle any error from step1 through step4 \n }) \n .done(); \n\nvar Deferred = function () { \n this.promise = new Promise(); \n}; \n// \nDeferred.prototype.resolve = function (obj) { \n var promise = this.promise; \n var handler; \n while ((handler = promise.queue.shift())) { \n if (handler && handler.fulfilled) { \n var ret = handler.fulfilled(obj); \n if (ret && ret.isPromise) { \n ret.queue = promise.queue; \n this.promise = ret; \n return; \n } \n } \n } \n}; \n// \nDeferred.prototype.reject = function (err) { \n var promise = this.promise; \n var handler; \n while ((handler = promise.queue.shift())) { \n if (handler && handler.error) { \n var ret = handler.error(err); \n if (ret && ret.isPromise) { \n ret.queue = promise.queue; \n this.promise = ret;\n return; \n } \n } \n } \n}; \n// \nDeferred.prototype.callback = function () { \n var that = this; \n return function (err, file) { \n if (err) { \n return that.reject(err); \n } \n that.resolve(file); \n }; \n}; \nvar Promise = function () { \n // \n this.queue = []; \n this.isPromise = true; \n}; \nPromise.prototype.then = function (fulfilledHandler, errorHandler, progressHandler) { \n var handler = {}; \n if (typeof fulfilledHandler === 'function') { \n handler.fulfilled = fulfilledHandler; \n } \n if (typeof errorHandler === 'function') { \n handler.error = errorHandler; \n } \n this.queue.push(handler); \n return this; \n};\n```\n        - API Promise\n- \n  - Next\n    - nextConnect\n    - ![](./images/tail-trigger.png)\n    - Promise\n  - async\n    - \n```javascript\nasync.series([ \n function (callback) { \n fs.readFile('file1.txt', 'utf-8', callback); \n }, \n function (callback) { \n fs.readFile('file2.txt', 'utf-8', callback); \n } \n], function (err, results) { \n // results => [file1.txt, file2.txt] \n}); \n\nfs.readFile('file1.txt', 'utf-8', function (err, content) { \n if (err) { \n return callback(err); \n } \n fs.readFile('file2.txt ', 'utf-8', function (err, data) { \n if (err) { \n return callback(err); \n } \n callback(null, [content, data]); \n }); \n}); \n\n```\n    - \n```javascript\nasync.parallel([ \n function (callback) { \n fs.readFile('file1.txt', 'utf-8', callback); \n }, \n function (callback) { \n fs.readFile('file2.txt', 'utf-8', callback); \n } \n], function (err, results) { \n // results => [file1.txt, file2.txt] \n}); \n```\n    - \n      - series()series()asyncwaterfall()\n```javascript\nasync.waterfall([ \n function (callback) { \n fs.readFile('file1.txt', 'utf-8', function (err, content) { \n callback(err, content); \n }); \n }, \n function (arg1, callback) { \n // arg1 => file2.txt \n fs.readFile(arg1, 'utf-8', function (err, content) { \n callback(err, content); \n }); \n }, \n function(arg1, callback){ \n // arg1 => file3.txt \n fs.readFile(arg1, 'utf-8', function (err, content) { \n callback(err, content); \n }); \n } \n], function (err, result) { \n // result => file4.txt \n});\n```\n    - \n      - asyncauto()\n  - Step\n```javascript\nStep( \n function readFile1() { \n fs.readFile('file1.txt', 'utf-8', this); \n }, \n function readFile2(err, content) { \n fs.readFile('file2.txt', 'utf-8', this); \n }, \n function done(err, content) { \n console.log(content); \n } \n);\n```\n    - StepthisStepnext()\n    - \n      - thisparallel()Step\n      - parallel()Step\n    - : group()\n  - wind\n    - \n    - $await()\n    - \n      - Wind.Async.Binding.fromCallback\n      - Wind.Async.Binding.fromStandard\n\n###### \n- bagpipe\n  - \n  - \n  - \n  - \n```javascript\nvar Bagpipe = require('bagpipe'); \n// 10\nvar bagpipe = new Bagpipe(10); \nfor (var i = 0; i < 100; i++) { \n bagpipe.push(async, function () { \n // \n }); \n} \nbagpipe.on('full', function (length) { \n console.warn(':' + length); \n}); \n```\n      - \n      - \n\n   - asyncasyncparallelLimit()\n     - parallelLimit()parallel()\n     - parallelLimit()asyncqueue()","updated":"2022-12-26T05:53:22.247Z","path":"nodejs/nodejs-note-2.html","comments":1,"layout":"page","_id":"clc62baim000gnwva55zw716a","content":"<h4 id=\"-I-O\"><a href=\"#-I-O\" class=\"headerlink\" title=\" I/O\"></a> I/O</h4><ul>\n<li><ul>\n<li><img src=\"/nodejs/images/async-experience.png\" alt=\"i/o\"></li>\n</ul>\n</li>\n<li><ul>\n<li><img src=\"/nodejs/images/how-to-call-async.png\" alt=\"i/o\"></li>\n</ul>\n</li>\n</ul>\n<p><em>I/OI/O</em><br>I/OI/OI/O<br><img src=\"/nodejs/images/jam.png\" alt=\"i/o\"><br>I/O</p>\n<p>I/OCPUI/OCPUI/OI/OI/O<br><img src=\"/nodejs/images/no-jam.png\" alt=\"i/o\"></p>\n<p><em>I/OI/OI/OI/OI/OI/O</em></p>\n<p>I/OCPUCPUCPU<br></p>\n<ul>\n<li>readI/OCPU<br><img src=\"/nodejs/images/read-loop.png\" alt=\"read\"></li>\n<li>selectread<br><img src=\"/nodejs/images/select-loop.png\" alt=\"select\"></li>\n</ul>\n<p><em>select10241024</em></p>\n<ul>\n<li>pollselect<br><img src=\"/nodejs/images/poll-loop.png\" alt=\"poll\"></li>\n<li>epollLinuxI/OI/OCPU<br><img src=\"/nodejs/images/epoll-loop.png\" alt=\"epoll\"></li>\n<li>kqueueepollFreeBSD</li>\n</ul>\n<h6 id=\"Node--I-O\"><a href=\"#Node--I-O\" class=\"headerlink\" title=\"Node  I/O\"></a>Node  I/O</h6><ol>\n<li><br>Nodewhile(true)TickTick</li>\n<li><br></li>\n<li><br>I/OI/O<br><img src=\"/nodejs/images/async-progress.png\" alt=\"i/o\"></li>\n</ol>\n<p><em>I/ONodeI/O</em><br>WindowsIOCPI/OI/O<br>I/O<br>Linuxepoll<br>FreeBSDkqueue<br>SolarisEvent ports</p>\n<p>WindowsIOCP*nixlibuv</p>\n<h6 id=\"-I-O--API\"><a href=\"#-I-O--API\" class=\"headerlink\" title=\" I/O  API\"></a> I/O  API</h6><ul>\n<li><br>setTimeout()setInterval()Tick</li>\n</ul>\n<p>setTimeout()1095CPU4</p>\n<p><img src=\"/nodejs/images/settimeout.png\" alt=\"\"></p>\n<ul>\n<li>process.nextTick()<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">process.nextTick = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">callback</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// on the way out, don&#x27;t bother. </span></span><br><span class=\"line\"> <span class=\"comment\">// it won&#x27;t get fired anyway </span></span><br><span class=\"line\"> <span class=\"keyword\">if</span> (process._exiting) <span class=\"keyword\">return</span>; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (tickDepth &gt;= process.maxTickDepth) </span><br><span class=\"line\"> maxTickWarn(); </span><br><span class=\"line\"> <span class=\"keyword\">var</span> tock = &#123; <span class=\"attr\">callback</span>: callback &#125;; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (process.domain) tock.domain = process.domain; </span><br><span class=\"line\"> nextTickQueue.push(tock); </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (nextTickQueue.length) &#123; </span><br><span class=\"line\"> process._needTickCallback(); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\nprocess.nextTick()TickO(lg(n))nextTick()O(1)process.nextTick()</li>\n<li>setImmediate()<br>process.nextTick()setImmediate()process.nextTick()idlesetImmediate()checkidleI/OI/Ocheck</li>\n</ul>\n<p>process.nextTick()setImmediate()process.nextTick()setImmediate()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// nextTick()</span></span><br><span class=\"line\">process.nextTick(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;nextTick1&#x27;</span>); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">process.nextTick(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;nextTick2&#x27;</span>); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"><span class=\"comment\">// setImmediate()</span></span><br><span class=\"line\">setImmediate(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;setImmediate1&#x27;</span>); </span><br><span class=\"line\"> <span class=\"comment\">// </span></span><br><span class=\"line\"> process.nextTick(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;&#x27;</span>); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">setImmediate(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;setImmediate2&#x27;</span>); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;&#x27;</span>); </span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// nextTick1 </span></span><br><span class=\"line\"><span class=\"comment\">// nextTick2 </span></span><br><span class=\"line\"><span class=\"comment\">// setImmediate1 </span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// setImmediate2 </span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>:</li>\n<li>: </li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><br>I/OCPUI/O<br></li>\n<li><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li>/<ul>\n<li>Nodeevents<a href=\"http://nodejs.org/docs/latest/api/events.html%EF%BC%89%E6%98%AF%E5%8F%91%E5%B8%83/%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0%EF%BC%8CNode%E4%B8%AD%E9%83%A8%E5%88%86%E6%A8%A1%E5%9D%97%E9%83%BD%E7%BB%A7%E6%89%BF%E8%87%AA%E5%AE%83%EF%BC%8C%E8%BF%99%E4%B8%AA%E6%A8%A1%E5%9D%97%E6%AF%94%E5%89%8D%E7%AB%AF%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84%E5%A4%A7%E9%87%8FDOM%E4%BA%8B%E4%BB%B6%E7%AE%80%E5%8D%95%EF%BC%8C%E4%B8%8D%E5%AD%98%E5%9C%A8%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1%EF%BC%8C%E4%B9%9F%E4%B8%8D%E5%AD%98%E5%9C%A8preventDefault()%E3%80%81stopPropagation()%E5%92%8CstopImmediatePropagation()%E7%AD%89%E6%8E%A7%E5%88%B6%E4%BA%8B%E4%BB%B6%E4%BC%A0%E9%80%92%E7%9A%84%E6%96%B9%E6%B3%95%E3%80%82%E5%AE%83%E5%85%B7%E6%9C%89\">http://nodejs.org/docs/latest/api/events.html/NodeDOMpreventDefault()stopPropagation()stopImmediatePropagation()</a> addListener/on()  once()  removeListener() removeAllListeners()emit()</li>\n<li>10Nodeemitter.setMaxListeners(0)CPU EventEmittererrorerrorEventEmittererrorEventEmittererror</li>\n<li>events</li>\n<li></li>\n<li><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> count = <span class=\"number\">0</span>; </span><br><span class=\"line\"><span class=\"keyword\">var</span> results = &#123;&#125;; </span><br><span class=\"line\"><span class=\"keyword\">var</span> done = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key, value</span>) </span>&#123; </span><br><span class=\"line\"> results[key] = value; </span><br><span class=\"line\"> count++; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (count === <span class=\"number\">3</span>) &#123; </span><br><span class=\"line\"> <span class=\"comment\">// </span></span><br><span class=\"line\"> render(results); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">fs.readFile(template_path, <span class=\"string\">&quot;utf8&quot;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, template</span>) </span>&#123; </span><br><span class=\"line\"> done(<span class=\"string\">&quot;template&quot;</span>, template); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">db.query(sql, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, data</span>) </span>&#123; </span><br><span class=\"line\"> done(<span class=\"string\">&quot;data&quot;</span>, data); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">l10n.get(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, resources</span>) </span>&#123; </span><br><span class=\"line\"> done(<span class=\"string\">&quot;resources&quot;</span>, resources); </span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></li>\n<li>EventProxy<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Trigger an event, firing all bound callbacks. Callbacks are passed the </span></span><br><span class=\"line\"><span class=\"comment\">// same arguments as `trigger` is, apart from the event name. </span></span><br><span class=\"line\"><span class=\"comment\">// Listening for `&quot;all&quot;` passes the true event name as the first argument </span></span><br><span class=\"line\"><span class=\"attr\">trigger</span> : <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">eventName</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> list, calls, ev, callback, args; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> both = <span class=\"number\">2</span>; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (!(calls = <span class=\"built_in\">this</span>._callbacks)) <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\"> <span class=\"keyword\">while</span> (both--) &#123; </span><br><span class=\"line\"> ev = both ? eventName : <span class=\"string\">&#x27;all&#x27;</span>; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (list = calls[ev]) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>, l = list.length; i &lt; l; i++) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (!(callback = list[i])) &#123; </span><br><span class=\"line\"> list.splice(i, <span class=\"number\">1</span>); i--; l--; </span><br><span class=\"line\"> &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\"> args = both ? <span class=\"built_in\">Array</span>.prototype.slice.call(<span class=\"built_in\">arguments</span>, <span class=\"number\">1</span>) : <span class=\"built_in\">arguments</span>; </span><br><span class=\"line\"> callback[<span class=\"number\">0</span>].apply(callback[<span class=\"number\">1</span>] || <span class=\"built_in\">this</span>, args); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>; </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n<li>EventProxy</li>\n</ul>\n</li>\n<li>Promise/Deferred<ul>\n<li>Promises/A <ul>\n<li>Promise/DeferredPromiseDeferredPromises/APromises/A<ul>\n<li>Promise3</li>\n<li>Promise</li>\n<li>Promise</li>\n</ul>\n</li>\n<li>APIPromises/APromisethen()then()<ul>\n<li></li>\n<li>progress</li>\n<li>then()function</li>\n<li>then()Promise</li>\n<li><img src=\"/nodejs/images/defer-promise.png\" alt=\"deferpromise\"></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Promise<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Deferred.prototype.all = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">promises</span>) </span>&#123; </span><br><span class=\"line\"><span class=\"keyword\">var</span> count = promises.length; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> that = <span class=\"built_in\">this</span>; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> results = []; </span><br><span class=\"line\"> promises.forEach(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">promise, i</span>) </span>&#123; </span><br><span class=\"line\"> promise.then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">data</span>) </span>&#123; </span><br><span class=\"line\"> count--; </span><br><span class=\"line\"> results[i] = data; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (count === <span class=\"number\">0</span>) &#123; </span><br><span class=\"line\"> that.resolve(results); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125;, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err</span>) </span>&#123; </span><br><span class=\"line\"> that.reject(err); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.promise; </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n<pre><code>- Promise\n</code></pre>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">promise() </span><br><span class=\"line\"> .then(obj.api1) </span><br><span class=\"line\"> .then(obj.api2) </span><br><span class=\"line\"> .then(obj.api3) </span><br><span class=\"line\"> .then(obj.api4) </span><br><span class=\"line\"> .then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">value4</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// Do something with value4 </span></span><br><span class=\"line\"> &#125;, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">error</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// Handle any error from step1 through step4 </span></span><br><span class=\"line\"> &#125;) </span><br><span class=\"line\"> .done(); </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> Deferred = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">this</span>.promise = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">Deferred.prototype.resolve = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">obj</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> promise = <span class=\"built_in\">this</span>.promise; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> handler; </span><br><span class=\"line\"> <span class=\"keyword\">while</span> ((handler = promise.queue.shift())) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (handler &amp;&amp; handler.fulfilled) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> ret = handler.fulfilled(obj); </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (ret &amp;&amp; ret.isPromise) &#123; </span><br><span class=\"line\"> ret.queue = promise.queue; </span><br><span class=\"line\"> <span class=\"built_in\">this</span>.promise = ret; </span><br><span class=\"line\"> <span class=\"keyword\">return</span>; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">Deferred.prototype.reject = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> promise = <span class=\"built_in\">this</span>.promise; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> handler; </span><br><span class=\"line\"> <span class=\"keyword\">while</span> ((handler = promise.queue.shift())) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (handler &amp;&amp; handler.error) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> ret = handler.error(err); </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (ret &amp;&amp; ret.isPromise) &#123; </span><br><span class=\"line\"> ret.queue = promise.queue; </span><br><span class=\"line\"> <span class=\"built_in\">this</span>.promise = ret;</span><br><span class=\"line\"> <span class=\"keyword\">return</span>; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">Deferred.prototype.callback = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> that = <span class=\"built_in\">this</span>; </span><br><span class=\"line\"> <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, file</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (err) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">return</span> that.reject(err); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> that.resolve(file); </span><br><span class=\"line\"> &#125;; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"><span class=\"keyword\">var</span> <span class=\"built_in\">Promise</span> = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// </span></span><br><span class=\"line\"> <span class=\"built_in\">this</span>.queue = []; </span><br><span class=\"line\"> <span class=\"built_in\">this</span>.isPromise = <span class=\"literal\">true</span>; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"><span class=\"built_in\">Promise</span>.prototype.then = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">fulfilledHandler, errorHandler, progressHandler</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> handler = &#123;&#125;; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> fulfilledHandler === <span class=\"string\">&#x27;function&#x27;</span>) &#123; </span><br><span class=\"line\"> handler.fulfilled = fulfilledHandler; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> errorHandler === <span class=\"string\">&#x27;function&#x27;</span>) &#123; </span><br><span class=\"line\"> handler.error = errorHandler; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> <span class=\"built_in\">this</span>.queue.push(handler); </span><br><span class=\"line\"> <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>; </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<pre><code>- API Promise\n</code></pre>\n</li>\n</ul>\n</li>\n<li><ul>\n<li>Next<ul>\n<li>nextConnect</li>\n<li><img src=\"/nodejs/images/tail-trigger.png\" alt=\"\"></li>\n<li>Promise</li>\n</ul>\n</li>\n<li>async<ul>\n<li><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span>.series([ </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file1.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, callback); </span><br><span class=\"line\"> &#125;, </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file2.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, callback); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">], <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, results</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// results =&gt; [file1.txt, file2.txt] </span></span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br><span class=\"line\">fs.readFile(<span class=\"string\">&#x27;file1.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, content</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (err) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">return</span> callback(err); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file2.txt &#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, data</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (err) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">return</span> callback(err); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> callback(<span class=\"literal\">null</span>, [content, data]); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n<li><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span>.parallel([ </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file1.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, callback); </span><br><span class=\"line\"> &#125;, </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file2.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, callback); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">], <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, results</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// results =&gt; [file1.txt, file2.txt] </span></span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure></li>\n<li><ul>\n<li>series()series()asyncwaterfall()<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span>.waterfall([ </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file1.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, content</span>) </span>&#123; </span><br><span class=\"line\"> callback(err, content); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125;, </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">arg1, callback</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// arg1 =&gt; file2.txt </span></span><br><span class=\"line\"> fs.readFile(arg1, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, content</span>) </span>&#123; </span><br><span class=\"line\"> callback(err, content); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125;, </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">arg1, callback</span>)</span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// arg1 =&gt; file3.txt </span></span><br><span class=\"line\"> fs.readFile(arg1, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, content</span>) </span>&#123; </span><br><span class=\"line\"> callback(err, content); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">], <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, result</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// result =&gt; file4.txt </span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li><ul>\n<li>asyncauto()</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Step<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Step( </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">readFile1</span>(<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file1.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"built_in\">this</span>); </span><br><span class=\"line\"> &#125;, </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">readFile2</span>(<span class=\"params\">err, content</span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file2.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"built_in\">this</span>); </span><br><span class=\"line\"> &#125;, </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">done</span>(<span class=\"params\">err, content</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(content); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n<ul>\n<li>StepthisStepnext()</li>\n<li><ul>\n<li>thisparallel()Step</li>\n<li>parallel()Step</li>\n</ul>\n</li>\n<li>: group()</li>\n</ul>\n</li>\n<li>wind<ul>\n<li></li>\n<li>$await()</li>\n<li><ul>\n<li>Wind.Async.Binding.fromCallback</li>\n<li>Wind.Async.Binding.fromStandard</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><p>bagpipe</p>\n<ul>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> Bagpipe = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;bagpipe&#x27;</span>); </span><br><span class=\"line\"><span class=\"comment\">// 10</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> bagpipe = <span class=\"keyword\">new</span> Bagpipe(<span class=\"number\">10</span>); </span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">100</span>; i++) &#123; </span><br><span class=\"line\"> bagpipe.push(<span class=\"keyword\">async</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// </span></span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125; </span><br><span class=\"line\">bagpipe.on(<span class=\"string\">&#x27;full&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">length</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.warn(<span class=\"string\">&#x27;:&#x27;</span> + length); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\n<ul>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li><p>asyncasyncparallelLimit()</p>\n<ul>\n<li>parallelLimit()parallel()</li>\n<li>parallelLimit()asyncqueue()</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"-I-O\"><a href=\"#-I-O\" class=\"headerlink\" title=\" I/O\"></a> I/O</h4><ul>\n<li><ul>\n<li><img src=\"/nodejs/images/async-experience.png\" alt=\"i/o\"></li>\n</ul>\n</li>\n<li><ul>\n<li><img src=\"/nodejs/images/how-to-call-async.png\" alt=\"i/o\"></li>\n</ul>\n</li>\n</ul>\n<p><em>I/OI/O</em><br>I/OI/OI/O<br><img src=\"/nodejs/images/jam.png\" alt=\"i/o\"><br>I/O</p>\n<p>I/OCPUI/OCPUI/OI/OI/O<br><img src=\"/nodejs/images/no-jam.png\" alt=\"i/o\"></p>\n<p><em>I/OI/OI/OI/OI/OI/O</em></p>\n<p>I/OCPUCPUCPU<br></p>\n<ul>\n<li>readI/OCPU<br><img src=\"/nodejs/images/read-loop.png\" alt=\"read\"></li>\n<li>selectread<br><img src=\"/nodejs/images/select-loop.png\" alt=\"select\"></li>\n</ul>\n<p><em>select10241024</em></p>\n<ul>\n<li>pollselect<br><img src=\"/nodejs/images/poll-loop.png\" alt=\"poll\"></li>\n<li>epollLinuxI/OI/OCPU<br><img src=\"/nodejs/images/epoll-loop.png\" alt=\"epoll\"></li>\n<li>kqueueepollFreeBSD</li>\n</ul>\n<h6 id=\"Node--I-O\"><a href=\"#Node--I-O\" class=\"headerlink\" title=\"Node  I/O\"></a>Node  I/O</h6><ol>\n<li><br>Nodewhile(true)TickTick</li>\n<li><br></li>\n<li><br>I/OI/O<br><img src=\"/nodejs/images/async-progress.png\" alt=\"i/o\"></li>\n</ol>\n<p><em>I/ONodeI/O</em><br>WindowsIOCPI/OI/O<br>I/O<br>Linuxepoll<br>FreeBSDkqueue<br>SolarisEvent ports</p>\n<p>WindowsIOCP*nixlibuv</p>\n<h6 id=\"-I-O--API\"><a href=\"#-I-O--API\" class=\"headerlink\" title=\" I/O  API\"></a> I/O  API</h6><ul>\n<li><br>setTimeout()setInterval()Tick</li>\n</ul>\n<p>setTimeout()1095CPU4</p>\n<p><img src=\"/nodejs/images/settimeout.png\" alt=\"\"></p>\n<ul>\n<li>process.nextTick()<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">process.nextTick = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">callback</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// on the way out, don&#x27;t bother. </span></span><br><span class=\"line\"> <span class=\"comment\">// it won&#x27;t get fired anyway </span></span><br><span class=\"line\"> <span class=\"keyword\">if</span> (process._exiting) <span class=\"keyword\">return</span>; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (tickDepth &gt;= process.maxTickDepth) </span><br><span class=\"line\"> maxTickWarn(); </span><br><span class=\"line\"> <span class=\"keyword\">var</span> tock = &#123; <span class=\"attr\">callback</span>: callback &#125;; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (process.domain) tock.domain = process.domain; </span><br><span class=\"line\"> nextTickQueue.push(tock); </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (nextTickQueue.length) &#123; </span><br><span class=\"line\"> process._needTickCallback(); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\nprocess.nextTick()TickO(lg(n))nextTick()O(1)process.nextTick()</li>\n<li>setImmediate()<br>process.nextTick()setImmediate()process.nextTick()idlesetImmediate()checkidleI/OI/Ocheck</li>\n</ul>\n<p>process.nextTick()setImmediate()process.nextTick()setImmediate()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// nextTick()</span></span><br><span class=\"line\">process.nextTick(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;nextTick1&#x27;</span>); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">process.nextTick(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;nextTick2&#x27;</span>); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"><span class=\"comment\">// setImmediate()</span></span><br><span class=\"line\">setImmediate(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;setImmediate1&#x27;</span>); </span><br><span class=\"line\"> <span class=\"comment\">// </span></span><br><span class=\"line\"> process.nextTick(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;&#x27;</span>); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">setImmediate(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;setImmediate2&#x27;</span>); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;&#x27;</span>); </span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// nextTick1 </span></span><br><span class=\"line\"><span class=\"comment\">// nextTick2 </span></span><br><span class=\"line\"><span class=\"comment\">// setImmediate1 </span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// setImmediate2 </span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>:</li>\n<li>: </li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><br>I/OCPUI/O<br></li>\n<li><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li>/<ul>\n<li>Nodeevents<a href=\"http://nodejs.org/docs/latest/api/events.html%EF%BC%89%E6%98%AF%E5%8F%91%E5%B8%83/%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0%EF%BC%8CNode%E4%B8%AD%E9%83%A8%E5%88%86%E6%A8%A1%E5%9D%97%E9%83%BD%E7%BB%A7%E6%89%BF%E8%87%AA%E5%AE%83%EF%BC%8C%E8%BF%99%E4%B8%AA%E6%A8%A1%E5%9D%97%E6%AF%94%E5%89%8D%E7%AB%AF%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84%E5%A4%A7%E9%87%8FDOM%E4%BA%8B%E4%BB%B6%E7%AE%80%E5%8D%95%EF%BC%8C%E4%B8%8D%E5%AD%98%E5%9C%A8%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1%EF%BC%8C%E4%B9%9F%E4%B8%8D%E5%AD%98%E5%9C%A8preventDefault()%E3%80%81stopPropagation()%E5%92%8CstopImmediatePropagation()%E7%AD%89%E6%8E%A7%E5%88%B6%E4%BA%8B%E4%BB%B6%E4%BC%A0%E9%80%92%E7%9A%84%E6%96%B9%E6%B3%95%E3%80%82%E5%AE%83%E5%85%B7%E6%9C%89\">http://nodejs.org/docs/latest/api/events.html/NodeDOMpreventDefault()stopPropagation()stopImmediatePropagation()</a> addListener/on()  once()  removeListener() removeAllListeners()emit()</li>\n<li>10Nodeemitter.setMaxListeners(0)CPU EventEmittererrorerrorEventEmittererrorEventEmittererror</li>\n<li>events</li>\n<li></li>\n<li><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> count = <span class=\"number\">0</span>; </span><br><span class=\"line\"><span class=\"keyword\">var</span> results = &#123;&#125;; </span><br><span class=\"line\"><span class=\"keyword\">var</span> done = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key, value</span>) </span>&#123; </span><br><span class=\"line\"> results[key] = value; </span><br><span class=\"line\"> count++; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (count === <span class=\"number\">3</span>) &#123; </span><br><span class=\"line\"> <span class=\"comment\">// </span></span><br><span class=\"line\"> render(results); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">fs.readFile(template_path, <span class=\"string\">&quot;utf8&quot;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, template</span>) </span>&#123; </span><br><span class=\"line\"> done(<span class=\"string\">&quot;template&quot;</span>, template); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">db.query(sql, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, data</span>) </span>&#123; </span><br><span class=\"line\"> done(<span class=\"string\">&quot;data&quot;</span>, data); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">l10n.get(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, resources</span>) </span>&#123; </span><br><span class=\"line\"> done(<span class=\"string\">&quot;resources&quot;</span>, resources); </span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></li>\n<li>EventProxy<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Trigger an event, firing all bound callbacks. Callbacks are passed the </span></span><br><span class=\"line\"><span class=\"comment\">// same arguments as `trigger` is, apart from the event name. </span></span><br><span class=\"line\"><span class=\"comment\">// Listening for `&quot;all&quot;` passes the true event name as the first argument </span></span><br><span class=\"line\"><span class=\"attr\">trigger</span> : <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">eventName</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> list, calls, ev, callback, args; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> both = <span class=\"number\">2</span>; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (!(calls = <span class=\"built_in\">this</span>._callbacks)) <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\"> <span class=\"keyword\">while</span> (both--) &#123; </span><br><span class=\"line\"> ev = both ? eventName : <span class=\"string\">&#x27;all&#x27;</span>; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (list = calls[ev]) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>, l = list.length; i &lt; l; i++) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (!(callback = list[i])) &#123; </span><br><span class=\"line\"> list.splice(i, <span class=\"number\">1</span>); i--; l--; </span><br><span class=\"line\"> &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\"> args = both ? <span class=\"built_in\">Array</span>.prototype.slice.call(<span class=\"built_in\">arguments</span>, <span class=\"number\">1</span>) : <span class=\"built_in\">arguments</span>; </span><br><span class=\"line\"> callback[<span class=\"number\">0</span>].apply(callback[<span class=\"number\">1</span>] || <span class=\"built_in\">this</span>, args); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>; </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n<li>EventProxy</li>\n</ul>\n</li>\n<li>Promise/Deferred<ul>\n<li>Promises/A <ul>\n<li>Promise/DeferredPromiseDeferredPromises/APromises/A<ul>\n<li>Promise3</li>\n<li>Promise</li>\n<li>Promise</li>\n</ul>\n</li>\n<li>APIPromises/APromisethen()then()<ul>\n<li></li>\n<li>progress</li>\n<li>then()function</li>\n<li>then()Promise</li>\n<li><img src=\"/nodejs/images/defer-promise.png\" alt=\"deferpromise\"></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Promise<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Deferred.prototype.all = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">promises</span>) </span>&#123; </span><br><span class=\"line\"><span class=\"keyword\">var</span> count = promises.length; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> that = <span class=\"built_in\">this</span>; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> results = []; </span><br><span class=\"line\"> promises.forEach(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">promise, i</span>) </span>&#123; </span><br><span class=\"line\"> promise.then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">data</span>) </span>&#123; </span><br><span class=\"line\"> count--; </span><br><span class=\"line\"> results[i] = data; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (count === <span class=\"number\">0</span>) &#123; </span><br><span class=\"line\"> that.resolve(results); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125;, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err</span>) </span>&#123; </span><br><span class=\"line\"> that.reject(err); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.promise; </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n<pre><code>- Promise\n</code></pre>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">promise() </span><br><span class=\"line\"> .then(obj.api1) </span><br><span class=\"line\"> .then(obj.api2) </span><br><span class=\"line\"> .then(obj.api3) </span><br><span class=\"line\"> .then(obj.api4) </span><br><span class=\"line\"> .then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">value4</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// Do something with value4 </span></span><br><span class=\"line\"> &#125;, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">error</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// Handle any error from step1 through step4 </span></span><br><span class=\"line\"> &#125;) </span><br><span class=\"line\"> .done(); </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> Deferred = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">this</span>.promise = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">Deferred.prototype.resolve = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">obj</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> promise = <span class=\"built_in\">this</span>.promise; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> handler; </span><br><span class=\"line\"> <span class=\"keyword\">while</span> ((handler = promise.queue.shift())) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (handler &amp;&amp; handler.fulfilled) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> ret = handler.fulfilled(obj); </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (ret &amp;&amp; ret.isPromise) &#123; </span><br><span class=\"line\"> ret.queue = promise.queue; </span><br><span class=\"line\"> <span class=\"built_in\">this</span>.promise = ret; </span><br><span class=\"line\"> <span class=\"keyword\">return</span>; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">Deferred.prototype.reject = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> promise = <span class=\"built_in\">this</span>.promise; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> handler; </span><br><span class=\"line\"> <span class=\"keyword\">while</span> ((handler = promise.queue.shift())) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (handler &amp;&amp; handler.error) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> ret = handler.error(err); </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (ret &amp;&amp; ret.isPromise) &#123; </span><br><span class=\"line\"> ret.queue = promise.queue; </span><br><span class=\"line\"> <span class=\"built_in\">this</span>.promise = ret;</span><br><span class=\"line\"> <span class=\"keyword\">return</span>; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">Deferred.prototype.callback = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> that = <span class=\"built_in\">this</span>; </span><br><span class=\"line\"> <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, file</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (err) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">return</span> that.reject(err); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> that.resolve(file); </span><br><span class=\"line\"> &#125;; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"><span class=\"keyword\">var</span> <span class=\"built_in\">Promise</span> = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// </span></span><br><span class=\"line\"> <span class=\"built_in\">this</span>.queue = []; </span><br><span class=\"line\"> <span class=\"built_in\">this</span>.isPromise = <span class=\"literal\">true</span>; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"><span class=\"built_in\">Promise</span>.prototype.then = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">fulfilledHandler, errorHandler, progressHandler</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> handler = &#123;&#125;; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> fulfilledHandler === <span class=\"string\">&#x27;function&#x27;</span>) &#123; </span><br><span class=\"line\"> handler.fulfilled = fulfilledHandler; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> errorHandler === <span class=\"string\">&#x27;function&#x27;</span>) &#123; </span><br><span class=\"line\"> handler.error = errorHandler; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> <span class=\"built_in\">this</span>.queue.push(handler); </span><br><span class=\"line\"> <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>; </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<pre><code>- API Promise\n</code></pre>\n</li>\n</ul>\n</li>\n<li><ul>\n<li>Next<ul>\n<li>nextConnect</li>\n<li><img src=\"/nodejs/images/tail-trigger.png\" alt=\"\"></li>\n<li>Promise</li>\n</ul>\n</li>\n<li>async<ul>\n<li><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span>.series([ </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file1.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, callback); </span><br><span class=\"line\"> &#125;, </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file2.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, callback); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">], <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, results</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// results =&gt; [file1.txt, file2.txt] </span></span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br><span class=\"line\">fs.readFile(<span class=\"string\">&#x27;file1.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, content</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (err) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">return</span> callback(err); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file2.txt &#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, data</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (err) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">return</span> callback(err); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> callback(<span class=\"literal\">null</span>, [content, data]); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n<li><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span>.parallel([ </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file1.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, callback); </span><br><span class=\"line\"> &#125;, </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file2.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, callback); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">], <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, results</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// results =&gt; [file1.txt, file2.txt] </span></span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure></li>\n<li><ul>\n<li>series()series()asyncwaterfall()<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span>.waterfall([ </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file1.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, content</span>) </span>&#123; </span><br><span class=\"line\"> callback(err, content); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125;, </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">arg1, callback</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// arg1 =&gt; file2.txt </span></span><br><span class=\"line\"> fs.readFile(arg1, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, content</span>) </span>&#123; </span><br><span class=\"line\"> callback(err, content); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125;, </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">arg1, callback</span>)</span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// arg1 =&gt; file3.txt </span></span><br><span class=\"line\"> fs.readFile(arg1, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, content</span>) </span>&#123; </span><br><span class=\"line\"> callback(err, content); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">], <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, result</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// result =&gt; file4.txt </span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li><ul>\n<li>asyncauto()</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Step<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Step( </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">readFile1</span>(<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file1.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"built_in\">this</span>); </span><br><span class=\"line\"> &#125;, </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">readFile2</span>(<span class=\"params\">err, content</span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file2.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"built_in\">this</span>); </span><br><span class=\"line\"> &#125;, </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">done</span>(<span class=\"params\">err, content</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(content); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n<ul>\n<li>StepthisStepnext()</li>\n<li><ul>\n<li>thisparallel()Step</li>\n<li>parallel()Step</li>\n</ul>\n</li>\n<li>: group()</li>\n</ul>\n</li>\n<li>wind<ul>\n<li></li>\n<li>$await()</li>\n<li><ul>\n<li>Wind.Async.Binding.fromCallback</li>\n<li>Wind.Async.Binding.fromStandard</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><p>bagpipe</p>\n<ul>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> Bagpipe = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;bagpipe&#x27;</span>); </span><br><span class=\"line\"><span class=\"comment\">// 10</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> bagpipe = <span class=\"keyword\">new</span> Bagpipe(<span class=\"number\">10</span>); </span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">100</span>; i++) &#123; </span><br><span class=\"line\"> bagpipe.push(<span class=\"keyword\">async</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// </span></span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125; </span><br><span class=\"line\">bagpipe.on(<span class=\"string\">&#x27;full&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">length</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.warn(<span class=\"string\">&#x27;:&#x27;</span> + length); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\n<ul>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li><p>asyncasyncparallelLimit()</p>\n<ul>\n<li>parallelLimit()parallel()</li>\n<li>parallelLimit()asyncqueue()</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"},{"title":"nodejs(4)","date":"2022-12-25T11:56:24.000Z","tags":["node","docs"],"_content":"\n#### Web\n\n###### cookie\nCookieSet-Cookie\nSet-Cookie: name=value; Path=/; Expires=Sun, 23-Apr-23 09:01:35 GMT; Domain=.domain.com; \nname=valueCookie:\n- pathCookieCookie\n- ExpiresMax-AgeCookieCookieCookieExpiresUTCCookieMax-AgeCookieMax-AgeCookie\n- HttpOnlydocument.cookieCookieHttpOnlydocument.cookieHTTPCookie\n- SecureSecuretrueHTTPHTTPSCookieHTTPSHTTP\n\nYSlow:\n- Cookie\n- \n- DNS\n\n###### Session\nSession\n\n:\n- Cookie\nSessionSessionConnectconnect_uidTomcatjsessionidCookie\n```\nvar sessions = {}; \nvar key = 'session_id'; \nvar EXPIRES = 20 * 60 * 1000; \nvar generate = function () { \n var session = {}; \n session.id = (new Date()).getTime() + Math.random(); \n session.cookie = { \n expire: (new Date()).getTime() + EXPIRES \n }; \n sessions[session.id] = session; \n return session; \n}; \n```\n- \n\n:\n- Node\n- \n- Node\n\n###### \n\n- Expires Cache-Control \n-  ETags\n- Ajax \n\n![](./images/cache.png)\n\n:\n- \n- \n\nETagEntity Tag\nETagIf-None-Match/ETag\n```\nvar handle = function (req, res) { \n fs.readFile(filename, function(err, file) { \n var hash = getHash(file); \n var noneMatch = req.headers['if-none-match']; \n if (hash === noneMatch) { \n res.writeHead(304, \"Not Modified\"); \n res.end(); \n } else { \n res.setHeader(\"ETag\", hash); \n res.writeHead(200, \"Ok\"); \n res.end(file); \n } \n }); \n}; \n```\n\nHTTP1.0Expires:\n```\nvar handle = function (req, res) { \n fs.readFile(filename, function(err, file) { \n var expires = new Date(); \n expires.setTime(expires.getTime() + 10 * 365 * 24 * 60 * 60 * 1000); \n res.setHeader(\"Expires\", expires.toUTCString()); \n res.writeHead(200, \"Ok\"); \n res.end(file); \n }); \n}; \n```\nExpiresGMT\n\nExpiresCache-Control\n```\nvar handle = function (req, res) { \n fs.readFile(filename, function(err, file) { \n res.setHeader(\"Cache-Control\", \"max-age=\" + 10 * 365 * 24 * 60 * 60 * 1000); \n res.writeHead(200, \"Ok\"); \n res.end(file); \n }); \n};\n```\nCache-ControlCache-Controlpublicprivateno-cacheno-store\n\nHTTP1.0max-ageExpiresCache-Controlmax-ageExpires\n\n:\n- Webhttp://url.com/?v=20130501\n- hashhttp://url.com/?hash=afadfadwe\n\n###### Basic\nHTTPSBasic\n\n###### \nPOST\nTransfer-EncodingContent-Length\n```\nvar hasBody = function(req) { \n return 'transfer-encoding' in req.headers || 'content-length' in req.headers; \n}; \n```\nHTTP_Parserdata\n```\nfunction (req, res) { \n if (hasBody(req)) { \n var buffers = []; \n req.on('data', function (chunk) { \n buffers.push(chunk); \n }); \n req.on('end', function () { \n req.rawBody = Buffer.concat(buffers).toString(); \n handle(req, res); \n }); \n } else { \n handle(req, res); \n } \n} \n```\nBufferBufferreq.rawBody\n\n\n```\nvar handle = function (req, res) { \n if (req.headers['content-type'] === 'application/x-www-form-urlencoded') { \n req.body = querystring.parse(req.rawBody); \n } \n todo(req, res); \n}; \n\n\nvar mime = function (req) { \n var str = req.headers['content-type'] || ''; \n return str.split(';')[0]; \n};\n\nvar handle = function (req, res) { \n if (mime(req) === 'application/json') { \n try { \n req.body = JSON.parse(req.rawBody); \n } catch (e) { \n // Bad request \n res.writeHead(400); \n res.end('Invalid JSON'); \n return; \n } \n } \n todo(req, res); \n}; \n```\n\nXMLXMLJSONxml2js\n```\nvar xml2js = require('xml2js'); \nvar handle = function (req, res) { \n if (mime(req) === 'application/xml') { \n xml2js.parseString(req.rawBody, function (err, xml) { \n if (err) { \n // Bad request \n res.writeHead(400); \n res.end('Invalid XML'); \n return; \n } \n req.body = xml; \n todo(req, res); \n }); \n } \n};\n```\n\n**\n\n```\nfunction (req, res) { \n if (hasBody(req)) { \n var done = function () { \n handle(req, res); \n }; \n if (mime(req) === 'application/json') { \n parseJSON(req, done); \n } else if (mime(req) === 'application/xml') { \n parseXML(req, done); \n } else if (mime(req) === 'multipart/form-data') { \n parseMultipart(req, done); \n } \n } else { \n handle(req, res); \n } \n} \n```\n\nformidable\n```\nvar formidable = require('formidable'); \nfunction (req, res) { \n if (hasBody(req)) { \n if (mime(req) === 'multipart/form-data') { \n var form = new formidable.IncomingForm(); \n form.parse(req, function(err, fields, files) { \n req.body = fields; \n req.files = files; \n handle(req, res); \n }); \n } \n } else { \n handle(req, res); \n } \n} \n```\n\n###### \n\n\n- 400\n- Node\n\n```\nvar bytes = 1024; \nfunction (req, res) { \n var received = 0, \n var len = req.headers['content-length'] ? parseInt(req.headers['content-length'], 10) : null; \n // \n if (len && len > bytes) { \n res.writeHead(413); \n res.end(); \n return; \n }\n  // limit \n req.on('data', function (chunk) { \n received += chunk.length; \n if (received > bytes) { \n // end() \n req.destroy(); \n } \n }); \n handle(req, res); \n}; \n```\n\nCSRF \nCSRFCross-Site Request Forgery\n\nCSRF\n```\nvar generateRandom = function(len) { \n return crypto.randomBytes(Math.ceil(len * 3 / 4)) \n .toString('base64') \n .slice(0, len); \n};\n```\n\n###### \n\n- \n- \n\nMVC\nMVC\n- Controller\n- Model\n- View\n\n![MVC](./images/mvc.png)\n\n- URL\n- \n- \n\nURL\n\n\nURL\n\nURL\n- \n- \n\nPHPMVCCodeIgniterNodeURL\n\n*RESTful*\nRESTRepresentational State TransferRESTRESTfulURL\n\nRESTfulMVCMVCRESTfulHTTPURL\n\n###### \n![](./images/middle.png)\n\n**\n```\nvar handle = function (req, res, stack) { \n var next = function (err) { \n if (err) { \n return handle500(err, req, res, stack); \n } \n // stack\n var middleware = stack.shift(); \n if (middleware) { \n // next()\n try { \n middleware(req, res, next); \n } catch (ex) { \n next(err); \n } \n } \n }; \n // \n next(); \n}; \n```\n\n**\n\n- jsperf.com\n- \n- HTTPGET\n\n\n\n###### \n**\n- MIME: Content-TypeMIME\nMIMEMultipurpose Internet Mail ExtensionsMIMEJSONapplication/jsonXMLapplication/xmlPDFapplication/pdf\nMIMEmime\n```\nvar mime = require('mime'); \nmime.lookup('/path/to/file.txt'); // => 'text/plain' \nmime.lookup('file.txt'); // => 'text/plain' \nmime.lookup('.TXT'); // => 'text/plain' \nmime.lookup('htm'); // => 'text/html' \n```\nMIMEContent-Type\nContent-Type: text/javascript; charset=utf-8 \n- \nContent-DispositioninlineattachmentContent-Disposition\n- JSON\n- \n\n**\n\n```\nvar cache = {}; \nvar VIEW_FOLDER = '/path/to/wwwroot/views'; \nres.render = function (viewname, data) { \n if (!cache[viewname]) { \n var text; \n try { \n text = fs.readFileSync(path.join(VIEW_FOLDER, viewname), 'utf8'); \n } catch (e) { \n  res.writeHead(500, {'Content-Type': 'text/html'}); \n res.end(''); \n return; \n } \n cache[viewname] = complie(text); \n } \n var complied = cache[viewname]; \n res.writeHead(200, {'Content-Type': 'text/html'}); \n var html = complied(data); \n res.end(html); \n};\n```\n\n**Bigpipe**\nBigpipepagelet\n\nBigpipe\n- \n- \n- \n![bigpipe](./images/bigpipe.png)\n```\nvar cache = {}; \nvar layout = 'layout.html'; \napp.get('/profile', function (req, res) { \n if (!cache[layout]) { \n cache[layout] = fs.readFileSync(path.join(VIEW_FOLDER, layout), 'utf8'); \n } \n res.writeHead(200, {'Content-Type': 'text/html'}); \n res.write(render(complie(cache[layout]))); \n // TODO \n}); \n\n\napp.get('/profile', function (req, res) { \n if (!cache[layout]) { \n cache[layout] = fs.readFileSync(path.join(VIEW_FOLDER, layout), 'utf8'); \n } \n res.writeHead(200, {'Content-Type': 'text/html'}); \n res.write(render(complie(cache[layout]))); \n ep.all('users', 'articles', function () { \n res.end(); \n }); \n ep.fail(function (err) { \n res.end(); \n }); \n db.getData('sql1', function (err, data) { \n data = err ? {} : data; \n res.write('<script>bigpipe.set(\"articles\", ' + JSON.stringify(data) + ');</script>'; \n }); \n db.getData('sql2', function (err, data) { \n data = err ? {} : data; \n res.write('<script>bigpipe.set(\"copyright\", ' + JSON.stringify(data) + ');</script>'; \n }); \n});\n\n\nvar Bigpipe = function () { \n this.callbacks = {}; \n}; \nBigpipe.prototype.ready = function (key, callback) { \n if (!this.callbacks[key]) { \n this.callbacks[key] = []; \n } \n this.callbacks[key].push(callback); \n}; \nBigpipe.prototype.set = function (key, data) { \n var callbacks = this.callbacks[key] || []; \n for (var i = 0; i < callbacks.length; i++) { \n callbacks[i].call(this, data); \n } \n};\n```\nBigpipe\n\n#### \n\n###### \n**\n\nNQPS1/N\n\n**\n100100\nprefork\nMQPSM/N\n\n**\nCPUCPUCPU\n1/LQPSM * L/N\n\n**\nCPU\n\n###### \nCPUCPUNodechild_processchild_process.fork()\n```\n// worker.js\nvar http = require('http'); \nhttp.createServer(function (req, res) { \n res.writeHead(200, {'Content-Type': 'text/plain'}); \n res.end('Hello World\\n'); \n}).listen(Math.round((1 + Math.random()) * 1000), '127.0.0.1'); \n\nvar fork = require('child_process').fork; \nvar cpus = require('os').cpus(); \nfor (var i = 0; i < cpus.length; i++) { \n fork('./worker.js'); \n} \n```\n![](./images/master-slave.png)\nMaster-Worker\n\n*fork()V83010 MBNodefork()CPUfork()*\n\n**\nchild_processNodechild_process4\n- spawn()\n- exec()spawn()\n\n- execFile()\n- fork()spawn()NodeJavaScript\n\nspawn()exec()execFile()timeout\nexec()execFile()exec()execFile()\n\n```\nvar cp = require('child_process'); \ncp.spawn('node', ['worker.js']); \ncp.exec('node worker.js', function (err, stdout, stderr) { \n // some code \n}); \ncp.execFile('worker.js', function (err, stdout, stderr) { \n // some code \n}); \ncp.fork('./worker.js');\n```\n![fork](./images/fork.png)\n\n**\nfork()APIIPCIPCmessagesend()\n- \nIPCInter-Process CommunicationsocketDomain SocketNodeIPCpipe\n![pipe](./images/pipe.png)\nIPCNODE_CHANNEL_FDIPCIPC\n![pipe](./images/pipe-1.png)\n\n**\n\n\nchild.send(message, [sendHandle]) \nsocketsocketUDP\n```\nvar child = require('child_process').fork('child.js'); \n// Open up the server object and send the handle \nvar server = require('net').createServer(); \nserver.on('connection', function (socket) { \n socket.end('handled by parent\\n'); \n}); \nserver.listen(1337, function () { \n child.send('server', server); \n}); \n\nprocess.on('message', function (m, server) { \n if (m === 'server') { \n server.on('connection', function (socket) { \n socket.end('handled by child\\n'); \n }); \n } \n});\n```\n![pipe](./images/pipe-2.png)\n\n![pipe](./images/pipe-3.png)\n\n\nsend()\n- net.SocketTCP\n- net.ServerTCPTCP\n- net.NativeC++TCPIPC\n- dgram.SocketUDP\n- dgram.NativeC++UDP\nsend()IPChandlemessagemessage\n{ \n cmd: 'NODE_HANDLE', \n type: 'net.Server', \n msg: message \n} \n\nIPCJSON.parse()messagemessage.cmdNODE_internalMessagemessage.cmdNODE_HANDLEmessage.type\n![pipe](./images/pipe-4.png)\n\nNode\n\n\n\n\n###### \n\n**\nmessageNode\n- error\n- exitnullkill()\n- closeexit\n- disconnectdisconnect()IPC\n\nkill -l\n\n**\n```\n// master.js \nvar fork = require('child_process').fork; \nvar cpus = require('os').cpus(); \nvar server = require('net').createServer(); \nserver.listen(1337); \nvar workers = {}; \nvar createWorker = function () { \n var worker = fork(__dirname + '/worker.js'); \n // \n worker.on('exit', function () { \n console.log('Worker ' + worker.pid + ' exited.'); \n delete workers[worker.pid]; \n createWorker(); \n }); \n // \n worker.send('server', server); \n workers[worker.pid] = worker; \n console.log('Create worker. pid: ' + worker.pid); \n}; \nfor (var i = 0; i < cpus.length; i++) { \n createWorker(); \n} \n// \nprocess.on('exit', function () { \n for (var pid in workers) { \n workers[pid].kill(); \n } \n});\n\n// worker.js \nvar http = require('http'); \nvar server = http.createServer(function (req, res) { \n res.writeHead(200, {'Content-Type': 'text/plain'}); \n res.end('handled by child, pid is ' + process.pid + '\\n'); \n}); \nvar worker; \nprocess.on('message', function (m, tcp) { \n if (m === 'server') { \n worker = tcp; \n worker.on('connection', function (socket) { \n  server.emit('connection', socket); \n }); \n } \n}); \nprocess.on('uncaughtException', function () { \n // \n worker.close(function () { \n // \n process.exit(1); \n }); \n}); \n```\n**\n```\n// \nvar limit = 10; \n// \nvar during = 60000; \nvar restart = []; \nvar isTooFrequently = function () { \n // \n var time = Date.now(); \n var length = restart.push(time); \n if (length > limit) { \n // 10\n restart = restart.slice(limit * -1); \n } \n // 10\n return restart.length >= limit && restart[restart.length - 1] - restart[0] < during; \n}; \nvar workers = {}; \nvar createWorker = function () { \n // \n if (isTooFrequently()) { \n // giveup\n process.emit('giveup', length, during); \n return; \n } \n var worker = fork(__dirname + '/worker.js'); \n worker.on('exit', function () { \n console.log('Worker ' + worker.pid + ' exited.'); \n delete workers[worker.pid]; \n }); \n // \n worker.on('message', function (message) { \n if (message.act === 'suicide') { \n createWorker(); \n } \n }); \n // \n worker.send('server', server); \n workers[worker.pid] = worker; \n console.log('Create worker. pid: ' + worker.pid); \n}; \n```\n\n**\nCPU,\n\nNode\n\nNodeCPUI/OCPUI/OCPU\n\n  Node v0.11Round-RobinNi = (i + 1) mod n\n\n**\n- \n\n\n\n![](./images/loop.png)\n- \n\n![](./images/loop-1.png)\nTCPUDP\n\n###### Cluster \n```\n// cluster.js \nvar cluster = require('cluster'); \ncluster.setupMaster({ \n exec: \"worker.js\" \n}); \nvar cpus = require('os').cpus(); \nfor (var i = 0; i < cpus.length; i++) { \n cluster.fork(); \n} \n\nvar cluster = require('cluster'); \nvar http = require('http'); \nvar numCPUs = require('os').cpus().length; \nif (cluster.isMaster) { \n // Fork workers \n for (var i = 0; i < numCPUs; i++) { \n cluster.fork(); \n } \n cluster.on('exit', function(worker, code, signal) { \n console.log('worker ' + worker.process.pid + ' died'); \n }); \n} else { \n // Workers can share any TCP connection \n // In this case its a HTTP server \n http.createServer(function(req, res) { \n res.writeHead(200); \n res.end(\"hello world\\n\"); \n }).listen(8000); \n}\n```\n\nNODE_UNIQUE_ID\n```\ncluster.isWorker = ('NODE_UNIQUE_ID' in process.env); \ncluster.isMaster = (cluster.isWorker === false); \n```\ncluster.isMastercluster.isWorkercluster.setupMaster()API\n\ncluster.setupMaster()cluster.fork()\n\n*Cluster *\nclusterchild_processnet\n\n*Cluster *\n- fork\n- onlineonline\n- listeninglisten()Socketlistening\n- disconnectIPC\n- exit\n- setupcluster.setupMaster()","source":"nodejs/nodejs-note-4.md","raw":"---\ntitle: nodejs(4)\ndate: 2022-12-25 19:56:24\ntags: [node, docs]\n---\n\n#### Web\n\n###### cookie\nCookieSet-Cookie\nSet-Cookie: name=value; Path=/; Expires=Sun, 23-Apr-23 09:01:35 GMT; Domain=.domain.com; \nname=valueCookie:\n- pathCookieCookie\n- ExpiresMax-AgeCookieCookieCookieExpiresUTCCookieMax-AgeCookieMax-AgeCookie\n- HttpOnlydocument.cookieCookieHttpOnlydocument.cookieHTTPCookie\n- SecureSecuretrueHTTPHTTPSCookieHTTPSHTTP\n\nYSlow:\n- Cookie\n- \n- DNS\n\n###### Session\nSession\n\n:\n- Cookie\nSessionSessionConnectconnect_uidTomcatjsessionidCookie\n```\nvar sessions = {}; \nvar key = 'session_id'; \nvar EXPIRES = 20 * 60 * 1000; \nvar generate = function () { \n var session = {}; \n session.id = (new Date()).getTime() + Math.random(); \n session.cookie = { \n expire: (new Date()).getTime() + EXPIRES \n }; \n sessions[session.id] = session; \n return session; \n}; \n```\n- \n\n:\n- Node\n- \n- Node\n\n###### \n\n- Expires Cache-Control \n-  ETags\n- Ajax \n\n![](./images/cache.png)\n\n:\n- \n- \n\nETagEntity Tag\nETagIf-None-Match/ETag\n```\nvar handle = function (req, res) { \n fs.readFile(filename, function(err, file) { \n var hash = getHash(file); \n var noneMatch = req.headers['if-none-match']; \n if (hash === noneMatch) { \n res.writeHead(304, \"Not Modified\"); \n res.end(); \n } else { \n res.setHeader(\"ETag\", hash); \n res.writeHead(200, \"Ok\"); \n res.end(file); \n } \n }); \n}; \n```\n\nHTTP1.0Expires:\n```\nvar handle = function (req, res) { \n fs.readFile(filename, function(err, file) { \n var expires = new Date(); \n expires.setTime(expires.getTime() + 10 * 365 * 24 * 60 * 60 * 1000); \n res.setHeader(\"Expires\", expires.toUTCString()); \n res.writeHead(200, \"Ok\"); \n res.end(file); \n }); \n}; \n```\nExpiresGMT\n\nExpiresCache-Control\n```\nvar handle = function (req, res) { \n fs.readFile(filename, function(err, file) { \n res.setHeader(\"Cache-Control\", \"max-age=\" + 10 * 365 * 24 * 60 * 60 * 1000); \n res.writeHead(200, \"Ok\"); \n res.end(file); \n }); \n};\n```\nCache-ControlCache-Controlpublicprivateno-cacheno-store\n\nHTTP1.0max-ageExpiresCache-Controlmax-ageExpires\n\n:\n- Webhttp://url.com/?v=20130501\n- hashhttp://url.com/?hash=afadfadwe\n\n###### Basic\nHTTPSBasic\n\n###### \nPOST\nTransfer-EncodingContent-Length\n```\nvar hasBody = function(req) { \n return 'transfer-encoding' in req.headers || 'content-length' in req.headers; \n}; \n```\nHTTP_Parserdata\n```\nfunction (req, res) { \n if (hasBody(req)) { \n var buffers = []; \n req.on('data', function (chunk) { \n buffers.push(chunk); \n }); \n req.on('end', function () { \n req.rawBody = Buffer.concat(buffers).toString(); \n handle(req, res); \n }); \n } else { \n handle(req, res); \n } \n} \n```\nBufferBufferreq.rawBody\n\n\n```\nvar handle = function (req, res) { \n if (req.headers['content-type'] === 'application/x-www-form-urlencoded') { \n req.body = querystring.parse(req.rawBody); \n } \n todo(req, res); \n}; \n\n\nvar mime = function (req) { \n var str = req.headers['content-type'] || ''; \n return str.split(';')[0]; \n};\n\nvar handle = function (req, res) { \n if (mime(req) === 'application/json') { \n try { \n req.body = JSON.parse(req.rawBody); \n } catch (e) { \n // Bad request \n res.writeHead(400); \n res.end('Invalid JSON'); \n return; \n } \n } \n todo(req, res); \n}; \n```\n\nXMLXMLJSONxml2js\n```\nvar xml2js = require('xml2js'); \nvar handle = function (req, res) { \n if (mime(req) === 'application/xml') { \n xml2js.parseString(req.rawBody, function (err, xml) { \n if (err) { \n // Bad request \n res.writeHead(400); \n res.end('Invalid XML'); \n return; \n } \n req.body = xml; \n todo(req, res); \n }); \n } \n};\n```\n\n**\n\n```\nfunction (req, res) { \n if (hasBody(req)) { \n var done = function () { \n handle(req, res); \n }; \n if (mime(req) === 'application/json') { \n parseJSON(req, done); \n } else if (mime(req) === 'application/xml') { \n parseXML(req, done); \n } else if (mime(req) === 'multipart/form-data') { \n parseMultipart(req, done); \n } \n } else { \n handle(req, res); \n } \n} \n```\n\nformidable\n```\nvar formidable = require('formidable'); \nfunction (req, res) { \n if (hasBody(req)) { \n if (mime(req) === 'multipart/form-data') { \n var form = new formidable.IncomingForm(); \n form.parse(req, function(err, fields, files) { \n req.body = fields; \n req.files = files; \n handle(req, res); \n }); \n } \n } else { \n handle(req, res); \n } \n} \n```\n\n###### \n\n\n- 400\n- Node\n\n```\nvar bytes = 1024; \nfunction (req, res) { \n var received = 0, \n var len = req.headers['content-length'] ? parseInt(req.headers['content-length'], 10) : null; \n // \n if (len && len > bytes) { \n res.writeHead(413); \n res.end(); \n return; \n }\n  // limit \n req.on('data', function (chunk) { \n received += chunk.length; \n if (received > bytes) { \n // end() \n req.destroy(); \n } \n }); \n handle(req, res); \n}; \n```\n\nCSRF \nCSRFCross-Site Request Forgery\n\nCSRF\n```\nvar generateRandom = function(len) { \n return crypto.randomBytes(Math.ceil(len * 3 / 4)) \n .toString('base64') \n .slice(0, len); \n};\n```\n\n###### \n\n- \n- \n\nMVC\nMVC\n- Controller\n- Model\n- View\n\n![MVC](./images/mvc.png)\n\n- URL\n- \n- \n\nURL\n\n\nURL\n\nURL\n- \n- \n\nPHPMVCCodeIgniterNodeURL\n\n*RESTful*\nRESTRepresentational State TransferRESTRESTfulURL\n\nRESTfulMVCMVCRESTfulHTTPURL\n\n###### \n![](./images/middle.png)\n\n**\n```\nvar handle = function (req, res, stack) { \n var next = function (err) { \n if (err) { \n return handle500(err, req, res, stack); \n } \n // stack\n var middleware = stack.shift(); \n if (middleware) { \n // next()\n try { \n middleware(req, res, next); \n } catch (ex) { \n next(err); \n } \n } \n }; \n // \n next(); \n}; \n```\n\n**\n\n- jsperf.com\n- \n- HTTPGET\n\n\n\n###### \n**\n- MIME: Content-TypeMIME\nMIMEMultipurpose Internet Mail ExtensionsMIMEJSONapplication/jsonXMLapplication/xmlPDFapplication/pdf\nMIMEmime\n```\nvar mime = require('mime'); \nmime.lookup('/path/to/file.txt'); // => 'text/plain' \nmime.lookup('file.txt'); // => 'text/plain' \nmime.lookup('.TXT'); // => 'text/plain' \nmime.lookup('htm'); // => 'text/html' \n```\nMIMEContent-Type\nContent-Type: text/javascript; charset=utf-8 \n- \nContent-DispositioninlineattachmentContent-Disposition\n- JSON\n- \n\n**\n\n```\nvar cache = {}; \nvar VIEW_FOLDER = '/path/to/wwwroot/views'; \nres.render = function (viewname, data) { \n if (!cache[viewname]) { \n var text; \n try { \n text = fs.readFileSync(path.join(VIEW_FOLDER, viewname), 'utf8'); \n } catch (e) { \n  res.writeHead(500, {'Content-Type': 'text/html'}); \n res.end(''); \n return; \n } \n cache[viewname] = complie(text); \n } \n var complied = cache[viewname]; \n res.writeHead(200, {'Content-Type': 'text/html'}); \n var html = complied(data); \n res.end(html); \n};\n```\n\n**Bigpipe**\nBigpipepagelet\n\nBigpipe\n- \n- \n- \n![bigpipe](./images/bigpipe.png)\n```\nvar cache = {}; \nvar layout = 'layout.html'; \napp.get('/profile', function (req, res) { \n if (!cache[layout]) { \n cache[layout] = fs.readFileSync(path.join(VIEW_FOLDER, layout), 'utf8'); \n } \n res.writeHead(200, {'Content-Type': 'text/html'}); \n res.write(render(complie(cache[layout]))); \n // TODO \n}); \n\n\napp.get('/profile', function (req, res) { \n if (!cache[layout]) { \n cache[layout] = fs.readFileSync(path.join(VIEW_FOLDER, layout), 'utf8'); \n } \n res.writeHead(200, {'Content-Type': 'text/html'}); \n res.write(render(complie(cache[layout]))); \n ep.all('users', 'articles', function () { \n res.end(); \n }); \n ep.fail(function (err) { \n res.end(); \n }); \n db.getData('sql1', function (err, data) { \n data = err ? {} : data; \n res.write('<script>bigpipe.set(\"articles\", ' + JSON.stringify(data) + ');</script>'; \n }); \n db.getData('sql2', function (err, data) { \n data = err ? {} : data; \n res.write('<script>bigpipe.set(\"copyright\", ' + JSON.stringify(data) + ');</script>'; \n }); \n});\n\n\nvar Bigpipe = function () { \n this.callbacks = {}; \n}; \nBigpipe.prototype.ready = function (key, callback) { \n if (!this.callbacks[key]) { \n this.callbacks[key] = []; \n } \n this.callbacks[key].push(callback); \n}; \nBigpipe.prototype.set = function (key, data) { \n var callbacks = this.callbacks[key] || []; \n for (var i = 0; i < callbacks.length; i++) { \n callbacks[i].call(this, data); \n } \n};\n```\nBigpipe\n\n#### \n\n###### \n**\n\nNQPS1/N\n\n**\n100100\nprefork\nMQPSM/N\n\n**\nCPUCPUCPU\n1/LQPSM * L/N\n\n**\nCPU\n\n###### \nCPUCPUNodechild_processchild_process.fork()\n```\n// worker.js\nvar http = require('http'); \nhttp.createServer(function (req, res) { \n res.writeHead(200, {'Content-Type': 'text/plain'}); \n res.end('Hello World\\n'); \n}).listen(Math.round((1 + Math.random()) * 1000), '127.0.0.1'); \n\nvar fork = require('child_process').fork; \nvar cpus = require('os').cpus(); \nfor (var i = 0; i < cpus.length; i++) { \n fork('./worker.js'); \n} \n```\n![](./images/master-slave.png)\nMaster-Worker\n\n*fork()V83010 MBNodefork()CPUfork()*\n\n**\nchild_processNodechild_process4\n- spawn()\n- exec()spawn()\n\n- execFile()\n- fork()spawn()NodeJavaScript\n\nspawn()exec()execFile()timeout\nexec()execFile()exec()execFile()\n\n```\nvar cp = require('child_process'); \ncp.spawn('node', ['worker.js']); \ncp.exec('node worker.js', function (err, stdout, stderr) { \n // some code \n}); \ncp.execFile('worker.js', function (err, stdout, stderr) { \n // some code \n}); \ncp.fork('./worker.js');\n```\n![fork](./images/fork.png)\n\n**\nfork()APIIPCIPCmessagesend()\n- \nIPCInter-Process CommunicationsocketDomain SocketNodeIPCpipe\n![pipe](./images/pipe.png)\nIPCNODE_CHANNEL_FDIPCIPC\n![pipe](./images/pipe-1.png)\n\n**\n\n\nchild.send(message, [sendHandle]) \nsocketsocketUDP\n```\nvar child = require('child_process').fork('child.js'); \n// Open up the server object and send the handle \nvar server = require('net').createServer(); \nserver.on('connection', function (socket) { \n socket.end('handled by parent\\n'); \n}); \nserver.listen(1337, function () { \n child.send('server', server); \n}); \n\nprocess.on('message', function (m, server) { \n if (m === 'server') { \n server.on('connection', function (socket) { \n socket.end('handled by child\\n'); \n }); \n } \n});\n```\n![pipe](./images/pipe-2.png)\n\n![pipe](./images/pipe-3.png)\n\n\nsend()\n- net.SocketTCP\n- net.ServerTCPTCP\n- net.NativeC++TCPIPC\n- dgram.SocketUDP\n- dgram.NativeC++UDP\nsend()IPChandlemessagemessage\n{ \n cmd: 'NODE_HANDLE', \n type: 'net.Server', \n msg: message \n} \n\nIPCJSON.parse()messagemessage.cmdNODE_internalMessagemessage.cmdNODE_HANDLEmessage.type\n![pipe](./images/pipe-4.png)\n\nNode\n\n\n\n\n###### \n\n**\nmessageNode\n- error\n- exitnullkill()\n- closeexit\n- disconnectdisconnect()IPC\n\nkill -l\n\n**\n```\n// master.js \nvar fork = require('child_process').fork; \nvar cpus = require('os').cpus(); \nvar server = require('net').createServer(); \nserver.listen(1337); \nvar workers = {}; \nvar createWorker = function () { \n var worker = fork(__dirname + '/worker.js'); \n // \n worker.on('exit', function () { \n console.log('Worker ' + worker.pid + ' exited.'); \n delete workers[worker.pid]; \n createWorker(); \n }); \n // \n worker.send('server', server); \n workers[worker.pid] = worker; \n console.log('Create worker. pid: ' + worker.pid); \n}; \nfor (var i = 0; i < cpus.length; i++) { \n createWorker(); \n} \n// \nprocess.on('exit', function () { \n for (var pid in workers) { \n workers[pid].kill(); \n } \n});\n\n// worker.js \nvar http = require('http'); \nvar server = http.createServer(function (req, res) { \n res.writeHead(200, {'Content-Type': 'text/plain'}); \n res.end('handled by child, pid is ' + process.pid + '\\n'); \n}); \nvar worker; \nprocess.on('message', function (m, tcp) { \n if (m === 'server') { \n worker = tcp; \n worker.on('connection', function (socket) { \n  server.emit('connection', socket); \n }); \n } \n}); \nprocess.on('uncaughtException', function () { \n // \n worker.close(function () { \n // \n process.exit(1); \n }); \n}); \n```\n**\n```\n// \nvar limit = 10; \n// \nvar during = 60000; \nvar restart = []; \nvar isTooFrequently = function () { \n // \n var time = Date.now(); \n var length = restart.push(time); \n if (length > limit) { \n // 10\n restart = restart.slice(limit * -1); \n } \n // 10\n return restart.length >= limit && restart[restart.length - 1] - restart[0] < during; \n}; \nvar workers = {}; \nvar createWorker = function () { \n // \n if (isTooFrequently()) { \n // giveup\n process.emit('giveup', length, during); \n return; \n } \n var worker = fork(__dirname + '/worker.js'); \n worker.on('exit', function () { \n console.log('Worker ' + worker.pid + ' exited.'); \n delete workers[worker.pid]; \n }); \n // \n worker.on('message', function (message) { \n if (message.act === 'suicide') { \n createWorker(); \n } \n }); \n // \n worker.send('server', server); \n workers[worker.pid] = worker; \n console.log('Create worker. pid: ' + worker.pid); \n}; \n```\n\n**\nCPU,\n\nNode\n\nNodeCPUI/OCPUI/OCPU\n\n  Node v0.11Round-RobinNi = (i + 1) mod n\n\n**\n- \n\n\n\n![](./images/loop.png)\n- \n\n![](./images/loop-1.png)\nTCPUDP\n\n###### Cluster \n```\n// cluster.js \nvar cluster = require('cluster'); \ncluster.setupMaster({ \n exec: \"worker.js\" \n}); \nvar cpus = require('os').cpus(); \nfor (var i = 0; i < cpus.length; i++) { \n cluster.fork(); \n} \n\nvar cluster = require('cluster'); \nvar http = require('http'); \nvar numCPUs = require('os').cpus().length; \nif (cluster.isMaster) { \n // Fork workers \n for (var i = 0; i < numCPUs; i++) { \n cluster.fork(); \n } \n cluster.on('exit', function(worker, code, signal) { \n console.log('worker ' + worker.process.pid + ' died'); \n }); \n} else { \n // Workers can share any TCP connection \n // In this case its a HTTP server \n http.createServer(function(req, res) { \n res.writeHead(200); \n res.end(\"hello world\\n\"); \n }).listen(8000); \n}\n```\n\nNODE_UNIQUE_ID\n```\ncluster.isWorker = ('NODE_UNIQUE_ID' in process.env); \ncluster.isMaster = (cluster.isWorker === false); \n```\ncluster.isMastercluster.isWorkercluster.setupMaster()API\n\ncluster.setupMaster()cluster.fork()\n\n*Cluster *\nclusterchild_processnet\n\n*Cluster *\n- fork\n- onlineonline\n- listeninglisten()Socketlistening\n- disconnectIPC\n- exit\n- setupcluster.setupMaster()","updated":"2022-12-26T13:15:06.521Z","path":"nodejs/nodejs-note-4.html","comments":1,"layout":"page","_id":"clc62bain000inwvaeae9g8vc","content":"<h4 id=\"Web\"><a href=\"#Web\" class=\"headerlink\" title=\"Web\"></a>Web</h4><h6 id=\"cookie\"><a href=\"#cookie\" class=\"headerlink\" title=\"cookie\"></a>cookie</h6><p>CookieSet-Cookie<br>Set-Cookie: name=value; Path=/; Expires=Sun, 23-Apr-23 09:01:35 GMT; Domain=.domain.com;<br>name=valueCookie:</p>\n<ul>\n<li>pathCookieCookie</li>\n<li>ExpiresMax-AgeCookieCookieCookieExpiresUTCCookieMax-AgeCookieMax-AgeCookie</li>\n<li>HttpOnlydocument.cookieCookieHttpOnlydocument.cookieHTTPCookie</li>\n<li>SecureSecuretrueHTTPHTTPSCookieHTTPSHTTP</li>\n</ul>\n<p>YSlow:</p>\n<ul>\n<li>Cookie</li>\n<li></li>\n<li>DNS</li>\n</ul>\n<h6 id=\"Session\"><a href=\"#Session\" class=\"headerlink\" title=\"Session\"></a>Session</h6><p>Session</p>\n<p>:</p>\n<ul>\n<li>Cookie<br>SessionSessionConnectconnect_uidTomcatjsessionidCookie<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var sessions = &#123;&#125;; </span><br><span class=\"line\">var key = &#x27;session_id&#x27;; </span><br><span class=\"line\">var EXPIRES = 20 * 60 * 1000; </span><br><span class=\"line\">var generate = function () &#123; </span><br><span class=\"line\"> var session = &#123;&#125;; </span><br><span class=\"line\"> session.id = (new Date()).getTime() + Math.random(); </span><br><span class=\"line\"> session.cookie = &#123; </span><br><span class=\"line\"> expire: (new Date()).getTime() + EXPIRES </span><br><span class=\"line\"> &#125;; </span><br><span class=\"line\"> sessions[session.id] = session; </span><br><span class=\"line\"> return session; </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure></li>\n<li></li>\n</ul>\n<p>:</p>\n<ul>\n<li>Node</li>\n<li></li>\n<li>Node</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<ul>\n<li>Expires Cache-Control </li>\n<li> ETags</li>\n<li>Ajax </li>\n</ul>\n<p><img src=\"/nodejs/images/cache.png\" alt=\"\"></p>\n<p>:</p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p>ETagEntity Tag<br>ETagIf-None-Match/ETag</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var handle = function (req, res) &#123; </span><br><span class=\"line\"> fs.readFile(filename, function(err, file) &#123; </span><br><span class=\"line\"> var hash = getHash(file); </span><br><span class=\"line\"> var noneMatch = req.headers[&#x27;if-none-match&#x27;]; </span><br><span class=\"line\"> if (hash === noneMatch) &#123; </span><br><span class=\"line\"> res.writeHead(304, &quot;Not Modified&quot;); </span><br><span class=\"line\"> res.end(); </span><br><span class=\"line\"> &#125; else &#123; </span><br><span class=\"line\"> res.setHeader(&quot;ETag&quot;, hash); </span><br><span class=\"line\"> res.writeHead(200, &quot;Ok&quot;); </span><br><span class=\"line\"> res.end(file); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n\n<p>HTTP1.0Expires:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var handle = function (req, res) &#123; </span><br><span class=\"line\"> fs.readFile(filename, function(err, file) &#123; </span><br><span class=\"line\"> var expires = new Date(); </span><br><span class=\"line\"> expires.setTime(expires.getTime() + 10 * 365 * 24 * 60 * 60 * 1000); </span><br><span class=\"line\"> res.setHeader(&quot;Expires&quot;, expires.toUTCString()); </span><br><span class=\"line\"> res.writeHead(200, &quot;Ok&quot;); </span><br><span class=\"line\"> res.end(file); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n<p>ExpiresGMT</p>\n<p>ExpiresCache-Control</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var handle = function (req, res) &#123; </span><br><span class=\"line\"> fs.readFile(filename, function(err, file) &#123; </span><br><span class=\"line\"> res.setHeader(&quot;Cache-Control&quot;, &quot;max-age=&quot; + 10 * 365 * 24 * 60 * 60 * 1000); </span><br><span class=\"line\"> res.writeHead(200, &quot;Ok&quot;); </span><br><span class=\"line\"> res.end(file); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>Cache-ControlCache-Controlpublicprivateno-cacheno-store</p>\n<p>HTTP1.0max-ageExpiresCache-Controlmax-ageExpires</p>\n<p>:</p>\n<ul>\n<li>Web<a href=\"http://url.com/?v=20130501%E3%80%82\">http://url.com/?v=20130501</a></li>\n<li>hash<a href=\"http://url.com/?hash=afadfadwe\">http://url.com/?hash=afadfadwe</a></li>\n</ul>\n<h6 id=\"Basic\"><a href=\"#Basic\" class=\"headerlink\" title=\"Basic\"></a>Basic</h6><p>HTTPSBasic</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>POST<br>Transfer-EncodingContent-Length</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var hasBody = function(req) &#123; </span><br><span class=\"line\"> return &#x27;transfer-encoding&#x27; in req.headers || &#x27;content-length&#x27; in req.headers; </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n<p>HTTP_Parserdata</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function (req, res) &#123; </span><br><span class=\"line\"> if (hasBody(req)) &#123; </span><br><span class=\"line\"> var buffers = []; </span><br><span class=\"line\"> req.on(&#x27;data&#x27;, function (chunk) &#123; </span><br><span class=\"line\"> buffers.push(chunk); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> req.on(&#x27;end&#x27;, function () &#123; </span><br><span class=\"line\"> req.rawBody = Buffer.concat(buffers).toString(); </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125; else &#123; </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125; </span><br></pre></td></tr></table></figure>\n<p>BufferBufferreq.rawBody</p>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var handle = function (req, res) &#123; </span><br><span class=\"line\"> if (req.headers[&#x27;content-type&#x27;] === &#x27;application/x-www-form-urlencoded&#x27;) &#123; </span><br><span class=\"line\"> req.body = querystring.parse(req.rawBody); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> todo(req, res); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">var mime = function (req) &#123; </span><br><span class=\"line\"> var str = req.headers[&#x27;content-type&#x27;] || &#x27;&#x27;; </span><br><span class=\"line\"> return str.split(&#x27;;&#x27;)[0]; </span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">var handle = function (req, res) &#123; </span><br><span class=\"line\"> if (mime(req) === &#x27;application/json&#x27;) &#123; </span><br><span class=\"line\"> try &#123; </span><br><span class=\"line\"> req.body = JSON.parse(req.rawBody); </span><br><span class=\"line\"> &#125; catch (e) &#123; </span><br><span class=\"line\"> // Bad request </span><br><span class=\"line\"> res.writeHead(400); </span><br><span class=\"line\"> res.end(&#x27;Invalid JSON&#x27;); </span><br><span class=\"line\"> return; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> todo(req, res); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n\n<p>XMLXMLJSONxml2js</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var xml2js = require(&#x27;xml2js&#x27;); </span><br><span class=\"line\">var handle = function (req, res) &#123; </span><br><span class=\"line\"> if (mime(req) === &#x27;application/xml&#x27;) &#123; </span><br><span class=\"line\"> xml2js.parseString(req.rawBody, function (err, xml) &#123; </span><br><span class=\"line\"> if (err) &#123; </span><br><span class=\"line\"> // Bad request </span><br><span class=\"line\"> res.writeHead(400); </span><br><span class=\"line\"> res.end(&#x27;Invalid XML&#x27;); </span><br><span class=\"line\"> return; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> req.body = xml; </span><br><span class=\"line\"> todo(req, res); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><em></em></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function (req, res) &#123; </span><br><span class=\"line\"> if (hasBody(req)) &#123; </span><br><span class=\"line\"> var done = function () &#123; </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\"> &#125;; </span><br><span class=\"line\"> if (mime(req) === &#x27;application/json&#x27;) &#123; </span><br><span class=\"line\"> parseJSON(req, done); </span><br><span class=\"line\"> &#125; else if (mime(req) === &#x27;application/xml&#x27;) &#123; </span><br><span class=\"line\"> parseXML(req, done); </span><br><span class=\"line\"> &#125; else if (mime(req) === &#x27;multipart/form-data&#x27;) &#123; </span><br><span class=\"line\"> parseMultipart(req, done); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; else &#123; </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125; </span><br></pre></td></tr></table></figure>\n\n<p>formidable</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var formidable = require(&#x27;formidable&#x27;); </span><br><span class=\"line\">function (req, res) &#123; </span><br><span class=\"line\"> if (hasBody(req)) &#123; </span><br><span class=\"line\"> if (mime(req) === &#x27;multipart/form-data&#x27;) &#123; </span><br><span class=\"line\"> var form = new formidable.IncomingForm(); </span><br><span class=\"line\"> form.parse(req, function(err, fields, files) &#123; </span><br><span class=\"line\"> req.body = fields; </span><br><span class=\"line\"> req.files = files; </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; else &#123; </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125; </span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><br></p>\n<ul>\n<li>400</li>\n<li>Node</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var bytes = 1024; </span><br><span class=\"line\">function (req, res) &#123; </span><br><span class=\"line\"> var received = 0, </span><br><span class=\"line\"> var len = req.headers[&#x27;content-length&#x27;] ? parseInt(req.headers[&#x27;content-length&#x27;], 10) : null; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> if (len &amp;&amp; len &gt; bytes) &#123; </span><br><span class=\"line\"> res.writeHead(413); </span><br><span class=\"line\"> res.end(); </span><br><span class=\"line\"> return; </span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">  // limit </span><br><span class=\"line\"> req.on(&#x27;data&#x27;, function (chunk) &#123; </span><br><span class=\"line\"> received += chunk.length; </span><br><span class=\"line\"> if (received &gt; bytes) &#123; </span><br><span class=\"line\"> // end() </span><br><span class=\"line\"> req.destroy(); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n\n<p>CSRF<br>CSRFCross-Site Request Forgery</p>\n<p>CSRF</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var generateRandom = function(len) &#123; </span><br><span class=\"line\"> return crypto.randomBytes(Math.ceil(len * 3 / 4)) </span><br><span class=\"line\"> .toString(&#x27;base64&#x27;) </span><br><span class=\"line\"> .slice(0, len); </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p>MVC<br>MVC</p>\n<ul>\n<li>Controller</li>\n<li>Model</li>\n<li>View</li>\n</ul>\n<p><img src=\"/nodejs/images/mvc.png\" alt=\"MVC\"><br></p>\n<ul>\n<li>URL</li>\n<li></li>\n<li></li>\n</ul>\n<p>URL<br><br><br>URL</p>\n<p>URL</p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p>PHPMVCCodeIgniterNodeURL</p>\n<p><em>RESTful</em><br>RESTRepresentational State TransferRESTRESTfulURL</p>\n<p>RESTfulMVCMVCRESTfulHTTPURL</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><img src=\"/nodejs/images/middle.png\" alt=\"\"></p>\n<p><em></em></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var handle = function (req, res, stack) &#123; </span><br><span class=\"line\"> var next = function (err) &#123; </span><br><span class=\"line\"> if (err) &#123; </span><br><span class=\"line\"> return handle500(err, req, res, stack); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> // stack</span><br><span class=\"line\"> var middleware = stack.shift(); </span><br><span class=\"line\"> if (middleware) &#123; </span><br><span class=\"line\"> // next()</span><br><span class=\"line\"> try &#123; </span><br><span class=\"line\"> middleware(req, res, next); </span><br><span class=\"line\"> &#125; catch (ex) &#123; </span><br><span class=\"line\"> next(err); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125;; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> next(); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n\n<p><em></em><br></p>\n<ul>\n<li>jsperf.com</li>\n<li></li>\n<li>HTTPGET</li>\n</ul>\n<p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em></p>\n<ul>\n<li>MIME: Content-TypeMIME<br>MIMEMultipurpose Internet Mail ExtensionsMIMEJSONapplication/jsonXMLapplication/xmlPDFapplication/pdf<br>MIMEmime<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var mime = require(&#x27;mime&#x27;); </span><br><span class=\"line\">mime.lookup(&#x27;/path/to/file.txt&#x27;); // =&gt; &#x27;text/plain&#x27; </span><br><span class=\"line\">mime.lookup(&#x27;file.txt&#x27;); // =&gt; &#x27;text/plain&#x27; </span><br><span class=\"line\">mime.lookup(&#x27;.TXT&#x27;); // =&gt; &#x27;text/plain&#x27; </span><br><span class=\"line\">mime.lookup(&#x27;htm&#x27;); // =&gt; &#x27;text/html&#x27; </span><br></pre></td></tr></table></figure>\nMIMEContent-Type<br>Content-Type: text/javascript; charset=utf-8 </li>\n<li><br>Content-DispositioninlineattachmentContent-Disposition</li>\n<li>JSON</li>\n<li></li>\n</ul>\n<p><em></em><br></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var cache = &#123;&#125;; </span><br><span class=\"line\">var VIEW_FOLDER = &#x27;/path/to/wwwroot/views&#x27;; </span><br><span class=\"line\">res.render = function (viewname, data) &#123; </span><br><span class=\"line\"> if (!cache[viewname]) &#123; </span><br><span class=\"line\"> var text; </span><br><span class=\"line\"> try &#123; </span><br><span class=\"line\"> text = fs.readFileSync(path.join(VIEW_FOLDER, viewname), &#x27;utf8&#x27;); </span><br><span class=\"line\"> &#125; catch (e) &#123; </span><br><span class=\"line\">  res.writeHead(500, &#123;&#x27;Content-Type&#x27;: &#x27;text/html&#x27;&#125;); </span><br><span class=\"line\"> res.end(&#x27;&#x27;); </span><br><span class=\"line\"> return; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> cache[viewname] = complie(text); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> var complied = cache[viewname]; </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/html&#x27;&#125;); </span><br><span class=\"line\"> var html = complied(data); </span><br><span class=\"line\"> res.end(html); </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Bigpipe</strong><br>Bigpipepagelet</p>\n<p>Bigpipe</p>\n<ul>\n<li></li>\n<li></li>\n<li><br><img src=\"/nodejs/images/bigpipe.png\" alt=\"bigpipe\"><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var cache = &#123;&#125;; </span><br><span class=\"line\">var layout = &#x27;layout.html&#x27;; </span><br><span class=\"line\">app.get(&#x27;/profile&#x27;, function (req, res) &#123; </span><br><span class=\"line\"> if (!cache[layout]) &#123; </span><br><span class=\"line\"> cache[layout] = fs.readFileSync(path.join(VIEW_FOLDER, layout), &#x27;utf8&#x27;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/html&#x27;&#125;); </span><br><span class=\"line\"> res.write(render(complie(cache[layout]))); </span><br><span class=\"line\"> // TODO </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">app.get(&#x27;/profile&#x27;, function (req, res) &#123; </span><br><span class=\"line\"> if (!cache[layout]) &#123; </span><br><span class=\"line\"> cache[layout] = fs.readFileSync(path.join(VIEW_FOLDER, layout), &#x27;utf8&#x27;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/html&#x27;&#125;); </span><br><span class=\"line\"> res.write(render(complie(cache[layout]))); </span><br><span class=\"line\"> ep.all(&#x27;users&#x27;, &#x27;articles&#x27;, function () &#123; </span><br><span class=\"line\"> res.end(); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> ep.fail(function (err) &#123; </span><br><span class=\"line\"> res.end(); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> db.getData(&#x27;sql1&#x27;, function (err, data) &#123; </span><br><span class=\"line\"> data = err ? &#123;&#125; : data; </span><br><span class=\"line\"> res.write(&#x27;&lt;script&gt;bigpipe.set(&quot;articles&quot;, &#x27; + JSON.stringify(data) + &#x27;);&lt;/script&gt;&#x27;; </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> db.getData(&#x27;sql2&#x27;, function (err, data) &#123; </span><br><span class=\"line\"> data = err ? &#123;&#125; : data; </span><br><span class=\"line\"> res.write(&#x27;&lt;script&gt;bigpipe.set(&quot;copyright&quot;, &#x27; + JSON.stringify(data) + &#x27;);&lt;/script&gt;&#x27;; </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">var Bigpipe = function () &#123; </span><br><span class=\"line\"> this.callbacks = &#123;&#125;; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">Bigpipe.prototype.ready = function (key, callback) &#123; </span><br><span class=\"line\"> if (!this.callbacks[key]) &#123; </span><br><span class=\"line\"> this.callbacks[key] = []; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> this.callbacks[key].push(callback); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">Bigpipe.prototype.set = function (key, data) &#123; </span><br><span class=\"line\"> var callbacks = this.callbacks[key] || []; </span><br><span class=\"line\"> for (var i = 0; i &lt; callbacks.length; i++) &#123; </span><br><span class=\"line\"> callbacks[i].call(this, data); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\nBigpipe</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br><br>NQPS1/N</p>\n<p><em></em><br>100100<br>prefork<br>MQPSM/N</p>\n<p><em></em><br>CPUCPUCPU<br>1/LQPSM * L/N</p>\n<p><em></em><br>CPU</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>CPUCPUNodechild_processchild_process.fork()</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// worker.js</span><br><span class=\"line\">var http = require(&#x27;http&#x27;); </span><br><span class=\"line\">http.createServer(function (req, res) &#123; </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/plain&#x27;&#125;); </span><br><span class=\"line\"> res.end(&#x27;Hello World\\n&#x27;); </span><br><span class=\"line\">&#125;).listen(Math.round((1 + Math.random()) * 1000), &#x27;127.0.0.1&#x27;); </span><br><span class=\"line\"></span><br><span class=\"line\">var fork = require(&#x27;child_process&#x27;).fork; </span><br><span class=\"line\">var cpus = require(&#x27;os&#x27;).cpus(); </span><br><span class=\"line\">for (var i = 0; i &lt; cpus.length; i++) &#123; </span><br><span class=\"line\"> fork(&#x27;./worker.js&#x27;); </span><br><span class=\"line\">&#125; </span><br></pre></td></tr></table></figure>\n<p><img src=\"/nodejs/images/master-slave.png\" alt=\"\"><br>Master-Worker</p>\n<p><em>fork()V83010 MBNodefork()CPUfork()</em></p>\n<p><em></em><br>child_processNodechild_process4</p>\n<ul>\n<li>spawn()</li>\n<li>exec()spawn()<br></li>\n<li>execFile()</li>\n<li>fork()spawn()NodeJavaScript<br><br>spawn()exec()execFile()timeout<br>exec()execFile()exec()execFile()</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var cp = require(&#x27;child_process&#x27;); </span><br><span class=\"line\">cp.spawn(&#x27;node&#x27;, [&#x27;worker.js&#x27;]); </span><br><span class=\"line\">cp.exec(&#x27;node worker.js&#x27;, function (err, stdout, stderr) &#123; </span><br><span class=\"line\"> // some code </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">cp.execFile(&#x27;worker.js&#x27;, function (err, stdout, stderr) &#123; </span><br><span class=\"line\"> // some code </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">cp.fork(&#x27;./worker.js&#x27;);</span><br></pre></td></tr></table></figure>\n<p><img src=\"/nodejs/images/fork.png\" alt=\"fork\"></p>\n<p><em></em><br>fork()APIIPCIPCmessagesend()</p>\n<ul>\n<li><br>IPCInter-Process CommunicationsocketDomain SocketNodeIPCpipe<br><img src=\"/nodejs/images/pipe.png\" alt=\"pipe\"><br>IPCNODE_CHANNEL_FDIPCIPC<br><img src=\"/nodejs/images/pipe-1.png\" alt=\"pipe\"></li>\n</ul>\n<p><em></em><br></p>\n<p>child.send(message, [sendHandle])<br>socketsocketUDP</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var child = require(&#x27;child_process&#x27;).fork(&#x27;child.js&#x27;); </span><br><span class=\"line\">// Open up the server object and send the handle </span><br><span class=\"line\">var server = require(&#x27;net&#x27;).createServer(); </span><br><span class=\"line\">server.on(&#x27;connection&#x27;, function (socket) &#123; </span><br><span class=\"line\"> socket.end(&#x27;handled by parent\\n&#x27;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">server.listen(1337, function () &#123; </span><br><span class=\"line\"> child.send(&#x27;server&#x27;, server); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br><span class=\"line\">process.on(&#x27;message&#x27;, function (m, server) &#123; </span><br><span class=\"line\"> if (m === &#x27;server&#x27;) &#123; </span><br><span class=\"line\"> server.on(&#x27;connection&#x27;, function (socket) &#123; </span><br><span class=\"line\"> socket.end(&#x27;handled by child\\n&#x27;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p><img src=\"/nodejs/images/pipe-2.png\" alt=\"pipe\"><br><br><img src=\"/nodejs/images/pipe-3.png\" alt=\"pipe\"></p>\n<p><br>send()</p>\n<ul>\n<li>net.SocketTCP</li>\n<li>net.ServerTCPTCP</li>\n<li>net.NativeC++TCPIPC</li>\n<li>dgram.SocketUDP</li>\n<li>dgram.NativeC++UDP<br>send()IPChandlemessagemessage<br>{<br>cmd: NODE_HANDLE,<br>type: net.Server,<br>msg: message<br>} </li>\n</ul>\n<p>IPCJSON.parse()messagemessage.cmdNODE_internalMessagemessage.cmdNODE_HANDLEmessage.type<br><img src=\"/nodejs/images/pipe-4.png\" alt=\"pipe\"></p>\n<p>Node</p>\n<p><br></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br>messageNode</p>\n<ul>\n<li>error</li>\n<li>exitnullkill()</li>\n<li>closeexit</li>\n<li>disconnectdisconnect()IPC</li>\n</ul>\n<p>kill -l</p>\n<p><em></em></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// master.js </span><br><span class=\"line\">var fork = require(&#x27;child_process&#x27;).fork; </span><br><span class=\"line\">var cpus = require(&#x27;os&#x27;).cpus(); </span><br><span class=\"line\">var server = require(&#x27;net&#x27;).createServer(); </span><br><span class=\"line\">server.listen(1337); </span><br><span class=\"line\">var workers = &#123;&#125;; </span><br><span class=\"line\">var createWorker = function () &#123; </span><br><span class=\"line\"> var worker = fork(__dirname + &#x27;/worker.js&#x27;); </span><br><span class=\"line\"> // </span><br><span class=\"line\"> worker.on(&#x27;exit&#x27;, function () &#123; </span><br><span class=\"line\"> console.log(&#x27;Worker &#x27; + worker.pid + &#x27; exited.&#x27;); </span><br><span class=\"line\"> delete workers[worker.pid]; </span><br><span class=\"line\"> createWorker(); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> // </span><br><span class=\"line\"> worker.send(&#x27;server&#x27;, server); </span><br><span class=\"line\"> workers[worker.pid] = worker; </span><br><span class=\"line\"> console.log(&#x27;Create worker. pid: &#x27; + worker.pid); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">for (var i = 0; i &lt; cpus.length; i++) &#123; </span><br><span class=\"line\"> createWorker(); </span><br><span class=\"line\">&#125; </span><br><span class=\"line\">// </span><br><span class=\"line\">process.on(&#x27;exit&#x27;, function () &#123; </span><br><span class=\"line\"> for (var pid in workers) &#123; </span><br><span class=\"line\"> workers[pid].kill(); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">// worker.js </span><br><span class=\"line\">var http = require(&#x27;http&#x27;); </span><br><span class=\"line\">var server = http.createServer(function (req, res) &#123; </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/plain&#x27;&#125;); </span><br><span class=\"line\"> res.end(&#x27;handled by child, pid is &#x27; + process.pid + &#x27;\\n&#x27;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">var worker; </span><br><span class=\"line\">process.on(&#x27;message&#x27;, function (m, tcp) &#123; </span><br><span class=\"line\"> if (m === &#x27;server&#x27;) &#123; </span><br><span class=\"line\"> worker = tcp; </span><br><span class=\"line\"> worker.on(&#x27;connection&#x27;, function (socket) &#123; </span><br><span class=\"line\">  server.emit(&#x27;connection&#x27;, socket); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">process.on(&#x27;uncaughtException&#x27;, function () &#123; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> worker.close(function () &#123; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> process.exit(1); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\n<p><em></em></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// </span><br><span class=\"line\">var limit = 10; </span><br><span class=\"line\">// </span><br><span class=\"line\">var during = 60000; </span><br><span class=\"line\">var restart = []; </span><br><span class=\"line\">var isTooFrequently = function () &#123; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> var time = Date.now(); </span><br><span class=\"line\"> var length = restart.push(time); </span><br><span class=\"line\"> if (length &gt; limit) &#123; </span><br><span class=\"line\"> // 10</span><br><span class=\"line\"> restart = restart.slice(limit * -1); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> // 10</span><br><span class=\"line\"> return restart.length &gt;= limit &amp;&amp; restart[restart.length - 1] - restart[0] &lt; during; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">var workers = &#123;&#125;; </span><br><span class=\"line\">var createWorker = function () &#123; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> if (isTooFrequently()) &#123; </span><br><span class=\"line\"> // giveup</span><br><span class=\"line\"> process.emit(&#x27;giveup&#x27;, length, during); </span><br><span class=\"line\"> return; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> var worker = fork(__dirname + &#x27;/worker.js&#x27;); </span><br><span class=\"line\"> worker.on(&#x27;exit&#x27;, function () &#123; </span><br><span class=\"line\"> console.log(&#x27;Worker &#x27; + worker.pid + &#x27; exited.&#x27;); </span><br><span class=\"line\"> delete workers[worker.pid]; </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> // </span><br><span class=\"line\"> worker.on(&#x27;message&#x27;, function (message) &#123; </span><br><span class=\"line\"> if (message.act === &#x27;suicide&#x27;) &#123; </span><br><span class=\"line\"> createWorker(); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> // </span><br><span class=\"line\"> worker.send(&#x27;server&#x27;, server); </span><br><span class=\"line\"> workers[worker.pid] = worker; </span><br><span class=\"line\"> console.log(&#x27;Create worker. pid: &#x27; + worker.pid); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n\n<p><em></em><br>CPU,</p>\n<p>Node</p>\n<p>NodeCPUI/OCPUI/OCPU</p>\n<p>  Node v0.11Round-RobinNi = (i + 1) mod n</p>\n<p><em></em></p>\n<ul>\n<li><br><br><br><br><img src=\"/nodejs/images/loop.png\" alt=\"\"></li>\n<li><br><br><img src=\"/nodejs/images/loop-1.png\" alt=\"\"><br>TCPUDP</li>\n</ul>\n<h6 id=\"Cluster-\"><a href=\"#Cluster-\" class=\"headerlink\" title=\"Cluster \"></a>Cluster </h6><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// cluster.js </span><br><span class=\"line\">var cluster = require(&#x27;cluster&#x27;); </span><br><span class=\"line\">cluster.setupMaster(&#123; </span><br><span class=\"line\"> exec: &quot;worker.js&quot; </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">var cpus = require(&#x27;os&#x27;).cpus(); </span><br><span class=\"line\">for (var i = 0; i &lt; cpus.length; i++) &#123; </span><br><span class=\"line\"> cluster.fork(); </span><br><span class=\"line\">&#125; </span><br><span class=\"line\"></span><br><span class=\"line\">var cluster = require(&#x27;cluster&#x27;); </span><br><span class=\"line\">var http = require(&#x27;http&#x27;); </span><br><span class=\"line\">var numCPUs = require(&#x27;os&#x27;).cpus().length; </span><br><span class=\"line\">if (cluster.isMaster) &#123; </span><br><span class=\"line\"> // Fork workers </span><br><span class=\"line\"> for (var i = 0; i &lt; numCPUs; i++) &#123; </span><br><span class=\"line\"> cluster.fork(); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> cluster.on(&#x27;exit&#x27;, function(worker, code, signal) &#123; </span><br><span class=\"line\"> console.log(&#x27;worker &#x27; + worker.process.pid + &#x27; died&#x27;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125; else &#123; </span><br><span class=\"line\"> // Workers can share any TCP connection </span><br><span class=\"line\"> // In this case its a HTTP server </span><br><span class=\"line\"> http.createServer(function(req, res) &#123; </span><br><span class=\"line\"> res.writeHead(200); </span><br><span class=\"line\"> res.end(&quot;hello world\\n&quot;); </span><br><span class=\"line\"> &#125;).listen(8000); </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>NODE_UNIQUE_ID</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cluster.isWorker = (&#x27;NODE_UNIQUE_ID&#x27; in process.env); </span><br><span class=\"line\">cluster.isMaster = (cluster.isWorker === false); </span><br></pre></td></tr></table></figure>\n<p>cluster.isMastercluster.isWorkercluster.setupMaster()API</p>\n<p>cluster.setupMaster()cluster.fork()</p>\n<p><em>Cluster </em><br>clusterchild_processnet</p>\n<p><em>Cluster </em></p>\n<ul>\n<li>fork</li>\n<li>onlineonline</li>\n<li>listeninglisten()Socketlistening</li>\n<li>disconnectIPC</li>\n<li>exit</li>\n<li>setupcluster.setupMaster()</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"Web\"><a href=\"#Web\" class=\"headerlink\" title=\"Web\"></a>Web</h4><h6 id=\"cookie\"><a href=\"#cookie\" class=\"headerlink\" title=\"cookie\"></a>cookie</h6><p>CookieSet-Cookie<br>Set-Cookie: name=value; Path=/; Expires=Sun, 23-Apr-23 09:01:35 GMT; Domain=.domain.com;<br>name=valueCookie:</p>\n<ul>\n<li>pathCookieCookie</li>\n<li>ExpiresMax-AgeCookieCookieCookieExpiresUTCCookieMax-AgeCookieMax-AgeCookie</li>\n<li>HttpOnlydocument.cookieCookieHttpOnlydocument.cookieHTTPCookie</li>\n<li>SecureSecuretrueHTTPHTTPSCookieHTTPSHTTP</li>\n</ul>\n<p>YSlow:</p>\n<ul>\n<li>Cookie</li>\n<li></li>\n<li>DNS</li>\n</ul>\n<h6 id=\"Session\"><a href=\"#Session\" class=\"headerlink\" title=\"Session\"></a>Session</h6><p>Session</p>\n<p>:</p>\n<ul>\n<li>Cookie<br>SessionSessionConnectconnect_uidTomcatjsessionidCookie<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var sessions = &#123;&#125;; </span><br><span class=\"line\">var key = &#x27;session_id&#x27;; </span><br><span class=\"line\">var EXPIRES = 20 * 60 * 1000; </span><br><span class=\"line\">var generate = function () &#123; </span><br><span class=\"line\"> var session = &#123;&#125;; </span><br><span class=\"line\"> session.id = (new Date()).getTime() + Math.random(); </span><br><span class=\"line\"> session.cookie = &#123; </span><br><span class=\"line\"> expire: (new Date()).getTime() + EXPIRES </span><br><span class=\"line\"> &#125;; </span><br><span class=\"line\"> sessions[session.id] = session; </span><br><span class=\"line\"> return session; </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure></li>\n<li></li>\n</ul>\n<p>:</p>\n<ul>\n<li>Node</li>\n<li></li>\n<li>Node</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<ul>\n<li>Expires Cache-Control </li>\n<li> ETags</li>\n<li>Ajax </li>\n</ul>\n<p><img src=\"/nodejs/images/cache.png\" alt=\"\"></p>\n<p>:</p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p>ETagEntity Tag<br>ETagIf-None-Match/ETag</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var handle = function (req, res) &#123; </span><br><span class=\"line\"> fs.readFile(filename, function(err, file) &#123; </span><br><span class=\"line\"> var hash = getHash(file); </span><br><span class=\"line\"> var noneMatch = req.headers[&#x27;if-none-match&#x27;]; </span><br><span class=\"line\"> if (hash === noneMatch) &#123; </span><br><span class=\"line\"> res.writeHead(304, &quot;Not Modified&quot;); </span><br><span class=\"line\"> res.end(); </span><br><span class=\"line\"> &#125; else &#123; </span><br><span class=\"line\"> res.setHeader(&quot;ETag&quot;, hash); </span><br><span class=\"line\"> res.writeHead(200, &quot;Ok&quot;); </span><br><span class=\"line\"> res.end(file); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n\n<p>HTTP1.0Expires:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var handle = function (req, res) &#123; </span><br><span class=\"line\"> fs.readFile(filename, function(err, file) &#123; </span><br><span class=\"line\"> var expires = new Date(); </span><br><span class=\"line\"> expires.setTime(expires.getTime() + 10 * 365 * 24 * 60 * 60 * 1000); </span><br><span class=\"line\"> res.setHeader(&quot;Expires&quot;, expires.toUTCString()); </span><br><span class=\"line\"> res.writeHead(200, &quot;Ok&quot;); </span><br><span class=\"line\"> res.end(file); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n<p>ExpiresGMT</p>\n<p>ExpiresCache-Control</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var handle = function (req, res) &#123; </span><br><span class=\"line\"> fs.readFile(filename, function(err, file) &#123; </span><br><span class=\"line\"> res.setHeader(&quot;Cache-Control&quot;, &quot;max-age=&quot; + 10 * 365 * 24 * 60 * 60 * 1000); </span><br><span class=\"line\"> res.writeHead(200, &quot;Ok&quot;); </span><br><span class=\"line\"> res.end(file); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>Cache-ControlCache-Controlpublicprivateno-cacheno-store</p>\n<p>HTTP1.0max-ageExpiresCache-Controlmax-ageExpires</p>\n<p>:</p>\n<ul>\n<li>Web<a href=\"http://url.com/?v=20130501%E3%80%82\">http://url.com/?v=20130501</a></li>\n<li>hash<a href=\"http://url.com/?hash=afadfadwe\">http://url.com/?hash=afadfadwe</a></li>\n</ul>\n<h6 id=\"Basic\"><a href=\"#Basic\" class=\"headerlink\" title=\"Basic\"></a>Basic</h6><p>HTTPSBasic</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>POST<br>Transfer-EncodingContent-Length</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var hasBody = function(req) &#123; </span><br><span class=\"line\"> return &#x27;transfer-encoding&#x27; in req.headers || &#x27;content-length&#x27; in req.headers; </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n<p>HTTP_Parserdata</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function (req, res) &#123; </span><br><span class=\"line\"> if (hasBody(req)) &#123; </span><br><span class=\"line\"> var buffers = []; </span><br><span class=\"line\"> req.on(&#x27;data&#x27;, function (chunk) &#123; </span><br><span class=\"line\"> buffers.push(chunk); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> req.on(&#x27;end&#x27;, function () &#123; </span><br><span class=\"line\"> req.rawBody = Buffer.concat(buffers).toString(); </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125; else &#123; </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125; </span><br></pre></td></tr></table></figure>\n<p>BufferBufferreq.rawBody</p>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var handle = function (req, res) &#123; </span><br><span class=\"line\"> if (req.headers[&#x27;content-type&#x27;] === &#x27;application/x-www-form-urlencoded&#x27;) &#123; </span><br><span class=\"line\"> req.body = querystring.parse(req.rawBody); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> todo(req, res); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">var mime = function (req) &#123; </span><br><span class=\"line\"> var str = req.headers[&#x27;content-type&#x27;] || &#x27;&#x27;; </span><br><span class=\"line\"> return str.split(&#x27;;&#x27;)[0]; </span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">var handle = function (req, res) &#123; </span><br><span class=\"line\"> if (mime(req) === &#x27;application/json&#x27;) &#123; </span><br><span class=\"line\"> try &#123; </span><br><span class=\"line\"> req.body = JSON.parse(req.rawBody); </span><br><span class=\"line\"> &#125; catch (e) &#123; </span><br><span class=\"line\"> // Bad request </span><br><span class=\"line\"> res.writeHead(400); </span><br><span class=\"line\"> res.end(&#x27;Invalid JSON&#x27;); </span><br><span class=\"line\"> return; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> todo(req, res); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n\n<p>XMLXMLJSONxml2js</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var xml2js = require(&#x27;xml2js&#x27;); </span><br><span class=\"line\">var handle = function (req, res) &#123; </span><br><span class=\"line\"> if (mime(req) === &#x27;application/xml&#x27;) &#123; </span><br><span class=\"line\"> xml2js.parseString(req.rawBody, function (err, xml) &#123; </span><br><span class=\"line\"> if (err) &#123; </span><br><span class=\"line\"> // Bad request </span><br><span class=\"line\"> res.writeHead(400); </span><br><span class=\"line\"> res.end(&#x27;Invalid XML&#x27;); </span><br><span class=\"line\"> return; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> req.body = xml; </span><br><span class=\"line\"> todo(req, res); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><em></em></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function (req, res) &#123; </span><br><span class=\"line\"> if (hasBody(req)) &#123; </span><br><span class=\"line\"> var done = function () &#123; </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\"> &#125;; </span><br><span class=\"line\"> if (mime(req) === &#x27;application/json&#x27;) &#123; </span><br><span class=\"line\"> parseJSON(req, done); </span><br><span class=\"line\"> &#125; else if (mime(req) === &#x27;application/xml&#x27;) &#123; </span><br><span class=\"line\"> parseXML(req, done); </span><br><span class=\"line\"> &#125; else if (mime(req) === &#x27;multipart/form-data&#x27;) &#123; </span><br><span class=\"line\"> parseMultipart(req, done); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; else &#123; </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125; </span><br></pre></td></tr></table></figure>\n\n<p>formidable</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var formidable = require(&#x27;formidable&#x27;); </span><br><span class=\"line\">function (req, res) &#123; </span><br><span class=\"line\"> if (hasBody(req)) &#123; </span><br><span class=\"line\"> if (mime(req) === &#x27;multipart/form-data&#x27;) &#123; </span><br><span class=\"line\"> var form = new formidable.IncomingForm(); </span><br><span class=\"line\"> form.parse(req, function(err, fields, files) &#123; </span><br><span class=\"line\"> req.body = fields; </span><br><span class=\"line\"> req.files = files; </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; else &#123; </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125; </span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><br></p>\n<ul>\n<li>400</li>\n<li>Node</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var bytes = 1024; </span><br><span class=\"line\">function (req, res) &#123; </span><br><span class=\"line\"> var received = 0, </span><br><span class=\"line\"> var len = req.headers[&#x27;content-length&#x27;] ? parseInt(req.headers[&#x27;content-length&#x27;], 10) : null; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> if (len &amp;&amp; len &gt; bytes) &#123; </span><br><span class=\"line\"> res.writeHead(413); </span><br><span class=\"line\"> res.end(); </span><br><span class=\"line\"> return; </span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">  // limit </span><br><span class=\"line\"> req.on(&#x27;data&#x27;, function (chunk) &#123; </span><br><span class=\"line\"> received += chunk.length; </span><br><span class=\"line\"> if (received &gt; bytes) &#123; </span><br><span class=\"line\"> // end() </span><br><span class=\"line\"> req.destroy(); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n\n<p>CSRF<br>CSRFCross-Site Request Forgery</p>\n<p>CSRF</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var generateRandom = function(len) &#123; </span><br><span class=\"line\"> return crypto.randomBytes(Math.ceil(len * 3 / 4)) </span><br><span class=\"line\"> .toString(&#x27;base64&#x27;) </span><br><span class=\"line\"> .slice(0, len); </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p>MVC<br>MVC</p>\n<ul>\n<li>Controller</li>\n<li>Model</li>\n<li>View</li>\n</ul>\n<p><img src=\"/nodejs/images/mvc.png\" alt=\"MVC\"><br></p>\n<ul>\n<li>URL</li>\n<li></li>\n<li></li>\n</ul>\n<p>URL<br><br><br>URL</p>\n<p>URL</p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p>PHPMVCCodeIgniterNodeURL</p>\n<p><em>RESTful</em><br>RESTRepresentational State TransferRESTRESTfulURL</p>\n<p>RESTfulMVCMVCRESTfulHTTPURL</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><img src=\"/nodejs/images/middle.png\" alt=\"\"></p>\n<p><em></em></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var handle = function (req, res, stack) &#123; </span><br><span class=\"line\"> var next = function (err) &#123; </span><br><span class=\"line\"> if (err) &#123; </span><br><span class=\"line\"> return handle500(err, req, res, stack); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> // stack</span><br><span class=\"line\"> var middleware = stack.shift(); </span><br><span class=\"line\"> if (middleware) &#123; </span><br><span class=\"line\"> // next()</span><br><span class=\"line\"> try &#123; </span><br><span class=\"line\"> middleware(req, res, next); </span><br><span class=\"line\"> &#125; catch (ex) &#123; </span><br><span class=\"line\"> next(err); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125;; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> next(); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n\n<p><em></em><br></p>\n<ul>\n<li>jsperf.com</li>\n<li></li>\n<li>HTTPGET</li>\n</ul>\n<p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em></p>\n<ul>\n<li>MIME: Content-TypeMIME<br>MIMEMultipurpose Internet Mail ExtensionsMIMEJSONapplication/jsonXMLapplication/xmlPDFapplication/pdf<br>MIMEmime<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var mime = require(&#x27;mime&#x27;); </span><br><span class=\"line\">mime.lookup(&#x27;/path/to/file.txt&#x27;); // =&gt; &#x27;text/plain&#x27; </span><br><span class=\"line\">mime.lookup(&#x27;file.txt&#x27;); // =&gt; &#x27;text/plain&#x27; </span><br><span class=\"line\">mime.lookup(&#x27;.TXT&#x27;); // =&gt; &#x27;text/plain&#x27; </span><br><span class=\"line\">mime.lookup(&#x27;htm&#x27;); // =&gt; &#x27;text/html&#x27; </span><br></pre></td></tr></table></figure>\nMIMEContent-Type<br>Content-Type: text/javascript; charset=utf-8 </li>\n<li><br>Content-DispositioninlineattachmentContent-Disposition</li>\n<li>JSON</li>\n<li></li>\n</ul>\n<p><em></em><br></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var cache = &#123;&#125;; </span><br><span class=\"line\">var VIEW_FOLDER = &#x27;/path/to/wwwroot/views&#x27;; </span><br><span class=\"line\">res.render = function (viewname, data) &#123; </span><br><span class=\"line\"> if (!cache[viewname]) &#123; </span><br><span class=\"line\"> var text; </span><br><span class=\"line\"> try &#123; </span><br><span class=\"line\"> text = fs.readFileSync(path.join(VIEW_FOLDER, viewname), &#x27;utf8&#x27;); </span><br><span class=\"line\"> &#125; catch (e) &#123; </span><br><span class=\"line\">  res.writeHead(500, &#123;&#x27;Content-Type&#x27;: &#x27;text/html&#x27;&#125;); </span><br><span class=\"line\"> res.end(&#x27;&#x27;); </span><br><span class=\"line\"> return; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> cache[viewname] = complie(text); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> var complied = cache[viewname]; </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/html&#x27;&#125;); </span><br><span class=\"line\"> var html = complied(data); </span><br><span class=\"line\"> res.end(html); </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Bigpipe</strong><br>Bigpipepagelet</p>\n<p>Bigpipe</p>\n<ul>\n<li></li>\n<li></li>\n<li><br><img src=\"/nodejs/images/bigpipe.png\" alt=\"bigpipe\"><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var cache = &#123;&#125;; </span><br><span class=\"line\">var layout = &#x27;layout.html&#x27;; </span><br><span class=\"line\">app.get(&#x27;/profile&#x27;, function (req, res) &#123; </span><br><span class=\"line\"> if (!cache[layout]) &#123; </span><br><span class=\"line\"> cache[layout] = fs.readFileSync(path.join(VIEW_FOLDER, layout), &#x27;utf8&#x27;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/html&#x27;&#125;); </span><br><span class=\"line\"> res.write(render(complie(cache[layout]))); </span><br><span class=\"line\"> // TODO </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">app.get(&#x27;/profile&#x27;, function (req, res) &#123; </span><br><span class=\"line\"> if (!cache[layout]) &#123; </span><br><span class=\"line\"> cache[layout] = fs.readFileSync(path.join(VIEW_FOLDER, layout), &#x27;utf8&#x27;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/html&#x27;&#125;); </span><br><span class=\"line\"> res.write(render(complie(cache[layout]))); </span><br><span class=\"line\"> ep.all(&#x27;users&#x27;, &#x27;articles&#x27;, function () &#123; </span><br><span class=\"line\"> res.end(); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> ep.fail(function (err) &#123; </span><br><span class=\"line\"> res.end(); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> db.getData(&#x27;sql1&#x27;, function (err, data) &#123; </span><br><span class=\"line\"> data = err ? &#123;&#125; : data; </span><br><span class=\"line\"> res.write(&#x27;&lt;script&gt;bigpipe.set(&quot;articles&quot;, &#x27; + JSON.stringify(data) + &#x27;);&lt;/script&gt;&#x27;; </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> db.getData(&#x27;sql2&#x27;, function (err, data) &#123; </span><br><span class=\"line\"> data = err ? &#123;&#125; : data; </span><br><span class=\"line\"> res.write(&#x27;&lt;script&gt;bigpipe.set(&quot;copyright&quot;, &#x27; + JSON.stringify(data) + &#x27;);&lt;/script&gt;&#x27;; </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">var Bigpipe = function () &#123; </span><br><span class=\"line\"> this.callbacks = &#123;&#125;; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">Bigpipe.prototype.ready = function (key, callback) &#123; </span><br><span class=\"line\"> if (!this.callbacks[key]) &#123; </span><br><span class=\"line\"> this.callbacks[key] = []; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> this.callbacks[key].push(callback); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">Bigpipe.prototype.set = function (key, data) &#123; </span><br><span class=\"line\"> var callbacks = this.callbacks[key] || []; </span><br><span class=\"line\"> for (var i = 0; i &lt; callbacks.length; i++) &#123; </span><br><span class=\"line\"> callbacks[i].call(this, data); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\nBigpipe</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br><br>NQPS1/N</p>\n<p><em></em><br>100100<br>prefork<br>MQPSM/N</p>\n<p><em></em><br>CPUCPUCPU<br>1/LQPSM * L/N</p>\n<p><em></em><br>CPU</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>CPUCPUNodechild_processchild_process.fork()</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// worker.js</span><br><span class=\"line\">var http = require(&#x27;http&#x27;); </span><br><span class=\"line\">http.createServer(function (req, res) &#123; </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/plain&#x27;&#125;); </span><br><span class=\"line\"> res.end(&#x27;Hello World\\n&#x27;); </span><br><span class=\"line\">&#125;).listen(Math.round((1 + Math.random()) * 1000), &#x27;127.0.0.1&#x27;); </span><br><span class=\"line\"></span><br><span class=\"line\">var fork = require(&#x27;child_process&#x27;).fork; </span><br><span class=\"line\">var cpus = require(&#x27;os&#x27;).cpus(); </span><br><span class=\"line\">for (var i = 0; i &lt; cpus.length; i++) &#123; </span><br><span class=\"line\"> fork(&#x27;./worker.js&#x27;); </span><br><span class=\"line\">&#125; </span><br></pre></td></tr></table></figure>\n<p><img src=\"/nodejs/images/master-slave.png\" alt=\"\"><br>Master-Worker</p>\n<p><em>fork()V83010 MBNodefork()CPUfork()</em></p>\n<p><em></em><br>child_processNodechild_process4</p>\n<ul>\n<li>spawn()</li>\n<li>exec()spawn()<br></li>\n<li>execFile()</li>\n<li>fork()spawn()NodeJavaScript<br><br>spawn()exec()execFile()timeout<br>exec()execFile()exec()execFile()</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var cp = require(&#x27;child_process&#x27;); </span><br><span class=\"line\">cp.spawn(&#x27;node&#x27;, [&#x27;worker.js&#x27;]); </span><br><span class=\"line\">cp.exec(&#x27;node worker.js&#x27;, function (err, stdout, stderr) &#123; </span><br><span class=\"line\"> // some code </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">cp.execFile(&#x27;worker.js&#x27;, function (err, stdout, stderr) &#123; </span><br><span class=\"line\"> // some code </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">cp.fork(&#x27;./worker.js&#x27;);</span><br></pre></td></tr></table></figure>\n<p><img src=\"/nodejs/images/fork.png\" alt=\"fork\"></p>\n<p><em></em><br>fork()APIIPCIPCmessagesend()</p>\n<ul>\n<li><br>IPCInter-Process CommunicationsocketDomain SocketNodeIPCpipe<br><img src=\"/nodejs/images/pipe.png\" alt=\"pipe\"><br>IPCNODE_CHANNEL_FDIPCIPC<br><img src=\"/nodejs/images/pipe-1.png\" alt=\"pipe\"></li>\n</ul>\n<p><em></em><br></p>\n<p>child.send(message, [sendHandle])<br>socketsocketUDP</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var child = require(&#x27;child_process&#x27;).fork(&#x27;child.js&#x27;); </span><br><span class=\"line\">// Open up the server object and send the handle </span><br><span class=\"line\">var server = require(&#x27;net&#x27;).createServer(); </span><br><span class=\"line\">server.on(&#x27;connection&#x27;, function (socket) &#123; </span><br><span class=\"line\"> socket.end(&#x27;handled by parent\\n&#x27;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">server.listen(1337, function () &#123; </span><br><span class=\"line\"> child.send(&#x27;server&#x27;, server); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br><span class=\"line\">process.on(&#x27;message&#x27;, function (m, server) &#123; </span><br><span class=\"line\"> if (m === &#x27;server&#x27;) &#123; </span><br><span class=\"line\"> server.on(&#x27;connection&#x27;, function (socket) &#123; </span><br><span class=\"line\"> socket.end(&#x27;handled by child\\n&#x27;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p><img src=\"/nodejs/images/pipe-2.png\" alt=\"pipe\"><br><br><img src=\"/nodejs/images/pipe-3.png\" alt=\"pipe\"></p>\n<p><br>send()</p>\n<ul>\n<li>net.SocketTCP</li>\n<li>net.ServerTCPTCP</li>\n<li>net.NativeC++TCPIPC</li>\n<li>dgram.SocketUDP</li>\n<li>dgram.NativeC++UDP<br>send()IPChandlemessagemessage<br>{<br>cmd: NODE_HANDLE,<br>type: net.Server,<br>msg: message<br>} </li>\n</ul>\n<p>IPCJSON.parse()messagemessage.cmdNODE_internalMessagemessage.cmdNODE_HANDLEmessage.type<br><img src=\"/nodejs/images/pipe-4.png\" alt=\"pipe\"></p>\n<p>Node</p>\n<p><br></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br>messageNode</p>\n<ul>\n<li>error</li>\n<li>exitnullkill()</li>\n<li>closeexit</li>\n<li>disconnectdisconnect()IPC</li>\n</ul>\n<p>kill -l</p>\n<p><em></em></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// master.js </span><br><span class=\"line\">var fork = require(&#x27;child_process&#x27;).fork; </span><br><span class=\"line\">var cpus = require(&#x27;os&#x27;).cpus(); </span><br><span class=\"line\">var server = require(&#x27;net&#x27;).createServer(); </span><br><span class=\"line\">server.listen(1337); </span><br><span class=\"line\">var workers = &#123;&#125;; </span><br><span class=\"line\">var createWorker = function () &#123; </span><br><span class=\"line\"> var worker = fork(__dirname + &#x27;/worker.js&#x27;); </span><br><span class=\"line\"> // </span><br><span class=\"line\"> worker.on(&#x27;exit&#x27;, function () &#123; </span><br><span class=\"line\"> console.log(&#x27;Worker &#x27; + worker.pid + &#x27; exited.&#x27;); </span><br><span class=\"line\"> delete workers[worker.pid]; </span><br><span class=\"line\"> createWorker(); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> // </span><br><span class=\"line\"> worker.send(&#x27;server&#x27;, server); </span><br><span class=\"line\"> workers[worker.pid] = worker; </span><br><span class=\"line\"> console.log(&#x27;Create worker. pid: &#x27; + worker.pid); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">for (var i = 0; i &lt; cpus.length; i++) &#123; </span><br><span class=\"line\"> createWorker(); </span><br><span class=\"line\">&#125; </span><br><span class=\"line\">// </span><br><span class=\"line\">process.on(&#x27;exit&#x27;, function () &#123; </span><br><span class=\"line\"> for (var pid in workers) &#123; </span><br><span class=\"line\"> workers[pid].kill(); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">// worker.js </span><br><span class=\"line\">var http = require(&#x27;http&#x27;); </span><br><span class=\"line\">var server = http.createServer(function (req, res) &#123; </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/plain&#x27;&#125;); </span><br><span class=\"line\"> res.end(&#x27;handled by child, pid is &#x27; + process.pid + &#x27;\\n&#x27;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">var worker; </span><br><span class=\"line\">process.on(&#x27;message&#x27;, function (m, tcp) &#123; </span><br><span class=\"line\"> if (m === &#x27;server&#x27;) &#123; </span><br><span class=\"line\"> worker = tcp; </span><br><span class=\"line\"> worker.on(&#x27;connection&#x27;, function (socket) &#123; </span><br><span class=\"line\">  server.emit(&#x27;connection&#x27;, socket); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">process.on(&#x27;uncaughtException&#x27;, function () &#123; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> worker.close(function () &#123; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> process.exit(1); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\n<p><em></em></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// </span><br><span class=\"line\">var limit = 10; </span><br><span class=\"line\">// </span><br><span class=\"line\">var during = 60000; </span><br><span class=\"line\">var restart = []; </span><br><span class=\"line\">var isTooFrequently = function () &#123; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> var time = Date.now(); </span><br><span class=\"line\"> var length = restart.push(time); </span><br><span class=\"line\"> if (length &gt; limit) &#123; </span><br><span class=\"line\"> // 10</span><br><span class=\"line\"> restart = restart.slice(limit * -1); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> // 10</span><br><span class=\"line\"> return restart.length &gt;= limit &amp;&amp; restart[restart.length - 1] - restart[0] &lt; during; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">var workers = &#123;&#125;; </span><br><span class=\"line\">var createWorker = function () &#123; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> if (isTooFrequently()) &#123; </span><br><span class=\"line\"> // giveup</span><br><span class=\"line\"> process.emit(&#x27;giveup&#x27;, length, during); </span><br><span class=\"line\"> return; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> var worker = fork(__dirname + &#x27;/worker.js&#x27;); </span><br><span class=\"line\"> worker.on(&#x27;exit&#x27;, function () &#123; </span><br><span class=\"line\"> console.log(&#x27;Worker &#x27; + worker.pid + &#x27; exited.&#x27;); </span><br><span class=\"line\"> delete workers[worker.pid]; </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> // </span><br><span class=\"line\"> worker.on(&#x27;message&#x27;, function (message) &#123; </span><br><span class=\"line\"> if (message.act === &#x27;suicide&#x27;) &#123; </span><br><span class=\"line\"> createWorker(); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> // </span><br><span class=\"line\"> worker.send(&#x27;server&#x27;, server); </span><br><span class=\"line\"> workers[worker.pid] = worker; </span><br><span class=\"line\"> console.log(&#x27;Create worker. pid: &#x27; + worker.pid); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n\n<p><em></em><br>CPU,</p>\n<p>Node</p>\n<p>NodeCPUI/OCPUI/OCPU</p>\n<p>  Node v0.11Round-RobinNi = (i + 1) mod n</p>\n<p><em></em></p>\n<ul>\n<li><br><br><br><br><img src=\"/nodejs/images/loop.png\" alt=\"\"></li>\n<li><br><br><img src=\"/nodejs/images/loop-1.png\" alt=\"\"><br>TCPUDP</li>\n</ul>\n<h6 id=\"Cluster-\"><a href=\"#Cluster-\" class=\"headerlink\" title=\"Cluster \"></a>Cluster </h6><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// cluster.js </span><br><span class=\"line\">var cluster = require(&#x27;cluster&#x27;); </span><br><span class=\"line\">cluster.setupMaster(&#123; </span><br><span class=\"line\"> exec: &quot;worker.js&quot; </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">var cpus = require(&#x27;os&#x27;).cpus(); </span><br><span class=\"line\">for (var i = 0; i &lt; cpus.length; i++) &#123; </span><br><span class=\"line\"> cluster.fork(); </span><br><span class=\"line\">&#125; </span><br><span class=\"line\"></span><br><span class=\"line\">var cluster = require(&#x27;cluster&#x27;); </span><br><span class=\"line\">var http = require(&#x27;http&#x27;); </span><br><span class=\"line\">var numCPUs = require(&#x27;os&#x27;).cpus().length; </span><br><span class=\"line\">if (cluster.isMaster) &#123; </span><br><span class=\"line\"> // Fork workers </span><br><span class=\"line\"> for (var i = 0; i &lt; numCPUs; i++) &#123; </span><br><span class=\"line\"> cluster.fork(); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> cluster.on(&#x27;exit&#x27;, function(worker, code, signal) &#123; </span><br><span class=\"line\"> console.log(&#x27;worker &#x27; + worker.process.pid + &#x27; died&#x27;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125; else &#123; </span><br><span class=\"line\"> // Workers can share any TCP connection </span><br><span class=\"line\"> // In this case its a HTTP server </span><br><span class=\"line\"> http.createServer(function(req, res) &#123; </span><br><span class=\"line\"> res.writeHead(200); </span><br><span class=\"line\"> res.end(&quot;hello world\\n&quot;); </span><br><span class=\"line\"> &#125;).listen(8000); </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>NODE_UNIQUE_ID</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cluster.isWorker = (&#x27;NODE_UNIQUE_ID&#x27; in process.env); </span><br><span class=\"line\">cluster.isMaster = (cluster.isWorker === false); </span><br></pre></td></tr></table></figure>\n<p>cluster.isMastercluster.isWorkercluster.setupMaster()API</p>\n<p>cluster.setupMaster()cluster.fork()</p>\n<p><em>Cluster </em><br>clusterchild_processnet</p>\n<p><em>Cluster </em></p>\n<ul>\n<li>fork</li>\n<li>onlineonline</li>\n<li>listeninglisten()Socketlistening</li>\n<li>disconnectIPC</li>\n<li>exit</li>\n<li>setupcluster.setupMaster()</li>\n</ul>\n"},{"title":"nodejs(3)","date":"2022-11-26T12:36:45.000Z","tags":["node","docs"],"_content":"\n#### \n- V8 \n  - V8JavaScript\n  - V8V8V8V8\n  - Node--max-old-space-size--max-new-space-size\n\n- V8 \n  - V8\n    - V8\n    - V8V8\n    - V8--max-old-space-size-max-new-space-sizeV8\n    - 64321.4 GB0.7 GB\n    - 643232 MB16 MB\n  - Scavenge\n    - ScavengeScavengeCheney\n    - CheneysemispacesemispacesemispaceFromToFromFromToFromTosemispace\n    - ScavengeFromToFromToFromToScavengeTo\n    - ![](./images/v8-promot.png)\n    - ![](./images/v8-promot2.png)\n  - Mark-Sweep & Mark-Compact\n    - V8Mark-SweepMark-CompactMark-SweepScavengeMark-SweepScavengeMark-Sweep\n    - Mark-Sweep\n    - Mark-CompactMark-CompactMark-Sweep\n    - ![](./images/sweep-compact.png)\n    - ![](./images/collect-diff.png)\n    - V8Mark-SweepMark-Compact\n  - Incremental Marking\n    - 3stop-the-worldV8V8full \n    - V8incremental markingJavaScript\n    - ![](./images/increase-target.png)\n  - \n    - --trace_gc\n    - Node--profV8\n###### \n- \n  - \n  - \n  - \n- \n  - closure\n- : process.memoryUsage()ostotalmem()freemem()\n  - \n    - \n```javascript\n$ node \n> process.memoryUsage() \n{ rss: 13852672, \n heapTotal: 6131200, \n heapUsed: 2757120 } \n```\n    - rssresident set sizerssswapfilesystemrssheapTotalheapUsedV8heapTotalheapUsed3\n  - 2. \n    - process.memoryUsage()ostotalmem()freemem()\n\n- : V8\n  - BufferV8\n```\nvar useMem = function () { \n var size = 200 * 1024 * 1024; \n var buffer = new Buffer(size); \n for (var i = 0; i < size; i++) { \n buffer[i] = 0; \n } \n return buffer; \n}; \n```\n###### \nNode\n\n\n  - \n    - Node\n    - \n  - \n    - \n      - \n      - LRUhttps://github.com/isaacs/node-lru-cache\n    - \n      - \n        - (1) \n        - (2) \n        - Redishttps://github.com/mranney/node_redis\n        - Memcachedhttps://github.com/3rd-Eden/node-memcached\n  - \n    - \n    - \n  - \n\n###### \n\n- v8-profiler\n- node-heapdump\n```\nvar leakArray = []; \nvar leak = function () { \n leakArray.push(\"leak\" + Math.random()); \n}; \nhttp.createServer(function (req, res) { \n leak(); \n res.writeHead(200, {'Content-Type': 'text/plain'}); \n res.end('Hello World\\n'); \n}).listen(1337); \nconsole.log('Server running at http://127.0.0.1:1337/'); \n```\n- node-mtrace\n- dtrace\n- node-memwatch\n```\nvar memwatch = require('memwatch'); \nmemwatch.on('leak', function (info) { \n console.log('leak:'); \n console.log(info); \n}); \nmemwatch.on('stats', function (stats) { \n console.log('stats:') \n console.log(stats); \n}); \nvar http = require('http'); \nvar leakArray = []; \nvar leak = function () { \n leakArray.push(\"leak\" + Math.random()); \n}; \nhttp.createServer(function (req, res) { \n leak(); \n res.writeHead(200, {'Content-Type': 'text/plain'}); \n res.end('Hello World\\n'); \n}).listen(1337); \nconsole.log('Server running at http://127.0.0.1:1337/'); \n```\n  - stats\n    - stats\n```\nstats: \n{ num_full_gc: 4, // \n num_inc_gc: 23, // \n heap_compactions: 4, // \n usage_trend: 0, // \n estimated_base: 7152944, // \n current_base: 7152944, // \n min: 6720776, // \n max: 7152944 } // \nnum_full_gcnum_inc_gc\n```\n  - leak\n    - 5node-memwatchleak\n  - \n```\nvar memwatch = require('memwatch'); \nvar leakArray = []; \nvar leak = function () { \n leakArray.push(\"leak\" + Math.random()); \n}; \n// Take first snapshot \nvar hd = new memwatch.HeapDiff(); \nfor (var i = 0; i < 10000; i++) { \n leak(); \n} \n// Take the second snapshot and compute the diff \nvar diff = hd.end(); \nconsole.log(JSON.stringify(diff, null, 2));\n```\n\n###### \nstreamstreamNodestreamEventEmitter\n\nV8fs.readFile()fs.writeFile()fs.createReadStream()fs.createWriteStream()\n```\nvar reader = fs.createReadStream('in.txt'); \nvar writer = fs.createWriteStream('out.txt'); \nreader.pipe(writer); \n```\n\n#### Buffer\nBufferArray\n\n- \n  - BufferJavaScriptC++C++JavaScript\n  - ![buffer](./images/buffer.png)\n  - BufferNodeglobalBufferrequire()\n- Buffer\n  - Buffer160255\n  - 025602552552560~255\n```\nbuf[20] = -100; \nconsole.log(buf[20]); // 156 \nbuf[21] = 300; \nconsole.log(buf[21]); // 44 \nbuf[22] = 3.1415; \nconsole.log(buf[22]); // 3 \n```\n- Buffer\n  - BufferV8NodeC++\n  - NodeC++JavaScript\n  - Nodeslab,\n    - full\n    - partial\n    - empty\n  - Node8 KBBuffer,8 KBslabJavaScript\n    - Buffer\n      - Buffer8 KBNodeBufferpoolslab\n      - ![buffer](./images/buffer-1.png)\n      - Bufferslabslab\n      - ![buffer](./images/buffer-2.png)\n      - slabslabslab\n      - ![buffer](./images/buffer-3.png)\n      - slabBufferBufferslab8 KB1Buffer8 KB\n    - Buffer\n      - 8 KBBufferSlowBufferslabslabBuffer\n\n###### Buffer \nBuffer,:\n- ASCII\n- UTF-8\n- UTF-16LE/UCS-2\n- Base64\n- Binary\n- Hex\n\n- Buffer\n  - Buffernew Buffer(str, [encoding]);\n  - BufferencodingUTF-8\n  - Buffer\n- Buffer\n  - BufferBuffertoString()Bufferbuf.toString([encoding], [start], [end]) \n  - encodingUTF-8startend3Buffer\n- Buffer\n  - BufferisEncoding()Buffer.isEncoding(encoding)\n  - GBKGB2312BIG-5\n  - Nodeiconviconv-liteWindows 125ISO-8859IBM/DOSMacintoshKOI8Latin1US-ASCIIGBKGB2312\n\n###### Buffer \n```\nvar fs = require('fs'); \nvar rs = fs.createReadStream('test.md'); \nvar data = ''; \nrs.on(\"data\", function (chunk){ \n data += chunk; \n}); \nrs.on(\"end\", function () { \n console.log(data); \n}); \n```\n- Buffer\n- setEncoding()string_decoder()\n  - setEncodingdataBuffer\n  - string_decoderUTF-8Base64UCS-2/UTF-16LE3setEncoding()\n- Buffer\n```\nvar chunks = []; \nvar size = 0; \nres.on('data', function (chunk) { \n chunks.push(chunk); \n size += chunk.length; \n}); \nres.on('end', function () { \n   var buf = Buffer.concat(chunks, size); \n var str = iconv.decode(buf, 'utf8'); \n console.log(str); \n});\n```\n  - BufferBuffer.concat()Buffer\n  - Buffer.concat()BufferBuffer\n```\nBuffer.concat = function(list, length) { \n if (!Array.isArray(list)) { \n throw new Error('Usage: Buffer.concat(list, [length])'); \n } \n if (list.length === 0) { \n return new Buffer(0); \n } else if (list.length === 1) { \n return list[0]; \n } \n if (typeof length !== 'number') { \n length = 0; \n for (var i = 0; i < list.length; i++) { \n var buf = list[i]; \n length += buf.length; \n } \n } \n var buffer = new Buffer(length); \n var pos = 0; \n for (var i = 0; i < list.length; i++) { \n var buf = list[i]; \n buf.copy(buffer, pos); \n pos += buf.length; \n } \n return buffer; \n}; \n```\n###### Buffer \nBufferCPUNodeWebBufferBuffer\n- \n  - highWaterMark\n    - highWaterMark\n      - highWaterMarkBuffer\n      - highWaterMark\n    - highWaterMark\n\n#### \nNodenetdgramhttphttps4TCPUDPHTTPHTTPS\n\n-  TCP \n  - TCP\n    - TCPOSITCPHTTPSMTPIMAP\n    - ![](./images/net-1.png)\n    - TCP3\n    - ![](./images/net-2.png)\n  - TCP\n```\nvar net = require('net'); \nvar server = net.createServer(function (socket) { \n // \n socket.on('data', function (data) { \n socket.write(\"\"); \n }); \n socket.on('end', function () { \n console.log(''); \n }); \n socket.write(\"Node.js\\n\"); \n}); \nserver.listen(8124, function () { \n console.log('server bound'); \n});\n```\n  - TCP\n    - \n      - listeningserver.listen()Domain Socketserver.listen(port,listeningListener)listen()\n      - connectionnet.create\u0002Server()\n      - closeserver.close()\n      - errorerror\n    - \n      - datawrite()datawrite()\n      - endFIN\n      - connect\n      - drainwrite()\n      - error\n      - close\n      - timeout\n    - TCPNagleNagleNagle\n    - NodeTCPNaglesocket.setNoDelay(true)Naglewrite()\n    - write()datawrite()dataNagledata\n######  UDP \nUDPTCPUDPTCPUDPTCPTCPUDPUDPUDPDNS\n- UDP\n  - UDPUDP\n  - var dgram = require('dgram'); var socket = dgram.createSocket(\"udp4\");\n- UDP\n  - UDPdgram.bind(port, [address])\n```\nvar dgram = require(\"dgram\"); \nvar server = dgram.createSocket(\"udp4\"); \nserver.on(\"message\", function (msg, rinfo) { \n console.log(\"server got: \" + msg + \" from \" + \n rinfo.address + \":\" + rinfo.port); \n}); \nserver.on(\"listening\", function () { \n var address = server.address();\n console.log(\"server listening \" + \n address.address + \":\" + address.port); \n}); \nserver.bind(41234);\n```\n- UDP\n```\nvar dgram = require('dgram'); \nvar message = new Buffer(\"Node.js\"); \nvar client = dgram.createSocket(\"udp4\"); \nclient.send(message, 0, message.length, 41234, \"localhost\", function(err, bytes) { \n client.close(); \n}); \n\nsocket.send(buf, offset, length, port, address, [callback])\n// BufferBufferBuffer\n```\n- UDP\n  - UDPTCPEventEmitterStream\n    - messageUDPBuffer\n    - listeningUDP\n    - closeclose()messagemessage\n    - error\n\n######  HTTP \n- HTTP\n  - HTTP\n    - HTTPHyperText Transfer Protocol\n    - HTTPTCPHTTPB/SWebHTTP\n    - HTTPW3CIETFRFCHTTPRFC 2616\n  -  HTTP\n```\n$ curl -v http://127.0.0.1:1337 \n* About to connect() to 127.0.0.1 port 1337 (#0) \n* Trying 127.0.0.1... \n* connected \n* Connected to 127.0.0.1 (127.0.0.1) port 1337 (#0) \n> GET / HTTP/1.1 \n> User-Agent: curl/7.24.0 (x86_64-apple-darwin12.0) libcurl/7.24.0 OpenSSL/0.9.8r zlib/1.2.5 \n> Host: 127.0.0.1:1337 \n> Accept: */* \n> \n< HTTP/1.1 200 OK \n< Content-Type: text/plain \n< Date: Sat, 06 Apr 2013 08:01:44 GMT \n< Connection: keep-alive \n< Transfer-Encoding: chunked \n< \nHello World\n* Connection #0 to host 127.0.0.1 left intact \n* Closing connection #0\n```\n    - HTTPHTTPHTTP\n  - http\n    - NodeHTTPTCPnetHTTPTCPkeepaliveTCPTCPconnectionHTTPrequest\n    - ![http](./images/net-3.png)\n    - httpServerRequestServerResponsehttphttp_parserrequest\n    - ![http](./images/net-4.png)\n      - HTTP\n        - connectionHTTPTCPkeep-aliveconnection\n        - requestTCPhttpHTTPHTTPHTTPres.end()TCP\n        - closeTCPserver.close()server.close()\n        - checkContinueExpect: 100-continuecheckContinue100 Continue400 Bad Requestrequest100 Continuerequest\n        - connectCONNECTCONNECTHTTP\n        - upgradeUpgradeWebSocket\n        - clientErrorerror\n###### HTTP\nhttpAPIhttp.request(options, connect)HTTP\n```\nvar options = { \n hostname: '127.0.0.1', \n port: 1334, \n path: '/', \n method: 'GET' \n}; \nvar req = http.request(options, function(res) { \n console.log('STATUS: ' + res.statusCode); \n console.log('HEADERS: ' + JSON.stringify(res.headers)); \n res.setEncoding('utf8'); \n res.on('data', function (chunk) { \n console.log(chunk); \n }); \n}); \nreq.end();\n```\nHTTP:\n- hostIPlocalhost\n- hostname\n- port80\n- localAddress\n- socketPathDomain\n- methodHTTPGET\n- path/\n- headers\n- authBasicAuthorization\n\n\n- HTTP\n  - HTTPClientRequestresponseClientRequestresponseClientResponse\n```\nfunction(res) { \n console.log('STATUS: ' + res.statusCode); \n console.log('HEADERS: ' + JSON.stringify(res.headers)); \n res.setEncoding('utf8'); \n res.on('data', function (chunk) { \n console.log(chunk); \n }); \n}\n```\n- HTTP \n  - httpClientRequestTCPkeepaliveTCPhttphttp.globalAgenthost + portClientRequestHTTP5\n  - ![http](./images/http.png)\n  - HTTP10HTTP5\n  - ClientRequestHTTPoptionsagent5\n```\nvar agent = new http.Agent({ \n maxSockets: 10 \n}); \nvar options = { \n hostname: '127.0.0.1', \n port: 1334, \n path: '/', \n method: 'GET', \n agent: agent \n}; \n```\n  - agentfalse\n- HTTP\n  - responserequest\n  - socket\n  - connectCONNECT200\n  - upgradeUpgrade101 Switching Protocols\n  - continueExpect: 100-continue100 Continue\n\n######  WebSocket \n- WebSocketNode\n- WebSocketNode\n\nwebsockethttp\n- TCP\n- WebSocketHTTP\n- \n\n```\nvar socket = new WebSocket('ws://127.0.0.1:12010/updates'); \nsocket.onopen = function () { \n setInterval(function() { \n if (socket.bufferedAmount == 0) \n socket.send(getUpdateData()); \n }, 50); \n}; \nsocket.onmessage = function (event) { \n // TODOevent.data \n};\n```\n\nWebSocketCometCometlong-pollingiframeres.end()Comet\n\n- WebSocket\n```\nGET /chat HTTP/1.1 \nHost: server.example.com \nUpgrade: websocket \nConnection: Upgrade \nSec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ== \nSec-WebSocket-Protocol: chat, superchat \nSec-WebSocket-Version: 13 \n```\n  - Upgrade/ConnectionWebSocketSec-WebSocket-Key\n  - Sec-WebSocket-KeyBase64258EAFA5-E914-47DA-95CA-C5AB0DC85B11dGhlIHNhbXBsZSBub25jZQ==258EAFA5-E914-47DA-95CA-C5AB0DC85B11sha1Base64\n  - \n```\nHTTP/1.1 101 Switching Protocols \nUpgrade: websocket \nConnection: Upgrade \nSec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK+xOo= \nSec-WebSocket-Protocol: chat\n```\n\n###### WebSocket\n![websocket](./images/websocket.png)\n```\nWebSocket.prototype.setSocket = function (socket) { \n this.socket = socket; \n this.socket.on('data', this.receiver); \n}; \n\nWebSocket.prototype.send = function (data) { \n this._send(data); \n}; \n```\n  - \n  - ![websocket](./images/websocket-1.png)\n  - finfin10\n  - rsv1rsv2rsv31310\n  - opcode401501289ping10pongpingpongpingpong\n  - masked110\n  - payload length77+167+640~1251261612764\n  - masking keymasked132\n  - payload data8\n\nnodewebsocket\n- \n- JavaScriptWebSocketAPI\n\n###### \nNode3cryptotlshttpscryptotlsnetTLS/SSLTCPhttpshttp\n  - TLS/SSL\n    - \n      - TLS/SSL/\n      - ![TLS/SSL](./images/tls-ssl.png)\n      - NodeopensslTLS/SSLopenssl\n```\n# \n// \n$ openssl genrsa -out server.key 1024 \n// \n$ openssl genrsa -out client.key 1024\n\n#\n$ openssl rsa -in server.key -pubout -out server.pem \n$ openssl rsa -in client.key -pubout -out client.pem \n```\n      - TLS/SSL\n    - \n      - CACertificate AuthorityCACA\n      - CACA\n```\n$ openssl genrsa -out ca.key 1024 \n$ openssl req -new -key ca.key -out ca.csr \n$ openssl x509 -req -in ca.csr -signkey ca.key -out ca.crt\n```\n      - ![CA](./images/ca.png)\n      - ![CA](./images/ca-1.png)\n\n###### TLS\n- \n```\nvar tls = require('tls'); \nvar fs = require('fs'); \nvar options = { \n key: fs.readFileSync('./keys/server.key'), \n cert: fs.readFileSync('./keys/server.crt'), \n requestCert: true, \n ca: [ fs.readFileSync('./keys/ca.crt') ] \n}; \nvar server = tls.createServer(options, function (stream) { \n console.log('server connected', stream.authorized ? 'authorized' : 'unauthorized'); \n stream.write(\"welcome!\\n\"); \n stream.setEncoding('utf8'); \n stream.pipe(stream); \n}); \nserver.listen(8000, function() {\n  console.log('server bound'); \n}); \n\n# \n$ openssl s_client -connect 127.0.0.1:8000\n```\n- TLS\n```\n// \n$ openssl genrsa -out client.key 1024 \n// CSR \n$ openssl req -new -key client.key -out client.csr \n// \n$ openssl x509 -req -CA ca.crt -CAkey ca.key -CAcreateserial -in client.csr -out client.crt\n\nvar tls = require('tls'); \nvar fs = require('fs'); \nvar options = { \n key: fs.readFileSync('./keys/client.key'), \n cert: fs.readFileSync('./keys/client.crt'), \n ca: [ fs.readFileSync('./keys/ca.crt') ] \n}; \nvar stream = tls.connect(8000, options, function () { \n console.log('client connected', stream.authorized ? 'authorized' : 'unauthorized'); \n process.stdin.pipe(stream); \n}); \nstream.setEncoding('utf8'); \nstream.on('data', function(data) { \n console.log(data); \n}); \nstream.on('end', function() { \n server.close(); \n}); \n```\n\n###### HTTPS\n- HTTPS\n```\nvar https = require('https'); \nvar fs = require('fs'); \nvar options = { \n key: fs.readFileSync('./keys/server.key'), \n cert: fs.readFileSync('./keys/server.crt') \n}; \nhttps.createServer(options, function (req, res) { \n res.writeHead(200); \n res.end(\"hello world\\n\"); \n}).listen(8000);\n\n$ curl https://localhost:8000/ \ncurl: (60) SSL certificate problem, verify that the CA cert is OK. Details: \nerror:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed \nMore details here: http://curl.haxx.se/docs/sslcerts.html \ncurl performs SSL certificate verification by default, using a \"bundle\" \n of Certificate Authority (CA) public keys (CA certs). If the default \n bundle file isn't adequate, you can specify an alternate file \n using the --cacert option. \nIf this HTTPS server uses a certificate signed by a CA represented in \n the bundle, the certificate verification probably failed due to a \n problem with the certificate (it might be expired, or the name might \n not match the domain name in the URL). \nIf you'd like to turn off curl's verification of the certificate, use \n the -k (or --insecure) option.\n```\ncurl\n  - -kcurl\n  - curl--cacertCA\n```\n$ curl -k https://localhost:8000/ \nhello world\n\n$ curl --cacert keys/ca.crt https://localhost:8000/ \nhello world \n```\n- HTTPS\n```\nvar https = require('https'); \nvar fs = require('fs'); \nvar options = { \n hostname: 'localhost', \n port: 8000, \n path: '/', \n method: 'GET', \n key: fs.readFileSync('./keys/client.key'), \n cert: fs.readFileSync('./keys/client.crt'), \n ca: [fs.readFileSync('./keys/ca.crt')] \n}; \noptions.agent = new https.Agent(options); \nvar req = https.request(options, function(res) { \n res.setEncoding('utf-8'); \n res.on('data', function(d) { \n console.log(d); \n }); \n}); \nreq.end(); \nreq.on('error', function(e) { \n console.log(e); \n}); \n```\nca: [Error: UNABLE_TO_VERIFY_LEAF_SIGNATURE] \nrejectUnauthorizedfalsecurl-k\n\n\n\n??? send()onmessage()send()\nonmessage()send()\n","source":"nodejs/nodejs-note-3.md","raw":"---\ntitle: nodejs(3)\ndate: 2022-11-26 20:36:45\ntags: [node, docs]\n---\n\n#### \n- V8 \n  - V8JavaScript\n  - V8V8V8V8\n  - Node--max-old-space-size--max-new-space-size\n\n- V8 \n  - V8\n    - V8\n    - V8V8\n    - V8--max-old-space-size-max-new-space-sizeV8\n    - 64321.4 GB0.7 GB\n    - 643232 MB16 MB\n  - Scavenge\n    - ScavengeScavengeCheney\n    - CheneysemispacesemispacesemispaceFromToFromFromToFromTosemispace\n    - ScavengeFromToFromToFromToScavengeTo\n    - ![](./images/v8-promot.png)\n    - ![](./images/v8-promot2.png)\n  - Mark-Sweep & Mark-Compact\n    - V8Mark-SweepMark-CompactMark-SweepScavengeMark-SweepScavengeMark-Sweep\n    - Mark-Sweep\n    - Mark-CompactMark-CompactMark-Sweep\n    - ![](./images/sweep-compact.png)\n    - ![](./images/collect-diff.png)\n    - V8Mark-SweepMark-Compact\n  - Incremental Marking\n    - 3stop-the-worldV8V8full \n    - V8incremental markingJavaScript\n    - ![](./images/increase-target.png)\n  - \n    - --trace_gc\n    - Node--profV8\n###### \n- \n  - \n  - \n  - \n- \n  - closure\n- : process.memoryUsage()ostotalmem()freemem()\n  - \n    - \n```javascript\n$ node \n> process.memoryUsage() \n{ rss: 13852672, \n heapTotal: 6131200, \n heapUsed: 2757120 } \n```\n    - rssresident set sizerssswapfilesystemrssheapTotalheapUsedV8heapTotalheapUsed3\n  - 2. \n    - process.memoryUsage()ostotalmem()freemem()\n\n- : V8\n  - BufferV8\n```\nvar useMem = function () { \n var size = 200 * 1024 * 1024; \n var buffer = new Buffer(size); \n for (var i = 0; i < size; i++) { \n buffer[i] = 0; \n } \n return buffer; \n}; \n```\n###### \nNode\n\n\n  - \n    - Node\n    - \n  - \n    - \n      - \n      - LRUhttps://github.com/isaacs/node-lru-cache\n    - \n      - \n        - (1) \n        - (2) \n        - Redishttps://github.com/mranney/node_redis\n        - Memcachedhttps://github.com/3rd-Eden/node-memcached\n  - \n    - \n    - \n  - \n\n###### \n\n- v8-profiler\n- node-heapdump\n```\nvar leakArray = []; \nvar leak = function () { \n leakArray.push(\"leak\" + Math.random()); \n}; \nhttp.createServer(function (req, res) { \n leak(); \n res.writeHead(200, {'Content-Type': 'text/plain'}); \n res.end('Hello World\\n'); \n}).listen(1337); \nconsole.log('Server running at http://127.0.0.1:1337/'); \n```\n- node-mtrace\n- dtrace\n- node-memwatch\n```\nvar memwatch = require('memwatch'); \nmemwatch.on('leak', function (info) { \n console.log('leak:'); \n console.log(info); \n}); \nmemwatch.on('stats', function (stats) { \n console.log('stats:') \n console.log(stats); \n}); \nvar http = require('http'); \nvar leakArray = []; \nvar leak = function () { \n leakArray.push(\"leak\" + Math.random()); \n}; \nhttp.createServer(function (req, res) { \n leak(); \n res.writeHead(200, {'Content-Type': 'text/plain'}); \n res.end('Hello World\\n'); \n}).listen(1337); \nconsole.log('Server running at http://127.0.0.1:1337/'); \n```\n  - stats\n    - stats\n```\nstats: \n{ num_full_gc: 4, // \n num_inc_gc: 23, // \n heap_compactions: 4, // \n usage_trend: 0, // \n estimated_base: 7152944, // \n current_base: 7152944, // \n min: 6720776, // \n max: 7152944 } // \nnum_full_gcnum_inc_gc\n```\n  - leak\n    - 5node-memwatchleak\n  - \n```\nvar memwatch = require('memwatch'); \nvar leakArray = []; \nvar leak = function () { \n leakArray.push(\"leak\" + Math.random()); \n}; \n// Take first snapshot \nvar hd = new memwatch.HeapDiff(); \nfor (var i = 0; i < 10000; i++) { \n leak(); \n} \n// Take the second snapshot and compute the diff \nvar diff = hd.end(); \nconsole.log(JSON.stringify(diff, null, 2));\n```\n\n###### \nstreamstreamNodestreamEventEmitter\n\nV8fs.readFile()fs.writeFile()fs.createReadStream()fs.createWriteStream()\n```\nvar reader = fs.createReadStream('in.txt'); \nvar writer = fs.createWriteStream('out.txt'); \nreader.pipe(writer); \n```\n\n#### Buffer\nBufferArray\n\n- \n  - BufferJavaScriptC++C++JavaScript\n  - ![buffer](./images/buffer.png)\n  - BufferNodeglobalBufferrequire()\n- Buffer\n  - Buffer160255\n  - 025602552552560~255\n```\nbuf[20] = -100; \nconsole.log(buf[20]); // 156 \nbuf[21] = 300; \nconsole.log(buf[21]); // 44 \nbuf[22] = 3.1415; \nconsole.log(buf[22]); // 3 \n```\n- Buffer\n  - BufferV8NodeC++\n  - NodeC++JavaScript\n  - Nodeslab,\n    - full\n    - partial\n    - empty\n  - Node8 KBBuffer,8 KBslabJavaScript\n    - Buffer\n      - Buffer8 KBNodeBufferpoolslab\n      - ![buffer](./images/buffer-1.png)\n      - Bufferslabslab\n      - ![buffer](./images/buffer-2.png)\n      - slabslabslab\n      - ![buffer](./images/buffer-3.png)\n      - slabBufferBufferslab8 KB1Buffer8 KB\n    - Buffer\n      - 8 KBBufferSlowBufferslabslabBuffer\n\n###### Buffer \nBuffer,:\n- ASCII\n- UTF-8\n- UTF-16LE/UCS-2\n- Base64\n- Binary\n- Hex\n\n- Buffer\n  - Buffernew Buffer(str, [encoding]);\n  - BufferencodingUTF-8\n  - Buffer\n- Buffer\n  - BufferBuffertoString()Bufferbuf.toString([encoding], [start], [end]) \n  - encodingUTF-8startend3Buffer\n- Buffer\n  - BufferisEncoding()Buffer.isEncoding(encoding)\n  - GBKGB2312BIG-5\n  - Nodeiconviconv-liteWindows 125ISO-8859IBM/DOSMacintoshKOI8Latin1US-ASCIIGBKGB2312\n\n###### Buffer \n```\nvar fs = require('fs'); \nvar rs = fs.createReadStream('test.md'); \nvar data = ''; \nrs.on(\"data\", function (chunk){ \n data += chunk; \n}); \nrs.on(\"end\", function () { \n console.log(data); \n}); \n```\n- Buffer\n- setEncoding()string_decoder()\n  - setEncodingdataBuffer\n  - string_decoderUTF-8Base64UCS-2/UTF-16LE3setEncoding()\n- Buffer\n```\nvar chunks = []; \nvar size = 0; \nres.on('data', function (chunk) { \n chunks.push(chunk); \n size += chunk.length; \n}); \nres.on('end', function () { \n   var buf = Buffer.concat(chunks, size); \n var str = iconv.decode(buf, 'utf8'); \n console.log(str); \n});\n```\n  - BufferBuffer.concat()Buffer\n  - Buffer.concat()BufferBuffer\n```\nBuffer.concat = function(list, length) { \n if (!Array.isArray(list)) { \n throw new Error('Usage: Buffer.concat(list, [length])'); \n } \n if (list.length === 0) { \n return new Buffer(0); \n } else if (list.length === 1) { \n return list[0]; \n } \n if (typeof length !== 'number') { \n length = 0; \n for (var i = 0; i < list.length; i++) { \n var buf = list[i]; \n length += buf.length; \n } \n } \n var buffer = new Buffer(length); \n var pos = 0; \n for (var i = 0; i < list.length; i++) { \n var buf = list[i]; \n buf.copy(buffer, pos); \n pos += buf.length; \n } \n return buffer; \n}; \n```\n###### Buffer \nBufferCPUNodeWebBufferBuffer\n- \n  - highWaterMark\n    - highWaterMark\n      - highWaterMarkBuffer\n      - highWaterMark\n    - highWaterMark\n\n#### \nNodenetdgramhttphttps4TCPUDPHTTPHTTPS\n\n-  TCP \n  - TCP\n    - TCPOSITCPHTTPSMTPIMAP\n    - ![](./images/net-1.png)\n    - TCP3\n    - ![](./images/net-2.png)\n  - TCP\n```\nvar net = require('net'); \nvar server = net.createServer(function (socket) { \n // \n socket.on('data', function (data) { \n socket.write(\"\"); \n }); \n socket.on('end', function () { \n console.log(''); \n }); \n socket.write(\"Node.js\\n\"); \n}); \nserver.listen(8124, function () { \n console.log('server bound'); \n});\n```\n  - TCP\n    - \n      - listeningserver.listen()Domain Socketserver.listen(port,listeningListener)listen()\n      - connectionnet.create\u0002Server()\n      - closeserver.close()\n      - errorerror\n    - \n      - datawrite()datawrite()\n      - endFIN\n      - connect\n      - drainwrite()\n      - error\n      - close\n      - timeout\n    - TCPNagleNagleNagle\n    - NodeTCPNaglesocket.setNoDelay(true)Naglewrite()\n    - write()datawrite()dataNagledata\n######  UDP \nUDPTCPUDPTCPUDPTCPTCPUDPUDPUDPDNS\n- UDP\n  - UDPUDP\n  - var dgram = require('dgram'); var socket = dgram.createSocket(\"udp4\");\n- UDP\n  - UDPdgram.bind(port, [address])\n```\nvar dgram = require(\"dgram\"); \nvar server = dgram.createSocket(\"udp4\"); \nserver.on(\"message\", function (msg, rinfo) { \n console.log(\"server got: \" + msg + \" from \" + \n rinfo.address + \":\" + rinfo.port); \n}); \nserver.on(\"listening\", function () { \n var address = server.address();\n console.log(\"server listening \" + \n address.address + \":\" + address.port); \n}); \nserver.bind(41234);\n```\n- UDP\n```\nvar dgram = require('dgram'); \nvar message = new Buffer(\"Node.js\"); \nvar client = dgram.createSocket(\"udp4\"); \nclient.send(message, 0, message.length, 41234, \"localhost\", function(err, bytes) { \n client.close(); \n}); \n\nsocket.send(buf, offset, length, port, address, [callback])\n// BufferBufferBuffer\n```\n- UDP\n  - UDPTCPEventEmitterStream\n    - messageUDPBuffer\n    - listeningUDP\n    - closeclose()messagemessage\n    - error\n\n######  HTTP \n- HTTP\n  - HTTP\n    - HTTPHyperText Transfer Protocol\n    - HTTPTCPHTTPB/SWebHTTP\n    - HTTPW3CIETFRFCHTTPRFC 2616\n  -  HTTP\n```\n$ curl -v http://127.0.0.1:1337 \n* About to connect() to 127.0.0.1 port 1337 (#0) \n* Trying 127.0.0.1... \n* connected \n* Connected to 127.0.0.1 (127.0.0.1) port 1337 (#0) \n> GET / HTTP/1.1 \n> User-Agent: curl/7.24.0 (x86_64-apple-darwin12.0) libcurl/7.24.0 OpenSSL/0.9.8r zlib/1.2.5 \n> Host: 127.0.0.1:1337 \n> Accept: */* \n> \n< HTTP/1.1 200 OK \n< Content-Type: text/plain \n< Date: Sat, 06 Apr 2013 08:01:44 GMT \n< Connection: keep-alive \n< Transfer-Encoding: chunked \n< \nHello World\n* Connection #0 to host 127.0.0.1 left intact \n* Closing connection #0\n```\n    - HTTPHTTPHTTP\n  - http\n    - NodeHTTPTCPnetHTTPTCPkeepaliveTCPTCPconnectionHTTPrequest\n    - ![http](./images/net-3.png)\n    - httpServerRequestServerResponsehttphttp_parserrequest\n    - ![http](./images/net-4.png)\n      - HTTP\n        - connectionHTTPTCPkeep-aliveconnection\n        - requestTCPhttpHTTPHTTPHTTPres.end()TCP\n        - closeTCPserver.close()server.close()\n        - checkContinueExpect: 100-continuecheckContinue100 Continue400 Bad Requestrequest100 Continuerequest\n        - connectCONNECTCONNECTHTTP\n        - upgradeUpgradeWebSocket\n        - clientErrorerror\n###### HTTP\nhttpAPIhttp.request(options, connect)HTTP\n```\nvar options = { \n hostname: '127.0.0.1', \n port: 1334, \n path: '/', \n method: 'GET' \n}; \nvar req = http.request(options, function(res) { \n console.log('STATUS: ' + res.statusCode); \n console.log('HEADERS: ' + JSON.stringify(res.headers)); \n res.setEncoding('utf8'); \n res.on('data', function (chunk) { \n console.log(chunk); \n }); \n}); \nreq.end();\n```\nHTTP:\n- hostIPlocalhost\n- hostname\n- port80\n- localAddress\n- socketPathDomain\n- methodHTTPGET\n- path/\n- headers\n- authBasicAuthorization\n\n\n- HTTP\n  - HTTPClientRequestresponseClientRequestresponseClientResponse\n```\nfunction(res) { \n console.log('STATUS: ' + res.statusCode); \n console.log('HEADERS: ' + JSON.stringify(res.headers)); \n res.setEncoding('utf8'); \n res.on('data', function (chunk) { \n console.log(chunk); \n }); \n}\n```\n- HTTP \n  - httpClientRequestTCPkeepaliveTCPhttphttp.globalAgenthost + portClientRequestHTTP5\n  - ![http](./images/http.png)\n  - HTTP10HTTP5\n  - ClientRequestHTTPoptionsagent5\n```\nvar agent = new http.Agent({ \n maxSockets: 10 \n}); \nvar options = { \n hostname: '127.0.0.1', \n port: 1334, \n path: '/', \n method: 'GET', \n agent: agent \n}; \n```\n  - agentfalse\n- HTTP\n  - responserequest\n  - socket\n  - connectCONNECT200\n  - upgradeUpgrade101 Switching Protocols\n  - continueExpect: 100-continue100 Continue\n\n######  WebSocket \n- WebSocketNode\n- WebSocketNode\n\nwebsockethttp\n- TCP\n- WebSocketHTTP\n- \n\n```\nvar socket = new WebSocket('ws://127.0.0.1:12010/updates'); \nsocket.onopen = function () { \n setInterval(function() { \n if (socket.bufferedAmount == 0) \n socket.send(getUpdateData()); \n }, 50); \n}; \nsocket.onmessage = function (event) { \n // TODOevent.data \n};\n```\n\nWebSocketCometCometlong-pollingiframeres.end()Comet\n\n- WebSocket\n```\nGET /chat HTTP/1.1 \nHost: server.example.com \nUpgrade: websocket \nConnection: Upgrade \nSec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ== \nSec-WebSocket-Protocol: chat, superchat \nSec-WebSocket-Version: 13 \n```\n  - Upgrade/ConnectionWebSocketSec-WebSocket-Key\n  - Sec-WebSocket-KeyBase64258EAFA5-E914-47DA-95CA-C5AB0DC85B11dGhlIHNhbXBsZSBub25jZQ==258EAFA5-E914-47DA-95CA-C5AB0DC85B11sha1Base64\n  - \n```\nHTTP/1.1 101 Switching Protocols \nUpgrade: websocket \nConnection: Upgrade \nSec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK+xOo= \nSec-WebSocket-Protocol: chat\n```\n\n###### WebSocket\n![websocket](./images/websocket.png)\n```\nWebSocket.prototype.setSocket = function (socket) { \n this.socket = socket; \n this.socket.on('data', this.receiver); \n}; \n\nWebSocket.prototype.send = function (data) { \n this._send(data); \n}; \n```\n  - \n  - ![websocket](./images/websocket-1.png)\n  - finfin10\n  - rsv1rsv2rsv31310\n  - opcode401501289ping10pongpingpongpingpong\n  - masked110\n  - payload length77+167+640~1251261612764\n  - masking keymasked132\n  - payload data8\n\nnodewebsocket\n- \n- JavaScriptWebSocketAPI\n\n###### \nNode3cryptotlshttpscryptotlsnetTLS/SSLTCPhttpshttp\n  - TLS/SSL\n    - \n      - TLS/SSL/\n      - ![TLS/SSL](./images/tls-ssl.png)\n      - NodeopensslTLS/SSLopenssl\n```\n# \n// \n$ openssl genrsa -out server.key 1024 \n// \n$ openssl genrsa -out client.key 1024\n\n#\n$ openssl rsa -in server.key -pubout -out server.pem \n$ openssl rsa -in client.key -pubout -out client.pem \n```\n      - TLS/SSL\n    - \n      - CACertificate AuthorityCACA\n      - CACA\n```\n$ openssl genrsa -out ca.key 1024 \n$ openssl req -new -key ca.key -out ca.csr \n$ openssl x509 -req -in ca.csr -signkey ca.key -out ca.crt\n```\n      - ![CA](./images/ca.png)\n      - ![CA](./images/ca-1.png)\n\n###### TLS\n- \n```\nvar tls = require('tls'); \nvar fs = require('fs'); \nvar options = { \n key: fs.readFileSync('./keys/server.key'), \n cert: fs.readFileSync('./keys/server.crt'), \n requestCert: true, \n ca: [ fs.readFileSync('./keys/ca.crt') ] \n}; \nvar server = tls.createServer(options, function (stream) { \n console.log('server connected', stream.authorized ? 'authorized' : 'unauthorized'); \n stream.write(\"welcome!\\n\"); \n stream.setEncoding('utf8'); \n stream.pipe(stream); \n}); \nserver.listen(8000, function() {\n  console.log('server bound'); \n}); \n\n# \n$ openssl s_client -connect 127.0.0.1:8000\n```\n- TLS\n```\n// \n$ openssl genrsa -out client.key 1024 \n// CSR \n$ openssl req -new -key client.key -out client.csr \n// \n$ openssl x509 -req -CA ca.crt -CAkey ca.key -CAcreateserial -in client.csr -out client.crt\n\nvar tls = require('tls'); \nvar fs = require('fs'); \nvar options = { \n key: fs.readFileSync('./keys/client.key'), \n cert: fs.readFileSync('./keys/client.crt'), \n ca: [ fs.readFileSync('./keys/ca.crt') ] \n}; \nvar stream = tls.connect(8000, options, function () { \n console.log('client connected', stream.authorized ? 'authorized' : 'unauthorized'); \n process.stdin.pipe(stream); \n}); \nstream.setEncoding('utf8'); \nstream.on('data', function(data) { \n console.log(data); \n}); \nstream.on('end', function() { \n server.close(); \n}); \n```\n\n###### HTTPS\n- HTTPS\n```\nvar https = require('https'); \nvar fs = require('fs'); \nvar options = { \n key: fs.readFileSync('./keys/server.key'), \n cert: fs.readFileSync('./keys/server.crt') \n}; \nhttps.createServer(options, function (req, res) { \n res.writeHead(200); \n res.end(\"hello world\\n\"); \n}).listen(8000);\n\n$ curl https://localhost:8000/ \ncurl: (60) SSL certificate problem, verify that the CA cert is OK. Details: \nerror:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed \nMore details here: http://curl.haxx.se/docs/sslcerts.html \ncurl performs SSL certificate verification by default, using a \"bundle\" \n of Certificate Authority (CA) public keys (CA certs). If the default \n bundle file isn't adequate, you can specify an alternate file \n using the --cacert option. \nIf this HTTPS server uses a certificate signed by a CA represented in \n the bundle, the certificate verification probably failed due to a \n problem with the certificate (it might be expired, or the name might \n not match the domain name in the URL). \nIf you'd like to turn off curl's verification of the certificate, use \n the -k (or --insecure) option.\n```\ncurl\n  - -kcurl\n  - curl--cacertCA\n```\n$ curl -k https://localhost:8000/ \nhello world\n\n$ curl --cacert keys/ca.crt https://localhost:8000/ \nhello world \n```\n- HTTPS\n```\nvar https = require('https'); \nvar fs = require('fs'); \nvar options = { \n hostname: 'localhost', \n port: 8000, \n path: '/', \n method: 'GET', \n key: fs.readFileSync('./keys/client.key'), \n cert: fs.readFileSync('./keys/client.crt'), \n ca: [fs.readFileSync('./keys/ca.crt')] \n}; \noptions.agent = new https.Agent(options); \nvar req = https.request(options, function(res) { \n res.setEncoding('utf-8'); \n res.on('data', function(d) { \n console.log(d); \n }); \n}); \nreq.end(); \nreq.on('error', function(e) { \n console.log(e); \n}); \n```\nca: [Error: UNABLE_TO_VERIFY_LEAF_SIGNATURE] \nrejectUnauthorizedfalsecurl-k\n\n\n\n??? send()onmessage()send()\nonmessage()send()\n","updated":"2022-12-26T05:53:57.829Z","path":"nodejs/nodejs-note-3.html","comments":1,"layout":"page","_id":"clc62baio000knwvagksed86q","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><p>V8 </p>\n<ul>\n<li>V8JavaScript</li>\n<li>V8V8V8V8</li>\n<li>Nodemax-old-space-sizemax-new-space-size</li>\n</ul>\n</li>\n<li><p>V8 </p>\n<ul>\n<li>V8<ul>\n<li>V8</li>\n<li>V8V8</li>\n<li>V8max-old-space-size-max-new-space-sizeV8</li>\n<li>64321.4 GB0.7 GB</li>\n<li>643232 MB16 MB</li>\n</ul>\n</li>\n<li>Scavenge<ul>\n<li>ScavengeScavengeCheney</li>\n<li>CheneysemispacesemispacesemispaceFromToFromFromToFromTosemispace</li>\n<li>ScavengeFromToFromToFromToScavengeTo</li>\n<li><img src=\"/nodejs/images/v8-promot.png\" alt=\"\"></li>\n<li><img src=\"/nodejs/images/v8-promot2.png\" alt=\"\"></li>\n</ul>\n</li>\n<li>Mark-Sweep &amp; Mark-Compact<ul>\n<li>V8Mark-SweepMark-CompactMark-SweepScavengeMark-SweepScavengeMark-Sweep</li>\n<li>Mark-Sweep</li>\n<li>Mark-CompactMark-CompactMark-Sweep</li>\n<li><img src=\"/nodejs/images/sweep-compact.png\" alt=\"\"></li>\n<li><img src=\"/nodejs/images/collect-diff.png\" alt=\"\"></li>\n<li>V8Mark-SweepMark-Compact</li>\n</ul>\n</li>\n<li>Incremental Marking<ul>\n<li>3stop-the-worldV8V8full </li>\n<li>V8incremental markingJavaScript</li>\n<li><img src=\"/nodejs/images/increase-target.png\" alt=\"\"></li>\n</ul>\n</li>\n<li><ul>\n<li>trace_gc</li>\n<li>NodeprofV8<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li><p></p>\n<ul>\n<li>closure</li>\n</ul>\n</li>\n<li><p>: process.memoryUsage()ostotalmem()freemem()</p>\n<ul>\n<li><ul>\n<li><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ node </span><br><span class=\"line\">&gt; process.memoryUsage() </span><br><span class=\"line\">&#123; <span class=\"attr\">rss</span>: <span class=\"number\">13852672</span>, </span><br><span class=\"line\"> <span class=\"attr\">heapTotal</span>: <span class=\"number\">6131200</span>, </span><br><span class=\"line\"> <span class=\"attr\">heapUsed</span>: <span class=\"number\">2757120</span> &#125; </span><br></pre></td></tr></table></figure></li>\n<li>rssresident set sizerssswapfilesystemrssheapTotalheapUsedV8heapTotalheapUsed3</li>\n</ul>\n</li>\n<li><ol start=\"2\">\n<li></li>\n</ol>\n<ul>\n<li>process.memoryUsage()ostotalmem()freemem()</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>: V8</p>\n<ul>\n<li>BufferV8<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var useMem = function () &#123; </span><br><span class=\"line\"> var size = 200 * 1024 * 1024; </span><br><span class=\"line\"> var buffer = new Buffer(size); </span><br><span class=\"line\"> for (var i = 0; i &lt; size; i++) &#123; </span><br><span class=\"line\"> buffer[i] = 0; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> return buffer; </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6>Node</li>\n</ul>\n</li>\n</ul>\n<p></p>\n<ul>\n<li><ul>\n<li>Node</li>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li><ul>\n<li></li>\n<li>LRU<a href=\"https://github.com/isaacs/node-lru-cache\">https://github.com/isaacs/node-lru-cache</a></li>\n</ul>\n</li>\n<li><ul>\n<li><ul>\n<li>(1) </li>\n<li>(2) </li>\n<li>Redis<a href=\"https://github.com/mranney/node_redis%E3%80%82\">https://github.com/mranney/node_redis</a></li>\n<li>Memcached<a href=\"https://github.com/3rd-Eden/node-memcached%E3%80%82\">https://github.com/3rd-Eden/node-memcached</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><ul>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li></li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<ul>\n<li>v8-profiler</li>\n<li>node-heapdump<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var leakArray = []; </span><br><span class=\"line\">var leak = function () &#123; </span><br><span class=\"line\"> leakArray.push(&quot;leak&quot; + Math.random()); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">http.createServer(function (req, res) &#123; </span><br><span class=\"line\"> leak(); </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/plain&#x27;&#125;); </span><br><span class=\"line\"> res.end(&#x27;Hello World\\n&#x27;); </span><br><span class=\"line\">&#125;).listen(1337); </span><br><span class=\"line\">console.log(&#x27;Server running at http://127.0.0.1:1337/&#x27;); </span><br></pre></td></tr></table></figure></li>\n<li>node-mtrace</li>\n<li>dtrace</li>\n<li>node-memwatch<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var memwatch = require(&#x27;memwatch&#x27;); </span><br><span class=\"line\">memwatch.on(&#x27;leak&#x27;, function (info) &#123; </span><br><span class=\"line\"> console.log(&#x27;leak:&#x27;); </span><br><span class=\"line\"> console.log(info); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">memwatch.on(&#x27;stats&#x27;, function (stats) &#123; </span><br><span class=\"line\"> console.log(&#x27;stats:&#x27;) </span><br><span class=\"line\"> console.log(stats); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">var http = require(&#x27;http&#x27;); </span><br><span class=\"line\">var leakArray = []; </span><br><span class=\"line\">var leak = function () &#123; </span><br><span class=\"line\"> leakArray.push(&quot;leak&quot; + Math.random()); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">http.createServer(function (req, res) &#123; </span><br><span class=\"line\"> leak(); </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/plain&#x27;&#125;); </span><br><span class=\"line\"> res.end(&#x27;Hello World\\n&#x27;); </span><br><span class=\"line\">&#125;).listen(1337); </span><br><span class=\"line\">console.log(&#x27;Server running at http://127.0.0.1:1337/&#x27;); </span><br></pre></td></tr></table></figure>\n<ul>\n<li>stats<ul>\n<li>stats<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">stats: </span><br><span class=\"line\">&#123; num_full_gc: 4, // </span><br><span class=\"line\"> num_inc_gc: 23, // </span><br><span class=\"line\"> heap_compactions: 4, // </span><br><span class=\"line\"> usage_trend: 0, // </span><br><span class=\"line\"> estimated_base: 7152944, // </span><br><span class=\"line\"> current_base: 7152944, // </span><br><span class=\"line\"> min: 6720776, // </span><br><span class=\"line\"> max: 7152944 &#125; // </span><br><span class=\"line\">num_full_gcnum_inc_gc</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>leak<ul>\n<li>5node-memwatchleak</li>\n</ul>\n</li>\n<li><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var memwatch = require(&#x27;memwatch&#x27;); </span><br><span class=\"line\">var leakArray = []; </span><br><span class=\"line\">var leak = function () &#123; </span><br><span class=\"line\"> leakArray.push(&quot;leak&quot; + Math.random()); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">// Take first snapshot </span><br><span class=\"line\">var hd = new memwatch.HeapDiff(); </span><br><span class=\"line\">for (var i = 0; i &lt; 10000; i++) &#123; </span><br><span class=\"line\"> leak(); </span><br><span class=\"line\">&#125; </span><br><span class=\"line\">// Take the second snapshot and compute the diff </span><br><span class=\"line\">var diff = hd.end(); </span><br><span class=\"line\">console.log(JSON.stringify(diff, null, 2));</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>streamstreamNodestreamEventEmitter</p>\n<p>V8fs.readFile()fs.writeFile()fs.createReadStream()fs.createWriteStream()</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var reader = fs.createReadStream(&#x27;in.txt&#x27;); </span><br><span class=\"line\">var writer = fs.createWriteStream(&#x27;out.txt&#x27;); </span><br><span class=\"line\">reader.pipe(writer); </span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Buffer\"><a href=\"#Buffer\" class=\"headerlink\" title=\"Buffer\"></a>Buffer</h4><p>BufferArray</p>\n<ul>\n<li><ul>\n<li>BufferJavaScriptC++C++JavaScript</li>\n<li><img src=\"/nodejs/images/buffer.png\" alt=\"buffer\"></li>\n<li>BufferNodeglobalBufferrequire()</li>\n</ul>\n</li>\n<li>Buffer<ul>\n<li>Buffer160255</li>\n<li>025602552552560~255<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">buf[20] = -100; </span><br><span class=\"line\">console.log(buf[20]); // 156 </span><br><span class=\"line\">buf[21] = 300; </span><br><span class=\"line\">console.log(buf[21]); // 44 </span><br><span class=\"line\">buf[22] = 3.1415; </span><br><span class=\"line\">console.log(buf[22]); // 3 </span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>Buffer<ul>\n<li>BufferV8NodeC++</li>\n<li>NodeC++JavaScript</li>\n<li>Nodeslab,<ul>\n<li>full</li>\n<li>partial</li>\n<li>empty</li>\n</ul>\n</li>\n<li>Node8 KBBuffer,8 KBslabJavaScript<ul>\n<li>Buffer<ul>\n<li>Buffer8 KBNodeBufferpoolslab</li>\n<li><img src=\"/nodejs/images/buffer-1.png\" alt=\"buffer\"></li>\n<li>Bufferslabslab</li>\n<li><img src=\"/nodejs/images/buffer-2.png\" alt=\"buffer\"></li>\n<li>slabslabslab</li>\n<li><img src=\"/nodejs/images/buffer-3.png\" alt=\"buffer\"></li>\n<li>slabBufferBufferslab8 KB1Buffer8 KB</li>\n</ul>\n</li>\n<li>Buffer<ul>\n<li>8 KBBufferSlowBufferslabslabBuffer</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"Buffer-\"><a href=\"#Buffer-\" class=\"headerlink\" title=\"Buffer \"></a>Buffer </h6><p>Buffer,:</p>\n<ul>\n<li><p>ASCII</p>\n</li>\n<li><p>UTF-8</p>\n</li>\n<li><p>UTF-16LE/UCS-2</p>\n</li>\n<li><p>Base64</p>\n</li>\n<li><p>Binary</p>\n</li>\n<li><p>Hex</p>\n</li>\n<li><p>Buffer</p>\n<ul>\n<li>Buffernew Buffer(str, [encoding]);</li>\n<li>BufferencodingUTF-8</li>\n<li>Buffer</li>\n</ul>\n</li>\n<li><p>Buffer</p>\n<ul>\n<li>BufferBuffertoString()Bufferbuf.toString([encoding], [start], [end]) </li>\n<li>encodingUTF-8startend3Buffer</li>\n</ul>\n</li>\n<li><p>Buffer</p>\n<ul>\n<li>BufferisEncoding()Buffer.isEncoding(encoding)</li>\n<li>GBKGB2312BIG-5</li>\n<li>Nodeiconviconv-liteWindows 125ISO-8859IBM/DOSMacintoshKOI8Latin1US-ASCIIGBKGB2312</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"Buffer-\"><a href=\"#Buffer-\" class=\"headerlink\" title=\"Buffer \"></a>Buffer </h6><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var rs = fs.createReadStream(&#x27;test.md&#x27;); </span><br><span class=\"line\">var data = &#x27;&#x27;; </span><br><span class=\"line\">rs.on(&quot;data&quot;, function (chunk)&#123; </span><br><span class=\"line\"> data += chunk; </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">rs.on(&quot;end&quot;, function () &#123; </span><br><span class=\"line\"> console.log(data); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\n<ul>\n<li>Buffer</li>\n<li>setEncoding()string_decoder()<ul>\n<li>setEncodingdataBuffer</li>\n<li>string_decoderUTF-8Base64UCS-2/UTF-16LE3setEncoding()</li>\n</ul>\n</li>\n<li>Buffer<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var chunks = []; </span><br><span class=\"line\">var size = 0; </span><br><span class=\"line\">res.on(&#x27;data&#x27;, function (chunk) &#123; </span><br><span class=\"line\"> chunks.push(chunk); </span><br><span class=\"line\"> size += chunk.length; </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">res.on(&#x27;end&#x27;, function () &#123; </span><br><span class=\"line\">   var buf = Buffer.concat(chunks, size); </span><br><span class=\"line\"> var str = iconv.decode(buf, &#x27;utf8&#x27;); </span><br><span class=\"line\"> console.log(str); </span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<ul>\n<li>BufferBuffer.concat()Buffer</li>\n<li>Buffer.concat()BufferBuffer<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Buffer.concat = function(list, length) &#123; </span><br><span class=\"line\"> if (!Array.isArray(list)) &#123; </span><br><span class=\"line\"> throw new Error(&#x27;Usage: Buffer.concat(list, [length])&#x27;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> if (list.length === 0) &#123; </span><br><span class=\"line\"> return new Buffer(0); </span><br><span class=\"line\"> &#125; else if (list.length === 1) &#123; </span><br><span class=\"line\"> return list[0]; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> if (typeof length !== &#x27;number&#x27;) &#123; </span><br><span class=\"line\"> length = 0; </span><br><span class=\"line\"> for (var i = 0; i &lt; list.length; i++) &#123; </span><br><span class=\"line\"> var buf = list[i]; </span><br><span class=\"line\"> length += buf.length; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> var buffer = new Buffer(length); </span><br><span class=\"line\"> var pos = 0; </span><br><span class=\"line\"> for (var i = 0; i &lt; list.length; i++) &#123; </span><br><span class=\"line\"> var buf = list[i]; </span><br><span class=\"line\"> buf.copy(buffer, pos); </span><br><span class=\"line\"> pos += buf.length; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> return buffer; </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n<h6 id=\"Buffer-\"><a href=\"#Buffer-\" class=\"headerlink\" title=\"Buffer \"></a>Buffer </h6>BufferCPUNodeWebBufferBuffer</li>\n</ul>\n</li>\n<li><ul>\n<li>highWaterMark<ul>\n<li>highWaterMark<ul>\n<li>highWaterMarkBuffer</li>\n<li>highWaterMark</li>\n</ul>\n</li>\n<li>highWaterMark</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Nodenetdgramhttphttps4TCPUDPHTTPHTTPS</p>\n<ul>\n<li> TCP <ul>\n<li>TCP<ul>\n<li>TCPOSITCPHTTPSMTPIMAP</li>\n<li><img src=\"/nodejs/images/net-1.png\" alt=\"\"></li>\n<li>TCP3</li>\n<li><img src=\"/nodejs/images/net-2.png\" alt=\"\"></li>\n</ul>\n</li>\n<li>TCP<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var net = require(&#x27;net&#x27;); </span><br><span class=\"line\">var server = net.createServer(function (socket) &#123; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> socket.on(&#x27;data&#x27;, function (data) &#123; </span><br><span class=\"line\"> socket.write(&quot;&quot;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> socket.on(&#x27;end&#x27;, function () &#123; </span><br><span class=\"line\"> console.log(&#x27;&#x27;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> socket.write(&quot;Node.js\\n&quot;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">server.listen(8124, function () &#123; </span><br><span class=\"line\"> console.log(&#x27;server bound&#x27;); </span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></li>\n<li>TCP<ul>\n<li><ul>\n<li>listeningserver.listen()Domain Socketserver.listen(port,listeningListener)listen()</li>\n<li>connectionnet.create\u0002Server()</li>\n<li>closeserver.close()</li>\n<li>errorerror</li>\n</ul>\n</li>\n<li><ul>\n<li>datawrite()datawrite()</li>\n<li>endFIN</li>\n<li>connect</li>\n<li>drainwrite()</li>\n<li>error</li>\n<li>close</li>\n<li>timeout</li>\n</ul>\n</li>\n<li>TCPNagleNagleNagle</li>\n<li>NodeTCPNaglesocket.setNoDelay(true)Naglewrite()</li>\n<li>write()datawrite()dataNagledata<h6 id=\"-UDP-\"><a href=\"#-UDP-\" class=\"headerlink\" title=\" UDP \"></a> UDP </h6>UDPTCPUDPTCPUDPTCPTCPUDPUDPUDPDNS</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>UDP<ul>\n<li>UDPUDP</li>\n<li>var dgram = require(dgram); var socket = dgram.createSocket(udp4);</li>\n</ul>\n</li>\n<li>UDP<ul>\n<li>UDPdgram.bind(port, [address])<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var dgram = require(&quot;dgram&quot;); </span><br><span class=\"line\">var server = dgram.createSocket(&quot;udp4&quot;); </span><br><span class=\"line\">server.on(&quot;message&quot;, function (msg, rinfo) &#123; </span><br><span class=\"line\"> console.log(&quot;server got: &quot; + msg + &quot; from &quot; + </span><br><span class=\"line\"> rinfo.address + &quot;:&quot; + rinfo.port); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">server.on(&quot;listening&quot;, function () &#123; </span><br><span class=\"line\"> var address = server.address();</span><br><span class=\"line\"> console.log(&quot;server listening &quot; + </span><br><span class=\"line\"> address.address + &quot;:&quot; + address.port); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">server.bind(41234);</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>UDP<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var dgram = require(&#x27;dgram&#x27;); </span><br><span class=\"line\">var message = new Buffer(&quot;Node.js&quot;); </span><br><span class=\"line\">var client = dgram.createSocket(&quot;udp4&quot;); </span><br><span class=\"line\">client.send(message, 0, message.length, 41234, &quot;localhost&quot;, function(err, bytes) &#123; </span><br><span class=\"line\"> client.close(); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br><span class=\"line\">socket.send(buf, offset, length, port, address, [callback])</span><br><span class=\"line\">// BufferBufferBuffer</span><br></pre></td></tr></table></figure></li>\n<li>UDP<ul>\n<li>UDPTCPEventEmitterStream<ul>\n<li>messageUDPBuffer</li>\n<li>listeningUDP</li>\n<li>closeclose()messagemessage</li>\n<li>error</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"-HTTP-\"><a href=\"#-HTTP-\" class=\"headerlink\" title=\" HTTP \"></a> HTTP </h6><ul>\n<li>HTTP<ul>\n<li>HTTP<ul>\n<li>HTTPHyperText Transfer Protocol</li>\n<li>HTTPTCPHTTPB/SWebHTTP</li>\n<li>HTTPW3CIETFRFCHTTPRFC 2616</li>\n</ul>\n</li>\n<li> HTTP<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ curl -v http://127.0.0.1:1337 </span><br><span class=\"line\">* About to connect() to 127.0.0.1 port 1337 (#0) </span><br><span class=\"line\">* Trying 127.0.0.1... </span><br><span class=\"line\">* connected </span><br><span class=\"line\">* Connected to 127.0.0.1 (127.0.0.1) port 1337 (#0) </span><br><span class=\"line\">&gt; GET / HTTP/1.1 </span><br><span class=\"line\">&gt; User-Agent: curl/7.24.0 (x86_64-apple-darwin12.0) libcurl/7.24.0 OpenSSL/0.9.8r zlib/1.2.5 </span><br><span class=\"line\">&gt; Host: 127.0.0.1:1337 </span><br><span class=\"line\">&gt; Accept: */* </span><br><span class=\"line\">&gt; </span><br><span class=\"line\">&lt; HTTP/1.1 200 OK </span><br><span class=\"line\">&lt; Content-Type: text/plain </span><br><span class=\"line\">&lt; Date: Sat, 06 Apr 2013 08:01:44 GMT </span><br><span class=\"line\">&lt; Connection: keep-alive </span><br><span class=\"line\">&lt; Transfer-Encoding: chunked </span><br><span class=\"line\">&lt; </span><br><span class=\"line\">Hello World</span><br><span class=\"line\">* Connection #0 to host 127.0.0.1 left intact </span><br><span class=\"line\">* Closing connection #0</span><br></pre></td></tr></table></figure></li>\n<li>HTTPHTTPHTTP</li>\n<li>http<ul>\n<li>NodeHTTPTCPnetHTTPTCPkeepaliveTCPTCPconnectionHTTPrequest</li>\n<li><img src=\"/nodejs/images/net-3.png\" alt=\"http\"></li>\n<li>httpServerRequestServerResponsehttphttp_parserrequest</li>\n<li><img src=\"/nodejs/images/net-4.png\" alt=\"http\"><ul>\n<li>HTTP<ul>\n<li>connectionHTTPTCPkeep-aliveconnection</li>\n<li>requestTCPhttpHTTPHTTPHTTPres.end()TCP</li>\n<li>closeTCPserver.close()server.close()</li>\n<li>checkContinueExpect: 100-continuecheckContinue100 Continue400 Bad Requestrequest100 Continuerequest</li>\n<li>connectCONNECTCONNECTHTTP</li>\n<li>upgradeUpgradeWebSocket</li>\n<li>clientErrorerror<h6 id=\"HTTP\"><a href=\"#HTTP\" class=\"headerlink\" title=\"HTTP\"></a>HTTP</h6>httpAPIhttp.request(options, connect)HTTP<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var options = &#123; </span><br><span class=\"line\"> hostname: &#x27;127.0.0.1&#x27;, </span><br><span class=\"line\"> port: 1334, </span><br><span class=\"line\"> path: &#x27;/&#x27;, </span><br><span class=\"line\"> method: &#x27;GET&#x27; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">var req = http.request(options, function(res) &#123; </span><br><span class=\"line\"> console.log(&#x27;STATUS: &#x27; + res.statusCode); </span><br><span class=\"line\"> console.log(&#x27;HEADERS: &#x27; + JSON.stringify(res.headers)); </span><br><span class=\"line\"> res.setEncoding(&#x27;utf8&#x27;); </span><br><span class=\"line\"> res.on(&#x27;data&#x27;, function (chunk) &#123; </span><br><span class=\"line\"> console.log(chunk); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">req.end();</span><br></pre></td></tr></table></figure>\nHTTP:</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>hostIPlocalhost</li>\n<li>hostname</li>\n<li>port80</li>\n<li>localAddress</li>\n<li>socketPathDomain</li>\n<li>methodHTTPGET</li>\n<li>path/</li>\n<li>headers</li>\n<li>authBasicAuthorization</li>\n</ul>\n<ul>\n<li>HTTP<ul>\n<li>HTTPClientRequestresponseClientRequestresponseClientResponse<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function(res) &#123; </span><br><span class=\"line\"> console.log(&#x27;STATUS: &#x27; + res.statusCode); </span><br><span class=\"line\"> console.log(&#x27;HEADERS: &#x27; + JSON.stringify(res.headers)); </span><br><span class=\"line\"> res.setEncoding(&#x27;utf8&#x27;); </span><br><span class=\"line\"> res.on(&#x27;data&#x27;, function (chunk) &#123; </span><br><span class=\"line\"> console.log(chunk); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>HTTP <ul>\n<li>httpClientRequestTCPkeepaliveTCPhttphttp.globalAgenthost + portClientRequestHTTP5</li>\n<li><img src=\"./images/http.png\" alt=\"http\"></li>\n<li>HTTP10HTTP5</li>\n<li>ClientRequestHTTPoptionsagent5<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var agent = new http.Agent(&#123; </span><br><span class=\"line\"> maxSockets: 10 </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">var options = &#123; </span><br><span class=\"line\"> hostname: &#x27;127.0.0.1&#x27;, </span><br><span class=\"line\"> port: 1334, </span><br><span class=\"line\"> path: &#x27;/&#x27;, </span><br><span class=\"line\"> method: &#x27;GET&#x27;, </span><br><span class=\"line\"> agent: agent </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure></li>\n<li>agentfalse</li>\n</ul>\n</li>\n<li>HTTP<ul>\n<li>responserequest</li>\n<li>socket</li>\n<li>connectCONNECT200</li>\n<li>upgradeUpgrade101 Switching Protocols</li>\n<li>continueExpect: 100-continue100 Continue</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"-WebSocket-\"><a href=\"#-WebSocket-\" class=\"headerlink\" title=\" WebSocket \"></a> WebSocket </h6><ul>\n<li>WebSocketNode</li>\n<li>WebSocketNode</li>\n</ul>\n<p>websockethttp</p>\n<ul>\n<li>TCP</li>\n<li>WebSocketHTTP</li>\n<li></li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var socket = new WebSocket(&#x27;ws://127.0.0.1:12010/updates&#x27;); </span><br><span class=\"line\">socket.onopen = function () &#123; </span><br><span class=\"line\"> setInterval(function() &#123; </span><br><span class=\"line\"> if (socket.bufferedAmount == 0) </span><br><span class=\"line\"> socket.send(getUpdateData()); </span><br><span class=\"line\"> &#125;, 50); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">socket.onmessage = function (event) &#123; </span><br><span class=\"line\"> // TODOevent.data </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>WebSocketCometCometlong-pollingiframeres.end()Comet</p>\n<ul>\n<li>WebSocket<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET /chat HTTP/1.1 </span><br><span class=\"line\">Host: server.example.com </span><br><span class=\"line\">Upgrade: websocket </span><br><span class=\"line\">Connection: Upgrade </span><br><span class=\"line\">Sec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ== </span><br><span class=\"line\">Sec-WebSocket-Protocol: chat, superchat </span><br><span class=\"line\">Sec-WebSocket-Version: 13 </span><br></pre></td></tr></table></figure>\n<ul>\n<li>Upgrade/ConnectionWebSocketSec-WebSocket-Key</li>\n<li>Sec-WebSocket-KeyBase64258EAFA5-E914-47DA-95CA-C5AB0DC85B11dGhlIHNhbXBsZSBub25jZQ==258EAFA5-E914-47DA-95CA-C5AB0DC85B11sha1Base64</li>\n<li><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HTTP/1.1 101 Switching Protocols </span><br><span class=\"line\">Upgrade: websocket </span><br><span class=\"line\">Connection: Upgrade </span><br><span class=\"line\">Sec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK+xOo= </span><br><span class=\"line\">Sec-WebSocket-Protocol: chat</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n</ul>\n<h6 id=\"WebSocket\"><a href=\"#WebSocket\" class=\"headerlink\" title=\"WebSocket\"></a>WebSocket</h6><p><img src=\"/nodejs/images/websocket.png\" alt=\"websocket\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">WebSocket.prototype.setSocket = function (socket) &#123; </span><br><span class=\"line\"> this.socket = socket; </span><br><span class=\"line\"> this.socket.on(&#x27;data&#x27;, this.receiver); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"></span><br><span class=\"line\">WebSocket.prototype.send = function (data) &#123; </span><br><span class=\"line\"> this._send(data); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n<ul>\n<li></li>\n<li><img src=\"/nodejs/images/websocket-1.png\" alt=\"websocket\"></li>\n<li>finfin10</li>\n<li>rsv1rsv2rsv31310</li>\n<li>opcode401501289ping10pongpingpongpingpong</li>\n<li>masked110</li>\n<li>payload length77+167+640~1251261612764</li>\n<li>masking keymasked132</li>\n<li>payload data8</li>\n</ul>\n<p>nodewebsocket</p>\n<ul>\n<li></li>\n<li>JavaScriptWebSocketAPI</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>Node3cryptotlshttpscryptotlsnetTLS/SSLTCPhttpshttp</p>\n<ul>\n<li>TLS/SSL<ul>\n<li><ul>\n<li>TLS/SSL/</li>\n<li><img src=\"/nodejs/images/tls-ssl.png\" alt=\"TLS/SSL\"></li>\n<li>NodeopensslTLS/SSLopenssl<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># </span><br><span class=\"line\">// </span><br><span class=\"line\">$ openssl genrsa -out server.key 1024 </span><br><span class=\"line\">// </span><br><span class=\"line\">$ openssl genrsa -out client.key 1024</span><br><span class=\"line\"></span><br><span class=\"line\">#</span><br><span class=\"line\">$ openssl rsa -in server.key -pubout -out server.pem </span><br><span class=\"line\">$ openssl rsa -in client.key -pubout -out client.pem </span><br></pre></td></tr></table></figure></li>\n<li>TLS/SSL</li>\n</ul>\n</li>\n<li><ul>\n<li>CACertificate AuthorityCACA</li>\n<li>CACA<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ openssl genrsa -out ca.key 1024 </span><br><span class=\"line\">$ openssl req -new -key ca.key -out ca.csr </span><br><span class=\"line\">$ openssl x509 -req -in ca.csr -signkey ca.key -out ca.crt</span><br></pre></td></tr></table></figure></li>\n<li><img src=\"/nodejs/images/ca.png\" alt=\"CA\"></li>\n<li><img src=\"/nodejs/images/ca-1.png\" alt=\"CA\"></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"TLS\"><a href=\"#TLS\" class=\"headerlink\" title=\"TLS\"></a>TLS</h6><ul>\n<li><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var tls = require(&#x27;tls&#x27;); </span><br><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var options = &#123; </span><br><span class=\"line\"> key: fs.readFileSync(&#x27;./keys/server.key&#x27;), </span><br><span class=\"line\"> cert: fs.readFileSync(&#x27;./keys/server.crt&#x27;), </span><br><span class=\"line\"> requestCert: true, </span><br><span class=\"line\"> ca: [ fs.readFileSync(&#x27;./keys/ca.crt&#x27;) ] </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">var server = tls.createServer(options, function (stream) &#123; </span><br><span class=\"line\"> console.log(&#x27;server connected&#x27;, stream.authorized ? &#x27;authorized&#x27; : &#x27;unauthorized&#x27;); </span><br><span class=\"line\"> stream.write(&quot;welcome!\\n&quot;); </span><br><span class=\"line\"> stream.setEncoding(&#x27;utf8&#x27;); </span><br><span class=\"line\"> stream.pipe(stream); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">server.listen(8000, function() &#123;</span><br><span class=\"line\">  console.log(&#x27;server bound&#x27;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ openssl s_client -connect 127.0.0.1:8000</span><br></pre></td></tr></table></figure></li>\n<li>TLS<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// </span><br><span class=\"line\">$ openssl genrsa -out client.key 1024 </span><br><span class=\"line\">// CSR </span><br><span class=\"line\">$ openssl req -new -key client.key -out client.csr </span><br><span class=\"line\">// </span><br><span class=\"line\">$ openssl x509 -req -CA ca.crt -CAkey ca.key -CAcreateserial -in client.csr -out client.crt</span><br><span class=\"line\"></span><br><span class=\"line\">var tls = require(&#x27;tls&#x27;); </span><br><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var options = &#123; </span><br><span class=\"line\"> key: fs.readFileSync(&#x27;./keys/client.key&#x27;), </span><br><span class=\"line\"> cert: fs.readFileSync(&#x27;./keys/client.crt&#x27;), </span><br><span class=\"line\"> ca: [ fs.readFileSync(&#x27;./keys/ca.crt&#x27;) ] </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">var stream = tls.connect(8000, options, function () &#123; </span><br><span class=\"line\"> console.log(&#x27;client connected&#x27;, stream.authorized ? &#x27;authorized&#x27; : &#x27;unauthorized&#x27;); </span><br><span class=\"line\"> process.stdin.pipe(stream); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">stream.setEncoding(&#x27;utf8&#x27;); </span><br><span class=\"line\">stream.on(&#x27;data&#x27;, function(data) &#123; </span><br><span class=\"line\"> console.log(data); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">stream.on(&#x27;end&#x27;, function() &#123; </span><br><span class=\"line\"> server.close(); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure></li>\n</ul>\n<h6 id=\"HTTPS\"><a href=\"#HTTPS\" class=\"headerlink\" title=\"HTTPS\"></a>HTTPS</h6><ul>\n<li>HTTPS<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var https = require(&#x27;https&#x27;); </span><br><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var options = &#123; </span><br><span class=\"line\"> key: fs.readFileSync(&#x27;./keys/server.key&#x27;), </span><br><span class=\"line\"> cert: fs.readFileSync(&#x27;./keys/server.crt&#x27;) </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">https.createServer(options, function (req, res) &#123; </span><br><span class=\"line\"> res.writeHead(200); </span><br><span class=\"line\"> res.end(&quot;hello world\\n&quot;); </span><br><span class=\"line\">&#125;).listen(8000);</span><br><span class=\"line\"></span><br><span class=\"line\">$ curl https://localhost:8000/ </span><br><span class=\"line\">curl: (60) SSL certificate problem, verify that the CA cert is OK. Details: </span><br><span class=\"line\">error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed </span><br><span class=\"line\">More details here: http://curl.haxx.se/docs/sslcerts.html </span><br><span class=\"line\">curl performs SSL certificate verification by default, using a &quot;bundle&quot; </span><br><span class=\"line\"> of Certificate Authority (CA) public keys (CA certs). If the default </span><br><span class=\"line\"> bundle file isn&#x27;t adequate, you can specify an alternate file </span><br><span class=\"line\"> using the --cacert option. </span><br><span class=\"line\">If this HTTPS server uses a certificate signed by a CA represented in </span><br><span class=\"line\"> the bundle, the certificate verification probably failed due to a </span><br><span class=\"line\"> problem with the certificate (it might be expired, or the name might </span><br><span class=\"line\"> not match the domain name in the URL). </span><br><span class=\"line\">If you&#x27;d like to turn off curl&#x27;s verification of the certificate, use </span><br><span class=\"line\"> the -k (or --insecure) option.</span><br></pre></td></tr></table></figure>\ncurl<ul>\n<li>-kcurl</li>\n<li>curlcacertCA<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ curl -k https://localhost:8000/ </span><br><span class=\"line\">hello world</span><br><span class=\"line\"></span><br><span class=\"line\">$ curl --cacert keys/ca.crt https://localhost:8000/ </span><br><span class=\"line\">hello world </span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>HTTPS<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var https = require(&#x27;https&#x27;); </span><br><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var options = &#123; </span><br><span class=\"line\"> hostname: &#x27;localhost&#x27;, </span><br><span class=\"line\"> port: 8000, </span><br><span class=\"line\"> path: &#x27;/&#x27;, </span><br><span class=\"line\"> method: &#x27;GET&#x27;, </span><br><span class=\"line\"> key: fs.readFileSync(&#x27;./keys/client.key&#x27;), </span><br><span class=\"line\"> cert: fs.readFileSync(&#x27;./keys/client.crt&#x27;), </span><br><span class=\"line\"> ca: [fs.readFileSync(&#x27;./keys/ca.crt&#x27;)] </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">options.agent = new https.Agent(options); </span><br><span class=\"line\">var req = https.request(options, function(res) &#123; </span><br><span class=\"line\"> res.setEncoding(&#x27;utf-8&#x27;); </span><br><span class=\"line\"> res.on(&#x27;data&#x27;, function(d) &#123; </span><br><span class=\"line\"> console.log(d); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">req.end(); </span><br><span class=\"line\">req.on(&#x27;error&#x27;, function(e) &#123; </span><br><span class=\"line\"> console.log(e); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\nca: [Error: UNABLE_TO_VERIFY_LEAF_SIGNATURE]<br>rejectUnauthorizedfalsecurl-k</li>\n</ul>\n<p>??? send()onmessage()send()<br>onmessage()send()<br></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><p>V8 </p>\n<ul>\n<li>V8JavaScript</li>\n<li>V8V8V8V8</li>\n<li>Nodemax-old-space-sizemax-new-space-size</li>\n</ul>\n</li>\n<li><p>V8 </p>\n<ul>\n<li>V8<ul>\n<li>V8</li>\n<li>V8V8</li>\n<li>V8max-old-space-size-max-new-space-sizeV8</li>\n<li>64321.4 GB0.7 GB</li>\n<li>643232 MB16 MB</li>\n</ul>\n</li>\n<li>Scavenge<ul>\n<li>ScavengeScavengeCheney</li>\n<li>CheneysemispacesemispacesemispaceFromToFromFromToFromTosemispace</li>\n<li>ScavengeFromToFromToFromToScavengeTo</li>\n<li><img src=\"/nodejs/images/v8-promot.png\" alt=\"\"></li>\n<li><img src=\"/nodejs/images/v8-promot2.png\" alt=\"\"></li>\n</ul>\n</li>\n<li>Mark-Sweep &amp; Mark-Compact<ul>\n<li>V8Mark-SweepMark-CompactMark-SweepScavengeMark-SweepScavengeMark-Sweep</li>\n<li>Mark-Sweep</li>\n<li>Mark-CompactMark-CompactMark-Sweep</li>\n<li><img src=\"/nodejs/images/sweep-compact.png\" alt=\"\"></li>\n<li><img src=\"/nodejs/images/collect-diff.png\" alt=\"\"></li>\n<li>V8Mark-SweepMark-Compact</li>\n</ul>\n</li>\n<li>Incremental Marking<ul>\n<li>3stop-the-worldV8V8full </li>\n<li>V8incremental markingJavaScript</li>\n<li><img src=\"/nodejs/images/increase-target.png\" alt=\"\"></li>\n</ul>\n</li>\n<li><ul>\n<li>trace_gc</li>\n<li>NodeprofV8<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li><p></p>\n<ul>\n<li>closure</li>\n</ul>\n</li>\n<li><p>: process.memoryUsage()ostotalmem()freemem()</p>\n<ul>\n<li><ul>\n<li><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ node </span><br><span class=\"line\">&gt; process.memoryUsage() </span><br><span class=\"line\">&#123; <span class=\"attr\">rss</span>: <span class=\"number\">13852672</span>, </span><br><span class=\"line\"> <span class=\"attr\">heapTotal</span>: <span class=\"number\">6131200</span>, </span><br><span class=\"line\"> <span class=\"attr\">heapUsed</span>: <span class=\"number\">2757120</span> &#125; </span><br></pre></td></tr></table></figure></li>\n<li>rssresident set sizerssswapfilesystemrssheapTotalheapUsedV8heapTotalheapUsed3</li>\n</ul>\n</li>\n<li><ol start=\"2\">\n<li></li>\n</ol>\n<ul>\n<li>process.memoryUsage()ostotalmem()freemem()</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>: V8</p>\n<ul>\n<li>BufferV8<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var useMem = function () &#123; </span><br><span class=\"line\"> var size = 200 * 1024 * 1024; </span><br><span class=\"line\"> var buffer = new Buffer(size); </span><br><span class=\"line\"> for (var i = 0; i &lt; size; i++) &#123; </span><br><span class=\"line\"> buffer[i] = 0; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> return buffer; </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6>Node</li>\n</ul>\n</li>\n</ul>\n<p></p>\n<ul>\n<li><ul>\n<li>Node</li>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li><ul>\n<li></li>\n<li>LRU<a href=\"https://github.com/isaacs/node-lru-cache\">https://github.com/isaacs/node-lru-cache</a></li>\n</ul>\n</li>\n<li><ul>\n<li><ul>\n<li>(1) </li>\n<li>(2) </li>\n<li>Redis<a href=\"https://github.com/mranney/node_redis%E3%80%82\">https://github.com/mranney/node_redis</a></li>\n<li>Memcached<a href=\"https://github.com/3rd-Eden/node-memcached%E3%80%82\">https://github.com/3rd-Eden/node-memcached</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><ul>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li></li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<ul>\n<li>v8-profiler</li>\n<li>node-heapdump<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var leakArray = []; </span><br><span class=\"line\">var leak = function () &#123; </span><br><span class=\"line\"> leakArray.push(&quot;leak&quot; + Math.random()); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">http.createServer(function (req, res) &#123; </span><br><span class=\"line\"> leak(); </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/plain&#x27;&#125;); </span><br><span class=\"line\"> res.end(&#x27;Hello World\\n&#x27;); </span><br><span class=\"line\">&#125;).listen(1337); </span><br><span class=\"line\">console.log(&#x27;Server running at http://127.0.0.1:1337/&#x27;); </span><br></pre></td></tr></table></figure></li>\n<li>node-mtrace</li>\n<li>dtrace</li>\n<li>node-memwatch<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var memwatch = require(&#x27;memwatch&#x27;); </span><br><span class=\"line\">memwatch.on(&#x27;leak&#x27;, function (info) &#123; </span><br><span class=\"line\"> console.log(&#x27;leak:&#x27;); </span><br><span class=\"line\"> console.log(info); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">memwatch.on(&#x27;stats&#x27;, function (stats) &#123; </span><br><span class=\"line\"> console.log(&#x27;stats:&#x27;) </span><br><span class=\"line\"> console.log(stats); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">var http = require(&#x27;http&#x27;); </span><br><span class=\"line\">var leakArray = []; </span><br><span class=\"line\">var leak = function () &#123; </span><br><span class=\"line\"> leakArray.push(&quot;leak&quot; + Math.random()); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">http.createServer(function (req, res) &#123; </span><br><span class=\"line\"> leak(); </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/plain&#x27;&#125;); </span><br><span class=\"line\"> res.end(&#x27;Hello World\\n&#x27;); </span><br><span class=\"line\">&#125;).listen(1337); </span><br><span class=\"line\">console.log(&#x27;Server running at http://127.0.0.1:1337/&#x27;); </span><br></pre></td></tr></table></figure>\n<ul>\n<li>stats<ul>\n<li>stats<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">stats: </span><br><span class=\"line\">&#123; num_full_gc: 4, // </span><br><span class=\"line\"> num_inc_gc: 23, // </span><br><span class=\"line\"> heap_compactions: 4, // </span><br><span class=\"line\"> usage_trend: 0, // </span><br><span class=\"line\"> estimated_base: 7152944, // </span><br><span class=\"line\"> current_base: 7152944, // </span><br><span class=\"line\"> min: 6720776, // </span><br><span class=\"line\"> max: 7152944 &#125; // </span><br><span class=\"line\">num_full_gcnum_inc_gc</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>leak<ul>\n<li>5node-memwatchleak</li>\n</ul>\n</li>\n<li><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var memwatch = require(&#x27;memwatch&#x27;); </span><br><span class=\"line\">var leakArray = []; </span><br><span class=\"line\">var leak = function () &#123; </span><br><span class=\"line\"> leakArray.push(&quot;leak&quot; + Math.random()); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">// Take first snapshot </span><br><span class=\"line\">var hd = new memwatch.HeapDiff(); </span><br><span class=\"line\">for (var i = 0; i &lt; 10000; i++) &#123; </span><br><span class=\"line\"> leak(); </span><br><span class=\"line\">&#125; </span><br><span class=\"line\">// Take the second snapshot and compute the diff </span><br><span class=\"line\">var diff = hd.end(); </span><br><span class=\"line\">console.log(JSON.stringify(diff, null, 2));</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>streamstreamNodestreamEventEmitter</p>\n<p>V8fs.readFile()fs.writeFile()fs.createReadStream()fs.createWriteStream()</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var reader = fs.createReadStream(&#x27;in.txt&#x27;); </span><br><span class=\"line\">var writer = fs.createWriteStream(&#x27;out.txt&#x27;); </span><br><span class=\"line\">reader.pipe(writer); </span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Buffer\"><a href=\"#Buffer\" class=\"headerlink\" title=\"Buffer\"></a>Buffer</h4><p>BufferArray</p>\n<ul>\n<li><ul>\n<li>BufferJavaScriptC++C++JavaScript</li>\n<li><img src=\"/nodejs/images/buffer.png\" alt=\"buffer\"></li>\n<li>BufferNodeglobalBufferrequire()</li>\n</ul>\n</li>\n<li>Buffer<ul>\n<li>Buffer160255</li>\n<li>025602552552560~255<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">buf[20] = -100; </span><br><span class=\"line\">console.log(buf[20]); // 156 </span><br><span class=\"line\">buf[21] = 300; </span><br><span class=\"line\">console.log(buf[21]); // 44 </span><br><span class=\"line\">buf[22] = 3.1415; </span><br><span class=\"line\">console.log(buf[22]); // 3 </span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>Buffer<ul>\n<li>BufferV8NodeC++</li>\n<li>NodeC++JavaScript</li>\n<li>Nodeslab,<ul>\n<li>full</li>\n<li>partial</li>\n<li>empty</li>\n</ul>\n</li>\n<li>Node8 KBBuffer,8 KBslabJavaScript<ul>\n<li>Buffer<ul>\n<li>Buffer8 KBNodeBufferpoolslab</li>\n<li><img src=\"/nodejs/images/buffer-1.png\" alt=\"buffer\"></li>\n<li>Bufferslabslab</li>\n<li><img src=\"/nodejs/images/buffer-2.png\" alt=\"buffer\"></li>\n<li>slabslabslab</li>\n<li><img src=\"/nodejs/images/buffer-3.png\" alt=\"buffer\"></li>\n<li>slabBufferBufferslab8 KB1Buffer8 KB</li>\n</ul>\n</li>\n<li>Buffer<ul>\n<li>8 KBBufferSlowBufferslabslabBuffer</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"Buffer-\"><a href=\"#Buffer-\" class=\"headerlink\" title=\"Buffer \"></a>Buffer </h6><p>Buffer,:</p>\n<ul>\n<li><p>ASCII</p>\n</li>\n<li><p>UTF-8</p>\n</li>\n<li><p>UTF-16LE/UCS-2</p>\n</li>\n<li><p>Base64</p>\n</li>\n<li><p>Binary</p>\n</li>\n<li><p>Hex</p>\n</li>\n<li><p>Buffer</p>\n<ul>\n<li>Buffernew Buffer(str, [encoding]);</li>\n<li>BufferencodingUTF-8</li>\n<li>Buffer</li>\n</ul>\n</li>\n<li><p>Buffer</p>\n<ul>\n<li>BufferBuffertoString()Bufferbuf.toString([encoding], [start], [end]) </li>\n<li>encodingUTF-8startend3Buffer</li>\n</ul>\n</li>\n<li><p>Buffer</p>\n<ul>\n<li>BufferisEncoding()Buffer.isEncoding(encoding)</li>\n<li>GBKGB2312BIG-5</li>\n<li>Nodeiconviconv-liteWindows 125ISO-8859IBM/DOSMacintoshKOI8Latin1US-ASCIIGBKGB2312</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"Buffer-\"><a href=\"#Buffer-\" class=\"headerlink\" title=\"Buffer \"></a>Buffer </h6><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var rs = fs.createReadStream(&#x27;test.md&#x27;); </span><br><span class=\"line\">var data = &#x27;&#x27;; </span><br><span class=\"line\">rs.on(&quot;data&quot;, function (chunk)&#123; </span><br><span class=\"line\"> data += chunk; </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">rs.on(&quot;end&quot;, function () &#123; </span><br><span class=\"line\"> console.log(data); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\n<ul>\n<li>Buffer</li>\n<li>setEncoding()string_decoder()<ul>\n<li>setEncodingdataBuffer</li>\n<li>string_decoderUTF-8Base64UCS-2/UTF-16LE3setEncoding()</li>\n</ul>\n</li>\n<li>Buffer<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var chunks = []; </span><br><span class=\"line\">var size = 0; </span><br><span class=\"line\">res.on(&#x27;data&#x27;, function (chunk) &#123; </span><br><span class=\"line\"> chunks.push(chunk); </span><br><span class=\"line\"> size += chunk.length; </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">res.on(&#x27;end&#x27;, function () &#123; </span><br><span class=\"line\">   var buf = Buffer.concat(chunks, size); </span><br><span class=\"line\"> var str = iconv.decode(buf, &#x27;utf8&#x27;); </span><br><span class=\"line\"> console.log(str); </span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<ul>\n<li>BufferBuffer.concat()Buffer</li>\n<li>Buffer.concat()BufferBuffer<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Buffer.concat = function(list, length) &#123; </span><br><span class=\"line\"> if (!Array.isArray(list)) &#123; </span><br><span class=\"line\"> throw new Error(&#x27;Usage: Buffer.concat(list, [length])&#x27;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> if (list.length === 0) &#123; </span><br><span class=\"line\"> return new Buffer(0); </span><br><span class=\"line\"> &#125; else if (list.length === 1) &#123; </span><br><span class=\"line\"> return list[0]; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> if (typeof length !== &#x27;number&#x27;) &#123; </span><br><span class=\"line\"> length = 0; </span><br><span class=\"line\"> for (var i = 0; i &lt; list.length; i++) &#123; </span><br><span class=\"line\"> var buf = list[i]; </span><br><span class=\"line\"> length += buf.length; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> var buffer = new Buffer(length); </span><br><span class=\"line\"> var pos = 0; </span><br><span class=\"line\"> for (var i = 0; i &lt; list.length; i++) &#123; </span><br><span class=\"line\"> var buf = list[i]; </span><br><span class=\"line\"> buf.copy(buffer, pos); </span><br><span class=\"line\"> pos += buf.length; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> return buffer; </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n<h6 id=\"Buffer-\"><a href=\"#Buffer-\" class=\"headerlink\" title=\"Buffer \"></a>Buffer </h6>BufferCPUNodeWebBufferBuffer</li>\n</ul>\n</li>\n<li><ul>\n<li>highWaterMark<ul>\n<li>highWaterMark<ul>\n<li>highWaterMarkBuffer</li>\n<li>highWaterMark</li>\n</ul>\n</li>\n<li>highWaterMark</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Nodenetdgramhttphttps4TCPUDPHTTPHTTPS</p>\n<ul>\n<li> TCP <ul>\n<li>TCP<ul>\n<li>TCPOSITCPHTTPSMTPIMAP</li>\n<li><img src=\"/nodejs/images/net-1.png\" alt=\"\"></li>\n<li>TCP3</li>\n<li><img src=\"/nodejs/images/net-2.png\" alt=\"\"></li>\n</ul>\n</li>\n<li>TCP<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var net = require(&#x27;net&#x27;); </span><br><span class=\"line\">var server = net.createServer(function (socket) &#123; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> socket.on(&#x27;data&#x27;, function (data) &#123; </span><br><span class=\"line\"> socket.write(&quot;&quot;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> socket.on(&#x27;end&#x27;, function () &#123; </span><br><span class=\"line\"> console.log(&#x27;&#x27;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> socket.write(&quot;Node.js\\n&quot;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">server.listen(8124, function () &#123; </span><br><span class=\"line\"> console.log(&#x27;server bound&#x27;); </span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></li>\n<li>TCP<ul>\n<li><ul>\n<li>listeningserver.listen()Domain Socketserver.listen(port,listeningListener)listen()</li>\n<li>connectionnet.create\u0002Server()</li>\n<li>closeserver.close()</li>\n<li>errorerror</li>\n</ul>\n</li>\n<li><ul>\n<li>datawrite()datawrite()</li>\n<li>endFIN</li>\n<li>connect</li>\n<li>drainwrite()</li>\n<li>error</li>\n<li>close</li>\n<li>timeout</li>\n</ul>\n</li>\n<li>TCPNagleNagleNagle</li>\n<li>NodeTCPNaglesocket.setNoDelay(true)Naglewrite()</li>\n<li>write()datawrite()dataNagledata<h6 id=\"-UDP-\"><a href=\"#-UDP-\" class=\"headerlink\" title=\" UDP \"></a> UDP </h6>UDPTCPUDPTCPUDPTCPTCPUDPUDPUDPDNS</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>UDP<ul>\n<li>UDPUDP</li>\n<li>var dgram = require(dgram); var socket = dgram.createSocket(udp4);</li>\n</ul>\n</li>\n<li>UDP<ul>\n<li>UDPdgram.bind(port, [address])<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var dgram = require(&quot;dgram&quot;); </span><br><span class=\"line\">var server = dgram.createSocket(&quot;udp4&quot;); </span><br><span class=\"line\">server.on(&quot;message&quot;, function (msg, rinfo) &#123; </span><br><span class=\"line\"> console.log(&quot;server got: &quot; + msg + &quot; from &quot; + </span><br><span class=\"line\"> rinfo.address + &quot;:&quot; + rinfo.port); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">server.on(&quot;listening&quot;, function () &#123; </span><br><span class=\"line\"> var address = server.address();</span><br><span class=\"line\"> console.log(&quot;server listening &quot; + </span><br><span class=\"line\"> address.address + &quot;:&quot; + address.port); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">server.bind(41234);</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>UDP<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var dgram = require(&#x27;dgram&#x27;); </span><br><span class=\"line\">var message = new Buffer(&quot;Node.js&quot;); </span><br><span class=\"line\">var client = dgram.createSocket(&quot;udp4&quot;); </span><br><span class=\"line\">client.send(message, 0, message.length, 41234, &quot;localhost&quot;, function(err, bytes) &#123; </span><br><span class=\"line\"> client.close(); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br><span class=\"line\">socket.send(buf, offset, length, port, address, [callback])</span><br><span class=\"line\">// BufferBufferBuffer</span><br></pre></td></tr></table></figure></li>\n<li>UDP<ul>\n<li>UDPTCPEventEmitterStream<ul>\n<li>messageUDPBuffer</li>\n<li>listeningUDP</li>\n<li>closeclose()messagemessage</li>\n<li>error</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"-HTTP-\"><a href=\"#-HTTP-\" class=\"headerlink\" title=\" HTTP \"></a> HTTP </h6><ul>\n<li>HTTP<ul>\n<li>HTTP<ul>\n<li>HTTPHyperText Transfer Protocol</li>\n<li>HTTPTCPHTTPB/SWebHTTP</li>\n<li>HTTPW3CIETFRFCHTTPRFC 2616</li>\n</ul>\n</li>\n<li> HTTP<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ curl -v http://127.0.0.1:1337 </span><br><span class=\"line\">* About to connect() to 127.0.0.1 port 1337 (#0) </span><br><span class=\"line\">* Trying 127.0.0.1... </span><br><span class=\"line\">* connected </span><br><span class=\"line\">* Connected to 127.0.0.1 (127.0.0.1) port 1337 (#0) </span><br><span class=\"line\">&gt; GET / HTTP/1.1 </span><br><span class=\"line\">&gt; User-Agent: curl/7.24.0 (x86_64-apple-darwin12.0) libcurl/7.24.0 OpenSSL/0.9.8r zlib/1.2.5 </span><br><span class=\"line\">&gt; Host: 127.0.0.1:1337 </span><br><span class=\"line\">&gt; Accept: */* </span><br><span class=\"line\">&gt; </span><br><span class=\"line\">&lt; HTTP/1.1 200 OK </span><br><span class=\"line\">&lt; Content-Type: text/plain </span><br><span class=\"line\">&lt; Date: Sat, 06 Apr 2013 08:01:44 GMT </span><br><span class=\"line\">&lt; Connection: keep-alive </span><br><span class=\"line\">&lt; Transfer-Encoding: chunked </span><br><span class=\"line\">&lt; </span><br><span class=\"line\">Hello World</span><br><span class=\"line\">* Connection #0 to host 127.0.0.1 left intact </span><br><span class=\"line\">* Closing connection #0</span><br></pre></td></tr></table></figure></li>\n<li>HTTPHTTPHTTP</li>\n<li>http<ul>\n<li>NodeHTTPTCPnetHTTPTCPkeepaliveTCPTCPconnectionHTTPrequest</li>\n<li><img src=\"/nodejs/images/net-3.png\" alt=\"http\"></li>\n<li>httpServerRequestServerResponsehttphttp_parserrequest</li>\n<li><img src=\"/nodejs/images/net-4.png\" alt=\"http\"><ul>\n<li>HTTP<ul>\n<li>connectionHTTPTCPkeep-aliveconnection</li>\n<li>requestTCPhttpHTTPHTTPHTTPres.end()TCP</li>\n<li>closeTCPserver.close()server.close()</li>\n<li>checkContinueExpect: 100-continuecheckContinue100 Continue400 Bad Requestrequest100 Continuerequest</li>\n<li>connectCONNECTCONNECTHTTP</li>\n<li>upgradeUpgradeWebSocket</li>\n<li>clientErrorerror<h6 id=\"HTTP\"><a href=\"#HTTP\" class=\"headerlink\" title=\"HTTP\"></a>HTTP</h6>httpAPIhttp.request(options, connect)HTTP<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var options = &#123; </span><br><span class=\"line\"> hostname: &#x27;127.0.0.1&#x27;, </span><br><span class=\"line\"> port: 1334, </span><br><span class=\"line\"> path: &#x27;/&#x27;, </span><br><span class=\"line\"> method: &#x27;GET&#x27; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">var req = http.request(options, function(res) &#123; </span><br><span class=\"line\"> console.log(&#x27;STATUS: &#x27; + res.statusCode); </span><br><span class=\"line\"> console.log(&#x27;HEADERS: &#x27; + JSON.stringify(res.headers)); </span><br><span class=\"line\"> res.setEncoding(&#x27;utf8&#x27;); </span><br><span class=\"line\"> res.on(&#x27;data&#x27;, function (chunk) &#123; </span><br><span class=\"line\"> console.log(chunk); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">req.end();</span><br></pre></td></tr></table></figure>\nHTTP:</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>hostIPlocalhost</li>\n<li>hostname</li>\n<li>port80</li>\n<li>localAddress</li>\n<li>socketPathDomain</li>\n<li>methodHTTPGET</li>\n<li>path/</li>\n<li>headers</li>\n<li>authBasicAuthorization</li>\n</ul>\n<ul>\n<li>HTTP<ul>\n<li>HTTPClientRequestresponseClientRequestresponseClientResponse<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function(res) &#123; </span><br><span class=\"line\"> console.log(&#x27;STATUS: &#x27; + res.statusCode); </span><br><span class=\"line\"> console.log(&#x27;HEADERS: &#x27; + JSON.stringify(res.headers)); </span><br><span class=\"line\"> res.setEncoding(&#x27;utf8&#x27;); </span><br><span class=\"line\"> res.on(&#x27;data&#x27;, function (chunk) &#123; </span><br><span class=\"line\"> console.log(chunk); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>HTTP <ul>\n<li>httpClientRequestTCPkeepaliveTCPhttphttp.globalAgenthost + portClientRequestHTTP5</li>\n<li><img src=\"./images/http.png\" alt=\"http\"></li>\n<li>HTTP10HTTP5</li>\n<li>ClientRequestHTTPoptionsagent5<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var agent = new http.Agent(&#123; </span><br><span class=\"line\"> maxSockets: 10 </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">var options = &#123; </span><br><span class=\"line\"> hostname: &#x27;127.0.0.1&#x27;, </span><br><span class=\"line\"> port: 1334, </span><br><span class=\"line\"> path: &#x27;/&#x27;, </span><br><span class=\"line\"> method: &#x27;GET&#x27;, </span><br><span class=\"line\"> agent: agent </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure></li>\n<li>agentfalse</li>\n</ul>\n</li>\n<li>HTTP<ul>\n<li>responserequest</li>\n<li>socket</li>\n<li>connectCONNECT200</li>\n<li>upgradeUpgrade101 Switching Protocols</li>\n<li>continueExpect: 100-continue100 Continue</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"-WebSocket-\"><a href=\"#-WebSocket-\" class=\"headerlink\" title=\" WebSocket \"></a> WebSocket </h6><ul>\n<li>WebSocketNode</li>\n<li>WebSocketNode</li>\n</ul>\n<p>websockethttp</p>\n<ul>\n<li>TCP</li>\n<li>WebSocketHTTP</li>\n<li></li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var socket = new WebSocket(&#x27;ws://127.0.0.1:12010/updates&#x27;); </span><br><span class=\"line\">socket.onopen = function () &#123; </span><br><span class=\"line\"> setInterval(function() &#123; </span><br><span class=\"line\"> if (socket.bufferedAmount == 0) </span><br><span class=\"line\"> socket.send(getUpdateData()); </span><br><span class=\"line\"> &#125;, 50); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">socket.onmessage = function (event) &#123; </span><br><span class=\"line\"> // TODOevent.data </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>WebSocketCometCometlong-pollingiframeres.end()Comet</p>\n<ul>\n<li>WebSocket<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET /chat HTTP/1.1 </span><br><span class=\"line\">Host: server.example.com </span><br><span class=\"line\">Upgrade: websocket </span><br><span class=\"line\">Connection: Upgrade </span><br><span class=\"line\">Sec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ== </span><br><span class=\"line\">Sec-WebSocket-Protocol: chat, superchat </span><br><span class=\"line\">Sec-WebSocket-Version: 13 </span><br></pre></td></tr></table></figure>\n<ul>\n<li>Upgrade/ConnectionWebSocketSec-WebSocket-Key</li>\n<li>Sec-WebSocket-KeyBase64258EAFA5-E914-47DA-95CA-C5AB0DC85B11dGhlIHNhbXBsZSBub25jZQ==258EAFA5-E914-47DA-95CA-C5AB0DC85B11sha1Base64</li>\n<li><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HTTP/1.1 101 Switching Protocols </span><br><span class=\"line\">Upgrade: websocket </span><br><span class=\"line\">Connection: Upgrade </span><br><span class=\"line\">Sec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK+xOo= </span><br><span class=\"line\">Sec-WebSocket-Protocol: chat</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n</ul>\n<h6 id=\"WebSocket\"><a href=\"#WebSocket\" class=\"headerlink\" title=\"WebSocket\"></a>WebSocket</h6><p><img src=\"/nodejs/images/websocket.png\" alt=\"websocket\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">WebSocket.prototype.setSocket = function (socket) &#123; </span><br><span class=\"line\"> this.socket = socket; </span><br><span class=\"line\"> this.socket.on(&#x27;data&#x27;, this.receiver); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"></span><br><span class=\"line\">WebSocket.prototype.send = function (data) &#123; </span><br><span class=\"line\"> this._send(data); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n<ul>\n<li></li>\n<li><img src=\"/nodejs/images/websocket-1.png\" alt=\"websocket\"></li>\n<li>finfin10</li>\n<li>rsv1rsv2rsv31310</li>\n<li>opcode401501289ping10pongpingpongpingpong</li>\n<li>masked110</li>\n<li>payload length77+167+640~1251261612764</li>\n<li>masking keymasked132</li>\n<li>payload data8</li>\n</ul>\n<p>nodewebsocket</p>\n<ul>\n<li></li>\n<li>JavaScriptWebSocketAPI</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>Node3cryptotlshttpscryptotlsnetTLS/SSLTCPhttpshttp</p>\n<ul>\n<li>TLS/SSL<ul>\n<li><ul>\n<li>TLS/SSL/</li>\n<li><img src=\"/nodejs/images/tls-ssl.png\" alt=\"TLS/SSL\"></li>\n<li>NodeopensslTLS/SSLopenssl<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># </span><br><span class=\"line\">// </span><br><span class=\"line\">$ openssl genrsa -out server.key 1024 </span><br><span class=\"line\">// </span><br><span class=\"line\">$ openssl genrsa -out client.key 1024</span><br><span class=\"line\"></span><br><span class=\"line\">#</span><br><span class=\"line\">$ openssl rsa -in server.key -pubout -out server.pem </span><br><span class=\"line\">$ openssl rsa -in client.key -pubout -out client.pem </span><br></pre></td></tr></table></figure></li>\n<li>TLS/SSL</li>\n</ul>\n</li>\n<li><ul>\n<li>CACertificate AuthorityCACA</li>\n<li>CACA<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ openssl genrsa -out ca.key 1024 </span><br><span class=\"line\">$ openssl req -new -key ca.key -out ca.csr </span><br><span class=\"line\">$ openssl x509 -req -in ca.csr -signkey ca.key -out ca.crt</span><br></pre></td></tr></table></figure></li>\n<li><img src=\"/nodejs/images/ca.png\" alt=\"CA\"></li>\n<li><img src=\"/nodejs/images/ca-1.png\" alt=\"CA\"></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"TLS\"><a href=\"#TLS\" class=\"headerlink\" title=\"TLS\"></a>TLS</h6><ul>\n<li><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var tls = require(&#x27;tls&#x27;); </span><br><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var options = &#123; </span><br><span class=\"line\"> key: fs.readFileSync(&#x27;./keys/server.key&#x27;), </span><br><span class=\"line\"> cert: fs.readFileSync(&#x27;./keys/server.crt&#x27;), </span><br><span class=\"line\"> requestCert: true, </span><br><span class=\"line\"> ca: [ fs.readFileSync(&#x27;./keys/ca.crt&#x27;) ] </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">var server = tls.createServer(options, function (stream) &#123; </span><br><span class=\"line\"> console.log(&#x27;server connected&#x27;, stream.authorized ? &#x27;authorized&#x27; : &#x27;unauthorized&#x27;); </span><br><span class=\"line\"> stream.write(&quot;welcome!\\n&quot;); </span><br><span class=\"line\"> stream.setEncoding(&#x27;utf8&#x27;); </span><br><span class=\"line\"> stream.pipe(stream); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">server.listen(8000, function() &#123;</span><br><span class=\"line\">  console.log(&#x27;server bound&#x27;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ openssl s_client -connect 127.0.0.1:8000</span><br></pre></td></tr></table></figure></li>\n<li>TLS<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// </span><br><span class=\"line\">$ openssl genrsa -out client.key 1024 </span><br><span class=\"line\">// CSR </span><br><span class=\"line\">$ openssl req -new -key client.key -out client.csr </span><br><span class=\"line\">// </span><br><span class=\"line\">$ openssl x509 -req -CA ca.crt -CAkey ca.key -CAcreateserial -in client.csr -out client.crt</span><br><span class=\"line\"></span><br><span class=\"line\">var tls = require(&#x27;tls&#x27;); </span><br><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var options = &#123; </span><br><span class=\"line\"> key: fs.readFileSync(&#x27;./keys/client.key&#x27;), </span><br><span class=\"line\"> cert: fs.readFileSync(&#x27;./keys/client.crt&#x27;), </span><br><span class=\"line\"> ca: [ fs.readFileSync(&#x27;./keys/ca.crt&#x27;) ] </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">var stream = tls.connect(8000, options, function () &#123; </span><br><span class=\"line\"> console.log(&#x27;client connected&#x27;, stream.authorized ? &#x27;authorized&#x27; : &#x27;unauthorized&#x27;); </span><br><span class=\"line\"> process.stdin.pipe(stream); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">stream.setEncoding(&#x27;utf8&#x27;); </span><br><span class=\"line\">stream.on(&#x27;data&#x27;, function(data) &#123; </span><br><span class=\"line\"> console.log(data); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">stream.on(&#x27;end&#x27;, function() &#123; </span><br><span class=\"line\"> server.close(); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure></li>\n</ul>\n<h6 id=\"HTTPS\"><a href=\"#HTTPS\" class=\"headerlink\" title=\"HTTPS\"></a>HTTPS</h6><ul>\n<li>HTTPS<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var https = require(&#x27;https&#x27;); </span><br><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var options = &#123; </span><br><span class=\"line\"> key: fs.readFileSync(&#x27;./keys/server.key&#x27;), </span><br><span class=\"line\"> cert: fs.readFileSync(&#x27;./keys/server.crt&#x27;) </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">https.createServer(options, function (req, res) &#123; </span><br><span class=\"line\"> res.writeHead(200); </span><br><span class=\"line\"> res.end(&quot;hello world\\n&quot;); </span><br><span class=\"line\">&#125;).listen(8000);</span><br><span class=\"line\"></span><br><span class=\"line\">$ curl https://localhost:8000/ </span><br><span class=\"line\">curl: (60) SSL certificate problem, verify that the CA cert is OK. Details: </span><br><span class=\"line\">error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed </span><br><span class=\"line\">More details here: http://curl.haxx.se/docs/sslcerts.html </span><br><span class=\"line\">curl performs SSL certificate verification by default, using a &quot;bundle&quot; </span><br><span class=\"line\"> of Certificate Authority (CA) public keys (CA certs). If the default </span><br><span class=\"line\"> bundle file isn&#x27;t adequate, you can specify an alternate file </span><br><span class=\"line\"> using the --cacert option. </span><br><span class=\"line\">If this HTTPS server uses a certificate signed by a CA represented in </span><br><span class=\"line\"> the bundle, the certificate verification probably failed due to a </span><br><span class=\"line\"> problem with the certificate (it might be expired, or the name might </span><br><span class=\"line\"> not match the domain name in the URL). </span><br><span class=\"line\">If you&#x27;d like to turn off curl&#x27;s verification of the certificate, use </span><br><span class=\"line\"> the -k (or --insecure) option.</span><br></pre></td></tr></table></figure>\ncurl<ul>\n<li>-kcurl</li>\n<li>curlcacertCA<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ curl -k https://localhost:8000/ </span><br><span class=\"line\">hello world</span><br><span class=\"line\"></span><br><span class=\"line\">$ curl --cacert keys/ca.crt https://localhost:8000/ </span><br><span class=\"line\">hello world </span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>HTTPS<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var https = require(&#x27;https&#x27;); </span><br><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var options = &#123; </span><br><span class=\"line\"> hostname: &#x27;localhost&#x27;, </span><br><span class=\"line\"> port: 8000, </span><br><span class=\"line\"> path: &#x27;/&#x27;, </span><br><span class=\"line\"> method: &#x27;GET&#x27;, </span><br><span class=\"line\"> key: fs.readFileSync(&#x27;./keys/client.key&#x27;), </span><br><span class=\"line\"> cert: fs.readFileSync(&#x27;./keys/client.crt&#x27;), </span><br><span class=\"line\"> ca: [fs.readFileSync(&#x27;./keys/ca.crt&#x27;)] </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">options.agent = new https.Agent(options); </span><br><span class=\"line\">var req = https.request(options, function(res) &#123; </span><br><span class=\"line\"> res.setEncoding(&#x27;utf-8&#x27;); </span><br><span class=\"line\"> res.on(&#x27;data&#x27;, function(d) &#123; </span><br><span class=\"line\"> console.log(d); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">req.end(); </span><br><span class=\"line\">req.on(&#x27;error&#x27;, function(e) &#123; </span><br><span class=\"line\"> console.log(e); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\nca: [Error: UNABLE_TO_VERIFY_LEAF_SIGNATURE]<br>rejectUnauthorizedfalsecurl-k</li>\n</ul>\n<p>??? send()onmessage()send()<br>onmessage()send()<br></p>\n"},{"title":"nodejs(4)","date":"2022-12-26T13:26:47.000Z","tags":["node","docs"],"_content":"\n#### \n\n###### \n**\n\n- \n- \n- MVC\n\n**\nmockNode\n\n**\nJavaScriptCommonJShttp://wiki.commonjs.org/wiki/Unit_Testing/1.0Node\n```\nvar assert = require('assert'); \nassert.equal(Math.max(1, 100), 100); \n```\n:\n- ok()\n- equal()\n- notEqual()\n- deepEqual()\n- notDeepEqual()\n- strictEqual()===\n- notStrictEqual()!==\n- throws()\nNodeassert\n- doesNotThrow()\n- ifError()nullundefined0''false\n\n**\n\n\n\nTDDBDD:\n- TDDBDD\n- TDDBDD\n\nmochaBDD\n```\ndescribe('Array', function(){ \n before(function(){ \n // ... \n }); \n describe('#indexOf()', function(){ \n it('should return -1 when not present', function(){ \n [1,2,3].indexOf(4).should.equal(-1); \n }); \n }); \n}); \n```\nBDDdescribeitdescribeitbeforeafterbeforeEachafterEach4describebeforeafterdescribebeforeEachafterEachdescribeit\n![](./images/test.png)\nmochaTDD\n```\nsuite('Array', function(){ \n setup(function(){ \n // ... \n }); \n suite('#indexOf()', function(){ \n test('should return -1 when not present', function(){ \n assert.equal(-1, [1,2,3].indexOf(4)); \n }); \n }); \n});\n```\nTDDsuitetestsuitetestsetupteardownBDDbeforeafter\n![](./images/test-1.png)\n\n\nmochamocha --reporters\ndotspecjsonhtml-covmocha -R <reporter>jsonhtml-cov\n\n\nNode\n- \n```\nit('fs.readFile should be ok', function (done) { \n fs.readFile('file_path', 'utf-8', function (err, data) { \n should.not.exist(err); \n done(); \n }); \n}); \n```\nit()titlefnfn.lengthdone()\n- \nmocha\n```\nit('async test', function (done) { \n // \n setTimeout(done, 10000); \n}); \n```\nmocha2000mocha -t <ms>itthis.timeout(ms)\n```\nit('should take less than 500ms', function (done) { \n this.timeout(500); \n setTimeout(done, 300); \n}); \n```\ndescribethis.timeout(ms)\n```\ndescribe('a suite of tests', function(){ \n this.timeout(500); \n it('should take less than 500ms', function (done) { \n setTimeout(done, 300); \n }); \n it('should take less than 500ms as well', function (done) { \n setTimeout(done, 200); \n }); \n}); \n```\n\n**\n\n\njscovernpm install jscover -g\n\njscover:\n- JavaJava\n- \nblanketJavaScript\n\nblanketjscoverblanketrequirerequire\n\njscover--require\nmocha --require blanket -R html-cov > coverage.html \n\nscriptsscriptspattern\n```\n\"scripts\": { \n \"blanket\": { \n \"pattern\": \"eventproxy/lib\" \n } \n}, \n```\nrequire\n\nblanket\n\n*mock*\nmock\n\nmockmuk\n```\nvar fs = require('fs'); \nvar muk = require('muk'); \nbefore(function () { \n muk(fs, 'readFileSync', function(path, encoding) { \n throw new Error(\"mock readFileSync error\"); \n }); \n}); \n// it(); \nafter(function () { \n muk.restore(); \n}); \n\nvar fs = require('fs'); \nvar muk = require('muk'); \nbeforeEach(function () { \n muk(fs, 'readFileSync', function(path, encoding) { \n throw new Error(\"mock readFileSync error\"); \n }); \n}); \n// it(); \n// it(); \nafterEach(function () { \n muk.restore(); \n}); \n```\nmuk.restore()\n\n\n```\nfs.readFile = function (filename, encoding, callback) { \n process.nextTick(function () { \n callback(new Error(\"mock readFile error\")); \n }); \n};\n```\n\n**\nexportsrewire\nrewirerequire\n```\nvar limit = function (num) { \n return num < 0 ? 0 : num; \n}; \n\nit('limit should return success', function () { \n var lib = rewire('../lib/index.js'); \n var litmit = lib.__get__('limit'); \n litmit(10).should.be.equal(10); \n}); \n```\nrewire__set__()__get__()eval()\n\n###### \n**\nNode*nixMakefile\n\n**\ntravis-ci\n\n###### \n\n\n**\n\n\nbenchmark\n```\nvar Benchmark = require('benchmark'); \nvar suite = new Benchmark.Suite(); \nvar arr = [0, 1, 2, 3, 5, 6]; \nsuite.add('nativeMap', function () { \n return arr.map(callback); \n}).add('customMap', function () { \n var ret = []; \n for (var i = 0; i < arr.length; i++) { \n ret.push(callback(arr[i])); \n } \n return ret; \n}).on('cycle', function (event) { \n console.log(String(event.target)); \n}).on('complete', function() { \n console.log('Fastest is ' + this.filter('fastest').pluck('name')); \n}).run(); \n```\n\n###### \n\n\nabsiegehttp_loadab\n```\n$ ab -c 10 -t 3 http://localhost:8001/ \nThis is ApacheBench, Version 2.3 <$Revision: 655654 $> \nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/ \nLicensed to The Apache Software Foundation, http://www.apache.org/ \nBenchmarking localhost (be patient) \nCompleted 5000 requests \nCompleted 10000 requests \nFinished 11573 requests \nServer Software: \nServer Hostname: localhost \nServer Port: 8001 \nDocument Path: / \nDocument Length: 10240 bytes \nConcurrency Level: 10 \nTime taken for tests: 3.000 seconds \nComplete requests: 11573 \nFailed requests: 0 \nWrite errors: 0 \nTotal transferred: 119375495 bytes \nHTML transferred: 118507520 bytes \nRequests per second: 3857.60 [#/sec] (mean) \nTime per request: 2.592 [ms] (mean) \nTime per request: 0.259 [ms] (mean, across all concurrent requests) \nTransfer rate: 38858.59 [Kbytes/sec] received \nConnection Times (ms) \n min mean[+/-sd] median max \nConnect: 0 0 0.3 0 31 \nProcessing: 1 2 1.9 2 35 \nWaiting: 0 2 1.9 2 35 \nTotal: 1 3 2.0 2 35 \nPercentage of the requests served within a certain time (ms) \n 50% 2\n 66% 3 \n 75% 3 \n 80% 3 \n 90% 3\n 95% 3 \n 98% 5 \n 99% 6 \n 100% 35 (longes % t request)\n```\n\n:\n- Document Path/\n- Document Length10KB\n- Concurrency Levelc1010\n- Time taken for testst\n- Complete requests\n- Failed requests\n- Write errors\n- Total transferred\n- HTML transferredHTTP\n- Requests per secondRPSQPS\n- Time per request\n- Transfer rate\n- Connection Times\n\n###### \nBDDBenchmark Driven Development:\n(1) \n(2) /\n(3) \n(4) \n(5)(2)\n![](./images/test-2.png)\n\n####   \n###### \n\n- \n  - WebCommonJS\n- \nNodemake*nixGruntGruntNodeNode\nMakefile\n  - Makefile*nixWindowsMakefileRubyRakefileGemfileMakefile\nGrunt\n  - MakefileantrakeNodeMakefileGrunt\n  - GruntNodeWindows*nix\n  - GruntNPMJavaMavenMakefile\n  - MakefileMakefilebashGrunt\n  - Gruntgrunt-contrib-NPMGrunt3gruntgrunt-initgrunt-cli-g\n\n- \n\n\n- \n\n\n###### \n**\nstagepre-releaseproduct\n\n**\nnohup&nohup node app.js &\n\n###### \nWeb\n- \n- \n- \n- \n\n**\nNodeNginxCDN\n![](./images/product.png)\n\n**\n\n\n**\n**\n\n###### \n**\nWebHTTP\nConnect\n```\nvar app = connect(); \n// \nconnect.logger.format('home', ':remote-addr :response-time - [:date] \":method :url \nHTTP/:http-version\" :status :res[content-length] \":referrer\" \":user-agent\" :res[content-length]'); \napp.use(connect.logger({ \n format: 'home', \n stream: fs.createWriteStream(__dirname + '/logs/access.log') \n}));\n```\n\n**\nbug\nNodeconsole:\n- console.log\n- console.info\n- console.warn\n- console.error\nconsoleloginfoprocess.stdoutwarnerrorprocess.stderrinfoerrorlogwarn\n\nconsoleConsoleconsole\n```\nvar info = fs.createWriteStream(logdir + '/info.log', {flags: 'a', mode: '0666'}); \nvar error = fs.createWriteStream(logdir + '/error.log', {flags: 'a', mode: '0666'}); \nvar logger = new console.Console(info, error); \nlogger.log('Hello world!'); \nlogger.error('segment fault');\n```\nNode\n\n###### \n\n\n\nConsole_stdout_stderr\n\n###### \n\n**\n\n- \n,QPSQPS\n- \n\n\n- \nWeb\n- \n\n\n- \n\n\n- CPU\nCPUCPUIOWait\nCPU70%35%70%\n- CPU load\nCPU loadCPUCPUCPU31515\n- I/O\nI/OI/ONodeI/OI/O\n- \n\n- \n\n- DNS\nDNSDNSDNSDNS\n\n**\n- IM\n- \n\n: Nodenodemailer\n```\nvar nodemailer = require(\"nodemailer\"); \n// SMTP\nvar smtpTransport = nodemailer.createTransport(\"SMTP\", { \n service: \"Gmail\", \n auth: { \n user: \"gmail.user@gmail.com\", \n pass: \"userpass\" \n } \n}); \n// \nvar mailOptions = { \n from: \"Fred Foo  <foo@bar.com>\", // \n to: \"bar@bar.com, baz@bar.com\", // \n subject: \"Hello \", // \n text: \"Hello world \", // \n html: \"<b>Hello world </b>\" // HTML\n} \n// \nsmtpTransport.sendMail(mailOptions, function (err, response) { \n if (err) { \n console.log(err); \n } else { \n console.log(\"Message sent: \" + response.message); \n } \n});\n```\n\n\n\n###### \n- \n![](./images/product-1.png)\n- \n- ","source":"nodejs/nodejs-note-5.md","raw":"---\ntitle: nodejs(4)\ndate: 2022-12-26 21:26:47\ntags: [node, docs]\n---\n\n#### \n\n###### \n**\n\n- \n- \n- MVC\n\n**\nmockNode\n\n**\nJavaScriptCommonJShttp://wiki.commonjs.org/wiki/Unit_Testing/1.0Node\n```\nvar assert = require('assert'); \nassert.equal(Math.max(1, 100), 100); \n```\n:\n- ok()\n- equal()\n- notEqual()\n- deepEqual()\n- notDeepEqual()\n- strictEqual()===\n- notStrictEqual()!==\n- throws()\nNodeassert\n- doesNotThrow()\n- ifError()nullundefined0''false\n\n**\n\n\n\nTDDBDD:\n- TDDBDD\n- TDDBDD\n\nmochaBDD\n```\ndescribe('Array', function(){ \n before(function(){ \n // ... \n }); \n describe('#indexOf()', function(){ \n it('should return -1 when not present', function(){ \n [1,2,3].indexOf(4).should.equal(-1); \n }); \n }); \n}); \n```\nBDDdescribeitdescribeitbeforeafterbeforeEachafterEach4describebeforeafterdescribebeforeEachafterEachdescribeit\n![](./images/test.png)\nmochaTDD\n```\nsuite('Array', function(){ \n setup(function(){ \n // ... \n }); \n suite('#indexOf()', function(){ \n test('should return -1 when not present', function(){ \n assert.equal(-1, [1,2,3].indexOf(4)); \n }); \n }); \n});\n```\nTDDsuitetestsuitetestsetupteardownBDDbeforeafter\n![](./images/test-1.png)\n\n\nmochamocha --reporters\ndotspecjsonhtml-covmocha -R <reporter>jsonhtml-cov\n\n\nNode\n- \n```\nit('fs.readFile should be ok', function (done) { \n fs.readFile('file_path', 'utf-8', function (err, data) { \n should.not.exist(err); \n done(); \n }); \n}); \n```\nit()titlefnfn.lengthdone()\n- \nmocha\n```\nit('async test', function (done) { \n // \n setTimeout(done, 10000); \n}); \n```\nmocha2000mocha -t <ms>itthis.timeout(ms)\n```\nit('should take less than 500ms', function (done) { \n this.timeout(500); \n setTimeout(done, 300); \n}); \n```\ndescribethis.timeout(ms)\n```\ndescribe('a suite of tests', function(){ \n this.timeout(500); \n it('should take less than 500ms', function (done) { \n setTimeout(done, 300); \n }); \n it('should take less than 500ms as well', function (done) { \n setTimeout(done, 200); \n }); \n}); \n```\n\n**\n\n\njscovernpm install jscover -g\n\njscover:\n- JavaJava\n- \nblanketJavaScript\n\nblanketjscoverblanketrequirerequire\n\njscover--require\nmocha --require blanket -R html-cov > coverage.html \n\nscriptsscriptspattern\n```\n\"scripts\": { \n \"blanket\": { \n \"pattern\": \"eventproxy/lib\" \n } \n}, \n```\nrequire\n\nblanket\n\n*mock*\nmock\n\nmockmuk\n```\nvar fs = require('fs'); \nvar muk = require('muk'); \nbefore(function () { \n muk(fs, 'readFileSync', function(path, encoding) { \n throw new Error(\"mock readFileSync error\"); \n }); \n}); \n// it(); \nafter(function () { \n muk.restore(); \n}); \n\nvar fs = require('fs'); \nvar muk = require('muk'); \nbeforeEach(function () { \n muk(fs, 'readFileSync', function(path, encoding) { \n throw new Error(\"mock readFileSync error\"); \n }); \n}); \n// it(); \n// it(); \nafterEach(function () { \n muk.restore(); \n}); \n```\nmuk.restore()\n\n\n```\nfs.readFile = function (filename, encoding, callback) { \n process.nextTick(function () { \n callback(new Error(\"mock readFile error\")); \n }); \n};\n```\n\n**\nexportsrewire\nrewirerequire\n```\nvar limit = function (num) { \n return num < 0 ? 0 : num; \n}; \n\nit('limit should return success', function () { \n var lib = rewire('../lib/index.js'); \n var litmit = lib.__get__('limit'); \n litmit(10).should.be.equal(10); \n}); \n```\nrewire__set__()__get__()eval()\n\n###### \n**\nNode*nixMakefile\n\n**\ntravis-ci\n\n###### \n\n\n**\n\n\nbenchmark\n```\nvar Benchmark = require('benchmark'); \nvar suite = new Benchmark.Suite(); \nvar arr = [0, 1, 2, 3, 5, 6]; \nsuite.add('nativeMap', function () { \n return arr.map(callback); \n}).add('customMap', function () { \n var ret = []; \n for (var i = 0; i < arr.length; i++) { \n ret.push(callback(arr[i])); \n } \n return ret; \n}).on('cycle', function (event) { \n console.log(String(event.target)); \n}).on('complete', function() { \n console.log('Fastest is ' + this.filter('fastest').pluck('name')); \n}).run(); \n```\n\n###### \n\n\nabsiegehttp_loadab\n```\n$ ab -c 10 -t 3 http://localhost:8001/ \nThis is ApacheBench, Version 2.3 <$Revision: 655654 $> \nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/ \nLicensed to The Apache Software Foundation, http://www.apache.org/ \nBenchmarking localhost (be patient) \nCompleted 5000 requests \nCompleted 10000 requests \nFinished 11573 requests \nServer Software: \nServer Hostname: localhost \nServer Port: 8001 \nDocument Path: / \nDocument Length: 10240 bytes \nConcurrency Level: 10 \nTime taken for tests: 3.000 seconds \nComplete requests: 11573 \nFailed requests: 0 \nWrite errors: 0 \nTotal transferred: 119375495 bytes \nHTML transferred: 118507520 bytes \nRequests per second: 3857.60 [#/sec] (mean) \nTime per request: 2.592 [ms] (mean) \nTime per request: 0.259 [ms] (mean, across all concurrent requests) \nTransfer rate: 38858.59 [Kbytes/sec] received \nConnection Times (ms) \n min mean[+/-sd] median max \nConnect: 0 0 0.3 0 31 \nProcessing: 1 2 1.9 2 35 \nWaiting: 0 2 1.9 2 35 \nTotal: 1 3 2.0 2 35 \nPercentage of the requests served within a certain time (ms) \n 50% 2\n 66% 3 \n 75% 3 \n 80% 3 \n 90% 3\n 95% 3 \n 98% 5 \n 99% 6 \n 100% 35 (longes % t request)\n```\n\n:\n- Document Path/\n- Document Length10KB\n- Concurrency Levelc1010\n- Time taken for testst\n- Complete requests\n- Failed requests\n- Write errors\n- Total transferred\n- HTML transferredHTTP\n- Requests per secondRPSQPS\n- Time per request\n- Transfer rate\n- Connection Times\n\n###### \nBDDBenchmark Driven Development:\n(1) \n(2) /\n(3) \n(4) \n(5)(2)\n![](./images/test-2.png)\n\n####   \n###### \n\n- \n  - WebCommonJS\n- \nNodemake*nixGruntGruntNodeNode\nMakefile\n  - Makefile*nixWindowsMakefileRubyRakefileGemfileMakefile\nGrunt\n  - MakefileantrakeNodeMakefileGrunt\n  - GruntNodeWindows*nix\n  - GruntNPMJavaMavenMakefile\n  - MakefileMakefilebashGrunt\n  - Gruntgrunt-contrib-NPMGrunt3gruntgrunt-initgrunt-cli-g\n\n- \n\n\n- \n\n\n###### \n**\nstagepre-releaseproduct\n\n**\nnohup&nohup node app.js &\n\n###### \nWeb\n- \n- \n- \n- \n\n**\nNodeNginxCDN\n![](./images/product.png)\n\n**\n\n\n**\n**\n\n###### \n**\nWebHTTP\nConnect\n```\nvar app = connect(); \n// \nconnect.logger.format('home', ':remote-addr :response-time - [:date] \":method :url \nHTTP/:http-version\" :status :res[content-length] \":referrer\" \":user-agent\" :res[content-length]'); \napp.use(connect.logger({ \n format: 'home', \n stream: fs.createWriteStream(__dirname + '/logs/access.log') \n}));\n```\n\n**\nbug\nNodeconsole:\n- console.log\n- console.info\n- console.warn\n- console.error\nconsoleloginfoprocess.stdoutwarnerrorprocess.stderrinfoerrorlogwarn\n\nconsoleConsoleconsole\n```\nvar info = fs.createWriteStream(logdir + '/info.log', {flags: 'a', mode: '0666'}); \nvar error = fs.createWriteStream(logdir + '/error.log', {flags: 'a', mode: '0666'}); \nvar logger = new console.Console(info, error); \nlogger.log('Hello world!'); \nlogger.error('segment fault');\n```\nNode\n\n###### \n\n\n\nConsole_stdout_stderr\n\n###### \n\n**\n\n- \n,QPSQPS\n- \n\n\n- \nWeb\n- \n\n\n- \n\n\n- CPU\nCPUCPUIOWait\nCPU70%35%70%\n- CPU load\nCPU loadCPUCPUCPU31515\n- I/O\nI/OI/ONodeI/OI/O\n- \n\n- \n\n- DNS\nDNSDNSDNSDNS\n\n**\n- IM\n- \n\n: Nodenodemailer\n```\nvar nodemailer = require(\"nodemailer\"); \n// SMTP\nvar smtpTransport = nodemailer.createTransport(\"SMTP\", { \n service: \"Gmail\", \n auth: { \n user: \"gmail.user@gmail.com\", \n pass: \"userpass\" \n } \n}); \n// \nvar mailOptions = { \n from: \"Fred Foo  <foo@bar.com>\", // \n to: \"bar@bar.com, baz@bar.com\", // \n subject: \"Hello \", // \n text: \"Hello world \", // \n html: \"<b>Hello world </b>\" // HTML\n} \n// \nsmtpTransport.sendMail(mailOptions, function (err, response) { \n if (err) { \n console.log(err); \n } else { \n console.log(\"Message sent: \" + response.message); \n } \n});\n```\n\n\n\n###### \n- \n![](./images/product-1.png)\n- \n- ","updated":"2022-12-27T10:02:06.020Z","path":"nodejs/nodejs-note-5.html","comments":1,"layout":"page","_id":"clc62baip000mnwvaggm0ew4y","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br></p>\n<ul>\n<li></li>\n<li></li>\n<li>MVC</li>\n</ul>\n<p><em></em><br>mockNode</p>\n<p><em></em><br>JavaScriptCommonJS<a href=\"http://wiki.commonjs.org/wiki/Unit_Testing/1.0%EF%BC%89%EF%BC%8CNode%E5%AE%9E%E7%8E%B0%E4%BA%86%E8%A7%84%E8%8C%83%E4%B8%AD%E7%9A%84%E6%96%AD%E8%A8%80%E9%83%A8%E5%88%86%E3%80%82\">http://wiki.commonjs.org/wiki/Unit_Testing/1.0Node</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var assert = require(&#x27;assert&#x27;); </span><br><span class=\"line\">assert.equal(Math.max(1, 100), 100); </span><br></pre></td></tr></table></figure>\n<p>:</p>\n<ul>\n<li>ok()</li>\n<li>equal()</li>\n<li>notEqual()</li>\n<li>deepEqual()</li>\n<li>notDeepEqual()</li>\n<li>strictEqual()===</li>\n<li>notStrictEqual()!==</li>\n<li>throws()<br>Nodeassert</li>\n<li>doesNotThrow()</li>\n<li>ifError()nullundefined0false</li>\n</ul>\n<p><em></em><br></p>\n<p><br>TDDBDD:</p>\n<ul>\n<li>TDDBDD</li>\n<li>TDDBDD</li>\n</ul>\n<p>mochaBDD</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">describe(&#x27;Array&#x27;, function()&#123; </span><br><span class=\"line\"> before(function()&#123; </span><br><span class=\"line\"> // ... </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> describe(&#x27;#indexOf()&#x27;, function()&#123; </span><br><span class=\"line\"> it(&#x27;should return -1 when not present&#x27;, function()&#123; </span><br><span class=\"line\"> [1,2,3].indexOf(4).should.equal(-1); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\n<p>BDDdescribeitdescribeitbeforeafterbeforeEachafterEach4describebeforeafterdescribebeforeEachafterEachdescribeit<br><img src=\"/nodejs/images/test.png\" alt=\"\"><br>mochaTDD</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">suite(&#x27;Array&#x27;, function()&#123; </span><br><span class=\"line\"> setup(function()&#123; </span><br><span class=\"line\"> // ... </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> suite(&#x27;#indexOf()&#x27;, function()&#123; </span><br><span class=\"line\"> test(&#x27;should return -1 when not present&#x27;, function()&#123; </span><br><span class=\"line\"> assert.equal(-1, [1,2,3].indexOf(4)); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>TDDsuitetestsuitetestsetupteardownBDDbeforeafter<br><img src=\"/nodejs/images/test-1.png\" alt=\"\"></p>\n<p><br>mochamocha reporters<br>dotspecjsonhtml-covmocha -R <reporter>jsonhtml-cov</reporter></p>\n<p><br>Node</p>\n<ul>\n<li><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">it(&#x27;fs.readFile should be ok&#x27;, function (done) &#123; </span><br><span class=\"line\"> fs.readFile(&#x27;file_path&#x27;, &#x27;utf-8&#x27;, function (err, data) &#123; </span><br><span class=\"line\"> should.not.exist(err); </span><br><span class=\"line\"> done(); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\nit()titlefnfn.lengthdone()</li>\n<li><br>mocha<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">it(&#x27;async test&#x27;, function (done) &#123; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> setTimeout(done, 10000); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\nmocha2000mocha -t <ms>itthis.timeout(ms)<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">it(&#x27;should take less than 500ms&#x27;, function (done) &#123; </span><br><span class=\"line\"> this.timeout(500); </span><br><span class=\"line\"> setTimeout(done, 300); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\ndescribethis.timeout(ms)<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">describe(&#x27;a suite of tests&#x27;, function()&#123; </span><br><span class=\"line\"> this.timeout(500); </span><br><span class=\"line\"> it(&#x27;should take less than 500ms&#x27;, function (done) &#123; </span><br><span class=\"line\"> setTimeout(done, 300); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> it(&#x27;should take less than 500ms as well&#x27;, function (done) &#123; </span><br><span class=\"line\"> setTimeout(done, 200); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure></ms></li>\n</ul>\n<p><em></em><br></p>\n<p>jscovernpm install jscover -g</p>\n<p>jscover:</p>\n<ul>\n<li>JavaJava</li>\n<li><br>blanketJavaScript</li>\n</ul>\n<p>blanketjscoverblanketrequirerequire</p>\n<p>jscoverrequire<br>mocha require blanket -R html-cov &gt; coverage.html </p>\n<p>scriptsscriptspattern</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;scripts&quot;: &#123; </span><br><span class=\"line\"> &quot;blanket&quot;: &#123; </span><br><span class=\"line\"> &quot;pattern&quot;: &quot;eventproxy/lib&quot; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;, </span><br></pre></td></tr></table></figure>\n<p>require</p>\n<p>blanket</p>\n<p><em>mock</em><br>mock</p>\n<p>mockmuk</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var muk = require(&#x27;muk&#x27;); </span><br><span class=\"line\">before(function () &#123; </span><br><span class=\"line\"> muk(fs, &#x27;readFileSync&#x27;, function(path, encoding) &#123; </span><br><span class=\"line\"> throw new Error(&quot;mock readFileSync error&quot;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">// it(); </span><br><span class=\"line\">after(function () &#123; </span><br><span class=\"line\"> muk.restore(); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var muk = require(&#x27;muk&#x27;); </span><br><span class=\"line\">beforeEach(function () &#123; </span><br><span class=\"line\"> muk(fs, &#x27;readFileSync&#x27;, function(path, encoding) &#123; </span><br><span class=\"line\"> throw new Error(&quot;mock readFileSync error&quot;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">// it(); </span><br><span class=\"line\">// it(); </span><br><span class=\"line\">afterEach(function () &#123; </span><br><span class=\"line\"> muk.restore(); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\n<p>muk.restore()</p>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fs.readFile = function (filename, encoding, callback) &#123; </span><br><span class=\"line\"> process.nextTick(function () &#123; </span><br><span class=\"line\"> callback(new Error(&quot;mock readFile error&quot;)); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><em></em><br>exportsrewire<br>rewirerequire</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var limit = function (num) &#123; </span><br><span class=\"line\"> return num &lt; 0 ? 0 : num; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"></span><br><span class=\"line\">it(&#x27;limit should return success&#x27;, function () &#123; </span><br><span class=\"line\"> var lib = rewire(&#x27;../lib/index.js&#x27;); </span><br><span class=\"line\"> var litmit = lib.__get__(&#x27;limit&#x27;); </span><br><span class=\"line\"> litmit(10).should.be.equal(10); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\n<p>rewire__set__()__get__()eval()</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br>Node*nixMakefile</p>\n<p><em></em><br>travis-ci</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p><em></em><br></p>\n<p>benchmark</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var Benchmark = require(&#x27;benchmark&#x27;); </span><br><span class=\"line\">var suite = new Benchmark.Suite(); </span><br><span class=\"line\">var arr = [0, 1, 2, 3, 5, 6]; </span><br><span class=\"line\">suite.add(&#x27;nativeMap&#x27;, function () &#123; </span><br><span class=\"line\"> return arr.map(callback); </span><br><span class=\"line\">&#125;).add(&#x27;customMap&#x27;, function () &#123; </span><br><span class=\"line\"> var ret = []; </span><br><span class=\"line\"> for (var i = 0; i &lt; arr.length; i++) &#123; </span><br><span class=\"line\"> ret.push(callback(arr[i])); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> return ret; </span><br><span class=\"line\">&#125;).on(&#x27;cycle&#x27;, function (event) &#123; </span><br><span class=\"line\"> console.log(String(event.target)); </span><br><span class=\"line\">&#125;).on(&#x27;complete&#x27;, function() &#123; </span><br><span class=\"line\"> console.log(&#x27;Fastest is &#x27; + this.filter(&#x27;fastest&#x27;).pluck(&#x27;name&#x27;)); </span><br><span class=\"line\">&#125;).run(); </span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p>absiegehttp_loadab</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ab -c 10 -t 3 http://localhost:8001/ </span><br><span class=\"line\">This is ApacheBench, Version 2.3 &lt;$Revision: 655654 $&gt; </span><br><span class=\"line\">Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/ </span><br><span class=\"line\">Licensed to The Apache Software Foundation, http://www.apache.org/ </span><br><span class=\"line\">Benchmarking localhost (be patient) </span><br><span class=\"line\">Completed 5000 requests </span><br><span class=\"line\">Completed 10000 requests </span><br><span class=\"line\">Finished 11573 requests </span><br><span class=\"line\">Server Software: </span><br><span class=\"line\">Server Hostname: localhost </span><br><span class=\"line\">Server Port: 8001 </span><br><span class=\"line\">Document Path: / </span><br><span class=\"line\">Document Length: 10240 bytes </span><br><span class=\"line\">Concurrency Level: 10 </span><br><span class=\"line\">Time taken for tests: 3.000 seconds </span><br><span class=\"line\">Complete requests: 11573 </span><br><span class=\"line\">Failed requests: 0 </span><br><span class=\"line\">Write errors: 0 </span><br><span class=\"line\">Total transferred: 119375495 bytes </span><br><span class=\"line\">HTML transferred: 118507520 bytes </span><br><span class=\"line\">Requests per second: 3857.60 [#/sec] (mean) </span><br><span class=\"line\">Time per request: 2.592 [ms] (mean) </span><br><span class=\"line\">Time per request: 0.259 [ms] (mean, across all concurrent requests) </span><br><span class=\"line\">Transfer rate: 38858.59 [Kbytes/sec] received </span><br><span class=\"line\">Connection Times (ms) </span><br><span class=\"line\"> min mean[+/-sd] median max </span><br><span class=\"line\">Connect: 0 0 0.3 0 31 </span><br><span class=\"line\">Processing: 1 2 1.9 2 35 </span><br><span class=\"line\">Waiting: 0 2 1.9 2 35 </span><br><span class=\"line\">Total: 1 3 2.0 2 35 </span><br><span class=\"line\">Percentage of the requests served within a certain time (ms) </span><br><span class=\"line\"> 50% 2</span><br><span class=\"line\"> 66% 3 </span><br><span class=\"line\"> 75% 3 </span><br><span class=\"line\"> 80% 3 </span><br><span class=\"line\"> 90% 3</span><br><span class=\"line\"> 95% 3 </span><br><span class=\"line\"> 98% 5 </span><br><span class=\"line\"> 99% 6 </span><br><span class=\"line\"> 100% 35 (longes % t request)</span><br></pre></td></tr></table></figure>\n\n<p>:</p>\n<ul>\n<li>Document Path/</li>\n<li>Document Length10KB</li>\n<li>Concurrency Levelc1010</li>\n<li>Time taken for testst</li>\n<li>Complete requests</li>\n<li>Failed requests</li>\n<li>Write errors</li>\n<li>Total transferred</li>\n<li>HTML transferredHTTP</li>\n<li>Requests per secondRPSQPS</li>\n<li>Time per request</li>\n<li>Transfer rate</li>\n<li>Connection Times</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>BDDBenchmark Driven Development:<br>(1) <br>(2) /<br>(3) <br>(4) <br>(5)(2)<br><img src=\"/nodejs/images/test-2.png\" alt=\"\"></p>\n<h4 id=\"--\"><a href=\"#--\" class=\"headerlink\" title=\"  \"></a>  </h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<ul>\n<li><p></p>\n<ul>\n<li>WebCommonJS</li>\n</ul>\n</li>\n<li><p><br>Nodemake*nixGruntGruntNodeNode<br>Makefile</p>\n<ul>\n<li>Makefile*nixWindowsMakefileRubyRakefileGemfileMakefile<br>Grunt</li>\n<li>MakefileantrakeNodeMakefileGrunt</li>\n<li>GruntNodeWindows*nix</li>\n<li>GruntNPMJavaMavenMakefile</li>\n<li>MakefileMakefilebashGrunt</li>\n<li>Gruntgrunt-contrib-NPMGrunt3gruntgrunt-initgrunt-cli-g</li>\n</ul>\n</li>\n<li><p><br></p>\n</li>\n<li><p><br></p>\n</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br>stagepre-releaseproduct</p>\n<p><em></em><br>nohup&amp;nohup node app.js &amp;</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>Web</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p><em></em><br>NodeNginxCDN<br><img src=\"/nodejs/images/product.png\" alt=\"\"></p>\n<p><em></em><br></p>\n<p><em></em><br><em></em></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br>WebHTTP<br>Connect</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var app = connect(); </span><br><span class=\"line\">// </span><br><span class=\"line\">connect.logger.format(&#x27;home&#x27;, &#x27;:remote-addr :response-time - [:date] &quot;:method :url </span><br><span class=\"line\">HTTP/:http-version&quot; :status :res[content-length] &quot;:referrer&quot; &quot;:user-agent&quot; :res[content-length]&#x27;); </span><br><span class=\"line\">app.use(connect.logger(&#123; </span><br><span class=\"line\"> format: &#x27;home&#x27;, </span><br><span class=\"line\"> stream: fs.createWriteStream(__dirname + &#x27;/logs/access.log&#x27;) </span><br><span class=\"line\">&#125;));</span><br></pre></td></tr></table></figure>\n\n<p><em></em><br>bug<br>Nodeconsole:</p>\n<ul>\n<li>console.log</li>\n<li>console.info</li>\n<li>console.warn</li>\n<li>console.error<br>consoleloginfoprocess.stdoutwarnerrorprocess.stderrinfoerrorlogwarn</li>\n</ul>\n<p>consoleConsoleconsole</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var info = fs.createWriteStream(logdir + &#x27;/info.log&#x27;, &#123;flags: &#x27;a&#x27;, mode: &#x27;0666&#x27;&#125;); </span><br><span class=\"line\">var error = fs.createWriteStream(logdir + &#x27;/error.log&#x27;, &#123;flags: &#x27;a&#x27;, mode: &#x27;0666&#x27;&#125;); </span><br><span class=\"line\">var logger = new console.Console(info, error); </span><br><span class=\"line\">logger.log(&#x27;Hello world!&#x27;); </span><br><span class=\"line\">logger.error(&#x27;segment fault&#x27;);</span><br></pre></td></tr></table></figure>\n<p>Node</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p><br>Console_stdout_stderr</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br></p>\n<ul>\n<li><br>,QPSQPS</li>\n<li><br><br></li>\n<li><br>Web</li>\n<li><br><br></li>\n<li><br><br></li>\n<li>CPU<br>CPUCPUIOWait<br>CPU70%35%70%</li>\n<li>CPU load<br>CPU loadCPUCPUCPU31515</li>\n<li>I/O<br>I/OI/ONodeI/OI/O</li>\n<li><br></li>\n<li><br></li>\n<li>DNS<br>DNSDNSDNSDNS</li>\n</ul>\n<p><em></em><br>- IM</p>\n<ul>\n<li></li>\n</ul>\n<p>: Nodenodemailer</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var nodemailer = require(&quot;nodemailer&quot;); </span><br><span class=\"line\">// SMTP</span><br><span class=\"line\">var smtpTransport = nodemailer.createTransport(&quot;SMTP&quot;, &#123; </span><br><span class=\"line\"> service: &quot;Gmail&quot;, </span><br><span class=\"line\"> auth: &#123; </span><br><span class=\"line\"> user: &quot;gmail.user@gmail.com&quot;, </span><br><span class=\"line\"> pass: &quot;userpass&quot; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">// </span><br><span class=\"line\">var mailOptions = &#123; </span><br><span class=\"line\"> from: &quot;Fred Foo  &lt;foo@bar.com&gt;&quot;, // </span><br><span class=\"line\"> to: &quot;bar@bar.com, baz@bar.com&quot;, // </span><br><span class=\"line\"> subject: &quot;Hello &quot;, // </span><br><span class=\"line\"> text: &quot;Hello world &quot;, // </span><br><span class=\"line\"> html: &quot;&lt;b&gt;Hello world &lt;/b&gt;&quot; // HTML</span><br><span class=\"line\">&#125; </span><br><span class=\"line\">// </span><br><span class=\"line\">smtpTransport.sendMail(mailOptions, function (err, response) &#123; </span><br><span class=\"line\"> if (err) &#123; </span><br><span class=\"line\"> console.log(err); </span><br><span class=\"line\"> &#125; else &#123; </span><br><span class=\"line\"> console.log(&quot;Message sent: &quot; + response.message); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><br><img src=\"/nodejs/images/product-1.png\" alt=\"\"></li>\n<li></li>\n<li></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br></p>\n<ul>\n<li></li>\n<li></li>\n<li>MVC</li>\n</ul>\n<p><em></em><br>mockNode</p>\n<p><em></em><br>JavaScriptCommonJS<a href=\"http://wiki.commonjs.org/wiki/Unit_Testing/1.0%EF%BC%89%EF%BC%8CNode%E5%AE%9E%E7%8E%B0%E4%BA%86%E8%A7%84%E8%8C%83%E4%B8%AD%E7%9A%84%E6%96%AD%E8%A8%80%E9%83%A8%E5%88%86%E3%80%82\">http://wiki.commonjs.org/wiki/Unit_Testing/1.0Node</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var assert = require(&#x27;assert&#x27;); </span><br><span class=\"line\">assert.equal(Math.max(1, 100), 100); </span><br></pre></td></tr></table></figure>\n<p>:</p>\n<ul>\n<li>ok()</li>\n<li>equal()</li>\n<li>notEqual()</li>\n<li>deepEqual()</li>\n<li>notDeepEqual()</li>\n<li>strictEqual()===</li>\n<li>notStrictEqual()!==</li>\n<li>throws()<br>Nodeassert</li>\n<li>doesNotThrow()</li>\n<li>ifError()nullundefined0false</li>\n</ul>\n<p><em></em><br></p>\n<p><br>TDDBDD:</p>\n<ul>\n<li>TDDBDD</li>\n<li>TDDBDD</li>\n</ul>\n<p>mochaBDD</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">describe(&#x27;Array&#x27;, function()&#123; </span><br><span class=\"line\"> before(function()&#123; </span><br><span class=\"line\"> // ... </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> describe(&#x27;#indexOf()&#x27;, function()&#123; </span><br><span class=\"line\"> it(&#x27;should return -1 when not present&#x27;, function()&#123; </span><br><span class=\"line\"> [1,2,3].indexOf(4).should.equal(-1); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\n<p>BDDdescribeitdescribeitbeforeafterbeforeEachafterEach4describebeforeafterdescribebeforeEachafterEachdescribeit<br><img src=\"/nodejs/images/test.png\" alt=\"\"><br>mochaTDD</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">suite(&#x27;Array&#x27;, function()&#123; </span><br><span class=\"line\"> setup(function()&#123; </span><br><span class=\"line\"> // ... </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> suite(&#x27;#indexOf()&#x27;, function()&#123; </span><br><span class=\"line\"> test(&#x27;should return -1 when not present&#x27;, function()&#123; </span><br><span class=\"line\"> assert.equal(-1, [1,2,3].indexOf(4)); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>TDDsuitetestsuitetestsetupteardownBDDbeforeafter<br><img src=\"/nodejs/images/test-1.png\" alt=\"\"></p>\n<p><br>mochamocha reporters<br>dotspecjsonhtml-covmocha -R <reporter>jsonhtml-cov</reporter></p>\n<p><br>Node</p>\n<ul>\n<li><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">it(&#x27;fs.readFile should be ok&#x27;, function (done) &#123; </span><br><span class=\"line\"> fs.readFile(&#x27;file_path&#x27;, &#x27;utf-8&#x27;, function (err, data) &#123; </span><br><span class=\"line\"> should.not.exist(err); </span><br><span class=\"line\"> done(); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\nit()titlefnfn.lengthdone()</li>\n<li><br>mocha<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">it(&#x27;async test&#x27;, function (done) &#123; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> setTimeout(done, 10000); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\nmocha2000mocha -t <ms>itthis.timeout(ms)<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">it(&#x27;should take less than 500ms&#x27;, function (done) &#123; </span><br><span class=\"line\"> this.timeout(500); </span><br><span class=\"line\"> setTimeout(done, 300); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\ndescribethis.timeout(ms)<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">describe(&#x27;a suite of tests&#x27;, function()&#123; </span><br><span class=\"line\"> this.timeout(500); </span><br><span class=\"line\"> it(&#x27;should take less than 500ms&#x27;, function (done) &#123; </span><br><span class=\"line\"> setTimeout(done, 300); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> it(&#x27;should take less than 500ms as well&#x27;, function (done) &#123; </span><br><span class=\"line\"> setTimeout(done, 200); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure></ms></li>\n</ul>\n<p><em></em><br></p>\n<p>jscovernpm install jscover -g</p>\n<p>jscover:</p>\n<ul>\n<li>JavaJava</li>\n<li><br>blanketJavaScript</li>\n</ul>\n<p>blanketjscoverblanketrequirerequire</p>\n<p>jscoverrequire<br>mocha require blanket -R html-cov &gt; coverage.html </p>\n<p>scriptsscriptspattern</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;scripts&quot;: &#123; </span><br><span class=\"line\"> &quot;blanket&quot;: &#123; </span><br><span class=\"line\"> &quot;pattern&quot;: &quot;eventproxy/lib&quot; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;, </span><br></pre></td></tr></table></figure>\n<p>require</p>\n<p>blanket</p>\n<p><em>mock</em><br>mock</p>\n<p>mockmuk</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var muk = require(&#x27;muk&#x27;); </span><br><span class=\"line\">before(function () &#123; </span><br><span class=\"line\"> muk(fs, &#x27;readFileSync&#x27;, function(path, encoding) &#123; </span><br><span class=\"line\"> throw new Error(&quot;mock readFileSync error&quot;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">// it(); </span><br><span class=\"line\">after(function () &#123; </span><br><span class=\"line\"> muk.restore(); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var muk = require(&#x27;muk&#x27;); </span><br><span class=\"line\">beforeEach(function () &#123; </span><br><span class=\"line\"> muk(fs, &#x27;readFileSync&#x27;, function(path, encoding) &#123; </span><br><span class=\"line\"> throw new Error(&quot;mock readFileSync error&quot;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">// it(); </span><br><span class=\"line\">// it(); </span><br><span class=\"line\">afterEach(function () &#123; </span><br><span class=\"line\"> muk.restore(); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\n<p>muk.restore()</p>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fs.readFile = function (filename, encoding, callback) &#123; </span><br><span class=\"line\"> process.nextTick(function () &#123; </span><br><span class=\"line\"> callback(new Error(&quot;mock readFile error&quot;)); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><em></em><br>exportsrewire<br>rewirerequire</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var limit = function (num) &#123; </span><br><span class=\"line\"> return num &lt; 0 ? 0 : num; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"></span><br><span class=\"line\">it(&#x27;limit should return success&#x27;, function () &#123; </span><br><span class=\"line\"> var lib = rewire(&#x27;../lib/index.js&#x27;); </span><br><span class=\"line\"> var litmit = lib.__get__(&#x27;limit&#x27;); </span><br><span class=\"line\"> litmit(10).should.be.equal(10); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\n<p>rewire__set__()__get__()eval()</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br>Node*nixMakefile</p>\n<p><em></em><br>travis-ci</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p><em></em><br></p>\n<p>benchmark</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var Benchmark = require(&#x27;benchmark&#x27;); </span><br><span class=\"line\">var suite = new Benchmark.Suite(); </span><br><span class=\"line\">var arr = [0, 1, 2, 3, 5, 6]; </span><br><span class=\"line\">suite.add(&#x27;nativeMap&#x27;, function () &#123; </span><br><span class=\"line\"> return arr.map(callback); </span><br><span class=\"line\">&#125;).add(&#x27;customMap&#x27;, function () &#123; </span><br><span class=\"line\"> var ret = []; </span><br><span class=\"line\"> for (var i = 0; i &lt; arr.length; i++) &#123; </span><br><span class=\"line\"> ret.push(callback(arr[i])); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> return ret; </span><br><span class=\"line\">&#125;).on(&#x27;cycle&#x27;, function (event) &#123; </span><br><span class=\"line\"> console.log(String(event.target)); </span><br><span class=\"line\">&#125;).on(&#x27;complete&#x27;, function() &#123; </span><br><span class=\"line\"> console.log(&#x27;Fastest is &#x27; + this.filter(&#x27;fastest&#x27;).pluck(&#x27;name&#x27;)); </span><br><span class=\"line\">&#125;).run(); </span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p>absiegehttp_loadab</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ab -c 10 -t 3 http://localhost:8001/ </span><br><span class=\"line\">This is ApacheBench, Version 2.3 &lt;$Revision: 655654 $&gt; </span><br><span class=\"line\">Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/ </span><br><span class=\"line\">Licensed to The Apache Software Foundation, http://www.apache.org/ </span><br><span class=\"line\">Benchmarking localhost (be patient) </span><br><span class=\"line\">Completed 5000 requests </span><br><span class=\"line\">Completed 10000 requests </span><br><span class=\"line\">Finished 11573 requests </span><br><span class=\"line\">Server Software: </span><br><span class=\"line\">Server Hostname: localhost </span><br><span class=\"line\">Server Port: 8001 </span><br><span class=\"line\">Document Path: / </span><br><span class=\"line\">Document Length: 10240 bytes </span><br><span class=\"line\">Concurrency Level: 10 </span><br><span class=\"line\">Time taken for tests: 3.000 seconds </span><br><span class=\"line\">Complete requests: 11573 </span><br><span class=\"line\">Failed requests: 0 </span><br><span class=\"line\">Write errors: 0 </span><br><span class=\"line\">Total transferred: 119375495 bytes </span><br><span class=\"line\">HTML transferred: 118507520 bytes </span><br><span class=\"line\">Requests per second: 3857.60 [#/sec] (mean) </span><br><span class=\"line\">Time per request: 2.592 [ms] (mean) </span><br><span class=\"line\">Time per request: 0.259 [ms] (mean, across all concurrent requests) </span><br><span class=\"line\">Transfer rate: 38858.59 [Kbytes/sec] received </span><br><span class=\"line\">Connection Times (ms) </span><br><span class=\"line\"> min mean[+/-sd] median max </span><br><span class=\"line\">Connect: 0 0 0.3 0 31 </span><br><span class=\"line\">Processing: 1 2 1.9 2 35 </span><br><span class=\"line\">Waiting: 0 2 1.9 2 35 </span><br><span class=\"line\">Total: 1 3 2.0 2 35 </span><br><span class=\"line\">Percentage of the requests served within a certain time (ms) </span><br><span class=\"line\"> 50% 2</span><br><span class=\"line\"> 66% 3 </span><br><span class=\"line\"> 75% 3 </span><br><span class=\"line\"> 80% 3 </span><br><span class=\"line\"> 90% 3</span><br><span class=\"line\"> 95% 3 </span><br><span class=\"line\"> 98% 5 </span><br><span class=\"line\"> 99% 6 </span><br><span class=\"line\"> 100% 35 (longes % t request)</span><br></pre></td></tr></table></figure>\n\n<p>:</p>\n<ul>\n<li>Document Path/</li>\n<li>Document Length10KB</li>\n<li>Concurrency Levelc1010</li>\n<li>Time taken for testst</li>\n<li>Complete requests</li>\n<li>Failed requests</li>\n<li>Write errors</li>\n<li>Total transferred</li>\n<li>HTML transferredHTTP</li>\n<li>Requests per secondRPSQPS</li>\n<li>Time per request</li>\n<li>Transfer rate</li>\n<li>Connection Times</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>BDDBenchmark Driven Development:<br>(1) <br>(2) /<br>(3) <br>(4) <br>(5)(2)<br><img src=\"/nodejs/images/test-2.png\" alt=\"\"></p>\n<h4 id=\"--\"><a href=\"#--\" class=\"headerlink\" title=\"  \"></a>  </h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<ul>\n<li><p></p>\n<ul>\n<li>WebCommonJS</li>\n</ul>\n</li>\n<li><p><br>Nodemake*nixGruntGruntNodeNode<br>Makefile</p>\n<ul>\n<li>Makefile*nixWindowsMakefileRubyRakefileGemfileMakefile<br>Grunt</li>\n<li>MakefileantrakeNodeMakefileGrunt</li>\n<li>GruntNodeWindows*nix</li>\n<li>GruntNPMJavaMavenMakefile</li>\n<li>MakefileMakefilebashGrunt</li>\n<li>Gruntgrunt-contrib-NPMGrunt3gruntgrunt-initgrunt-cli-g</li>\n</ul>\n</li>\n<li><p><br></p>\n</li>\n<li><p><br></p>\n</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br>stagepre-releaseproduct</p>\n<p><em></em><br>nohup&amp;nohup node app.js &amp;</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>Web</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p><em></em><br>NodeNginxCDN<br><img src=\"/nodejs/images/product.png\" alt=\"\"></p>\n<p><em></em><br></p>\n<p><em></em><br><em></em></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br>WebHTTP<br>Connect</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var app = connect(); </span><br><span class=\"line\">// </span><br><span class=\"line\">connect.logger.format(&#x27;home&#x27;, &#x27;:remote-addr :response-time - [:date] &quot;:method :url </span><br><span class=\"line\">HTTP/:http-version&quot; :status :res[content-length] &quot;:referrer&quot; &quot;:user-agent&quot; :res[content-length]&#x27;); </span><br><span class=\"line\">app.use(connect.logger(&#123; </span><br><span class=\"line\"> format: &#x27;home&#x27;, </span><br><span class=\"line\"> stream: fs.createWriteStream(__dirname + &#x27;/logs/access.log&#x27;) </span><br><span class=\"line\">&#125;));</span><br></pre></td></tr></table></figure>\n\n<p><em></em><br>bug<br>Nodeconsole:</p>\n<ul>\n<li>console.log</li>\n<li>console.info</li>\n<li>console.warn</li>\n<li>console.error<br>consoleloginfoprocess.stdoutwarnerrorprocess.stderrinfoerrorlogwarn</li>\n</ul>\n<p>consoleConsoleconsole</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var info = fs.createWriteStream(logdir + &#x27;/info.log&#x27;, &#123;flags: &#x27;a&#x27;, mode: &#x27;0666&#x27;&#125;); </span><br><span class=\"line\">var error = fs.createWriteStream(logdir + &#x27;/error.log&#x27;, &#123;flags: &#x27;a&#x27;, mode: &#x27;0666&#x27;&#125;); </span><br><span class=\"line\">var logger = new console.Console(info, error); </span><br><span class=\"line\">logger.log(&#x27;Hello world!&#x27;); </span><br><span class=\"line\">logger.error(&#x27;segment fault&#x27;);</span><br></pre></td></tr></table></figure>\n<p>Node</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p><br>Console_stdout_stderr</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br></p>\n<ul>\n<li><br>,QPSQPS</li>\n<li><br><br></li>\n<li><br>Web</li>\n<li><br><br></li>\n<li><br><br></li>\n<li>CPU<br>CPUCPUIOWait<br>CPU70%35%70%</li>\n<li>CPU load<br>CPU loadCPUCPUCPU31515</li>\n<li>I/O<br>I/OI/ONodeI/OI/O</li>\n<li><br></li>\n<li><br></li>\n<li>DNS<br>DNSDNSDNSDNS</li>\n</ul>\n<p><em></em><br>- IM</p>\n<ul>\n<li></li>\n</ul>\n<p>: Nodenodemailer</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var nodemailer = require(&quot;nodemailer&quot;); </span><br><span class=\"line\">// SMTP</span><br><span class=\"line\">var smtpTransport = nodemailer.createTransport(&quot;SMTP&quot;, &#123; </span><br><span class=\"line\"> service: &quot;Gmail&quot;, </span><br><span class=\"line\"> auth: &#123; </span><br><span class=\"line\"> user: &quot;gmail.user@gmail.com&quot;, </span><br><span class=\"line\"> pass: &quot;userpass&quot; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">// </span><br><span class=\"line\">var mailOptions = &#123; </span><br><span class=\"line\"> from: &quot;Fred Foo  &lt;foo@bar.com&gt;&quot;, // </span><br><span class=\"line\"> to: &quot;bar@bar.com, baz@bar.com&quot;, // </span><br><span class=\"line\"> subject: &quot;Hello &quot;, // </span><br><span class=\"line\"> text: &quot;Hello world &quot;, // </span><br><span class=\"line\"> html: &quot;&lt;b&gt;Hello world &lt;/b&gt;&quot; // HTML</span><br><span class=\"line\">&#125; </span><br><span class=\"line\">// </span><br><span class=\"line\">smtpTransport.sendMail(mailOptions, function (err, response) &#123; </span><br><span class=\"line\"> if (err) &#123; </span><br><span class=\"line\"> console.log(err); </span><br><span class=\"line\"> &#125; else &#123; </span><br><span class=\"line\"> console.log(&quot;Message sent: &quot; + response.message); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><br><img src=\"/nodejs/images/product-1.png\" alt=\"\"></li>\n<li></li>\n<li></li>\n</ul>\n"},{"title":"nodejs(2)","date":"2022-10-19T11:12:12.000Z","tags":["node","buffer"],"_content":"\n###### Buffer()\nES6TypedArray???JavaScript \nBuffer  Node.js API  TCP \n\nTypedArray  ES6 Buffer  Node.js  Uint8Array API\n\n*Buffer  Buffer  V8  Buffer Buffer  Node.js  require('buffer').Buffer*\n```javascript\n//  10 0  Buffer\nconst buf1 = Buffer.alloc(10);\n\n//  10 0x1  Buffer \nconst buf2 = Buffer.alloc(10, 1);\n\n//  10 Buffer\n//  Buffer.alloc() \n//  Buffer \n//  fill()  write() \nconst buf3 = Buffer.allocUnsafe(10);\n\n//  [0x1, 0x2, 0x3]  Buffer\nconst buf4 = Buffer.from([1, 2, 3]);\n\n//  UTF-8  [0x74, 0xc3, 0xa9, 0x73, 0x74]  Buffer\nconst buf5 = Buffer.from('tst');\n\n//  Latin-1  [0x74, 0xe9, 0x73, 0x74]  Buffer\nconst buf6 = Buffer.from('tst', 'latin1');\n```\n\n*Buffer.from(), Buffer.alloc(), and Buffer.allocUnsafe()*\nnodejs v6uffer  Buffer  Buffer\n- nodejs 8.0.0Buffer8.0.0buffer\n-   Buffer Buffer\n-  ArrayBuffer  SharedArrayBuffer ArrayBuffer  Buffer\n\nnew Buffer()Buffer.from(), Buffer.alloc(), and Buffer.allocUnsafe()\n\n- Buffer.from(array) **** Buffer\n- [Buffer.from(arrayBuffer[, byteOffset [, length]])]Buffer.from(arrayBuffer) ** ArrayBuffer ** Buffer\n- Buffer.from(buffer) ** Buffer ** Buffer\n- Buffer.from(string[, encoding]) **** Buffer\n- [Buffer.alloc(size[, fill[, encoding]])]Buffer.alloc() ** Buffer **  Buffer.allocUnsafe(size)  Buffer ****\n- Buffer.allocUnsafe(size)  Buffer.allocUnsafeSlow(size)  size  Buffer buf.fill(0) \n* size  Buffer.poolSize  Buffer.allocUnsafe()  Buffer *****\n\n*--zero-fill-buffers*\nbuffer**0**\nbuffer Buffer  --zero-fill-buffers \n\n*buffer.allocUnsafe()buffer.allocUnsafeSlow()*\nbuffer.allocUnsafe()buffer.allocUnsafeSlow()buffer**(0)**\n\n*buffer*\nBuffer  UTF-8  UCS2  Base64   Buffer  JavaScript \n```javascript\nconst buf = Buffer.from('hello world', 'ascii');\nconsole.log(buf.toString('hex'));\n//  68656c6c6f20776f726c64\n\nconsole.log(buf.toString('base64'));\n//  aGVsbG8gd29ybGQ=\n```\n\nnodejs\n- ascii -  7  ASCII \n- utf8 -  Unicode  UTF-8\n- utf16le - 2  4  Unicode U+10000  U+10FFFF\n- ucs2 - 'utf16le' \n- base64 - Base64  Buffer  RFC4648  5 URL \n- latin1 -  Buffer  IANA  RFC1345  63  Latin-1  C0/C1 \n- binary - 'latin1' \n- hex - \n\n**** WHATWG   'latin1'  ISO-8859-1  win-1252  http.get()  WHATWG  win-1252  'latin1' \n\n*Buffer  TypedArray*\nBuffer  Uint8Array \n Buffer  TypedArray \n- Buffer  TypedArray \n- Buffer  new Uint32Array(Buffer.from([1, 2, 3, 4]))  [1, 2, 3, 4]  Uint32Array [0x1020304]  [0x4030201]  Uint32Array \n```javascript\nconst arr = new Uint16Array(2);\n\narr[0] = 5000;\narr[1] = 4000;\n\n//  `arr` \nconst buf1 = Buffer.from(arr);\n\n//  `arr` \nconst buf2 = Buffer.from(arr.buffer);\n\n// : <Buffer 88 a0>\nconsole.log(buf1);\n\n// : <Buffer 88 13 a0 0f>\nconsole.log(buf2);\n\narr[1] = 6000;\n\n// : <Buffer 88 a0>\nconsole.log(buf1);\n\n// : <Buffer 88 13 70 17>\nconsole.log(buf2);\n```\n* TypedArray  .buffer  Buffer  byteOffset  length  ArrayBuffer *\n```javascript\nconst arr = new Uint16Array(20);\nconst buf = Buffer.from(arr.buffer, 0, 16);\n\n// : 16\nconsole.log(buf.length);\n```\n\nBuffer  ECMAScript 2015 (ES6)  for..of \n\n","source":"nodejs/nodejs-note-7.md","raw":"---\ntitle: nodejs(2)\ndate: 2022-10-19 19:12:12\ntags: [node, buffer]\n---\n\n###### Buffer()\nES6TypedArray???JavaScript \nBuffer  Node.js API  TCP \n\nTypedArray  ES6 Buffer  Node.js  Uint8Array API\n\n*Buffer  Buffer  V8  Buffer Buffer  Node.js  require('buffer').Buffer*\n```javascript\n//  10 0  Buffer\nconst buf1 = Buffer.alloc(10);\n\n//  10 0x1  Buffer \nconst buf2 = Buffer.alloc(10, 1);\n\n//  10 Buffer\n//  Buffer.alloc() \n//  Buffer \n//  fill()  write() \nconst buf3 = Buffer.allocUnsafe(10);\n\n//  [0x1, 0x2, 0x3]  Buffer\nconst buf4 = Buffer.from([1, 2, 3]);\n\n//  UTF-8  [0x74, 0xc3, 0xa9, 0x73, 0x74]  Buffer\nconst buf5 = Buffer.from('tst');\n\n//  Latin-1  [0x74, 0xe9, 0x73, 0x74]  Buffer\nconst buf6 = Buffer.from('tst', 'latin1');\n```\n\n*Buffer.from(), Buffer.alloc(), and Buffer.allocUnsafe()*\nnodejs v6uffer  Buffer  Buffer\n- nodejs 8.0.0Buffer8.0.0buffer\n-   Buffer Buffer\n-  ArrayBuffer  SharedArrayBuffer ArrayBuffer  Buffer\n\nnew Buffer()Buffer.from(), Buffer.alloc(), and Buffer.allocUnsafe()\n\n- Buffer.from(array) **** Buffer\n- [Buffer.from(arrayBuffer[, byteOffset [, length]])]Buffer.from(arrayBuffer) ** ArrayBuffer ** Buffer\n- Buffer.from(buffer) ** Buffer ** Buffer\n- Buffer.from(string[, encoding]) **** Buffer\n- [Buffer.alloc(size[, fill[, encoding]])]Buffer.alloc() ** Buffer **  Buffer.allocUnsafe(size)  Buffer ****\n- Buffer.allocUnsafe(size)  Buffer.allocUnsafeSlow(size)  size  Buffer buf.fill(0) \n* size  Buffer.poolSize  Buffer.allocUnsafe()  Buffer *****\n\n*--zero-fill-buffers*\nbuffer**0**\nbuffer Buffer  --zero-fill-buffers \n\n*buffer.allocUnsafe()buffer.allocUnsafeSlow()*\nbuffer.allocUnsafe()buffer.allocUnsafeSlow()buffer**(0)**\n\n*buffer*\nBuffer  UTF-8  UCS2  Base64   Buffer  JavaScript \n```javascript\nconst buf = Buffer.from('hello world', 'ascii');\nconsole.log(buf.toString('hex'));\n//  68656c6c6f20776f726c64\n\nconsole.log(buf.toString('base64'));\n//  aGVsbG8gd29ybGQ=\n```\n\nnodejs\n- ascii -  7  ASCII \n- utf8 -  Unicode  UTF-8\n- utf16le - 2  4  Unicode U+10000  U+10FFFF\n- ucs2 - 'utf16le' \n- base64 - Base64  Buffer  RFC4648  5 URL \n- latin1 -  Buffer  IANA  RFC1345  63  Latin-1  C0/C1 \n- binary - 'latin1' \n- hex - \n\n**** WHATWG   'latin1'  ISO-8859-1  win-1252  http.get()  WHATWG  win-1252  'latin1' \n\n*Buffer  TypedArray*\nBuffer  Uint8Array \n Buffer  TypedArray \n- Buffer  TypedArray \n- Buffer  new Uint32Array(Buffer.from([1, 2, 3, 4]))  [1, 2, 3, 4]  Uint32Array [0x1020304]  [0x4030201]  Uint32Array \n```javascript\nconst arr = new Uint16Array(2);\n\narr[0] = 5000;\narr[1] = 4000;\n\n//  `arr` \nconst buf1 = Buffer.from(arr);\n\n//  `arr` \nconst buf2 = Buffer.from(arr.buffer);\n\n// : <Buffer 88 a0>\nconsole.log(buf1);\n\n// : <Buffer 88 13 a0 0f>\nconsole.log(buf2);\n\narr[1] = 6000;\n\n// : <Buffer 88 a0>\nconsole.log(buf1);\n\n// : <Buffer 88 13 70 17>\nconsole.log(buf2);\n```\n* TypedArray  .buffer  Buffer  byteOffset  length  ArrayBuffer *\n```javascript\nconst arr = new Uint16Array(20);\nconst buf = Buffer.from(arr.buffer, 0, 16);\n\n// : 16\nconsole.log(buf.length);\n```\n\nBuffer  ECMAScript 2015 (ES6)  for..of \n\n","updated":"2022-12-21T01:27:15.833Z","path":"nodejs/nodejs-note-7.html","comments":1,"layout":"page","_id":"clc62bais000onwva2ihyfj5p","content":"<h6 id=\"Buffer-\"><a href=\"#Buffer-\" class=\"headerlink\" title=\"Buffer()\"></a>Buffer()</h6><p>ES6TypedArray???JavaScript <br>Buffer  Node.js API  TCP </p>\n<p>TypedArray  ES6 Buffer  Node.js  Uint8Array API</p>\n<p><em>Buffer  Buffer  V8  Buffer Buffer  Node.js  require(buffer).Buffer</em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  10 0  Buffer</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf1 = Buffer.alloc(<span class=\"number\">10</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  10 0x1  Buffer </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf2 = Buffer.alloc(<span class=\"number\">10</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  10 Buffer</span></span><br><span class=\"line\"><span class=\"comment\">//  Buffer.alloc() </span></span><br><span class=\"line\"><span class=\"comment\">//  Buffer </span></span><br><span class=\"line\"><span class=\"comment\">//  fill()  write() </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf3 = Buffer.allocUnsafe(<span class=\"number\">10</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  [0x1, 0x2, 0x3]  Buffer</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf4 = Buffer.from([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>]);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  UTF-8  [0x74, 0xc3, 0xa9, 0x73, 0x74]  Buffer</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf5 = Buffer.from(<span class=\"string\">&#x27;tst&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  Latin-1  [0x74, 0xe9, 0x73, 0x74]  Buffer</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf6 = Buffer.from(<span class=\"string\">&#x27;tst&#x27;</span>, <span class=\"string\">&#x27;latin1&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<p><em>Buffer.from(), Buffer.alloc(), and Buffer.allocUnsafe()</em><br>nodejs v6uffer  Buffer  Buffer</p>\n<ul>\n<li>nodejs 8.0.0Buffer8.0.0buffer</li>\n<li>  Buffer Buffer</li>\n<li> ArrayBuffer  SharedArrayBuffer ArrayBuffer  Buffer</li>\n</ul>\n<p>new Buffer()Buffer.from(), Buffer.alloc(), and Buffer.allocUnsafe()</p>\n<ul>\n<li>Buffer.from(array) <strong></strong> Buffer</li>\n<li>[Buffer.from(arrayBuffer[, byteOffset [, length]])]Buffer.from(arrayBuffer) <strong> ArrayBuffer </strong> Buffer</li>\n<li>Buffer.from(buffer) <strong> Buffer </strong> Buffer</li>\n<li>Buffer.from(string[, encoding]) <strong></strong> Buffer</li>\n<li>[Buffer.alloc(size[, fill[, encoding]])]Buffer.alloc() <strong> Buffer </strong>  Buffer.allocUnsafe(size)  Buffer <strong></strong></li>\n<li>Buffer.allocUnsafe(size)  Buffer.allocUnsafeSlow(size)  size  Buffer buf.fill(0) </li>\n</ul>\n<p><em> size  Buffer.poolSize  Buffer.allocUnsafe()  Buffer <strong></strong></em></p>\n<p><em>zero-fill-buffers</em><br>buffer<strong>0</strong><br>buffer Buffer  zero-fill-buffers </p>\n<p><em>buffer.allocUnsafe()buffer.allocUnsafeSlow()</em><br>buffer.allocUnsafe()buffer.allocUnsafeSlow()buffer**(0)**</p>\n<p><em>buffer</em><br>Buffer  UTF-8  UCS2  Base64   Buffer  JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> buf = Buffer.from(<span class=\"string\">&#x27;hello world&#x27;</span>, <span class=\"string\">&#x27;ascii&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf.toString(<span class=\"string\">&#x27;hex&#x27;</span>));</span><br><span class=\"line\"><span class=\"comment\">//  68656c6c6f20776f726c64</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf.toString(<span class=\"string\">&#x27;base64&#x27;</span>));</span><br><span class=\"line\"><span class=\"comment\">//  aGVsbG8gd29ybGQ=</span></span><br></pre></td></tr></table></figure>\n\n<p>nodejs</p>\n<ul>\n<li>ascii -  7  ASCII </li>\n<li>utf8 -  Unicode  UTF-8</li>\n<li>utf16le - 2  4  Unicode U+10000  U+10FFFF</li>\n<li>ucs2 - utf16le </li>\n<li>base64 - Base64  Buffer  RFC4648  5 URL </li>\n<li>latin1 -  Buffer  IANA  RFC1345  63  Latin-1  C0/C1 </li>\n<li>binary - latin1 </li>\n<li>hex - </li>\n</ul>\n<p><strong></strong> WHATWG   latin1  ISO-8859-1  win-1252  http.get()  WHATWG  win-1252  latin1 </p>\n<p><em>Buffer  TypedArray</em><br>Buffer  Uint8Array <br> Buffer  TypedArray </p>\n<ul>\n<li>Buffer  TypedArray </li>\n<li>Buffer  new Uint32Array(Buffer.from([1, 2, 3, 4]))  [1, 2, 3, 4]  Uint32Array [0x1020304]  [0x4030201]  Uint32Array <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = <span class=\"keyword\">new</span> <span class=\"built_in\">Uint16Array</span>(<span class=\"number\">2</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">arr[<span class=\"number\">0</span>] = <span class=\"number\">5000</span>;</span><br><span class=\"line\">arr[<span class=\"number\">1</span>] = <span class=\"number\">4000</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  `arr` </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf1 = Buffer.from(arr);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  `arr` </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf2 = Buffer.from(arr.buffer);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// : &lt;Buffer 88 a0&gt;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf1);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// : &lt;Buffer 88 13 a0 0f&gt;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf2);</span><br><span class=\"line\"></span><br><span class=\"line\">arr[<span class=\"number\">1</span>] = <span class=\"number\">6000</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// : &lt;Buffer 88 a0&gt;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf1);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// : &lt;Buffer 88 13 70 17&gt;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf2);</span><br></pre></td></tr></table></figure></li>\n</ul>\n<p><em> TypedArray  .buffer  Buffer  byteOffset  length  ArrayBuffer </em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = <span class=\"keyword\">new</span> <span class=\"built_in\">Uint16Array</span>(<span class=\"number\">20</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> buf = Buffer.from(arr.buffer, <span class=\"number\">0</span>, <span class=\"number\">16</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// : 16</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf.length);</span><br></pre></td></tr></table></figure>\n\n<p>Buffer  ECMAScript 2015 (ES6)  for..of </p>\n","site":{"data":{}},"excerpt":"","more":"<h6 id=\"Buffer-\"><a href=\"#Buffer-\" class=\"headerlink\" title=\"Buffer()\"></a>Buffer()</h6><p>ES6TypedArray???JavaScript <br>Buffer  Node.js API  TCP </p>\n<p>TypedArray  ES6 Buffer  Node.js  Uint8Array API</p>\n<p><em>Buffer  Buffer  V8  Buffer Buffer  Node.js  require(buffer).Buffer</em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  10 0  Buffer</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf1 = Buffer.alloc(<span class=\"number\">10</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  10 0x1  Buffer </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf2 = Buffer.alloc(<span class=\"number\">10</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  10 Buffer</span></span><br><span class=\"line\"><span class=\"comment\">//  Buffer.alloc() </span></span><br><span class=\"line\"><span class=\"comment\">//  Buffer </span></span><br><span class=\"line\"><span class=\"comment\">//  fill()  write() </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf3 = Buffer.allocUnsafe(<span class=\"number\">10</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  [0x1, 0x2, 0x3]  Buffer</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf4 = Buffer.from([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>]);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  UTF-8  [0x74, 0xc3, 0xa9, 0x73, 0x74]  Buffer</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf5 = Buffer.from(<span class=\"string\">&#x27;tst&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  Latin-1  [0x74, 0xe9, 0x73, 0x74]  Buffer</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf6 = Buffer.from(<span class=\"string\">&#x27;tst&#x27;</span>, <span class=\"string\">&#x27;latin1&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<p><em>Buffer.from(), Buffer.alloc(), and Buffer.allocUnsafe()</em><br>nodejs v6uffer  Buffer  Buffer</p>\n<ul>\n<li>nodejs 8.0.0Buffer8.0.0buffer</li>\n<li>  Buffer Buffer</li>\n<li> ArrayBuffer  SharedArrayBuffer ArrayBuffer  Buffer</li>\n</ul>\n<p>new Buffer()Buffer.from(), Buffer.alloc(), and Buffer.allocUnsafe()</p>\n<ul>\n<li>Buffer.from(array) <strong></strong> Buffer</li>\n<li>[Buffer.from(arrayBuffer[, byteOffset [, length]])]Buffer.from(arrayBuffer) <strong> ArrayBuffer </strong> Buffer</li>\n<li>Buffer.from(buffer) <strong> Buffer </strong> Buffer</li>\n<li>Buffer.from(string[, encoding]) <strong></strong> Buffer</li>\n<li>[Buffer.alloc(size[, fill[, encoding]])]Buffer.alloc() <strong> Buffer </strong>  Buffer.allocUnsafe(size)  Buffer <strong></strong></li>\n<li>Buffer.allocUnsafe(size)  Buffer.allocUnsafeSlow(size)  size  Buffer buf.fill(0) </li>\n</ul>\n<p><em> size  Buffer.poolSize  Buffer.allocUnsafe()  Buffer <strong></strong></em></p>\n<p><em>zero-fill-buffers</em><br>buffer<strong>0</strong><br>buffer Buffer  zero-fill-buffers </p>\n<p><em>buffer.allocUnsafe()buffer.allocUnsafeSlow()</em><br>buffer.allocUnsafe()buffer.allocUnsafeSlow()buffer**(0)**</p>\n<p><em>buffer</em><br>Buffer  UTF-8  UCS2  Base64   Buffer  JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> buf = Buffer.from(<span class=\"string\">&#x27;hello world&#x27;</span>, <span class=\"string\">&#x27;ascii&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf.toString(<span class=\"string\">&#x27;hex&#x27;</span>));</span><br><span class=\"line\"><span class=\"comment\">//  68656c6c6f20776f726c64</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf.toString(<span class=\"string\">&#x27;base64&#x27;</span>));</span><br><span class=\"line\"><span class=\"comment\">//  aGVsbG8gd29ybGQ=</span></span><br></pre></td></tr></table></figure>\n\n<p>nodejs</p>\n<ul>\n<li>ascii -  7  ASCII </li>\n<li>utf8 -  Unicode  UTF-8</li>\n<li>utf16le - 2  4  Unicode U+10000  U+10FFFF</li>\n<li>ucs2 - utf16le </li>\n<li>base64 - Base64  Buffer  RFC4648  5 URL </li>\n<li>latin1 -  Buffer  IANA  RFC1345  63  Latin-1  C0/C1 </li>\n<li>binary - latin1 </li>\n<li>hex - </li>\n</ul>\n<p><strong></strong> WHATWG   latin1  ISO-8859-1  win-1252  http.get()  WHATWG  win-1252  latin1 </p>\n<p><em>Buffer  TypedArray</em><br>Buffer  Uint8Array <br> Buffer  TypedArray </p>\n<ul>\n<li>Buffer  TypedArray </li>\n<li>Buffer  new Uint32Array(Buffer.from([1, 2, 3, 4]))  [1, 2, 3, 4]  Uint32Array [0x1020304]  [0x4030201]  Uint32Array <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = <span class=\"keyword\">new</span> <span class=\"built_in\">Uint16Array</span>(<span class=\"number\">2</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">arr[<span class=\"number\">0</span>] = <span class=\"number\">5000</span>;</span><br><span class=\"line\">arr[<span class=\"number\">1</span>] = <span class=\"number\">4000</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  `arr` </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf1 = Buffer.from(arr);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  `arr` </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf2 = Buffer.from(arr.buffer);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// : &lt;Buffer 88 a0&gt;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf1);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// : &lt;Buffer 88 13 a0 0f&gt;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf2);</span><br><span class=\"line\"></span><br><span class=\"line\">arr[<span class=\"number\">1</span>] = <span class=\"number\">6000</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// : &lt;Buffer 88 a0&gt;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf1);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// : &lt;Buffer 88 13 70 17&gt;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf2);</span><br></pre></td></tr></table></figure></li>\n</ul>\n<p><em> TypedArray  .buffer  Buffer  byteOffset  length  ArrayBuffer </em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = <span class=\"keyword\">new</span> <span class=\"built_in\">Uint16Array</span>(<span class=\"number\">20</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> buf = Buffer.from(arr.buffer, <span class=\"number\">0</span>, <span class=\"number\">16</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// : 16</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf.length);</span><br></pre></td></tr></table></figure>\n\n<p>Buffer  ECMAScript 2015 (ES6)  for..of </p>\n"},{"title":"nodejs(2)","date":"2022-10-19T11:12:12.000Z","tags":["node","assert","asyncHooks"],"_content":"\n#### nodejs\n\n###### assert-\n**\n\n*assert.deepEqual(a, b[, message])*\n == \n\n\n*assert.deepStrictEqual(a, b[, message])*\nassert.deepEqual === \n\n*assert.doesNotThrow(block[, error][, message])*\nblockerrorAssertionError\n\n*assert.equal(actual, expected[, message])*\n == actualexpected\n\n*assert.fail(message)*\n*assert.fail(actual, expected[, message[, operator[, stackStartFunction]]])*\nAssertionError message  actual  + operator  + expected   actual  expected  operator  '!='  message   stackStartFunction \n\n*assert.ifError(value)*\nvaluevaluevalue\n\n*assert.notDeepEqual(actual, expected[, message])*\nassert.deepEqual()\n\n*assert.notDeepStrictEqual(actual, expected[, message])*\nassert.deepStrictEqual()\n\n*assert.notEqual(actual, expected[, message])*\n != \n\n*assert.notStrictEqual(actual, expected[, message])*\n!==\n\n*assert.ok(value[, message])*\n value   assert.equal(!!value, true, message)\n\n\n###### (Async Hooks)\nError handling()\n--abort on uncaught\n**If any AsyncHook callbacks throw, the application will print the stack trace and exit. The exit path does follow that of an uncaught exception, but all 'uncaughtException' listeners are removed, thus forcing the process to exit. The 'exit' callbacks will still be called unless the application is run with --abort-on-uncaught-exception, in which case a stack trace will be printed and the application exits, leaving a core file.**\n\nPrinting in AsyncHook callbacks()\n console.log\n fs.writeSync(1, msg).\n```javascript\nconst fs = require('fs');\nconst util = require('util');\n\nfunction debug(...args) {\n  // use a function like this one when debugging inside an AsyncHooks callback\n  fs.writeSync(1, `${util.format(...args)}\\n`);\n}\n```\n**Because printing to the console is an asynchronous operation, console.log() will cause AsyncHook callbacks to be called. Using console.log() or similar asynchronous operations inside an AsyncHook callback function will cause an infinite recursion. An easy solution to this when debugging is to use a synchronous logging operation such as fs.writeFileSync(file, msg, flag). This will print to the file and will not invoke AsyncHook recursively because it is synchronous.**\n\n*asyncHook.enable()*\n\n\n*asyncHook.disable()*\n\n\n*init(asyncId, type, triggerAsyncId, resource)*\nasyncId: number\ntype: string\ntriggerAsyncId: numberID\nresource: object\n\n\n```javascript\nrequire('net').createServer().listen(function() { this.close(); });\n// OR\nclearTimeout(setTimeout(() => {}, 10));\n```\nID\n\n*type*\n```\nFSEVENTWRAP, FSREQWRAP, GETADDRINFOREQWRAP, GETNAMEINFOREQWRAP, HTTPPARSER,\nJSSTREAM, PIPECONNECTWRAP, PIPEWRAP, PROCESSWRAP, QUERYWRAP, SHUTDOWNWRAP,\nSIGNALWRAP, STATWATCHER, TCPCONNECTWRAP, TCPSERVER, TCPWRAP, TIMERWRAP, TTYWRAP,\nUDPSENDWRAP, UDPWRAP, WRITEWRAP, ZLIB, SSLCONNECTION, PBKDF2REQUEST,\nRANDOMBYTESREQUEST, TLSWRAP, Timeout, Immediate, TickObject, PROMISE\n```\ntypetype package name\n\n*triggerAsyncId*\ninittriggerAsyncId\n```javascript\nasync_hooks.createHook({\n  init(asyncId, type, triggerAsyncId) {\n    const eid = async_hooks.executionAsyncId();\n    fs.writeSync(\n      1, `${type}(${asyncId}): trigger: ${triggerAsyncId} execution: ${eid}\\n`);\n  }\n}).enable();\n\nrequire('net').createServer((conn) => {}).listen(8080);\n```\n\n*resource*\n\n\n```javascript\nlet indent = 0;\nasync_hooks.createHook({\n  init(asyncId, type, triggerAsyncId) {\n    const eid = async_hooks.executionAsyncId();\n    const indentStr = ' '.repeat(indent);\n    fs.writeSync(\n      1,\n      `${indentStr}${type}(${asyncId}):` +\n      ` trigger: ${triggerAsyncId} execution: ${eid}\\n`);\n  },\n  before(asyncId) {\n    const indentStr = ' '.repeat(indent);\n    fs.writeSync(1, `${indentStr}before:  ${asyncId}\\n`);\n    indent += 2;\n  },\n  after(asyncId) {\n    indent -= 2;\n    const indentStr = ' '.repeat(indent);\n    fs.writeSync(1, `${indentStr}after:   ${asyncId}\\n`);\n  },\n  destroy(asyncId) {\n    const indentStr = ' '.repeat(indent);\n    fs.writeSync(1, `${indentStr}destroy: ${asyncId}\\n`);\n  },\n}).enable();\n\nrequire('net').createServer(() => {}).listen(8080, () => {\n  // Let's wait 10ms before logging the server started.\n  setTimeout(() => {\n    console.log('>>>', async_hooks.executionAsyncId());\n  }, 10);\n});\n\n\n// \nTCPSERVERWRAP(2): trigger: 1 execution: 1\nTickObject(3): trigger: 2 execution: 1\nbefore:  3\n  Timeout(4): trigger: 3 execution: 3\n  TIMERWRAP(5): trigger: 3 execution: 3\nafter:   3\ndestroy: 3\nbefore:  5\n  before:  4\n    TTYWRAP(6): trigger: 4 execution: 4\n    SIGNALWRAP(7): trigger: 4 execution: 4\n    TTYWRAP(8): trigger: 4 execution: 4\n>>> 4\n    TickObject(9): trigger: 4 execution: 4\n  after:   4\nafter:   5\nbefore:  9\nafter:   9\ndestroy: 4\ndestroy: 9\ndestroy: 5\n```\n\n*before(asyncId)*\n TCP  before  asyncId \n\n*after(asyncId)*\n before \ncallbackafter'uncaughtException' \n\n*destroy(asyncId)*\nasyncId   API emitDestroy() \nresourceinitdestroy???\n\n*promiseResolve(asyncId)*\n Promise  resolve  promise \npromiseresolverejectpromisePromise\n\n*async_hooks.executionAsyncResource()*\nexecutionAsyncResource()  API  Node.js  \n\n*async_hooks.executionAsyncId()*\nasyncId\n```javascript\nconst async_hooks = require('async_hooks');\n\nconsole.log(async_hooks.executionAsyncId());  // 1 - bootstrap\nfs.open(path, 'r', (err, fd) => {\n  console.log(async_hooks.executionAsyncId());  // 6 - open()\n});\n```\nexecutionAsyncId()  ID  triggerAsyncId() \n```javascript\nconst server = net.createServer(function onConnection(conn) {\n  // Returns the ID of the server, not of the new connection, because the\n  // onConnection callback runs in the execution scope of the server's\n  // MakeCallback().\n  async_hooks.executionAsyncId();\n\n}).listen(port, function onListening() {\n  // Returns the ID of a TickObject (i.e. process.nextTick()) because all\n  // callbacks passed to .listen() are wrapped in a nextTick().\n  async_hooks.executionAsyncId();\n});\n```\n\n*async_hooks.triggerAsyncId()*\nId\npromise  triggerAsyncId\n```javascript\nconst server = net.createServer((conn) => {\n  // The resource that caused (or triggered) this callback to be called\n  // was that of the new connection. Thus the return value of triggerAsyncId()\n  // is the asyncId of \"conn\".\n  async_hooks.triggerAsyncId();\n\n}).listen(port, () => {\n  // Even though all callbacks passed to .listen() are wrapped in a nextTick()\n  // the callback itself exists because the call to the server's .listen()\n  // was made. So the return value would be the ID of the server.\n  async_hooks.triggerAsyncId();\n});\n```\n\n*async_hooks.asyncWrapProviders*\nidmapasync_hooks.init\n process.binding('async_wrap').Providers\n\n*Promise *\n V8  promise  API  promise  asyncId  promise  async/await  promise  id\n```javascript\nimport { executionAsyncId, triggerAsyncId } from 'node:async_hooks';\n\nPromise.resolve(1729).then(() => {\n  console.log(`eid ${executionAsyncId()} tid ${triggerAsyncId()}`);\n});\n// produces:\n// eid 1 tid 0\n```\n```javascript\nimport { createHook, executionAsyncId, triggerAsyncId } from 'node:async_hooks';\ncreateHook({ init() {} }).enable(); // forces PromiseHooks to be enabled.\nPromise.resolve(1729).then(() => {\n  console.log(`eid ${executionAsyncId()} tid ${triggerAsyncId()}`);\n});\n// produces:\n// eid 7 tid 6\n```\n\n###### AsyncResource\nAsyncResource\n```javascript\nimport { AsyncResource, executionAsyncId } from 'node:async_hooks';\n\n// AsyncResource() is meant to be extended. Instantiating a\n// new AsyncResource() also triggers init. If triggerAsyncId is omitted then\n// async_hook.executionAsyncId() is used.\nconst asyncResource = new AsyncResource(\n  type, { triggerAsyncId: executionAsyncId(), requireManualDestroy: false }\n);\n\n// Run a function in the execution context of the resource. This will\n// * establish the context of the resource\n// * trigger the AsyncHooks before callbacks\n// * call the provided function `fn` with the supplied arguments\n// * trigger the AsyncHooks after callbacks\n// * restore the original execution context\nasyncResource.runInAsyncScope(fn, thisArg, ...args);\n\n// Call AsyncHooks destroy callbacks.\nasyncResource.emitDestroy();\n\n// Return the unique ID assigned to the AsyncResource instance.\nasyncResource.asyncId();\n\n// Return the trigger ID for the AsyncResource instance.\nasyncResource.triggerAsyncId();\n```\n\n###### AsyncLocalStorage \n\n\n###### \nhttps://www.jianshu.com/p/4a568dac41ed","source":"nodejs/nodejs-note-6.md","raw":"---\ntitle: nodejs(2)\ndate: 2022-10-19 19:12:12\ntags: [node, assert, asyncHooks]\n---\n\n#### nodejs\n\n###### assert-\n**\n\n*assert.deepEqual(a, b[, message])*\n == \n\n\n*assert.deepStrictEqual(a, b[, message])*\nassert.deepEqual === \n\n*assert.doesNotThrow(block[, error][, message])*\nblockerrorAssertionError\n\n*assert.equal(actual, expected[, message])*\n == actualexpected\n\n*assert.fail(message)*\n*assert.fail(actual, expected[, message[, operator[, stackStartFunction]]])*\nAssertionError message  actual  + operator  + expected   actual  expected  operator  '!='  message   stackStartFunction \n\n*assert.ifError(value)*\nvaluevaluevalue\n\n*assert.notDeepEqual(actual, expected[, message])*\nassert.deepEqual()\n\n*assert.notDeepStrictEqual(actual, expected[, message])*\nassert.deepStrictEqual()\n\n*assert.notEqual(actual, expected[, message])*\n != \n\n*assert.notStrictEqual(actual, expected[, message])*\n!==\n\n*assert.ok(value[, message])*\n value   assert.equal(!!value, true, message)\n\n\n###### (Async Hooks)\nError handling()\n--abort on uncaught\n**If any AsyncHook callbacks throw, the application will print the stack trace and exit. The exit path does follow that of an uncaught exception, but all 'uncaughtException' listeners are removed, thus forcing the process to exit. The 'exit' callbacks will still be called unless the application is run with --abort-on-uncaught-exception, in which case a stack trace will be printed and the application exits, leaving a core file.**\n\nPrinting in AsyncHook callbacks()\n console.log\n fs.writeSync(1, msg).\n```javascript\nconst fs = require('fs');\nconst util = require('util');\n\nfunction debug(...args) {\n  // use a function like this one when debugging inside an AsyncHooks callback\n  fs.writeSync(1, `${util.format(...args)}\\n`);\n}\n```\n**Because printing to the console is an asynchronous operation, console.log() will cause AsyncHook callbacks to be called. Using console.log() or similar asynchronous operations inside an AsyncHook callback function will cause an infinite recursion. An easy solution to this when debugging is to use a synchronous logging operation such as fs.writeFileSync(file, msg, flag). This will print to the file and will not invoke AsyncHook recursively because it is synchronous.**\n\n*asyncHook.enable()*\n\n\n*asyncHook.disable()*\n\n\n*init(asyncId, type, triggerAsyncId, resource)*\nasyncId: number\ntype: string\ntriggerAsyncId: numberID\nresource: object\n\n\n```javascript\nrequire('net').createServer().listen(function() { this.close(); });\n// OR\nclearTimeout(setTimeout(() => {}, 10));\n```\nID\n\n*type*\n```\nFSEVENTWRAP, FSREQWRAP, GETADDRINFOREQWRAP, GETNAMEINFOREQWRAP, HTTPPARSER,\nJSSTREAM, PIPECONNECTWRAP, PIPEWRAP, PROCESSWRAP, QUERYWRAP, SHUTDOWNWRAP,\nSIGNALWRAP, STATWATCHER, TCPCONNECTWRAP, TCPSERVER, TCPWRAP, TIMERWRAP, TTYWRAP,\nUDPSENDWRAP, UDPWRAP, WRITEWRAP, ZLIB, SSLCONNECTION, PBKDF2REQUEST,\nRANDOMBYTESREQUEST, TLSWRAP, Timeout, Immediate, TickObject, PROMISE\n```\ntypetype package name\n\n*triggerAsyncId*\ninittriggerAsyncId\n```javascript\nasync_hooks.createHook({\n  init(asyncId, type, triggerAsyncId) {\n    const eid = async_hooks.executionAsyncId();\n    fs.writeSync(\n      1, `${type}(${asyncId}): trigger: ${triggerAsyncId} execution: ${eid}\\n`);\n  }\n}).enable();\n\nrequire('net').createServer((conn) => {}).listen(8080);\n```\n\n*resource*\n\n\n```javascript\nlet indent = 0;\nasync_hooks.createHook({\n  init(asyncId, type, triggerAsyncId) {\n    const eid = async_hooks.executionAsyncId();\n    const indentStr = ' '.repeat(indent);\n    fs.writeSync(\n      1,\n      `${indentStr}${type}(${asyncId}):` +\n      ` trigger: ${triggerAsyncId} execution: ${eid}\\n`);\n  },\n  before(asyncId) {\n    const indentStr = ' '.repeat(indent);\n    fs.writeSync(1, `${indentStr}before:  ${asyncId}\\n`);\n    indent += 2;\n  },\n  after(asyncId) {\n    indent -= 2;\n    const indentStr = ' '.repeat(indent);\n    fs.writeSync(1, `${indentStr}after:   ${asyncId}\\n`);\n  },\n  destroy(asyncId) {\n    const indentStr = ' '.repeat(indent);\n    fs.writeSync(1, `${indentStr}destroy: ${asyncId}\\n`);\n  },\n}).enable();\n\nrequire('net').createServer(() => {}).listen(8080, () => {\n  // Let's wait 10ms before logging the server started.\n  setTimeout(() => {\n    console.log('>>>', async_hooks.executionAsyncId());\n  }, 10);\n});\n\n\n// \nTCPSERVERWRAP(2): trigger: 1 execution: 1\nTickObject(3): trigger: 2 execution: 1\nbefore:  3\n  Timeout(4): trigger: 3 execution: 3\n  TIMERWRAP(5): trigger: 3 execution: 3\nafter:   3\ndestroy: 3\nbefore:  5\n  before:  4\n    TTYWRAP(6): trigger: 4 execution: 4\n    SIGNALWRAP(7): trigger: 4 execution: 4\n    TTYWRAP(8): trigger: 4 execution: 4\n>>> 4\n    TickObject(9): trigger: 4 execution: 4\n  after:   4\nafter:   5\nbefore:  9\nafter:   9\ndestroy: 4\ndestroy: 9\ndestroy: 5\n```\n\n*before(asyncId)*\n TCP  before  asyncId \n\n*after(asyncId)*\n before \ncallbackafter'uncaughtException' \n\n*destroy(asyncId)*\nasyncId   API emitDestroy() \nresourceinitdestroy???\n\n*promiseResolve(asyncId)*\n Promise  resolve  promise \npromiseresolverejectpromisePromise\n\n*async_hooks.executionAsyncResource()*\nexecutionAsyncResource()  API  Node.js  \n\n*async_hooks.executionAsyncId()*\nasyncId\n```javascript\nconst async_hooks = require('async_hooks');\n\nconsole.log(async_hooks.executionAsyncId());  // 1 - bootstrap\nfs.open(path, 'r', (err, fd) => {\n  console.log(async_hooks.executionAsyncId());  // 6 - open()\n});\n```\nexecutionAsyncId()  ID  triggerAsyncId() \n```javascript\nconst server = net.createServer(function onConnection(conn) {\n  // Returns the ID of the server, not of the new connection, because the\n  // onConnection callback runs in the execution scope of the server's\n  // MakeCallback().\n  async_hooks.executionAsyncId();\n\n}).listen(port, function onListening() {\n  // Returns the ID of a TickObject (i.e. process.nextTick()) because all\n  // callbacks passed to .listen() are wrapped in a nextTick().\n  async_hooks.executionAsyncId();\n});\n```\n\n*async_hooks.triggerAsyncId()*\nId\npromise  triggerAsyncId\n```javascript\nconst server = net.createServer((conn) => {\n  // The resource that caused (or triggered) this callback to be called\n  // was that of the new connection. Thus the return value of triggerAsyncId()\n  // is the asyncId of \"conn\".\n  async_hooks.triggerAsyncId();\n\n}).listen(port, () => {\n  // Even though all callbacks passed to .listen() are wrapped in a nextTick()\n  // the callback itself exists because the call to the server's .listen()\n  // was made. So the return value would be the ID of the server.\n  async_hooks.triggerAsyncId();\n});\n```\n\n*async_hooks.asyncWrapProviders*\nidmapasync_hooks.init\n process.binding('async_wrap').Providers\n\n*Promise *\n V8  promise  API  promise  asyncId  promise  async/await  promise  id\n```javascript\nimport { executionAsyncId, triggerAsyncId } from 'node:async_hooks';\n\nPromise.resolve(1729).then(() => {\n  console.log(`eid ${executionAsyncId()} tid ${triggerAsyncId()}`);\n});\n// produces:\n// eid 1 tid 0\n```\n```javascript\nimport { createHook, executionAsyncId, triggerAsyncId } from 'node:async_hooks';\ncreateHook({ init() {} }).enable(); // forces PromiseHooks to be enabled.\nPromise.resolve(1729).then(() => {\n  console.log(`eid ${executionAsyncId()} tid ${triggerAsyncId()}`);\n});\n// produces:\n// eid 7 tid 6\n```\n\n###### AsyncResource\nAsyncResource\n```javascript\nimport { AsyncResource, executionAsyncId } from 'node:async_hooks';\n\n// AsyncResource() is meant to be extended. Instantiating a\n// new AsyncResource() also triggers init. If triggerAsyncId is omitted then\n// async_hook.executionAsyncId() is used.\nconst asyncResource = new AsyncResource(\n  type, { triggerAsyncId: executionAsyncId(), requireManualDestroy: false }\n);\n\n// Run a function in the execution context of the resource. This will\n// * establish the context of the resource\n// * trigger the AsyncHooks before callbacks\n// * call the provided function `fn` with the supplied arguments\n// * trigger the AsyncHooks after callbacks\n// * restore the original execution context\nasyncResource.runInAsyncScope(fn, thisArg, ...args);\n\n// Call AsyncHooks destroy callbacks.\nasyncResource.emitDestroy();\n\n// Return the unique ID assigned to the AsyncResource instance.\nasyncResource.asyncId();\n\n// Return the trigger ID for the AsyncResource instance.\nasyncResource.triggerAsyncId();\n```\n\n###### AsyncLocalStorage \n\n\n###### \nhttps://www.jianshu.com/p/4a568dac41ed","updated":"2022-12-21T01:27:15.833Z","path":"nodejs/nodejs-note-6.html","comments":1,"layout":"page","_id":"clc62bait000qnwvacfgqc3t4","content":"<h4 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h4><h6 id=\"assert-\"><a href=\"#assert-\" class=\"headerlink\" title=\"assert-\"></a>assert-</h6><p><em></em></p>\n<p><em>assert.deepEqual(a, b[, message])</em><br> == <br></p>\n<p><em>assert.deepStrictEqual(a, b[, message])</em><br>assert.deepEqual === </p>\n<p><em>assert.doesNotThrow(block[, error][, message])</em><br>blockerrorAssertionError</p>\n<p><em>assert.equal(actual, expected[, message])</em><br> == actualexpected</p>\n<p><em>assert.fail(message)</em><br><em>assert.fail(actual, expected[, message[, operator[, stackStartFunction]]])</em><br>AssertionError message  actual  + operator  + expected   actual  expected  operator  !=  message   stackStartFunction </p>\n<p><em>assert.ifError(value)</em><br>valuevaluevalue</p>\n<p><em>assert.notDeepEqual(actual, expected[, message])</em><br>assert.deepEqual()</p>\n<p><em>assert.notDeepStrictEqual(actual, expected[, message])</em><br>assert.deepStrictEqual()</p>\n<p><em>assert.notEqual(actual, expected[, message])</em><br> != </p>\n<p><em>assert.notStrictEqual(actual, expected[, message])</em><br>!==</p>\n<p><em>assert.ok(value[, message])</em><br> value   assert.equal(!!value, true, message)</p>\n<h6 id=\"-Async-Hooks\"><a href=\"#-Async-Hooks\" class=\"headerlink\" title=\"(Async Hooks)\"></a>(Async Hooks)</h6><p>Error handling()<br>abort on uncaught<br><strong>If any AsyncHook callbacks throw, the application will print the stack trace and exit. The exit path does follow that of an uncaught exception, but all uncaughtException listeners are removed, thus forcing the process to exit. The exit callbacks will still be called unless the application is run with abort-on-uncaught-exception, in which case a stack trace will be printed and the application exits, leaving a core file.</strong></p>\n<p>Printing in AsyncHook callbacks()<br> console.log<br> fs.writeSync(1, msg).</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> fs = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;fs&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> util = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;util&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">debug</span>(<span class=\"params\">...args</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// use a function like this one when debugging inside an AsyncHooks callback</span></span><br><span class=\"line\">  fs.writeSync(<span class=\"number\">1</span>, <span class=\"string\">`<span class=\"subst\">$&#123;util.format(...args)&#125;</span>\\n`</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><strong>Because printing to the console is an asynchronous operation, console.log() will cause AsyncHook callbacks to be called. Using console.log() or similar asynchronous operations inside an AsyncHook callback function will cause an infinite recursion. An easy solution to this when debugging is to use a synchronous logging operation such as fs.writeFileSync(file, msg, flag). This will print to the file and will not invoke AsyncHook recursively because it is synchronous.</strong></p>\n<p><em>asyncHook.enable()</em><br></p>\n<p><em>asyncHook.disable()</em><br></p>\n<p><em>init(asyncId, type, triggerAsyncId, resource)</em><br>asyncId: number<br>type: string<br>triggerAsyncId: numberID<br>resource: object<br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">&#x27;net&#x27;</span>).createServer().listen(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; <span class=\"built_in\">this</span>.close(); &#125;);</span><br><span class=\"line\"><span class=\"comment\">// OR</span></span><br><span class=\"line\"><span class=\"built_in\">clearTimeout</span>(<span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;&#125;, <span class=\"number\">10</span>));</span><br></pre></td></tr></table></figure>\n<p>ID</p>\n<p><em>type</em></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FSEVENTWRAP, FSREQWRAP, GETADDRINFOREQWRAP, GETNAMEINFOREQWRAP, HTTPPARSER,</span><br><span class=\"line\">JSSTREAM, PIPECONNECTWRAP, PIPEWRAP, PROCESSWRAP, QUERYWRAP, SHUTDOWNWRAP,</span><br><span class=\"line\">SIGNALWRAP, STATWATCHER, TCPCONNECTWRAP, TCPSERVER, TCPWRAP, TIMERWRAP, TTYWRAP,</span><br><span class=\"line\">UDPSENDWRAP, UDPWRAP, WRITEWRAP, ZLIB, SSLCONNECTION, PBKDF2REQUEST,</span><br><span class=\"line\">RANDOMBYTESREQUEST, TLSWRAP, Timeout, Immediate, TickObject, PROMISE</span><br></pre></td></tr></table></figure>\n<p>typetype package name</p>\n<p><em>triggerAsyncId</em><br>inittriggerAsyncId</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">async_hooks.createHook(&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">init</span>(<span class=\"params\">asyncId, type, triggerAsyncId</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> eid = async_hooks.executionAsyncId();</span><br><span class=\"line\">    fs.writeSync(</span><br><span class=\"line\">      <span class=\"number\">1</span>, <span class=\"string\">`<span class=\"subst\">$&#123;type&#125;</span>(<span class=\"subst\">$&#123;asyncId&#125;</span>): trigger: <span class=\"subst\">$&#123;triggerAsyncId&#125;</span> execution: <span class=\"subst\">$&#123;eid&#125;</span>\\n`</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;).enable();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">&#x27;net&#x27;</span>).createServer(<span class=\"function\">(<span class=\"params\">conn</span>) =&gt;</span> &#123;&#125;).listen(<span class=\"number\">8080</span>);</span><br></pre></td></tr></table></figure>\n\n<p><em>resource</em><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> indent = <span class=\"number\">0</span>;</span><br><span class=\"line\">async_hooks.createHook(&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">init</span>(<span class=\"params\">asyncId, type, triggerAsyncId</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> eid = async_hooks.executionAsyncId();</span><br><span class=\"line\">    <span class=\"keyword\">const</span> indentStr = <span class=\"string\">&#x27; &#x27;</span>.repeat(indent);</span><br><span class=\"line\">    fs.writeSync(</span><br><span class=\"line\">      <span class=\"number\">1</span>,</span><br><span class=\"line\">      <span class=\"string\">`<span class=\"subst\">$&#123;indentStr&#125;</span><span class=\"subst\">$&#123;type&#125;</span>(<span class=\"subst\">$&#123;asyncId&#125;</span>):`</span> +</span><br><span class=\"line\">      <span class=\"string\">` trigger: <span class=\"subst\">$&#123;triggerAsyncId&#125;</span> execution: <span class=\"subst\">$&#123;eid&#125;</span>\\n`</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">before</span>(<span class=\"params\">asyncId</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> indentStr = <span class=\"string\">&#x27; &#x27;</span>.repeat(indent);</span><br><span class=\"line\">    fs.writeSync(<span class=\"number\">1</span>, <span class=\"string\">`<span class=\"subst\">$&#123;indentStr&#125;</span>before:  <span class=\"subst\">$&#123;asyncId&#125;</span>\\n`</span>);</span><br><span class=\"line\">    indent += <span class=\"number\">2</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">after</span>(<span class=\"params\">asyncId</span>)</span> &#123;</span><br><span class=\"line\">    indent -= <span class=\"number\">2</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> indentStr = <span class=\"string\">&#x27; &#x27;</span>.repeat(indent);</span><br><span class=\"line\">    fs.writeSync(<span class=\"number\">1</span>, <span class=\"string\">`<span class=\"subst\">$&#123;indentStr&#125;</span>after:   <span class=\"subst\">$&#123;asyncId&#125;</span>\\n`</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">destroy</span>(<span class=\"params\">asyncId</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> indentStr = <span class=\"string\">&#x27; &#x27;</span>.repeat(indent);</span><br><span class=\"line\">    fs.writeSync(<span class=\"number\">1</span>, <span class=\"string\">`<span class=\"subst\">$&#123;indentStr&#125;</span>destroy: <span class=\"subst\">$&#123;asyncId&#125;</span>\\n`</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;).enable();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">&#x27;net&#x27;</span>).createServer(<span class=\"function\">() =&gt;</span> &#123;&#125;).listen(<span class=\"number\">8080</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// Let&#x27;s wait 10ms before logging the server started.</span></span><br><span class=\"line\">  <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;&gt;&gt;&gt;&#x27;</span>, async_hooks.executionAsyncId());</span><br><span class=\"line\">  &#125;, <span class=\"number\">10</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">TCPSERVERWRAP(<span class=\"number\">2</span>): trigger: <span class=\"number\">1</span> execution: <span class=\"number\">1</span></span><br><span class=\"line\">TickObject(<span class=\"number\">3</span>): trigger: <span class=\"number\">2</span> execution: <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attr\">before</span>:  <span class=\"number\">3</span></span><br><span class=\"line\">  Timeout(<span class=\"number\">4</span>): trigger: <span class=\"number\">3</span> execution: <span class=\"number\">3</span></span><br><span class=\"line\">  TIMERWRAP(<span class=\"number\">5</span>): trigger: <span class=\"number\">3</span> execution: <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"attr\">after</span>:   <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"attr\">destroy</span>: <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"attr\">before</span>:  <span class=\"number\">5</span></span><br><span class=\"line\">  <span class=\"attr\">before</span>:  <span class=\"number\">4</span></span><br><span class=\"line\">    TTYWRAP(<span class=\"number\">6</span>): trigger: <span class=\"number\">4</span> execution: <span class=\"number\">4</span></span><br><span class=\"line\">    SIGNALWRAP(<span class=\"number\">7</span>): trigger: <span class=\"number\">4</span> execution: <span class=\"number\">4</span></span><br><span class=\"line\">    TTYWRAP(<span class=\"number\">8</span>): trigger: <span class=\"number\">4</span> execution: <span class=\"number\">4</span></span><br><span class=\"line\">&gt;&gt;&gt; <span class=\"number\">4</span></span><br><span class=\"line\">    TickObject(<span class=\"number\">9</span>): trigger: <span class=\"number\">4</span> execution: <span class=\"number\">4</span></span><br><span class=\"line\">  <span class=\"attr\">after</span>:   <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"attr\">after</span>:   <span class=\"number\">5</span></span><br><span class=\"line\"><span class=\"attr\">before</span>:  <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"attr\">after</span>:   <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"attr\">destroy</span>: <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"attr\">destroy</span>: <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"attr\">destroy</span>: <span class=\"number\">5</span></span><br></pre></td></tr></table></figure>\n\n<p><em>before(asyncId)</em><br> TCP  before  asyncId </p>\n<p><em>after(asyncId)</em><br> before <br>callbackafteruncaughtException </p>\n<p><em>destroy(asyncId)</em><br>asyncId   API emitDestroy() <br>resourceinitdestroy???</p>\n<p><em>promiseResolve(asyncId)</em><br> Promise  resolve  promise <br>promiseresolverejectpromisePromise</p>\n<p><em>async_hooks.executionAsyncResource()</em><br>executionAsyncResource()  API  Node.js  </p>\n<p><em>async_hooks.executionAsyncId()</em><br>asyncId</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> async_hooks = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;async_hooks&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(async_hooks.executionAsyncId());  <span class=\"comment\">// 1 - bootstrap</span></span><br><span class=\"line\">fs.open(path, <span class=\"string\">&#x27;r&#x27;</span>, <span class=\"function\">(<span class=\"params\">err, fd</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(async_hooks.executionAsyncId());  <span class=\"comment\">// 6 - open()</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>executionAsyncId()  ID  triggerAsyncId() </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> server = net.createServer(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">onConnection</span>(<span class=\"params\">conn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// Returns the ID of the server, not of the new connection, because the</span></span><br><span class=\"line\">  <span class=\"comment\">// onConnection callback runs in the execution scope of the server&#x27;s</span></span><br><span class=\"line\">  <span class=\"comment\">// MakeCallback().</span></span><br><span class=\"line\">  async_hooks.executionAsyncId();</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;).listen(port, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">onListening</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// Returns the ID of a TickObject (i.e. process.nextTick()) because all</span></span><br><span class=\"line\">  <span class=\"comment\">// callbacks passed to .listen() are wrapped in a nextTick().</span></span><br><span class=\"line\">  async_hooks.executionAsyncId();</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><em>async_hooks.triggerAsyncId()</em><br>Id<br>promise  triggerAsyncId</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> server = net.createServer(<span class=\"function\">(<span class=\"params\">conn</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// The resource that caused (or triggered) this callback to be called</span></span><br><span class=\"line\">  <span class=\"comment\">// was that of the new connection. Thus the return value of triggerAsyncId()</span></span><br><span class=\"line\">  <span class=\"comment\">// is the asyncId of &quot;conn&quot;.</span></span><br><span class=\"line\">  async_hooks.triggerAsyncId();</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;).listen(port, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// Even though all callbacks passed to .listen() are wrapped in a nextTick()</span></span><br><span class=\"line\">  <span class=\"comment\">// the callback itself exists because the call to the server&#x27;s .listen()</span></span><br><span class=\"line\">  <span class=\"comment\">// was made. So the return value would be the ID of the server.</span></span><br><span class=\"line\">  async_hooks.triggerAsyncId();</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><em>async_hooks.asyncWrapProviders</em><br>idmapasync_hooks.init<br> process.binding(async_wrap).Providers</p>\n<p><em>Promise </em><br> V8  promise  API  promise  asyncId  promise  async/await  promise  id</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; executionAsyncId, triggerAsyncId &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;node:async_hooks&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">Promise</span>.resolve(<span class=\"number\">1729</span>).then(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`eid <span class=\"subst\">$&#123;executionAsyncId()&#125;</span> tid <span class=\"subst\">$&#123;triggerAsyncId()&#125;</span>`</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">// produces:</span></span><br><span class=\"line\"><span class=\"comment\">// eid 1 tid 0</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createHook, executionAsyncId, triggerAsyncId &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;node:async_hooks&#x27;</span>;</span><br><span class=\"line\">createHook(&#123; <span class=\"function\"><span class=\"title\">init</span>(<span class=\"params\"></span>)</span> &#123;&#125; &#125;).enable(); <span class=\"comment\">// forces PromiseHooks to be enabled.</span></span><br><span class=\"line\"><span class=\"built_in\">Promise</span>.resolve(<span class=\"number\">1729</span>).then(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`eid <span class=\"subst\">$&#123;executionAsyncId()&#125;</span> tid <span class=\"subst\">$&#123;triggerAsyncId()&#125;</span>`</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">// produces:</span></span><br><span class=\"line\"><span class=\"comment\">// eid 7 tid 6</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"AsyncResource\"><a href=\"#AsyncResource\" class=\"headerlink\" title=\"AsyncResource\"></a>AsyncResource</h6><p>AsyncResource</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; AsyncResource, executionAsyncId &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;node:async_hooks&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// AsyncResource() is meant to be extended. Instantiating a</span></span><br><span class=\"line\"><span class=\"comment\">// new AsyncResource() also triggers init. If triggerAsyncId is omitted then</span></span><br><span class=\"line\"><span class=\"comment\">// async_hook.executionAsyncId() is used.</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> asyncResource = <span class=\"keyword\">new</span> AsyncResource(</span><br><span class=\"line\">  type, &#123; <span class=\"attr\">triggerAsyncId</span>: executionAsyncId(), <span class=\"attr\">requireManualDestroy</span>: <span class=\"literal\">false</span> &#125;</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Run a function in the execution context of the resource. This will</span></span><br><span class=\"line\"><span class=\"comment\">// * establish the context of the resource</span></span><br><span class=\"line\"><span class=\"comment\">// * trigger the AsyncHooks before callbacks</span></span><br><span class=\"line\"><span class=\"comment\">// * call the provided function `fn` with the supplied arguments</span></span><br><span class=\"line\"><span class=\"comment\">// * trigger the AsyncHooks after callbacks</span></span><br><span class=\"line\"><span class=\"comment\">// * restore the original execution context</span></span><br><span class=\"line\">asyncResource.runInAsyncScope(fn, thisArg, ...args);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Call AsyncHooks destroy callbacks.</span></span><br><span class=\"line\">asyncResource.emitDestroy();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Return the unique ID assigned to the AsyncResource instance.</span></span><br><span class=\"line\">asyncResource.asyncId();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Return the trigger ID for the AsyncResource instance.</span></span><br><span class=\"line\">asyncResource.triggerAsyncId();</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"AsyncLocalStorage-\"><a href=\"#AsyncLocalStorage-\" class=\"headerlink\" title=\"AsyncLocalStorage \"></a>AsyncLocalStorage </h6><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><a href=\"https://www.jianshu.com/p/4a568dac41ed\">https://www.jianshu.com/p/4a568dac41ed</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h4><h6 id=\"assert-\"><a href=\"#assert-\" class=\"headerlink\" title=\"assert-\"></a>assert-</h6><p><em></em></p>\n<p><em>assert.deepEqual(a, b[, message])</em><br> == <br></p>\n<p><em>assert.deepStrictEqual(a, b[, message])</em><br>assert.deepEqual === </p>\n<p><em>assert.doesNotThrow(block[, error][, message])</em><br>blockerrorAssertionError</p>\n<p><em>assert.equal(actual, expected[, message])</em><br> == actualexpected</p>\n<p><em>assert.fail(message)</em><br><em>assert.fail(actual, expected[, message[, operator[, stackStartFunction]]])</em><br>AssertionError message  actual  + operator  + expected   actual  expected  operator  !=  message   stackStartFunction </p>\n<p><em>assert.ifError(value)</em><br>valuevaluevalue</p>\n<p><em>assert.notDeepEqual(actual, expected[, message])</em><br>assert.deepEqual()</p>\n<p><em>assert.notDeepStrictEqual(actual, expected[, message])</em><br>assert.deepStrictEqual()</p>\n<p><em>assert.notEqual(actual, expected[, message])</em><br> != </p>\n<p><em>assert.notStrictEqual(actual, expected[, message])</em><br>!==</p>\n<p><em>assert.ok(value[, message])</em><br> value   assert.equal(!!value, true, message)</p>\n<h6 id=\"-Async-Hooks\"><a href=\"#-Async-Hooks\" class=\"headerlink\" title=\"(Async Hooks)\"></a>(Async Hooks)</h6><p>Error handling()<br>abort on uncaught<br><strong>If any AsyncHook callbacks throw, the application will print the stack trace and exit. The exit path does follow that of an uncaught exception, but all uncaughtException listeners are removed, thus forcing the process to exit. The exit callbacks will still be called unless the application is run with abort-on-uncaught-exception, in which case a stack trace will be printed and the application exits, leaving a core file.</strong></p>\n<p>Printing in AsyncHook callbacks()<br> console.log<br> fs.writeSync(1, msg).</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> fs = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;fs&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> util = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;util&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">debug</span>(<span class=\"params\">...args</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// use a function like this one when debugging inside an AsyncHooks callback</span></span><br><span class=\"line\">  fs.writeSync(<span class=\"number\">1</span>, <span class=\"string\">`<span class=\"subst\">$&#123;util.format(...args)&#125;</span>\\n`</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><strong>Because printing to the console is an asynchronous operation, console.log() will cause AsyncHook callbacks to be called. Using console.log() or similar asynchronous operations inside an AsyncHook callback function will cause an infinite recursion. An easy solution to this when debugging is to use a synchronous logging operation such as fs.writeFileSync(file, msg, flag). This will print to the file and will not invoke AsyncHook recursively because it is synchronous.</strong></p>\n<p><em>asyncHook.enable()</em><br></p>\n<p><em>asyncHook.disable()</em><br></p>\n<p><em>init(asyncId, type, triggerAsyncId, resource)</em><br>asyncId: number<br>type: string<br>triggerAsyncId: numberID<br>resource: object<br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">&#x27;net&#x27;</span>).createServer().listen(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; <span class=\"built_in\">this</span>.close(); &#125;);</span><br><span class=\"line\"><span class=\"comment\">// OR</span></span><br><span class=\"line\"><span class=\"built_in\">clearTimeout</span>(<span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;&#125;, <span class=\"number\">10</span>));</span><br></pre></td></tr></table></figure>\n<p>ID</p>\n<p><em>type</em></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FSEVENTWRAP, FSREQWRAP, GETADDRINFOREQWRAP, GETNAMEINFOREQWRAP, HTTPPARSER,</span><br><span class=\"line\">JSSTREAM, PIPECONNECTWRAP, PIPEWRAP, PROCESSWRAP, QUERYWRAP, SHUTDOWNWRAP,</span><br><span class=\"line\">SIGNALWRAP, STATWATCHER, TCPCONNECTWRAP, TCPSERVER, TCPWRAP, TIMERWRAP, TTYWRAP,</span><br><span class=\"line\">UDPSENDWRAP, UDPWRAP, WRITEWRAP, ZLIB, SSLCONNECTION, PBKDF2REQUEST,</span><br><span class=\"line\">RANDOMBYTESREQUEST, TLSWRAP, Timeout, Immediate, TickObject, PROMISE</span><br></pre></td></tr></table></figure>\n<p>typetype package name</p>\n<p><em>triggerAsyncId</em><br>inittriggerAsyncId</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">async_hooks.createHook(&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">init</span>(<span class=\"params\">asyncId, type, triggerAsyncId</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> eid = async_hooks.executionAsyncId();</span><br><span class=\"line\">    fs.writeSync(</span><br><span class=\"line\">      <span class=\"number\">1</span>, <span class=\"string\">`<span class=\"subst\">$&#123;type&#125;</span>(<span class=\"subst\">$&#123;asyncId&#125;</span>): trigger: <span class=\"subst\">$&#123;triggerAsyncId&#125;</span> execution: <span class=\"subst\">$&#123;eid&#125;</span>\\n`</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;).enable();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">&#x27;net&#x27;</span>).createServer(<span class=\"function\">(<span class=\"params\">conn</span>) =&gt;</span> &#123;&#125;).listen(<span class=\"number\">8080</span>);</span><br></pre></td></tr></table></figure>\n\n<p><em>resource</em><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> indent = <span class=\"number\">0</span>;</span><br><span class=\"line\">async_hooks.createHook(&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">init</span>(<span class=\"params\">asyncId, type, triggerAsyncId</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> eid = async_hooks.executionAsyncId();</span><br><span class=\"line\">    <span class=\"keyword\">const</span> indentStr = <span class=\"string\">&#x27; &#x27;</span>.repeat(indent);</span><br><span class=\"line\">    fs.writeSync(</span><br><span class=\"line\">      <span class=\"number\">1</span>,</span><br><span class=\"line\">      <span class=\"string\">`<span class=\"subst\">$&#123;indentStr&#125;</span><span class=\"subst\">$&#123;type&#125;</span>(<span class=\"subst\">$&#123;asyncId&#125;</span>):`</span> +</span><br><span class=\"line\">      <span class=\"string\">` trigger: <span class=\"subst\">$&#123;triggerAsyncId&#125;</span> execution: <span class=\"subst\">$&#123;eid&#125;</span>\\n`</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">before</span>(<span class=\"params\">asyncId</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> indentStr = <span class=\"string\">&#x27; &#x27;</span>.repeat(indent);</span><br><span class=\"line\">    fs.writeSync(<span class=\"number\">1</span>, <span class=\"string\">`<span class=\"subst\">$&#123;indentStr&#125;</span>before:  <span class=\"subst\">$&#123;asyncId&#125;</span>\\n`</span>);</span><br><span class=\"line\">    indent += <span class=\"number\">2</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">after</span>(<span class=\"params\">asyncId</span>)</span> &#123;</span><br><span class=\"line\">    indent -= <span class=\"number\">2</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> indentStr = <span class=\"string\">&#x27; &#x27;</span>.repeat(indent);</span><br><span class=\"line\">    fs.writeSync(<span class=\"number\">1</span>, <span class=\"string\">`<span class=\"subst\">$&#123;indentStr&#125;</span>after:   <span class=\"subst\">$&#123;asyncId&#125;</span>\\n`</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">destroy</span>(<span class=\"params\">asyncId</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> indentStr = <span class=\"string\">&#x27; &#x27;</span>.repeat(indent);</span><br><span class=\"line\">    fs.writeSync(<span class=\"number\">1</span>, <span class=\"string\">`<span class=\"subst\">$&#123;indentStr&#125;</span>destroy: <span class=\"subst\">$&#123;asyncId&#125;</span>\\n`</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;).enable();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">&#x27;net&#x27;</span>).createServer(<span class=\"function\">() =&gt;</span> &#123;&#125;).listen(<span class=\"number\">8080</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// Let&#x27;s wait 10ms before logging the server started.</span></span><br><span class=\"line\">  <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;&gt;&gt;&gt;&#x27;</span>, async_hooks.executionAsyncId());</span><br><span class=\"line\">  &#125;, <span class=\"number\">10</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">TCPSERVERWRAP(<span class=\"number\">2</span>): trigger: <span class=\"number\">1</span> execution: <span class=\"number\">1</span></span><br><span class=\"line\">TickObject(<span class=\"number\">3</span>): trigger: <span class=\"number\">2</span> execution: <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attr\">before</span>:  <span class=\"number\">3</span></span><br><span class=\"line\">  Timeout(<span class=\"number\">4</span>): trigger: <span class=\"number\">3</span> execution: <span class=\"number\">3</span></span><br><span class=\"line\">  TIMERWRAP(<span class=\"number\">5</span>): trigger: <span class=\"number\">3</span> execution: <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"attr\">after</span>:   <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"attr\">destroy</span>: <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"attr\">before</span>:  <span class=\"number\">5</span></span><br><span class=\"line\">  <span class=\"attr\">before</span>:  <span class=\"number\">4</span></span><br><span class=\"line\">    TTYWRAP(<span class=\"number\">6</span>): trigger: <span class=\"number\">4</span> execution: <span class=\"number\">4</span></span><br><span class=\"line\">    SIGNALWRAP(<span class=\"number\">7</span>): trigger: <span class=\"number\">4</span> execution: <span class=\"number\">4</span></span><br><span class=\"line\">    TTYWRAP(<span class=\"number\">8</span>): trigger: <span class=\"number\">4</span> execution: <span class=\"number\">4</span></span><br><span class=\"line\">&gt;&gt;&gt; <span class=\"number\">4</span></span><br><span class=\"line\">    TickObject(<span class=\"number\">9</span>): trigger: <span class=\"number\">4</span> execution: <span class=\"number\">4</span></span><br><span class=\"line\">  <span class=\"attr\">after</span>:   <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"attr\">after</span>:   <span class=\"number\">5</span></span><br><span class=\"line\"><span class=\"attr\">before</span>:  <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"attr\">after</span>:   <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"attr\">destroy</span>: <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"attr\">destroy</span>: <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"attr\">destroy</span>: <span class=\"number\">5</span></span><br></pre></td></tr></table></figure>\n\n<p><em>before(asyncId)</em><br> TCP  before  asyncId </p>\n<p><em>after(asyncId)</em><br> before <br>callbackafteruncaughtException </p>\n<p><em>destroy(asyncId)</em><br>asyncId   API emitDestroy() <br>resourceinitdestroy???</p>\n<p><em>promiseResolve(asyncId)</em><br> Promise  resolve  promise <br>promiseresolverejectpromisePromise</p>\n<p><em>async_hooks.executionAsyncResource()</em><br>executionAsyncResource()  API  Node.js  </p>\n<p><em>async_hooks.executionAsyncId()</em><br>asyncId</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> async_hooks = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;async_hooks&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(async_hooks.executionAsyncId());  <span class=\"comment\">// 1 - bootstrap</span></span><br><span class=\"line\">fs.open(path, <span class=\"string\">&#x27;r&#x27;</span>, <span class=\"function\">(<span class=\"params\">err, fd</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(async_hooks.executionAsyncId());  <span class=\"comment\">// 6 - open()</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>executionAsyncId()  ID  triggerAsyncId() </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> server = net.createServer(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">onConnection</span>(<span class=\"params\">conn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// Returns the ID of the server, not of the new connection, because the</span></span><br><span class=\"line\">  <span class=\"comment\">// onConnection callback runs in the execution scope of the server&#x27;s</span></span><br><span class=\"line\">  <span class=\"comment\">// MakeCallback().</span></span><br><span class=\"line\">  async_hooks.executionAsyncId();</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;).listen(port, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">onListening</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// Returns the ID of a TickObject (i.e. process.nextTick()) because all</span></span><br><span class=\"line\">  <span class=\"comment\">// callbacks passed to .listen() are wrapped in a nextTick().</span></span><br><span class=\"line\">  async_hooks.executionAsyncId();</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><em>async_hooks.triggerAsyncId()</em><br>Id<br>promise  triggerAsyncId</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> server = net.createServer(<span class=\"function\">(<span class=\"params\">conn</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// The resource that caused (or triggered) this callback to be called</span></span><br><span class=\"line\">  <span class=\"comment\">// was that of the new connection. Thus the return value of triggerAsyncId()</span></span><br><span class=\"line\">  <span class=\"comment\">// is the asyncId of &quot;conn&quot;.</span></span><br><span class=\"line\">  async_hooks.triggerAsyncId();</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;).listen(port, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// Even though all callbacks passed to .listen() are wrapped in a nextTick()</span></span><br><span class=\"line\">  <span class=\"comment\">// the callback itself exists because the call to the server&#x27;s .listen()</span></span><br><span class=\"line\">  <span class=\"comment\">// was made. So the return value would be the ID of the server.</span></span><br><span class=\"line\">  async_hooks.triggerAsyncId();</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><em>async_hooks.asyncWrapProviders</em><br>idmapasync_hooks.init<br> process.binding(async_wrap).Providers</p>\n<p><em>Promise </em><br> V8  promise  API  promise  asyncId  promise  async/await  promise  id</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; executionAsyncId, triggerAsyncId &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;node:async_hooks&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">Promise</span>.resolve(<span class=\"number\">1729</span>).then(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`eid <span class=\"subst\">$&#123;executionAsyncId()&#125;</span> tid <span class=\"subst\">$&#123;triggerAsyncId()&#125;</span>`</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">// produces:</span></span><br><span class=\"line\"><span class=\"comment\">// eid 1 tid 0</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createHook, executionAsyncId, triggerAsyncId &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;node:async_hooks&#x27;</span>;</span><br><span class=\"line\">createHook(&#123; <span class=\"function\"><span class=\"title\">init</span>(<span class=\"params\"></span>)</span> &#123;&#125; &#125;).enable(); <span class=\"comment\">// forces PromiseHooks to be enabled.</span></span><br><span class=\"line\"><span class=\"built_in\">Promise</span>.resolve(<span class=\"number\">1729</span>).then(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`eid <span class=\"subst\">$&#123;executionAsyncId()&#125;</span> tid <span class=\"subst\">$&#123;triggerAsyncId()&#125;</span>`</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">// produces:</span></span><br><span class=\"line\"><span class=\"comment\">// eid 7 tid 6</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"AsyncResource\"><a href=\"#AsyncResource\" class=\"headerlink\" title=\"AsyncResource\"></a>AsyncResource</h6><p>AsyncResource</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; AsyncResource, executionAsyncId &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;node:async_hooks&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// AsyncResource() is meant to be extended. Instantiating a</span></span><br><span class=\"line\"><span class=\"comment\">// new AsyncResource() also triggers init. If triggerAsyncId is omitted then</span></span><br><span class=\"line\"><span class=\"comment\">// async_hook.executionAsyncId() is used.</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> asyncResource = <span class=\"keyword\">new</span> AsyncResource(</span><br><span class=\"line\">  type, &#123; <span class=\"attr\">triggerAsyncId</span>: executionAsyncId(), <span class=\"attr\">requireManualDestroy</span>: <span class=\"literal\">false</span> &#125;</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Run a function in the execution context of the resource. This will</span></span><br><span class=\"line\"><span class=\"comment\">// * establish the context of the resource</span></span><br><span class=\"line\"><span class=\"comment\">// * trigger the AsyncHooks before callbacks</span></span><br><span class=\"line\"><span class=\"comment\">// * call the provided function `fn` with the supplied arguments</span></span><br><span class=\"line\"><span class=\"comment\">// * trigger the AsyncHooks after callbacks</span></span><br><span class=\"line\"><span class=\"comment\">// * restore the original execution context</span></span><br><span class=\"line\">asyncResource.runInAsyncScope(fn, thisArg, ...args);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Call AsyncHooks destroy callbacks.</span></span><br><span class=\"line\">asyncResource.emitDestroy();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Return the unique ID assigned to the AsyncResource instance.</span></span><br><span class=\"line\">asyncResource.asyncId();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Return the trigger ID for the AsyncResource instance.</span></span><br><span class=\"line\">asyncResource.triggerAsyncId();</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"AsyncLocalStorage-\"><a href=\"#AsyncLocalStorage-\" class=\"headerlink\" title=\"AsyncLocalStorage \"></a>AsyncLocalStorage </h6><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><a href=\"https://www.jianshu.com/p/4a568dac41ed\">https://www.jianshu.com/p/4a568dac41ed</a></p>\n"}],"Post":[{"title":"Hello World","_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n\n### deploy\n(1)hexoError: Spawn failed\n.deploy_git -> _config.ymldeployrepositorySSH -> hexo cleanhexo generatehexo deploy\n","source":"_posts/1-hello-world.md","raw":"---\ntitle: Hello World\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n\n### deploy\n(1)hexoError: Spawn failed\n.deploy_git -> _config.ymldeployrepositorySSH -> hexo cleanhexo generatehexo deploy\n","slug":"1-hello-world","published":1,"date":"2022-11-23T00:33:38.994Z","updated":"2022-11-23T00:33:38.994Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62bai50001nwvachba1grw","content":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n<h3 id=\"deploy\"><a href=\"#deploy\" class=\"headerlink\" title=\"deploy\"></a>deploy</h3><p>(1)hexoError: Spawn failed<br>.deploy_git -&gt; _config.ymldeployrepositorySSH -&gt; hexo cleanhexo generatehexo deploy</p>\n","site":{"data":{}},"excerpt":"","more":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n<h3 id=\"deploy\"><a href=\"#deploy\" class=\"headerlink\" title=\"deploy\"></a>deploy</h3><p>(1)hexoError: Spawn failed<br>.deploy_git -&gt; _config.ymldeployrepositorySSH -&gt; hexo cleanhexo generatehexo deploy</p>\n"},{"title":"github","date":"2022-06-30T02:45:15.000Z","_content":"\n#### github?\n\ngithubpushGitHub\nusernamepassword\n\n(1)git pushGoogle\n```javascript\ngit push\n```\n---- \n```javascript\n$ git push\nfatal: unable to access 'https://github.com/sunjinkang/test_vue3_sql.git/': Failed to connect to github.com port 443: Timed out\n\n// --------\n$ git push\nfatal: unable to access 'https://github.com/sunjinkang/test_vue3_sql.git/': OpenSSL SSL_read: Connection was aborted, errno 10053\n```\n(2)GitHub\n![github_login]()\n **usernamegithubpasswordGitHub**\n---- GitHub\n```javascript\nLogon failed, use ctrl+c to cancel basic credential prompt.\nremote: Support for password authentication was removed on August 13, 2021. Please use a personal access token instead.\n```\n(3)\n![login_insert]\nusernamepassword**usernameGitHub<font color=\"Red\">passwordGitHub(Personal access tokens)(token[github](/2022/06/30/github-Personal-access-tokens-/))</font>**\n---- password\n```javascript\n$ git push\nLogon failed, use ctrl+c to cancel basic credential prompt.\nremote: Support for password authentication was removed on August 13, 2021. Please use a personal access token instead.\nremote: Please see https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/ for more information.\nfatal: Authentication failed for 'https://github.com/xxxxxxx.git/'\n```\n\nusernamepasswordpush","source":"_posts/11-github-push-insert-password.md","raw":"---\ntitle: github\ndate: 2022-06-30 10:45:15\ntags:\n---\n\n#### github?\n\ngithubpushGitHub\nusernamepassword\n\n(1)git pushGoogle\n```javascript\ngit push\n```\n---- \n```javascript\n$ git push\nfatal: unable to access 'https://github.com/sunjinkang/test_vue3_sql.git/': Failed to connect to github.com port 443: Timed out\n\n// --------\n$ git push\nfatal: unable to access 'https://github.com/sunjinkang/test_vue3_sql.git/': OpenSSL SSL_read: Connection was aborted, errno 10053\n```\n(2)GitHub\n![github_login]()\n **usernamegithubpasswordGitHub**\n---- GitHub\n```javascript\nLogon failed, use ctrl+c to cancel basic credential prompt.\nremote: Support for password authentication was removed on August 13, 2021. Please use a personal access token instead.\n```\n(3)\n![login_insert]\nusernamepassword**usernameGitHub<font color=\"Red\">passwordGitHub(Personal access tokens)(token[github](/2022/06/30/github-Personal-access-tokens-/))</font>**\n---- password\n```javascript\n$ git push\nLogon failed, use ctrl+c to cancel basic credential prompt.\nremote: Support for password authentication was removed on August 13, 2021. Please use a personal access token instead.\nremote: Please see https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/ for more information.\nfatal: Authentication failed for 'https://github.com/xxxxxxx.git/'\n```\n\nusernamepasswordpush","slug":"11-github-push-insert-password","published":1,"updated":"2022-11-23T00:33:38.996Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62bai90003nwva1azh4qlu","content":"<h4 id=\"github\"><a href=\"#github\" class=\"headerlink\" title=\"github?\"></a>github?</h4><p>githubpushGitHub<br>usernamepassword</p>\n<p>(1)git pushGoogle</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git push</span><br></pre></td></tr></table></figure>\n<p>- </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ git push</span><br><span class=\"line\"><span class=\"attr\">fatal</span>: unable to access <span class=\"string\">&#x27;https://github.com/sunjinkang/test_vue3_sql.git/&#x27;</span>: Failed to connect to github.com port <span class=\"number\">443</span>: Timed out</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// --------</span></span><br><span class=\"line\">$ git push</span><br><span class=\"line\"><span class=\"attr\">fatal</span>: unable to access <span class=\"string\">&#x27;https://github.com/sunjinkang/test_vue3_sql.git/&#x27;</span>: OpenSSL SSL_read: Connection was aborted, errno <span class=\"number\">10053</span></span><br></pre></td></tr></table></figure>\n<p>(2)GitHub<br><img src alt=\"github_login\"><br> <strong>usernamegithubpasswordGitHub</strong><br>- GitHub</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Logon failed, use ctrl+c to cancel basic credential prompt.</span><br><span class=\"line\"><span class=\"attr\">remote</span>: Support <span class=\"keyword\">for</span> password authentication was removed on August <span class=\"number\">13</span>, <span class=\"number\">2021.</span> Please use a personal access token instead.</span><br></pre></td></tr></table></figure>\n<p>(3)<br>![login_insert]<br>usernamepassword<strong>usernameGitHub<font color=\"Red\">passwordGitHub(Personal access tokens)(token<a href=\"/2022/06/30/github%E7%94%9F%E6%88%90%E4%BB%A4%E7%89%8C-Personal-access-tokens-%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4/\">github</a>)</font></strong><br>- password</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ git push</span><br><span class=\"line\">Logon failed, use ctrl+c to cancel basic credential prompt.</span><br><span class=\"line\"><span class=\"attr\">remote</span>: Support <span class=\"keyword\">for</span> password authentication was removed on August <span class=\"number\">13</span>, <span class=\"number\">2021.</span> Please use a personal access token instead.</span><br><span class=\"line\"><span class=\"attr\">remote</span>: Please see https:<span class=\"comment\">//github.blog/2020-12-15-token-authentication-requirements-for-git-operations/ for more information.</span></span><br><span class=\"line\">fatal: Authentication failed <span class=\"keyword\">for</span> <span class=\"string\">&#x27;https://github.com/xxxxxxx.git/&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p>usernamepasswordpush</p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"github\"><a href=\"#github\" class=\"headerlink\" title=\"github?\"></a>github?</h4><p>githubpushGitHub<br>usernamepassword</p>\n<p>(1)git pushGoogle</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git push</span><br></pre></td></tr></table></figure>\n<p>- </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ git push</span><br><span class=\"line\"><span class=\"attr\">fatal</span>: unable to access <span class=\"string\">&#x27;https://github.com/sunjinkang/test_vue3_sql.git/&#x27;</span>: Failed to connect to github.com port <span class=\"number\">443</span>: Timed out</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// --------</span></span><br><span class=\"line\">$ git push</span><br><span class=\"line\"><span class=\"attr\">fatal</span>: unable to access <span class=\"string\">&#x27;https://github.com/sunjinkang/test_vue3_sql.git/&#x27;</span>: OpenSSL SSL_read: Connection was aborted, errno <span class=\"number\">10053</span></span><br></pre></td></tr></table></figure>\n<p>(2)GitHub<br><img src alt=\"github_login\"><br> <strong>usernamegithubpasswordGitHub</strong><br>- GitHub</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Logon failed, use ctrl+c to cancel basic credential prompt.</span><br><span class=\"line\"><span class=\"attr\">remote</span>: Support <span class=\"keyword\">for</span> password authentication was removed on August <span class=\"number\">13</span>, <span class=\"number\">2021.</span> Please use a personal access token instead.</span><br></pre></td></tr></table></figure>\n<p>(3)<br>![login_insert]<br>usernamepassword<strong>usernameGitHub<font color=\"Red\">passwordGitHub(Personal access tokens)(token<a href=\"/2022/06/30/github%E7%94%9F%E6%88%90%E4%BB%A4%E7%89%8C-Personal-access-tokens-%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4/\">github</a>)</font></strong><br>- password</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ git push</span><br><span class=\"line\">Logon failed, use ctrl+c to cancel basic credential prompt.</span><br><span class=\"line\"><span class=\"attr\">remote</span>: Support <span class=\"keyword\">for</span> password authentication was removed on August <span class=\"number\">13</span>, <span class=\"number\">2021.</span> Please use a personal access token instead.</span><br><span class=\"line\"><span class=\"attr\">remote</span>: Please see https:<span class=\"comment\">//github.blog/2020-12-15-token-authentication-requirements-for-git-operations/ for more information.</span></span><br><span class=\"line\">fatal: Authentication failed <span class=\"keyword\">for</span> <span class=\"string\">&#x27;https://github.com/xxxxxxx.git/&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p>usernamepasswordpush</p>\n"},{"title":"meta","date":"2022-06-28T14:16:30.000Z","_content":"\n#### meta\n\n###### <meta>\nmetaHTMLhead[MDN](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/meta)\n>HTML <meta>  HTML meta-related(\\<base\\>,\\<link\\>,\\<script\\>,\\<style\\>  \\<title\\>\n\n###### meta\n(1)namemeta\n-- namecontentnamecontent\n---- name=\"author\"\n```\n<mate name=\"author\" content=\"xxx@mail.com\">\n```\n\n---- name=\"description\"\n```javascript\n//meta\n<meta name=\"description\" content=\" - / ()\">\n```\n\n---- name=\"keywords\"\n```javascript\n//meta\n<meta name=\"keyword\" content=\",,,C2C,,,,,,,,,,,,,,,,,,,,,,,,\">\n```\n\n---- name=\"viewport\"viewport\n```javascript\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n```\nwidthviewportdevice-width\ninitial-scaleviewport\nmaximum-scale\nminimum-scale\nuser-scalable\nminimal-ui\n\n---- name=\"robots\"\ncontent\nall\nnone\nindex\nfollow\n\n---- name=\"renderer\"360360\n```javascript\n<meta name=\"renderer\" content=\"webkit\"> //webkit\n<meta name=\"renderer\" content=\"ie-comp\"> //IE\n<meta name=\"renderer\" content=\"ie-stand\"> //IE\n```\ncontent\n\n\n---- name=\"spm-id\"\n```javascript\n// \n<meta name=\"spm-id\" content=\"a21bo\">\n```\n---- name=\"aplus-xplug\"\n```javascript\n// \n<meta name=\"aplus-xplug\" content=\"NONE\">\n```\n\n\n(2)http-equivmetahttp\n-- http-equivcontenthttp-equivcontent\n-- http-equivhttp\n---- http-equiv=\"X-UA-Compatible\"\n```javascript\n// \n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=10,chrome=1\">//IE\n```\nIE=10\nchrome=1IEGoogle Chrome Framechrome\nchromechrome\nIE8-IE11\nhttpmetametaWebHTTP\n\n---- http-equiv=\"content-type\"\n```javascript\n<meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8\">\n```\n\n---- http-equiv=\"x-dns-prefetch-control\"\nHTMLaDNShttpsa\n```javascript\n<meta http-equiv=\"x-dns-prefetch-control\" content=\"on\">\n```\n\n---- cache-controlPragmaExpireshttp headers  \n\n(3)charsetmeta\n(4)itempropmeta","source":"_posts/10-about-meta.md","raw":"---\ntitle: meta\ndate: 2022-06-28 22:16:30\ntags:\n---\n\n#### meta\n\n###### <meta>\nmetaHTMLhead[MDN](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/meta)\n>HTML <meta>  HTML meta-related(\\<base\\>,\\<link\\>,\\<script\\>,\\<style\\>  \\<title\\>\n\n###### meta\n(1)namemeta\n-- namecontentnamecontent\n---- name=\"author\"\n```\n<mate name=\"author\" content=\"xxx@mail.com\">\n```\n\n---- name=\"description\"\n```javascript\n//meta\n<meta name=\"description\" content=\" - / ()\">\n```\n\n---- name=\"keywords\"\n```javascript\n//meta\n<meta name=\"keyword\" content=\",,,C2C,,,,,,,,,,,,,,,,,,,,,,,,\">\n```\n\n---- name=\"viewport\"viewport\n```javascript\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n```\nwidthviewportdevice-width\ninitial-scaleviewport\nmaximum-scale\nminimum-scale\nuser-scalable\nminimal-ui\n\n---- name=\"robots\"\ncontent\nall\nnone\nindex\nfollow\n\n---- name=\"renderer\"360360\n```javascript\n<meta name=\"renderer\" content=\"webkit\"> //webkit\n<meta name=\"renderer\" content=\"ie-comp\"> //IE\n<meta name=\"renderer\" content=\"ie-stand\"> //IE\n```\ncontent\n\n\n---- name=\"spm-id\"\n```javascript\n// \n<meta name=\"spm-id\" content=\"a21bo\">\n```\n---- name=\"aplus-xplug\"\n```javascript\n// \n<meta name=\"aplus-xplug\" content=\"NONE\">\n```\n\n\n(2)http-equivmetahttp\n-- http-equivcontenthttp-equivcontent\n-- http-equivhttp\n---- http-equiv=\"X-UA-Compatible\"\n```javascript\n// \n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=10,chrome=1\">//IE\n```\nIE=10\nchrome=1IEGoogle Chrome Framechrome\nchromechrome\nIE8-IE11\nhttpmetametaWebHTTP\n\n---- http-equiv=\"content-type\"\n```javascript\n<meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8\">\n```\n\n---- http-equiv=\"x-dns-prefetch-control\"\nHTMLaDNShttpsa\n```javascript\n<meta http-equiv=\"x-dns-prefetch-control\" content=\"on\">\n```\n\n---- cache-controlPragmaExpireshttp headers  \n\n(3)charsetmeta\n(4)itempropmeta","slug":"10-about-meta","published":1,"updated":"2022-11-23T00:33:38.995Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baic0005nwva9rwe9rrp","content":"<h4 id=\"meta\"><a href=\"#meta\" class=\"headerlink\" title=\"meta\"></a>meta</h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><meta></h6><p>metaHTMLhead<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/meta\">MDN</a></p>\n<blockquote>\n<p>HTML <meta>  HTML meta-related(&lt;base&gt;,&lt;link&gt;,&lt;script&gt;,&lt;style&gt;  &lt;title&gt;</p>\n</blockquote>\n<h6 id=\"meta\"><a href=\"#meta\" class=\"headerlink\" title=\"meta\"></a>meta</h6><p>(1)namemeta<br> namecontentnamecontent<br>- name=author</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;mate name=&quot;author&quot; content=&quot;xxx@mail.com&quot;&gt;</span><br></pre></td></tr></table></figure>\n\n<p>- name=description</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//meta</span></span><br><span class=\"line\">&lt;meta name=<span class=\"string\">&quot;description&quot;</span> content=<span class=\"string\">&quot; - / ()&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n\n<p>- name=keywords</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//meta</span></span><br><span class=\"line\">&lt;meta name=<span class=\"string\">&quot;keyword&quot;</span> content=<span class=\"string\">&quot;,,,C2C,,,,,,,,,,,,,,,,,,,,,,,,&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n\n<p>- name=viewportviewport</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;meta name=<span class=\"string\">&quot;viewport&quot;</span> content=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n<p>widthviewportdevice-width<br>initial-scaleviewport<br>maximum-scale<br>minimum-scale<br>user-scalable<br>minimal-ui</p>\n<p>- name=robots<br>content<br>all<br>none<br>index<br>follow</p>\n<p>- name=renderer360360</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;meta name=<span class=\"string\">&quot;renderer&quot;</span> content=<span class=\"string\">&quot;webkit&quot;</span>&gt; <span class=\"comment\">//webkit</span></span><br><span class=\"line\">&lt;meta name=&quot;renderer&quot; content=&quot;ie-comp&quot;&gt; //IE</span><br><span class=\"line\">&lt;meta name=&quot;renderer&quot; content=&quot;ie-stand&quot;&gt; //IE</span><br></pre></td></tr></table></figure>\n<p>content<br></p>\n<p>- name=spm-id</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">&lt;meta name=<span class=\"string\">&quot;spm-id&quot;</span> content=<span class=\"string\">&quot;a21bo&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n<p>- name=aplus-xplug</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">&lt;meta name=<span class=\"string\">&quot;aplus-xplug&quot;</span> content=<span class=\"string\">&quot;NONE&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n\n\n<p>(2)http-equivmetahttp<br> http-equivcontenthttp-equivcontent<br> http-equivhttp<br>- http-equiv=X-UA-Compatible</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">&lt;meta http-equiv=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> content=<span class=\"string\">&quot;IE=10,chrome=1&quot;</span>&gt;<span class=\"comment\">//IE</span></span><br></pre></td></tr></table></figure>\n<p>IE=10<br>chrome=1IEGoogle Chrome Framechrome<br>chromechrome<br>IE8-IE11<br>httpmetametaWebHTTP</p>\n<p>- http-equiv=content-type</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;meta http-equiv=<span class=\"string\">&quot;content-type&quot;</span> content=<span class=\"string\">&quot;text/html;charset=utf-8&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n\n<p>- http-equiv=x-dns-prefetch-control<br>HTMLaDNShttpsa</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;meta http-equiv=<span class=\"string\">&quot;x-dns-prefetch-control&quot;</span> content=<span class=\"string\">&quot;on&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n\n<p>- cache-controlPragmaExpireshttp headers  </p>\n<p>(3)charsetmeta<br>(4)itempropmeta</p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"meta\"><a href=\"#meta\" class=\"headerlink\" title=\"meta\"></a>meta</h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><meta></h6><p>metaHTMLhead<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/meta\">MDN</a></p>\n<blockquote>\n<p>HTML <meta>  HTML meta-related(&lt;base&gt;,&lt;link&gt;,&lt;script&gt;,&lt;style&gt;  &lt;title&gt;</p>\n</blockquote>\n<h6 id=\"meta\"><a href=\"#meta\" class=\"headerlink\" title=\"meta\"></a>meta</h6><p>(1)namemeta<br> namecontentnamecontent<br>- name=author</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;mate name=&quot;author&quot; content=&quot;xxx@mail.com&quot;&gt;</span><br></pre></td></tr></table></figure>\n\n<p>- name=description</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//meta</span></span><br><span class=\"line\">&lt;meta name=<span class=\"string\">&quot;description&quot;</span> content=<span class=\"string\">&quot; - / ()&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n\n<p>- name=keywords</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//meta</span></span><br><span class=\"line\">&lt;meta name=<span class=\"string\">&quot;keyword&quot;</span> content=<span class=\"string\">&quot;,,,C2C,,,,,,,,,,,,,,,,,,,,,,,,&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n\n<p>- name=viewportviewport</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;meta name=<span class=\"string\">&quot;viewport&quot;</span> content=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n<p>widthviewportdevice-width<br>initial-scaleviewport<br>maximum-scale<br>minimum-scale<br>user-scalable<br>minimal-ui</p>\n<p>- name=robots<br>content<br>all<br>none<br>index<br>follow</p>\n<p>- name=renderer360360</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;meta name=<span class=\"string\">&quot;renderer&quot;</span> content=<span class=\"string\">&quot;webkit&quot;</span>&gt; <span class=\"comment\">//webkit</span></span><br><span class=\"line\">&lt;meta name=&quot;renderer&quot; content=&quot;ie-comp&quot;&gt; //IE</span><br><span class=\"line\">&lt;meta name=&quot;renderer&quot; content=&quot;ie-stand&quot;&gt; //IE</span><br></pre></td></tr></table></figure>\n<p>content<br></p>\n<p>- name=spm-id</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">&lt;meta name=<span class=\"string\">&quot;spm-id&quot;</span> content=<span class=\"string\">&quot;a21bo&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n<p>- name=aplus-xplug</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">&lt;meta name=<span class=\"string\">&quot;aplus-xplug&quot;</span> content=<span class=\"string\">&quot;NONE&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n\n\n<p>(2)http-equivmetahttp<br> http-equivcontenthttp-equivcontent<br> http-equivhttp<br>- http-equiv=X-UA-Compatible</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">&lt;meta http-equiv=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> content=<span class=\"string\">&quot;IE=10,chrome=1&quot;</span>&gt;<span class=\"comment\">//IE</span></span><br></pre></td></tr></table></figure>\n<p>IE=10<br>chrome=1IEGoogle Chrome Framechrome<br>chromechrome<br>IE8-IE11<br>httpmetametaWebHTTP</p>\n<p>- http-equiv=content-type</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;meta http-equiv=<span class=\"string\">&quot;content-type&quot;</span> content=<span class=\"string\">&quot;text/html;charset=utf-8&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n\n<p>- http-equiv=x-dns-prefetch-control<br>HTMLaDNShttpsa</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;meta http-equiv=<span class=\"string\">&quot;x-dns-prefetch-control&quot;</span> content=<span class=\"string\">&quot;on&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n\n<p>- cache-controlPragmaExpireshttp headers  </p>\n<p>(3)charsetmeta<br>(4)itempropmeta</p>\n"},{"title":"github(Personal_access_tokens)","date":"2022-06-30T03:23:56.000Z","_content":"\n#### github\n(1)[GitHub](https://github.com/)\n(2)setting -> Developer setting\n(3) Personal access tokens  Generate new token \n(4)token\n(5)**<font color=\"Red\">token</font>**","source":"_posts/12-create-github-tokens.md","raw":"---\ntitle: github(Personal_access_tokens)\ndate: 2022-06-30 11:23:56\ntags:\n---\n\n#### github\n(1)[GitHub](https://github.com/)\n(2)setting -> Developer setting\n(3) Personal access tokens  Generate new token \n(4)token\n(5)**<font color=\"Red\">token</font>**","slug":"12-create-github-tokens","published":1,"updated":"2022-11-23T00:33:38.997Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baid0007nwva1tln30ci","content":"<h4 id=\"github\"><a href=\"#github\" class=\"headerlink\" title=\"github\"></a>github</h4><p>(1)<a href=\"https://github.com/\">GitHub</a><br>(2)setting -&gt; Developer setting<br>(3) Personal access tokens  Generate new token <br>(4)token<br>(5)<strong><font color=\"Red\">token</font></strong></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"github\"><a href=\"#github\" class=\"headerlink\" title=\"github\"></a>github</h4><p>(1)<a href=\"https://github.com/\">GitHub</a><br>(2)setting -&gt; Developer setting<br>(3) Personal access tokens  Generate new token <br>(4)token<br>(5)<strong><font color=\"Red\">token</font></strong></p>\n"},{"title":"","date":"2022-07-05T08:17:32.000Z","_content":"\n#### code spell checker\n[](https://streetsidesoftware.com/vscode-spell-checker/docs/configuration/#code-spell-checker)\n\n#### chrome\n[chrome status](https://chromestatus.com/features)\n\n#### == === if()\n[](https://dorey.github.io/JavaScript-Equality-Table/)\n\n#### css\n[](https://developer.mozilla.org/zh-CN/docs/Web/CSS/Cascade)\n\n#### Recoil\n[](https://recoiljs.org/)\n\n#### React\n[](https://reactjs.org/)\n\n#### vue\n[](https://vuejs.org/)\n\n#### VueUse--vuehooks\n[](https://vueuse.org/)\n\n#### HTML\n[](https://html.spec.whatwg.org/)\n\n#### testing-library/react\n[](https://testing-library.com/)\n\n#### nodejs\n[-](https://nodejs.org/dist/latest-v16.x/docs/api/documentation.html)\n[](https://www.nodeapp.cn/assert.html)\n\n#### ahooks\n[](https://ahooks.js.org/)","source":"_posts/13-document-location.md","raw":"---\ntitle: \ndate: 2022-07-05 16:17:32\ntags:\n---\n\n#### code spell checker\n[](https://streetsidesoftware.com/vscode-spell-checker/docs/configuration/#code-spell-checker)\n\n#### chrome\n[chrome status](https://chromestatus.com/features)\n\n#### == === if()\n[](https://dorey.github.io/JavaScript-Equality-Table/)\n\n#### css\n[](https://developer.mozilla.org/zh-CN/docs/Web/CSS/Cascade)\n\n#### Recoil\n[](https://recoiljs.org/)\n\n#### React\n[](https://reactjs.org/)\n\n#### vue\n[](https://vuejs.org/)\n\n#### VueUse--vuehooks\n[](https://vueuse.org/)\n\n#### HTML\n[](https://html.spec.whatwg.org/)\n\n#### testing-library/react\n[](https://testing-library.com/)\n\n#### nodejs\n[-](https://nodejs.org/dist/latest-v16.x/docs/api/documentation.html)\n[](https://www.nodeapp.cn/assert.html)\n\n#### ahooks\n[](https://ahooks.js.org/)","slug":"13-document-location","published":1,"updated":"2022-11-23T00:33:38.998Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baif0009nwva7ujf3gce","content":"<h4 id=\"code-spell-checker\"><a href=\"#code-spell-checker\" class=\"headerlink\" title=\"code spell checker\"></a>code spell checker</h4><p><a href=\"https://streetsidesoftware.com/vscode-spell-checker/docs/configuration/#code-spell-checker\"></a></p>\n<h4 id=\"chrome\"><a href=\"#chrome\" class=\"headerlink\" title=\"chrome\"></a>chrome</h4><p><a href=\"https://chromestatus.com/features\">chrome status</a></p>\n<h4 id=\"--if-\"><a href=\"#--if-\" class=\"headerlink\" title=\"== === if()\"></a>== === if()</h4><p><a href=\"https://dorey.github.io/JavaScript-Equality-Table/\"></a></p>\n<h4 id=\"css\"><a href=\"#css\" class=\"headerlink\" title=\"css\"></a>css</h4><p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/Cascade\"></a></p>\n<h4 id=\"Recoil\"><a href=\"#Recoil\" class=\"headerlink\" title=\"Recoil\"></a>Recoil</h4><p><a href=\"https://recoiljs.org/\"></a></p>\n<h4 id=\"React\"><a href=\"#React\" class=\"headerlink\" title=\"React\"></a>React</h4><p><a href=\"https://reactjs.org/\"></a></p>\n<h4 id=\"vue\"><a href=\"#vue\" class=\"headerlink\" title=\"vue\"></a>vue</h4><p><a href=\"https://vuejs.org/\"></a></p>\n<h4 id=\"VueUsevuehooks\"><a href=\"#VueUsevuehooks\" class=\"headerlink\" title=\"VueUsevuehooks\"></a>VueUsevuehooks</h4><p><a href=\"https://vueuse.org/\"></a></p>\n<h4 id=\"HTML\"><a href=\"#HTML\" class=\"headerlink\" title=\"HTML\"></a>HTML</h4><p><a href=\"https://html.spec.whatwg.org/\"></a></p>\n<h4 id=\"testing-library-react\"><a href=\"#testing-library-react\" class=\"headerlink\" title=\"testing-library/react\"></a>testing-library/react</h4><p><a href=\"https://testing-library.com/\"></a></p>\n<h4 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h4><p><a href=\"https://nodejs.org/dist/latest-v16.x/docs/api/documentation.html\">-</a><br><a href=\"https://www.nodeapp.cn/assert.html\"></a></p>\n<h4 id=\"ahooks\"><a href=\"#ahooks\" class=\"headerlink\" title=\"ahooks\"></a>ahooks</h4><p><a href=\"https://ahooks.js.org/\"></a></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"code-spell-checker\"><a href=\"#code-spell-checker\" class=\"headerlink\" title=\"code spell checker\"></a>code spell checker</h4><p><a href=\"https://streetsidesoftware.com/vscode-spell-checker/docs/configuration/#code-spell-checker\"></a></p>\n<h4 id=\"chrome\"><a href=\"#chrome\" class=\"headerlink\" title=\"chrome\"></a>chrome</h4><p><a href=\"https://chromestatus.com/features\">chrome status</a></p>\n<h4 id=\"--if-\"><a href=\"#--if-\" class=\"headerlink\" title=\"== === if()\"></a>== === if()</h4><p><a href=\"https://dorey.github.io/JavaScript-Equality-Table/\"></a></p>\n<h4 id=\"css\"><a href=\"#css\" class=\"headerlink\" title=\"css\"></a>css</h4><p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/Cascade\"></a></p>\n<h4 id=\"Recoil\"><a href=\"#Recoil\" class=\"headerlink\" title=\"Recoil\"></a>Recoil</h4><p><a href=\"https://recoiljs.org/\"></a></p>\n<h4 id=\"React\"><a href=\"#React\" class=\"headerlink\" title=\"React\"></a>React</h4><p><a href=\"https://reactjs.org/\"></a></p>\n<h4 id=\"vue\"><a href=\"#vue\" class=\"headerlink\" title=\"vue\"></a>vue</h4><p><a href=\"https://vuejs.org/\"></a></p>\n<h4 id=\"VueUsevuehooks\"><a href=\"#VueUsevuehooks\" class=\"headerlink\" title=\"VueUsevuehooks\"></a>VueUsevuehooks</h4><p><a href=\"https://vueuse.org/\"></a></p>\n<h4 id=\"HTML\"><a href=\"#HTML\" class=\"headerlink\" title=\"HTML\"></a>HTML</h4><p><a href=\"https://html.spec.whatwg.org/\"></a></p>\n<h4 id=\"testing-library-react\"><a href=\"#testing-library-react\" class=\"headerlink\" title=\"testing-library/react\"></a>testing-library/react</h4><p><a href=\"https://testing-library.com/\"></a></p>\n<h4 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h4><p><a href=\"https://nodejs.org/dist/latest-v16.x/docs/api/documentation.html\">-</a><br><a href=\"https://www.nodeapp.cn/assert.html\"></a></p>\n<h4 id=\"ahooks\"><a href=\"#ahooks\" class=\"headerlink\" title=\"ahooks\"></a>ahooks</h4><p><a href=\"https://ahooks.js.org/\"></a></p>\n"},{"title":"-","date":"2022-07-12T02:37:56.000Z","_content":"\n#### (Progressive Enhancement)()\n\n\n#### (Graceful Degradation)()\n CSS3  hack \n\n\n\n\n#### \n\n\n\n IEMozilla  (poor, but passable) \n\n\n```javascript\n.transition { /**/\n  -webkit-transition: all .5s;\n     -moz-transition: all .5s;\n       -o-transition: all .5s;\n          transition: all .5s;\n}\n.transition { /**/\n          transition: all .5s;\n       -o-transition: all .5s;\n     -moz-transition: all .5s;\n  -webkit-transition: all .5s;\n}\n```\nCSS3-webkit-* / -moz-* / -o-*CSS3\n\n1CSS3CSS3\n2CSS3CSS3\n3CSS3CSS3\n4CSS3CSS3.\n\n3CSS3CSS3CSS3CSS33CSS3CSS3CSS3CSS3\n","source":"_posts/14-about-fe-theory.md","raw":"---\ntitle: -\ndate: 2022-07-12 10:37:56\ntags:\n---\n\n#### (Progressive Enhancement)()\n\n\n#### (Graceful Degradation)()\n CSS3  hack \n\n\n\n\n#### \n\n\n\n IEMozilla  (poor, but passable) \n\n\n```javascript\n.transition { /**/\n  -webkit-transition: all .5s;\n     -moz-transition: all .5s;\n       -o-transition: all .5s;\n          transition: all .5s;\n}\n.transition { /**/\n          transition: all .5s;\n       -o-transition: all .5s;\n     -moz-transition: all .5s;\n  -webkit-transition: all .5s;\n}\n```\nCSS3-webkit-* / -moz-* / -o-*CSS3\n\n1CSS3CSS3\n2CSS3CSS3\n3CSS3CSS3\n4CSS3CSS3.\n\n3CSS3CSS3CSS3CSS33CSS3CSS3CSS3CSS3\n","slug":"14-about-fe-theory","published":1,"updated":"2022-11-23T00:33:38.999Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baih000bnwva4o3z8oyd","content":"<h4 id=\"-Progressive-Enhancement-\"><a href=\"#-Progressive-Enhancement-\" class=\"headerlink\" title=\"(Progressive Enhancement)()\"></a>(Progressive Enhancement)()</h4><p></p>\n<h4 id=\"-Graceful-Degradation-\"><a href=\"#-Graceful-Degradation-\" class=\"headerlink\" title=\"(Graceful Degradation)()\"></a>(Graceful Degradation)()</h4><p> CSS3  hack </p>\n<p><br></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br></p>\n<p> IEMozilla  (poor, but passable) </p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.transition &#123; <span class=\"comment\">/**/</span></span><br><span class=\"line\">  -webkit-transition: all .5s;</span><br><span class=\"line\">     -moz-transition: all .5s;</span><br><span class=\"line\">       -o-transition: all .5s;</span><br><span class=\"line\">          transition: all .5s;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.transition &#123; <span class=\"comment\">/**/</span></span><br><span class=\"line\">          <span class=\"attr\">transition</span>: all .5s;</span><br><span class=\"line\">       -o-transition: all .5s;</span><br><span class=\"line\">     -moz-transition: all .5s;</span><br><span class=\"line\">  -webkit-transition: all .5s;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>CSS3-webkit-* / -moz-* / -o-*CSS3</p>\n<p>1CSS3CSS3<br>2CSS3CSS3<br>3CSS3CSS3<br>4CSS3CSS3.</p>\n<p>3CSS3CSS3CSS3CSS33CSS3CSS3CSS3CSS3</p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"-Progressive-Enhancement-\"><a href=\"#-Progressive-Enhancement-\" class=\"headerlink\" title=\"(Progressive Enhancement)()\"></a>(Progressive Enhancement)()</h4><p></p>\n<h4 id=\"-Graceful-Degradation-\"><a href=\"#-Graceful-Degradation-\" class=\"headerlink\" title=\"(Graceful Degradation)()\"></a>(Graceful Degradation)()</h4><p> CSS3  hack </p>\n<p><br></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br></p>\n<p> IEMozilla  (poor, but passable) </p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.transition &#123; <span class=\"comment\">/**/</span></span><br><span class=\"line\">  -webkit-transition: all .5s;</span><br><span class=\"line\">     -moz-transition: all .5s;</span><br><span class=\"line\">       -o-transition: all .5s;</span><br><span class=\"line\">          transition: all .5s;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.transition &#123; <span class=\"comment\">/**/</span></span><br><span class=\"line\">          <span class=\"attr\">transition</span>: all .5s;</span><br><span class=\"line\">       -o-transition: all .5s;</span><br><span class=\"line\">     -moz-transition: all .5s;</span><br><span class=\"line\">  -webkit-transition: all .5s;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>CSS3-webkit-* / -moz-* / -o-*CSS3</p>\n<p>1CSS3CSS3<br>2CSS3CSS3<br>3CSS3CSS3<br>4CSS3CSS3.</p>\n<p>3CSS3CSS3CSS3CSS33CSS3CSS3CSS3CSS3</p>\n"},{"title":"js-","date":"2022-07-19T07:59:15.000Z","_content":"\n ==  === \n== \n1==true'1'==truetrue\n===false\n1===true'1'===truefalse\n\n#### \n\n1\n**Number(-*/)NumberNumber**\n```javascript\n1 - true // 0, true1 1 - 1\n1 - false // 1, true0 1 - 0\n1 - null // 1, true0 1 - 0\n1 - undefined // NaN, undefined NaN\n2 * ['5'] // 10, ['5']'5',5\n```\n{% btn /2022/08/09/devan-operation/, , %}\n\n2\n**js**\n* String\n* NumberNumber\n* NumberNumber\n****\n\n```javascript\n123 + '123' // '123123' (1)\n123 + null //  123 (2)\n123 + true //  124 (2)\n123 + {}   //  '123[object Object]' (3)\n```\n\n#### \n1\nBoolean\n**nullundefined''NaN0falsebooleanfalsetrue{}[]**\n\n2 == 5\n** ===**\n* 1NaNfalse()\n```javascript\nNaN == NaN // false\n```\n* 2booleanBooleanNumber\n```javascript\ntrue == 1 // true\ntrue == '2' // false,true1'2'true\ntrue == ['1'] // true, true1['1']'1',3\ntrue == ['2'] // false, \nundefined == false // false, false04\nnull == false // false, \n```\n* StringNumberStringNumber\n```javascript\n123 == '123' // true, '123'123\n'' == 0 // true'' 0\n```\n* null == undefined truenullundefinedfalse\n```javascript\nnull == undefined  // true\nnull == '' // false\nnull == 0 // false\nnull == false // false\nundefined == '' // false\nundefined == 0 // false\nundefined == false // false\n```\n* ToPrimitive\n**ToPrimitive valueOf toStringTypeError**\n```javascript\n'[object Object]' == {} // true, toString \n'1,2,3' == [1,2,3] // true, [1,2,3]toString\n```\n\n#### \n![](convert-table.png)\n\n#### \nhttps://dorey.github.io/JavaScript-Equality-Table/\n\n{% btn /,, home %}","source":"_posts/15-js-transform.md","raw":"---\ntitle: js-\ndate: 2022-07-19 15:59:15\ntags:\n---\n\n ==  === \n== \n1==true'1'==truetrue\n===false\n1===true'1'===truefalse\n\n#### \n\n1\n**Number(-*/)NumberNumber**\n```javascript\n1 - true // 0, true1 1 - 1\n1 - false // 1, true0 1 - 0\n1 - null // 1, true0 1 - 0\n1 - undefined // NaN, undefined NaN\n2 * ['5'] // 10, ['5']'5',5\n```\n{% btn /2022/08/09/devan-operation/, , %}\n\n2\n**js**\n* String\n* NumberNumber\n* NumberNumber\n****\n\n```javascript\n123 + '123' // '123123' (1)\n123 + null //  123 (2)\n123 + true //  124 (2)\n123 + {}   //  '123[object Object]' (3)\n```\n\n#### \n1\nBoolean\n**nullundefined''NaN0falsebooleanfalsetrue{}[]**\n\n2 == 5\n** ===**\n* 1NaNfalse()\n```javascript\nNaN == NaN // false\n```\n* 2booleanBooleanNumber\n```javascript\ntrue == 1 // true\ntrue == '2' // false,true1'2'true\ntrue == ['1'] // true, true1['1']'1',3\ntrue == ['2'] // false, \nundefined == false // false, false04\nnull == false // false, \n```\n* StringNumberStringNumber\n```javascript\n123 == '123' // true, '123'123\n'' == 0 // true'' 0\n```\n* null == undefined truenullundefinedfalse\n```javascript\nnull == undefined  // true\nnull == '' // false\nnull == 0 // false\nnull == false // false\nundefined == '' // false\nundefined == 0 // false\nundefined == false // false\n```\n* ToPrimitive\n**ToPrimitive valueOf toStringTypeError**\n```javascript\n'[object Object]' == {} // true, toString \n'1,2,3' == [1,2,3] // true, [1,2,3]toString\n```\n\n#### \n![](convert-table.png)\n\n#### \nhttps://dorey.github.io/JavaScript-Equality-Table/\n\n{% btn /,, home %}","slug":"15-js-transform","published":1,"updated":"2022-11-23T00:33:39.002Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baij000dnwvabimc9asx","content":"<p> ==  === <br>== <br>1==true1==truetrue<br>===false<br>1===true1===truefalse</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1<br><strong>Number(-*/)NumberNumber</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1</span> - <span class=\"literal\">true</span> <span class=\"comment\">// 0, true1 1 - 1</span></span><br><span class=\"line\"><span class=\"number\">1</span> - <span class=\"literal\">false</span> <span class=\"comment\">// 1, true0 1 - 0</span></span><br><span class=\"line\"><span class=\"number\">1</span> - <span class=\"literal\">null</span> <span class=\"comment\">// 1, true0 1 - 0</span></span><br><span class=\"line\"><span class=\"number\">1</span> - <span class=\"literal\">undefined</span> <span class=\"comment\">// NaN, undefined NaN</span></span><br><span class=\"line\"><span class=\"number\">2</span> * [<span class=\"string\">&#x27;5&#x27;</span>] <span class=\"comment\">// 10, [&#x27;5&#x27;]&#x27;5&#x27;,5</span></span><br></pre></td></tr></table></figure>\n<a class=\"btn\" href=\"/2022/08/09/devan-operation/\"></a>\n\n<p>2<br><strong>js</strong></p>\n<ul>\n<li>String</li>\n<li>NumberNumber</li>\n<li>NumberNumber</li>\n<li><em></em>*</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">123</span> + <span class=\"string\">&#x27;123&#x27;</span> <span class=\"comment\">// &#x27;123123&#x27; (1)</span></span><br><span class=\"line\"><span class=\"number\">123</span> + <span class=\"literal\">null</span> <span class=\"comment\">//  123 (2)</span></span><br><span class=\"line\"><span class=\"number\">123</span> + <span class=\"literal\">true</span> <span class=\"comment\">//  124 (2)</span></span><br><span class=\"line\"><span class=\"number\">123</span> + &#123;&#125;   <span class=\"comment\">//  &#x27;123[object Object]&#x27; (3)</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1<br>Boolean<br><strong>nullundefinedNaN0falsebooleanfalsetrue{}[]</strong></p>\n<p>2 == 5<br><strong> ===</strong></p>\n<ul>\n<li>1NaNfalse()<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"literal\">NaN</span> == <span class=\"literal\">NaN</span> <span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure></li>\n<li>2booleanBooleanNumber<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"literal\">true</span> == <span class=\"number\">1</span> <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"literal\">true</span> == <span class=\"string\">&#x27;2&#x27;</span> <span class=\"comment\">// false,true1&#x27;2&#x27;true</span></span><br><span class=\"line\"><span class=\"literal\">true</span> == [<span class=\"string\">&#x27;1&#x27;</span>] <span class=\"comment\">// true, true1[&#x27;1&#x27;]&#x27;1&#x27;,3</span></span><br><span class=\"line\"><span class=\"literal\">true</span> == [<span class=\"string\">&#x27;2&#x27;</span>] <span class=\"comment\">// false, </span></span><br><span class=\"line\"><span class=\"literal\">undefined</span> == <span class=\"literal\">false</span> <span class=\"comment\">// false, false04</span></span><br><span class=\"line\"><span class=\"literal\">null</span> == <span class=\"literal\">false</span> <span class=\"comment\">// false, </span></span><br></pre></td></tr></table></figure></li>\n<li>StringNumberStringNumber<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">123</span> == <span class=\"string\">&#x27;123&#x27;</span> <span class=\"comment\">// true, &#x27;123&#x27;123</span></span><br><span class=\"line\"><span class=\"string\">&#x27;&#x27;</span> == <span class=\"number\">0</span> <span class=\"comment\">// true&#x27;&#x27; 0</span></span><br></pre></td></tr></table></figure></li>\n<li>null == undefined truenullundefinedfalse<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"literal\">null</span> == <span class=\"literal\">undefined</span>  <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"literal\">null</span> == <span class=\"string\">&#x27;&#x27;</span> <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"literal\">null</span> == <span class=\"number\">0</span> <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"literal\">null</span> == <span class=\"literal\">false</span> <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"literal\">undefined</span> == <span class=\"string\">&#x27;&#x27;</span> <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"literal\">undefined</span> == <span class=\"number\">0</span> <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"literal\">undefined</span> == <span class=\"literal\">false</span> <span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure></li>\n<li>ToPrimitive</li>\n<li><em>ToPrimitive valueOf toStringTypeError</em>*<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&#x27;[object Object]&#x27;</span> == &#123;&#125; <span class=\"comment\">// true, toString </span></span><br><span class=\"line\"><span class=\"string\">&#x27;1,2,3&#x27;</span> == [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>] <span class=\"comment\">// true, [1,2,3]toString</span></span><br></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><img src=\"/2022/07/19/15-js-transform/convert-table.png\" alt=\"\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"https://dorey.github.io/JavaScript-Equality-Table/\">https://dorey.github.io/JavaScript-Equality-Table/</a></p>\n<a class=\"btn\" href=\"/\"><i class=\"fa fa-home\"></i></a>","site":{"data":{}},"excerpt":"","more":"<p> ==  === <br>== <br>1==true1==truetrue<br>===false<br>1===true1===truefalse</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1<br><strong>Number(-*/)NumberNumber</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1</span> - <span class=\"literal\">true</span> <span class=\"comment\">// 0, true1 1 - 1</span></span><br><span class=\"line\"><span class=\"number\">1</span> - <span class=\"literal\">false</span> <span class=\"comment\">// 1, true0 1 - 0</span></span><br><span class=\"line\"><span class=\"number\">1</span> - <span class=\"literal\">null</span> <span class=\"comment\">// 1, true0 1 - 0</span></span><br><span class=\"line\"><span class=\"number\">1</span> - <span class=\"literal\">undefined</span> <span class=\"comment\">// NaN, undefined NaN</span></span><br><span class=\"line\"><span class=\"number\">2</span> * [<span class=\"string\">&#x27;5&#x27;</span>] <span class=\"comment\">// 10, [&#x27;5&#x27;]&#x27;5&#x27;,5</span></span><br></pre></td></tr></table></figure>\n<a class=\"btn\" href=\"/2022/08/09/devan-operation/\"></a>\n\n<p>2<br><strong>js</strong></p>\n<ul>\n<li>String</li>\n<li>NumberNumber</li>\n<li>NumberNumber</li>\n<li><em></em>*</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">123</span> + <span class=\"string\">&#x27;123&#x27;</span> <span class=\"comment\">// &#x27;123123&#x27; (1)</span></span><br><span class=\"line\"><span class=\"number\">123</span> + <span class=\"literal\">null</span> <span class=\"comment\">//  123 (2)</span></span><br><span class=\"line\"><span class=\"number\">123</span> + <span class=\"literal\">true</span> <span class=\"comment\">//  124 (2)</span></span><br><span class=\"line\"><span class=\"number\">123</span> + &#123;&#125;   <span class=\"comment\">//  &#x27;123[object Object]&#x27; (3)</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1<br>Boolean<br><strong>nullundefinedNaN0falsebooleanfalsetrue{}[]</strong></p>\n<p>2 == 5<br><strong> ===</strong></p>\n<ul>\n<li>1NaNfalse()<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"literal\">NaN</span> == <span class=\"literal\">NaN</span> <span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure></li>\n<li>2booleanBooleanNumber<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"literal\">true</span> == <span class=\"number\">1</span> <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"literal\">true</span> == <span class=\"string\">&#x27;2&#x27;</span> <span class=\"comment\">// false,true1&#x27;2&#x27;true</span></span><br><span class=\"line\"><span class=\"literal\">true</span> == [<span class=\"string\">&#x27;1&#x27;</span>] <span class=\"comment\">// true, true1[&#x27;1&#x27;]&#x27;1&#x27;,3</span></span><br><span class=\"line\"><span class=\"literal\">true</span> == [<span class=\"string\">&#x27;2&#x27;</span>] <span class=\"comment\">// false, </span></span><br><span class=\"line\"><span class=\"literal\">undefined</span> == <span class=\"literal\">false</span> <span class=\"comment\">// false, false04</span></span><br><span class=\"line\"><span class=\"literal\">null</span> == <span class=\"literal\">false</span> <span class=\"comment\">// false, </span></span><br></pre></td></tr></table></figure></li>\n<li>StringNumberStringNumber<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">123</span> == <span class=\"string\">&#x27;123&#x27;</span> <span class=\"comment\">// true, &#x27;123&#x27;123</span></span><br><span class=\"line\"><span class=\"string\">&#x27;&#x27;</span> == <span class=\"number\">0</span> <span class=\"comment\">// true&#x27;&#x27; 0</span></span><br></pre></td></tr></table></figure></li>\n<li>null == undefined truenullundefinedfalse<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"literal\">null</span> == <span class=\"literal\">undefined</span>  <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"literal\">null</span> == <span class=\"string\">&#x27;&#x27;</span> <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"literal\">null</span> == <span class=\"number\">0</span> <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"literal\">null</span> == <span class=\"literal\">false</span> <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"literal\">undefined</span> == <span class=\"string\">&#x27;&#x27;</span> <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"literal\">undefined</span> == <span class=\"number\">0</span> <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"literal\">undefined</span> == <span class=\"literal\">false</span> <span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure></li>\n<li>ToPrimitive</li>\n<li><em>ToPrimitive valueOf toStringTypeError</em>*<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&#x27;[object Object]&#x27;</span> == &#123;&#125; <span class=\"comment\">// true, toString </span></span><br><span class=\"line\"><span class=\"string\">&#x27;1,2,3&#x27;</span> == [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>] <span class=\"comment\">// true, [1,2,3]toString</span></span><br></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><img src=\"/2022/07/19/15-js-transform/convert-table.png\" alt=\"\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"https://dorey.github.io/JavaScript-Equality-Table/\">https://dorey.github.io/JavaScript-Equality-Table/</a></p>\n<a class=\"btn\" href=\"/\"><i class=\"fa fa-home\"></i></a>"},{"title":"js-","date":"2022-07-19T08:23:28.000Z","_content":"","source":"_posts/16-origin-type-and-reference-type.md","raw":"---\ntitle: js-\ndate: 2022-07-19 16:23:28\ntags:\n---\n","slug":"16-origin-type-and-reference-type","published":1,"updated":"2022-11-23T00:33:39.008Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62bail000fnwva45eqbf7y","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"javascript DOM","date":"2022-07-31T05:42:45.000Z","_content":"\n#### JavaScript\n1DOM\nDOM\n\n0DOM(DOM Level 0)\nDOM0DOM\n\n1DMO(DOM Level 1)\nNetscapeW3C1998101DOM(DOM Level 1) \n\n2\n2.1 DHTML\nDHTMLDynamic HTML(HTML)DHTMLHTMLCSS.JavaScript:\n(1)HTML;\n(2)CSS;\n(3)JavaScript\n\n#### JavaScript\n\n1while\n```javascript\nwhile (condition){\n  statements;\n}\n```\ndo...while\n```javascript\ndo {\n  statements;\n} while (condition);\n```\n  2for\n```javascript\nfor (initial condition; test condition; alter condition){\n  statements;\n}\n```\n\n\n1\n(global variable)\n(local variable\n\n\nobjectproperty)(method) :\n-\n-\n\n\n1(user-defined object)\n\n\n2(native object)\nJavaScript( native object) \nArrayMathDate\n\n3(host object)\n(host object ) \ndocumentFormImageElement\n\n#### DOM\n1:DOM'D'\ndocument(DOMWebDOM\n\n2:DOM'O'\n\n\n3:DOM'M'\nDOMMModel()Map(DOM)JavaScript\n\n4\n(1)\n(2)\n(3)\n(4)CSS\n(5)\n-getElementById \n-getElementsByTagName *\n```javascript\nvar shopping = document.getElementById(\"purchases\") ;\nvar items = shopping.getElementsByTagName(\"*\") ;\n```\n-getElementsByClassName \n\nclass\n```javascript\nvar shopping = document.getElementById(\"purchases\");\nvar sales = shopping.getElementsByClassName(\"sale\");\n```\n\n5\n(1)getAttribute \n(2)setAttribute \n:setAttributeviewsource(setAttributeDOM:DOM:\n\n#### JavaScript\nDOMAPIDOMWeb1DOM\n1childNodes \n2nodeType 12\n3\n-nodeType1\n-nodeType2\n-nodeType3\n3nodeValue \n4firstChildlastChild\n\n#### \n1\n(graceful degradation)\n2javascript:\nHTTP(http://) FTPftp://)\njavascript:JavaScript\n```javascript\n<a href=\"javascript:popUp('http://www.example.com/');\">Example</a>\n```\n3CSS\n\n\n4javascript\n5\n(1)JavaScript\n(2)\nJavaScriptJavaScript\n\n\n\n6\n(1)DOM\n(2)\n\n/<script/>/</body/>\n(3)\n\n-Douglas CrockfordJSMin (http://www.crockford.com/javascript/jsmin.html)\n-YUI Compressor (http://developer.yahoo.com/yui/compressor)\n-Closure Compiler (http://closure-compiler.appspot.com/home)\n\n#### \n1document.write & innerHTML\n2DOM\n(1)createElement\n(1)appendChild\n(1)createTextNode\n(1)insertBefore\n3Ajax\n(1)XMLHttpRequest\n```javascript\nfunction getHTTPObject () {\n  if (typeof XMLHttpRequest == \"undefined\") xMLHttpRequest =function () {\n    try { return new Activexobject ( \"Msxm12.XMLHTTP.6.0\"); )catch (e) { }\n    try { return new ActivexObject (\"Msxm12.XMLHTTP.3.0\");)catch (e) { }\n    try { return new ActivexObject ( \"Msxm12.XMLHTTP\"); )catch (e) { }\n    return false;\n  }\n  return new XMLHttpRequest ( ) ;\n}\n```\n\nXHTML5\nXMLHTML5WebXHTML5XMLHTMLMIMEapplication/xhtml+xmlMIMEXHTMLHTML\n\n#### CSS-DOM\n1\n(1)\n(structural layer)HTMLXHTML\n(2)\n(presentation layer)CSSCSS\n(3)\n(behavior layer)JavaScriptDOM\n(4)\n-(X)HTML\n-CSS\n-DOM\n2style\nstyle<head>\nstyleHTMLstyle\n3DOM\n(1)\n(2)\n(3)\n4className\n\n#### HTML5\n1canvas\n2videoaudio\n\n\n1\n\n2\n\n3\n\n4\n__proto__es6\n","source":"_posts/17-about-dom.md","raw":"---\ntitle: javascript DOM\ndate: 2022-07-31 13:42:45\ntags:\n---\n\n#### JavaScript\n1DOM\nDOM\n\n0DOM(DOM Level 0)\nDOM0DOM\n\n1DMO(DOM Level 1)\nNetscapeW3C1998101DOM(DOM Level 1) \n\n2\n2.1 DHTML\nDHTMLDynamic HTML(HTML)DHTMLHTMLCSS.JavaScript:\n(1)HTML;\n(2)CSS;\n(3)JavaScript\n\n#### JavaScript\n\n1while\n```javascript\nwhile (condition){\n  statements;\n}\n```\ndo...while\n```javascript\ndo {\n  statements;\n} while (condition);\n```\n  2for\n```javascript\nfor (initial condition; test condition; alter condition){\n  statements;\n}\n```\n\n\n1\n(global variable)\n(local variable\n\n\nobjectproperty)(method) :\n-\n-\n\n\n1(user-defined object)\n\n\n2(native object)\nJavaScript( native object) \nArrayMathDate\n\n3(host object)\n(host object ) \ndocumentFormImageElement\n\n#### DOM\n1:DOM'D'\ndocument(DOMWebDOM\n\n2:DOM'O'\n\n\n3:DOM'M'\nDOMMModel()Map(DOM)JavaScript\n\n4\n(1)\n(2)\n(3)\n(4)CSS\n(5)\n-getElementById \n-getElementsByTagName *\n```javascript\nvar shopping = document.getElementById(\"purchases\") ;\nvar items = shopping.getElementsByTagName(\"*\") ;\n```\n-getElementsByClassName \n\nclass\n```javascript\nvar shopping = document.getElementById(\"purchases\");\nvar sales = shopping.getElementsByClassName(\"sale\");\n```\n\n5\n(1)getAttribute \n(2)setAttribute \n:setAttributeviewsource(setAttributeDOM:DOM:\n\n#### JavaScript\nDOMAPIDOMWeb1DOM\n1childNodes \n2nodeType 12\n3\n-nodeType1\n-nodeType2\n-nodeType3\n3nodeValue \n4firstChildlastChild\n\n#### \n1\n(graceful degradation)\n2javascript:\nHTTP(http://) FTPftp://)\njavascript:JavaScript\n```javascript\n<a href=\"javascript:popUp('http://www.example.com/');\">Example</a>\n```\n3CSS\n\n\n4javascript\n5\n(1)JavaScript\n(2)\nJavaScriptJavaScript\n\n\n\n6\n(1)DOM\n(2)\n\n/<script/>/</body/>\n(3)\n\n-Douglas CrockfordJSMin (http://www.crockford.com/javascript/jsmin.html)\n-YUI Compressor (http://developer.yahoo.com/yui/compressor)\n-Closure Compiler (http://closure-compiler.appspot.com/home)\n\n#### \n1document.write & innerHTML\n2DOM\n(1)createElement\n(1)appendChild\n(1)createTextNode\n(1)insertBefore\n3Ajax\n(1)XMLHttpRequest\n```javascript\nfunction getHTTPObject () {\n  if (typeof XMLHttpRequest == \"undefined\") xMLHttpRequest =function () {\n    try { return new Activexobject ( \"Msxm12.XMLHTTP.6.0\"); )catch (e) { }\n    try { return new ActivexObject (\"Msxm12.XMLHTTP.3.0\");)catch (e) { }\n    try { return new ActivexObject ( \"Msxm12.XMLHTTP\"); )catch (e) { }\n    return false;\n  }\n  return new XMLHttpRequest ( ) ;\n}\n```\n\nXHTML5\nXMLHTML5WebXHTML5XMLHTMLMIMEapplication/xhtml+xmlMIMEXHTMLHTML\n\n#### CSS-DOM\n1\n(1)\n(structural layer)HTMLXHTML\n(2)\n(presentation layer)CSSCSS\n(3)\n(behavior layer)JavaScriptDOM\n(4)\n-(X)HTML\n-CSS\n-DOM\n2style\nstyle<head>\nstyleHTMLstyle\n3DOM\n(1)\n(2)\n(3)\n4className\n\n#### HTML5\n1canvas\n2videoaudio\n\n\n1\n\n2\n\n3\n\n4\n__proto__es6\n","slug":"17-about-dom","published":1,"updated":"2022-11-23T00:33:39.010Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baim000hnwva0lnk0uzf","content":"<h4 id=\"JavaScript\"><a href=\"#JavaScript\" class=\"headerlink\" title=\"JavaScript\"></a>JavaScript</h4><p>1DOM<br>DOM</p>\n<p>0DOM(DOM Level 0)<br>DOM0DOM</p>\n<p>1DMO(DOM Level 1)<br>NetscapeW3C1998101DOM(DOM Level 1) </p>\n<p>2<br>2.1 DHTML<br>DHTMLDynamic HTML(HTML)DHTMLHTMLCSS.JavaScript:<br>(1)HTML;<br>(2)CSS;<br>(3)JavaScript</p>\n<h4 id=\"JavaScript\"><a href=\"#JavaScript\" class=\"headerlink\" title=\"JavaScript\"></a>JavaScript</h4><p><br>1while</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">while</span> (condition)&#123;</span><br><span class=\"line\">  statements;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>dowhile</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">do</span> &#123;</span><br><span class=\"line\">  statements;</span><br><span class=\"line\">&#125; <span class=\"keyword\">while</span> (condition);</span><br></pre></td></tr></table></figure>\n<p>  2for</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (initial condition; test condition; alter condition)&#123;</span><br><span class=\"line\">  statements;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><br>1<br>(global variable)<br>(local variable</p>\n<p><br>objectproperty)(method) :<br>-<br>-<br></p>\n<p>1(user-defined object)<br></p>\n<p>2(native object)<br>JavaScript( native object)<br>ArrayMathDate</p>\n<p>3(host object)<br>(host object )<br>documentFormImageElement</p>\n<h4 id=\"DOM\"><a href=\"#DOM\" class=\"headerlink\" title=\"DOM\"></a>DOM</h4><p>1:DOMD<br>document(DOMWebDOM</p>\n<p>2:DOMO<br></p>\n<p>3:DOMM<br>DOMMModel()Map(DOM)JavaScript</p>\n<p>4<br>(1)<br>(2)<br>(3)<br>(4)CSS<br>(5)<br>-getElementById <br>-getElementsByTagName *</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> shopping = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&quot;purchases&quot;</span>) ;</span><br><span class=\"line\"><span class=\"keyword\">var</span> items = shopping.getElementsByTagName(<span class=\"string\">&quot;*&quot;</span>) ;</span><br></pre></td></tr></table></figure>\n<p>-getElementsByClassName <br><br>class</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> shopping = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&quot;purchases&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> sales = shopping.getElementsByClassName(<span class=\"string\">&quot;sale&quot;</span>);</span><br></pre></td></tr></table></figure>\n\n<p>5<br>(1)getAttribute <br>(2)setAttribute <br>:setAttributeviewsource(setAttributeDOM:DOM:</p>\n<h4 id=\"JavaScript\"><a href=\"#JavaScript\" class=\"headerlink\" title=\"JavaScript\"></a>JavaScript</h4><p>DOMAPIDOMWeb1DOM<br>1childNodes <br>2nodeType 12<br>3<br>-nodeType1<br>-nodeType2<br>-nodeType3<br>3nodeValue <br>4firstChildlastChild</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1<br>(graceful degradation)<br>2javascript:<br>HTTP(http://) FTPftp://)<br>javascript:JavaScript</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;a href=<span class=\"string\">&quot;javascript:popUp(&#x27;http://www.example.com/&#x27;);&quot;</span>&gt;Example&lt;/a&gt;</span><br></pre></td></tr></table></figure>\n<p>3CSS<br><br><br>4javascript<br>5<br>(1)JavaScript<br>(2)<br>JavaScriptJavaScript<br><br><br><br>6<br>(1)DOM<br>(2)<br><br>/<script>/&lt;/body/&gt;<br>(3)<br><br>-Douglas CrockfordJSMin (<a href=\"http://www.crockford.com/javascript/jsmin.html\">http://www.crockford.com/javascript/jsmin.html</a>)<br>-YUI Compressor (<a href=\"http://developer.yahoo.com/yui/compressor\">http://developer.yahoo.com/yui/compressor</a>)<br>-Closure Compiler (<a href=\"http://closure-compiler.appspot.com/home\">http://closure-compiler.appspot.com/home</a>)</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1document.write &amp; innerHTML<br>2DOM<br>(1)createElement<br>(1)appendChild<br>(1)createTextNode<br>(1)insertBefore<br>3Ajax<br>(1)XMLHttpRequest</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getHTTPObject</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> XMLHttpRequest == <span class=\"string\">&quot;undefined&quot;</span>) xMLHttpRequest =<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123; <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Activexobject ( <span class=\"string\">&quot;Msxm12.XMLHTTP.6.0&quot;</span>); )<span class=\"keyword\">catch</span> (e) &#123; &#125;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123; <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ActivexObject (<span class=\"string\">&quot;Msxm12.XMLHTTP.3.0&quot;</span>);)<span class=\"keyword\">catch</span> (e) &#123; &#125;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123; <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ActivexObject ( <span class=\"string\">&quot;Msxm12.XMLHTTP&quot;</span>); )<span class=\"keyword\">catch</span> (e) &#123; &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> XMLHttpRequest ( ) ;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>XHTML5<br>XMLHTML5WebXHTML5XMLHTMLMIMEapplication/xhtml+xmlMIMEXHTMLHTML</p>\n<h4 id=\"CSS-DOM\"><a href=\"#CSS-DOM\" class=\"headerlink\" title=\"CSS-DOM\"></a>CSS-DOM</h4><p>1<br>(1)<br>(structural layer)HTMLXHTML<br>(2)<br>(presentation layer)CSSCSS<br>(3)<br>(behavior layer)JavaScriptDOM<br>(4)<br>-(X)HTML<br>-CSS<br>-DOM<br>2style<br>style<head><br>styleHTMLstyle<br>3DOM<br>(1)<br>(2)<br>(3)<br>4className</p>\n<h4 id=\"HTML5\"><a href=\"#HTML5\" class=\"headerlink\" title=\"HTML5\"></a>HTML5</h4><p>1canvas<br>2videoaudio</p>\n<p><br>1<br><br>2<br><br>3<br><br>4<br>__proto__es6<br></p>\n</script></p>","site":{"data":{}},"excerpt":"","more":"<h4 id=\"JavaScript\"><a href=\"#JavaScript\" class=\"headerlink\" title=\"JavaScript\"></a>JavaScript</h4><p>1DOM<br>DOM</p>\n<p>0DOM(DOM Level 0)<br>DOM0DOM</p>\n<p>1DMO(DOM Level 1)<br>NetscapeW3C1998101DOM(DOM Level 1) </p>\n<p>2<br>2.1 DHTML<br>DHTMLDynamic HTML(HTML)DHTMLHTMLCSS.JavaScript:<br>(1)HTML;<br>(2)CSS;<br>(3)JavaScript</p>\n<h4 id=\"JavaScript\"><a href=\"#JavaScript\" class=\"headerlink\" title=\"JavaScript\"></a>JavaScript</h4><p><br>1while</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">while</span> (condition)&#123;</span><br><span class=\"line\">  statements;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>dowhile</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">do</span> &#123;</span><br><span class=\"line\">  statements;</span><br><span class=\"line\">&#125; <span class=\"keyword\">while</span> (condition);</span><br></pre></td></tr></table></figure>\n<p>  2for</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (initial condition; test condition; alter condition)&#123;</span><br><span class=\"line\">  statements;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><br>1<br>(global variable)<br>(local variable</p>\n<p><br>objectproperty)(method) :<br>-<br>-<br></p>\n<p>1(user-defined object)<br></p>\n<p>2(native object)<br>JavaScript( native object)<br>ArrayMathDate</p>\n<p>3(host object)<br>(host object )<br>documentFormImageElement</p>\n<h4 id=\"DOM\"><a href=\"#DOM\" class=\"headerlink\" title=\"DOM\"></a>DOM</h4><p>1:DOMD<br>document(DOMWebDOM</p>\n<p>2:DOMO<br></p>\n<p>3:DOMM<br>DOMMModel()Map(DOM)JavaScript</p>\n<p>4<br>(1)<br>(2)<br>(3)<br>(4)CSS<br>(5)<br>-getElementById <br>-getElementsByTagName *</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> shopping = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&quot;purchases&quot;</span>) ;</span><br><span class=\"line\"><span class=\"keyword\">var</span> items = shopping.getElementsByTagName(<span class=\"string\">&quot;*&quot;</span>) ;</span><br></pre></td></tr></table></figure>\n<p>-getElementsByClassName <br><br>class</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> shopping = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&quot;purchases&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> sales = shopping.getElementsByClassName(<span class=\"string\">&quot;sale&quot;</span>);</span><br></pre></td></tr></table></figure>\n\n<p>5<br>(1)getAttribute <br>(2)setAttribute <br>:setAttributeviewsource(setAttributeDOM:DOM:</p>\n<h4 id=\"JavaScript\"><a href=\"#JavaScript\" class=\"headerlink\" title=\"JavaScript\"></a>JavaScript</h4><p>DOMAPIDOMWeb1DOM<br>1childNodes <br>2nodeType 12<br>3<br>-nodeType1<br>-nodeType2<br>-nodeType3<br>3nodeValue <br>4firstChildlastChild</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1<br>(graceful degradation)<br>2javascript:<br>HTTP(http://) FTPftp://)<br>javascript:JavaScript</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;a href=<span class=\"string\">&quot;javascript:popUp(&#x27;http://www.example.com/&#x27;);&quot;</span>&gt;Example&lt;/a&gt;</span><br></pre></td></tr></table></figure>\n<p>3CSS<br><br><br>4javascript<br>5<br>(1)JavaScript<br>(2)<br>JavaScriptJavaScript<br><br><br><br>6<br>(1)DOM<br>(2)<br><br>/<script>/&lt;/body/&gt;<br>(3)<br><br>-Douglas CrockfordJSMin (<a href=\"http://www.crockford.com/javascript/jsmin.html\">http://www.crockford.com/javascript/jsmin.html</a>)<br>-YUI Compressor (<a href=\"http://developer.yahoo.com/yui/compressor\">http://developer.yahoo.com/yui/compressor</a>)<br>-Closure Compiler (<a href=\"http://closure-compiler.appspot.com/home\">http://closure-compiler.appspot.com/home</a>)</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1document.write &amp; innerHTML<br>2DOM<br>(1)createElement<br>(1)appendChild<br>(1)createTextNode<br>(1)insertBefore<br>3Ajax<br>(1)XMLHttpRequest</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getHTTPObject</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> XMLHttpRequest == <span class=\"string\">&quot;undefined&quot;</span>) xMLHttpRequest =<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123; <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Activexobject ( <span class=\"string\">&quot;Msxm12.XMLHTTP.6.0&quot;</span>); )<span class=\"keyword\">catch</span> (e) &#123; &#125;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123; <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ActivexObject (<span class=\"string\">&quot;Msxm12.XMLHTTP.3.0&quot;</span>);)<span class=\"keyword\">catch</span> (e) &#123; &#125;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123; <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ActivexObject ( <span class=\"string\">&quot;Msxm12.XMLHTTP&quot;</span>); )<span class=\"keyword\">catch</span> (e) &#123; &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> XMLHttpRequest ( ) ;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>XHTML5<br>XMLHTML5WebXHTML5XMLHTMLMIMEapplication/xhtml+xmlMIMEXHTMLHTML</p>\n<h4 id=\"CSS-DOM\"><a href=\"#CSS-DOM\" class=\"headerlink\" title=\"CSS-DOM\"></a>CSS-DOM</h4><p>1<br>(1)<br>(structural layer)HTMLXHTML<br>(2)<br>(presentation layer)CSSCSS<br>(3)<br>(behavior layer)JavaScriptDOM<br>(4)<br>-(X)HTML<br>-CSS<br>-DOM<br>2style<br>style<head><br>styleHTMLstyle<br>3DOM<br>(1)<br>(2)<br>(3)<br>4className</p>\n<h4 id=\"HTML5\"><a href=\"#HTML5\" class=\"headerlink\" title=\"HTML5\"></a>HTML5</h4><p>1canvas<br>2videoaudio</p>\n<p><br>1<br><br>2<br><br>3<br><br>4<br>__proto__es6<br></p>\n</script></p>"},{"title":"","date":"2022-08-04T02:57:14.000Z","_content":"\n#### \nArrayLikelength\n\n#### \n1length\n2\n3pushpop\n![document](document.png)\n\n#### \n1functionarguments\n2document.getElementsByTagNamedocument.getElementsByClassNamedocumentNodeList\n3file\n4\n\n#### \n1Array.isArray\n```javascript\n// fakeArray\n// array \nArray.isArray(fakeArray); // false\nArray.isArray(array); // true\n```\n2instanceof\n```javascript\n// fakeArray\n// array \nfakeArray instanceof Array; // false\narray instanceof Array; // true\n```\n\n#### \n1Array.prototype.slice.call()\n![Array.prototype.slice.call](prototype_call.png)\n2[].slice.call()\n![slice.call](slice_call.png)\n3Array.from()\n![array.from](array_from.png)\n","source":"_posts/18-fake-array.md","raw":"---\ntitle: \ndate: 2022-08-04 10:57:14\ntags:\n---\n\n#### \nArrayLikelength\n\n#### \n1length\n2\n3pushpop\n![document](document.png)\n\n#### \n1functionarguments\n2document.getElementsByTagNamedocument.getElementsByClassNamedocumentNodeList\n3file\n4\n\n#### \n1Array.isArray\n```javascript\n// fakeArray\n// array \nArray.isArray(fakeArray); // false\nArray.isArray(array); // true\n```\n2instanceof\n```javascript\n// fakeArray\n// array \nfakeArray instanceof Array; // false\narray instanceof Array; // true\n```\n\n#### \n1Array.prototype.slice.call()\n![Array.prototype.slice.call](prototype_call.png)\n2[].slice.call()\n![slice.call](slice_call.png)\n3Array.from()\n![array.from](array_from.png)\n","slug":"18-fake-array","published":1,"updated":"2022-11-23T00:33:39.011Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baio000jnwva8xdpafdw","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>ArrayLikelength</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1length<br>2<br>3pushpop<br><img src=\"/2022/08/04/18-fake-array/document.png\" alt=\"document\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1functionarguments<br>2document.getElementsByTagNamedocument.getElementsByClassNamedocumentNodeList<br>3file<br>4</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1Array.isArray</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// fakeArray</span></span><br><span class=\"line\"><span class=\"comment\">// array </span></span><br><span class=\"line\"><span class=\"built_in\">Array</span>.isArray(fakeArray); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"built_in\">Array</span>.isArray(array); <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n<p>2instanceof</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// fakeArray</span></span><br><span class=\"line\"><span class=\"comment\">// array </span></span><br><span class=\"line\">fakeArray <span class=\"keyword\">instanceof</span> <span class=\"built_in\">Array</span>; <span class=\"comment\">// false</span></span><br><span class=\"line\">array <span class=\"keyword\">instanceof</span> <span class=\"built_in\">Array</span>; <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1Array.prototype.slice.call()<br><img src=\"/2022/08/04/18-fake-array/prototype_call.png\" alt=\"Array.prototype.slice.call\"><br>2[].slice.call()<br><img src=\"/2022/08/04/18-fake-array/slice_call.png\" alt=\"slice.call\"><br>3Array.from()<br><img src=\"/2022/08/04/18-fake-array/array_from.png\" alt=\"array.from\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>ArrayLikelength</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1length<br>2<br>3pushpop<br><img src=\"/2022/08/04/18-fake-array/document.png\" alt=\"document\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1functionarguments<br>2document.getElementsByTagNamedocument.getElementsByClassNamedocumentNodeList<br>3file<br>4</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1Array.isArray</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// fakeArray</span></span><br><span class=\"line\"><span class=\"comment\">// array </span></span><br><span class=\"line\"><span class=\"built_in\">Array</span>.isArray(fakeArray); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"built_in\">Array</span>.isArray(array); <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n<p>2instanceof</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// fakeArray</span></span><br><span class=\"line\"><span class=\"comment\">// array </span></span><br><span class=\"line\">fakeArray <span class=\"keyword\">instanceof</span> <span class=\"built_in\">Array</span>; <span class=\"comment\">// false</span></span><br><span class=\"line\">array <span class=\"keyword\">instanceof</span> <span class=\"built_in\">Array</span>; <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1Array.prototype.slice.call()<br><img src=\"/2022/08/04/18-fake-array/prototype_call.png\" alt=\"Array.prototype.slice.call\"><br>2[].slice.call()<br><img src=\"/2022/08/04/18-fake-array/slice_call.png\" alt=\"slice.call\"><br>3Array.from()<br><img src=\"/2022/08/04/18-fake-array/array_from.png\" alt=\"array.from\"></p>\n"},{"title":"varconstlet","date":"2022-03-26T13:04:12.000Z","_content":"\n#### 1varwindowconstlet\n```javascript\nvar a = 100;\nconsole.log(a,window.a);    // 100 100\nlet b = 10;\nconsole.log(b,window.b);    // 10 undefined\nconst c = 1;\nconsole.log(c,window.c);    // 1 undefined\n```\nletconstScriptvarGlobalwindowGlobal[letconst](https://zhuanlan.zhihu.com/p/114128108)\n\n#### 2","source":"_posts/2-var-const-let.md","raw":"---\ntitle: varconstlet\ndate: 2022-03-26 21:04:12\ntags:\n---\n\n#### 1varwindowconstlet\n```javascript\nvar a = 100;\nconsole.log(a,window.a);    // 100 100\nlet b = 10;\nconsole.log(b,window.b);    // 10 undefined\nconst c = 1;\nconsole.log(c,window.c);    // 1 undefined\n```\nletconstScriptvarGlobalwindowGlobal[letconst](https://zhuanlan.zhihu.com/p/114128108)\n\n#### 2","slug":"2-var-const-let","published":1,"updated":"2022-11-23T00:33:39.020Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baip000lnwvaagyt0nix","content":"<h4 id=\"1varwindowconstlet\"><a href=\"#1varwindowconstlet\" class=\"headerlink\" title=\"1varwindowconstlet\"></a>1varwindowconstlet</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">100</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(a,<span class=\"built_in\">window</span>.a);    <span class=\"comment\">// 100 100</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> b = <span class=\"number\">10</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(b,<span class=\"built_in\">window</span>.b);    <span class=\"comment\">// 10 undefined</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> c = <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(c,<span class=\"built_in\">window</span>.c);    <span class=\"comment\">// 1 undefined</span></span><br></pre></td></tr></table></figure>\n<p>letconstScriptvarGlobalwindowGlobal<a href=\"https://zhuanlan.zhihu.com/p/114128108\">letconst</a></p>\n<h4 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h4>","site":{"data":{}},"excerpt":"","more":"<h4 id=\"1varwindowconstlet\"><a href=\"#1varwindowconstlet\" class=\"headerlink\" title=\"1varwindowconstlet\"></a>1varwindowconstlet</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">100</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(a,<span class=\"built_in\">window</span>.a);    <span class=\"comment\">// 100 100</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> b = <span class=\"number\">10</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(b,<span class=\"built_in\">window</span>.b);    <span class=\"comment\">// 10 undefined</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> c = <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(c,<span class=\"built_in\">window</span>.c);    <span class=\"comment\">// 1 undefined</span></span><br></pre></td></tr></table></figure>\n<p>letconstScriptvarGlobalwindowGlobal<a href=\"https://zhuanlan.zhihu.com/p/114128108\">letconst</a></p>\n<h4 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h4>"},{"title":"Map ","date":"2022-08-04T06:07:12.000Z","_content":"\n#### Map?\nES6mapObject - map - Hash\n\n#### map\n```javascript\nconst map = new Map();\n```\nmap\n```javascript\nconst map = new Map();\nconst o = { p: 'string' };\n\nmap.set(o, 'text');\nmap.get(o); // text\n\nmap.has(o); // true\nmap.delete(o);\n```\nmap\n```javascript\nconst map = new Map([['name', 'Tom'], ['age', 12]]);\nmap.size; // 2\nmap.has('name'); // true\nmap.get('age'); // 12\n```\n\n##### \n\n```javascript\nmap.set(1, 'qw').set(1, 'sdf');\nmap.get(1); // sdf\n```\n\n#### map\n1size\nmap.size\nmap\nmap\n```javascript\nconst map = new Map();\nmap.size; // 0\nmap.set(1, 12);\nmap.size; // 1\n```\n\n2set()\nmap.set(key, value)\nmapmap\nmap\n```javascript\nconst map = new Map();\nmap.set(1, 12);\n```\n\n3get()\nmap.get(key)\nkeyvalue\nmapkeykeyundefined\n```javascript\nconst map = new Map();\nmap.set(1, 12);\nmap.get(1); // 12\nmap.get(2); // undefined\n```\n\n4has()\nmap.has(key)\nmapkey\ntrue/falsemapkeytruefalse\n```javascript\nconst map = new Map();\nmap.set(1, 12);\nmap.has(1); // true\nmap.has(2); // has\n```\n\n5delete()\nmap.delete(key)\nmapkeyvalue\ntrue/falsetruefalse\n```javascript\nconst map = new Map();\nmap.set(1, 12);\nmap.delete(1); // true\nmap.delete(2); // false\n```\n\n6clear()\nmap.clear()\nmap\nundefined\n```javascript\nconst map = new Map();\nmap.set(1, 12);\nmap.clear(); // undefined\n```\n\n#### map\n1keys()\n2values()\n3entries()\n4forEach()\n\nhttps://www.jianshu.com/p/93b5a5940de8","source":"_posts/19-about-map.md","raw":"---\ntitle: Map \ndate: 2022-08-04 14:07:12\ntags:\n---\n\n#### Map?\nES6mapObject - map - Hash\n\n#### map\n```javascript\nconst map = new Map();\n```\nmap\n```javascript\nconst map = new Map();\nconst o = { p: 'string' };\n\nmap.set(o, 'text');\nmap.get(o); // text\n\nmap.has(o); // true\nmap.delete(o);\n```\nmap\n```javascript\nconst map = new Map([['name', 'Tom'], ['age', 12]]);\nmap.size; // 2\nmap.has('name'); // true\nmap.get('age'); // 12\n```\n\n##### \n\n```javascript\nmap.set(1, 'qw').set(1, 'sdf');\nmap.get(1); // sdf\n```\n\n#### map\n1size\nmap.size\nmap\nmap\n```javascript\nconst map = new Map();\nmap.size; // 0\nmap.set(1, 12);\nmap.size; // 1\n```\n\n2set()\nmap.set(key, value)\nmapmap\nmap\n```javascript\nconst map = new Map();\nmap.set(1, 12);\n```\n\n3get()\nmap.get(key)\nkeyvalue\nmapkeykeyundefined\n```javascript\nconst map = new Map();\nmap.set(1, 12);\nmap.get(1); // 12\nmap.get(2); // undefined\n```\n\n4has()\nmap.has(key)\nmapkey\ntrue/falsemapkeytruefalse\n```javascript\nconst map = new Map();\nmap.set(1, 12);\nmap.has(1); // true\nmap.has(2); // has\n```\n\n5delete()\nmap.delete(key)\nmapkeyvalue\ntrue/falsetruefalse\n```javascript\nconst map = new Map();\nmap.set(1, 12);\nmap.delete(1); // true\nmap.delete(2); // false\n```\n\n6clear()\nmap.clear()\nmap\nundefined\n```javascript\nconst map = new Map();\nmap.set(1, 12);\nmap.clear(); // undefined\n```\n\n#### map\n1keys()\n2values()\n3entries()\n4forEach()\n\nhttps://www.jianshu.com/p/93b5a5940de8","slug":"19-about-map","published":1,"updated":"2022-11-23T00:33:39.019Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baiq000nnwva7zmc7a4y","content":"<h4 id=\"Map\"><a href=\"#Map\" class=\"headerlink\" title=\"Map?\"></a>Map?</h4><p>ES6mapObject - map - Hash</p>\n<h4 id=\"map\"><a href=\"#map\" class=\"headerlink\" title=\"map\"></a>map</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br></pre></td></tr></table></figure>\n<p>map</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\"><span class=\"keyword\">const</span> o = &#123; <span class=\"attr\">p</span>: <span class=\"string\">&#x27;string&#x27;</span> &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">map.set(o, <span class=\"string\">&#x27;text&#x27;</span>);</span><br><span class=\"line\">map.get(o); <span class=\"comment\">// text</span></span><br><span class=\"line\"></span><br><span class=\"line\">map.has(o); <span class=\"comment\">// true</span></span><br><span class=\"line\">map.delete(o);</span><br></pre></td></tr></table></figure>\n<p>map</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>([[<span class=\"string\">&#x27;name&#x27;</span>, <span class=\"string\">&#x27;Tom&#x27;</span>], [<span class=\"string\">&#x27;age&#x27;</span>, <span class=\"number\">12</span>]]);</span><br><span class=\"line\">map.size; <span class=\"comment\">// 2</span></span><br><span class=\"line\">map.has(<span class=\"string\">&#x27;name&#x27;</span>); <span class=\"comment\">// true</span></span><br><span class=\"line\">map.get(<span class=\"string\">&#x27;age&#x27;</span>); <span class=\"comment\">// 12</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"string\">&#x27;qw&#x27;</span>).set(<span class=\"number\">1</span>, <span class=\"string\">&#x27;sdf&#x27;</span>);</span><br><span class=\"line\">map.get(<span class=\"number\">1</span>); <span class=\"comment\">// sdf</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"map\"><a href=\"#map\" class=\"headerlink\" title=\"map\"></a>map</h4><p>1size<br>map.size<br>map<br>map</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.size; <span class=\"comment\">// 0</span></span><br><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"number\">12</span>);</span><br><span class=\"line\">map.size; <span class=\"comment\">// 1</span></span><br></pre></td></tr></table></figure>\n\n<p>2set()<br>map.set(key, value)<br>mapmap<br>map</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"number\">12</span>);</span><br></pre></td></tr></table></figure>\n\n<p>3get()<br>map.get(key)<br>keyvalue<br>mapkeykeyundefined</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"number\">12</span>);</span><br><span class=\"line\">map.get(<span class=\"number\">1</span>); <span class=\"comment\">// 12</span></span><br><span class=\"line\">map.get(<span class=\"number\">2</span>); <span class=\"comment\">// undefined</span></span><br></pre></td></tr></table></figure>\n\n<p>4has()<br>map.has(key)<br>mapkey<br>true/falsemapkeytruefalse</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"number\">12</span>);</span><br><span class=\"line\">map.has(<span class=\"number\">1</span>); <span class=\"comment\">// true</span></span><br><span class=\"line\">map.has(<span class=\"number\">2</span>); <span class=\"comment\">// has</span></span><br></pre></td></tr></table></figure>\n\n<p>5delete()<br>map.delete(key)<br>mapkeyvalue<br>true/falsetruefalse</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"number\">12</span>);</span><br><span class=\"line\">map.delete(<span class=\"number\">1</span>); <span class=\"comment\">// true</span></span><br><span class=\"line\">map.delete(<span class=\"number\">2</span>); <span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure>\n\n<p>6clear()<br>map.clear()<br>map<br>undefined</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"number\">12</span>);</span><br><span class=\"line\">map.clear(); <span class=\"comment\">// undefined</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"map\"><a href=\"#map\" class=\"headerlink\" title=\"map\"></a>map</h4><p>1keys()<br>2values()<br>3entries()<br>4forEach()</p>\n<p><a href=\"https://www.jianshu.com/p/93b5a5940de8\">https://www.jianshu.com/p/93b5a5940de8</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"Map\"><a href=\"#Map\" class=\"headerlink\" title=\"Map?\"></a>Map?</h4><p>ES6mapObject - map - Hash</p>\n<h4 id=\"map\"><a href=\"#map\" class=\"headerlink\" title=\"map\"></a>map</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br></pre></td></tr></table></figure>\n<p>map</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\"><span class=\"keyword\">const</span> o = &#123; <span class=\"attr\">p</span>: <span class=\"string\">&#x27;string&#x27;</span> &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">map.set(o, <span class=\"string\">&#x27;text&#x27;</span>);</span><br><span class=\"line\">map.get(o); <span class=\"comment\">// text</span></span><br><span class=\"line\"></span><br><span class=\"line\">map.has(o); <span class=\"comment\">// true</span></span><br><span class=\"line\">map.delete(o);</span><br></pre></td></tr></table></figure>\n<p>map</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>([[<span class=\"string\">&#x27;name&#x27;</span>, <span class=\"string\">&#x27;Tom&#x27;</span>], [<span class=\"string\">&#x27;age&#x27;</span>, <span class=\"number\">12</span>]]);</span><br><span class=\"line\">map.size; <span class=\"comment\">// 2</span></span><br><span class=\"line\">map.has(<span class=\"string\">&#x27;name&#x27;</span>); <span class=\"comment\">// true</span></span><br><span class=\"line\">map.get(<span class=\"string\">&#x27;age&#x27;</span>); <span class=\"comment\">// 12</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"string\">&#x27;qw&#x27;</span>).set(<span class=\"number\">1</span>, <span class=\"string\">&#x27;sdf&#x27;</span>);</span><br><span class=\"line\">map.get(<span class=\"number\">1</span>); <span class=\"comment\">// sdf</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"map\"><a href=\"#map\" class=\"headerlink\" title=\"map\"></a>map</h4><p>1size<br>map.size<br>map<br>map</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.size; <span class=\"comment\">// 0</span></span><br><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"number\">12</span>);</span><br><span class=\"line\">map.size; <span class=\"comment\">// 1</span></span><br></pre></td></tr></table></figure>\n\n<p>2set()<br>map.set(key, value)<br>mapmap<br>map</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"number\">12</span>);</span><br></pre></td></tr></table></figure>\n\n<p>3get()<br>map.get(key)<br>keyvalue<br>mapkeykeyundefined</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"number\">12</span>);</span><br><span class=\"line\">map.get(<span class=\"number\">1</span>); <span class=\"comment\">// 12</span></span><br><span class=\"line\">map.get(<span class=\"number\">2</span>); <span class=\"comment\">// undefined</span></span><br></pre></td></tr></table></figure>\n\n<p>4has()<br>map.has(key)<br>mapkey<br>true/falsemapkeytruefalse</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"number\">12</span>);</span><br><span class=\"line\">map.has(<span class=\"number\">1</span>); <span class=\"comment\">// true</span></span><br><span class=\"line\">map.has(<span class=\"number\">2</span>); <span class=\"comment\">// has</span></span><br></pre></td></tr></table></figure>\n\n<p>5delete()<br>map.delete(key)<br>mapkeyvalue<br>true/falsetruefalse</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"number\">12</span>);</span><br><span class=\"line\">map.delete(<span class=\"number\">1</span>); <span class=\"comment\">// true</span></span><br><span class=\"line\">map.delete(<span class=\"number\">2</span>); <span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure>\n\n<p>6clear()<br>map.clear()<br>map<br>undefined</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"number\">12</span>);</span><br><span class=\"line\">map.clear(); <span class=\"comment\">// undefined</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"map\"><a href=\"#map\" class=\"headerlink\" title=\"map\"></a>map</h4><p>1keys()<br>2values()<br>3entries()<br>4forEach()</p>\n<p><a href=\"https://www.jianshu.com/p/93b5a5940de8\">https://www.jianshu.com/p/93b5a5940de8</a></p>\n"},{"title":"vscode","date":"2022-08-05T02:33:23.000Z","_content":"\n#### vscode\nhttps://www.bookstack.cn/read/CN-VScode-Docs/README.md\n\n#### vscode\n\n```javascript\nnpm install -g yo generator-code\n```\nvscode\n```javascript\nyo code\n```","source":"_posts/20-create-vscode-plugin.md","raw":"---\ntitle: vscode\ndate: 2022-08-05 10:33:23\ntags:\n---\n\n#### vscode\nhttps://www.bookstack.cn/read/CN-VScode-Docs/README.md\n\n#### vscode\n\n```javascript\nnpm install -g yo generator-code\n```\nvscode\n```javascript\nyo code\n```","slug":"20-create-vscode-plugin","published":1,"updated":"2022-11-23T00:33:39.021Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62bais000pnwvadx533pxx","content":"<h4 id=\"vscode\"><a href=\"#vscode\" class=\"headerlink\" title=\"vscode\"></a>vscode</h4><p><a href=\"https://www.bookstack.cn/read/CN-VScode-Docs/README.md\">https://www.bookstack.cn/read/CN-VScode-Docs/README.md</a></p>\n<h4 id=\"vscode\"><a href=\"#vscode\" class=\"headerlink\" title=\"vscode\"></a>vscode</h4><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g yo generator-code</span><br></pre></td></tr></table></figure>\n<p>vscode</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yo code</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<h4 id=\"vscode\"><a href=\"#vscode\" class=\"headerlink\" title=\"vscode\"></a>vscode</h4><p><a href=\"https://www.bookstack.cn/read/CN-VScode-Docs/README.md\">https://www.bookstack.cn/read/CN-VScode-Docs/README.md</a></p>\n<h4 id=\"vscode\"><a href=\"#vscode\" class=\"headerlink\" title=\"vscode\"></a>vscode</h4><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g yo generator-code</span><br></pre></td></tr></table></figure>\n<p>vscode</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yo code</span><br></pre></td></tr></table></figure>"},{"title":"-Symbol","date":"2022-08-19T05:37:24.000Z","_content":"\n#### Symbol?\n\n\n\n#### \n\n#### Symbol\n\n#### Symbol\n","source":"_posts/22-about-symbol.md","raw":"---\ntitle: -Symbol\ndate: 2022-08-19 13:37:24\ntags:\n---\n\n#### Symbol?\n\n\n\n#### \n\n#### Symbol\n\n#### Symbol\n","slug":"22-about-symbol","published":1,"updated":"2022-11-23T00:33:39.024Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62bait000rnwvago9o7dvg","content":"<h4 id=\"Symbol\"><a href=\"#Symbol\" class=\"headerlink\" title=\"Symbol?\"></a>Symbol?</h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"Symbol\"><a href=\"#Symbol\" class=\"headerlink\" title=\"Symbol\"></a>Symbol</h4><h4 id=\"Symbol\"><a href=\"#Symbol\" class=\"headerlink\" title=\"Symbol\"></a>Symbol</h4>","site":{"data":{}},"excerpt":"","more":"<h4 id=\"Symbol\"><a href=\"#Symbol\" class=\"headerlink\" title=\"Symbol?\"></a>Symbol?</h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"Symbol\"><a href=\"#Symbol\" class=\"headerlink\" title=\"Symbol\"></a>Symbol</h4><h4 id=\"Symbol\"><a href=\"#Symbol\" class=\"headerlink\" title=\"Symbol\"></a>Symbol</h4>"},{"title":"","date":"2022-08-09T05:43:57.000Z","_content":"\n'hello world'.length\n\n#### \n\n\n\n(String)(Number)(Boolean)(Null)(Undefined)Symbol\n(Object)(Array)(Function)\n StringNumberBooleanSymbol\n\n\n JavaScript JavaScript  Object \n\n#### \n\n\n###### \nnew\n```JavaScript\nvar string = new String('test_string');\nvar number = new Number(1);\n```\nnew\n```JavaScript\nvar string = new String('test_string');\nstring.name = 'for test';\nstring.sayHi = function(){\n    console.log('this is test string');\n}\nconsole.log(string.name); // for test\nstring.sayHi(); // this is test string\n```\n\n###### \n\n'test_string'.substring()'test_string'.indexOf()\n\n\n```JavaScript\n// \nvar string = 'test_string';\n// \nvar result = string.substring(4);\nconsole.log(result); // _string\n```\n\n1String\n2\n3\n```JavaScript\nvar string = 'test_string';\n// 1\nvar newString = new String(string);\n// 2\nvar result = newString.substring(4);\n// 3\nnewString = null;\n```\n\n\n\n\n\n\nnew\n#### \nvalueOf()toString()toString()valueOf()\ntoString()  valueOf() \n```JavaScript\nvar numberObj = new Number(64);\nvar stringObj = new String('64');\nconsole.log(typeof numberObj); // object\nconsole.log(typeof stringObj); // object\n// \nconsole.log(numberObj.valueOf()); // 64\nconsole.log(typeof numberObj.valueOf()); // number \nconsole.log(numberObj.toString()); // '64'\nconsole.log(typeof numberObj.toString()); // string \n\nconsole.log(stringObj.valueOf()); // '64'\nconsole.log(typeof stringObj.valueOf()); // string \nconsole.log(stringObj.toString()); // '64'\nconsole.log(typeof stringObj.toString()); // string \n```\ntoString()valueOf()symbol\n\nSymbol\n\n###### Symbol\nSymbol  ECMAScript 2015 \nSymbol\n```JavaScript\nlet sym1 = Symbol();\nlet sym2 = Symbol('sym');\n```\n\n1Symbolsymbol\n2new Symbol ECMAScript 6   new Booleannew Stringnew Number\n3symbolsymbolsymbol\n4SymbolObject()\n```JavaScript\n// 1\nSymbol('sym') === Symbol('sym'); // false\n// 2\nlet sym = new Symbol(); // TypeError: Symbol is not a constructor\n// 4\nlet sym2 = Symbol('sym');\ntypeof sym2; // 'symbol'\nlet sym2Obj = Object(sym2);\ntypeof sym2Obj; // 'object'\n```\n[symbol](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol)[Symbol.toPrimitive](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toPrimitive)\n\nSymbol.toPrimitive  Symbol  hint  hint  \"number\"\"string\"  \"default\" \n\n\n```JavaScript\n//  Symbol.toPrimitive \nvar obj1 = {};\nconsole.log(+obj1);     // NaN\nconsole.log(`${obj1}`); // \"[object Object]\"\nconsole.log(obj1 + \"\"); // \"[object Object]\"\n\n//  Symbol.toPrimitive \nvar obj2 = {\n  [Symbol.toPrimitive](hint) {\n    if (hint == \"number\") {\n      return 10;\n    }\n    if (hint == \"string\") {\n      return \"hello\";\n    }\n    return true;\n  }\n};\nconsole.log(+obj2);     // 10      -- hint  \"number\"\nconsole.log(`${obj2}`); // \"hello\" -- hint  \"string\"\nconsole.log(obj2 + \"\"); // \"true\"  -- hint  \"default\"\n```\n\nhint \n'number':\n'string':\n'default':\n\n#### \n\n1/[Symbol.toPrimitive/]/(hint/)\n2toString()\n3valueOf()\nvalueOf()toString()toString()\n```JavaScript\nvar obj = {\n  [Symbol.toPrimitive](hint) {\n    console.log(hint);\n    return 'symbol';\n  },\n  toString() {\n    return 'string';\n  },\n  valueOf() {\n    return 'valueOf';\n  }\n};\nconsole.log(String(obj)); // string symbol\nconsole.log(Number(obj)); // number NaN\n\nvar obj1 = {\n  toString() {\n    return 'string';\n  },\n  valueOf() {\n    return 'valueOf';\n  }\n};\nconsole.log(String(obj1)); // string\nconsole.log(Number(obj1)); // NaN\n\nvar obj2 = {\n  toString() {\n    return '1';\n  },\n};\nconsole.log(String(obj2)); // '1'\nconsole.log(Number(obj2)); // 1\n\nvar obj3 = {\n  valueOf() {\n    return '2';\n  }\n};\nconsole.log(Number(obj3)); // 2\nconsole.log(String(obj3)); // [object Object]\n```","source":"_posts/21-devan-operation.md","raw":"---\ntitle: \ndate: 2022-08-09 13:43:57\ntags:\n---\n\n'hello world'.length\n\n#### \n\n\n\n(String)(Number)(Boolean)(Null)(Undefined)Symbol\n(Object)(Array)(Function)\n StringNumberBooleanSymbol\n\n\n JavaScript JavaScript  Object \n\n#### \n\n\n###### \nnew\n```JavaScript\nvar string = new String('test_string');\nvar number = new Number(1);\n```\nnew\n```JavaScript\nvar string = new String('test_string');\nstring.name = 'for test';\nstring.sayHi = function(){\n    console.log('this is test string');\n}\nconsole.log(string.name); // for test\nstring.sayHi(); // this is test string\n```\n\n###### \n\n'test_string'.substring()'test_string'.indexOf()\n\n\n```JavaScript\n// \nvar string = 'test_string';\n// \nvar result = string.substring(4);\nconsole.log(result); // _string\n```\n\n1String\n2\n3\n```JavaScript\nvar string = 'test_string';\n// 1\nvar newString = new String(string);\n// 2\nvar result = newString.substring(4);\n// 3\nnewString = null;\n```\n\n\n\n\n\n\nnew\n#### \nvalueOf()toString()toString()valueOf()\ntoString()  valueOf() \n```JavaScript\nvar numberObj = new Number(64);\nvar stringObj = new String('64');\nconsole.log(typeof numberObj); // object\nconsole.log(typeof stringObj); // object\n// \nconsole.log(numberObj.valueOf()); // 64\nconsole.log(typeof numberObj.valueOf()); // number \nconsole.log(numberObj.toString()); // '64'\nconsole.log(typeof numberObj.toString()); // string \n\nconsole.log(stringObj.valueOf()); // '64'\nconsole.log(typeof stringObj.valueOf()); // string \nconsole.log(stringObj.toString()); // '64'\nconsole.log(typeof stringObj.toString()); // string \n```\ntoString()valueOf()symbol\n\nSymbol\n\n###### Symbol\nSymbol  ECMAScript 2015 \nSymbol\n```JavaScript\nlet sym1 = Symbol();\nlet sym2 = Symbol('sym');\n```\n\n1Symbolsymbol\n2new Symbol ECMAScript 6   new Booleannew Stringnew Number\n3symbolsymbolsymbol\n4SymbolObject()\n```JavaScript\n// 1\nSymbol('sym') === Symbol('sym'); // false\n// 2\nlet sym = new Symbol(); // TypeError: Symbol is not a constructor\n// 4\nlet sym2 = Symbol('sym');\ntypeof sym2; // 'symbol'\nlet sym2Obj = Object(sym2);\ntypeof sym2Obj; // 'object'\n```\n[symbol](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol)[Symbol.toPrimitive](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toPrimitive)\n\nSymbol.toPrimitive  Symbol  hint  hint  \"number\"\"string\"  \"default\" \n\n\n```JavaScript\n//  Symbol.toPrimitive \nvar obj1 = {};\nconsole.log(+obj1);     // NaN\nconsole.log(`${obj1}`); // \"[object Object]\"\nconsole.log(obj1 + \"\"); // \"[object Object]\"\n\n//  Symbol.toPrimitive \nvar obj2 = {\n  [Symbol.toPrimitive](hint) {\n    if (hint == \"number\") {\n      return 10;\n    }\n    if (hint == \"string\") {\n      return \"hello\";\n    }\n    return true;\n  }\n};\nconsole.log(+obj2);     // 10      -- hint  \"number\"\nconsole.log(`${obj2}`); // \"hello\" -- hint  \"string\"\nconsole.log(obj2 + \"\"); // \"true\"  -- hint  \"default\"\n```\n\nhint \n'number':\n'string':\n'default':\n\n#### \n\n1/[Symbol.toPrimitive/]/(hint/)\n2toString()\n3valueOf()\nvalueOf()toString()toString()\n```JavaScript\nvar obj = {\n  [Symbol.toPrimitive](hint) {\n    console.log(hint);\n    return 'symbol';\n  },\n  toString() {\n    return 'string';\n  },\n  valueOf() {\n    return 'valueOf';\n  }\n};\nconsole.log(String(obj)); // string symbol\nconsole.log(Number(obj)); // number NaN\n\nvar obj1 = {\n  toString() {\n    return 'string';\n  },\n  valueOf() {\n    return 'valueOf';\n  }\n};\nconsole.log(String(obj1)); // string\nconsole.log(Number(obj1)); // NaN\n\nvar obj2 = {\n  toString() {\n    return '1';\n  },\n};\nconsole.log(String(obj2)); // '1'\nconsole.log(Number(obj2)); // 1\n\nvar obj3 = {\n  valueOf() {\n    return '2';\n  }\n};\nconsole.log(Number(obj3)); // 2\nconsole.log(String(obj3)); // [object Object]\n```","slug":"21-devan-operation","published":1,"updated":"2022-11-23T00:33:39.023Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baiu000snwva3n9tazv8","content":"<p>hello world.length</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br></p>\n<p>(String)(Number)(Boolean)(Null)(Undefined)Symbol<br>(Object)(Array)(Function)<br> StringNumberBooleanSymbol</p>\n<p><br> JavaScript JavaScript  Object </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>new</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> string = <span class=\"keyword\">new</span> <span class=\"built_in\">String</span>(<span class=\"string\">&#x27;test_string&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> number = <span class=\"keyword\">new</span> <span class=\"built_in\">Number</span>(<span class=\"number\">1</span>);</span><br></pre></td></tr></table></figure>\n<p>new</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> string = <span class=\"keyword\">new</span> <span class=\"built_in\">String</span>(<span class=\"string\">&#x27;test_string&#x27;</span>);</span><br><span class=\"line\">string.name = <span class=\"string\">&#x27;for test&#x27;</span>;</span><br><span class=\"line\">string.sayHi = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;this is test string&#x27;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(string.name); <span class=\"comment\">// for test</span></span><br><span class=\"line\">string.sayHi(); <span class=\"comment\">// this is test string</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><br>test_string.substring()test_string.indexOf()</p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> string = <span class=\"string\">&#x27;test_string&#x27;</span>;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> result = string.substring(<span class=\"number\">4</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(result); <span class=\"comment\">// _string</span></span><br></pre></td></tr></table></figure>\n<p><br>1String<br>2<br>3</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> string = <span class=\"string\">&#x27;test_string&#x27;</span>;</span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> newString = <span class=\"keyword\">new</span> <span class=\"built_in\">String</span>(string);</span><br><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> result = newString.substring(<span class=\"number\">4</span>);</span><br><span class=\"line\"><span class=\"comment\">// 3</span></span><br><span class=\"line\">newString = <span class=\"literal\">null</span>;</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<p></p>\n<p>new</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>valueOf()toString()toString()valueOf()<br>toString()  valueOf() </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> numberObj = <span class=\"keyword\">new</span> <span class=\"built_in\">Number</span>(<span class=\"number\">64</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> stringObj = <span class=\"keyword\">new</span> <span class=\"built_in\">String</span>(<span class=\"string\">&#x27;64&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">typeof</span> numberObj); <span class=\"comment\">// object</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">typeof</span> stringObj); <span class=\"comment\">// object</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(numberObj.valueOf()); <span class=\"comment\">// 64</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">typeof</span> numberObj.valueOf()); <span class=\"comment\">// number </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(numberObj.toString()); <span class=\"comment\">// &#x27;64&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">typeof</span> numberObj.toString()); <span class=\"comment\">// string </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(stringObj.valueOf()); <span class=\"comment\">// &#x27;64&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">typeof</span> stringObj.valueOf()); <span class=\"comment\">// string </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(stringObj.toString()); <span class=\"comment\">// &#x27;64&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">typeof</span> stringObj.toString()); <span class=\"comment\">// string </span></span><br></pre></td></tr></table></figure>\n<p>toString()valueOf()symbol</p>\n<p>Symbol</p>\n<h6 id=\"Symbol\"><a href=\"#Symbol\" class=\"headerlink\" title=\"Symbol\"></a>Symbol</h6><p>Symbol  ECMAScript 2015 <br>Symbol</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> sym1 = <span class=\"built_in\">Symbol</span>();</span><br><span class=\"line\"><span class=\"keyword\">let</span> sym2 = <span class=\"built_in\">Symbol</span>(<span class=\"string\">&#x27;sym&#x27;</span>);</span><br></pre></td></tr></table></figure>\n<p><br>1Symbolsymbol<br>2new Symbol ECMAScript 6   new Booleannew Stringnew Number<br>3symbolsymbolsymbol<br>4SymbolObject()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"built_in\">Symbol</span>(<span class=\"string\">&#x27;sym&#x27;</span>) === <span class=\"built_in\">Symbol</span>(<span class=\"string\">&#x27;sym&#x27;</span>); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> sym = <span class=\"keyword\">new</span> <span class=\"built_in\">Symbol</span>(); <span class=\"comment\">// TypeError: Symbol is not a constructor</span></span><br><span class=\"line\"><span class=\"comment\">// 4</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> sym2 = <span class=\"built_in\">Symbol</span>(<span class=\"string\">&#x27;sym&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">typeof</span> sym2; <span class=\"comment\">// &#x27;symbol&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> sym2Obj = <span class=\"built_in\">Object</span>(sym2);</span><br><span class=\"line\"><span class=\"keyword\">typeof</span> sym2Obj; <span class=\"comment\">// &#x27;object&#x27;</span></span><br></pre></td></tr></table></figure>\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol\">symbol</a><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toPrimitive\">Symbol.toPrimitive</a></p>\n<p>Symbol.toPrimitive  Symbol  hint  hint  numberstring  default </p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  Symbol.toPrimitive </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj1 = &#123;&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(+obj1);     <span class=\"comment\">// NaN</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">`<span class=\"subst\">$&#123;obj1&#125;</span>`</span>); <span class=\"comment\">// &quot;[object Object]&quot;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj1 + <span class=\"string\">&quot;&quot;</span>); <span class=\"comment\">// &quot;[object Object]&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  Symbol.toPrimitive </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj2 = &#123;</span><br><span class=\"line\">  [<span class=\"built_in\">Symbol</span>.toPrimitive](hint) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (hint == <span class=\"string\">&quot;number&quot;</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"number\">10</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (hint == <span class=\"string\">&quot;string&quot;</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">&quot;hello&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(+obj2);     <span class=\"comment\">// 10      -- hint  &quot;number&quot;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">`<span class=\"subst\">$&#123;obj2&#125;</span>`</span>); <span class=\"comment\">// &quot;hello&quot; -- hint  &quot;string&quot;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj2 + <span class=\"string\">&quot;&quot;</span>); <span class=\"comment\">// &quot;true&quot;  -- hint  &quot;default&quot;</span></span><br></pre></td></tr></table></figure>\n<p><br>hint <br>number:<br>string:<br>default:</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>1/[Symbol.toPrimitive/]/(hint/)<br>2toString()<br>3valueOf()<br>valueOf()toString()toString()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">  [<span class=\"built_in\">Symbol</span>.toPrimitive](hint) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(hint);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;symbol&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;string&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">valueOf</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;valueOf&#x27;</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">String</span>(obj)); <span class=\"comment\">// string symbol</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Number</span>(obj)); <span class=\"comment\">// number NaN</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj1 = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;string&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">valueOf</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;valueOf&#x27;</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">String</span>(obj1)); <span class=\"comment\">// string</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Number</span>(obj1)); <span class=\"comment\">// NaN</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj2 = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;1&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">String</span>(obj2)); <span class=\"comment\">// &#x27;1&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Number</span>(obj2)); <span class=\"comment\">// 1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj3 = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">valueOf</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;2&#x27;</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Number</span>(obj3)); <span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">String</span>(obj3)); <span class=\"comment\">// [object Object]</span></span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<p>hello world.length</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br></p>\n<p>(String)(Number)(Boolean)(Null)(Undefined)Symbol<br>(Object)(Array)(Function)<br> StringNumberBooleanSymbol</p>\n<p><br> JavaScript JavaScript  Object </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>new</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> string = <span class=\"keyword\">new</span> <span class=\"built_in\">String</span>(<span class=\"string\">&#x27;test_string&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> number = <span class=\"keyword\">new</span> <span class=\"built_in\">Number</span>(<span class=\"number\">1</span>);</span><br></pre></td></tr></table></figure>\n<p>new</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> string = <span class=\"keyword\">new</span> <span class=\"built_in\">String</span>(<span class=\"string\">&#x27;test_string&#x27;</span>);</span><br><span class=\"line\">string.name = <span class=\"string\">&#x27;for test&#x27;</span>;</span><br><span class=\"line\">string.sayHi = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;this is test string&#x27;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(string.name); <span class=\"comment\">// for test</span></span><br><span class=\"line\">string.sayHi(); <span class=\"comment\">// this is test string</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><br>test_string.substring()test_string.indexOf()</p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> string = <span class=\"string\">&#x27;test_string&#x27;</span>;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> result = string.substring(<span class=\"number\">4</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(result); <span class=\"comment\">// _string</span></span><br></pre></td></tr></table></figure>\n<p><br>1String<br>2<br>3</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> string = <span class=\"string\">&#x27;test_string&#x27;</span>;</span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> newString = <span class=\"keyword\">new</span> <span class=\"built_in\">String</span>(string);</span><br><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> result = newString.substring(<span class=\"number\">4</span>);</span><br><span class=\"line\"><span class=\"comment\">// 3</span></span><br><span class=\"line\">newString = <span class=\"literal\">null</span>;</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<p></p>\n<p>new</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>valueOf()toString()toString()valueOf()<br>toString()  valueOf() </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> numberObj = <span class=\"keyword\">new</span> <span class=\"built_in\">Number</span>(<span class=\"number\">64</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> stringObj = <span class=\"keyword\">new</span> <span class=\"built_in\">String</span>(<span class=\"string\">&#x27;64&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">typeof</span> numberObj); <span class=\"comment\">// object</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">typeof</span> stringObj); <span class=\"comment\">// object</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(numberObj.valueOf()); <span class=\"comment\">// 64</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">typeof</span> numberObj.valueOf()); <span class=\"comment\">// number </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(numberObj.toString()); <span class=\"comment\">// &#x27;64&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">typeof</span> numberObj.toString()); <span class=\"comment\">// string </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(stringObj.valueOf()); <span class=\"comment\">// &#x27;64&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">typeof</span> stringObj.valueOf()); <span class=\"comment\">// string </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(stringObj.toString()); <span class=\"comment\">// &#x27;64&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">typeof</span> stringObj.toString()); <span class=\"comment\">// string </span></span><br></pre></td></tr></table></figure>\n<p>toString()valueOf()symbol</p>\n<p>Symbol</p>\n<h6 id=\"Symbol\"><a href=\"#Symbol\" class=\"headerlink\" title=\"Symbol\"></a>Symbol</h6><p>Symbol  ECMAScript 2015 <br>Symbol</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> sym1 = <span class=\"built_in\">Symbol</span>();</span><br><span class=\"line\"><span class=\"keyword\">let</span> sym2 = <span class=\"built_in\">Symbol</span>(<span class=\"string\">&#x27;sym&#x27;</span>);</span><br></pre></td></tr></table></figure>\n<p><br>1Symbolsymbol<br>2new Symbol ECMAScript 6   new Booleannew Stringnew Number<br>3symbolsymbolsymbol<br>4SymbolObject()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"built_in\">Symbol</span>(<span class=\"string\">&#x27;sym&#x27;</span>) === <span class=\"built_in\">Symbol</span>(<span class=\"string\">&#x27;sym&#x27;</span>); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> sym = <span class=\"keyword\">new</span> <span class=\"built_in\">Symbol</span>(); <span class=\"comment\">// TypeError: Symbol is not a constructor</span></span><br><span class=\"line\"><span class=\"comment\">// 4</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> sym2 = <span class=\"built_in\">Symbol</span>(<span class=\"string\">&#x27;sym&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">typeof</span> sym2; <span class=\"comment\">// &#x27;symbol&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> sym2Obj = <span class=\"built_in\">Object</span>(sym2);</span><br><span class=\"line\"><span class=\"keyword\">typeof</span> sym2Obj; <span class=\"comment\">// &#x27;object&#x27;</span></span><br></pre></td></tr></table></figure>\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol\">symbol</a><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toPrimitive\">Symbol.toPrimitive</a></p>\n<p>Symbol.toPrimitive  Symbol  hint  hint  numberstring  default </p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  Symbol.toPrimitive </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj1 = &#123;&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(+obj1);     <span class=\"comment\">// NaN</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">`<span class=\"subst\">$&#123;obj1&#125;</span>`</span>); <span class=\"comment\">// &quot;[object Object]&quot;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj1 + <span class=\"string\">&quot;&quot;</span>); <span class=\"comment\">// &quot;[object Object]&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  Symbol.toPrimitive </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj2 = &#123;</span><br><span class=\"line\">  [<span class=\"built_in\">Symbol</span>.toPrimitive](hint) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (hint == <span class=\"string\">&quot;number&quot;</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"number\">10</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (hint == <span class=\"string\">&quot;string&quot;</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">&quot;hello&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(+obj2);     <span class=\"comment\">// 10      -- hint  &quot;number&quot;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">`<span class=\"subst\">$&#123;obj2&#125;</span>`</span>); <span class=\"comment\">// &quot;hello&quot; -- hint  &quot;string&quot;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj2 + <span class=\"string\">&quot;&quot;</span>); <span class=\"comment\">// &quot;true&quot;  -- hint  &quot;default&quot;</span></span><br></pre></td></tr></table></figure>\n<p><br>hint <br>number:<br>string:<br>default:</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>1/[Symbol.toPrimitive/]/(hint/)<br>2toString()<br>3valueOf()<br>valueOf()toString()toString()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">  [<span class=\"built_in\">Symbol</span>.toPrimitive](hint) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(hint);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;symbol&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;string&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">valueOf</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;valueOf&#x27;</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">String</span>(obj)); <span class=\"comment\">// string symbol</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Number</span>(obj)); <span class=\"comment\">// number NaN</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj1 = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;string&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">valueOf</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;valueOf&#x27;</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">String</span>(obj1)); <span class=\"comment\">// string</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Number</span>(obj1)); <span class=\"comment\">// NaN</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj2 = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;1&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">String</span>(obj2)); <span class=\"comment\">// &#x27;1&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Number</span>(obj2)); <span class=\"comment\">// 1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj3 = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">valueOf</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;2&#x27;</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Number</span>(obj3)); <span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">String</span>(obj3)); <span class=\"comment\">// [object Object]</span></span><br></pre></td></tr></table></figure>"},{"title":"JavaScript(1)","date":"2022-08-20T06:47:46.000Z","_content":"\n#### \n\n))\n\n1(prototype)(****)\n(1)\n```javascript\nBook.prototype.display = function() {\n  // ....\n}\n```\n(2)\n```javascript\nBook.prototype = {\n  display = function() {}\n}\n```\n\n2this(prototype)\n(1)thisthis\n(2)prototypeprototype\n\n3constructor\nconstructorprototype prototype thisconstructorconstructor\n![prototype](prototype.png)\n\n4\n(1)\nJavaScript,\n(2)\n thisthis\n(3)()\nthis,\n![public-and-private](public-and-private.png)\n\n5 prototype\n(1)new,\n(2) prototype: prototype thisprototype\n![static-and-public](static-and-public.png)\nnew this prototypeprototype isChineseBookthis Book.isChinese prototype prototypeprototype\n\n6\n\n\n7\nnewthis,new this\n![safe-model](safe-model.png)\n\n\n1 - \n![class-inherit](class-inherit.png)\n2\n,,prototype_proto_\n,\n\n(1)instanceof\ninstanceof prototype\n**instanceof() subClass superClass superClasssubClass prototypeSubClass.prototypesuperClass**\n\n(2)\nprototype,\nprototype,\n\n2 - \n![constructor-inherit](constructor-inherit.png)\nSuperClass.call(thisid); callsuperClassthisprototype\n\n3 - \n(1)prototype,\n![combination-inherit](combination-inherit.png)\n\n(2)\n\n\n4 - \n![prototype-inherit](prototype-inherit.png)\n\n![test-prototype-inherit](test-prototype-inherit.png)\n\n5 - \n![parasitic-inherit](parasitic-inherit.png)\n,\n\n6 - \n\n\n\n![parasitic-inherit-change](parasitic-inherit-change.png)\n\n![parasitic-combination-inherit](parasitic-combination-inherit.png)\n\n![how-to-inherit](how-to-inherit.png)\n\n** prototype.**\n\n\n(extend)\n![multiple-inherit](multiple-inherit.png)\n\n\n\n![multiple-status](multiple-status.png)","source":"_posts/23-about-design-model.md","raw":"---\ntitle: JavaScript(1)\ndate: 2022-08-20 14:47:46\ntags:\n---\n\n#### \n\n))\n\n1(prototype)(****)\n(1)\n```javascript\nBook.prototype.display = function() {\n  // ....\n}\n```\n(2)\n```javascript\nBook.prototype = {\n  display = function() {}\n}\n```\n\n2this(prototype)\n(1)thisthis\n(2)prototypeprototype\n\n3constructor\nconstructorprototype prototype thisconstructorconstructor\n![prototype](prototype.png)\n\n4\n(1)\nJavaScript,\n(2)\n thisthis\n(3)()\nthis,\n![public-and-private](public-and-private.png)\n\n5 prototype\n(1)new,\n(2) prototype: prototype thisprototype\n![static-and-public](static-and-public.png)\nnew this prototypeprototype isChineseBookthis Book.isChinese prototype prototypeprototype\n\n6\n\n\n7\nnewthis,new this\n![safe-model](safe-model.png)\n\n\n1 - \n![class-inherit](class-inherit.png)\n2\n,,prototype_proto_\n,\n\n(1)instanceof\ninstanceof prototype\n**instanceof() subClass superClass superClasssubClass prototypeSubClass.prototypesuperClass**\n\n(2)\nprototype,\nprototype,\n\n2 - \n![constructor-inherit](constructor-inherit.png)\nSuperClass.call(thisid); callsuperClassthisprototype\n\n3 - \n(1)prototype,\n![combination-inherit](combination-inherit.png)\n\n(2)\n\n\n4 - \n![prototype-inherit](prototype-inherit.png)\n\n![test-prototype-inherit](test-prototype-inherit.png)\n\n5 - \n![parasitic-inherit](parasitic-inherit.png)\n,\n\n6 - \n\n\n\n![parasitic-inherit-change](parasitic-inherit-change.png)\n\n![parasitic-combination-inherit](parasitic-combination-inherit.png)\n\n![how-to-inherit](how-to-inherit.png)\n\n** prototype.**\n\n\n(extend)\n![multiple-inherit](multiple-inherit.png)\n\n\n\n![multiple-status](multiple-status.png)","slug":"23-about-design-model","published":1,"updated":"2022-11-23T00:33:39.025Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baiv000tnwva3ru84qjf","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>))<br><br>1(prototype)(<strong></strong>)<br>(1)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Book.prototype.display = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// ....</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>(2)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Book.prototype = &#123;</span><br><span class=\"line\">  display = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>2this(prototype)<br>(1)thisthis<br>(2)prototypeprototype</p>\n<p>3constructor<br>constructorprototype prototype thisconstructorconstructor<br><img src=\"/2022/08/20/23-about-design-model/prototype.png\" alt=\"prototype\"></p>\n<p>4<br>(1)<br>JavaScript,<br>(2)<br> thisthis<br>(3)()<br>this,<br><img src=\"/2022/08/20/23-about-design-model/public-and-private.png\" alt=\"public-and-private\"></p>\n<p>5 prototype<br>(1)new,<br>(2) prototype: prototype thisprototype<br><img src=\"/2022/08/20/23-about-design-model/static-and-public.png\" alt=\"static-and-public\"><br>new this prototypeprototype isChineseBookthis Book.isChinese prototype prototypeprototype</p>\n<p>6<br></p>\n<p>7<br>newthis,new this<br><img src=\"/2022/08/20/23-about-design-model/safe-model.png\" alt=\"safe-model\"></p>\n<p><br>1 - <br><img src=\"/2022/08/20/23-about-design-model/class-inherit.png\" alt=\"class-inherit\"><br>2<br>,,prototype_proto_<br>,</p>\n<p>(1)instanceof<br>instanceof prototype<br><strong>instanceof() subClass superClass superClasssubClass prototypeSubClass.prototypesuperClass</strong></p>\n<p>(2)<br>prototype,<br>prototype,</p>\n<p>2 - <br><img src=\"/2022/08/20/23-about-design-model/constructor-inherit.png\" alt=\"constructor-inherit\"><br>SuperClass.call(thisid); callsuperClassthisprototype</p>\n<p>3 - <br>(1)prototype,<br><img src=\"/2022/08/20/23-about-design-model/combination-inherit.png\" alt=\"combination-inherit\"><br><br>(2)<br></p>\n<p>4 - <br><img src=\"/2022/08/20/23-about-design-model/prototype-inherit.png\" alt=\"prototype-inherit\"><br><br><img src=\"/2022/08/20/23-about-design-model/test-prototype-inherit.png\" alt=\"test-prototype-inherit\"></p>\n<p>5 - <br><img src=\"/2022/08/20/23-about-design-model/parasitic-inherit.png\" alt=\"parasitic-inherit\"><br>,</p>\n<p>6 - <br></p>\n<p><br><img src=\"/2022/08/20/23-about-design-model/parasitic-inherit-change.png\" alt=\"parasitic-inherit-change\"></p>\n<p><img src=\"/2022/08/20/23-about-design-model/parasitic-combination-inherit.png\" alt=\"parasitic-combination-inherit\"></p>\n<p><img src=\"/2022/08/20/23-about-design-model/how-to-inherit.png\" alt=\"how-to-inherit\"></p>\n<p><strong> prototype.</strong></p>\n<p><br>(extend)<br><img src=\"/2022/08/20/23-about-design-model/multiple-inherit.png\" alt=\"multiple-inherit\"></p>\n<p><br><br><img src=\"/2022/08/20/23-about-design-model/multiple-status.png\" alt=\"multiple-status\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>))<br><br>1(prototype)(<strong></strong>)<br>(1)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Book.prototype.display = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// ....</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>(2)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Book.prototype = &#123;</span><br><span class=\"line\">  display = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>2this(prototype)<br>(1)thisthis<br>(2)prototypeprototype</p>\n<p>3constructor<br>constructorprototype prototype thisconstructorconstructor<br><img src=\"/2022/08/20/23-about-design-model/prototype.png\" alt=\"prototype\"></p>\n<p>4<br>(1)<br>JavaScript,<br>(2)<br> thisthis<br>(3)()<br>this,<br><img src=\"/2022/08/20/23-about-design-model/public-and-private.png\" alt=\"public-and-private\"></p>\n<p>5 prototype<br>(1)new,<br>(2) prototype: prototype thisprototype<br><img src=\"/2022/08/20/23-about-design-model/static-and-public.png\" alt=\"static-and-public\"><br>new this prototypeprototype isChineseBookthis Book.isChinese prototype prototypeprototype</p>\n<p>6<br></p>\n<p>7<br>newthis,new this<br><img src=\"/2022/08/20/23-about-design-model/safe-model.png\" alt=\"safe-model\"></p>\n<p><br>1 - <br><img src=\"/2022/08/20/23-about-design-model/class-inherit.png\" alt=\"class-inherit\"><br>2<br>,,prototype_proto_<br>,</p>\n<p>(1)instanceof<br>instanceof prototype<br><strong>instanceof() subClass superClass superClasssubClass prototypeSubClass.prototypesuperClass</strong></p>\n<p>(2)<br>prototype,<br>prototype,</p>\n<p>2 - <br><img src=\"/2022/08/20/23-about-design-model/constructor-inherit.png\" alt=\"constructor-inherit\"><br>SuperClass.call(thisid); callsuperClassthisprototype</p>\n<p>3 - <br>(1)prototype,<br><img src=\"/2022/08/20/23-about-design-model/combination-inherit.png\" alt=\"combination-inherit\"><br><br>(2)<br></p>\n<p>4 - <br><img src=\"/2022/08/20/23-about-design-model/prototype-inherit.png\" alt=\"prototype-inherit\"><br><br><img src=\"/2022/08/20/23-about-design-model/test-prototype-inherit.png\" alt=\"test-prototype-inherit\"></p>\n<p>5 - <br><img src=\"/2022/08/20/23-about-design-model/parasitic-inherit.png\" alt=\"parasitic-inherit\"><br>,</p>\n<p>6 - <br></p>\n<p><br><img src=\"/2022/08/20/23-about-design-model/parasitic-inherit-change.png\" alt=\"parasitic-inherit-change\"></p>\n<p><img src=\"/2022/08/20/23-about-design-model/parasitic-combination-inherit.png\" alt=\"parasitic-combination-inherit\"></p>\n<p><img src=\"/2022/08/20/23-about-design-model/how-to-inherit.png\" alt=\"how-to-inherit\"></p>\n<p><strong> prototype.</strong></p>\n<p><br>(extend)<br><img src=\"/2022/08/20/23-about-design-model/multiple-inherit.png\" alt=\"multiple-inherit\"></p>\n<p><br><br><img src=\"/2022/08/20/23-about-design-model/multiple-status.png\" alt=\"multiple-status\"></p>\n"},{"title":"JavaScript(2)","date":"2022-09-04T13:29:09.000Z","_content":"\n#### \n\n\n###### \n(1)(Simple Factory):\n![simple-factory1](simple-factory1.png)\n![simple-factory2](simple-factory2.png)\n\n(2)\n![create-pop](create-pop.png)\n\n,\n\n###### \n\n![safe-model-class](safe-model-class.png)\n![safe-factory-model](safe-factory-model.png)\n\n###### \n(Abstract Factory):\n\n(1)\n\n![abstract-car](abstract-car.png)\ncarprototype, car getPrice()getSpeed(),\n\n\n(2)\n![abstract-factory1](abstract-factory1.png)\n![abstract-factory2](abstract-factory2.png)\n()newnew,CarBusTruck\n![abstract-factory3](abstract-factory3.png)\n\n###### \n(Builder):\n\n()()\n\n![human](human.png)\n![name](name.png)\n![work](work.png)\n![person](person.png)\n\n\n\n\n****\n\n###### \n(Prototype):\n\n,\n![prototype-model](prototype-model.png)\n\n\n(1)\nnew\n![prototype-inherit1](prototype-inherit1.png)\n![prototype-inherit2](prototype-inherit2.png)\n\n****\n\n###### \n(Singleton):\n\n(1)\nnamespace\n:\n\n(2)\n![static-param](static-param.png)\n\n(3)\n![lazy-single-instance](lazy-single-instance.png)","source":"_posts/24-about-design-model1.md","raw":"---\ntitle: JavaScript(2)\ndate: 2022-09-04 21:29:09\ntags:\n---\n\n#### \n\n\n###### \n(1)(Simple Factory):\n![simple-factory1](simple-factory1.png)\n![simple-factory2](simple-factory2.png)\n\n(2)\n![create-pop](create-pop.png)\n\n,\n\n###### \n\n![safe-model-class](safe-model-class.png)\n![safe-factory-model](safe-factory-model.png)\n\n###### \n(Abstract Factory):\n\n(1)\n\n![abstract-car](abstract-car.png)\ncarprototype, car getPrice()getSpeed(),\n\n\n(2)\n![abstract-factory1](abstract-factory1.png)\n![abstract-factory2](abstract-factory2.png)\n()newnew,CarBusTruck\n![abstract-factory3](abstract-factory3.png)\n\n###### \n(Builder):\n\n()()\n\n![human](human.png)\n![name](name.png)\n![work](work.png)\n![person](person.png)\n\n\n\n\n****\n\n###### \n(Prototype):\n\n,\n![prototype-model](prototype-model.png)\n\n\n(1)\nnew\n![prototype-inherit1](prototype-inherit1.png)\n![prototype-inherit2](prototype-inherit2.png)\n\n****\n\n###### \n(Singleton):\n\n(1)\nnamespace\n:\n\n(2)\n![static-param](static-param.png)\n\n(3)\n![lazy-single-instance](lazy-single-instance.png)","slug":"24-about-design-model1","published":1,"updated":"2022-11-23T00:33:39.113Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baiv000unwvafi9ghcsn","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(1)(Simple Factory):<br><img src=\"/2022/09/04/24-about-design-model1/simple-factory1.png\" alt=\"simple-factory1\"><br><img src=\"/2022/09/04/24-about-design-model1/simple-factory2.png\" alt=\"simple-factory2\"></p>\n<p>(2)<br><img src=\"/2022/09/04/24-about-design-model1/create-pop.png\" alt=\"create-pop\"></p>\n<p>,</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><br><img src=\"/2022/09/04/24-about-design-model1/safe-model-class.png\" alt=\"safe-model-class\"><br><img src=\"/2022/09/04/24-about-design-model1/safe-factory-model.png\" alt=\"safe-factory-model\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Abstract Factory):</p>\n<p>(1)<br><br><img src=\"/2022/09/04/24-about-design-model1/abstract-car.png\" alt=\"abstract-car\"><br>carprototype, car getPrice()getSpeed(),<br></p>\n<p>(2)<br><img src=\"/2022/09/04/24-about-design-model1/abstract-factory1.png\" alt=\"abstract-factory1\"><br><img src=\"/2022/09/04/24-about-design-model1/abstract-factory2.png\" alt=\"abstract-factory2\"><br>()newnew,CarBusTruck<br><img src=\"/2022/09/04/24-about-design-model1/abstract-factory3.png\" alt=\"abstract-factory3\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Builder):</p>\n<p>()()<br><br><img src=\"/2022/09/04/24-about-design-model1/human.png\" alt=\"human\"><br><img src=\"/2022/09/04/24-about-design-model1/name.png\" alt=\"name\"><br><img src=\"/2022/09/04/24-about-design-model1/work.png\" alt=\"work\"><br><img src=\"/2022/09/04/24-about-design-model1/person.png\" alt=\"person\"></p>\n<p><br></p>\n<p><strong></strong></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Prototype):</p>\n<p>,<br><img src=\"/2022/09/04/24-about-design-model1/prototype-model.png\" alt=\"prototype-model\"><br></p>\n<p>(1)<br>new<br><img src=\"/2022/09/04/24-about-design-model1/prototype-inherit1.png\" alt=\"prototype-inherit1\"><br><img src=\"/2022/09/04/24-about-design-model1/prototype-inherit2.png\" alt=\"prototype-inherit2\"></p>\n<p><strong></strong></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Singleton):</p>\n<p>(1)<br>namespace<br>:</p>\n<p>(2)<br><img src=\"/2022/09/04/24-about-design-model1/static-param.png\" alt=\"static-param\"></p>\n<p>(3)<br><img src=\"/2022/09/04/24-about-design-model1/lazy-single-instance.png\" alt=\"lazy-single-instance\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(1)(Simple Factory):<br><img src=\"/2022/09/04/24-about-design-model1/simple-factory1.png\" alt=\"simple-factory1\"><br><img src=\"/2022/09/04/24-about-design-model1/simple-factory2.png\" alt=\"simple-factory2\"></p>\n<p>(2)<br><img src=\"/2022/09/04/24-about-design-model1/create-pop.png\" alt=\"create-pop\"></p>\n<p>,</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><br><img src=\"/2022/09/04/24-about-design-model1/safe-model-class.png\" alt=\"safe-model-class\"><br><img src=\"/2022/09/04/24-about-design-model1/safe-factory-model.png\" alt=\"safe-factory-model\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Abstract Factory):</p>\n<p>(1)<br><br><img src=\"/2022/09/04/24-about-design-model1/abstract-car.png\" alt=\"abstract-car\"><br>carprototype, car getPrice()getSpeed(),<br></p>\n<p>(2)<br><img src=\"/2022/09/04/24-about-design-model1/abstract-factory1.png\" alt=\"abstract-factory1\"><br><img src=\"/2022/09/04/24-about-design-model1/abstract-factory2.png\" alt=\"abstract-factory2\"><br>()newnew,CarBusTruck<br><img src=\"/2022/09/04/24-about-design-model1/abstract-factory3.png\" alt=\"abstract-factory3\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Builder):</p>\n<p>()()<br><br><img src=\"/2022/09/04/24-about-design-model1/human.png\" alt=\"human\"><br><img src=\"/2022/09/04/24-about-design-model1/name.png\" alt=\"name\"><br><img src=\"/2022/09/04/24-about-design-model1/work.png\" alt=\"work\"><br><img src=\"/2022/09/04/24-about-design-model1/person.png\" alt=\"person\"></p>\n<p><br></p>\n<p><strong></strong></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Prototype):</p>\n<p>,<br><img src=\"/2022/09/04/24-about-design-model1/prototype-model.png\" alt=\"prototype-model\"><br></p>\n<p>(1)<br>new<br><img src=\"/2022/09/04/24-about-design-model1/prototype-inherit1.png\" alt=\"prototype-inherit1\"><br><img src=\"/2022/09/04/24-about-design-model1/prototype-inherit2.png\" alt=\"prototype-inherit2\"></p>\n<p><strong></strong></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Singleton):</p>\n<p>(1)<br>namespace<br>:</p>\n<p>(2)<br><img src=\"/2022/09/04/24-about-design-model1/static-param.png\" alt=\"static-param\"></p>\n<p>(3)<br><img src=\"/2022/09/04/24-about-design-model1/lazy-single-instance.png\" alt=\"lazy-single-instance\"></p>\n"},{"title":"JavaScript(3)","date":"2022-09-06T07:11:48.000Z","_content":"\n#### \n\n\n###### \n(Facade):JavaScript\n\n\n![out-look](out-look.png)\n\n###### \n(Adapter):()(),()\n\n(1)\n(2)\n(3)\n\n(4)\n\n\n###### \n(Proxy):\n\n****\n(1)imgsrc\nget\n\n![station-culculate](station-culculate.png)\n\n(2)JSONP\nscript\n\n\n(3)\nBAHeaderA\n\n###### \n(Decorator):()\n![decorator](decorator.png)\n\n****\n\n\n\n###### \n(Bridge):\n\n\n\n![bridge1](bridge1.png)\n![bridge2](bridge2.png)\n![bridge3](bridge3.png)\n\n()(UI)\n\n###### \n(Composite):-\n\n\n\n###### \n(Flyweight):\n\n,\n\n,","source":"_posts/25-about-design-model2.md","raw":"---\ntitle: JavaScript(3)\ndate: 2022-09-06 15:11:48\ntags:\n---\n\n#### \n\n\n###### \n(Facade):JavaScript\n\n\n![out-look](out-look.png)\n\n###### \n(Adapter):()(),()\n\n(1)\n(2)\n(3)\n\n(4)\n\n\n###### \n(Proxy):\n\n****\n(1)imgsrc\nget\n\n![station-culculate](station-culculate.png)\n\n(2)JSONP\nscript\n\n\n(3)\nBAHeaderA\n\n###### \n(Decorator):()\n![decorator](decorator.png)\n\n****\n\n\n\n###### \n(Bridge):\n\n\n\n![bridge1](bridge1.png)\n![bridge2](bridge2.png)\n![bridge3](bridge3.png)\n\n()(UI)\n\n###### \n(Composite):-\n\n\n\n###### \n(Flyweight):\n\n,\n\n,","slug":"25-about-design-model2","published":1,"updated":"2022-11-23T00:33:39.159Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baiw000vnwva1kh8fnsz","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Facade):JavaScript</p>\n<p><br><img src=\"/2022/09/06/25-about-design-model2/out-look.png\" alt=\"out-look\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Adapter):()(),()</p>\n<p>(1)<br>(2)<br>(3)<br><br>(4)<br></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Proxy):</p>\n<p><strong></strong><br>(1)imgsrc<br>get<br><br><img src=\"/2022/09/06/25-about-design-model2/station-culculate.png\" alt=\"station-culculate\"></p>\n<p>(2)JSONP<br>script<br></p>\n<p>(3)<br>BAHeaderA</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Decorator):()<br><img src=\"/2022/09/06/25-about-design-model2/decorator.png\" alt=\"decorator\"></p>\n<p><strong></strong><br><br></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Bridge):</p>\n<p></p>\n<p><img src=\"/2022/09/06/25-about-design-model2/bridge1.png\" alt=\"bridge1\"><br><img src=\"/2022/09/06/25-about-design-model2/bridge2.png\" alt=\"bridge2\"><br><img src=\"/2022/09/06/25-about-design-model2/bridge3.png\" alt=\"bridge3\"></p>\n<p>()(UI)</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Composite):-</p>\n<p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Flyweight):</p>\n<p>,</p>\n<p>,</p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Facade):JavaScript</p>\n<p><br><img src=\"/2022/09/06/25-about-design-model2/out-look.png\" alt=\"out-look\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Adapter):()(),()</p>\n<p>(1)<br>(2)<br>(3)<br><br>(4)<br></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Proxy):</p>\n<p><strong></strong><br>(1)imgsrc<br>get<br><br><img src=\"/2022/09/06/25-about-design-model2/station-culculate.png\" alt=\"station-culculate\"></p>\n<p>(2)JSONP<br>script<br></p>\n<p>(3)<br>BAHeaderA</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Decorator):()<br><img src=\"/2022/09/06/25-about-design-model2/decorator.png\" alt=\"decorator\"></p>\n<p><strong></strong><br><br></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Bridge):</p>\n<p></p>\n<p><img src=\"/2022/09/06/25-about-design-model2/bridge1.png\" alt=\"bridge1\"><br><img src=\"/2022/09/06/25-about-design-model2/bridge2.png\" alt=\"bridge2\"><br><img src=\"/2022/09/06/25-about-design-model2/bridge3.png\" alt=\"bridge3\"></p>\n<p>()(UI)</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Composite):-</p>\n<p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Flyweight):</p>\n<p>,</p>\n<p>,</p>\n"},{"title":"JavaScript(4)","date":"2022-09-07T09:40:43.000Z","_content":"\n#### \n,\n\n###### \n(Template Method):\n\n\n\n![basic-model](basic-model.png)\n![inherit-model](inherit-model.png)\n![inherit-as-basic-model](inherit-as-basic-model.png)\n\n###### \n(Observer):-\n\n\n\n![observer](observer.png)\n![observer-regist](observer-regist.png)\n![observer-fire](observer-fire.png)\n![observer-remove](observer-remove.png)\n\n![regist-message](regist-message.png)\n![regist-change-num](regist-change-num.png)\n![add-message](add-message.png)\n\n###### \n(State):\n\n\n\n![vote-status](vote-status.png)\n\n\n,\n![marry-state](marry-state.png)\n![marry-state1](marry-state1.png)\n\n###### \n(Strategy):\n\n****\n\n\n\n![price-strategy](price-strategy.png)\n\n****\n\n,\n,,\n\n****\n,\n\n\n****\n\n\n\n\n\n###### \n(Chain of Responsibility):\n\n\n![send-data](send-data.png)\n![deal-data](deal-data.png)\n![create-component](create-component.png)\n\n****\n\n\n\n###### \n(Command):\n\n![command-model-1](command-model-1.png)\n![command-model-2](command-model-2.png)\n![command-model-3](command-model-3.png)\n\n:\n\n\n\n:\n\n\n###### \n(Visitor):\n\n![visitor-model](visitor-model.png)\n\n###### \n(Mediator):\n\n(1)\n\n\n\n,\n()\n\n![mediator-model](mediator-model.png)\n\n###### \n(Memento):\n\n![cache-model](cache-model.png)\n\n###### \n(Iterator):\n\n![iterator-model](iterator-model.png)\n\n###### \n(Interpreter):\n\n![explain-model-1](explain-model-1.png)\n![explain-model-2](explain-model-2.png)\n![explain-model-3](explain-model-3.png)\n\n**,**","source":"_posts/26-about-design-model3.md","raw":"---\ntitle: JavaScript(4)\ndate: 2022-09-07 17:40:43\ntags:\n---\n\n#### \n,\n\n###### \n(Template Method):\n\n\n\n![basic-model](basic-model.png)\n![inherit-model](inherit-model.png)\n![inherit-as-basic-model](inherit-as-basic-model.png)\n\n###### \n(Observer):-\n\n\n\n![observer](observer.png)\n![observer-regist](observer-regist.png)\n![observer-fire](observer-fire.png)\n![observer-remove](observer-remove.png)\n\n![regist-message](regist-message.png)\n![regist-change-num](regist-change-num.png)\n![add-message](add-message.png)\n\n###### \n(State):\n\n\n\n![vote-status](vote-status.png)\n\n\n,\n![marry-state](marry-state.png)\n![marry-state1](marry-state1.png)\n\n###### \n(Strategy):\n\n****\n\n\n\n![price-strategy](price-strategy.png)\n\n****\n\n,\n,,\n\n****\n,\n\n\n****\n\n\n\n\n\n###### \n(Chain of Responsibility):\n\n\n![send-data](send-data.png)\n![deal-data](deal-data.png)\n![create-component](create-component.png)\n\n****\n\n\n\n###### \n(Command):\n\n![command-model-1](command-model-1.png)\n![command-model-2](command-model-2.png)\n![command-model-3](command-model-3.png)\n\n:\n\n\n\n:\n\n\n###### \n(Visitor):\n\n![visitor-model](visitor-model.png)\n\n###### \n(Mediator):\n\n(1)\n\n\n\n,\n()\n\n![mediator-model](mediator-model.png)\n\n###### \n(Memento):\n\n![cache-model](cache-model.png)\n\n###### \n(Iterator):\n\n![iterator-model](iterator-model.png)\n\n###### \n(Interpreter):\n\n![explain-model-1](explain-model-1.png)\n![explain-model-2](explain-model-2.png)\n![explain-model-3](explain-model-3.png)\n\n**,**","slug":"26-about-design-model3","published":1,"updated":"2022-11-23T00:33:39.174Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baix000wnwva8y2th7co","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>,</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Template Method):</p>\n<p></p>\n<p><img src=\"/2022/09/07/26-about-design-model3/basic-model.png\" alt=\"basic-model\"><br><img src=\"/2022/09/07/26-about-design-model3/inherit-model.png\" alt=\"inherit-model\"><br><img src=\"/2022/09/07/26-about-design-model3/inherit-as-basic-model.png\" alt=\"inherit-as-basic-model\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Observer):-</p>\n<p></p>\n<p><img src=\"/2022/09/07/26-about-design-model3/observer.png\" alt=\"observer\"><br><img src=\"/2022/09/07/26-about-design-model3/observer-regist.png\" alt=\"observer-regist\"><br><img src=\"/2022/09/07/26-about-design-model3/observer-fire.png\" alt=\"observer-fire\"><br><img src=\"/2022/09/07/26-about-design-model3/observer-remove.png\" alt=\"observer-remove\"></p>\n<p><img src=\"/2022/09/07/26-about-design-model3/regist-message.png\" alt=\"regist-message\"><br><img src=\"/2022/09/07/26-about-design-model3/regist-change-num.png\" alt=\"regist-change-num\"><br><img src=\"/2022/09/07/26-about-design-model3/add-message.png\" alt=\"add-message\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(State):</p>\n<p></p>\n<p><img src=\"/2022/09/07/26-about-design-model3/vote-status.png\" alt=\"vote-status\"></p>\n<p><br>,<br><img src=\"/2022/09/07/26-about-design-model3/marry-state.png\" alt=\"marry-state\"><br><img src=\"/2022/09/07/26-about-design-model3/marry-state1.png\" alt=\"marry-state1\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Strategy):</p>\n<p><strong></strong><br><br></p>\n<p><img src=\"/2022/09/07/26-about-design-model3/price-strategy.png\" alt=\"price-strategy\"></p>\n<p><strong></strong><br><br>,<br>,,</p>\n<p><strong></strong><br>,<br></p>\n<p><strong></strong><br><br><br><br></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Chain of Responsibility):</p>\n<p><br><img src=\"/2022/09/07/26-about-design-model3/send-data.png\" alt=\"send-data\"><br><img src=\"/2022/09/07/26-about-design-model3/deal-data.png\" alt=\"deal-data\"><br><img src=\"/2022/09/07/26-about-design-model3/create-component.png\" alt=\"create-component\"></p>\n<p><strong></strong><br><br></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Command):<br><br><img src=\"/2022/09/07/26-about-design-model3/command-model-1.png\" alt=\"command-model-1\"><br><img src=\"/2022/09/07/26-about-design-model3/command-model-2.png\" alt=\"command-model-2\"><br><img src=\"/2022/09/07/26-about-design-model3/command-model-3.png\" alt=\"command-model-3\"></p>\n<p>:<br><br></p>\n<p>:<br></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Visitor):</p>\n<p><img src=\"/2022/09/07/26-about-design-model3/visitor-model.png\" alt=\"visitor-model\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Mediator):</p>\n<p>(1)<br><br><br><br>,<br>()</p>\n<p><img src=\"/2022/09/07/26-about-design-model3/mediator-model.png\" alt=\"mediator-model\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Memento):</p>\n<p><img src=\"/2022/09/07/26-about-design-model3/cache-model.png\" alt=\"cache-model\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Iterator):</p>\n<p><img src=\"/2022/09/07/26-about-design-model3/iterator-model.png\" alt=\"iterator-model\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Interpreter):</p>\n<p><img src=\"/2022/09/07/26-about-design-model3/explain-model-1.png\" alt=\"explain-model-1\"><br><img src=\"/2022/09/07/26-about-design-model3/explain-model-2.png\" alt=\"explain-model-2\"><br><img src=\"/2022/09/07/26-about-design-model3/explain-model-3.png\" alt=\"explain-model-3\"></p>\n<p><strong>,</strong></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>,</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Template Method):</p>\n<p></p>\n<p><img src=\"/2022/09/07/26-about-design-model3/basic-model.png\" alt=\"basic-model\"><br><img src=\"/2022/09/07/26-about-design-model3/inherit-model.png\" alt=\"inherit-model\"><br><img src=\"/2022/09/07/26-about-design-model3/inherit-as-basic-model.png\" alt=\"inherit-as-basic-model\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Observer):-</p>\n<p></p>\n<p><img src=\"/2022/09/07/26-about-design-model3/observer.png\" alt=\"observer\"><br><img src=\"/2022/09/07/26-about-design-model3/observer-regist.png\" alt=\"observer-regist\"><br><img src=\"/2022/09/07/26-about-design-model3/observer-fire.png\" alt=\"observer-fire\"><br><img src=\"/2022/09/07/26-about-design-model3/observer-remove.png\" alt=\"observer-remove\"></p>\n<p><img src=\"/2022/09/07/26-about-design-model3/regist-message.png\" alt=\"regist-message\"><br><img src=\"/2022/09/07/26-about-design-model3/regist-change-num.png\" alt=\"regist-change-num\"><br><img src=\"/2022/09/07/26-about-design-model3/add-message.png\" alt=\"add-message\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(State):</p>\n<p></p>\n<p><img src=\"/2022/09/07/26-about-design-model3/vote-status.png\" alt=\"vote-status\"></p>\n<p><br>,<br><img src=\"/2022/09/07/26-about-design-model3/marry-state.png\" alt=\"marry-state\"><br><img src=\"/2022/09/07/26-about-design-model3/marry-state1.png\" alt=\"marry-state1\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Strategy):</p>\n<p><strong></strong><br><br></p>\n<p><img src=\"/2022/09/07/26-about-design-model3/price-strategy.png\" alt=\"price-strategy\"></p>\n<p><strong></strong><br><br>,<br>,,</p>\n<p><strong></strong><br>,<br></p>\n<p><strong></strong><br><br><br><br></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Chain of Responsibility):</p>\n<p><br><img src=\"/2022/09/07/26-about-design-model3/send-data.png\" alt=\"send-data\"><br><img src=\"/2022/09/07/26-about-design-model3/deal-data.png\" alt=\"deal-data\"><br><img src=\"/2022/09/07/26-about-design-model3/create-component.png\" alt=\"create-component\"></p>\n<p><strong></strong><br><br></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Command):<br><br><img src=\"/2022/09/07/26-about-design-model3/command-model-1.png\" alt=\"command-model-1\"><br><img src=\"/2022/09/07/26-about-design-model3/command-model-2.png\" alt=\"command-model-2\"><br><img src=\"/2022/09/07/26-about-design-model3/command-model-3.png\" alt=\"command-model-3\"></p>\n<p>:<br><br></p>\n<p>:<br></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Visitor):</p>\n<p><img src=\"/2022/09/07/26-about-design-model3/visitor-model.png\" alt=\"visitor-model\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Mediator):</p>\n<p>(1)<br><br><br><br>,<br>()</p>\n<p><img src=\"/2022/09/07/26-about-design-model3/mediator-model.png\" alt=\"mediator-model\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Memento):</p>\n<p><img src=\"/2022/09/07/26-about-design-model3/cache-model.png\" alt=\"cache-model\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Iterator):</p>\n<p><img src=\"/2022/09/07/26-about-design-model3/iterator-model.png\" alt=\"iterator-model\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Interpreter):</p>\n<p><img src=\"/2022/09/07/26-about-design-model3/explain-model-1.png\" alt=\"explain-model-1\"><br><img src=\"/2022/09/07/26-about-design-model3/explain-model-2.png\" alt=\"explain-model-2\"><br><img src=\"/2022/09/07/26-about-design-model3/explain-model-3.png\" alt=\"explain-model-3\"></p>\n<p><strong>,</strong></p>\n"},{"title":"JavaScript(5)","date":"2022-09-19T09:51:10.000Z","_content":"\n#### \n\n\n###### \n(Operate of Responsibility):\n\n![chain-model-1](chain-model-1.png)\n![chain-model-2](chain-model-2.png)\n![chain-model-3](chain-model-3.png)\n\njOuery\nJavaScript JavaScriptJavaScriptlength ![] A.fn\n![chain-model-4](chain-model-4.png)\n\n![chain-model-5](chain-model-5.png)\n![chain-model-6](chain-model-6.png)\n\n###### \n(Entrust):\n\n\n\n\n\n![entrust-model-1](entrust-model-1.png)\n![entrust-model-2](entrust-model-2.png)\n\n###### \n(Data access object-DAO):DAO\n\n![localstorage-model-1](localstorage-model-1.png)\n![localstorage-model-2](localstorage-model-2.png)\n![localstorage-model-3](localstorage-model-3.png)\n![localstorage-model-4](localstorage-model-4.png)\n![localstorage-model-5](localstorage-model-5.png)\n![localstorage-model-6](localstorage-model-6.png)\n\n###### \n(Throttler):\n\n![throttle-model-1](throttle-model-1.png)\n![throttle-model-2](throttle-model-2.png)\n![throttle-model-3](throttle-model-3.png)\n\n(JavaScriptJavaScript ,())\n\n\n(1)\n(2)(worker)(ajax)\n\n###### \n(Simple template):\n\n![template-model-1](template-model-1.png)\n![template-model-2](template-model-2.png)\n![template-model-3](template-model-3.png)\n![template-model-4](template-model-4.png)\n![template-model-5](template-model-5.png)\n![template-model-6](template-model-6.png)\n\n###### \n(layier):\n\n\n(1)\n(2)\n\n![lazy-model-1](lazy-model-1.png)\n![lazy-model-2](lazy-model-2.png)\n![lazy-model-3](lazy-model-3.png)\n![lazy-model-4](lazy-model-4.png)\n![lazy-model-5](lazy-model-5.png)\n![lazy-model-6](lazy-model-6.png)\n\n###### \n(participator):\n\n![participate-model-1](participate-model-1.png)\n![participate-model-2](participate-model-2.png)\n\n\n\n![participate-model-3](participate-model-3.png)\n![participate-model-4](participate-model-4.png)\n![participate-model-5](participate-model-5.png)\n\n\n(1)()setTimeoutsetInterval\n(2),,,,\n\n\n![participate-model-6](participate-model-6.png)\n\n###### \n(waiter):\n\n![waiter-model-1](waiter-model-1.png)\n![waiter-model-2](waiter-model-2.png)\n![waiter-model-3](waiter-model-3.png)\n![waiter-model-4](waiter-model-4.png)\n![waiter-model-5](waiter-model-5.png)\n![waiter-model-6](waiter-model-6.png)\n![waiter-model-7](waiter-model-7.png)\n![waiter-model-8](waiter-model-8.png)\n\n","source":"_posts/27-about-design-model4.md","raw":"---\ntitle: JavaScript(5)\ndate: 2022-09-19 17:51:10\ntags:\n---\n\n#### \n\n\n###### \n(Operate of Responsibility):\n\n![chain-model-1](chain-model-1.png)\n![chain-model-2](chain-model-2.png)\n![chain-model-3](chain-model-3.png)\n\njOuery\nJavaScript JavaScriptJavaScriptlength ![] A.fn\n![chain-model-4](chain-model-4.png)\n\n![chain-model-5](chain-model-5.png)\n![chain-model-6](chain-model-6.png)\n\n###### \n(Entrust):\n\n\n\n\n\n![entrust-model-1](entrust-model-1.png)\n![entrust-model-2](entrust-model-2.png)\n\n###### \n(Data access object-DAO):DAO\n\n![localstorage-model-1](localstorage-model-1.png)\n![localstorage-model-2](localstorage-model-2.png)\n![localstorage-model-3](localstorage-model-3.png)\n![localstorage-model-4](localstorage-model-4.png)\n![localstorage-model-5](localstorage-model-5.png)\n![localstorage-model-6](localstorage-model-6.png)\n\n###### \n(Throttler):\n\n![throttle-model-1](throttle-model-1.png)\n![throttle-model-2](throttle-model-2.png)\n![throttle-model-3](throttle-model-3.png)\n\n(JavaScriptJavaScript ,())\n\n\n(1)\n(2)(worker)(ajax)\n\n###### \n(Simple template):\n\n![template-model-1](template-model-1.png)\n![template-model-2](template-model-2.png)\n![template-model-3](template-model-3.png)\n![template-model-4](template-model-4.png)\n![template-model-5](template-model-5.png)\n![template-model-6](template-model-6.png)\n\n###### \n(layier):\n\n\n(1)\n(2)\n\n![lazy-model-1](lazy-model-1.png)\n![lazy-model-2](lazy-model-2.png)\n![lazy-model-3](lazy-model-3.png)\n![lazy-model-4](lazy-model-4.png)\n![lazy-model-5](lazy-model-5.png)\n![lazy-model-6](lazy-model-6.png)\n\n###### \n(participator):\n\n![participate-model-1](participate-model-1.png)\n![participate-model-2](participate-model-2.png)\n\n\n\n![participate-model-3](participate-model-3.png)\n![participate-model-4](participate-model-4.png)\n![participate-model-5](participate-model-5.png)\n\n\n(1)()setTimeoutsetInterval\n(2),,,,\n\n\n![participate-model-6](participate-model-6.png)\n\n###### \n(waiter):\n\n![waiter-model-1](waiter-model-1.png)\n![waiter-model-2](waiter-model-2.png)\n![waiter-model-3](waiter-model-3.png)\n![waiter-model-4](waiter-model-4.png)\n![waiter-model-5](waiter-model-5.png)\n![waiter-model-6](waiter-model-6.png)\n![waiter-model-7](waiter-model-7.png)\n![waiter-model-8](waiter-model-8.png)\n\n","slug":"27-about-design-model4","published":1,"updated":"2022-11-23T00:33:39.280Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baj2000xnwvacbm191dt","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Operate of Responsibility):</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/chain-model-1.png\" alt=\"chain-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/chain-model-2.png\" alt=\"chain-model-2\"><br><img src=\"/2022/09/19/27-about-design-model4/chain-model-3.png\" alt=\"chain-model-3\"></p>\n<p>jOuery<br>JavaScript JavaScriptJavaScriptlength ![] A.fn<br><img src=\"/2022/09/19/27-about-design-model4/chain-model-4.png\" alt=\"chain-model-4\"></p>\n<p><img src=\"/2022/09/19/27-about-design-model4/chain-model-5.png\" alt=\"chain-model-5\"><br><img src=\"/2022/09/19/27-about-design-model4/chain-model-6.png\" alt=\"chain-model-6\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Entrust):</p>\n<p></p>\n<p></p>\n<p><img src=\"/2022/09/19/27-about-design-model4/entrust-model-1.png\" alt=\"entrust-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/entrust-model-2.png\" alt=\"entrust-model-2\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Data access object-DAO):DAO</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/localstorage-model-1.png\" alt=\"localstorage-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/localstorage-model-2.png\" alt=\"localstorage-model-2\"><br><img src=\"/2022/09/19/27-about-design-model4/localstorage-model-3.png\" alt=\"localstorage-model-3\"><br><img src=\"/2022/09/19/27-about-design-model4/localstorage-model-4.png\" alt=\"localstorage-model-4\"><br><img src=\"/2022/09/19/27-about-design-model4/localstorage-model-5.png\" alt=\"localstorage-model-5\"><br><img src=\"/2022/09/19/27-about-design-model4/localstorage-model-6.png\" alt=\"localstorage-model-6\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Throttler):</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/throttle-model-1.png\" alt=\"throttle-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/throttle-model-2.png\" alt=\"throttle-model-2\"><br><img src=\"/2022/09/19/27-about-design-model4/throttle-model-3.png\" alt=\"throttle-model-3\"></p>\n<p>(JavaScriptJavaScript ,())</p>\n<p><br>(1)<br>(2)(worker)(ajax)</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Simple template):</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/template-model-1.png\" alt=\"template-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/template-model-2.png\" alt=\"template-model-2\"><br><img src=\"/2022/09/19/27-about-design-model4/template-model-3.png\" alt=\"template-model-3\"><br><img src=\"/2022/09/19/27-about-design-model4/template-model-4.png\" alt=\"template-model-4\"><br><img src=\"/2022/09/19/27-about-design-model4/template-model-5.png\" alt=\"template-model-5\"><br><img src=\"/2022/09/19/27-about-design-model4/template-model-6.png\" alt=\"template-model-6\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(layier):</p>\n<p><br>(1)<br>(2)</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/lazy-model-1.png\" alt=\"lazy-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/lazy-model-2.png\" alt=\"lazy-model-2\"><br><img src=\"/2022/09/19/27-about-design-model4/lazy-model-3.png\" alt=\"lazy-model-3\"><br><img src=\"/2022/09/19/27-about-design-model4/lazy-model-4.png\" alt=\"lazy-model-4\"><br><img src=\"/2022/09/19/27-about-design-model4/lazy-model-5.png\" alt=\"lazy-model-5\"><br><img src=\"/2022/09/19/27-about-design-model4/lazy-model-6.png\" alt=\"lazy-model-6\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(participator):</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/participate-model-1.png\" alt=\"participate-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/participate-model-2.png\" alt=\"participate-model-2\"></p>\n<p></p>\n<p><img src=\"/2022/09/19/27-about-design-model4/participate-model-3.png\" alt=\"participate-model-3\"><br><img src=\"/2022/09/19/27-about-design-model4/participate-model-4.png\" alt=\"participate-model-4\"><br><img src=\"/2022/09/19/27-about-design-model4/participate-model-5.png\" alt=\"participate-model-5\"></p>\n<p><br>(1)()setTimeoutsetInterval<br>(2),,,,</p>\n<p><br><img src=\"/2022/09/19/27-about-design-model4/participate-model-6.png\" alt=\"participate-model-6\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(waiter):</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/waiter-model-1.png\" alt=\"waiter-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-2.png\" alt=\"waiter-model-2\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-3.png\" alt=\"waiter-model-3\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-4.png\" alt=\"waiter-model-4\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-5.png\" alt=\"waiter-model-5\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-6.png\" alt=\"waiter-model-6\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-7.png\" alt=\"waiter-model-7\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-8.png\" alt=\"waiter-model-8\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Operate of Responsibility):</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/chain-model-1.png\" alt=\"chain-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/chain-model-2.png\" alt=\"chain-model-2\"><br><img src=\"/2022/09/19/27-about-design-model4/chain-model-3.png\" alt=\"chain-model-3\"></p>\n<p>jOuery<br>JavaScript JavaScriptJavaScriptlength ![] A.fn<br><img src=\"/2022/09/19/27-about-design-model4/chain-model-4.png\" alt=\"chain-model-4\"></p>\n<p><img src=\"/2022/09/19/27-about-design-model4/chain-model-5.png\" alt=\"chain-model-5\"><br><img src=\"/2022/09/19/27-about-design-model4/chain-model-6.png\" alt=\"chain-model-6\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Entrust):</p>\n<p></p>\n<p></p>\n<p><img src=\"/2022/09/19/27-about-design-model4/entrust-model-1.png\" alt=\"entrust-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/entrust-model-2.png\" alt=\"entrust-model-2\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Data access object-DAO):DAO</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/localstorage-model-1.png\" alt=\"localstorage-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/localstorage-model-2.png\" alt=\"localstorage-model-2\"><br><img src=\"/2022/09/19/27-about-design-model4/localstorage-model-3.png\" alt=\"localstorage-model-3\"><br><img src=\"/2022/09/19/27-about-design-model4/localstorage-model-4.png\" alt=\"localstorage-model-4\"><br><img src=\"/2022/09/19/27-about-design-model4/localstorage-model-5.png\" alt=\"localstorage-model-5\"><br><img src=\"/2022/09/19/27-about-design-model4/localstorage-model-6.png\" alt=\"localstorage-model-6\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Throttler):</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/throttle-model-1.png\" alt=\"throttle-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/throttle-model-2.png\" alt=\"throttle-model-2\"><br><img src=\"/2022/09/19/27-about-design-model4/throttle-model-3.png\" alt=\"throttle-model-3\"></p>\n<p>(JavaScriptJavaScript ,())</p>\n<p><br>(1)<br>(2)(worker)(ajax)</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Simple template):</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/template-model-1.png\" alt=\"template-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/template-model-2.png\" alt=\"template-model-2\"><br><img src=\"/2022/09/19/27-about-design-model4/template-model-3.png\" alt=\"template-model-3\"><br><img src=\"/2022/09/19/27-about-design-model4/template-model-4.png\" alt=\"template-model-4\"><br><img src=\"/2022/09/19/27-about-design-model4/template-model-5.png\" alt=\"template-model-5\"><br><img src=\"/2022/09/19/27-about-design-model4/template-model-6.png\" alt=\"template-model-6\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(layier):</p>\n<p><br>(1)<br>(2)</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/lazy-model-1.png\" alt=\"lazy-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/lazy-model-2.png\" alt=\"lazy-model-2\"><br><img src=\"/2022/09/19/27-about-design-model4/lazy-model-3.png\" alt=\"lazy-model-3\"><br><img src=\"/2022/09/19/27-about-design-model4/lazy-model-4.png\" alt=\"lazy-model-4\"><br><img src=\"/2022/09/19/27-about-design-model4/lazy-model-5.png\" alt=\"lazy-model-5\"><br><img src=\"/2022/09/19/27-about-design-model4/lazy-model-6.png\" alt=\"lazy-model-6\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(participator):</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/participate-model-1.png\" alt=\"participate-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/participate-model-2.png\" alt=\"participate-model-2\"></p>\n<p></p>\n<p><img src=\"/2022/09/19/27-about-design-model4/participate-model-3.png\" alt=\"participate-model-3\"><br><img src=\"/2022/09/19/27-about-design-model4/participate-model-4.png\" alt=\"participate-model-4\"><br><img src=\"/2022/09/19/27-about-design-model4/participate-model-5.png\" alt=\"participate-model-5\"></p>\n<p><br>(1)()setTimeoutsetInterval<br>(2),,,,</p>\n<p><br><img src=\"/2022/09/19/27-about-design-model4/participate-model-6.png\" alt=\"participate-model-6\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(waiter):</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/waiter-model-1.png\" alt=\"waiter-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-2.png\" alt=\"waiter-model-2\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-3.png\" alt=\"waiter-model-3\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-4.png\" alt=\"waiter-model-4\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-5.png\" alt=\"waiter-model-5\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-6.png\" alt=\"waiter-model-6\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-7.png\" alt=\"waiter-model-7\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-8.png\" alt=\"waiter-model-8\"></p>\n"},{"title":"es6","date":"2022-09-02T02:42:05.000Z","_content":"\n#### \n\n(1)js \n\n```javascript\nvar name = 'test';\nvar obj = {\n  name,\n};\nconsole.log(obj); // {name: 'test'}\n```\n\n(2)\n\n```javascript\n// ES5\nconst es5Obj = {\n  testFunction: function () {\n    console.log('es5');\n  },\n};\nconsole.log(es5Obj.testFunction()); // es5\n\n// es6\nconst es6Obj = {\n  testFunction() {\n    console.log('es6');\n  },\n};\nconsole.log(es6Obj.testFunction()); // es6\n\n// ****\nconst es6Obj1 = {\n  testFunction: function Hello() {\n    console.log('hello');\n  },\n};\nconsole.log(es6Obj1.testFunction()); // hello\n```\n\n**(1)(2)debugger **\n\n(3)[]\n\n```javascript\nconst es6Obj = {\n  ['first' + 'second']: 'hanmeimei',\n};\nconsole.log(es6Obj['first' + 'second']); // hanmeimei\n\nconst first = 'first';\nconst es6Obj1 = {\n  [first + 'second']: 'hanmeimei',\n};\nconsole.log(es6Obj[first + 'second']); // hanmeimei\n```\n\n(4)es5 es6 \n\n```javascript\nconst es6Obj = {\n  name: 'first',\n  name: 'second',\n};\nconsole.log(es6Obj); // {name: 'second'}\n```\n\n#### \n\n(1)Object.is()\n===+0 -0NaN  NaN\n\n```javascript\nconsole.log(+0 == -0); // true\nconsole.log(Object.is(+0, -0)); // false\nconsole.log(Object.is(NaN, NaN)); // true\n```\n\n(2)Object.assign()\n\n\n```javascript\n// Object.assign(target, ...sources);  target  sources\nconst target = { a: 1, b: 2 };\nconst source = { b: 4, c: 5 };\nconst returnedTarget = Object.assign(target, source);\nconsole.log(target); // Object { a: 1, b: 4, c: 5 }\nconsole.log(returnedTarget); // Object { a: 1, b: 4, c: 5 }\n```\n\n(3)Object.setPrototypeOf()\n\n```javascript\n// Object.setPrototypeOf(object, prototypeObject);\nlet person = {\n  greeting() {\n    return 'hello';\n  },\n};\nlet dog = {\n  greeting() {\n    return 'woof';\n  },\n};\nlet obj = {};\n// obj person\nObject.setPrototypeOf(obj, person);\nconsole.log(obj.greeting()); // hello\n// obj dog\nObject.setPrototypeOf(obj, dog);\nconsole.log(obj.greeting()); // woof\n```\n\n```javascript\nlet person = {\n  greeting() {\n    return 'hello';\n  },\n};\nlet dog = {\n  greeting() {\n    return 'woof';\n  },\n};\nlet obj = {\n greeting() {\n    return 'obj';\n  },\n};\nObject.setPrototypeOf(obj, person);\nconsole.log(obj.greeting()); // obj\nObject.setPrototypeOf(obj, dog);\nconsole.log(obj.greeting()); // obj\n```\nobj  ES6 super \n```javascript\nlet person = {\n  greeting() {\n    return 'hello';\n  },\n};\nlet dog = {\n  greeting() {\n    return 'woof';\n  },\n};\nlet obj = {\n greeting() {\n    return super.greeting() + 'obj';\n  },\n};\nObject.setPrototypeOf(obj, person);\nconsole.log(obj.greeting()); // helloobj\nObject.setPrototypeOf(obj, dog);\nconsole.log(obj.greeting()); // woofobj\n```\n:Uncaught SyntaxError: 'super' keyword unexpected here\n****\n```javascript\nlet person = {\n  greeting: function() {\n    return 'hello';\n  },\n};\nlet dog = {\n  greeting: function() {\n    return 'woof';\n  },\n};\nlet obj = {\n // Uncaught SyntaxError: 'super' keyword unexpected here\n greeting: function() {\n    return super.greeting() + 'obj';\n  },\n};\nObject.setPrototypeOf(obj, person);\nconsole.log(obj.greeting());\nObject.setPrototypeOf(obj, dog);\nconsole.log(obj.greeting());\n\nlet person = {\n  greeting: function() {\n    return 'hello';\n  },\n};\nlet dog = {\n  greeting: function() {\n    return 'woof';\n  },\n};\nlet obj = {\n // \n greeting() {\n    return super.greeting() + 'obj';\n  },\n};\nObject.setPrototypeOf(obj, person);\nconsole.log(obj.greeting()); // helloobj\nObject.setPrototypeOf(obj, dog);\nconsole.log(obj.greeting()); // woofobj\n```\n**ES6 [[HomeObject]], super Object.getPrototypeOf([[HomeObject]]) obj.greeting() greeting() [[HomeObject]] obj.  super Object.getPrototypeOf(obj), person dog super.greeting() person.greeting()  person.greeting.call(this).  persongreentingthis, this  this  this  obj **","source":"_posts/29-es6-object-strong.md","raw":"---\ntitle: es6\ndate: 2022-09-02 10:42:05\ntags:\n---\n\n#### \n\n(1)js \n\n```javascript\nvar name = 'test';\nvar obj = {\n  name,\n};\nconsole.log(obj); // {name: 'test'}\n```\n\n(2)\n\n```javascript\n// ES5\nconst es5Obj = {\n  testFunction: function () {\n    console.log('es5');\n  },\n};\nconsole.log(es5Obj.testFunction()); // es5\n\n// es6\nconst es6Obj = {\n  testFunction() {\n    console.log('es6');\n  },\n};\nconsole.log(es6Obj.testFunction()); // es6\n\n// ****\nconst es6Obj1 = {\n  testFunction: function Hello() {\n    console.log('hello');\n  },\n};\nconsole.log(es6Obj1.testFunction()); // hello\n```\n\n**(1)(2)debugger **\n\n(3)[]\n\n```javascript\nconst es6Obj = {\n  ['first' + 'second']: 'hanmeimei',\n};\nconsole.log(es6Obj['first' + 'second']); // hanmeimei\n\nconst first = 'first';\nconst es6Obj1 = {\n  [first + 'second']: 'hanmeimei',\n};\nconsole.log(es6Obj[first + 'second']); // hanmeimei\n```\n\n(4)es5 es6 \n\n```javascript\nconst es6Obj = {\n  name: 'first',\n  name: 'second',\n};\nconsole.log(es6Obj); // {name: 'second'}\n```\n\n#### \n\n(1)Object.is()\n===+0 -0NaN  NaN\n\n```javascript\nconsole.log(+0 == -0); // true\nconsole.log(Object.is(+0, -0)); // false\nconsole.log(Object.is(NaN, NaN)); // true\n```\n\n(2)Object.assign()\n\n\n```javascript\n// Object.assign(target, ...sources);  target  sources\nconst target = { a: 1, b: 2 };\nconst source = { b: 4, c: 5 };\nconst returnedTarget = Object.assign(target, source);\nconsole.log(target); // Object { a: 1, b: 4, c: 5 }\nconsole.log(returnedTarget); // Object { a: 1, b: 4, c: 5 }\n```\n\n(3)Object.setPrototypeOf()\n\n```javascript\n// Object.setPrototypeOf(object, prototypeObject);\nlet person = {\n  greeting() {\n    return 'hello';\n  },\n};\nlet dog = {\n  greeting() {\n    return 'woof';\n  },\n};\nlet obj = {};\n// obj person\nObject.setPrototypeOf(obj, person);\nconsole.log(obj.greeting()); // hello\n// obj dog\nObject.setPrototypeOf(obj, dog);\nconsole.log(obj.greeting()); // woof\n```\n\n```javascript\nlet person = {\n  greeting() {\n    return 'hello';\n  },\n};\nlet dog = {\n  greeting() {\n    return 'woof';\n  },\n};\nlet obj = {\n greeting() {\n    return 'obj';\n  },\n};\nObject.setPrototypeOf(obj, person);\nconsole.log(obj.greeting()); // obj\nObject.setPrototypeOf(obj, dog);\nconsole.log(obj.greeting()); // obj\n```\nobj  ES6 super \n```javascript\nlet person = {\n  greeting() {\n    return 'hello';\n  },\n};\nlet dog = {\n  greeting() {\n    return 'woof';\n  },\n};\nlet obj = {\n greeting() {\n    return super.greeting() + 'obj';\n  },\n};\nObject.setPrototypeOf(obj, person);\nconsole.log(obj.greeting()); // helloobj\nObject.setPrototypeOf(obj, dog);\nconsole.log(obj.greeting()); // woofobj\n```\n:Uncaught SyntaxError: 'super' keyword unexpected here\n****\n```javascript\nlet person = {\n  greeting: function() {\n    return 'hello';\n  },\n};\nlet dog = {\n  greeting: function() {\n    return 'woof';\n  },\n};\nlet obj = {\n // Uncaught SyntaxError: 'super' keyword unexpected here\n greeting: function() {\n    return super.greeting() + 'obj';\n  },\n};\nObject.setPrototypeOf(obj, person);\nconsole.log(obj.greeting());\nObject.setPrototypeOf(obj, dog);\nconsole.log(obj.greeting());\n\nlet person = {\n  greeting: function() {\n    return 'hello';\n  },\n};\nlet dog = {\n  greeting: function() {\n    return 'woof';\n  },\n};\nlet obj = {\n // \n greeting() {\n    return super.greeting() + 'obj';\n  },\n};\nObject.setPrototypeOf(obj, person);\nconsole.log(obj.greeting()); // helloobj\nObject.setPrototypeOf(obj, dog);\nconsole.log(obj.greeting()); // woofobj\n```\n**ES6 [[HomeObject]], super Object.getPrototypeOf([[HomeObject]]) obj.greeting() greeting() [[HomeObject]] obj.  super Object.getPrototypeOf(obj), person dog super.greeting() person.greeting()  person.greeting.call(this).  persongreentingthis, this  this  this  obj **","slug":"29-es6-object-strong","published":1,"updated":"2022-11-23T00:33:39.561Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baj2000ynwva7t9obqva","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>(1)js </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> name = <span class=\"string\">&#x27;test&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">  name,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj); <span class=\"comment\">// &#123;name: &#x27;test&#x27;&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>(2)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ES5</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> es5Obj = &#123;</span><br><span class=\"line\">  <span class=\"attr\">testFunction</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;es5&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(es5Obj.testFunction()); <span class=\"comment\">// es5</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// es6</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> es6Obj = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">testFunction</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;es6&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(es6Obj.testFunction()); <span class=\"comment\">// es6</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ****</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> es6Obj1 = &#123;</span><br><span class=\"line\">  <span class=\"attr\">testFunction</span>: <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Hello</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;hello&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(es6Obj1.testFunction()); <span class=\"comment\">// hello</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>(1)(2)debugger </strong></p>\n<p>(3)[]</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> es6Obj = &#123;</span><br><span class=\"line\">  [<span class=\"string\">&#x27;first&#x27;</span> + <span class=\"string\">&#x27;second&#x27;</span>]: <span class=\"string\">&#x27;hanmeimei&#x27;</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(es6Obj[<span class=\"string\">&#x27;first&#x27;</span> + <span class=\"string\">&#x27;second&#x27;</span>]); <span class=\"comment\">// hanmeimei</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> first = <span class=\"string\">&#x27;first&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> es6Obj1 = &#123;</span><br><span class=\"line\">  [first + <span class=\"string\">&#x27;second&#x27;</span>]: <span class=\"string\">&#x27;hanmeimei&#x27;</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(es6Obj[first + <span class=\"string\">&#x27;second&#x27;</span>]); <span class=\"comment\">// hanmeimei</span></span><br></pre></td></tr></table></figure>\n\n<p>(4)es5 es6 </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> es6Obj = &#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;first&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;second&#x27;</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(es6Obj); <span class=\"comment\">// &#123;name: &#x27;second&#x27;&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>(1)Object.is()<br>===+0 -0NaN  NaN</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.log(+<span class=\"number\">0</span> == -<span class=\"number\">0</span>); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.is(+<span class=\"number\">0</span>, -<span class=\"number\">0</span>)); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.is(<span class=\"literal\">NaN</span>, <span class=\"literal\">NaN</span>)); <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n<p>(2)Object.assign()<br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Object.assign(target, ...sources);  target  sources</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> target = &#123; <span class=\"attr\">a</span>: <span class=\"number\">1</span>, <span class=\"attr\">b</span>: <span class=\"number\">2</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> source = &#123; <span class=\"attr\">b</span>: <span class=\"number\">4</span>, <span class=\"attr\">c</span>: <span class=\"number\">5</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> returnedTarget = <span class=\"built_in\">Object</span>.assign(target, source);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(target); <span class=\"comment\">// Object &#123; a: 1, b: 4, c: 5 &#125;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(returnedTarget); <span class=\"comment\">// Object &#123; a: 1, b: 4, c: 5 &#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>(3)Object.setPrototypeOf()<br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Object.setPrototypeOf(object, prototypeObject);</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> person = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;hello&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> dog = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;woof&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;&#125;;</span><br><span class=\"line\"><span class=\"comment\">// obj person</span></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, person);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// hello</span></span><br><span class=\"line\"><span class=\"comment\">// obj dog</span></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, dog);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// woof</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> person = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;hello&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> dog = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;woof&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\"> <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;obj&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, person);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// obj</span></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, dog);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// obj</span></span><br></pre></td></tr></table></figure>\n<p>obj  ES6 super </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> person = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;hello&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> dog = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;woof&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\"> <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">super</span>.greeting() + <span class=\"string\">&#x27;obj&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, person);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// helloobj</span></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, dog);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// woofobj</span></span><br></pre></td></tr></table></figure>\n<p>:Uncaught SyntaxError: super keyword unexpected here<br><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> person = &#123;</span><br><span class=\"line\">  <span class=\"attr\">greeting</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;hello&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> dog = &#123;</span><br><span class=\"line\">  <span class=\"attr\">greeting</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;woof&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\"> <span class=\"comment\">// Uncaught SyntaxError: &#x27;super&#x27; keyword unexpected here</span></span><br><span class=\"line\"> <span class=\"attr\">greeting</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">super</span>.greeting() + <span class=\"string\">&#x27;obj&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, person);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting());</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, dog);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting());</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> person = &#123;</span><br><span class=\"line\">  <span class=\"attr\">greeting</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;hello&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> dog = &#123;</span><br><span class=\"line\">  <span class=\"attr\">greeting</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;woof&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\"> <span class=\"comment\">// </span></span><br><span class=\"line\"> <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">super</span>.greeting() + <span class=\"string\">&#x27;obj&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, person);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// helloobj</span></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, dog);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// woofobj</span></span><br></pre></td></tr></table></figure>\n<p><strong>ES6 [[HomeObject]], super Object.getPrototypeOf([[HomeObject]]) obj.greeting() greeting() [[HomeObject]] obj.  super Object.getPrototypeOf(obj), person dog super.greeting() person.greeting()  person.greeting.call(this).  persongreentingthis, this  this  this  obj </strong></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>(1)js </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> name = <span class=\"string\">&#x27;test&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">  name,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj); <span class=\"comment\">// &#123;name: &#x27;test&#x27;&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>(2)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ES5</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> es5Obj = &#123;</span><br><span class=\"line\">  <span class=\"attr\">testFunction</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;es5&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(es5Obj.testFunction()); <span class=\"comment\">// es5</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// es6</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> es6Obj = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">testFunction</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;es6&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(es6Obj.testFunction()); <span class=\"comment\">// es6</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ****</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> es6Obj1 = &#123;</span><br><span class=\"line\">  <span class=\"attr\">testFunction</span>: <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Hello</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;hello&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(es6Obj1.testFunction()); <span class=\"comment\">// hello</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>(1)(2)debugger </strong></p>\n<p>(3)[]</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> es6Obj = &#123;</span><br><span class=\"line\">  [<span class=\"string\">&#x27;first&#x27;</span> + <span class=\"string\">&#x27;second&#x27;</span>]: <span class=\"string\">&#x27;hanmeimei&#x27;</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(es6Obj[<span class=\"string\">&#x27;first&#x27;</span> + <span class=\"string\">&#x27;second&#x27;</span>]); <span class=\"comment\">// hanmeimei</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> first = <span class=\"string\">&#x27;first&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> es6Obj1 = &#123;</span><br><span class=\"line\">  [first + <span class=\"string\">&#x27;second&#x27;</span>]: <span class=\"string\">&#x27;hanmeimei&#x27;</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(es6Obj[first + <span class=\"string\">&#x27;second&#x27;</span>]); <span class=\"comment\">// hanmeimei</span></span><br></pre></td></tr></table></figure>\n\n<p>(4)es5 es6 </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> es6Obj = &#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;first&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;second&#x27;</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(es6Obj); <span class=\"comment\">// &#123;name: &#x27;second&#x27;&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>(1)Object.is()<br>===+0 -0NaN  NaN</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.log(+<span class=\"number\">0</span> == -<span class=\"number\">0</span>); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.is(+<span class=\"number\">0</span>, -<span class=\"number\">0</span>)); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.is(<span class=\"literal\">NaN</span>, <span class=\"literal\">NaN</span>)); <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n<p>(2)Object.assign()<br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Object.assign(target, ...sources);  target  sources</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> target = &#123; <span class=\"attr\">a</span>: <span class=\"number\">1</span>, <span class=\"attr\">b</span>: <span class=\"number\">2</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> source = &#123; <span class=\"attr\">b</span>: <span class=\"number\">4</span>, <span class=\"attr\">c</span>: <span class=\"number\">5</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> returnedTarget = <span class=\"built_in\">Object</span>.assign(target, source);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(target); <span class=\"comment\">// Object &#123; a: 1, b: 4, c: 5 &#125;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(returnedTarget); <span class=\"comment\">// Object &#123; a: 1, b: 4, c: 5 &#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>(3)Object.setPrototypeOf()<br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Object.setPrototypeOf(object, prototypeObject);</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> person = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;hello&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> dog = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;woof&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;&#125;;</span><br><span class=\"line\"><span class=\"comment\">// obj person</span></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, person);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// hello</span></span><br><span class=\"line\"><span class=\"comment\">// obj dog</span></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, dog);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// woof</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> person = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;hello&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> dog = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;woof&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\"> <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;obj&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, person);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// obj</span></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, dog);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// obj</span></span><br></pre></td></tr></table></figure>\n<p>obj  ES6 super </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> person = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;hello&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> dog = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;woof&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\"> <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">super</span>.greeting() + <span class=\"string\">&#x27;obj&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, person);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// helloobj</span></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, dog);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// woofobj</span></span><br></pre></td></tr></table></figure>\n<p>:Uncaught SyntaxError: super keyword unexpected here<br><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> person = &#123;</span><br><span class=\"line\">  <span class=\"attr\">greeting</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;hello&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> dog = &#123;</span><br><span class=\"line\">  <span class=\"attr\">greeting</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;woof&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\"> <span class=\"comment\">// Uncaught SyntaxError: &#x27;super&#x27; keyword unexpected here</span></span><br><span class=\"line\"> <span class=\"attr\">greeting</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">super</span>.greeting() + <span class=\"string\">&#x27;obj&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, person);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting());</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, dog);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting());</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> person = &#123;</span><br><span class=\"line\">  <span class=\"attr\">greeting</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;hello&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> dog = &#123;</span><br><span class=\"line\">  <span class=\"attr\">greeting</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;woof&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\"> <span class=\"comment\">// </span></span><br><span class=\"line\"> <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">super</span>.greeting() + <span class=\"string\">&#x27;obj&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, person);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// helloobj</span></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, dog);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// woofobj</span></span><br></pre></td></tr></table></figure>\n<p><strong>ES6 [[HomeObject]], super Object.getPrototypeOf([[HomeObject]]) obj.greeting() greeting() [[HomeObject]] obj.  super Object.getPrototypeOf(obj), person dog super.greeting() person.greeting()  person.greeting.call(this).  persongreentingthis, this  this  this  obj </strong></p>\n"},{"title":"JavaScript(6)","date":"2022-09-20T07:22:12.000Z","_content":"\n#### \n,,\n\n###### \n:\nSMD (Synchronous Module Definition):\n\n(1)\n\n![module-model-1](module-model-1.png)\n![module-model-2](module-model-2.png)\n![module-model-3](module-model-3.png)\n![module-model-4](module-model-4.png)\n![module-model-5](module-model-5.png)\n\n###### \nAMD (Asynchronous Module Definition):\n\n![async-module-model-1](async-module-model-1.png)\n![async-module-model-2](async-module-model-2.png)\n![async-module-model-3](async-module-model-3.png)\n![async-module-model-4](async-module-model-4.png)\n![async-module-model-5](async-module-model-5.png)\n![async-module-model-6](async-module-model-6.png)\n![async-module-model-7](async-module-model-7.png)\n![async-module-model-8](async-module-model-8.png)\n![async-module-model-9](async-module-model-9.png)\n\n###### Widget\nWidget:(Web Widget)WidgetWeb Widget\n\n![widget-model-1](widget-model-1.png)\n![widget-model-2](widget-model-2.png)\n![widget-model-3](widget-model-3.png)\n![widget-model-4](widget-model-4.png)\n![widget-model-5](widget-model-5.png)\n![widget-model-6](widget-model-6.png)\n\n###### MVC\nMVC(model)(view)(controller)\n\n![mvc-model-1](mvc-model-1.png)\n\n****\n**3**\n\n![mvc-model-2](mvc-model-2.png)\n![mvc-model-3](mvc-model-3.png)\n3(M),\n\n![mvc-model-4](mvc-model-4.png)\n\n###### MVP\nMVP(Model)(View)(Presenter): ViewModelPresenterModelPresenter\n\n![mvp-model-1](mvp-model-1.png)\n![mvp-model-2](mvp-model-2.png)\n![mvp-model-3](mvp-model-3.png)\n![mvp-model-4](mvp-model-4.png)\n![mvp-model-5](mvp-model-5.png)\n![mvp-model-6](mvp-model-6.png)\n![mvp-model-7](mvp-model-7.png)\n\nMVPMVCMVPMVP\n\n###### MVVM\nMVVM(Model)-(View)-(ViewModel):(View)(ViewModel)(ViewModel)(View)(Model)\n\n![mvvm-model-1](mvvm-model-1.png)\n![mvvm-model-2](mvvm-model-2.png)\n![mvvm-model-3](mvvm-model-3.png)\n![mvvm-model-4](mvvm-model-4.png)\n![mvvm-model-5](mvvm-model-5.png)\n![mvvm-model-6](mvvm-model-6.png)\n![mvvm-model-7](mvvm-model-7.png)\n![mvvm-model-8](mvvm-model-8.png)\n\n###### \n![appendix-1](appendix-1.png)\n![appendix-2](appendix-2.png)\n![appendix-3](appendix-3.png)\n![appendix-4](appendix-4.png)\n![appendix-5](appendix-5.png)\n![appendix-6](appendix-6.png)\n![appendix-7](appendix-7.png)\n![appendix-8](appendix-8.png)\n![appendix-9](appendix-9.png)\n![appendix-10](appendix-10.png)\n\n\n\n(1)Arraysliceslice = Array.prototype.slice\n\n\n\n(2)\n\n\n\n(3)\n\n\n  \n(1, 2, ...);   (1)(2)...\n\n","source":"_posts/28-about-design-model5.md","raw":"---\ntitle: JavaScript(6)\ndate: 2022-09-20 15:22:12\ntags:\n---\n\n#### \n,,\n\n###### \n:\nSMD (Synchronous Module Definition):\n\n(1)\n\n![module-model-1](module-model-1.png)\n![module-model-2](module-model-2.png)\n![module-model-3](module-model-3.png)\n![module-model-4](module-model-4.png)\n![module-model-5](module-model-5.png)\n\n###### \nAMD (Asynchronous Module Definition):\n\n![async-module-model-1](async-module-model-1.png)\n![async-module-model-2](async-module-model-2.png)\n![async-module-model-3](async-module-model-3.png)\n![async-module-model-4](async-module-model-4.png)\n![async-module-model-5](async-module-model-5.png)\n![async-module-model-6](async-module-model-6.png)\n![async-module-model-7](async-module-model-7.png)\n![async-module-model-8](async-module-model-8.png)\n![async-module-model-9](async-module-model-9.png)\n\n###### Widget\nWidget:(Web Widget)WidgetWeb Widget\n\n![widget-model-1](widget-model-1.png)\n![widget-model-2](widget-model-2.png)\n![widget-model-3](widget-model-3.png)\n![widget-model-4](widget-model-4.png)\n![widget-model-5](widget-model-5.png)\n![widget-model-6](widget-model-6.png)\n\n###### MVC\nMVC(model)(view)(controller)\n\n![mvc-model-1](mvc-model-1.png)\n\n****\n**3**\n\n![mvc-model-2](mvc-model-2.png)\n![mvc-model-3](mvc-model-3.png)\n3(M),\n\n![mvc-model-4](mvc-model-4.png)\n\n###### MVP\nMVP(Model)(View)(Presenter): ViewModelPresenterModelPresenter\n\n![mvp-model-1](mvp-model-1.png)\n![mvp-model-2](mvp-model-2.png)\n![mvp-model-3](mvp-model-3.png)\n![mvp-model-4](mvp-model-4.png)\n![mvp-model-5](mvp-model-5.png)\n![mvp-model-6](mvp-model-6.png)\n![mvp-model-7](mvp-model-7.png)\n\nMVPMVCMVPMVP\n\n###### MVVM\nMVVM(Model)-(View)-(ViewModel):(View)(ViewModel)(ViewModel)(View)(Model)\n\n![mvvm-model-1](mvvm-model-1.png)\n![mvvm-model-2](mvvm-model-2.png)\n![mvvm-model-3](mvvm-model-3.png)\n![mvvm-model-4](mvvm-model-4.png)\n![mvvm-model-5](mvvm-model-5.png)\n![mvvm-model-6](mvvm-model-6.png)\n![mvvm-model-7](mvvm-model-7.png)\n![mvvm-model-8](mvvm-model-8.png)\n\n###### \n![appendix-1](appendix-1.png)\n![appendix-2](appendix-2.png)\n![appendix-3](appendix-3.png)\n![appendix-4](appendix-4.png)\n![appendix-5](appendix-5.png)\n![appendix-6](appendix-6.png)\n![appendix-7](appendix-7.png)\n![appendix-8](appendix-8.png)\n![appendix-9](appendix-9.png)\n![appendix-10](appendix-10.png)\n\n\n\n(1)Arraysliceslice = Array.prototype.slice\n\n\n\n(2)\n\n\n\n(3)\n\n\n  \n(1, 2, ...);   (1)(2)...\n\n","slug":"28-about-design-model5","published":1,"updated":"2022-11-23T00:33:39.421Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baj3000znwva4zaa0pcr","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>,,</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>:<br>SMD (Synchronous Module Definition):</p>\n<p>(1)</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/module-model-1.png\" alt=\"module-model-1\"><br><img src=\"/2022/09/20/28-about-design-model5/module-model-2.png\" alt=\"module-model-2\"><br><img src=\"/2022/09/20/28-about-design-model5/module-model-3.png\" alt=\"module-model-3\"><br><img src=\"/2022/09/20/28-about-design-model5/module-model-4.png\" alt=\"module-model-4\"><br><img src=\"/2022/09/20/28-about-design-model5/module-model-5.png\" alt=\"module-model-5\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>AMD (Asynchronous Module Definition):</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/async-module-model-1.png\" alt=\"async-module-model-1\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-2.png\" alt=\"async-module-model-2\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-3.png\" alt=\"async-module-model-3\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-4.png\" alt=\"async-module-model-4\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-5.png\" alt=\"async-module-model-5\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-6.png\" alt=\"async-module-model-6\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-7.png\" alt=\"async-module-model-7\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-8.png\" alt=\"async-module-model-8\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-9.png\" alt=\"async-module-model-9\"></p>\n<h6 id=\"Widget\"><a href=\"#Widget\" class=\"headerlink\" title=\"Widget\"></a>Widget</h6><p>Widget:(Web Widget)WidgetWeb Widget</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/widget-model-1.png\" alt=\"widget-model-1\"><br><img src=\"/2022/09/20/28-about-design-model5/widget-model-2.png\" alt=\"widget-model-2\"><br><img src=\"/2022/09/20/28-about-design-model5/widget-model-3.png\" alt=\"widget-model-3\"><br><img src=\"/2022/09/20/28-about-design-model5/widget-model-4.png\" alt=\"widget-model-4\"><br><img src=\"/2022/09/20/28-about-design-model5/widget-model-5.png\" alt=\"widget-model-5\"><br><img src=\"/2022/09/20/28-about-design-model5/widget-model-6.png\" alt=\"widget-model-6\"></p>\n<h6 id=\"MVC\"><a href=\"#MVC\" class=\"headerlink\" title=\"MVC\"></a>MVC</h6><p>MVC(model)(view)(controller)</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/mvc-model-1.png\" alt=\"mvc-model-1\"></p>\n<p><strong></strong><br><strong>3</strong></p>\n<p><img src=\"/2022/09/20/28-about-design-model5/mvc-model-2.png\" alt=\"mvc-model-2\"><br><img src=\"/2022/09/20/28-about-design-model5/mvc-model-3.png\" alt=\"mvc-model-3\"><br>3(M),</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/mvc-model-4.png\" alt=\"mvc-model-4\"></p>\n<h6 id=\"MVP\"><a href=\"#MVP\" class=\"headerlink\" title=\"MVP\"></a>MVP</h6><p>MVP(Model)(View)(Presenter): ViewModelPresenterModelPresenter</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/mvp-model-1.png\" alt=\"mvp-model-1\"><br><img src=\"/2022/09/20/28-about-design-model5/mvp-model-2.png\" alt=\"mvp-model-2\"><br><img src=\"/2022/09/20/28-about-design-model5/mvp-model-3.png\" alt=\"mvp-model-3\"><br><img src=\"/2022/09/20/28-about-design-model5/mvp-model-4.png\" alt=\"mvp-model-4\"><br><img src=\"/2022/09/20/28-about-design-model5/mvp-model-5.png\" alt=\"mvp-model-5\"><br><img src=\"/2022/09/20/28-about-design-model5/mvp-model-6.png\" alt=\"mvp-model-6\"><br><img src=\"/2022/09/20/28-about-design-model5/mvp-model-7.png\" alt=\"mvp-model-7\"></p>\n<p>MVPMVCMVPMVP</p>\n<h6 id=\"MVVM\"><a href=\"#MVVM\" class=\"headerlink\" title=\"MVVM\"></a>MVVM</h6><p>MVVM(Model)-(View)-(ViewModel):(View)(ViewModel)(ViewModel)(View)(Model)</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-1.png\" alt=\"mvvm-model-1\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-2.png\" alt=\"mvvm-model-2\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-3.png\" alt=\"mvvm-model-3\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-4.png\" alt=\"mvvm-model-4\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-5.png\" alt=\"mvvm-model-5\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-6.png\" alt=\"mvvm-model-6\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-7.png\" alt=\"mvvm-model-7\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-8.png\" alt=\"mvvm-model-8\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><img src=\"/2022/09/20/28-about-design-model5/appendix-1.png\" alt=\"appendix-1\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-2.png\" alt=\"appendix-2\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-3.png\" alt=\"appendix-3\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-4.png\" alt=\"appendix-4\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-5.png\" alt=\"appendix-5\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-6.png\" alt=\"appendix-6\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-7.png\" alt=\"appendix-7\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-8.png\" alt=\"appendix-8\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-9.png\" alt=\"appendix-9\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-10.png\" alt=\"appendix-10\"></p>\n<p><br>(1)Arraysliceslice = Array.prototype.slice<br><br></p>\n<p>(2)<br><br></p>\n<p>(3)<br><br><br>  <br>(1, 2, );   (1)(2)</p>\n<p></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>,,</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>:<br>SMD (Synchronous Module Definition):</p>\n<p>(1)</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/module-model-1.png\" alt=\"module-model-1\"><br><img src=\"/2022/09/20/28-about-design-model5/module-model-2.png\" alt=\"module-model-2\"><br><img src=\"/2022/09/20/28-about-design-model5/module-model-3.png\" alt=\"module-model-3\"><br><img src=\"/2022/09/20/28-about-design-model5/module-model-4.png\" alt=\"module-model-4\"><br><img src=\"/2022/09/20/28-about-design-model5/module-model-5.png\" alt=\"module-model-5\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>AMD (Asynchronous Module Definition):</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/async-module-model-1.png\" alt=\"async-module-model-1\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-2.png\" alt=\"async-module-model-2\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-3.png\" alt=\"async-module-model-3\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-4.png\" alt=\"async-module-model-4\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-5.png\" alt=\"async-module-model-5\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-6.png\" alt=\"async-module-model-6\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-7.png\" alt=\"async-module-model-7\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-8.png\" alt=\"async-module-model-8\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-9.png\" alt=\"async-module-model-9\"></p>\n<h6 id=\"Widget\"><a href=\"#Widget\" class=\"headerlink\" title=\"Widget\"></a>Widget</h6><p>Widget:(Web Widget)WidgetWeb Widget</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/widget-model-1.png\" alt=\"widget-model-1\"><br><img src=\"/2022/09/20/28-about-design-model5/widget-model-2.png\" alt=\"widget-model-2\"><br><img src=\"/2022/09/20/28-about-design-model5/widget-model-3.png\" alt=\"widget-model-3\"><br><img src=\"/2022/09/20/28-about-design-model5/widget-model-4.png\" alt=\"widget-model-4\"><br><img src=\"/2022/09/20/28-about-design-model5/widget-model-5.png\" alt=\"widget-model-5\"><br><img src=\"/2022/09/20/28-about-design-model5/widget-model-6.png\" alt=\"widget-model-6\"></p>\n<h6 id=\"MVC\"><a href=\"#MVC\" class=\"headerlink\" title=\"MVC\"></a>MVC</h6><p>MVC(model)(view)(controller)</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/mvc-model-1.png\" alt=\"mvc-model-1\"></p>\n<p><strong></strong><br><strong>3</strong></p>\n<p><img src=\"/2022/09/20/28-about-design-model5/mvc-model-2.png\" alt=\"mvc-model-2\"><br><img src=\"/2022/09/20/28-about-design-model5/mvc-model-3.png\" alt=\"mvc-model-3\"><br>3(M),</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/mvc-model-4.png\" alt=\"mvc-model-4\"></p>\n<h6 id=\"MVP\"><a href=\"#MVP\" class=\"headerlink\" title=\"MVP\"></a>MVP</h6><p>MVP(Model)(View)(Presenter): ViewModelPresenterModelPresenter</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/mvp-model-1.png\" alt=\"mvp-model-1\"><br><img src=\"/2022/09/20/28-about-design-model5/mvp-model-2.png\" alt=\"mvp-model-2\"><br><img src=\"/2022/09/20/28-about-design-model5/mvp-model-3.png\" alt=\"mvp-model-3\"><br><img src=\"/2022/09/20/28-about-design-model5/mvp-model-4.png\" alt=\"mvp-model-4\"><br><img src=\"/2022/09/20/28-about-design-model5/mvp-model-5.png\" alt=\"mvp-model-5\"><br><img src=\"/2022/09/20/28-about-design-model5/mvp-model-6.png\" alt=\"mvp-model-6\"><br><img src=\"/2022/09/20/28-about-design-model5/mvp-model-7.png\" alt=\"mvp-model-7\"></p>\n<p>MVPMVCMVPMVP</p>\n<h6 id=\"MVVM\"><a href=\"#MVVM\" class=\"headerlink\" title=\"MVVM\"></a>MVVM</h6><p>MVVM(Model)-(View)-(ViewModel):(View)(ViewModel)(ViewModel)(View)(Model)</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-1.png\" alt=\"mvvm-model-1\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-2.png\" alt=\"mvvm-model-2\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-3.png\" alt=\"mvvm-model-3\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-4.png\" alt=\"mvvm-model-4\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-5.png\" alt=\"mvvm-model-5\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-6.png\" alt=\"mvvm-model-6\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-7.png\" alt=\"mvvm-model-7\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-8.png\" alt=\"mvvm-model-8\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><img src=\"/2022/09/20/28-about-design-model5/appendix-1.png\" alt=\"appendix-1\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-2.png\" alt=\"appendix-2\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-3.png\" alt=\"appendix-3\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-4.png\" alt=\"appendix-4\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-5.png\" alt=\"appendix-5\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-6.png\" alt=\"appendix-6\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-7.png\" alt=\"appendix-7\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-8.png\" alt=\"appendix-8\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-9.png\" alt=\"appendix-9\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-10.png\" alt=\"appendix-10\"></p>\n<p><br>(1)Arraysliceslice = Array.prototype.slice<br><br></p>\n<p>(2)<br><br></p>\n<p>(3)<br><br><br>  <br>(1, 2, );   (1)(2)</p>\n<p></p>\n"},{"title":"hexo","date":"2022-03-26T13:14:29.000Z","_content":"\n## hexo\n\n1hexo'hexo'    bash: hexo: command not found\nnpm install hexo-cli -g\n\n2/.io//\nhexo-asset-imagebug\nnode_modules/hexo-asset-imageindex.js\n\n```javascript\n'use strict';\nvar cheerio = require('cheerio');\n\nfunction getPosition(str, m, i) {\nreturn str.split(m, i).join(m).length;\n}\n\nvar version = String(hexo.version).split('.');\nhexo.extend.filter.register('after_post_render', function(data){\nvar config = hexo.config;\nif(config.post_asset_folder){\n  var link = data.permalink;\n  if(version.length > 0 && Number(version[0]) == 3)\n     var beginPos = getPosition(link, '/', 1) + 1;\n  else\n     var beginPos = getPosition(link, '/', 3) + 1;\n  // In hexo 3.1.1, the permalink of \"about\" page is like \".../about/index.html\".\n  var endPos = link.lastIndexOf('/') + 1;\n  link = link.substring(beginPos, endPos);\n  \n  var toprocess = ['excerpt', 'more', 'content'];\n  for(var i = 0; i < toprocess.length; i++){\n    var key = toprocess[i];\n  \n    var $ = cheerio.load(data[key], {\n      ignoreWhitespace: false,\n      xmlMode: false,\n      lowerCaseTags: false,\n      decodeEntities: false\n    });\n  \n    $('img').each(function(){\n      if ($(this).attr('src')){\n          // For windows style path, we replace '\\' to '/'.\n          var src = $(this).attr('src').replace('\\\\', '/');\n          if(!/http[s]*.*|\\/\\/.*/.test(src) &&\n             !/^\\s*\\//.test(src)) {\n            // For \"about\" page, the first part of \"src\" can't be removed.\n            // In addition, to support multi-level local directory.\n            var linkArray = link.split('/').filter(function(elem){\n              return elem != '';\n            });\n            var srcArray = src.split('/').filter(function(elem){\n              return elem != '' && elem != '.';\n            });\n            if(srcArray.length > 1)\n              srcArray.shift();\n            src = srcArray.join('/');\n            // \n            if (link == 'nodejs/') {\n              src = `images/${src}`;\n            }\n            $(this).attr('src', config.root + link + src);\n            console.info&&console.info(\"update link as:-->\"+config.root + link + src);\n          }\n      }else{\n          console.info&&console.info(\"no src attr, skipped...\");\n          console.info&&console.info($(this));\n      }\n    });\n    data[key] = $.html();\n      }\n    }\n  });\n  \n```","source":"_posts/3-about-use-hexo.md","raw":"---\ntitle: hexo\ndate: 2022-03-26 21:14:29\ntags:\n---\n\n## hexo\n\n1hexo'hexo'    bash: hexo: command not found\nnpm install hexo-cli -g\n\n2/.io//\nhexo-asset-imagebug\nnode_modules/hexo-asset-imageindex.js\n\n```javascript\n'use strict';\nvar cheerio = require('cheerio');\n\nfunction getPosition(str, m, i) {\nreturn str.split(m, i).join(m).length;\n}\n\nvar version = String(hexo.version).split('.');\nhexo.extend.filter.register('after_post_render', function(data){\nvar config = hexo.config;\nif(config.post_asset_folder){\n  var link = data.permalink;\n  if(version.length > 0 && Number(version[0]) == 3)\n     var beginPos = getPosition(link, '/', 1) + 1;\n  else\n     var beginPos = getPosition(link, '/', 3) + 1;\n  // In hexo 3.1.1, the permalink of \"about\" page is like \".../about/index.html\".\n  var endPos = link.lastIndexOf('/') + 1;\n  link = link.substring(beginPos, endPos);\n  \n  var toprocess = ['excerpt', 'more', 'content'];\n  for(var i = 0; i < toprocess.length; i++){\n    var key = toprocess[i];\n  \n    var $ = cheerio.load(data[key], {\n      ignoreWhitespace: false,\n      xmlMode: false,\n      lowerCaseTags: false,\n      decodeEntities: false\n    });\n  \n    $('img').each(function(){\n      if ($(this).attr('src')){\n          // For windows style path, we replace '\\' to '/'.\n          var src = $(this).attr('src').replace('\\\\', '/');\n          if(!/http[s]*.*|\\/\\/.*/.test(src) &&\n             !/^\\s*\\//.test(src)) {\n            // For \"about\" page, the first part of \"src\" can't be removed.\n            // In addition, to support multi-level local directory.\n            var linkArray = link.split('/').filter(function(elem){\n              return elem != '';\n            });\n            var srcArray = src.split('/').filter(function(elem){\n              return elem != '' && elem != '.';\n            });\n            if(srcArray.length > 1)\n              srcArray.shift();\n            src = srcArray.join('/');\n            // \n            if (link == 'nodejs/') {\n              src = `images/${src}`;\n            }\n            $(this).attr('src', config.root + link + src);\n            console.info&&console.info(\"update link as:-->\"+config.root + link + src);\n          }\n      }else{\n          console.info&&console.info(\"no src attr, skipped...\");\n          console.info&&console.info($(this));\n      }\n    });\n    data[key] = $.html();\n      }\n    }\n  });\n  \n```","slug":"3-about-use-hexo","published":1,"updated":"2022-12-21T01:27:15.833Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baj40010nwva9fqchjid","content":"<h2 id=\"hexo\"><a href=\"#hexo\" class=\"headerlink\" title=\"hexo\"></a>hexo</h2><p>1hexohexo    bash: hexo: command not found<br>npm install hexo-cli -g</p>\n<p>2/.io//<br>hexo-asset-imagebug<br>node_modules/hexo-asset-imageindex.js</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&#x27;use strict&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> cheerio = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;cheerio&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getPosition</span>(<span class=\"params\">str, m, i</span>) </span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> str.split(m, i).join(m).length;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> version = <span class=\"built_in\">String</span>(hexo.version).split(<span class=\"string\">&#x27;.&#x27;</span>);</span><br><span class=\"line\">hexo.extend.filter.register(<span class=\"string\">&#x27;after_post_render&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>)</span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">var</span> config = hexo.config;</span><br><span class=\"line\"><span class=\"keyword\">if</span>(config.post_asset_folder)&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> link = data.permalink;</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(version.length &gt; <span class=\"number\">0</span> &amp;&amp; <span class=\"built_in\">Number</span>(version[<span class=\"number\">0</span>]) == <span class=\"number\">3</span>)</span><br><span class=\"line\">     <span class=\"keyword\">var</span> beginPos = getPosition(link, <span class=\"string\">&#x27;/&#x27;</span>, <span class=\"number\">1</span>) + <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">else</span></span><br><span class=\"line\">     <span class=\"keyword\">var</span> beginPos = getPosition(link, <span class=\"string\">&#x27;/&#x27;</span>, <span class=\"number\">3</span>) + <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"comment\">// In hexo 3.1.1, the permalink of &quot;about&quot; page is like &quot;.../about/index.html&quot;.</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> endPos = link.lastIndexOf(<span class=\"string\">&#x27;/&#x27;</span>) + <span class=\"number\">1</span>;</span><br><span class=\"line\">  link = link.substring(beginPos, endPos);</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">var</span> toprocess = [<span class=\"string\">&#x27;excerpt&#x27;</span>, <span class=\"string\">&#x27;more&#x27;</span>, <span class=\"string\">&#x27;content&#x27;</span>];</span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; toprocess.length; i++)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> key = toprocess[i];</span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"keyword\">var</span> $ = cheerio.load(data[key], &#123;</span><br><span class=\"line\">      <span class=\"attr\">ignoreWhitespace</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      <span class=\"attr\">xmlMode</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      <span class=\"attr\">lowerCaseTags</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      <span class=\"attr\">decodeEntities</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  </span><br><span class=\"line\">    $(<span class=\"string\">&#x27;img&#x27;</span>).each(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> ($(<span class=\"built_in\">this</span>).attr(<span class=\"string\">&#x27;src&#x27;</span>))&#123;</span><br><span class=\"line\">          <span class=\"comment\">// For windows style path, we replace &#x27;\\&#x27; to &#x27;/&#x27;.</span></span><br><span class=\"line\">          <span class=\"keyword\">var</span> src = $(<span class=\"built_in\">this</span>).attr(<span class=\"string\">&#x27;src&#x27;</span>).replace(<span class=\"string\">&#x27;\\\\&#x27;</span>, <span class=\"string\">&#x27;/&#x27;</span>);</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(!<span class=\"regexp\">/http[s]*.*|\\/\\/.*/</span>.test(src) &amp;&amp;</span><br><span class=\"line\">             !<span class=\"regexp\">/^\\s*\\//</span>.test(src)) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// For &quot;about&quot; page, the first part of &quot;src&quot; can&#x27;t be removed.</span></span><br><span class=\"line\">            <span class=\"comment\">// In addition, to support multi-level local directory.</span></span><br><span class=\"line\">            <span class=\"keyword\">var</span> linkArray = link.split(<span class=\"string\">&#x27;/&#x27;</span>).filter(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">elem</span>)</span>&#123;</span><br><span class=\"line\">              <span class=\"keyword\">return</span> elem != <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            <span class=\"keyword\">var</span> srcArray = src.split(<span class=\"string\">&#x27;/&#x27;</span>).filter(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">elem</span>)</span>&#123;</span><br><span class=\"line\">              <span class=\"keyword\">return</span> elem != <span class=\"string\">&#x27;&#x27;</span> &amp;&amp; elem != <span class=\"string\">&#x27;.&#x27;</span>;</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(srcArray.length &gt; <span class=\"number\">1</span>)</span><br><span class=\"line\">              srcArray.shift();</span><br><span class=\"line\">            src = srcArray.join(<span class=\"string\">&#x27;/&#x27;</span>);</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (link == <span class=\"string\">&#x27;nodejs/&#x27;</span>) &#123;</span><br><span class=\"line\">              src = <span class=\"string\">`images/<span class=\"subst\">$&#123;src&#125;</span>`</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            $(<span class=\"built_in\">this</span>).attr(<span class=\"string\">&#x27;src&#x27;</span>, config.root + link + src);</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.info&amp;&amp;<span class=\"built_in\">console</span>.info(<span class=\"string\">&quot;update link as:--&gt;&quot;</span>+config.root + link + src);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">      &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">          <span class=\"built_in\">console</span>.info&amp;&amp;<span class=\"built_in\">console</span>.info(<span class=\"string\">&quot;no src attr, skipped...&quot;</span>);</span><br><span class=\"line\">          <span class=\"built_in\">console</span>.info&amp;&amp;<span class=\"built_in\">console</span>.info($(<span class=\"built_in\">this</span>));</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    data[key] = $.html();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  </span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<h2 id=\"hexo\"><a href=\"#hexo\" class=\"headerlink\" title=\"hexo\"></a>hexo</h2><p>1hexohexo    bash: hexo: command not found<br>npm install hexo-cli -g</p>\n<p>2/.io//<br>hexo-asset-imagebug<br>node_modules/hexo-asset-imageindex.js</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&#x27;use strict&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> cheerio = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;cheerio&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getPosition</span>(<span class=\"params\">str, m, i</span>) </span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> str.split(m, i).join(m).length;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> version = <span class=\"built_in\">String</span>(hexo.version).split(<span class=\"string\">&#x27;.&#x27;</span>);</span><br><span class=\"line\">hexo.extend.filter.register(<span class=\"string\">&#x27;after_post_render&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>)</span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">var</span> config = hexo.config;</span><br><span class=\"line\"><span class=\"keyword\">if</span>(config.post_asset_folder)&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> link = data.permalink;</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(version.length &gt; <span class=\"number\">0</span> &amp;&amp; <span class=\"built_in\">Number</span>(version[<span class=\"number\">0</span>]) == <span class=\"number\">3</span>)</span><br><span class=\"line\">     <span class=\"keyword\">var</span> beginPos = getPosition(link, <span class=\"string\">&#x27;/&#x27;</span>, <span class=\"number\">1</span>) + <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">else</span></span><br><span class=\"line\">     <span class=\"keyword\">var</span> beginPos = getPosition(link, <span class=\"string\">&#x27;/&#x27;</span>, <span class=\"number\">3</span>) + <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"comment\">// In hexo 3.1.1, the permalink of &quot;about&quot; page is like &quot;.../about/index.html&quot;.</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> endPos = link.lastIndexOf(<span class=\"string\">&#x27;/&#x27;</span>) + <span class=\"number\">1</span>;</span><br><span class=\"line\">  link = link.substring(beginPos, endPos);</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">var</span> toprocess = [<span class=\"string\">&#x27;excerpt&#x27;</span>, <span class=\"string\">&#x27;more&#x27;</span>, <span class=\"string\">&#x27;content&#x27;</span>];</span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; toprocess.length; i++)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> key = toprocess[i];</span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"keyword\">var</span> $ = cheerio.load(data[key], &#123;</span><br><span class=\"line\">      <span class=\"attr\">ignoreWhitespace</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      <span class=\"attr\">xmlMode</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      <span class=\"attr\">lowerCaseTags</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      <span class=\"attr\">decodeEntities</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  </span><br><span class=\"line\">    $(<span class=\"string\">&#x27;img&#x27;</span>).each(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> ($(<span class=\"built_in\">this</span>).attr(<span class=\"string\">&#x27;src&#x27;</span>))&#123;</span><br><span class=\"line\">          <span class=\"comment\">// For windows style path, we replace &#x27;\\&#x27; to &#x27;/&#x27;.</span></span><br><span class=\"line\">          <span class=\"keyword\">var</span> src = $(<span class=\"built_in\">this</span>).attr(<span class=\"string\">&#x27;src&#x27;</span>).replace(<span class=\"string\">&#x27;\\\\&#x27;</span>, <span class=\"string\">&#x27;/&#x27;</span>);</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(!<span class=\"regexp\">/http[s]*.*|\\/\\/.*/</span>.test(src) &amp;&amp;</span><br><span class=\"line\">             !<span class=\"regexp\">/^\\s*\\//</span>.test(src)) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// For &quot;about&quot; page, the first part of &quot;src&quot; can&#x27;t be removed.</span></span><br><span class=\"line\">            <span class=\"comment\">// In addition, to support multi-level local directory.</span></span><br><span class=\"line\">            <span class=\"keyword\">var</span> linkArray = link.split(<span class=\"string\">&#x27;/&#x27;</span>).filter(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">elem</span>)</span>&#123;</span><br><span class=\"line\">              <span class=\"keyword\">return</span> elem != <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            <span class=\"keyword\">var</span> srcArray = src.split(<span class=\"string\">&#x27;/&#x27;</span>).filter(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">elem</span>)</span>&#123;</span><br><span class=\"line\">              <span class=\"keyword\">return</span> elem != <span class=\"string\">&#x27;&#x27;</span> &amp;&amp; elem != <span class=\"string\">&#x27;.&#x27;</span>;</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(srcArray.length &gt; <span class=\"number\">1</span>)</span><br><span class=\"line\">              srcArray.shift();</span><br><span class=\"line\">            src = srcArray.join(<span class=\"string\">&#x27;/&#x27;</span>);</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (link == <span class=\"string\">&#x27;nodejs/&#x27;</span>) &#123;</span><br><span class=\"line\">              src = <span class=\"string\">`images/<span class=\"subst\">$&#123;src&#125;</span>`</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            $(<span class=\"built_in\">this</span>).attr(<span class=\"string\">&#x27;src&#x27;</span>, config.root + link + src);</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.info&amp;&amp;<span class=\"built_in\">console</span>.info(<span class=\"string\">&quot;update link as:--&gt;&quot;</span>+config.root + link + src);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">      &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">          <span class=\"built_in\">console</span>.info&amp;&amp;<span class=\"built_in\">console</span>.info(<span class=\"string\">&quot;no src attr, skipped...&quot;</span>);</span><br><span class=\"line\">          <span class=\"built_in\">console</span>.info&amp;&amp;<span class=\"built_in\">console</span>.info($(<span class=\"built_in\">this</span>));</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    data[key] = $.html();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  </span><br></pre></td></tr></table></figure>"},{"title":"","date":"2022-09-05T05:24:10.000Z","_content":"\n###### \n```javascript\n// \nconst name = '';\nconst obj = { ...name && {name}};\nconsole.log(obj); // {}\n// \nconst name = 'test_name';\nconst obj = { ...name && {name}};\nconsole.log(obj); // { name: 'test_name'}\n```\n\n###### \n```javascript\nlet one = '12';\nlet two = '34';\n[one, two] = [two, one];\nconsole.log(one); // '34'\nconsole.log(two); // '12'\n```\n\n###### Booleanfalse\n```javascript\nconst array = [0, false, 12, true, '12', undefined, '', 8, null];\nconst result = array.filter(Boolean);\nconsole.log(result); // [12, true, '12', 8]\n```\n\n###### \n```javascript\n// NumberString\nconst string = [1, 2, 3, 12].map(String);\nconsole.log(string); // ['1', '2', '3', '12']\n// StringNumber\nconst string = ['1', '2', '3', '12'].map(Number);\nconsole.log(string); // [1, 2, 3, 12]\n```\n\n###### \n```javascript\nconst repeatArray = [1,1,1,3,5,6,7,8,9,23,45,1,2,3,5,6];\nconst result = [...new Set(repeatArray)];\nconsole.log(result); // [1, 3, 5, 6, 7, 8, 9, 23, 45, 2]\n```","source":"_posts/30-some-convenient-code.md","raw":"---\ntitle: \ndate: 2022-09-05 13:24:10\ntags:\n---\n\n###### \n```javascript\n// \nconst name = '';\nconst obj = { ...name && {name}};\nconsole.log(obj); // {}\n// \nconst name = 'test_name';\nconst obj = { ...name && {name}};\nconsole.log(obj); // { name: 'test_name'}\n```\n\n###### \n```javascript\nlet one = '12';\nlet two = '34';\n[one, two] = [two, one];\nconsole.log(one); // '34'\nconsole.log(two); // '12'\n```\n\n###### Booleanfalse\n```javascript\nconst array = [0, false, 12, true, '12', undefined, '', 8, null];\nconst result = array.filter(Boolean);\nconsole.log(result); // [12, true, '12', 8]\n```\n\n###### \n```javascript\n// NumberString\nconst string = [1, 2, 3, 12].map(String);\nconsole.log(string); // ['1', '2', '3', '12']\n// StringNumber\nconst string = ['1', '2', '3', '12'].map(Number);\nconsole.log(string); // [1, 2, 3, 12]\n```\n\n###### \n```javascript\nconst repeatArray = [1,1,1,3,5,6,7,8,9,23,45,1,2,3,5,6];\nconst result = [...new Set(repeatArray)];\nconsole.log(result); // [1, 3, 5, 6, 7, 8, 9, 23, 45, 2]\n```","slug":"30-some-convenient-code","published":1,"updated":"2022-11-23T00:33:39.563Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baj40011nwva31n8d6l3","content":"<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> name = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123; ...name &amp;&amp; &#123;name&#125;&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj); <span class=\"comment\">// &#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> name = <span class=\"string\">&#x27;test_name&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123; ...name &amp;&amp; &#123;name&#125;&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj); <span class=\"comment\">// &#123; name: &#x27;test_name&#x27;&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> one = <span class=\"string\">&#x27;12&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> two = <span class=\"string\">&#x27;34&#x27;</span>;</span><br><span class=\"line\">[one, two] = [two, one];</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(one); <span class=\"comment\">// &#x27;34&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(two); <span class=\"comment\">// &#x27;12&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"Booleanfalse\"><a href=\"#Booleanfalse\" class=\"headerlink\" title=\"Booleanfalse\"></a>Booleanfalse</h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">0</span>, <span class=\"literal\">false</span>, <span class=\"number\">12</span>, <span class=\"literal\">true</span>, <span class=\"string\">&#x27;12&#x27;</span>, <span class=\"literal\">undefined</span>, <span class=\"string\">&#x27;&#x27;</span>, <span class=\"number\">8</span>, <span class=\"literal\">null</span>];</span><br><span class=\"line\"><span class=\"keyword\">const</span> result = array.filter(<span class=\"built_in\">Boolean</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(result); <span class=\"comment\">// [12, true, &#x27;12&#x27;, 8]</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// NumberString</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> string = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">12</span>].map(<span class=\"built_in\">String</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(string); <span class=\"comment\">// [&#x27;1&#x27;, &#x27;2&#x27;, &#x27;3&#x27;, &#x27;12&#x27;]</span></span><br><span class=\"line\"><span class=\"comment\">// StringNumber</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> string = [<span class=\"string\">&#x27;1&#x27;</span>, <span class=\"string\">&#x27;2&#x27;</span>, <span class=\"string\">&#x27;3&#x27;</span>, <span class=\"string\">&#x27;12&#x27;</span>].map(<span class=\"built_in\">Number</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(string); <span class=\"comment\">// [1, 2, 3, 12]</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> repeatArray = [<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"number\">3</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>,<span class=\"number\">7</span>,<span class=\"number\">8</span>,<span class=\"number\">9</span>,<span class=\"number\">23</span>,<span class=\"number\">45</span>,<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>];</span><br><span class=\"line\"><span class=\"keyword\">const</span> result = [...new <span class=\"built_in\">Set</span>(repeatArray)];</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(result); <span class=\"comment\">// [1, 3, 5, 6, 7, 8, 9, 23, 45, 2]</span></span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> name = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123; ...name &amp;&amp; &#123;name&#125;&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj); <span class=\"comment\">// &#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> name = <span class=\"string\">&#x27;test_name&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123; ...name &amp;&amp; &#123;name&#125;&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj); <span class=\"comment\">// &#123; name: &#x27;test_name&#x27;&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> one = <span class=\"string\">&#x27;12&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> two = <span class=\"string\">&#x27;34&#x27;</span>;</span><br><span class=\"line\">[one, two] = [two, one];</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(one); <span class=\"comment\">// &#x27;34&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(two); <span class=\"comment\">// &#x27;12&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"Booleanfalse\"><a href=\"#Booleanfalse\" class=\"headerlink\" title=\"Booleanfalse\"></a>Booleanfalse</h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">0</span>, <span class=\"literal\">false</span>, <span class=\"number\">12</span>, <span class=\"literal\">true</span>, <span class=\"string\">&#x27;12&#x27;</span>, <span class=\"literal\">undefined</span>, <span class=\"string\">&#x27;&#x27;</span>, <span class=\"number\">8</span>, <span class=\"literal\">null</span>];</span><br><span class=\"line\"><span class=\"keyword\">const</span> result = array.filter(<span class=\"built_in\">Boolean</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(result); <span class=\"comment\">// [12, true, &#x27;12&#x27;, 8]</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// NumberString</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> string = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">12</span>].map(<span class=\"built_in\">String</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(string); <span class=\"comment\">// [&#x27;1&#x27;, &#x27;2&#x27;, &#x27;3&#x27;, &#x27;12&#x27;]</span></span><br><span class=\"line\"><span class=\"comment\">// StringNumber</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> string = [<span class=\"string\">&#x27;1&#x27;</span>, <span class=\"string\">&#x27;2&#x27;</span>, <span class=\"string\">&#x27;3&#x27;</span>, <span class=\"string\">&#x27;12&#x27;</span>].map(<span class=\"built_in\">Number</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(string); <span class=\"comment\">// [1, 2, 3, 12]</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> repeatArray = [<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"number\">3</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>,<span class=\"number\">7</span>,<span class=\"number\">8</span>,<span class=\"number\">9</span>,<span class=\"number\">23</span>,<span class=\"number\">45</span>,<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>];</span><br><span class=\"line\"><span class=\"keyword\">const</span> result = [...new <span class=\"built_in\">Set</span>(repeatArray)];</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(result); <span class=\"comment\">// [1, 3, 5, 6, 7, 8, 9, 23, 45, 2]</span></span><br></pre></td></tr></table></figure>"},{"title":"Object","date":"2022-09-05T05:54:58.000Z","_content":"\n###### ObjectObject.getPrototypeOf\nObject.getPrototypeOf\n```javascript\nObject.getPrototypeOf(obj);\n```\n****\nobj: \n****\nnull\n\nes5TypeError\nes6\n****\n```javascript\nconsole.log(Object.getPrototypeOf('12') === String.prototype); // true\n// \nconsole.log(Object.getPrototypeOf(12) === Number.prototype); // true\n//\nconsole.log(Object.getPrototypeOf({}) === Object.prototype); // true\n// \nconsole.log(Object.getPrototypeOf(true) === Boolean.prototype); // true\n// \nconsole.log(Object.getPrototypeOf(Symbol('test')) === Symbol.prototype); // true\n// \nconsole.log(Object.getPrototypeOf(null)); // Uncaught TypeError: Cannot convert undefined or null to object\n// \nconsole.log(Object.getPrototypeOf(undefined)); // Uncaught TypeError: Cannot convert undefined or null to object\n\n// \nconst obj = Object.create(null);\nconsole.log(Object.getPrototypeOf(obj)); // null\nconst obj = Object.create(undefined);\nconsole.log(Object.getPrototypeOf(obj)); // Uncaught TypeError: Object prototype may only be an Object or null: undefined\n```\n\n###### Object: Object.setPrototypeOf\nObject.setPrototypeOfnull\n```javascript\nObject.setPrototypeOf(obj, proto);\n```\n****\nobj: \nproto: nullTypeError\n\n****\n\n\nObject.create()\n\n****\n```javascript\nconst obj = { name: 'test' };\nconst newObj = Object.create(obj);\nObject.setPrototypeOf(newObj, obj);\nconsole.log(newObj.name); // 'test'\n\nconst otherObj = { age: 12};\nconsole.log(Object.getPrototypeOf(newObj) === obj); // true\nObject.setPrototypeOf(newObj, otherObj);\nconsole.log(Object.getPrototypeOf(newObj) === obj); // false\nconsole.log(Object.getPrototypeOf(newObj) === otherObj); // true\nconsole.log(newObj.name); // undefined\nconsole.log(newObj.age); // 12\n```","source":"_posts/31-get-and-set-prototypeof.md","raw":"---\ntitle: Object\ndate: 2022-09-05 13:54:58\ntags:\n---\n\n###### ObjectObject.getPrototypeOf\nObject.getPrototypeOf\n```javascript\nObject.getPrototypeOf(obj);\n```\n****\nobj: \n****\nnull\n\nes5TypeError\nes6\n****\n```javascript\nconsole.log(Object.getPrototypeOf('12') === String.prototype); // true\n// \nconsole.log(Object.getPrototypeOf(12) === Number.prototype); // true\n//\nconsole.log(Object.getPrototypeOf({}) === Object.prototype); // true\n// \nconsole.log(Object.getPrototypeOf(true) === Boolean.prototype); // true\n// \nconsole.log(Object.getPrototypeOf(Symbol('test')) === Symbol.prototype); // true\n// \nconsole.log(Object.getPrototypeOf(null)); // Uncaught TypeError: Cannot convert undefined or null to object\n// \nconsole.log(Object.getPrototypeOf(undefined)); // Uncaught TypeError: Cannot convert undefined or null to object\n\n// \nconst obj = Object.create(null);\nconsole.log(Object.getPrototypeOf(obj)); // null\nconst obj = Object.create(undefined);\nconsole.log(Object.getPrototypeOf(obj)); // Uncaught TypeError: Object prototype may only be an Object or null: undefined\n```\n\n###### Object: Object.setPrototypeOf\nObject.setPrototypeOfnull\n```javascript\nObject.setPrototypeOf(obj, proto);\n```\n****\nobj: \nproto: nullTypeError\n\n****\n\n\nObject.create()\n\n****\n```javascript\nconst obj = { name: 'test' };\nconst newObj = Object.create(obj);\nObject.setPrototypeOf(newObj, obj);\nconsole.log(newObj.name); // 'test'\n\nconst otherObj = { age: 12};\nconsole.log(Object.getPrototypeOf(newObj) === obj); // true\nObject.setPrototypeOf(newObj, otherObj);\nconsole.log(Object.getPrototypeOf(newObj) === obj); // false\nconsole.log(Object.getPrototypeOf(newObj) === otherObj); // true\nconsole.log(newObj.name); // undefined\nconsole.log(newObj.age); // 12\n```","slug":"31-get-and-set-prototypeof","published":1,"updated":"2022-11-23T00:33:39.564Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baj50012nwvacxbfe1d4","content":"<h6 id=\"ObjectObject-getPrototypeOf\"><a href=\"#ObjectObject-getPrototypeOf\" class=\"headerlink\" title=\"ObjectObject.getPrototypeOf\"></a>ObjectObject.getPrototypeOf</h6><p>Object.getPrototypeOf</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Object</span>.getPrototypeOf(obj);</span><br></pre></td></tr></table></figure>\n<p><strong></strong><br>obj: <br><strong></strong><br>null<br><br>es5TypeError<br>es6<br><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(<span class=\"string\">&#x27;12&#x27;</span>) === <span class=\"built_in\">String</span>.prototype); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(<span class=\"number\">12</span>) === <span class=\"built_in\">Number</span>.prototype); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(&#123;&#125;) === <span class=\"built_in\">Object</span>.prototype); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(<span class=\"literal\">true</span>) === <span class=\"built_in\">Boolean</span>.prototype); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(<span class=\"built_in\">Symbol</span>(<span class=\"string\">&#x27;test&#x27;</span>)) === <span class=\"built_in\">Symbol</span>.prototype); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(<span class=\"literal\">null</span>)); <span class=\"comment\">// Uncaught TypeError: Cannot convert undefined or null to object</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(<span class=\"literal\">undefined</span>)); <span class=\"comment\">// Uncaught TypeError: Cannot convert undefined or null to object</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = <span class=\"built_in\">Object</span>.create(<span class=\"literal\">null</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(obj)); <span class=\"comment\">// null</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = <span class=\"built_in\">Object</span>.create(<span class=\"literal\">undefined</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(obj)); <span class=\"comment\">// Uncaught TypeError: Object prototype may only be an Object or null: undefined</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"Object-Object-setPrototypeOf\"><a href=\"#Object-Object-setPrototypeOf\" class=\"headerlink\" title=\"Object: Object.setPrototypeOf\"></a>Object: Object.setPrototypeOf</h6><p>Object.setPrototypeOfnull</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, proto);</span><br></pre></td></tr></table></figure>\n<p><strong></strong><br>obj: <br>proto: nullTypeError</p>\n<p><strong></strong><br></p>\n<p>Object.create()</p>\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;test&#x27;</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> newObj = <span class=\"built_in\">Object</span>.create(obj);</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(newObj, obj);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newObj.name); <span class=\"comment\">// &#x27;test&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> otherObj = &#123; <span class=\"attr\">age</span>: <span class=\"number\">12</span>&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(newObj) === obj); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(newObj, otherObj);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(newObj) === obj); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(newObj) === otherObj); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newObj.name); <span class=\"comment\">// undefined</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newObj.age); <span class=\"comment\">// 12</span></span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<h6 id=\"ObjectObject-getPrototypeOf\"><a href=\"#ObjectObject-getPrototypeOf\" class=\"headerlink\" title=\"ObjectObject.getPrototypeOf\"></a>ObjectObject.getPrototypeOf</h6><p>Object.getPrototypeOf</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Object</span>.getPrototypeOf(obj);</span><br></pre></td></tr></table></figure>\n<p><strong></strong><br>obj: <br><strong></strong><br>null<br><br>es5TypeError<br>es6<br><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(<span class=\"string\">&#x27;12&#x27;</span>) === <span class=\"built_in\">String</span>.prototype); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(<span class=\"number\">12</span>) === <span class=\"built_in\">Number</span>.prototype); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(&#123;&#125;) === <span class=\"built_in\">Object</span>.prototype); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(<span class=\"literal\">true</span>) === <span class=\"built_in\">Boolean</span>.prototype); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(<span class=\"built_in\">Symbol</span>(<span class=\"string\">&#x27;test&#x27;</span>)) === <span class=\"built_in\">Symbol</span>.prototype); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(<span class=\"literal\">null</span>)); <span class=\"comment\">// Uncaught TypeError: Cannot convert undefined or null to object</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(<span class=\"literal\">undefined</span>)); <span class=\"comment\">// Uncaught TypeError: Cannot convert undefined or null to object</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = <span class=\"built_in\">Object</span>.create(<span class=\"literal\">null</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(obj)); <span class=\"comment\">// null</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = <span class=\"built_in\">Object</span>.create(<span class=\"literal\">undefined</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(obj)); <span class=\"comment\">// Uncaught TypeError: Object prototype may only be an Object or null: undefined</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"Object-Object-setPrototypeOf\"><a href=\"#Object-Object-setPrototypeOf\" class=\"headerlink\" title=\"Object: Object.setPrototypeOf\"></a>Object: Object.setPrototypeOf</h6><p>Object.setPrototypeOfnull</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, proto);</span><br></pre></td></tr></table></figure>\n<p><strong></strong><br>obj: <br>proto: nullTypeError</p>\n<p><strong></strong><br></p>\n<p>Object.create()</p>\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;test&#x27;</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> newObj = <span class=\"built_in\">Object</span>.create(obj);</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(newObj, obj);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newObj.name); <span class=\"comment\">// &#x27;test&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> otherObj = &#123; <span class=\"attr\">age</span>: <span class=\"number\">12</span>&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(newObj) === obj); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(newObj, otherObj);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(newObj) === obj); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(newObj) === otherObj); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newObj.name); <span class=\"comment\">// undefined</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newObj.age); <span class=\"comment\">// 12</span></span><br></pre></td></tr></table></figure>"},{"title":"(1)","date":"2022-09-20T09:41:00.000Z","_content":"\nECMAScript  javascript \nECMAScript JavaScript ()\n\nES5ES6ES2015ES7ES2016ES8ES2017  ES.Next \n\n(1)2009  12  ECMAScript5( ES5 ES  ECMAScript )\n\n(2)ECMAScript2015(ES2015) 2015  6  ECMAScript \nECMAScript  ECMAScript2015(ES6)\n\n(3)2016  6 ECMAScript  ECMAScript2016  ES2016(ES7)\n\n(4)2017  6 ECMAScript  ECMAScript2017  ES2017(ES8)\n\n(5)ES.Next  ECMAScript\n\nES6 http://kangax.github.io/compat-table/es6/\nES7 http://kangax.github.io/compat-table/es2016plus/\n\nES5  class \n(1) get  set  get  set \n(2)\n\n```javascript\nclass Person {\n  constructor(name) {\n    this._name = name; // {1}\n  }\n  get name() {\n    // {2}\n    return this._name;\n  }\n  set name(value) {\n    // {3}\n    this._name = value;\n  }\n}\nlet lotrChar = new Person('Frodo');\nconsole.log(lotrChar.name); // {4} // Frodo\nlotrChar.name = 'Gandalf'; // {5}\nconsole.log(lotrChar.name); // Gandalf\nlotrChar._name = 'Sam'; // {6}\nconsole.log(lotrChar.name); // Sam\n```\n\n\n\n```javascript\nconst area = 3.14 * r * r;\nconst area = 3.14 * Math.pow(r, 2);\n// ES2016 **\nconst area = 3.14 * r ** 2;\n```\n\n[JavaScript  ECMAScript ](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript)\n\n###### TypeScript\n\nTypeScript .\n(1)\n\n```javascript\n// \ninterface Person {\n  name: string;\n  age: number;\n}\nfunction printName(person: Person) {\n  console.log(person.name);\n}\n/** Comparable  MyObject  compareTo \n**/\ninterface Comparable {\n  compareTo(b): number;\n}\nclass MyObject implements Comparable {\n  age: number;\n  compareTo(b): number {\n    if (this.age === b.age) {\n      return 0;\n    }\n    return this.age > b.age ? 1 : -1;\n  }\n}\n```\n\n**JavaScript  TypeScript JavaScript  // @ts-check**\n\n###### \n\nJavaScript \n\n(1)@@iterator \nES2015  Array @@iterator  Symbol.iterator \n\n```javascript\nconst numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9];\nlet iterator = numbers[Symbol.iterator]();\nconsole.log(iterator.next().value); // 1\nconsole.log(iterator.next().value); // 2\nconsole.log(iterator.next().value); // 3\nconsole.log(iterator.next().value); // 4\nconsole.log(iterator.next().value); // 5\n\nconst numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9];\niterator = numbers[Symbol.iterator]();\nfor (const n of iterator) {\n  console.log(n);\n}\n\n// \nlet numbers2 = Array.from(numbers);\nlet numbers3 = Array.of(...numbers);\n```\n\n(2)copyWithin\ncopyWithin \n\n```javascript\ncopyArray = [1, 2, 3, 4, 5, 6];\ncopyArray.copyWithin(1, 3, 5);\n// copyWithin()\n// [1, 4, 5, 4, 5, 6]\n```\n\n(3)\n\n```javascript\n// \nconst friends = [\n  { name: 'John', age: 30 },\n  { name: 'Ana', age: 20 },\n  { name: 'Chris', age: 25 }, // ES2017 \n];\nfunction comparePerson(a, b) {\n  if (a.age < b.age) {\n    return -1;\n  }\n  if (a.age > b.age) {\n    return 1;\n  }\n  return 0;\n}\nconsole.log(friends.sort(comparePerson));\n/**\n[ \n { name: 'Ana', age: 20 }, \n { name: 'Chris', age: 25 },\n { name: 'John', age: 30 }, \n]\n*/\n// \nconst names = ['Ana', 'ana', 'john', 'John']; // \nconsole.log(\n  names.sort((a, b) => {\n    if (a.toLowerCase() < b.toLowerCase()) {\n      return -1;\n    }\n    if (a.toLowerCase() > b.toLowerCase()) {\n      return 1;\n    }\n    return 0;\n  })\n);\n//  localeCompare \nconst names = ['Ana', 'ana', 'john', 'John'];\nnames.sort((a, b) => a.localeCompare(b));\n// ['ana', 'Ana', 'john', 'John']\n\nconst names2 = ['Mave', 'Maeve'];\nconsole.log(names2.sort((a, b) => a.localeCompare(b)));\n// [\"Maeve\", \"Mave\"]\n```\n\n###### \n\n|           |             |\n| ----------------- | ------------------- |\n| Int8Array         | 8   |\n| Uint8Array        | 8       |\n| Uint8ClampedArray | 8       |\n| Int16Array        | 16  |\n| Uint16Array       | 16      |\n| Int32Array        | 32  |\n| Uint32Array       | 32      |\n| Float32Array      | 32  IEEE    |\n| Float64Array      | 64  IEEE    |\n\n```javascript\nlet length = 5;\nlet int16 = new Int16Array(length);\nlet array16 = [];\narray16.length = length;\nfor (let i = 0; i < length; i++) {\n  int16[i] = i + 1;\n}\nconsole.log(int16);\n```\n\nWebGL API\n\n[](https://web.dev/webgl-typed-arrays/)\n\n###### \n\nLIFO\n\n\n\n(1)\n\n```javascript\nclass Stack {\n  constructor() {\n    this.items = [];\n  }\n  // \n  push(element) {\n    this.items.push(element);\n  }\n  // \n  pop() {\n    return this.items.pop();\n  }\n  // \n  peek() {\n    return this.items[this.items.length - 1];\n  }\n  //  true false\n  isEmpty() {\n    return this.items.length === 0;\n  }\n  //  length \n  size() {\n    return this.items.length;\n  }\n  // \n  clear() {\n    this.items = [];\n  }\n}\n```\n\n** O(n)O(n) n **\n(2) JavaScript  Stack \n\n```javascript\nclass Stack {\n  constructor() {\n    this.count = 0; // count ,\n    this.items = {};\n  }\n  // ,\n  push(element) {\n    this.items[this.count] = element;\n    this.count++;\n  }\n  // \n  size() {\n    return this.count;\n  }\n  // \n  isEmpty() {\n    return this.count === 0;\n  }\n  // \n  pop() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    this.count--;\n    const result = this.items[this.count];\n    delete this.items[this.count];\n    return result;\n  }\n  // \n  peek() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    return this.items[this.count - 1];\n  }\n  // \n  clear() {\n    this.items = {};\n    this.count = 0;\n    //  while (!this.isEmpty()) {\n    //  this.pop();\n    // }\n  }\n  toString() {\n    if (this.isEmpty()) {\n      return '';\n    }\n    let objString = `${this.items[0]}`; // {1}\n    for (let i = 1; i < this.count; i++) {\n      // {2}\n      objString = `${objString},${this.items[i]}`; // {3}\n    }\n    return objString;\n  }\n}\n```\n\n**javascript **\n\n\n```javascript\n// \nclass Stack {\n  constructor() {\n    this._count = 0;\n    this._items = {};\n  }\n}\n```\n\n_\\__\n\n** ES2015  Symbol **\n\n```javascript\nconst _items = Symbol('stackItems');\nclass Stack {\n  constructor() {\n    this[_items] = [];\n  }\n  // \n}\n\nconst stack = new Stack();\nstack.push(5);\nstack.push(8);\nlet objectSymbols = Object.getOwnPropertySymbols(stack);\nconsole.log(objectSymbols.length); //  1\nconsole.log(objectSymbols); // [Symbol()]\nconsole.log(objectSymbols[0]); // Symbol()\nstack[objectSymbols[0]].push(1);\nstack.print(); //  5, 8, 1\n```\n\n_ stack[objectSymbols[0]]\\_items,\\_items _\n\n** ES2015  WeakMap **\nWeakMap \n\n```javascript\nconst items = new WeakMap(); // {1}\nclass Stack {\n  constructor() {\n    items.set(this, []); // {2}\n  }\n  push(element) {\n    const s = items.get(this); // {3}\n    s.push(element);\n  }\n  pop() {\n    const s = items.get(this);\n    const r = s.pop();\n    return r;\n  }\n  // \n}\n```\n\n__\n\n**ECMAScript **\n\n```javascript\nclass Stack {\n  #count = 0;\n  #items = 0;\n  // \n}\n```\n\n****\n\n```javascript\nfunction decimalToBinary(decNumber) {\n  const remStack = new Stack();\n  let number = decNumber;\n  let rem;\n  let binaryString = '';\n  while (number > 0) {\n    rem = Math.floor(number % 2);\n    remStack.push(rem);\n    number = Math.floor(number / 2);\n  }\n  while (!remStack.isEmpty()) {\n    binaryString += remStack.pop().toString();\n  }\n  return binaryString;\n}\n```\n\n****\n\n```javascript\nfunction baseConverter(decNumber, base) {\n  const remStack = new Stack();\n  const digits = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'; // {6}\n  let number = decNumber;\n  let rem;\n  let baseString = '';\n  if (!(base >= 2 && base <= 36)) {\n    return '';\n  }\n  while (number > 0) {\n    rem = Math.floor(number % base);\n    remStack.push(rem);\n    number = Math.floor(number / base);\n  }\n  while (!remStack.isEmpty()) {\n    baseString += digits[remStack.pop()]; // {7}\n  }\n  return baseString;\n}\n```\n","source":"_posts/33-data-structure1.md","raw":"---\ntitle: (1)\ndate: 2022-09-20 17:41:00\ntags:\n---\n\nECMAScript  javascript \nECMAScript JavaScript ()\n\nES5ES6ES2015ES7ES2016ES8ES2017  ES.Next \n\n(1)2009  12  ECMAScript5( ES5 ES  ECMAScript )\n\n(2)ECMAScript2015(ES2015) 2015  6  ECMAScript \nECMAScript  ECMAScript2015(ES6)\n\n(3)2016  6 ECMAScript  ECMAScript2016  ES2016(ES7)\n\n(4)2017  6 ECMAScript  ECMAScript2017  ES2017(ES8)\n\n(5)ES.Next  ECMAScript\n\nES6 http://kangax.github.io/compat-table/es6/\nES7 http://kangax.github.io/compat-table/es2016plus/\n\nES5  class \n(1) get  set  get  set \n(2)\n\n```javascript\nclass Person {\n  constructor(name) {\n    this._name = name; // {1}\n  }\n  get name() {\n    // {2}\n    return this._name;\n  }\n  set name(value) {\n    // {3}\n    this._name = value;\n  }\n}\nlet lotrChar = new Person('Frodo');\nconsole.log(lotrChar.name); // {4} // Frodo\nlotrChar.name = 'Gandalf'; // {5}\nconsole.log(lotrChar.name); // Gandalf\nlotrChar._name = 'Sam'; // {6}\nconsole.log(lotrChar.name); // Sam\n```\n\n\n\n```javascript\nconst area = 3.14 * r * r;\nconst area = 3.14 * Math.pow(r, 2);\n// ES2016 **\nconst area = 3.14 * r ** 2;\n```\n\n[JavaScript  ECMAScript ](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript)\n\n###### TypeScript\n\nTypeScript .\n(1)\n\n```javascript\n// \ninterface Person {\n  name: string;\n  age: number;\n}\nfunction printName(person: Person) {\n  console.log(person.name);\n}\n/** Comparable  MyObject  compareTo \n**/\ninterface Comparable {\n  compareTo(b): number;\n}\nclass MyObject implements Comparable {\n  age: number;\n  compareTo(b): number {\n    if (this.age === b.age) {\n      return 0;\n    }\n    return this.age > b.age ? 1 : -1;\n  }\n}\n```\n\n**JavaScript  TypeScript JavaScript  // @ts-check**\n\n###### \n\nJavaScript \n\n(1)@@iterator \nES2015  Array @@iterator  Symbol.iterator \n\n```javascript\nconst numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9];\nlet iterator = numbers[Symbol.iterator]();\nconsole.log(iterator.next().value); // 1\nconsole.log(iterator.next().value); // 2\nconsole.log(iterator.next().value); // 3\nconsole.log(iterator.next().value); // 4\nconsole.log(iterator.next().value); // 5\n\nconst numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9];\niterator = numbers[Symbol.iterator]();\nfor (const n of iterator) {\n  console.log(n);\n}\n\n// \nlet numbers2 = Array.from(numbers);\nlet numbers3 = Array.of(...numbers);\n```\n\n(2)copyWithin\ncopyWithin \n\n```javascript\ncopyArray = [1, 2, 3, 4, 5, 6];\ncopyArray.copyWithin(1, 3, 5);\n// copyWithin()\n// [1, 4, 5, 4, 5, 6]\n```\n\n(3)\n\n```javascript\n// \nconst friends = [\n  { name: 'John', age: 30 },\n  { name: 'Ana', age: 20 },\n  { name: 'Chris', age: 25 }, // ES2017 \n];\nfunction comparePerson(a, b) {\n  if (a.age < b.age) {\n    return -1;\n  }\n  if (a.age > b.age) {\n    return 1;\n  }\n  return 0;\n}\nconsole.log(friends.sort(comparePerson));\n/**\n[ \n { name: 'Ana', age: 20 }, \n { name: 'Chris', age: 25 },\n { name: 'John', age: 30 }, \n]\n*/\n// \nconst names = ['Ana', 'ana', 'john', 'John']; // \nconsole.log(\n  names.sort((a, b) => {\n    if (a.toLowerCase() < b.toLowerCase()) {\n      return -1;\n    }\n    if (a.toLowerCase() > b.toLowerCase()) {\n      return 1;\n    }\n    return 0;\n  })\n);\n//  localeCompare \nconst names = ['Ana', 'ana', 'john', 'John'];\nnames.sort((a, b) => a.localeCompare(b));\n// ['ana', 'Ana', 'john', 'John']\n\nconst names2 = ['Mave', 'Maeve'];\nconsole.log(names2.sort((a, b) => a.localeCompare(b)));\n// [\"Maeve\", \"Mave\"]\n```\n\n###### \n\n|           |             |\n| ----------------- | ------------------- |\n| Int8Array         | 8   |\n| Uint8Array        | 8       |\n| Uint8ClampedArray | 8       |\n| Int16Array        | 16  |\n| Uint16Array       | 16      |\n| Int32Array        | 32  |\n| Uint32Array       | 32      |\n| Float32Array      | 32  IEEE    |\n| Float64Array      | 64  IEEE    |\n\n```javascript\nlet length = 5;\nlet int16 = new Int16Array(length);\nlet array16 = [];\narray16.length = length;\nfor (let i = 0; i < length; i++) {\n  int16[i] = i + 1;\n}\nconsole.log(int16);\n```\n\nWebGL API\n\n[](https://web.dev/webgl-typed-arrays/)\n\n###### \n\nLIFO\n\n\n\n(1)\n\n```javascript\nclass Stack {\n  constructor() {\n    this.items = [];\n  }\n  // \n  push(element) {\n    this.items.push(element);\n  }\n  // \n  pop() {\n    return this.items.pop();\n  }\n  // \n  peek() {\n    return this.items[this.items.length - 1];\n  }\n  //  true false\n  isEmpty() {\n    return this.items.length === 0;\n  }\n  //  length \n  size() {\n    return this.items.length;\n  }\n  // \n  clear() {\n    this.items = [];\n  }\n}\n```\n\n** O(n)O(n) n **\n(2) JavaScript  Stack \n\n```javascript\nclass Stack {\n  constructor() {\n    this.count = 0; // count ,\n    this.items = {};\n  }\n  // ,\n  push(element) {\n    this.items[this.count] = element;\n    this.count++;\n  }\n  // \n  size() {\n    return this.count;\n  }\n  // \n  isEmpty() {\n    return this.count === 0;\n  }\n  // \n  pop() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    this.count--;\n    const result = this.items[this.count];\n    delete this.items[this.count];\n    return result;\n  }\n  // \n  peek() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    return this.items[this.count - 1];\n  }\n  // \n  clear() {\n    this.items = {};\n    this.count = 0;\n    //  while (!this.isEmpty()) {\n    //  this.pop();\n    // }\n  }\n  toString() {\n    if (this.isEmpty()) {\n      return '';\n    }\n    let objString = `${this.items[0]}`; // {1}\n    for (let i = 1; i < this.count; i++) {\n      // {2}\n      objString = `${objString},${this.items[i]}`; // {3}\n    }\n    return objString;\n  }\n}\n```\n\n**javascript **\n\n\n```javascript\n// \nclass Stack {\n  constructor() {\n    this._count = 0;\n    this._items = {};\n  }\n}\n```\n\n_\\__\n\n** ES2015  Symbol **\n\n```javascript\nconst _items = Symbol('stackItems');\nclass Stack {\n  constructor() {\n    this[_items] = [];\n  }\n  // \n}\n\nconst stack = new Stack();\nstack.push(5);\nstack.push(8);\nlet objectSymbols = Object.getOwnPropertySymbols(stack);\nconsole.log(objectSymbols.length); //  1\nconsole.log(objectSymbols); // [Symbol()]\nconsole.log(objectSymbols[0]); // Symbol()\nstack[objectSymbols[0]].push(1);\nstack.print(); //  5, 8, 1\n```\n\n_ stack[objectSymbols[0]]\\_items,\\_items _\n\n** ES2015  WeakMap **\nWeakMap \n\n```javascript\nconst items = new WeakMap(); // {1}\nclass Stack {\n  constructor() {\n    items.set(this, []); // {2}\n  }\n  push(element) {\n    const s = items.get(this); // {3}\n    s.push(element);\n  }\n  pop() {\n    const s = items.get(this);\n    const r = s.pop();\n    return r;\n  }\n  // \n}\n```\n\n__\n\n**ECMAScript **\n\n```javascript\nclass Stack {\n  #count = 0;\n  #items = 0;\n  // \n}\n```\n\n****\n\n```javascript\nfunction decimalToBinary(decNumber) {\n  const remStack = new Stack();\n  let number = decNumber;\n  let rem;\n  let binaryString = '';\n  while (number > 0) {\n    rem = Math.floor(number % 2);\n    remStack.push(rem);\n    number = Math.floor(number / 2);\n  }\n  while (!remStack.isEmpty()) {\n    binaryString += remStack.pop().toString();\n  }\n  return binaryString;\n}\n```\n\n****\n\n```javascript\nfunction baseConverter(decNumber, base) {\n  const remStack = new Stack();\n  const digits = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'; // {6}\n  let number = decNumber;\n  let rem;\n  let baseString = '';\n  if (!(base >= 2 && base <= 36)) {\n    return '';\n  }\n  while (number > 0) {\n    rem = Math.floor(number % base);\n    remStack.push(rem);\n    number = Math.floor(number / base);\n  }\n  while (!remStack.isEmpty()) {\n    baseString += digits[remStack.pop()]; // {7}\n  }\n  return baseString;\n}\n```\n","slug":"33-data-structure1","published":1,"updated":"2022-11-23T00:33:39.566Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baj50013nwvafxqucp21","content":"<p>ECMAScript  javascript <br>ECMAScript JavaScript ()</p>\n<p>ES5ES6ES2015ES7ES2016ES8ES2017  ES.Next </p>\n<p>(1)2009  12  ECMAScript5( ES5 ES  ECMAScript )</p>\n<p>(2)ECMAScript2015(ES2015) 2015  6  ECMAScript <br>ECMAScript  ECMAScript2015(ES6)</p>\n<p>(3)2016  6 ECMAScript  ECMAScript2016  ES2016(ES7)</p>\n<p>(4)2017  6 ECMAScript  ECMAScript2017  ES2017(ES8)</p>\n<p>(5)ES.Next  ECMAScript</p>\n<p>ES6 <a href=\"http://kangax.github.io/compat-table/es6/\">http://kangax.github.io/compat-table/es6/</a><br>ES7 <a href=\"http://kangax.github.io/compat-table/es2016plus/\">http://kangax.github.io/compat-table/es2016plus/</a></p>\n<p>ES5  class <br>(1) get  set  get  set <br>(2)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Person</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">name</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>._name = name; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">get</span> <span class=\"title\">name</span>() &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>._name;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">set</span> <span class=\"title\">name</span>(<span class=\"params\">value</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>._name = value;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> lotrChar = <span class=\"keyword\">new</span> Person(<span class=\"string\">&#x27;Frodo&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(lotrChar.name); <span class=\"comment\">// &#123;4&#125; // Frodo</span></span><br><span class=\"line\">lotrChar.name = <span class=\"string\">&#x27;Gandalf&#x27;</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(lotrChar.name); <span class=\"comment\">// Gandalf</span></span><br><span class=\"line\">lotrChar._name = <span class=\"string\">&#x27;Sam&#x27;</span>; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(lotrChar.name); <span class=\"comment\">// Sam</span></span><br></pre></td></tr></table></figure>\n\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> area = <span class=\"number\">3.14</span> * r * r;</span><br><span class=\"line\"><span class=\"keyword\">const</span> area = <span class=\"number\">3.14</span> * <span class=\"built_in\">Math</span>.pow(r, <span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"comment\">// ES2016 **</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> area = <span class=\"number\">3.14</span> * r ** <span class=\"number\">2</span>;</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript\">JavaScript  ECMAScript </a></p>\n<h6 id=\"TypeScript\"><a href=\"#TypeScript\" class=\"headerlink\" title=\"TypeScript\"></a>TypeScript</h6><p>TypeScript .<br>(1)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">interface Person &#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>: string;</span><br><span class=\"line\">  age: number;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">printName</span>(<span class=\"params\">person: Person</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(person.name);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/** Comparable  MyObject  compareTo </span></span><br><span class=\"line\"><span class=\"comment\">**/</span></span><br><span class=\"line\">interface Comparable &#123;</span><br><span class=\"line\">  compareTo(b): number;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyObject</span> <span class=\"title\">implements</span> <span class=\"title\">Comparable</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"attr\">age</span>: number;</span><br><span class=\"line\">  compareTo(b): number &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.age === b.age) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.age &gt; b.age ? <span class=\"number\">1</span> : -<span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>JavaScript  TypeScript JavaScript  // @ts-check</strong></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>JavaScript </p>\n<p>(1)@@iterator <br>ES2015  Array @@iterator  Symbol.iterator </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> numbers = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">8</span>, <span class=\"number\">9</span>];</span><br><span class=\"line\"><span class=\"keyword\">let</span> iterator = numbers[<span class=\"built_in\">Symbol</span>.iterator]();</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(iterator.next().value); <span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(iterator.next().value); <span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(iterator.next().value); <span class=\"comment\">// 3</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(iterator.next().value); <span class=\"comment\">// 4</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(iterator.next().value); <span class=\"comment\">// 5</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> numbers = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">8</span>, <span class=\"number\">9</span>];</span><br><span class=\"line\">iterator = numbers[<span class=\"built_in\">Symbol</span>.iterator]();</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> n <span class=\"keyword\">of</span> iterator) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(n);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">let</span> numbers2 = <span class=\"built_in\">Array</span>.from(numbers);</span><br><span class=\"line\"><span class=\"keyword\">let</span> numbers3 = <span class=\"built_in\">Array</span>.of(...numbers);</span><br></pre></td></tr></table></figure>\n\n<p>(2)copyWithin<br>copyWithin </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">copyArray = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>];</span><br><span class=\"line\">copyArray.copyWithin(<span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>);</span><br><span class=\"line\"><span class=\"comment\">// copyWithin()</span></span><br><span class=\"line\"><span class=\"comment\">// [1, 4, 5, 4, 5, 6]</span></span><br></pre></td></tr></table></figure>\n\n<p>(3)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> friends = [</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;John&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">30</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;Ana&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">20</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;Chris&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">25</span> &#125;, <span class=\"comment\">// ES2017 </span></span><br><span class=\"line\">];</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">comparePerson</span>(<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (a.age &lt; b.age) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (a.age &gt; b.age) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(friends.sort(comparePerson));</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">[ </span></span><br><span class=\"line\"><span class=\"comment\"> &#123; name: &#x27;Ana&#x27;, age: 20 &#125;, </span></span><br><span class=\"line\"><span class=\"comment\"> &#123; name: &#x27;Chris&#x27;, age: 25 &#125;,</span></span><br><span class=\"line\"><span class=\"comment\"> &#123; name: &#x27;John&#x27;, age: 30 &#125;, </span></span><br><span class=\"line\"><span class=\"comment\">]</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> names = [<span class=\"string\">&#x27;Ana&#x27;</span>, <span class=\"string\">&#x27;ana&#x27;</span>, <span class=\"string\">&#x27;john&#x27;</span>, <span class=\"string\">&#x27;John&#x27;</span>]; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(</span><br><span class=\"line\">  names.sort(<span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (a.toLowerCase() &lt; b.toLowerCase()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (a.toLowerCase() &gt; b.toLowerCase()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">);</span><br><span class=\"line\"><span class=\"comment\">//  localeCompare </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> names = [<span class=\"string\">&#x27;Ana&#x27;</span>, <span class=\"string\">&#x27;ana&#x27;</span>, <span class=\"string\">&#x27;john&#x27;</span>, <span class=\"string\">&#x27;John&#x27;</span>];</span><br><span class=\"line\">names.sort(<span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a.localeCompare(b));</span><br><span class=\"line\"><span class=\"comment\">// [&#x27;ana&#x27;, &#x27;Ana&#x27;, &#x27;john&#x27;, &#x27;John&#x27;]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> names2 = [<span class=\"string\">&#x27;Mave&#x27;</span>, <span class=\"string\">&#x27;Maeve&#x27;</span>];</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(names2.sort(<span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a.localeCompare(b)));</span><br><span class=\"line\"><span class=\"comment\">// [&quot;Maeve&quot;, &quot;Mave&quot;]</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Int8Array</td>\n<td>8 </td>\n</tr>\n<tr>\n<td>Uint8Array</td>\n<td>8 </td>\n</tr>\n<tr>\n<td>Uint8ClampedArray</td>\n<td>8 </td>\n</tr>\n<tr>\n<td>Int16Array</td>\n<td>16 </td>\n</tr>\n<tr>\n<td>Uint16Array</td>\n<td>16 </td>\n</tr>\n<tr>\n<td>Int32Array</td>\n<td>32 </td>\n</tr>\n<tr>\n<td>Uint32Array</td>\n<td>32 </td>\n</tr>\n<tr>\n<td>Float32Array</td>\n<td>32  IEEE </td>\n</tr>\n<tr>\n<td>Float64Array</td>\n<td>64  IEEE </td>\n</tr>\n</tbody></table>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> length = <span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> int16 = <span class=\"keyword\">new</span> <span class=\"built_in\">Int16Array</span>(length);</span><br><span class=\"line\"><span class=\"keyword\">let</span> array16 = [];</span><br><span class=\"line\">array16.length = length;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">  int16[i] = i + <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(int16);</span><br></pre></td></tr></table></figure>\n\n<p>WebGL API</p>\n<p><a href=\"https://web.dev/webgl-typed-arrays/\"></a></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>LIFO</p>\n<p></p>\n<p>(1)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Stack</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = [];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">push</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items.push(element);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">pop</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items.pop();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">peek</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.items.length - <span class=\"number\">1</span>];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  true false</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items.length === <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  length </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items.length;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">clear</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = [];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong> O(n)O(n) n </strong><br>(2) JavaScript  Stack </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Stack</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>; <span class=\"comment\">// count ,</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// ,</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">push</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count] = element;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count++;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count === <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">pop</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count--;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> result = <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count];</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count];</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">peek</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count - <span class=\"number\">1</span>];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">clear</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"comment\">//  while (!this.isEmpty()) &#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//  this.pop();</span></span><br><span class=\"line\">    <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> objString = <span class=\"string\">`<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.items[<span class=\"number\">0</span>]&#125;</span>`</span>; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; <span class=\"built_in\">this</span>.count; i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      objString = <span class=\"string\">`<span class=\"subst\">$&#123;objString&#125;</span>,<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.items[i]&#125;</span>`</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> objString;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>javascript </strong><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Stack</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>._count = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>._items = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><em>_</em></p>\n<p><strong> ES2015  Symbol </strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> _items = <span class=\"built_in\">Symbol</span>(<span class=\"string\">&#x27;stackItems&#x27;</span>);</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Stack</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>[_items] = [];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> stack = <span class=\"keyword\">new</span> Stack();</span><br><span class=\"line\">stack.push(<span class=\"number\">5</span>);</span><br><span class=\"line\">stack.push(<span class=\"number\">8</span>);</span><br><span class=\"line\"><span class=\"keyword\">let</span> objectSymbols = <span class=\"built_in\">Object</span>.getOwnPropertySymbols(stack);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(objectSymbols.length); <span class=\"comment\">//  1</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(objectSymbols); <span class=\"comment\">// [Symbol()]</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(objectSymbols[<span class=\"number\">0</span>]); <span class=\"comment\">// Symbol()</span></span><br><span class=\"line\">stack[objectSymbols[<span class=\"number\">0</span>]].push(<span class=\"number\">1</span>);</span><br><span class=\"line\">stack.print(); <span class=\"comment\">//  5, 8, 1</span></span><br></pre></td></tr></table></figure>\n\n<p><em> stack[objectSymbols[0]]_items,_items </em></p>\n<p><strong> ES2015  WeakMap </strong><br>WeakMap </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> items = <span class=\"keyword\">new</span> <span class=\"built_in\">WeakMap</span>(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Stack</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    items.set(<span class=\"built_in\">this</span>, []); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">push</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> s = items.get(<span class=\"built_in\">this</span>); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    s.push(element);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">pop</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> s = items.get(<span class=\"built_in\">this</span>);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> r = s.pop();</span><br><span class=\"line\">    <span class=\"keyword\">return</span> r;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><em></em></p>\n<p><strong>ECMAScript </strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Stack</span> </span>&#123;</span><br><span class=\"line\">  #count = <span class=\"number\">0</span>;</span><br><span class=\"line\">  #items = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">decimalToBinary</span>(<span class=\"params\">decNumber</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> remStack = <span class=\"keyword\">new</span> Stack();</span><br><span class=\"line\">  <span class=\"keyword\">let</span> number = decNumber;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> rem;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> binaryString = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (number &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    rem = <span class=\"built_in\">Math</span>.floor(number % <span class=\"number\">2</span>);</span><br><span class=\"line\">    remStack.push(rem);</span><br><span class=\"line\">    number = <span class=\"built_in\">Math</span>.floor(number / <span class=\"number\">2</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (!remStack.isEmpty()) &#123;</span><br><span class=\"line\">    binaryString += remStack.pop().toString();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> binaryString;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">baseConverter</span>(<span class=\"params\">decNumber, base</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> remStack = <span class=\"keyword\">new</span> Stack();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> digits = <span class=\"string\">&#x27;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ&#x27;</span>; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> number = decNumber;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> rem;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> baseString = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!(base &gt;= <span class=\"number\">2</span> &amp;&amp; base &lt;= <span class=\"number\">36</span>)) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (number &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    rem = <span class=\"built_in\">Math</span>.floor(number % base);</span><br><span class=\"line\">    remStack.push(rem);</span><br><span class=\"line\">    number = <span class=\"built_in\">Math</span>.floor(number / base);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (!remStack.isEmpty()) &#123;</span><br><span class=\"line\">    baseString += digits[remStack.pop()]; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> baseString;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<p>ECMAScript  javascript <br>ECMAScript JavaScript ()</p>\n<p>ES5ES6ES2015ES7ES2016ES8ES2017  ES.Next </p>\n<p>(1)2009  12  ECMAScript5( ES5 ES  ECMAScript )</p>\n<p>(2)ECMAScript2015(ES2015) 2015  6  ECMAScript <br>ECMAScript  ECMAScript2015(ES6)</p>\n<p>(3)2016  6 ECMAScript  ECMAScript2016  ES2016(ES7)</p>\n<p>(4)2017  6 ECMAScript  ECMAScript2017  ES2017(ES8)</p>\n<p>(5)ES.Next  ECMAScript</p>\n<p>ES6 <a href=\"http://kangax.github.io/compat-table/es6/\">http://kangax.github.io/compat-table/es6/</a><br>ES7 <a href=\"http://kangax.github.io/compat-table/es2016plus/\">http://kangax.github.io/compat-table/es2016plus/</a></p>\n<p>ES5  class <br>(1) get  set  get  set <br>(2)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Person</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">name</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>._name = name; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">get</span> <span class=\"title\">name</span>() &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>._name;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">set</span> <span class=\"title\">name</span>(<span class=\"params\">value</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>._name = value;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> lotrChar = <span class=\"keyword\">new</span> Person(<span class=\"string\">&#x27;Frodo&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(lotrChar.name); <span class=\"comment\">// &#123;4&#125; // Frodo</span></span><br><span class=\"line\">lotrChar.name = <span class=\"string\">&#x27;Gandalf&#x27;</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(lotrChar.name); <span class=\"comment\">// Gandalf</span></span><br><span class=\"line\">lotrChar._name = <span class=\"string\">&#x27;Sam&#x27;</span>; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(lotrChar.name); <span class=\"comment\">// Sam</span></span><br></pre></td></tr></table></figure>\n\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> area = <span class=\"number\">3.14</span> * r * r;</span><br><span class=\"line\"><span class=\"keyword\">const</span> area = <span class=\"number\">3.14</span> * <span class=\"built_in\">Math</span>.pow(r, <span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"comment\">// ES2016 **</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> area = <span class=\"number\">3.14</span> * r ** <span class=\"number\">2</span>;</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript\">JavaScript  ECMAScript </a></p>\n<h6 id=\"TypeScript\"><a href=\"#TypeScript\" class=\"headerlink\" title=\"TypeScript\"></a>TypeScript</h6><p>TypeScript .<br>(1)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">interface Person &#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>: string;</span><br><span class=\"line\">  age: number;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">printName</span>(<span class=\"params\">person: Person</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(person.name);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/** Comparable  MyObject  compareTo </span></span><br><span class=\"line\"><span class=\"comment\">**/</span></span><br><span class=\"line\">interface Comparable &#123;</span><br><span class=\"line\">  compareTo(b): number;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyObject</span> <span class=\"title\">implements</span> <span class=\"title\">Comparable</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"attr\">age</span>: number;</span><br><span class=\"line\">  compareTo(b): number &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.age === b.age) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.age &gt; b.age ? <span class=\"number\">1</span> : -<span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>JavaScript  TypeScript JavaScript  // @ts-check</strong></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>JavaScript </p>\n<p>(1)@@iterator <br>ES2015  Array @@iterator  Symbol.iterator </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> numbers = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">8</span>, <span class=\"number\">9</span>];</span><br><span class=\"line\"><span class=\"keyword\">let</span> iterator = numbers[<span class=\"built_in\">Symbol</span>.iterator]();</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(iterator.next().value); <span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(iterator.next().value); <span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(iterator.next().value); <span class=\"comment\">// 3</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(iterator.next().value); <span class=\"comment\">// 4</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(iterator.next().value); <span class=\"comment\">// 5</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> numbers = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">8</span>, <span class=\"number\">9</span>];</span><br><span class=\"line\">iterator = numbers[<span class=\"built_in\">Symbol</span>.iterator]();</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> n <span class=\"keyword\">of</span> iterator) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(n);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">let</span> numbers2 = <span class=\"built_in\">Array</span>.from(numbers);</span><br><span class=\"line\"><span class=\"keyword\">let</span> numbers3 = <span class=\"built_in\">Array</span>.of(...numbers);</span><br></pre></td></tr></table></figure>\n\n<p>(2)copyWithin<br>copyWithin </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">copyArray = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>];</span><br><span class=\"line\">copyArray.copyWithin(<span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>);</span><br><span class=\"line\"><span class=\"comment\">// copyWithin()</span></span><br><span class=\"line\"><span class=\"comment\">// [1, 4, 5, 4, 5, 6]</span></span><br></pre></td></tr></table></figure>\n\n<p>(3)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> friends = [</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;John&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">30</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;Ana&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">20</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;Chris&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">25</span> &#125;, <span class=\"comment\">// ES2017 </span></span><br><span class=\"line\">];</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">comparePerson</span>(<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (a.age &lt; b.age) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (a.age &gt; b.age) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(friends.sort(comparePerson));</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">[ </span></span><br><span class=\"line\"><span class=\"comment\"> &#123; name: &#x27;Ana&#x27;, age: 20 &#125;, </span></span><br><span class=\"line\"><span class=\"comment\"> &#123; name: &#x27;Chris&#x27;, age: 25 &#125;,</span></span><br><span class=\"line\"><span class=\"comment\"> &#123; name: &#x27;John&#x27;, age: 30 &#125;, </span></span><br><span class=\"line\"><span class=\"comment\">]</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> names = [<span class=\"string\">&#x27;Ana&#x27;</span>, <span class=\"string\">&#x27;ana&#x27;</span>, <span class=\"string\">&#x27;john&#x27;</span>, <span class=\"string\">&#x27;John&#x27;</span>]; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(</span><br><span class=\"line\">  names.sort(<span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (a.toLowerCase() &lt; b.toLowerCase()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (a.toLowerCase() &gt; b.toLowerCase()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">);</span><br><span class=\"line\"><span class=\"comment\">//  localeCompare </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> names = [<span class=\"string\">&#x27;Ana&#x27;</span>, <span class=\"string\">&#x27;ana&#x27;</span>, <span class=\"string\">&#x27;john&#x27;</span>, <span class=\"string\">&#x27;John&#x27;</span>];</span><br><span class=\"line\">names.sort(<span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a.localeCompare(b));</span><br><span class=\"line\"><span class=\"comment\">// [&#x27;ana&#x27;, &#x27;Ana&#x27;, &#x27;john&#x27;, &#x27;John&#x27;]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> names2 = [<span class=\"string\">&#x27;Mave&#x27;</span>, <span class=\"string\">&#x27;Maeve&#x27;</span>];</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(names2.sort(<span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a.localeCompare(b)));</span><br><span class=\"line\"><span class=\"comment\">// [&quot;Maeve&quot;, &quot;Mave&quot;]</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Int8Array</td>\n<td>8 </td>\n</tr>\n<tr>\n<td>Uint8Array</td>\n<td>8 </td>\n</tr>\n<tr>\n<td>Uint8ClampedArray</td>\n<td>8 </td>\n</tr>\n<tr>\n<td>Int16Array</td>\n<td>16 </td>\n</tr>\n<tr>\n<td>Uint16Array</td>\n<td>16 </td>\n</tr>\n<tr>\n<td>Int32Array</td>\n<td>32 </td>\n</tr>\n<tr>\n<td>Uint32Array</td>\n<td>32 </td>\n</tr>\n<tr>\n<td>Float32Array</td>\n<td>32  IEEE </td>\n</tr>\n<tr>\n<td>Float64Array</td>\n<td>64  IEEE </td>\n</tr>\n</tbody></table>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> length = <span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> int16 = <span class=\"keyword\">new</span> <span class=\"built_in\">Int16Array</span>(length);</span><br><span class=\"line\"><span class=\"keyword\">let</span> array16 = [];</span><br><span class=\"line\">array16.length = length;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">  int16[i] = i + <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(int16);</span><br></pre></td></tr></table></figure>\n\n<p>WebGL API</p>\n<p><a href=\"https://web.dev/webgl-typed-arrays/\"></a></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>LIFO</p>\n<p></p>\n<p>(1)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Stack</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = [];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">push</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items.push(element);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">pop</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items.pop();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">peek</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.items.length - <span class=\"number\">1</span>];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  true false</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items.length === <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  length </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items.length;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">clear</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = [];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong> O(n)O(n) n </strong><br>(2) JavaScript  Stack </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Stack</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>; <span class=\"comment\">// count ,</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// ,</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">push</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count] = element;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count++;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count === <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">pop</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count--;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> result = <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count];</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count];</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">peek</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count - <span class=\"number\">1</span>];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">clear</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"comment\">//  while (!this.isEmpty()) &#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//  this.pop();</span></span><br><span class=\"line\">    <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> objString = <span class=\"string\">`<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.items[<span class=\"number\">0</span>]&#125;</span>`</span>; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; <span class=\"built_in\">this</span>.count; i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      objString = <span class=\"string\">`<span class=\"subst\">$&#123;objString&#125;</span>,<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.items[i]&#125;</span>`</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> objString;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>javascript </strong><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Stack</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>._count = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>._items = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><em>_</em></p>\n<p><strong> ES2015  Symbol </strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> _items = <span class=\"built_in\">Symbol</span>(<span class=\"string\">&#x27;stackItems&#x27;</span>);</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Stack</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>[_items] = [];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> stack = <span class=\"keyword\">new</span> Stack();</span><br><span class=\"line\">stack.push(<span class=\"number\">5</span>);</span><br><span class=\"line\">stack.push(<span class=\"number\">8</span>);</span><br><span class=\"line\"><span class=\"keyword\">let</span> objectSymbols = <span class=\"built_in\">Object</span>.getOwnPropertySymbols(stack);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(objectSymbols.length); <span class=\"comment\">//  1</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(objectSymbols); <span class=\"comment\">// [Symbol()]</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(objectSymbols[<span class=\"number\">0</span>]); <span class=\"comment\">// Symbol()</span></span><br><span class=\"line\">stack[objectSymbols[<span class=\"number\">0</span>]].push(<span class=\"number\">1</span>);</span><br><span class=\"line\">stack.print(); <span class=\"comment\">//  5, 8, 1</span></span><br></pre></td></tr></table></figure>\n\n<p><em> stack[objectSymbols[0]]_items,_items </em></p>\n<p><strong> ES2015  WeakMap </strong><br>WeakMap </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> items = <span class=\"keyword\">new</span> <span class=\"built_in\">WeakMap</span>(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Stack</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    items.set(<span class=\"built_in\">this</span>, []); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">push</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> s = items.get(<span class=\"built_in\">this</span>); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    s.push(element);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">pop</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> s = items.get(<span class=\"built_in\">this</span>);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> r = s.pop();</span><br><span class=\"line\">    <span class=\"keyword\">return</span> r;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><em></em></p>\n<p><strong>ECMAScript </strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Stack</span> </span>&#123;</span><br><span class=\"line\">  #count = <span class=\"number\">0</span>;</span><br><span class=\"line\">  #items = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">decimalToBinary</span>(<span class=\"params\">decNumber</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> remStack = <span class=\"keyword\">new</span> Stack();</span><br><span class=\"line\">  <span class=\"keyword\">let</span> number = decNumber;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> rem;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> binaryString = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (number &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    rem = <span class=\"built_in\">Math</span>.floor(number % <span class=\"number\">2</span>);</span><br><span class=\"line\">    remStack.push(rem);</span><br><span class=\"line\">    number = <span class=\"built_in\">Math</span>.floor(number / <span class=\"number\">2</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (!remStack.isEmpty()) &#123;</span><br><span class=\"line\">    binaryString += remStack.pop().toString();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> binaryString;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">baseConverter</span>(<span class=\"params\">decNumber, base</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> remStack = <span class=\"keyword\">new</span> Stack();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> digits = <span class=\"string\">&#x27;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ&#x27;</span>; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> number = decNumber;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> rem;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> baseString = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!(base &gt;= <span class=\"number\">2</span> &amp;&amp; base &lt;= <span class=\"number\">36</span>)) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (number &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    rem = <span class=\"built_in\">Math</span>.floor(number % base);</span><br><span class=\"line\">    remStack.push(rem);</span><br><span class=\"line\">    number = <span class=\"built_in\">Math</span>.floor(number / base);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (!remStack.isEmpty()) &#123;</span><br><span class=\"line\">    baseString += digits[remStack.pop()]; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> baseString;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"jsapply","date":"2022-09-21T09:07:53.000Z","_content":"\n###### applythiscallbind\n```javascript\nfunction test(a, b) {\n console.log(a);\n console.log(b);\n}\nconst array = [1, 10];\ntest(array);\n// [1, 10]\n// undefined\n\ntest.apply(null, array);\n// 1\n// 10\n\nvar test = {\n func: function (a, b) {\n  console.log(a);\n  console.log(b);\n }\n}\nconst array = [1, 10];\ntest.func(array);\n// [1, 10]\n// undefined\ntest.func.apply(test.func, array);\ntest.func.apply(null, array);\n// 1\n// 10\n\nconst array = [1, 2, 4, 6, 2, 8];\nMath.max(array);\n// NaN\nconst array = [1, 2, 4, 6, 2, 8];\nMath.max.apply(null, array);\n// 8\n```\n\n###### ES6\n```javascript\nfunction test(a, b) {\n console.log(a);\n console.log(b);\n}\nconst array = [1, 10];\ntest(...array);\n// 1\n// 10\n\nvar test = {\n func: function (a, b) {\n  console.log(a);\n  console.log(b);\n }\n}\nconst array = [1, 10];\ntest.func(...array);\n// 1\n// 10\n\nconst array = [1, 2, 4, 6, 2, 8];\nMath.max(...array);\n// 8\n```\n\n###### arguments\narguments\n```javascript\nfunction test() {\n for (let i = 0; i < arguments.length; i++) {\n  console.log(arguments[i]);\n }\n}\ntest(1,12,5);\n// 1 12 5\ntest(1,12,3,4,5);\n// 1 12 3 4 5\n```","source":"_posts/32-apply-array-to-params.md","raw":"---\ntitle: jsapply\ndate: 2022-09-21 17:07:53\ntags:\n---\n\n###### applythiscallbind\n```javascript\nfunction test(a, b) {\n console.log(a);\n console.log(b);\n}\nconst array = [1, 10];\ntest(array);\n// [1, 10]\n// undefined\n\ntest.apply(null, array);\n// 1\n// 10\n\nvar test = {\n func: function (a, b) {\n  console.log(a);\n  console.log(b);\n }\n}\nconst array = [1, 10];\ntest.func(array);\n// [1, 10]\n// undefined\ntest.func.apply(test.func, array);\ntest.func.apply(null, array);\n// 1\n// 10\n\nconst array = [1, 2, 4, 6, 2, 8];\nMath.max(array);\n// NaN\nconst array = [1, 2, 4, 6, 2, 8];\nMath.max.apply(null, array);\n// 8\n```\n\n###### ES6\n```javascript\nfunction test(a, b) {\n console.log(a);\n console.log(b);\n}\nconst array = [1, 10];\ntest(...array);\n// 1\n// 10\n\nvar test = {\n func: function (a, b) {\n  console.log(a);\n  console.log(b);\n }\n}\nconst array = [1, 10];\ntest.func(...array);\n// 1\n// 10\n\nconst array = [1, 2, 4, 6, 2, 8];\nMath.max(...array);\n// 8\n```\n\n###### arguments\narguments\n```javascript\nfunction test() {\n for (let i = 0; i < arguments.length; i++) {\n  console.log(arguments[i]);\n }\n}\ntest(1,12,5);\n// 1 12 5\ntest(1,12,3,4,5);\n// 1 12 3 4 5\n```","slug":"32-apply-array-to-params","published":1,"updated":"2022-11-23T00:33:39.565Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baj60014nwvaakug57uk","content":"<h6 id=\"applythiscallbind\"><a href=\"#applythiscallbind\" class=\"headerlink\" title=\"applythiscallbind\"></a>applythiscallbind</h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">test</span>(<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(a);</span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(b);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">10</span>];</span><br><span class=\"line\">test(array);</span><br><span class=\"line\"><span class=\"comment\">// [1, 10]</span></span><br><span class=\"line\"><span class=\"comment\">// undefined</span></span><br><span class=\"line\"></span><br><span class=\"line\">test.apply(<span class=\"literal\">null</span>, array);</span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"comment\">// 10</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> test = &#123;</span><br><span class=\"line\"> <span class=\"attr\">func</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(a);</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(b);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">10</span>];</span><br><span class=\"line\">test.func(array);</span><br><span class=\"line\"><span class=\"comment\">// [1, 10]</span></span><br><span class=\"line\"><span class=\"comment\">// undefined</span></span><br><span class=\"line\">test.func.apply(test.func, array);</span><br><span class=\"line\">test.func.apply(<span class=\"literal\">null</span>, array);</span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"comment\">// 10</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">6</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>];</span><br><span class=\"line\"><span class=\"built_in\">Math</span>.max(array);</span><br><span class=\"line\"><span class=\"comment\">// NaN</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">6</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>];</span><br><span class=\"line\"><span class=\"built_in\">Math</span>.max.apply(<span class=\"literal\">null</span>, array);</span><br><span class=\"line\"><span class=\"comment\">// 8</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"ES6\"><a href=\"#ES6\" class=\"headerlink\" title=\"ES6\"></a>ES6</h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">test</span>(<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(a);</span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(b);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">10</span>];</span><br><span class=\"line\">test(...array);</span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"comment\">// 10</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> test = &#123;</span><br><span class=\"line\"> <span class=\"attr\">func</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(a);</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(b);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">10</span>];</span><br><span class=\"line\">test.func(...array);</span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"comment\">// 10</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">6</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>];</span><br><span class=\"line\"><span class=\"built_in\">Math</span>.max(...array);</span><br><span class=\"line\"><span class=\"comment\">// 8</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"arguments\"><a href=\"#arguments\" class=\"headerlink\" title=\"arguments\"></a>arguments</h6><p>arguments</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">test</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"built_in\">arguments</span>.length; i++) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"built_in\">arguments</span>[i]);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">test(<span class=\"number\">1</span>,<span class=\"number\">12</span>,<span class=\"number\">5</span>);</span><br><span class=\"line\"><span class=\"comment\">// 1 12 5</span></span><br><span class=\"line\">test(<span class=\"number\">1</span>,<span class=\"number\">12</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>);</span><br><span class=\"line\"><span class=\"comment\">// 1 12 3 4 5</span></span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<h6 id=\"applythiscallbind\"><a href=\"#applythiscallbind\" class=\"headerlink\" title=\"applythiscallbind\"></a>applythiscallbind</h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">test</span>(<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(a);</span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(b);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">10</span>];</span><br><span class=\"line\">test(array);</span><br><span class=\"line\"><span class=\"comment\">// [1, 10]</span></span><br><span class=\"line\"><span class=\"comment\">// undefined</span></span><br><span class=\"line\"></span><br><span class=\"line\">test.apply(<span class=\"literal\">null</span>, array);</span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"comment\">// 10</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> test = &#123;</span><br><span class=\"line\"> <span class=\"attr\">func</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(a);</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(b);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">10</span>];</span><br><span class=\"line\">test.func(array);</span><br><span class=\"line\"><span class=\"comment\">// [1, 10]</span></span><br><span class=\"line\"><span class=\"comment\">// undefined</span></span><br><span class=\"line\">test.func.apply(test.func, array);</span><br><span class=\"line\">test.func.apply(<span class=\"literal\">null</span>, array);</span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"comment\">// 10</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">6</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>];</span><br><span class=\"line\"><span class=\"built_in\">Math</span>.max(array);</span><br><span class=\"line\"><span class=\"comment\">// NaN</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">6</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>];</span><br><span class=\"line\"><span class=\"built_in\">Math</span>.max.apply(<span class=\"literal\">null</span>, array);</span><br><span class=\"line\"><span class=\"comment\">// 8</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"ES6\"><a href=\"#ES6\" class=\"headerlink\" title=\"ES6\"></a>ES6</h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">test</span>(<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(a);</span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(b);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">10</span>];</span><br><span class=\"line\">test(...array);</span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"comment\">// 10</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> test = &#123;</span><br><span class=\"line\"> <span class=\"attr\">func</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(a);</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(b);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">10</span>];</span><br><span class=\"line\">test.func(...array);</span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"comment\">// 10</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">6</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>];</span><br><span class=\"line\"><span class=\"built_in\">Math</span>.max(...array);</span><br><span class=\"line\"><span class=\"comment\">// 8</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"arguments\"><a href=\"#arguments\" class=\"headerlink\" title=\"arguments\"></a>arguments</h6><p>arguments</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">test</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"built_in\">arguments</span>.length; i++) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"built_in\">arguments</span>[i]);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">test(<span class=\"number\">1</span>,<span class=\"number\">12</span>,<span class=\"number\">5</span>);</span><br><span class=\"line\"><span class=\"comment\">// 1 12 5</span></span><br><span class=\"line\">test(<span class=\"number\">1</span>,<span class=\"number\">12</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>);</span><br><span class=\"line\"><span class=\"comment\">// 1 12 3 4 5</span></span><br></pre></td></tr></table></figure>"},{"title":"(2)","date":"2022-09-23T07:52:54.000Z","_content":"\n#### \n\nFIFO\n\n```javascript\nclass Queue {\n  constructor() {\n    this.count = 0; // {1}\n    this.lowestCount = 0; // {2}\n    this.items = {}; // {3}\n  }\n  // \n  enqueue(element) {\n    this.items[this.count] = element;\n    this.count++;\n  }\n  // \n  dequeue() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    const result = this.items[this.lowestCount]; // {1}\n    delete this.items[this.lowestCount]; // {2}\n    this.lowestCount++; // {3}\n    return result; // {4}\n  }\n  // \n  peek() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    return this.items[this.lowestCount];\n  }\n  // \n  isEmpty() {\n    return this.count - this.lowestCount === 0;\n  }\n  // \n  size() {\n    return this.count - this.lowestCount;\n  }\n  // \n  clear() {\n    this.items = {};\n    this.count = 0;\n    this.lowestCount = 0;\n  }\n  toString() {\n    if (this.isEmpty()) {\n      return '';\n    }\n    let objString = `${this.items[this.lowestCount]}`;\n    for (let i = this.lowestCount + 1; i < this.count; i++) {\n      objString = `${objString},${this.items[i]}`;\n    }\n    return objString;\n  }\n}\n```\n\n###### \n\ndeque double-ended queue\n\n\n\n```javascript\nclass Deque {\n  constructor() {\n    this.count = 0;\n    this.lowestCount = 0;\n    this.items = {};\n  }\n // \n  addFront(element) {\n    if (this.isEmpty()) { // {1}\n      this.addBack(element);\n    } else if (this.lowestCount > 0) { // {2}\n      this.lowestCount--;\n      this.items[this.lowestCount] = element;\n    } else {\n      for (let i = this.count; i > 0; i--) { // {3}\n        this.items[i] = this.items[i - 1];\n      }\n      this.count++;\n      this.lowestCount = 0;\n      this.items[0] = element; // {4}\n    }\n  }\n  addBack(element) {\n    this.items[this.count] = element;\n    this.count++;\n  }\n  removeFront() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    const result = this.items[this.lowestCount]; // {1}\n    delete this.items[this.lowestCount]; // {2}\n    this.lowestCount++; // {3}\n    return result; // {4}\n  }\n  removeBack() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    this.count--;\n    const result = this.items[this.count];\n    delete this.items[this.count];\n    return result;\n  }\n  peekFront() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    return this.items[this.lowestCount];\n  }\n  peekBack() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    return this.items[this.count - 1];\n  }\n  isEmpty() {\n    return this.count - this.lowestCount === 0;\n  }\n  clear() {\n    this.count = 0;\n    this.lowestCount = 0;\n    this.items = {};\n  }\n}\n```\n\n######  - \n\n```javascript\nfunction hotPotato(elementsList, num) { \n  const queue = new Queue(); // {1} \n  const elimitatedList = [];\n  // \n  for (let i = 0; i < elementsList.length; i++) { \n    queue.enqueue(elementsList[i]); // {2} \n  }\n  // \n  while (queue.size() > 1) { \n    for (let i = 0; i < num; i++) { \n      // \n      queue.enqueue(queue.dequeue()); // {3} \n    } \n    // \n    elimitatedList.push(queue.dequeue()); // {4} \n  } \n  return { \n    eliminated: elimitatedList, \n    winner: queue.dequeue() // {5} \n  };\n}\n\nconst names = ['John', 'Jack', 'Camila', 'Ingrid', 'Carl']; \nconst result = hotPotato(names, 7);\nresult.eliminated.forEach(name => { \n console.log(`${name}`); \n}); \nconsole.log(` ${result.winner}`);\n```\n\n###### \n madam racecar\n```javascript\nfunction palindromeChecker(aString) {\n  // \n  if (aString === undefined || aString === null || (aString !== null && aString.length === 0)) { // {1} \n    return false;\n  } \n  const deque = new Deque(); // {2}\n  // \n  const lowerString = aString.toLocaleLowerCase().split(' ').join(''); // {3} \n  let isEqual = true; \n  let firstChar, lastChar;\n  // \n  for (let i = 0; i < lowerString.length; i++) { // {4} \n    deque.addBack(lowerString.charAt(i)); \n  }\n\n  while (deque.size() > 1 && isEqual) { // {5} \n    firstChar = deque.removeFront(); // {6} \n    lastChar = deque.removeBack(); // {7}\n\n    if (firstChar !== lastChar) { \n      isEqual = false; // {8} \n    }\n  } \n  return isEqual;\n}\n```\n\n[javascript](https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/)\n\n\n#### \n\n###### \n![](chain-table-1.png)\n\n\n```javascript\n// util.js\nexport function defaultEquals(a, b) { \n  return a === b; \n}\n// models/linked-list-models\nexport class Node {\n  constructor(element) {\n    this.element = element; \n    this.next = undefined; \n  }\n} \n\nimport { defaultEquals } from '../util'; \nimport { Node } from './models/linked-list-models'; // {1} \nexport default class LinkedList { \n  constructor(equalsFn = defaultEquals) { \n    this.count = 0; // {2} \n    this.head = undefined; // {3}\n    this.equalsFn = equalsFn; // {4} \n  }\n  // \n  push(element) { \n    const node = new Node(element); // {1} \n    let current; // {2} \n\n    if (this.head == null) { // {3} \n      this.head = node;\n    } else {\n      current = this.head; // {4} \n      while (current.next != null) { // {5} \n        current = current.next; \n      }\n      //  next \n      current.next = node; // {6} \n    } \n    this.count++; // {7} \n  }\n  // \n  removeAt(index) { \n    // \n    if (index >= 0 && index < this.count) { // {1} \n      let current = this.head; // {2} \n      // \n      if (index === 0) { // {3} \n        this.head = current.next; \n      } else {\n        // index\n        const previous = this.getElementAt(index - 1);\n        current = previous.next;\n        //  previous  current  current\n        previous.next = current.next; // {8} \n      }\n      this.count--; // {9} \n      return current.element; \n    } \n    return undefined; // {10} \n  }\n  // \n  getElementAt(index) { \n    if (index >= 0 && index <= this.count) { // {1} \n      let node = this.head; // {2} \n      for (let i = 0; i < index && node != null; i++) { // {3} \n        node = node.next;\n      } \n      return node; // {4} \n    } \n    return undefined; // {5} \n  }\n  // \n  insert(element, index) { \n    if (index >= 0 && index <= this.count) { // {1} \n      const node = new Node(element);\n\n      if (index === 0) { // \n        const current = this.head; \n        node.next = current; // {2} \n        this.head = node; \n      } else { \n        const previous = this.getElementAt(index - 1); // {3} \n        const current = previous.next; // {4} \n        node.next = current; // {5} \n        previous.next = node; // {6} \n      } \n      this.count++; // \n      return true; \n    } \n    return false; // {7} \n  }\n  //  indexOf \n  indexOf(element) { \n    let current = this.head; // {1} \n    for (let i = 0; i < this.count && current != null; i++) { // {2} \n      if (this.equalsFn(element, current.element)) { // {3} \n        return i; // {4} \n      }\n      current = current.next; // {5} \n    } \n    return -1; // {6} \n  }\n  // \n  remove(element) { \n    const index = this.indexOf(element); \n    return this.removeAt(index); \n  }\n  size() { \n    return this.count; \n  }\n  isEmpty() { \n    return this.count === 0; \n  }\n  getHead() {\n    return this.head; \n  }\n  toString() { \n    if (this.head == null) { // {1} \n      return ''; \n    } \n    let objString = `${this.head.element}`; // {2} \n    let current = this.head.next; // {3} \n\n    for (let i = 1; i < this.size() && current != null; i++) { // {4} \n      objString = `${objString},${current.element}`; \n      current = current.next;\n    } \n    return objString; // {5} \n  }\n}\n```\n[javascript](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Memory_Management)\n\n###### \n\n![](chain-table-2.png)\n```javascript\nclass DoublyNode extends Node { // {1} \n constructor(element, next, prev) { \n  super(element, next); // {2} \n  this.prev = prev; // {3} \n } \n}\n\nclass DoublyLinkedList extends LinkedList { // {4} \n  constructor(equalsFn = defaultEquals) { \n    super(equalsFn); // {5} \n    this.tail = undefined; // {6} \n  }\n  //  \n  insert(element, index) { \n    if (index >= 0 && index <= this.count) { \n      const node = new DoublyNode(element); \n      let current = this.head;\n\n      if (index === 0) { \n          if (this.head == null) { // {1} \n            this.head = node; \n            this.tail = node; \n          } else { \n            node.next = this.head; // {2} \n            current.prev = node; // {3} \n            this.head = node; // {4} \n          } \n      } else if (index === this.count) { //  // \n        current = this.tail; // {5} \n        current.next = node; // {6} \n        node.prev = current; // {7} \n        this.tail = node; // {8} \n      } else { \n        const previous = this.getElementAt(index - 1); // {9} \n        current = previous.next; // {10} \n        node.next = current; // {11} \n        previous.next = node; // {12} \n        current.prev = node; // {13} \n        node.prev = previous; // {14} \n      }\n      this.count++; \n      return true;\n    } \n    return false; \n  }\n  // \n  removeAt(index) { \n    if (index >= 0 && index < this.count) { \n      let current = this.head;\n\n      if (index === 0) { \n        this.head = current.next; // {1} \n        //  tail // \n        if (this.count === 1) { // {2} \n          this.tail = undefined; \n        } else { \n          this.head.prev = undefined; // {3} \n        } \n      } else if (index === this.count - 1) { //  //\n        current = this.tail; // {4} \n        this.tail = current.prev; // {5} \n        this.tail.next = undefined; // {6} \n      } else { \n        current = this.getElementAt(index); // {7} \n        const previous = current.prev; // {8} \n        //  previous  current  current \n        previous.next = current.next; // {9} \n        current.next.prev = previous; // {10} \n      }\n      this.count--; \n      return current.element; \n    } \n    return undefined; \n  }\n}\n// https://github.com/loiane/javascript-datastructures-algorithms\n```\n\n###### \ntail.nextundefinedhead\n head  tail.next  tail  head.prev\n![](chain-table-3.png)\n![](chain-table-4.png)\n\n```javascript\nclass CircularLinkedList extends LinkedList { \n  constructor(equalsFn = defaultEquals) {\n    super(equalsFn); \n  }\n  // \n  insert(element, index) { \n    if (index >= 0 && index <= this.count) { \n      const node = new Node(element); \n      let current = this.head;\n\n      if (index === 0) { \n        if (this.head == null) { \n          this.head = node; // {1} \n          node.next = this.head; // {2} \n        } else { \n          node.next = current; // {3} \n          current = this.getElementAt(this.size()); // {4} \n          // \n          this.head = node; // {5} \n          current.next = this.head; // {6} \n        }\n      } else { // \n        const previous = this.getElementAt(index - 1); \n        node.next = previous.next; \n        previous.next = node; \n      } \n      this.count++; \n      return true;\n    } \n    return false; \n  }\n  // \n  removeAt(index) { \n    if (index >= 0 && index < this.count) { \n      let current = this.head;\n\n      if (index === 0) { \n        if (this.size() === 1) { \n          this.head = undefined; \n        } else { \n          const removed = this.head; // {1} \n          current = this.getElementAt(this.size()); // {2} \n          this.head = this.head.next; // {3} \n          current.next = this.head; // {4} \n          current = removed; // {5}\n        }\n      } else { \n        // \n        const previous = this.getElementAt(index - 1); \n        current = previous.next; \n        previous.next = current.next; \n      }\n      this.count--; \n      return current.element; // {6} \n    } \n    return undefined; \n  }\n}\n```\n\n###### \n\n```javascript\nconst Compare = { \n  LESS_THAN: -1, \n  BIGGER_THAN: 1 \n}; \nfunction defaultCompare(a, b) { \n  if (a === b) { // {1} \n    return 0; \n  } \n  return a < b ? Compare.LESS_THAN : Compare.BIGGER_THAN; // {2} \n} \nclass SortedLinkedList extends LinkedList { \n  constructor(equalsFn = defaultEquals, compareFn = defaultCompare) { \n    super(equalsFn); \n    this.compareFn = compareFn; // {3} \n  }\n  // \n  insert(element, index = 0) { // {1} \n    if (this.isEmpty()) { \n      return super.insert(element, 0); // {2} \n    } \n    const pos = this.getIndexNextSortedElement(element); // {3} \n    return super.insert(element, pos); // {4} \n  } \n  getIndexNextSortedElement(element) { \n    let current = this.head; \n    let i = 0; \n    for (; i < this.size() && current; i++) { \n      const comp = this.compareFn(element, current.element); // {5} \n      if (comp === Compare.LESS_THAN) { // {6} \n        return i; \n      } \n      current = current.next; \n    } \n    return i; // {7} \n  }\n}\n```\n\n######  StackLinkedList \n```javascript\nclass StackLinkedList { \n  constructor() { \n    this.items = new DoublyLinkedList(); // {1} \n  } \n  push(element) { \n    this.items.push(element); // {2} \n  } \n  pop() { \n    if (this.isEmpty()) { \n      return undefined; \n    } \n    return this.items.removeAt(this.size() - 1); // {3} \n  } \n}\n```","source":"_posts/34-data-structure2.md","raw":"---\ntitle: (2)\ndate: 2022-09-23 15:52:54\ntags:\n---\n\n#### \n\nFIFO\n\n```javascript\nclass Queue {\n  constructor() {\n    this.count = 0; // {1}\n    this.lowestCount = 0; // {2}\n    this.items = {}; // {3}\n  }\n  // \n  enqueue(element) {\n    this.items[this.count] = element;\n    this.count++;\n  }\n  // \n  dequeue() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    const result = this.items[this.lowestCount]; // {1}\n    delete this.items[this.lowestCount]; // {2}\n    this.lowestCount++; // {3}\n    return result; // {4}\n  }\n  // \n  peek() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    return this.items[this.lowestCount];\n  }\n  // \n  isEmpty() {\n    return this.count - this.lowestCount === 0;\n  }\n  // \n  size() {\n    return this.count - this.lowestCount;\n  }\n  // \n  clear() {\n    this.items = {};\n    this.count = 0;\n    this.lowestCount = 0;\n  }\n  toString() {\n    if (this.isEmpty()) {\n      return '';\n    }\n    let objString = `${this.items[this.lowestCount]}`;\n    for (let i = this.lowestCount + 1; i < this.count; i++) {\n      objString = `${objString},${this.items[i]}`;\n    }\n    return objString;\n  }\n}\n```\n\n###### \n\ndeque double-ended queue\n\n\n\n```javascript\nclass Deque {\n  constructor() {\n    this.count = 0;\n    this.lowestCount = 0;\n    this.items = {};\n  }\n // \n  addFront(element) {\n    if (this.isEmpty()) { // {1}\n      this.addBack(element);\n    } else if (this.lowestCount > 0) { // {2}\n      this.lowestCount--;\n      this.items[this.lowestCount] = element;\n    } else {\n      for (let i = this.count; i > 0; i--) { // {3}\n        this.items[i] = this.items[i - 1];\n      }\n      this.count++;\n      this.lowestCount = 0;\n      this.items[0] = element; // {4}\n    }\n  }\n  addBack(element) {\n    this.items[this.count] = element;\n    this.count++;\n  }\n  removeFront() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    const result = this.items[this.lowestCount]; // {1}\n    delete this.items[this.lowestCount]; // {2}\n    this.lowestCount++; // {3}\n    return result; // {4}\n  }\n  removeBack() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    this.count--;\n    const result = this.items[this.count];\n    delete this.items[this.count];\n    return result;\n  }\n  peekFront() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    return this.items[this.lowestCount];\n  }\n  peekBack() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    return this.items[this.count - 1];\n  }\n  isEmpty() {\n    return this.count - this.lowestCount === 0;\n  }\n  clear() {\n    this.count = 0;\n    this.lowestCount = 0;\n    this.items = {};\n  }\n}\n```\n\n######  - \n\n```javascript\nfunction hotPotato(elementsList, num) { \n  const queue = new Queue(); // {1} \n  const elimitatedList = [];\n  // \n  for (let i = 0; i < elementsList.length; i++) { \n    queue.enqueue(elementsList[i]); // {2} \n  }\n  // \n  while (queue.size() > 1) { \n    for (let i = 0; i < num; i++) { \n      // \n      queue.enqueue(queue.dequeue()); // {3} \n    } \n    // \n    elimitatedList.push(queue.dequeue()); // {4} \n  } \n  return { \n    eliminated: elimitatedList, \n    winner: queue.dequeue() // {5} \n  };\n}\n\nconst names = ['John', 'Jack', 'Camila', 'Ingrid', 'Carl']; \nconst result = hotPotato(names, 7);\nresult.eliminated.forEach(name => { \n console.log(`${name}`); \n}); \nconsole.log(` ${result.winner}`);\n```\n\n###### \n madam racecar\n```javascript\nfunction palindromeChecker(aString) {\n  // \n  if (aString === undefined || aString === null || (aString !== null && aString.length === 0)) { // {1} \n    return false;\n  } \n  const deque = new Deque(); // {2}\n  // \n  const lowerString = aString.toLocaleLowerCase().split(' ').join(''); // {3} \n  let isEqual = true; \n  let firstChar, lastChar;\n  // \n  for (let i = 0; i < lowerString.length; i++) { // {4} \n    deque.addBack(lowerString.charAt(i)); \n  }\n\n  while (deque.size() > 1 && isEqual) { // {5} \n    firstChar = deque.removeFront(); // {6} \n    lastChar = deque.removeBack(); // {7}\n\n    if (firstChar !== lastChar) { \n      isEqual = false; // {8} \n    }\n  } \n  return isEqual;\n}\n```\n\n[javascript](https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/)\n\n\n#### \n\n###### \n![](chain-table-1.png)\n\n\n```javascript\n// util.js\nexport function defaultEquals(a, b) { \n  return a === b; \n}\n// models/linked-list-models\nexport class Node {\n  constructor(element) {\n    this.element = element; \n    this.next = undefined; \n  }\n} \n\nimport { defaultEquals } from '../util'; \nimport { Node } from './models/linked-list-models'; // {1} \nexport default class LinkedList { \n  constructor(equalsFn = defaultEquals) { \n    this.count = 0; // {2} \n    this.head = undefined; // {3}\n    this.equalsFn = equalsFn; // {4} \n  }\n  // \n  push(element) { \n    const node = new Node(element); // {1} \n    let current; // {2} \n\n    if (this.head == null) { // {3} \n      this.head = node;\n    } else {\n      current = this.head; // {4} \n      while (current.next != null) { // {5} \n        current = current.next; \n      }\n      //  next \n      current.next = node; // {6} \n    } \n    this.count++; // {7} \n  }\n  // \n  removeAt(index) { \n    // \n    if (index >= 0 && index < this.count) { // {1} \n      let current = this.head; // {2} \n      // \n      if (index === 0) { // {3} \n        this.head = current.next; \n      } else {\n        // index\n        const previous = this.getElementAt(index - 1);\n        current = previous.next;\n        //  previous  current  current\n        previous.next = current.next; // {8} \n      }\n      this.count--; // {9} \n      return current.element; \n    } \n    return undefined; // {10} \n  }\n  // \n  getElementAt(index) { \n    if (index >= 0 && index <= this.count) { // {1} \n      let node = this.head; // {2} \n      for (let i = 0; i < index && node != null; i++) { // {3} \n        node = node.next;\n      } \n      return node; // {4} \n    } \n    return undefined; // {5} \n  }\n  // \n  insert(element, index) { \n    if (index >= 0 && index <= this.count) { // {1} \n      const node = new Node(element);\n\n      if (index === 0) { // \n        const current = this.head; \n        node.next = current; // {2} \n        this.head = node; \n      } else { \n        const previous = this.getElementAt(index - 1); // {3} \n        const current = previous.next; // {4} \n        node.next = current; // {5} \n        previous.next = node; // {6} \n      } \n      this.count++; // \n      return true; \n    } \n    return false; // {7} \n  }\n  //  indexOf \n  indexOf(element) { \n    let current = this.head; // {1} \n    for (let i = 0; i < this.count && current != null; i++) { // {2} \n      if (this.equalsFn(element, current.element)) { // {3} \n        return i; // {4} \n      }\n      current = current.next; // {5} \n    } \n    return -1; // {6} \n  }\n  // \n  remove(element) { \n    const index = this.indexOf(element); \n    return this.removeAt(index); \n  }\n  size() { \n    return this.count; \n  }\n  isEmpty() { \n    return this.count === 0; \n  }\n  getHead() {\n    return this.head; \n  }\n  toString() { \n    if (this.head == null) { // {1} \n      return ''; \n    } \n    let objString = `${this.head.element}`; // {2} \n    let current = this.head.next; // {3} \n\n    for (let i = 1; i < this.size() && current != null; i++) { // {4} \n      objString = `${objString},${current.element}`; \n      current = current.next;\n    } \n    return objString; // {5} \n  }\n}\n```\n[javascript](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Memory_Management)\n\n###### \n\n![](chain-table-2.png)\n```javascript\nclass DoublyNode extends Node { // {1} \n constructor(element, next, prev) { \n  super(element, next); // {2} \n  this.prev = prev; // {3} \n } \n}\n\nclass DoublyLinkedList extends LinkedList { // {4} \n  constructor(equalsFn = defaultEquals) { \n    super(equalsFn); // {5} \n    this.tail = undefined; // {6} \n  }\n  //  \n  insert(element, index) { \n    if (index >= 0 && index <= this.count) { \n      const node = new DoublyNode(element); \n      let current = this.head;\n\n      if (index === 0) { \n          if (this.head == null) { // {1} \n            this.head = node; \n            this.tail = node; \n          } else { \n            node.next = this.head; // {2} \n            current.prev = node; // {3} \n            this.head = node; // {4} \n          } \n      } else if (index === this.count) { //  // \n        current = this.tail; // {5} \n        current.next = node; // {6} \n        node.prev = current; // {7} \n        this.tail = node; // {8} \n      } else { \n        const previous = this.getElementAt(index - 1); // {9} \n        current = previous.next; // {10} \n        node.next = current; // {11} \n        previous.next = node; // {12} \n        current.prev = node; // {13} \n        node.prev = previous; // {14} \n      }\n      this.count++; \n      return true;\n    } \n    return false; \n  }\n  // \n  removeAt(index) { \n    if (index >= 0 && index < this.count) { \n      let current = this.head;\n\n      if (index === 0) { \n        this.head = current.next; // {1} \n        //  tail // \n        if (this.count === 1) { // {2} \n          this.tail = undefined; \n        } else { \n          this.head.prev = undefined; // {3} \n        } \n      } else if (index === this.count - 1) { //  //\n        current = this.tail; // {4} \n        this.tail = current.prev; // {5} \n        this.tail.next = undefined; // {6} \n      } else { \n        current = this.getElementAt(index); // {7} \n        const previous = current.prev; // {8} \n        //  previous  current  current \n        previous.next = current.next; // {9} \n        current.next.prev = previous; // {10} \n      }\n      this.count--; \n      return current.element; \n    } \n    return undefined; \n  }\n}\n// https://github.com/loiane/javascript-datastructures-algorithms\n```\n\n###### \ntail.nextundefinedhead\n head  tail.next  tail  head.prev\n![](chain-table-3.png)\n![](chain-table-4.png)\n\n```javascript\nclass CircularLinkedList extends LinkedList { \n  constructor(equalsFn = defaultEquals) {\n    super(equalsFn); \n  }\n  // \n  insert(element, index) { \n    if (index >= 0 && index <= this.count) { \n      const node = new Node(element); \n      let current = this.head;\n\n      if (index === 0) { \n        if (this.head == null) { \n          this.head = node; // {1} \n          node.next = this.head; // {2} \n        } else { \n          node.next = current; // {3} \n          current = this.getElementAt(this.size()); // {4} \n          // \n          this.head = node; // {5} \n          current.next = this.head; // {6} \n        }\n      } else { // \n        const previous = this.getElementAt(index - 1); \n        node.next = previous.next; \n        previous.next = node; \n      } \n      this.count++; \n      return true;\n    } \n    return false; \n  }\n  // \n  removeAt(index) { \n    if (index >= 0 && index < this.count) { \n      let current = this.head;\n\n      if (index === 0) { \n        if (this.size() === 1) { \n          this.head = undefined; \n        } else { \n          const removed = this.head; // {1} \n          current = this.getElementAt(this.size()); // {2} \n          this.head = this.head.next; // {3} \n          current.next = this.head; // {4} \n          current = removed; // {5}\n        }\n      } else { \n        // \n        const previous = this.getElementAt(index - 1); \n        current = previous.next; \n        previous.next = current.next; \n      }\n      this.count--; \n      return current.element; // {6} \n    } \n    return undefined; \n  }\n}\n```\n\n###### \n\n```javascript\nconst Compare = { \n  LESS_THAN: -1, \n  BIGGER_THAN: 1 \n}; \nfunction defaultCompare(a, b) { \n  if (a === b) { // {1} \n    return 0; \n  } \n  return a < b ? Compare.LESS_THAN : Compare.BIGGER_THAN; // {2} \n} \nclass SortedLinkedList extends LinkedList { \n  constructor(equalsFn = defaultEquals, compareFn = defaultCompare) { \n    super(equalsFn); \n    this.compareFn = compareFn; // {3} \n  }\n  // \n  insert(element, index = 0) { // {1} \n    if (this.isEmpty()) { \n      return super.insert(element, 0); // {2} \n    } \n    const pos = this.getIndexNextSortedElement(element); // {3} \n    return super.insert(element, pos); // {4} \n  } \n  getIndexNextSortedElement(element) { \n    let current = this.head; \n    let i = 0; \n    for (; i < this.size() && current; i++) { \n      const comp = this.compareFn(element, current.element); // {5} \n      if (comp === Compare.LESS_THAN) { // {6} \n        return i; \n      } \n      current = current.next; \n    } \n    return i; // {7} \n  }\n}\n```\n\n######  StackLinkedList \n```javascript\nclass StackLinkedList { \n  constructor() { \n    this.items = new DoublyLinkedList(); // {1} \n  } \n  push(element) { \n    this.items.push(element); // {2} \n  } \n  pop() { \n    if (this.isEmpty()) { \n      return undefined; \n    } \n    return this.items.removeAt(this.size() - 1); // {3} \n  } \n}\n```","slug":"34-data-structure2","published":1,"updated":"2022-11-23T00:33:39.569Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baj70015nwva93t0duvi","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>FIFO</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Queue</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.lowestCount = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">enqueue</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count] = element;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count++;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">dequeue</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> result = <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount]; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.lowestCount++; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> result; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">peek</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count - <span class=\"built_in\">this</span>.lowestCount === <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count - <span class=\"built_in\">this</span>.lowestCount;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">clear</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.lowestCount = <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> objString = <span class=\"string\">`<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount]&#125;</span>`</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"built_in\">this</span>.lowestCount + <span class=\"number\">1</span>; i &lt; <span class=\"built_in\">this</span>.count; i++) &#123;</span><br><span class=\"line\">      objString = <span class=\"string\">`<span class=\"subst\">$&#123;objString&#125;</span>,<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.items[i]&#125;</span>`</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> objString;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>deque double-ended queue</p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Deque</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.lowestCount = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"> <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">addFront</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.addBack(element);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.lowestCount &gt; <span class=\"number\">0</span>) &#123; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.lowestCount--;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount] = element;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"built_in\">this</span>.count; i &gt; <span class=\"number\">0</span>; i--) &#123; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.items[i] = <span class=\"built_in\">this</span>.items[i - <span class=\"number\">1</span>];</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count++;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.lowestCount = <span class=\"number\">0</span>;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.items[<span class=\"number\">0</span>] = element; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">addBack</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count] = element;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count++;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeFront</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> result = <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount]; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.lowestCount++; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> result; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeBack</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count--;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> result = <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count];</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count];</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">peekFront</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">peekBack</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count - <span class=\"number\">1</span>];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count - <span class=\"built_in\">this</span>.lowestCount === <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">clear</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.lowestCount = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" - \"></a> - </h6><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">hotPotato</span>(<span class=\"params\">elementsList, num</span>) </span>&#123; </span><br><span class=\"line\">  <span class=\"keyword\">const</span> queue = <span class=\"keyword\">new</span> Queue(); <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> elimitatedList = [];</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; elementsList.length; i++) &#123; </span><br><span class=\"line\">    queue.enqueue(elementsList[i]); <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (queue.size() &gt; <span class=\"number\">1</span>) &#123; </span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; num; i++) &#123; </span><br><span class=\"line\">      <span class=\"comment\">// </span></span><br><span class=\"line\">      queue.enqueue(queue.dequeue()); <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    elimitatedList.push(queue.dequeue()); <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; </span><br><span class=\"line\">    <span class=\"attr\">eliminated</span>: elimitatedList, </span><br><span class=\"line\">    <span class=\"attr\">winner</span>: queue.dequeue() <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> names = [<span class=\"string\">&#x27;John&#x27;</span>, <span class=\"string\">&#x27;Jack&#x27;</span>, <span class=\"string\">&#x27;Camila&#x27;</span>, <span class=\"string\">&#x27;Ingrid&#x27;</span>, <span class=\"string\">&#x27;Carl&#x27;</span>]; </span><br><span class=\"line\"><span class=\"keyword\">const</span> result = hotPotato(names, <span class=\"number\">7</span>);</span><br><span class=\"line\">result.eliminated.forEach(<span class=\"function\"><span class=\"params\">name</span> =&gt;</span> &#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(<span class=\"string\">`<span class=\"subst\">$&#123;name&#125;</span>`</span>); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">` <span class=\"subst\">$&#123;result.winner&#125;</span>`</span>);</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p> madam racecar</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">palindromeChecker</span>(<span class=\"params\">aString</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (aString === <span class=\"literal\">undefined</span> || aString === <span class=\"literal\">null</span> || (aString !== <span class=\"literal\">null</span> &amp;&amp; aString.length === <span class=\"number\">0</span>)) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"keyword\">const</span> deque = <span class=\"keyword\">new</span> Deque(); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> lowerString = aString.toLocaleLowerCase().split(<span class=\"string\">&#x27; &#x27;</span>).join(<span class=\"string\">&#x27;&#x27;</span>); <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> isEqual = <span class=\"literal\">true</span>; </span><br><span class=\"line\">  <span class=\"keyword\">let</span> firstChar, lastChar;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; lowerString.length; i++) &#123; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">    deque.addBack(lowerString.charAt(i)); </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (deque.size() &gt; <span class=\"number\">1</span> &amp;&amp; isEqual) &#123; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">    firstChar = deque.removeFront(); <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">    lastChar = deque.removeBack(); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (firstChar !== lastChar) &#123; </span><br><span class=\"line\">      isEqual = <span class=\"literal\">false</span>; <span class=\"comment\">// &#123;8&#125; </span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"keyword\">return</span> isEqual;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/\">javascript</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><img src=\"/2022/09/23/34-data-structure2/chain-table-1.png\" alt=\"\"><br><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// util.js</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">defaultEquals</span>(<span class=\"params\">a, b</span>) </span>&#123; </span><br><span class=\"line\">  <span class=\"keyword\">return</span> a === b; </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// models/linked-list-models</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Node</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.element = element; </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.next = <span class=\"literal\">undefined</span>; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125; </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; defaultEquals &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../util&#x27;</span>; </span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; Node &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./models/linked-list-models&#x27;</span>; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">LinkedList</span> </span>&#123; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">equalsFn = defaultEquals</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.head = <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.equalsFn = equalsFn; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">push</span>(<span class=\"params\">element</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">const</span> node = <span class=\"keyword\">new</span> Node(element); <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> current; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.head == <span class=\"literal\">null</span>) &#123; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.head = node;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      current = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">while</span> (current.next != <span class=\"literal\">null</span>) &#123; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">        current = current.next; </span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">//  next </span></span><br><span class=\"line\">      current.next = node; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count++; <span class=\"comment\">// &#123;7&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeAt</span>(<span class=\"params\">index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt; <span class=\"built_in\">this</span>.count) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">      <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.head = current.next; </span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// index</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> previous = <span class=\"built_in\">this</span>.getElementAt(index - <span class=\"number\">1</span>);</span><br><span class=\"line\">        current = previous.next;</span><br><span class=\"line\">        <span class=\"comment\">//  previous  current  current</span></span><br><span class=\"line\">        previous.next = current.next; <span class=\"comment\">// &#123;8&#125; </span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count--; <span class=\"comment\">// &#123;9&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> current.element; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;10&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getElementAt</span>(<span class=\"params\">index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt;= <span class=\"built_in\">this</span>.count) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> node = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; index &amp;&amp; node != <span class=\"literal\">null</span>; i++) &#123; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">        node = node.next;</span><br><span class=\"line\">      &#125; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">element, index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt;= <span class=\"built_in\">this</span>.count) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> node = <span class=\"keyword\">new</span> Node(element);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123; <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> current = <span class=\"built_in\">this</span>.head; </span><br><span class=\"line\">        node.next = current; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.head = node; </span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">        <span class=\"keyword\">const</span> previous = <span class=\"built_in\">this</span>.getElementAt(index - <span class=\"number\">1</span>); <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> current = previous.next; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">        node.next = current; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">        previous.next = node; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">      &#125; </span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count++; <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// &#123;7&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  indexOf </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">indexOf</span>(<span class=\"params\">element</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"built_in\">this</span>.count &amp;&amp; current != <span class=\"literal\">null</span>; i++) &#123; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.equalsFn(element, current.element)) &#123; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> i; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      current = current.next; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> -<span class=\"number\">1</span>; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">remove</span>(<span class=\"params\">element</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">const</span> index = <span class=\"built_in\">this</span>.indexOf(element); </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.removeAt(index); </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count === <span class=\"number\">0</span>; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getHead</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.head; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.head == <span class=\"literal\">null</span>) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">&#x27;&#x27;</span>; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">let</span> objString = <span class=\"string\">`<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.head.element&#125;</span>`</span>; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head.next; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; <span class=\"built_in\">this</span>.size() &amp;&amp; current != <span class=\"literal\">null</span>; i++) &#123; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">      objString = <span class=\"string\">`<span class=\"subst\">$&#123;objString&#125;</span>,<span class=\"subst\">$&#123;current.element&#125;</span>`</span>; </span><br><span class=\"line\">      current = current.next;</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> objString; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Memory_Management\">javascript</a></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><br><img src=\"/2022/09/23/34-data-structure2/chain-table-2.png\" alt=\"\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DoublyNode</span> <span class=\"keyword\">extends</span> <span class=\"title\">Node</span> </span>&#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\"> <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">element, next, prev</span>)</span> &#123; </span><br><span class=\"line\">  <span class=\"built_in\">super</span>(element, next); <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">  <span class=\"built_in\">this</span>.prev = prev; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DoublyLinkedList</span> <span class=\"keyword\">extends</span> <span class=\"title\">LinkedList</span> </span>&#123; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">equalsFn = defaultEquals</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"built_in\">super</span>(equalsFn); <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.tail = <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">element, index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt;= <span class=\"built_in\">this</span>.count) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">const</span> node = <span class=\"keyword\">new</span> DoublyNode(element); </span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123; </span><br><span class=\"line\">          <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.head == <span class=\"literal\">null</span>) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">            <span class=\"built_in\">this</span>.head = node; </span><br><span class=\"line\">            <span class=\"built_in\">this</span>.tail = node; </span><br><span class=\"line\">          &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">            node.next = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">            current.prev = node; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">            <span class=\"built_in\">this</span>.head = node; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">          &#125; </span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (index === <span class=\"built_in\">this</span>.count) &#123; <span class=\"comment\">//  // </span></span><br><span class=\"line\">        current = <span class=\"built_in\">this</span>.tail; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">        current.next = node; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">        node.prev = current; <span class=\"comment\">// &#123;7&#125; </span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.tail = node; <span class=\"comment\">// &#123;8&#125; </span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">        <span class=\"keyword\">const</span> previous = <span class=\"built_in\">this</span>.getElementAt(index - <span class=\"number\">1</span>); <span class=\"comment\">// &#123;9&#125; </span></span><br><span class=\"line\">        current = previous.next; <span class=\"comment\">// &#123;10&#125; </span></span><br><span class=\"line\">        node.next = current; <span class=\"comment\">// &#123;11&#125; </span></span><br><span class=\"line\">        previous.next = node; <span class=\"comment\">// &#123;12&#125; </span></span><br><span class=\"line\">        current.prev = node; <span class=\"comment\">// &#123;13&#125; </span></span><br><span class=\"line\">        node.prev = previous; <span class=\"comment\">// &#123;14&#125; </span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count++; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeAt</span>(<span class=\"params\">index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt; <span class=\"built_in\">this</span>.count) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123; </span><br><span class=\"line\">        <span class=\"built_in\">this</span>.head = current.next; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">        <span class=\"comment\">//  tail // </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.count === <span class=\"number\">1</span>) &#123; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">          <span class=\"built_in\">this</span>.tail = <span class=\"literal\">undefined</span>; </span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">          <span class=\"built_in\">this</span>.head.prev = <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">        &#125; </span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (index === <span class=\"built_in\">this</span>.count - <span class=\"number\">1</span>) &#123; <span class=\"comment\">//  //</span></span><br><span class=\"line\">        current = <span class=\"built_in\">this</span>.tail; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.tail = current.prev; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.tail.next = <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">        current = <span class=\"built_in\">this</span>.getElementAt(index); <span class=\"comment\">// &#123;7&#125; </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> previous = current.prev; <span class=\"comment\">// &#123;8&#125; </span></span><br><span class=\"line\">        <span class=\"comment\">//  previous  current  current </span></span><br><span class=\"line\">        previous.next = current.next; <span class=\"comment\">// &#123;9&#125; </span></span><br><span class=\"line\">        current.next.prev = previous; <span class=\"comment\">// &#123;10&#125; </span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count--; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> current.element; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// https://github.com/loiane/javascript-datastructures-algorithms</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>tail.nextundefinedhead<br> head  tail.next  tail  head.prev<br><img src=\"/2022/09/23/34-data-structure2/chain-table-3.png\" alt=\"\"><br><img src=\"/2022/09/23/34-data-structure2/chain-table-4.png\" alt=\"\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CircularLinkedList</span> <span class=\"keyword\">extends</span> <span class=\"title\">LinkedList</span> </span>&#123; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">equalsFn = defaultEquals</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>(equalsFn); </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">element, index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt;= <span class=\"built_in\">this</span>.count) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">const</span> node = <span class=\"keyword\">new</span> Node(element); </span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123; </span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.head == <span class=\"literal\">null</span>) &#123; </span><br><span class=\"line\">          <span class=\"built_in\">this</span>.head = node; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">          node.next = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">          node.next = current; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">          current = <span class=\"built_in\">this</span>.getElementAt(<span class=\"built_in\">this</span>.size()); <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">          <span class=\"comment\">// </span></span><br><span class=\"line\">          <span class=\"built_in\">this</span>.head = node; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">          current.next = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123; <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> previous = <span class=\"built_in\">this</span>.getElementAt(index - <span class=\"number\">1</span>); </span><br><span class=\"line\">        node.next = previous.next; </span><br><span class=\"line\">        previous.next = node; </span><br><span class=\"line\">      &#125; </span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count++; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeAt</span>(<span class=\"params\">index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt; <span class=\"built_in\">this</span>.count) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123; </span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.size() === <span class=\"number\">1</span>) &#123; </span><br><span class=\"line\">          <span class=\"built_in\">this</span>.head = <span class=\"literal\">undefined</span>; </span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">          <span class=\"keyword\">const</span> removed = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">          current = <span class=\"built_in\">this</span>.getElementAt(<span class=\"built_in\">this</span>.size()); <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">          <span class=\"built_in\">this</span>.head = <span class=\"built_in\">this</span>.head.next; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">          current.next = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">          current = removed; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> previous = <span class=\"built_in\">this</span>.getElementAt(index - <span class=\"number\">1</span>); </span><br><span class=\"line\">        current = previous.next; </span><br><span class=\"line\">        previous.next = current.next; </span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count--; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> current.element; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> Compare = &#123; </span><br><span class=\"line\">  <span class=\"attr\">LESS_THAN</span>: -<span class=\"number\">1</span>, </span><br><span class=\"line\">  <span class=\"attr\">BIGGER_THAN</span>: <span class=\"number\">1</span> </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">defaultCompare</span>(<span class=\"params\">a, b</span>) </span>&#123; </span><br><span class=\"line\">  <span class=\"keyword\">if</span> (a === b) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>; </span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"keyword\">return</span> a &lt; b ? Compare.LESS_THAN : Compare.BIGGER_THAN; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">&#125; </span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SortedLinkedList</span> <span class=\"keyword\">extends</span> <span class=\"title\">LinkedList</span> </span>&#123; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">equalsFn = defaultEquals, compareFn = defaultCompare</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"built_in\">super</span>(equalsFn); </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.compareFn = compareFn; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">element, index = <span class=\"number\">0</span></span>)</span> &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">super</span>.insert(element, <span class=\"number\">0</span>); <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">const</span> pos = <span class=\"built_in\">this</span>.getIndexNextSortedElement(element); <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">super</span>.insert(element, pos); <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getIndexNextSortedElement</span>(<span class=\"params\">element</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head; </span><br><span class=\"line\">    <span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; </span><br><span class=\"line\">    <span class=\"keyword\">for</span> (; i &lt; <span class=\"built_in\">this</span>.size() &amp;&amp; current; i++) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">const</span> comp = <span class=\"built_in\">this</span>.compareFn(element, current.element); <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (comp === Compare.LESS_THAN) &#123; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> i; </span><br><span class=\"line\">      &#125; </span><br><span class=\"line\">      current = current.next; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> i; <span class=\"comment\">// &#123;7&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"-StackLinkedList-\"><a href=\"#-StackLinkedList-\" class=\"headerlink\" title=\" StackLinkedList \"></a> StackLinkedList </h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">StackLinkedList</span> </span>&#123; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = <span class=\"keyword\">new</span> DoublyLinkedList(); <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">push</span>(<span class=\"params\">element</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items.push(element); <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">pop</span>(<span class=\"params\"></span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items.removeAt(<span class=\"built_in\">this</span>.size() - <span class=\"number\">1</span>); <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>FIFO</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Queue</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.lowestCount = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">enqueue</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count] = element;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count++;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">dequeue</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> result = <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount]; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.lowestCount++; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> result; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">peek</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count - <span class=\"built_in\">this</span>.lowestCount === <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count - <span class=\"built_in\">this</span>.lowestCount;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">clear</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.lowestCount = <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> objString = <span class=\"string\">`<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount]&#125;</span>`</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"built_in\">this</span>.lowestCount + <span class=\"number\">1</span>; i &lt; <span class=\"built_in\">this</span>.count; i++) &#123;</span><br><span class=\"line\">      objString = <span class=\"string\">`<span class=\"subst\">$&#123;objString&#125;</span>,<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.items[i]&#125;</span>`</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> objString;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>deque double-ended queue</p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Deque</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.lowestCount = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"> <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">addFront</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.addBack(element);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.lowestCount &gt; <span class=\"number\">0</span>) &#123; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.lowestCount--;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount] = element;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"built_in\">this</span>.count; i &gt; <span class=\"number\">0</span>; i--) &#123; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.items[i] = <span class=\"built_in\">this</span>.items[i - <span class=\"number\">1</span>];</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count++;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.lowestCount = <span class=\"number\">0</span>;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.items[<span class=\"number\">0</span>] = element; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">addBack</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count] = element;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count++;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeFront</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> result = <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount]; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.lowestCount++; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> result; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeBack</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count--;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> result = <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count];</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count];</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">peekFront</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">peekBack</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count - <span class=\"number\">1</span>];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count - <span class=\"built_in\">this</span>.lowestCount === <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">clear</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.lowestCount = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" - \"></a> - </h6><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">hotPotato</span>(<span class=\"params\">elementsList, num</span>) </span>&#123; </span><br><span class=\"line\">  <span class=\"keyword\">const</span> queue = <span class=\"keyword\">new</span> Queue(); <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> elimitatedList = [];</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; elementsList.length; i++) &#123; </span><br><span class=\"line\">    queue.enqueue(elementsList[i]); <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (queue.size() &gt; <span class=\"number\">1</span>) &#123; </span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; num; i++) &#123; </span><br><span class=\"line\">      <span class=\"comment\">// </span></span><br><span class=\"line\">      queue.enqueue(queue.dequeue()); <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    elimitatedList.push(queue.dequeue()); <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; </span><br><span class=\"line\">    <span class=\"attr\">eliminated</span>: elimitatedList, </span><br><span class=\"line\">    <span class=\"attr\">winner</span>: queue.dequeue() <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> names = [<span class=\"string\">&#x27;John&#x27;</span>, <span class=\"string\">&#x27;Jack&#x27;</span>, <span class=\"string\">&#x27;Camila&#x27;</span>, <span class=\"string\">&#x27;Ingrid&#x27;</span>, <span class=\"string\">&#x27;Carl&#x27;</span>]; </span><br><span class=\"line\"><span class=\"keyword\">const</span> result = hotPotato(names, <span class=\"number\">7</span>);</span><br><span class=\"line\">result.eliminated.forEach(<span class=\"function\"><span class=\"params\">name</span> =&gt;</span> &#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(<span class=\"string\">`<span class=\"subst\">$&#123;name&#125;</span>`</span>); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">` <span class=\"subst\">$&#123;result.winner&#125;</span>`</span>);</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p> madam racecar</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">palindromeChecker</span>(<span class=\"params\">aString</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (aString === <span class=\"literal\">undefined</span> || aString === <span class=\"literal\">null</span> || (aString !== <span class=\"literal\">null</span> &amp;&amp; aString.length === <span class=\"number\">0</span>)) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"keyword\">const</span> deque = <span class=\"keyword\">new</span> Deque(); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> lowerString = aString.toLocaleLowerCase().split(<span class=\"string\">&#x27; &#x27;</span>).join(<span class=\"string\">&#x27;&#x27;</span>); <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> isEqual = <span class=\"literal\">true</span>; </span><br><span class=\"line\">  <span class=\"keyword\">let</span> firstChar, lastChar;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; lowerString.length; i++) &#123; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">    deque.addBack(lowerString.charAt(i)); </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (deque.size() &gt; <span class=\"number\">1</span> &amp;&amp; isEqual) &#123; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">    firstChar = deque.removeFront(); <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">    lastChar = deque.removeBack(); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (firstChar !== lastChar) &#123; </span><br><span class=\"line\">      isEqual = <span class=\"literal\">false</span>; <span class=\"comment\">// &#123;8&#125; </span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"keyword\">return</span> isEqual;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/\">javascript</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><img src=\"/2022/09/23/34-data-structure2/chain-table-1.png\" alt=\"\"><br><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// util.js</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">defaultEquals</span>(<span class=\"params\">a, b</span>) </span>&#123; </span><br><span class=\"line\">  <span class=\"keyword\">return</span> a === b; </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// models/linked-list-models</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Node</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.element = element; </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.next = <span class=\"literal\">undefined</span>; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125; </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; defaultEquals &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../util&#x27;</span>; </span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; Node &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./models/linked-list-models&#x27;</span>; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">LinkedList</span> </span>&#123; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">equalsFn = defaultEquals</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.head = <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.equalsFn = equalsFn; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">push</span>(<span class=\"params\">element</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">const</span> node = <span class=\"keyword\">new</span> Node(element); <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> current; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.head == <span class=\"literal\">null</span>) &#123; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.head = node;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      current = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">while</span> (current.next != <span class=\"literal\">null</span>) &#123; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">        current = current.next; </span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">//  next </span></span><br><span class=\"line\">      current.next = node; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count++; <span class=\"comment\">// &#123;7&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeAt</span>(<span class=\"params\">index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt; <span class=\"built_in\">this</span>.count) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">      <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.head = current.next; </span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// index</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> previous = <span class=\"built_in\">this</span>.getElementAt(index - <span class=\"number\">1</span>);</span><br><span class=\"line\">        current = previous.next;</span><br><span class=\"line\">        <span class=\"comment\">//  previous  current  current</span></span><br><span class=\"line\">        previous.next = current.next; <span class=\"comment\">// &#123;8&#125; </span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count--; <span class=\"comment\">// &#123;9&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> current.element; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;10&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getElementAt</span>(<span class=\"params\">index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt;= <span class=\"built_in\">this</span>.count) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> node = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; index &amp;&amp; node != <span class=\"literal\">null</span>; i++) &#123; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">        node = node.next;</span><br><span class=\"line\">      &#125; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">element, index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt;= <span class=\"built_in\">this</span>.count) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> node = <span class=\"keyword\">new</span> Node(element);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123; <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> current = <span class=\"built_in\">this</span>.head; </span><br><span class=\"line\">        node.next = current; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.head = node; </span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">        <span class=\"keyword\">const</span> previous = <span class=\"built_in\">this</span>.getElementAt(index - <span class=\"number\">1</span>); <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> current = previous.next; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">        node.next = current; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">        previous.next = node; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">      &#125; </span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count++; <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// &#123;7&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  indexOf </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">indexOf</span>(<span class=\"params\">element</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"built_in\">this</span>.count &amp;&amp; current != <span class=\"literal\">null</span>; i++) &#123; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.equalsFn(element, current.element)) &#123; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> i; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      current = current.next; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> -<span class=\"number\">1</span>; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">remove</span>(<span class=\"params\">element</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">const</span> index = <span class=\"built_in\">this</span>.indexOf(element); </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.removeAt(index); </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count === <span class=\"number\">0</span>; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getHead</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.head; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.head == <span class=\"literal\">null</span>) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">&#x27;&#x27;</span>; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">let</span> objString = <span class=\"string\">`<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.head.element&#125;</span>`</span>; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head.next; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; <span class=\"built_in\">this</span>.size() &amp;&amp; current != <span class=\"literal\">null</span>; i++) &#123; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">      objString = <span class=\"string\">`<span class=\"subst\">$&#123;objString&#125;</span>,<span class=\"subst\">$&#123;current.element&#125;</span>`</span>; </span><br><span class=\"line\">      current = current.next;</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> objString; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Memory_Management\">javascript</a></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><br><img src=\"/2022/09/23/34-data-structure2/chain-table-2.png\" alt=\"\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DoublyNode</span> <span class=\"keyword\">extends</span> <span class=\"title\">Node</span> </span>&#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\"> <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">element, next, prev</span>)</span> &#123; </span><br><span class=\"line\">  <span class=\"built_in\">super</span>(element, next); <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">  <span class=\"built_in\">this</span>.prev = prev; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DoublyLinkedList</span> <span class=\"keyword\">extends</span> <span class=\"title\">LinkedList</span> </span>&#123; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">equalsFn = defaultEquals</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"built_in\">super</span>(equalsFn); <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.tail = <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">element, index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt;= <span class=\"built_in\">this</span>.count) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">const</span> node = <span class=\"keyword\">new</span> DoublyNode(element); </span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123; </span><br><span class=\"line\">          <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.head == <span class=\"literal\">null</span>) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">            <span class=\"built_in\">this</span>.head = node; </span><br><span class=\"line\">            <span class=\"built_in\">this</span>.tail = node; </span><br><span class=\"line\">          &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">            node.next = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">            current.prev = node; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">            <span class=\"built_in\">this</span>.head = node; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">          &#125; </span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (index === <span class=\"built_in\">this</span>.count) &#123; <span class=\"comment\">//  // </span></span><br><span class=\"line\">        current = <span class=\"built_in\">this</span>.tail; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">        current.next = node; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">        node.prev = current; <span class=\"comment\">// &#123;7&#125; </span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.tail = node; <span class=\"comment\">// &#123;8&#125; </span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">        <span class=\"keyword\">const</span> previous = <span class=\"built_in\">this</span>.getElementAt(index - <span class=\"number\">1</span>); <span class=\"comment\">// &#123;9&#125; </span></span><br><span class=\"line\">        current = previous.next; <span class=\"comment\">// &#123;10&#125; </span></span><br><span class=\"line\">        node.next = current; <span class=\"comment\">// &#123;11&#125; </span></span><br><span class=\"line\">        previous.next = node; <span class=\"comment\">// &#123;12&#125; </span></span><br><span class=\"line\">        current.prev = node; <span class=\"comment\">// &#123;13&#125; </span></span><br><span class=\"line\">        node.prev = previous; <span class=\"comment\">// &#123;14&#125; </span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count++; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeAt</span>(<span class=\"params\">index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt; <span class=\"built_in\">this</span>.count) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123; </span><br><span class=\"line\">        <span class=\"built_in\">this</span>.head = current.next; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">        <span class=\"comment\">//  tail // </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.count === <span class=\"number\">1</span>) &#123; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">          <span class=\"built_in\">this</span>.tail = <span class=\"literal\">undefined</span>; </span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">          <span class=\"built_in\">this</span>.head.prev = <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">        &#125; </span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (index === <span class=\"built_in\">this</span>.count - <span class=\"number\">1</span>) &#123; <span class=\"comment\">//  //</span></span><br><span class=\"line\">        current = <span class=\"built_in\">this</span>.tail; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.tail = current.prev; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.tail.next = <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">        current = <span class=\"built_in\">this</span>.getElementAt(index); <span class=\"comment\">// &#123;7&#125; </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> previous = current.prev; <span class=\"comment\">// &#123;8&#125; </span></span><br><span class=\"line\">        <span class=\"comment\">//  previous  current  current </span></span><br><span class=\"line\">        previous.next = current.next; <span class=\"comment\">// &#123;9&#125; </span></span><br><span class=\"line\">        current.next.prev = previous; <span class=\"comment\">// &#123;10&#125; </span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count--; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> current.element; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// https://github.com/loiane/javascript-datastructures-algorithms</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>tail.nextundefinedhead<br> head  tail.next  tail  head.prev<br><img src=\"/2022/09/23/34-data-structure2/chain-table-3.png\" alt=\"\"><br><img src=\"/2022/09/23/34-data-structure2/chain-table-4.png\" alt=\"\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CircularLinkedList</span> <span class=\"keyword\">extends</span> <span class=\"title\">LinkedList</span> </span>&#123; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">equalsFn = defaultEquals</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>(equalsFn); </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">element, index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt;= <span class=\"built_in\">this</span>.count) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">const</span> node = <span class=\"keyword\">new</span> Node(element); </span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123; </span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.head == <span class=\"literal\">null</span>) &#123; </span><br><span class=\"line\">          <span class=\"built_in\">this</span>.head = node; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">          node.next = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">          node.next = current; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">          current = <span class=\"built_in\">this</span>.getElementAt(<span class=\"built_in\">this</span>.size()); <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">          <span class=\"comment\">// </span></span><br><span class=\"line\">          <span class=\"built_in\">this</span>.head = node; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">          current.next = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123; <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> previous = <span class=\"built_in\">this</span>.getElementAt(index - <span class=\"number\">1</span>); </span><br><span class=\"line\">        node.next = previous.next; </span><br><span class=\"line\">        previous.next = node; </span><br><span class=\"line\">      &#125; </span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count++; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeAt</span>(<span class=\"params\">index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt; <span class=\"built_in\">this</span>.count) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123; </span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.size() === <span class=\"number\">1</span>) &#123; </span><br><span class=\"line\">          <span class=\"built_in\">this</span>.head = <span class=\"literal\">undefined</span>; </span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">          <span class=\"keyword\">const</span> removed = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">          current = <span class=\"built_in\">this</span>.getElementAt(<span class=\"built_in\">this</span>.size()); <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">          <span class=\"built_in\">this</span>.head = <span class=\"built_in\">this</span>.head.next; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">          current.next = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">          current = removed; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> previous = <span class=\"built_in\">this</span>.getElementAt(index - <span class=\"number\">1</span>); </span><br><span class=\"line\">        current = previous.next; </span><br><span class=\"line\">        previous.next = current.next; </span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count--; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> current.element; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> Compare = &#123; </span><br><span class=\"line\">  <span class=\"attr\">LESS_THAN</span>: -<span class=\"number\">1</span>, </span><br><span class=\"line\">  <span class=\"attr\">BIGGER_THAN</span>: <span class=\"number\">1</span> </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">defaultCompare</span>(<span class=\"params\">a, b</span>) </span>&#123; </span><br><span class=\"line\">  <span class=\"keyword\">if</span> (a === b) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>; </span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"keyword\">return</span> a &lt; b ? Compare.LESS_THAN : Compare.BIGGER_THAN; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">&#125; </span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SortedLinkedList</span> <span class=\"keyword\">extends</span> <span class=\"title\">LinkedList</span> </span>&#123; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">equalsFn = defaultEquals, compareFn = defaultCompare</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"built_in\">super</span>(equalsFn); </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.compareFn = compareFn; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">element, index = <span class=\"number\">0</span></span>)</span> &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">super</span>.insert(element, <span class=\"number\">0</span>); <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">const</span> pos = <span class=\"built_in\">this</span>.getIndexNextSortedElement(element); <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">super</span>.insert(element, pos); <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getIndexNextSortedElement</span>(<span class=\"params\">element</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head; </span><br><span class=\"line\">    <span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; </span><br><span class=\"line\">    <span class=\"keyword\">for</span> (; i &lt; <span class=\"built_in\">this</span>.size() &amp;&amp; current; i++) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">const</span> comp = <span class=\"built_in\">this</span>.compareFn(element, current.element); <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (comp === Compare.LESS_THAN) &#123; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> i; </span><br><span class=\"line\">      &#125; </span><br><span class=\"line\">      current = current.next; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> i; <span class=\"comment\">// &#123;7&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"-StackLinkedList-\"><a href=\"#-StackLinkedList-\" class=\"headerlink\" title=\" StackLinkedList \"></a> StackLinkedList </h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">StackLinkedList</span> </span>&#123; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = <span class=\"keyword\">new</span> DoublyLinkedList(); <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">push</span>(<span class=\"params\">element</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items.push(element); <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">pop</span>(<span class=\"params\"></span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items.removeAt(<span class=\"built_in\">this</span>.size() - <span class=\"number\">1</span>); <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"(4)","date":"2022-10-08T05:25:18.000Z","_content":"\n#### \n\n\n\n\n\n```javascript\nfunction understandRecursion(doIunderstandRecursion) {\n  const recursionAnswer = confirm('Do you understand recursion?');\n  if (recursionAnswer === true) {\n    // \n    return true;\n  }\n  understandRecursion(recursionAnswer); // \n}\n```\n\n###### \n\n n  n! 1  n \n5  5! 5  4  3  2  1  120\n(1)\n(n) _ (n - 1) _ (n - 2) _ (n - 3) _ ... \\* 1\n\n```javascript\nfunction factorialIterative(number) {\n  if (number < 0) return undefined;\n  let total = 1;\n  for (let n = number; n > 1; n--) {\n    total = total * n;\n  }\n  return total;\n}\nconsole.log(factorialIterative(5)); // 120\n```\n\n(2)\n\n```javascript\nfunction factorial(n) {\n  if (n === 1 || n === 0) {\n    // \n    return 1;\n  }\n  return n * factorial(n - 1); // \n}\nconsole.log(factorial(5)); // 120\n```\n\n![factorial](factorial.png)\n\nstack overflow error\n\n****\n\n```javascript\nlet i = 0;\nfunction recursiveFn() {\n  i++;\n  recursiveFn();\n}\ntry {\n  recursiveFn();\n} catch (ex) {\n  console.log('i = ' + i + ' error: ' + ex);\n}\n```\n\n**ECMAScript 2015 tail call optimizationjumpsubroutine call ECMAScript 2015 **\n https://www.chromestatus.com/feature/\n5516876633341952\n\n###### \n\n(1) 0 \n(2)1  2  1\n(3)n n > 2n - 1n - 2\n\n****\n\n```javascript\nfunction fibonacciIterative(n) {\n  if (n < 1) return 0;\n  if (n <= 2) return 1;\n  let fibNMinus2 = 0;\n  let fibNMinus1 = 1;\n  let fibN = n;\n  for (let i = 2; i <= n; i++) {\n    // n >= 2\n    fibN = fibNMinus1 + fibNMinus2; // f(n-1) + f(n-2)\n    fibNMinus2 = fibNMinus1;\n    fibNMinus1 = fibN;\n  }\n  return fibN;\n}\nfibonacciIterative(9); // 34\n```\n\n****\n\n```javascript\nfunction fibonacci(n) {\n  if (n < 1) return 0; // {1}\n  if (n <= 2) return 1; // {2}\n  return fibonacci(n - 1) + fibonacci(n - 2); // {3}\n}\nfibonacci(9); // 34\n```\n\n****\n\n```javascript\nfunction fibonacciMemoization(n) {\n  const memo = [0, 1]; // {1}\n  const fibonacci = (n) => {\n    if (memo[n] != null) return memo[n]; // {2}\n    return (memo[n] = fibonacci(n - 1, memo) + fibonacci(n - 2, memo)); // {3}\n  };\n  return fibonacci(n);\n}\nfibonacciMemoization(9); // 34\n```\n\n\n\n#### \n\n###### \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n 0  1 \n![tree](tree.png)\n\n###### \n\n\n\nBST\n![binary-search-tree](binary-search-tree.png)\n\n\n\n\n****\n![in-order-traverse](in-order-traverse.png)\n****\n![pre-order-traverse](pre-order-traverse.png)\n****\n![post-order-traverse](post-order-traverse.png)\n\n```javascript\nexport class Node {\n  constructor(key) {\n    this.key = key; // {1} \n    this.left = null; // \n    this.right = null; // \n  }\n}\n\nimport { Compare, defaultCompare } from '../util';\nimport { Node } from './models/node';\nexport default class BinarySearchTree {\n  constructor(compareFn = defaultCompare) {\n    this.compareFn = compareFn; // \n    this.root = null; // {1} Node \n  }\n  // \n  insert(key) {\n    if (this.root == null) {\n      // {1}\n      this.root = new Node(key); // {2}\n    } else {\n      this.insertNode(this.root, key); // {3}\n    }\n  }\n  insertNode(node, key) {\n    if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      // {4}\n      if (node.left == null) {\n        // {5}\n        node.left = new Node(key); // {6}\n      } else {\n        this.insertNode(node.left, key); // {7}\n      }\n    } else {\n      if (node.right == null) {\n        // {8}\n        node.right = new Node(key); // {9}\n      } else {\n        this.insertNode(node.right, key); // {10}\n      }\n    }\n  }\n  // \n  //  BST \n  // \n  inOrderTraverse(callback) {\n    this.inOrderTraverseNode(this.root, callback); // {1}\n  }\n  inOrderTraverseNode(node, callback) {\n    if (node != null) {\n      // {2}\n      this.inOrderTraverseNode(node.left, callback); // {3}\n      callback(node.key); // {4}\n      this.inOrderTraverseNode(node.right, callback); // {5}\n    }\n  }\n  // \n  // \n  preOrderTraverse(callback) {\n    this.preOrderTraverseNode(this.root, callback);\n  }\n  preOrderTraverseNode(node, callback) {\n    if (node != null) {\n      callback(node.key); // {1}\n      this.preOrderTraverseNode(node.left, callback); // {2}\n      this.preOrderTraverseNode(node.right, callback); // {3}\n    }\n  }\n  // \n  // \n  postOrderTraverse(callback) {\n    this.postOrderTraverseNode(this.root, callback);\n  }\n  postOrderTraverseNode(node, callback) {\n    if (node != null) {\n      this.postOrderTraverseNode(node.left, callback); // {1}\n      this.postOrderTraverseNode(node.right, callback); // {2}\n      callback(node.key); // {3}\n    }\n  }\n  // \n  min() {\n    return this.minNode(this.root); // {1}\n  }\n  minNode(node) {\n    let current = node;\n    while (current != null && current.left != null) {\n      // {2}\n      current = current.left; // {3}\n    }\n    return current; // {4}\n  }\n  max() {\n    return this.maxNode(this.root);\n  }\n  maxNode(node) {\n    let current = node;\n    while (current != null && current.right != null) {\n      // {5}\n      current = current.right;\n    }\n    return current;\n  }\n  // \n  search(key) {\n    return this.searchNode(this.root, key); // {1}\n  }\n  searchNode(node, key) {\n    if (node == null) {\n      // {2}\n      return false;\n    }\n    if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      // {3}\n      return this.searchNode(node.left, key); // {4}\n    } else if (this.compareFn(key, node.key) === Compare.BIGGER_THAN) {\n      // {5}\n      return this.searchNode(node.right, key); // {6}\n    } else {\n      return true; // {7}\n    }\n  }\n  // \n  remove(key) {\n    this.root = this.removeNode(this.root, key); // {1}\n  }\n  removeNode(node, key) {\n    if (node == null) {\n      // {2}\n      return null;\n    }\n    if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      // {3}\n      node.left = this.removeNode(node.left, key); // {4}\n      return node; // {5}\n    } else if (this.compareFn(key, node.key) === Compare.BIGGER_THAN) {\n      // {6}\n      node.right = this.removeNode(node.right, key); // {7}\n      return node; // {8}\n    } else {\n      //  node.key\n      // : \n      if (node.left == null && node.right == null) {\n        // {9}\n        node = null; // {10}\n        return node; // {11}\n      }\n      // : \n      if (node.left == null) {\n        // {12}\n        node = node.right; // {13}\n        return node; // {14}\n      } else if (node.right == null) {\n        // {15}\n        node = node.left; // {16}\n        return node; // {17}\n      }\n      // : \n      const aux = this.minNode(node.right); // {18}\n      node.key = aux.key; // {19}\n      node.right = this.removeNode(node.right, aux.key); // {20}\n      return node; // {21}\n    }\n  }\n}\n```\n\n****\n\n(1) {18}\n(2) {19}\n\n(3) \n{20}\n(4) {21}\n![remove-left-right](remove-left-right.png)\n\n###### \n\nAdelson-Velskii-Landi AVL \nAVL  1\n\n AVL hrhlhrhl 01 -1 AVL \n\n```javascript\nconst BalanceFactor = {\n  UNBALANCED_RIGHT: 1,\n  SLIGHTLY_UNBALANCED_RIGHT: 2,\n  BALANCED: 3,\n  SLIGHTLY_UNBALANCED_LEFT: 4,\n  UNBALANCED_LEFT: 5,\n};\n\nclass AVLTree extends BinarySearchTree {\n  constructor(compareFn = defaultCompare) {\n    super(compareFn);\n    this.compareFn = compareFn;\n    this.root = null;\n  }\n  // \n  getNodeHeight(node) {\n    if (node == null) {\n      return -1;\n    }\n    return (\n      Math.max(this.getNodeHeight(node.left), this.getNodeHeight(node.right)) +\n      1\n    );\n  }\n  getBalanceFactor(node) {\n    const heightDifference =\n      this.getNodeHeight(node.left) - this.getNodeHeight(node.right);\n    switch (heightDifference) {\n      case -2:\n        return BalanceFactor.UNBALANCED_RIGHT;\n      case -1:\n        return BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT;\n      case 1:\n        return BalanceFactor.SLIGHTLY_UNBALANCED_LEFT;\n      case 2:\n        return BalanceFactor.UNBALANCED_LEFT;\n      default:\n        return BalanceFactor.BALANCED;\n    }\n  }\n  rotationLL(node) {\n    const tmp = node.left; // {1}\n    node.left = tmp.right; // {2}\n    tmp.right = node; // {3}\n    return tmp;\n  }\n  rotationRR(node) {\n    const tmp = node.right; // {1}\n    node.right = tmp.left; // {2}\n    tmp.left = node; // {3}\n    return tmp;\n  }\n  rotationLR(node) {\n    node.left = this.rotationRR(node.left);\n    return this.rotationLL(node);\n  }\n  rotationRL(node) {\n    node.right = this.rotationLL(node.right);\n    return this.rotationRR(node);\n  }\n  //   AVL \n  insert(key) {\n    this.root = this.insertNode(this.root, key);\n  }\n  insertNode(node, key) {\n    //  BST \n    if (node == null) {\n      return new Node(key);\n    } else if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      node.left = this.insertNode(node.left, key);\n    } else if (this.compareFn(key, node.key) === Compare.BIGGER_THAN) {\n      node.right = this.insertNode(node.right, key);\n    } else {\n      return node; // \n    }\n    // \n    const balanceFactor = this.getBalanceFactor(node); // {1}\n    if (balanceFactor === BalanceFactor.UNBALANCED_LEFT) {\n      // {2}\n      if (this.compareFn(key, node.left.key) === Compare.LESS_THAN) {\n        // {3}\n        node = this.rotationLL(node); // {4}\n      } else {\n        return this.rotationLR(node); // {5}\n      }\n    }\n    if (balanceFactor === BalanceFactor.UNBALANCED_RIGHT) {\n      // {6}\n      if (this.compareFn(key, node.right.key) === Compare.BIGGER_THAN) {\n        // {7}\n        node = this.rotationRR(node); // {8}\n      } else {\n        return this.rotationRL(node); // {9}\n      }\n    }\n    return node;\n  }\n  //  AVL \n  removeNode(node, key) {\n    node = super.removeNode(node, key); // {1}\n    if (node == null) {\n      return node; // null\n    }\n    // \n    const balanceFactor = this.getBalanceFactor(node); // {2}\n    if (balanceFactor === BalanceFactor.UNBALANCED_LEFT) {\n      // {3}\n      const balanceFactorLeft = this.getBalanceFactor(node.left); // {4}\n      if (\n        balanceFactorLeft === BalanceFactor.BALANCED ||\n        balanceFactorLeft === BalanceFactor.SLIGHTLY_UNBALANCED_LEFT\n      ) {\n        // {5}\n        return this.rotationLL(node); // {6}\n      }\n      if (balanceFactorLeft === BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT) {\n        // {7}\n        return this.rotationLR(node.left); // {8}\n      }\n    }\n    if (balanceFactor === BalanceFactor.UNBALANCED_RIGHT) {\n      // {9}\n      const balanceFactorRight = this.getBalanceFactor(node.right); // {10}\n      if (\n        balanceFactorRight === BalanceFactor.BALANCED ||\n        balanceFactorRight === BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT\n      ) {\n        // {11}\n        return this.rotationRR(node); // {12}\n      }\n      if (balanceFactorRight === BalanceFactor.SLIGHTLY_UNBALANCED_LEFT) {\n        // {13}\n        return this.rotationRL(node.right); // {14}\n      }\n    }\n    return node;\n  }\n}\n```\n\n**AVL **\n(1)-LL\n\n![left-left-1](left-left-1.png)\n![left-left-2](left-left-2.png)\n\nrotationLL \nXYZ X  Y+2{1}\n X \n Y  X  Z{2}\n X  Y{3}\n\n(2)-RR\n    \n![right-right-1](right-right-1.png)\n![right-right-2](right-right-2.png)\n\nrotationRR \nXYZ X  Y 2{1}\n X \n Y  X  Z{2}\n X  Y{3}\n\n(3)-LR\n-\n![left-right-1](left-right-1.png)\n![left-right-2](left-right-2.png)\n\nrotationLR \n X  Y 2\n Z  X \n Y  X \n X  Y\n X  Z\n\n(4)-RL\n-    \n![right-left-1](right-left-1.png)\n![right-left-2](right-left-2.png)\n\nrotationRL \n X  Y+2\n Y  X \n Z  X \n X  Y\n X  Z\n\n###### \n\n AVL \n\n\n(1) \n(2) \n(3)  NULL \n(4) \n(5) \n(6) NULL \n\n```javascript\nclass RedBlackNode extends Node {\n  constructor(key) {\n    super(key);\n    this.key = key;\n    this.color = Colors.RED; // {6}\n    this.parent = null; // {7}\n  }\n  isRed() {\n    return this.color === Colors.RED;\n  }\n}\n\nclass RedBlackTree extends BinarySearchTree {\n  constructor(compareFn = defaultCompare) {\n    super(compareFn);\n    this.compareFn = compareFn;\n    this.root = null;\n  }\n  insert(key: T) {\n    if (this.root == null) {\n      // {1}\n      this.root = new RedBlackNode(key); // {2}\n      this.root.color = Colors.BLACK; // {3}\n    } else {\n      const newNode = this.insertNode(this.root, key); // {4}\n      this.fixTreeProperties(newNode); // {5}\n    }\n  }\n  insertNode(node, key) {\n    if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      if (node.left == null) {\n        node.left = new RedBlackNode(key);\n        node.left.parent = node; // {8}\n        return node.left; // {9}\n      } else {\n        return this.insertNode(node.left, key);\n      }\n    } else if (node.right == null) {\n      node.right = new RedBlackNode(key);\n      node.right.parent = node; // {10}\n      return node.right; // {11}\n    } else {\n      return this.insertNode(node.right, key);\n    }\n  }\n  fixTreeProperties(node) {\n    while (\n      node &&\n      node.parent &&\n      node.parent.color.isRed() && // {1}\n      node.color !== Colors.BLACK\n    ) {\n      // {2}\n      let parent = node.parent; // {3}\n      const grandParent = parent.parent; // {4}\n      //  A\n      if (grandParent && grandParent.left === parent) {\n        // {5}\n        const uncle = grandParent.right; // {6}\n        //  1A\n        if (uncle && uncle.color === Colors.RED) {\n          // {7}\n          grandParent.color = Colors.RED;\n          parent.color = Colors.BLACK;\n          uncle.color = Colors.BLACK;\n          node = grandParent; // {8}\n        } else {\n          //  2A\n          if (node === parent.right) {\n            this.rotationRR(parent); // {12}\n            node = parent; // {13}\n            parent = node.parent; // {14}\n          }\n          //  3A\n          this.rotationLL(grandParent); // {15}\n          parent.color = Colors.BLACK; // {16}\n          grandParent.color = Colors.RED; // {17}\n          node = parent; // {18}\n        }\n      } else {\n        //  B\n        const uncle = grandParent.left; // {9}\n        //  1B\n        if (uncle && uncle.color === Colors.RED) {\n          // {10}\n          grandParent.color = Colors.RED;\n          parent.color = Colors.BLACK;\n          uncle.color = Colors.BLACK;\n          node = grandParent;\n        } else {\n          //  2B\n          if (node === parent.left) {\n            this.rotationLL(parent); // {19}\n            node = parent;\n            parent = node.parent;\n          }\n          //  3B\n          this.rotationRR(grandParent); // {20}\n          parent.color = Colors.BLACK;\n          grandParent.color = Colors.RED;\n          node = parent;\n        }\n      }\n    }\n    this.root.color = Colors.BLACK; // {11}\n  }\n  rotationLL(node) {\n    const tmp = node.left;\n    node.left = tmp.right;\n    if (tmp.right && tmp.right.key) {\n      tmp.right.parent = node;\n    }\n    tmp.parent = node.parent;\n    if (!node.parent) {\n      this.root = tmp;\n    } else {\n      if (node === node.parent.left) {\n        node.parent.left = tmp;\n      } else {\n        node.parent.right = tmp;\n      }\n    }\n    tmp.right = node;\n    node.parent = tmp;\n  }\n  rotationRR(node) {\n    const tmp = node.right;\n    node.right = tmp.left;\n    if (tmp.left && tmp.left.key) {\n      tmp.left.parent = node;\n    }\n    tmp.parent = node.parent;\n    if (!node.parent) {\n      this.root = tmp;\n    } else {\n      if (node === node.parent.left) {\n        node.parent.left = tmp;\n      } else {\n        node.parent.right = tmp;\n      }\n    }\n    tmp.left = node;\n    node.parent = tmp;\n  }\n}\n```\n\n-LL 3A\n-LR 2A\n-RR 2A\n-RL 2A\n![red-black-2a](red-black-2a.png)\n![red-black-3a](red-black-3a.png)\n![red-black-2b](red-black-2b.png)\n![red-black-3b](red-black-3b.png)\n","source":"_posts/36-data-structure4.md","raw":"---\ntitle: (4)\ndate: 2022-10-08 13:25:18\ntags:\n---\n\n#### \n\n\n\n\n\n```javascript\nfunction understandRecursion(doIunderstandRecursion) {\n  const recursionAnswer = confirm('Do you understand recursion?');\n  if (recursionAnswer === true) {\n    // \n    return true;\n  }\n  understandRecursion(recursionAnswer); // \n}\n```\n\n###### \n\n n  n! 1  n \n5  5! 5  4  3  2  1  120\n(1)\n(n) _ (n - 1) _ (n - 2) _ (n - 3) _ ... \\* 1\n\n```javascript\nfunction factorialIterative(number) {\n  if (number < 0) return undefined;\n  let total = 1;\n  for (let n = number; n > 1; n--) {\n    total = total * n;\n  }\n  return total;\n}\nconsole.log(factorialIterative(5)); // 120\n```\n\n(2)\n\n```javascript\nfunction factorial(n) {\n  if (n === 1 || n === 0) {\n    // \n    return 1;\n  }\n  return n * factorial(n - 1); // \n}\nconsole.log(factorial(5)); // 120\n```\n\n![factorial](factorial.png)\n\nstack overflow error\n\n****\n\n```javascript\nlet i = 0;\nfunction recursiveFn() {\n  i++;\n  recursiveFn();\n}\ntry {\n  recursiveFn();\n} catch (ex) {\n  console.log('i = ' + i + ' error: ' + ex);\n}\n```\n\n**ECMAScript 2015 tail call optimizationjumpsubroutine call ECMAScript 2015 **\n https://www.chromestatus.com/feature/\n5516876633341952\n\n###### \n\n(1) 0 \n(2)1  2  1\n(3)n n > 2n - 1n - 2\n\n****\n\n```javascript\nfunction fibonacciIterative(n) {\n  if (n < 1) return 0;\n  if (n <= 2) return 1;\n  let fibNMinus2 = 0;\n  let fibNMinus1 = 1;\n  let fibN = n;\n  for (let i = 2; i <= n; i++) {\n    // n >= 2\n    fibN = fibNMinus1 + fibNMinus2; // f(n-1) + f(n-2)\n    fibNMinus2 = fibNMinus1;\n    fibNMinus1 = fibN;\n  }\n  return fibN;\n}\nfibonacciIterative(9); // 34\n```\n\n****\n\n```javascript\nfunction fibonacci(n) {\n  if (n < 1) return 0; // {1}\n  if (n <= 2) return 1; // {2}\n  return fibonacci(n - 1) + fibonacci(n - 2); // {3}\n}\nfibonacci(9); // 34\n```\n\n****\n\n```javascript\nfunction fibonacciMemoization(n) {\n  const memo = [0, 1]; // {1}\n  const fibonacci = (n) => {\n    if (memo[n] != null) return memo[n]; // {2}\n    return (memo[n] = fibonacci(n - 1, memo) + fibonacci(n - 2, memo)); // {3}\n  };\n  return fibonacci(n);\n}\nfibonacciMemoization(9); // 34\n```\n\n\n\n#### \n\n###### \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n 0  1 \n![tree](tree.png)\n\n###### \n\n\n\nBST\n![binary-search-tree](binary-search-tree.png)\n\n\n\n\n****\n![in-order-traverse](in-order-traverse.png)\n****\n![pre-order-traverse](pre-order-traverse.png)\n****\n![post-order-traverse](post-order-traverse.png)\n\n```javascript\nexport class Node {\n  constructor(key) {\n    this.key = key; // {1} \n    this.left = null; // \n    this.right = null; // \n  }\n}\n\nimport { Compare, defaultCompare } from '../util';\nimport { Node } from './models/node';\nexport default class BinarySearchTree {\n  constructor(compareFn = defaultCompare) {\n    this.compareFn = compareFn; // \n    this.root = null; // {1} Node \n  }\n  // \n  insert(key) {\n    if (this.root == null) {\n      // {1}\n      this.root = new Node(key); // {2}\n    } else {\n      this.insertNode(this.root, key); // {3}\n    }\n  }\n  insertNode(node, key) {\n    if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      // {4}\n      if (node.left == null) {\n        // {5}\n        node.left = new Node(key); // {6}\n      } else {\n        this.insertNode(node.left, key); // {7}\n      }\n    } else {\n      if (node.right == null) {\n        // {8}\n        node.right = new Node(key); // {9}\n      } else {\n        this.insertNode(node.right, key); // {10}\n      }\n    }\n  }\n  // \n  //  BST \n  // \n  inOrderTraverse(callback) {\n    this.inOrderTraverseNode(this.root, callback); // {1}\n  }\n  inOrderTraverseNode(node, callback) {\n    if (node != null) {\n      // {2}\n      this.inOrderTraverseNode(node.left, callback); // {3}\n      callback(node.key); // {4}\n      this.inOrderTraverseNode(node.right, callback); // {5}\n    }\n  }\n  // \n  // \n  preOrderTraverse(callback) {\n    this.preOrderTraverseNode(this.root, callback);\n  }\n  preOrderTraverseNode(node, callback) {\n    if (node != null) {\n      callback(node.key); // {1}\n      this.preOrderTraverseNode(node.left, callback); // {2}\n      this.preOrderTraverseNode(node.right, callback); // {3}\n    }\n  }\n  // \n  // \n  postOrderTraverse(callback) {\n    this.postOrderTraverseNode(this.root, callback);\n  }\n  postOrderTraverseNode(node, callback) {\n    if (node != null) {\n      this.postOrderTraverseNode(node.left, callback); // {1}\n      this.postOrderTraverseNode(node.right, callback); // {2}\n      callback(node.key); // {3}\n    }\n  }\n  // \n  min() {\n    return this.minNode(this.root); // {1}\n  }\n  minNode(node) {\n    let current = node;\n    while (current != null && current.left != null) {\n      // {2}\n      current = current.left; // {3}\n    }\n    return current; // {4}\n  }\n  max() {\n    return this.maxNode(this.root);\n  }\n  maxNode(node) {\n    let current = node;\n    while (current != null && current.right != null) {\n      // {5}\n      current = current.right;\n    }\n    return current;\n  }\n  // \n  search(key) {\n    return this.searchNode(this.root, key); // {1}\n  }\n  searchNode(node, key) {\n    if (node == null) {\n      // {2}\n      return false;\n    }\n    if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      // {3}\n      return this.searchNode(node.left, key); // {4}\n    } else if (this.compareFn(key, node.key) === Compare.BIGGER_THAN) {\n      // {5}\n      return this.searchNode(node.right, key); // {6}\n    } else {\n      return true; // {7}\n    }\n  }\n  // \n  remove(key) {\n    this.root = this.removeNode(this.root, key); // {1}\n  }\n  removeNode(node, key) {\n    if (node == null) {\n      // {2}\n      return null;\n    }\n    if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      // {3}\n      node.left = this.removeNode(node.left, key); // {4}\n      return node; // {5}\n    } else if (this.compareFn(key, node.key) === Compare.BIGGER_THAN) {\n      // {6}\n      node.right = this.removeNode(node.right, key); // {7}\n      return node; // {8}\n    } else {\n      //  node.key\n      // : \n      if (node.left == null && node.right == null) {\n        // {9}\n        node = null; // {10}\n        return node; // {11}\n      }\n      // : \n      if (node.left == null) {\n        // {12}\n        node = node.right; // {13}\n        return node; // {14}\n      } else if (node.right == null) {\n        // {15}\n        node = node.left; // {16}\n        return node; // {17}\n      }\n      // : \n      const aux = this.minNode(node.right); // {18}\n      node.key = aux.key; // {19}\n      node.right = this.removeNode(node.right, aux.key); // {20}\n      return node; // {21}\n    }\n  }\n}\n```\n\n****\n\n(1) {18}\n(2) {19}\n\n(3) \n{20}\n(4) {21}\n![remove-left-right](remove-left-right.png)\n\n###### \n\nAdelson-Velskii-Landi AVL \nAVL  1\n\n AVL hrhlhrhl 01 -1 AVL \n\n```javascript\nconst BalanceFactor = {\n  UNBALANCED_RIGHT: 1,\n  SLIGHTLY_UNBALANCED_RIGHT: 2,\n  BALANCED: 3,\n  SLIGHTLY_UNBALANCED_LEFT: 4,\n  UNBALANCED_LEFT: 5,\n};\n\nclass AVLTree extends BinarySearchTree {\n  constructor(compareFn = defaultCompare) {\n    super(compareFn);\n    this.compareFn = compareFn;\n    this.root = null;\n  }\n  // \n  getNodeHeight(node) {\n    if (node == null) {\n      return -1;\n    }\n    return (\n      Math.max(this.getNodeHeight(node.left), this.getNodeHeight(node.right)) +\n      1\n    );\n  }\n  getBalanceFactor(node) {\n    const heightDifference =\n      this.getNodeHeight(node.left) - this.getNodeHeight(node.right);\n    switch (heightDifference) {\n      case -2:\n        return BalanceFactor.UNBALANCED_RIGHT;\n      case -1:\n        return BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT;\n      case 1:\n        return BalanceFactor.SLIGHTLY_UNBALANCED_LEFT;\n      case 2:\n        return BalanceFactor.UNBALANCED_LEFT;\n      default:\n        return BalanceFactor.BALANCED;\n    }\n  }\n  rotationLL(node) {\n    const tmp = node.left; // {1}\n    node.left = tmp.right; // {2}\n    tmp.right = node; // {3}\n    return tmp;\n  }\n  rotationRR(node) {\n    const tmp = node.right; // {1}\n    node.right = tmp.left; // {2}\n    tmp.left = node; // {3}\n    return tmp;\n  }\n  rotationLR(node) {\n    node.left = this.rotationRR(node.left);\n    return this.rotationLL(node);\n  }\n  rotationRL(node) {\n    node.right = this.rotationLL(node.right);\n    return this.rotationRR(node);\n  }\n  //   AVL \n  insert(key) {\n    this.root = this.insertNode(this.root, key);\n  }\n  insertNode(node, key) {\n    //  BST \n    if (node == null) {\n      return new Node(key);\n    } else if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      node.left = this.insertNode(node.left, key);\n    } else if (this.compareFn(key, node.key) === Compare.BIGGER_THAN) {\n      node.right = this.insertNode(node.right, key);\n    } else {\n      return node; // \n    }\n    // \n    const balanceFactor = this.getBalanceFactor(node); // {1}\n    if (balanceFactor === BalanceFactor.UNBALANCED_LEFT) {\n      // {2}\n      if (this.compareFn(key, node.left.key) === Compare.LESS_THAN) {\n        // {3}\n        node = this.rotationLL(node); // {4}\n      } else {\n        return this.rotationLR(node); // {5}\n      }\n    }\n    if (balanceFactor === BalanceFactor.UNBALANCED_RIGHT) {\n      // {6}\n      if (this.compareFn(key, node.right.key) === Compare.BIGGER_THAN) {\n        // {7}\n        node = this.rotationRR(node); // {8}\n      } else {\n        return this.rotationRL(node); // {9}\n      }\n    }\n    return node;\n  }\n  //  AVL \n  removeNode(node, key) {\n    node = super.removeNode(node, key); // {1}\n    if (node == null) {\n      return node; // null\n    }\n    // \n    const balanceFactor = this.getBalanceFactor(node); // {2}\n    if (balanceFactor === BalanceFactor.UNBALANCED_LEFT) {\n      // {3}\n      const balanceFactorLeft = this.getBalanceFactor(node.left); // {4}\n      if (\n        balanceFactorLeft === BalanceFactor.BALANCED ||\n        balanceFactorLeft === BalanceFactor.SLIGHTLY_UNBALANCED_LEFT\n      ) {\n        // {5}\n        return this.rotationLL(node); // {6}\n      }\n      if (balanceFactorLeft === BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT) {\n        // {7}\n        return this.rotationLR(node.left); // {8}\n      }\n    }\n    if (balanceFactor === BalanceFactor.UNBALANCED_RIGHT) {\n      // {9}\n      const balanceFactorRight = this.getBalanceFactor(node.right); // {10}\n      if (\n        balanceFactorRight === BalanceFactor.BALANCED ||\n        balanceFactorRight === BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT\n      ) {\n        // {11}\n        return this.rotationRR(node); // {12}\n      }\n      if (balanceFactorRight === BalanceFactor.SLIGHTLY_UNBALANCED_LEFT) {\n        // {13}\n        return this.rotationRL(node.right); // {14}\n      }\n    }\n    return node;\n  }\n}\n```\n\n**AVL **\n(1)-LL\n\n![left-left-1](left-left-1.png)\n![left-left-2](left-left-2.png)\n\nrotationLL \nXYZ X  Y+2{1}\n X \n Y  X  Z{2}\n X  Y{3}\n\n(2)-RR\n    \n![right-right-1](right-right-1.png)\n![right-right-2](right-right-2.png)\n\nrotationRR \nXYZ X  Y 2{1}\n X \n Y  X  Z{2}\n X  Y{3}\n\n(3)-LR\n-\n![left-right-1](left-right-1.png)\n![left-right-2](left-right-2.png)\n\nrotationLR \n X  Y 2\n Z  X \n Y  X \n X  Y\n X  Z\n\n(4)-RL\n-    \n![right-left-1](right-left-1.png)\n![right-left-2](right-left-2.png)\n\nrotationRL \n X  Y+2\n Y  X \n Z  X \n X  Y\n X  Z\n\n###### \n\n AVL \n\n\n(1) \n(2) \n(3)  NULL \n(4) \n(5) \n(6) NULL \n\n```javascript\nclass RedBlackNode extends Node {\n  constructor(key) {\n    super(key);\n    this.key = key;\n    this.color = Colors.RED; // {6}\n    this.parent = null; // {7}\n  }\n  isRed() {\n    return this.color === Colors.RED;\n  }\n}\n\nclass RedBlackTree extends BinarySearchTree {\n  constructor(compareFn = defaultCompare) {\n    super(compareFn);\n    this.compareFn = compareFn;\n    this.root = null;\n  }\n  insert(key: T) {\n    if (this.root == null) {\n      // {1}\n      this.root = new RedBlackNode(key); // {2}\n      this.root.color = Colors.BLACK; // {3}\n    } else {\n      const newNode = this.insertNode(this.root, key); // {4}\n      this.fixTreeProperties(newNode); // {5}\n    }\n  }\n  insertNode(node, key) {\n    if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      if (node.left == null) {\n        node.left = new RedBlackNode(key);\n        node.left.parent = node; // {8}\n        return node.left; // {9}\n      } else {\n        return this.insertNode(node.left, key);\n      }\n    } else if (node.right == null) {\n      node.right = new RedBlackNode(key);\n      node.right.parent = node; // {10}\n      return node.right; // {11}\n    } else {\n      return this.insertNode(node.right, key);\n    }\n  }\n  fixTreeProperties(node) {\n    while (\n      node &&\n      node.parent &&\n      node.parent.color.isRed() && // {1}\n      node.color !== Colors.BLACK\n    ) {\n      // {2}\n      let parent = node.parent; // {3}\n      const grandParent = parent.parent; // {4}\n      //  A\n      if (grandParent && grandParent.left === parent) {\n        // {5}\n        const uncle = grandParent.right; // {6}\n        //  1A\n        if (uncle && uncle.color === Colors.RED) {\n          // {7}\n          grandParent.color = Colors.RED;\n          parent.color = Colors.BLACK;\n          uncle.color = Colors.BLACK;\n          node = grandParent; // {8}\n        } else {\n          //  2A\n          if (node === parent.right) {\n            this.rotationRR(parent); // {12}\n            node = parent; // {13}\n            parent = node.parent; // {14}\n          }\n          //  3A\n          this.rotationLL(grandParent); // {15}\n          parent.color = Colors.BLACK; // {16}\n          grandParent.color = Colors.RED; // {17}\n          node = parent; // {18}\n        }\n      } else {\n        //  B\n        const uncle = grandParent.left; // {9}\n        //  1B\n        if (uncle && uncle.color === Colors.RED) {\n          // {10}\n          grandParent.color = Colors.RED;\n          parent.color = Colors.BLACK;\n          uncle.color = Colors.BLACK;\n          node = grandParent;\n        } else {\n          //  2B\n          if (node === parent.left) {\n            this.rotationLL(parent); // {19}\n            node = parent;\n            parent = node.parent;\n          }\n          //  3B\n          this.rotationRR(grandParent); // {20}\n          parent.color = Colors.BLACK;\n          grandParent.color = Colors.RED;\n          node = parent;\n        }\n      }\n    }\n    this.root.color = Colors.BLACK; // {11}\n  }\n  rotationLL(node) {\n    const tmp = node.left;\n    node.left = tmp.right;\n    if (tmp.right && tmp.right.key) {\n      tmp.right.parent = node;\n    }\n    tmp.parent = node.parent;\n    if (!node.parent) {\n      this.root = tmp;\n    } else {\n      if (node === node.parent.left) {\n        node.parent.left = tmp;\n      } else {\n        node.parent.right = tmp;\n      }\n    }\n    tmp.right = node;\n    node.parent = tmp;\n  }\n  rotationRR(node) {\n    const tmp = node.right;\n    node.right = tmp.left;\n    if (tmp.left && tmp.left.key) {\n      tmp.left.parent = node;\n    }\n    tmp.parent = node.parent;\n    if (!node.parent) {\n      this.root = tmp;\n    } else {\n      if (node === node.parent.left) {\n        node.parent.left = tmp;\n      } else {\n        node.parent.right = tmp;\n      }\n    }\n    tmp.left = node;\n    node.parent = tmp;\n  }\n}\n```\n\n-LL 3A\n-LR 2A\n-RR 2A\n-RL 2A\n![red-black-2a](red-black-2a.png)\n![red-black-3a](red-black-3a.png)\n![red-black-2b](red-black-2b.png)\n![red-black-3b](red-black-3b.png)\n","slug":"36-data-structure4","published":1,"updated":"2022-11-23T00:33:39.591Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baj70016nwvahrujgbps","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">understandRecursion</span>(<span class=\"params\">doIunderstandRecursion</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> recursionAnswer = confirm(<span class=\"string\">&#x27;Do you understand recursion?&#x27;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (recursionAnswer === <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  understandRecursion(recursionAnswer); <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p> n  n! 1  n <br>5  5! 5  4  3  2  1  120<br>(1)<br>(n) _ (n - 1) _ (n - 2) _ (n - 3) _  * 1</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">factorialIterative</span>(<span class=\"params\">number</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (number &lt; <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> total = <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> n = number; n &gt; <span class=\"number\">1</span>; n--) &#123;</span><br><span class=\"line\">    total = total * n;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> total;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(factorialIterative(<span class=\"number\">5</span>)); <span class=\"comment\">// 120</span></span><br></pre></td></tr></table></figure>\n\n<p>(2)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">factorial</span>(<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span> || n === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> n * factorial(n - <span class=\"number\">1</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(factorial(<span class=\"number\">5</span>)); <span class=\"comment\">// 120</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/08/36-data-structure4/factorial.png\" alt=\"factorial\"></p>\n<p>stack overflow error</p>\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">recursiveFn</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  i++;</span><br><span class=\"line\">  recursiveFn();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">  recursiveFn();</span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (ex) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;i = &#x27;</span> + i + <span class=\"string\">&#x27; error: &#x27;</span> + ex);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>ECMAScript 2015 tail call optimizationjumpsubroutine call ECMAScript 2015 </strong><br> <a href=\"https://www.chromestatus.com/feature/\">https://www.chromestatus.com/feature/</a><br>5516876633341952</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(1) 0 <br>(2)1  2  1<br>(3)n n &gt; 2n - 1n - 2</p>\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fibonacciIterative</span>(<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n &lt; <span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n &lt;= <span class=\"number\">2</span>) <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> fibNMinus2 = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> fibNMinus1 = <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> fibN = n;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">2</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// n &gt;= 2</span></span><br><span class=\"line\">    fibN = fibNMinus1 + fibNMinus2; <span class=\"comment\">// f(n-1) + f(n-2)</span></span><br><span class=\"line\">    fibNMinus2 = fibNMinus1;</span><br><span class=\"line\">    fibNMinus1 = fibN;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> fibN;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">fibonacciIterative(<span class=\"number\">9</span>); <span class=\"comment\">// 34</span></span><br></pre></td></tr></table></figure>\n\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fibonacci</span>(<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n &lt; <span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n &lt;= <span class=\"number\">2</span>) <span class=\"keyword\">return</span> <span class=\"number\">1</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> fibonacci(n - <span class=\"number\">1</span>) + fibonacci(n - <span class=\"number\">2</span>); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">fibonacci(<span class=\"number\">9</span>); <span class=\"comment\">// 34</span></span><br></pre></td></tr></table></figure>\n\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fibonacciMemoization</span>(<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> memo = [<span class=\"number\">0</span>, <span class=\"number\">1</span>]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> fibonacci = <span class=\"function\">(<span class=\"params\">n</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (memo[n] != <span class=\"literal\">null</span>) <span class=\"keyword\">return</span> memo[n]; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> (memo[n] = fibonacci(n - <span class=\"number\">1</span>, memo) + fibonacci(n - <span class=\"number\">2</span>, memo)); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> fibonacci(n);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">fibonacciMemoization(<span class=\"number\">9</span>); <span class=\"comment\">// 34</span></span><br></pre></td></tr></table></figure>\n\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p><br><br><br></p>\n<p><br><br></p>\n<p></p>\n<p></p>\n<p> 0  1 <br><img src=\"/2022/10/08/36-data-structure4/tree.png\" alt=\"tree\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p>BST<br><img src=\"/2022/10/08/36-data-structure4/binary-search-tree.png\" alt=\"binary-search-tree\"></p>\n<p><br></p>\n<p><strong></strong><br><img src=\"/2022/10/08/36-data-structure4/in-order-traverse.png\" alt=\"in-order-traverse\"><br><strong></strong><br><img src=\"/2022/10/08/36-data-structure4/pre-order-traverse.png\" alt=\"pre-order-traverse\"><br><strong></strong><br><img src=\"/2022/10/08/36-data-structure4/post-order-traverse.png\" alt=\"post-order-traverse\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Node</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.key = key; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.left = <span class=\"literal\">null</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.right = <span class=\"literal\">null</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; Compare, defaultCompare &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../util&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; Node &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./models/node&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">BinarySearchTree</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">compareFn = defaultCompare</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.compareFn = compareFn; <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.root = <span class=\"literal\">null</span>; <span class=\"comment\">// &#123;1&#125; Node </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.root == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.root = <span class=\"keyword\">new</span> Node(key); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.insertNode(<span class=\"built_in\">this</span>.root, key); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insertNode</span>(<span class=\"params\">node, key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.left == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        node.left = <span class=\"keyword\">new</span> Node(key); <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.insertNode(node.left, key); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.right == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">        node.right = <span class=\"keyword\">new</span> Node(key); <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.insertNode(node.right, key); <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">//  BST </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">inOrderTraverse</span>(<span class=\"params\">callback</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.inOrderTraverseNode(<span class=\"built_in\">this</span>.root, callback); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">inOrderTraverseNode</span>(<span class=\"params\">node, callback</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.inOrderTraverseNode(node.left, callback); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      callback(node.key); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.inOrderTraverseNode(node.right, callback); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">preOrderTraverse</span>(<span class=\"params\">callback</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.preOrderTraverseNode(<span class=\"built_in\">this</span>.root, callback);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">preOrderTraverseNode</span>(<span class=\"params\">node, callback</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      callback(node.key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.preOrderTraverseNode(node.left, callback); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.preOrderTraverseNode(node.right, callback); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">postOrderTraverse</span>(<span class=\"params\">callback</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.postOrderTraverseNode(<span class=\"built_in\">this</span>.root, callback);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">postOrderTraverseNode</span>(<span class=\"params\">node, callback</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.postOrderTraverseNode(node.left, callback); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.postOrderTraverseNode(node.right, callback); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      callback(node.key); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">min</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.minNode(<span class=\"built_in\">this</span>.root); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">minNode</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> current = node;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (current != <span class=\"literal\">null</span> &amp;&amp; current.left != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      current = current.left; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> current; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">max</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.maxNode(<span class=\"built_in\">this</span>.root);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">maxNode</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> current = node;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (current != <span class=\"literal\">null</span> &amp;&amp; current.right != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      current = current.right;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> current;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">search</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.searchNode(<span class=\"built_in\">this</span>.root, key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">searchNode</span>(<span class=\"params\">node, key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.searchNode(node.left, key); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.searchNode(node.right, key); <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">remove</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.root = <span class=\"built_in\">this</span>.removeNode(<span class=\"built_in\">this</span>.root, key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeNode</span>(<span class=\"params\">node, key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      node.left = <span class=\"built_in\">this</span>.removeNode(node.left, key); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      node.right = <span class=\"built_in\">this</span>.removeNode(node.right, key); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">//  node.key</span></span><br><span class=\"line\">      <span class=\"comment\">// : </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.left == <span class=\"literal\">null</span> &amp;&amp; node.right == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">        node = <span class=\"literal\">null</span>; <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">// : </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.left == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">        node = node.right; <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;14&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (node.right == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;15&#125;</span></span><br><span class=\"line\">        node = node.left; <span class=\"comment\">// &#123;16&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;17&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">// : </span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> aux = <span class=\"built_in\">this</span>.minNode(node.right); <span class=\"comment\">// &#123;18&#125;</span></span><br><span class=\"line\">      node.key = aux.key; <span class=\"comment\">// &#123;19&#125;</span></span><br><span class=\"line\">      node.right = <span class=\"built_in\">this</span>.removeNode(node.right, aux.key); <span class=\"comment\">// &#123;20&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;21&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong><br><br>(1) {18}<br>(2) {19}<br><br>(3) <br>{20}<br>(4) {21}<br><img src=\"/2022/10/08/36-data-structure4/remove-left-right.png\" alt=\"remove-left-right\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>Adelson-Velskii-Landi AVL <br>AVL  1</p>\n<p> AVL hrhlhrhl 01 -1 AVL </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> BalanceFactor = &#123;</span><br><span class=\"line\">  <span class=\"attr\">UNBALANCED_RIGHT</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">  <span class=\"attr\">SLIGHTLY_UNBALANCED_RIGHT</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">  <span class=\"attr\">BALANCED</span>: <span class=\"number\">3</span>,</span><br><span class=\"line\">  <span class=\"attr\">SLIGHTLY_UNBALANCED_LEFT</span>: <span class=\"number\">4</span>,</span><br><span class=\"line\">  <span class=\"attr\">UNBALANCED_LEFT</span>: <span class=\"number\">5</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">AVLTree</span> <span class=\"keyword\">extends</span> <span class=\"title\">BinarySearchTree</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">compareFn = defaultCompare</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>(compareFn);</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.compareFn = compareFn;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.root = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getNodeHeight</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      <span class=\"built_in\">Math</span>.max(<span class=\"built_in\">this</span>.getNodeHeight(node.left), <span class=\"built_in\">this</span>.getNodeHeight(node.right)) +</span><br><span class=\"line\">      <span class=\"number\">1</span></span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getBalanceFactor</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> heightDifference =</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.getNodeHeight(node.left) - <span class=\"built_in\">this</span>.getNodeHeight(node.right);</span><br><span class=\"line\">    <span class=\"keyword\">switch</span> (heightDifference) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">case</span> -<span class=\"number\">2</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> BalanceFactor.UNBALANCED_RIGHT;</span><br><span class=\"line\">      <span class=\"keyword\">case</span> -<span class=\"number\">1</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT;</span><br><span class=\"line\">      <span class=\"keyword\">case</span> <span class=\"number\">1</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> BalanceFactor.SLIGHTLY_UNBALANCED_LEFT;</span><br><span class=\"line\">      <span class=\"keyword\">case</span> <span class=\"number\">2</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> BalanceFactor.UNBALANCED_LEFT;</span><br><span class=\"line\">      <span class=\"keyword\">default</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> BalanceFactor.BALANCED;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">rotationLL</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> tmp = node.left; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    node.left = tmp.right; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    tmp.right = node; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> tmp;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">rotationRR</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> tmp = node.right; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    node.right = tmp.left; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    tmp.left = node; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> tmp;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">rotationLR</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    node.left = <span class=\"built_in\">this</span>.rotationRR(node.left);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationLL(node);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">rotationRL</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    node.right = <span class=\"built_in\">this</span>.rotationLL(node.right);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationRR(node);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//   AVL </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.root = <span class=\"built_in\">this</span>.insertNode(<span class=\"built_in\">this</span>.root, key);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insertNode</span>(<span class=\"params\">node, key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//  BST </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Node(key);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      node.left = <span class=\"built_in\">this</span>.insertNode(node.left, key);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      node.right = <span class=\"built_in\">this</span>.insertNode(node.right, key);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> node; <span class=\"comment\">// </span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> balanceFactor = <span class=\"built_in\">this</span>.getBalanceFactor(node); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (balanceFactor === BalanceFactor.UNBALANCED_LEFT) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.left.key) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">        node = <span class=\"built_in\">this</span>.rotationLL(node); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationLR(node); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (balanceFactor === BalanceFactor.UNBALANCED_RIGHT) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.right.key) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">        node = <span class=\"built_in\">this</span>.rotationRR(node); <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationRL(node); <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> node;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  AVL </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeNode</span>(<span class=\"params\">node, key</span>)</span> &#123;</span><br><span class=\"line\">    node = <span class=\"built_in\">super</span>.removeNode(node, key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> node; <span class=\"comment\">// null</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> balanceFactor = <span class=\"built_in\">this</span>.getBalanceFactor(node); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (balanceFactor === BalanceFactor.UNBALANCED_LEFT) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> balanceFactorLeft = <span class=\"built_in\">this</span>.getBalanceFactor(node.left); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (</span><br><span class=\"line\">        balanceFactorLeft === BalanceFactor.BALANCED ||</span><br><span class=\"line\">        balanceFactorLeft === BalanceFactor.SLIGHTLY_UNBALANCED_LEFT</span><br><span class=\"line\">      ) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationLL(node); <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (balanceFactorLeft === BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationLR(node.left); <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (balanceFactor === BalanceFactor.UNBALANCED_RIGHT) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> balanceFactorRight = <span class=\"built_in\">this</span>.getBalanceFactor(node.right); <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (</span><br><span class=\"line\">        balanceFactorRight === BalanceFactor.BALANCED ||</span><br><span class=\"line\">        balanceFactorRight === BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT</span><br><span class=\"line\">      ) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationRR(node); <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (balanceFactorRight === BalanceFactor.SLIGHTLY_UNBALANCED_LEFT) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationRL(node.right); <span class=\"comment\">// &#123;14&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> node;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>AVL </strong><br>(1)-LL<br><br><img src=\"/2022/10/08/36-data-structure4/left-left-1.png\" alt=\"left-left-1\"><br><img src=\"/2022/10/08/36-data-structure4/left-left-2.png\" alt=\"left-left-2\"></p>\n<p>rotationLL <br>XYZ X  Y+2{1}<br> X <br> Y  X  Z{2}<br> X  Y{3}</p>\n<p>(2)-RR<br>    <br><img src=\"/2022/10/08/36-data-structure4/right-right-1.png\" alt=\"right-right-1\"><br><img src=\"/2022/10/08/36-data-structure4/right-right-2.png\" alt=\"right-right-2\"></p>\n<p>rotationRR <br>XYZ X  Y 2{1}<br> X <br> Y  X  Z{2}<br> X  Y{3}</p>\n<p>(3)-LR<br>-<br><img src=\"/2022/10/08/36-data-structure4/left-right-1.png\" alt=\"left-right-1\"><br><img src=\"/2022/10/08/36-data-structure4/left-right-2.png\" alt=\"left-right-2\"></p>\n<p>rotationLR <br> X  Y 2<br> Z  X <br> Y  X <br> X  Y<br> X  Z</p>\n<p>(4)-RL<br>-    <br><img src=\"/2022/10/08/36-data-structure4/right-left-1.png\" alt=\"right-left-1\"><br><img src=\"/2022/10/08/36-data-structure4/right-left-2.png\" alt=\"right-left-2\"></p>\n<p>rotationRL <br> X  Y+2<br> Y  X <br> Z  X <br> X  Y<br> X  Z</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p> AVL </p>\n<p><br>(1) <br>(2) <br>(3)  NULL <br>(4) <br>(5) <br>(6) NULL </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RedBlackNode</span> <span class=\"keyword\">extends</span> <span class=\"title\">Node</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>(key);</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.key = key;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.color = Colors.RED; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.parent = <span class=\"literal\">null</span>; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isRed</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.color === Colors.RED;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RedBlackTree</span> <span class=\"keyword\">extends</span> <span class=\"title\">BinarySearchTree</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">compareFn = defaultCompare</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>(compareFn);</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.compareFn = compareFn;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.root = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">key: T</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.root == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.root = <span class=\"keyword\">new</span> RedBlackNode(key); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.root.color = Colors.BLACK; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> newNode = <span class=\"built_in\">this</span>.insertNode(<span class=\"built_in\">this</span>.root, key); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.fixTreeProperties(newNode); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insertNode</span>(<span class=\"params\">node, key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.left == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        node.left = <span class=\"keyword\">new</span> RedBlackNode(key);</span><br><span class=\"line\">        node.left.parent = node; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> node.left; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.insertNode(node.left, key);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (node.right == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      node.right = <span class=\"keyword\">new</span> RedBlackNode(key);</span><br><span class=\"line\">      node.right.parent = node; <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> node.right; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.insertNode(node.right, key);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">fixTreeProperties</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (</span><br><span class=\"line\">      node &amp;&amp;</span><br><span class=\"line\">      node.parent &amp;&amp;</span><br><span class=\"line\">      node.parent.color.isRed() &amp;&amp; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      node.color !== Colors.BLACK</span><br><span class=\"line\">    ) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> parent = node.parent; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> grandParent = parent.parent; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"comment\">//  A</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (grandParent &amp;&amp; grandParent.left === parent) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> uncle = grandParent.right; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//  1A</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (uncle &amp;&amp; uncle.color === Colors.RED) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">          grandParent.color = Colors.RED;</span><br><span class=\"line\">          parent.color = Colors.BLACK;</span><br><span class=\"line\">          uncle.color = Colors.BLACK;</span><br><span class=\"line\">          node = grandParent; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          <span class=\"comment\">//  2A</span></span><br><span class=\"line\">          <span class=\"keyword\">if</span> (node === parent.right) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.rotationRR(parent); <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">            node = parent; <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">            parent = node.parent; <span class=\"comment\">// &#123;14&#125;</span></span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"comment\">//  3A</span></span><br><span class=\"line\">          <span class=\"built_in\">this</span>.rotationLL(grandParent); <span class=\"comment\">// &#123;15&#125;</span></span><br><span class=\"line\">          parent.color = Colors.BLACK; <span class=\"comment\">// &#123;16&#125;</span></span><br><span class=\"line\">          grandParent.color = Colors.RED; <span class=\"comment\">// &#123;17&#125;</span></span><br><span class=\"line\">          node = parent; <span class=\"comment\">// &#123;18&#125;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//  B</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> uncle = grandParent.left; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//  1B</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (uncle &amp;&amp; uncle.color === Colors.RED) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">          grandParent.color = Colors.RED;</span><br><span class=\"line\">          parent.color = Colors.BLACK;</span><br><span class=\"line\">          uncle.color = Colors.BLACK;</span><br><span class=\"line\">          node = grandParent;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          <span class=\"comment\">//  2B</span></span><br><span class=\"line\">          <span class=\"keyword\">if</span> (node === parent.left) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.rotationLL(parent); <span class=\"comment\">// &#123;19&#125;</span></span><br><span class=\"line\">            node = parent;</span><br><span class=\"line\">            parent = node.parent;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"comment\">//  3B</span></span><br><span class=\"line\">          <span class=\"built_in\">this</span>.rotationRR(grandParent); <span class=\"comment\">// &#123;20&#125;</span></span><br><span class=\"line\">          parent.color = Colors.BLACK;</span><br><span class=\"line\">          grandParent.color = Colors.RED;</span><br><span class=\"line\">          node = parent;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.root.color = Colors.BLACK; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">rotationLL</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> tmp = node.left;</span><br><span class=\"line\">    node.left = tmp.right;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (tmp.right &amp;&amp; tmp.right.key) &#123;</span><br><span class=\"line\">      tmp.right.parent = node;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    tmp.parent = node.parent;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!node.parent) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.root = tmp;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node === node.parent.left) &#123;</span><br><span class=\"line\">        node.parent.left = tmp;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        node.parent.right = tmp;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    tmp.right = node;</span><br><span class=\"line\">    node.parent = tmp;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">rotationRR</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> tmp = node.right;</span><br><span class=\"line\">    node.right = tmp.left;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (tmp.left &amp;&amp; tmp.left.key) &#123;</span><br><span class=\"line\">      tmp.left.parent = node;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    tmp.parent = node.parent;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!node.parent) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.root = tmp;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node === node.parent.left) &#123;</span><br><span class=\"line\">        node.parent.left = tmp;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        node.parent.right = tmp;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    tmp.left = node;</span><br><span class=\"line\">    node.parent = tmp;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>-LL 3A<br>-LR 2A<br>-RR 2A<br>-RL 2A<br><img src=\"/2022/10/08/36-data-structure4/red-black-2a.png\" alt=\"red-black-2a\"><br><img src=\"/2022/10/08/36-data-structure4/red-black-3a.png\" alt=\"red-black-3a\"><br><img src=\"/2022/10/08/36-data-structure4/red-black-2b.png\" alt=\"red-black-2b\"><br><img src=\"/2022/10/08/36-data-structure4/red-black-3b.png\" alt=\"red-black-3b\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">understandRecursion</span>(<span class=\"params\">doIunderstandRecursion</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> recursionAnswer = confirm(<span class=\"string\">&#x27;Do you understand recursion?&#x27;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (recursionAnswer === <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  understandRecursion(recursionAnswer); <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p> n  n! 1  n <br>5  5! 5  4  3  2  1  120<br>(1)<br>(n) _ (n - 1) _ (n - 2) _ (n - 3) _  * 1</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">factorialIterative</span>(<span class=\"params\">number</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (number &lt; <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> total = <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> n = number; n &gt; <span class=\"number\">1</span>; n--) &#123;</span><br><span class=\"line\">    total = total * n;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> total;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(factorialIterative(<span class=\"number\">5</span>)); <span class=\"comment\">// 120</span></span><br></pre></td></tr></table></figure>\n\n<p>(2)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">factorial</span>(<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span> || n === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> n * factorial(n - <span class=\"number\">1</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(factorial(<span class=\"number\">5</span>)); <span class=\"comment\">// 120</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/08/36-data-structure4/factorial.png\" alt=\"factorial\"></p>\n<p>stack overflow error</p>\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">recursiveFn</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  i++;</span><br><span class=\"line\">  recursiveFn();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">  recursiveFn();</span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (ex) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;i = &#x27;</span> + i + <span class=\"string\">&#x27; error: &#x27;</span> + ex);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>ECMAScript 2015 tail call optimizationjumpsubroutine call ECMAScript 2015 </strong><br> <a href=\"https://www.chromestatus.com/feature/\">https://www.chromestatus.com/feature/</a><br>5516876633341952</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(1) 0 <br>(2)1  2  1<br>(3)n n &gt; 2n - 1n - 2</p>\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fibonacciIterative</span>(<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n &lt; <span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n &lt;= <span class=\"number\">2</span>) <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> fibNMinus2 = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> fibNMinus1 = <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> fibN = n;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">2</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// n &gt;= 2</span></span><br><span class=\"line\">    fibN = fibNMinus1 + fibNMinus2; <span class=\"comment\">// f(n-1) + f(n-2)</span></span><br><span class=\"line\">    fibNMinus2 = fibNMinus1;</span><br><span class=\"line\">    fibNMinus1 = fibN;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> fibN;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">fibonacciIterative(<span class=\"number\">9</span>); <span class=\"comment\">// 34</span></span><br></pre></td></tr></table></figure>\n\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fibonacci</span>(<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n &lt; <span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n &lt;= <span class=\"number\">2</span>) <span class=\"keyword\">return</span> <span class=\"number\">1</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> fibonacci(n - <span class=\"number\">1</span>) + fibonacci(n - <span class=\"number\">2</span>); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">fibonacci(<span class=\"number\">9</span>); <span class=\"comment\">// 34</span></span><br></pre></td></tr></table></figure>\n\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fibonacciMemoization</span>(<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> memo = [<span class=\"number\">0</span>, <span class=\"number\">1</span>]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> fibonacci = <span class=\"function\">(<span class=\"params\">n</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (memo[n] != <span class=\"literal\">null</span>) <span class=\"keyword\">return</span> memo[n]; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> (memo[n] = fibonacci(n - <span class=\"number\">1</span>, memo) + fibonacci(n - <span class=\"number\">2</span>, memo)); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> fibonacci(n);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">fibonacciMemoization(<span class=\"number\">9</span>); <span class=\"comment\">// 34</span></span><br></pre></td></tr></table></figure>\n\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p><br><br><br></p>\n<p><br><br></p>\n<p></p>\n<p></p>\n<p> 0  1 <br><img src=\"/2022/10/08/36-data-structure4/tree.png\" alt=\"tree\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p>BST<br><img src=\"/2022/10/08/36-data-structure4/binary-search-tree.png\" alt=\"binary-search-tree\"></p>\n<p><br></p>\n<p><strong></strong><br><img src=\"/2022/10/08/36-data-structure4/in-order-traverse.png\" alt=\"in-order-traverse\"><br><strong></strong><br><img src=\"/2022/10/08/36-data-structure4/pre-order-traverse.png\" alt=\"pre-order-traverse\"><br><strong></strong><br><img src=\"/2022/10/08/36-data-structure4/post-order-traverse.png\" alt=\"post-order-traverse\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Node</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.key = key; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.left = <span class=\"literal\">null</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.right = <span class=\"literal\">null</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; Compare, defaultCompare &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../util&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; Node &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./models/node&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">BinarySearchTree</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">compareFn = defaultCompare</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.compareFn = compareFn; <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.root = <span class=\"literal\">null</span>; <span class=\"comment\">// &#123;1&#125; Node </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.root == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.root = <span class=\"keyword\">new</span> Node(key); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.insertNode(<span class=\"built_in\">this</span>.root, key); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insertNode</span>(<span class=\"params\">node, key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.left == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        node.left = <span class=\"keyword\">new</span> Node(key); <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.insertNode(node.left, key); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.right == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">        node.right = <span class=\"keyword\">new</span> Node(key); <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.insertNode(node.right, key); <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">//  BST </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">inOrderTraverse</span>(<span class=\"params\">callback</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.inOrderTraverseNode(<span class=\"built_in\">this</span>.root, callback); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">inOrderTraverseNode</span>(<span class=\"params\">node, callback</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.inOrderTraverseNode(node.left, callback); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      callback(node.key); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.inOrderTraverseNode(node.right, callback); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">preOrderTraverse</span>(<span class=\"params\">callback</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.preOrderTraverseNode(<span class=\"built_in\">this</span>.root, callback);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">preOrderTraverseNode</span>(<span class=\"params\">node, callback</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      callback(node.key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.preOrderTraverseNode(node.left, callback); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.preOrderTraverseNode(node.right, callback); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">postOrderTraverse</span>(<span class=\"params\">callback</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.postOrderTraverseNode(<span class=\"built_in\">this</span>.root, callback);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">postOrderTraverseNode</span>(<span class=\"params\">node, callback</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.postOrderTraverseNode(node.left, callback); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.postOrderTraverseNode(node.right, callback); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      callback(node.key); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">min</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.minNode(<span class=\"built_in\">this</span>.root); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">minNode</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> current = node;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (current != <span class=\"literal\">null</span> &amp;&amp; current.left != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      current = current.left; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> current; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">max</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.maxNode(<span class=\"built_in\">this</span>.root);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">maxNode</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> current = node;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (current != <span class=\"literal\">null</span> &amp;&amp; current.right != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      current = current.right;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> current;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">search</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.searchNode(<span class=\"built_in\">this</span>.root, key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">searchNode</span>(<span class=\"params\">node, key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.searchNode(node.left, key); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.searchNode(node.right, key); <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">remove</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.root = <span class=\"built_in\">this</span>.removeNode(<span class=\"built_in\">this</span>.root, key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeNode</span>(<span class=\"params\">node, key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      node.left = <span class=\"built_in\">this</span>.removeNode(node.left, key); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      node.right = <span class=\"built_in\">this</span>.removeNode(node.right, key); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">//  node.key</span></span><br><span class=\"line\">      <span class=\"comment\">// : </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.left == <span class=\"literal\">null</span> &amp;&amp; node.right == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">        node = <span class=\"literal\">null</span>; <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">// : </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.left == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">        node = node.right; <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;14&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (node.right == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;15&#125;</span></span><br><span class=\"line\">        node = node.left; <span class=\"comment\">// &#123;16&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;17&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">// : </span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> aux = <span class=\"built_in\">this</span>.minNode(node.right); <span class=\"comment\">// &#123;18&#125;</span></span><br><span class=\"line\">      node.key = aux.key; <span class=\"comment\">// &#123;19&#125;</span></span><br><span class=\"line\">      node.right = <span class=\"built_in\">this</span>.removeNode(node.right, aux.key); <span class=\"comment\">// &#123;20&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;21&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong><br><br>(1) {18}<br>(2) {19}<br><br>(3) <br>{20}<br>(4) {21}<br><img src=\"/2022/10/08/36-data-structure4/remove-left-right.png\" alt=\"remove-left-right\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>Adelson-Velskii-Landi AVL <br>AVL  1</p>\n<p> AVL hrhlhrhl 01 -1 AVL </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> BalanceFactor = &#123;</span><br><span class=\"line\">  <span class=\"attr\">UNBALANCED_RIGHT</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">  <span class=\"attr\">SLIGHTLY_UNBALANCED_RIGHT</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">  <span class=\"attr\">BALANCED</span>: <span class=\"number\">3</span>,</span><br><span class=\"line\">  <span class=\"attr\">SLIGHTLY_UNBALANCED_LEFT</span>: <span class=\"number\">4</span>,</span><br><span class=\"line\">  <span class=\"attr\">UNBALANCED_LEFT</span>: <span class=\"number\">5</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">AVLTree</span> <span class=\"keyword\">extends</span> <span class=\"title\">BinarySearchTree</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">compareFn = defaultCompare</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>(compareFn);</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.compareFn = compareFn;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.root = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getNodeHeight</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      <span class=\"built_in\">Math</span>.max(<span class=\"built_in\">this</span>.getNodeHeight(node.left), <span class=\"built_in\">this</span>.getNodeHeight(node.right)) +</span><br><span class=\"line\">      <span class=\"number\">1</span></span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getBalanceFactor</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> heightDifference =</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.getNodeHeight(node.left) - <span class=\"built_in\">this</span>.getNodeHeight(node.right);</span><br><span class=\"line\">    <span class=\"keyword\">switch</span> (heightDifference) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">case</span> -<span class=\"number\">2</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> BalanceFactor.UNBALANCED_RIGHT;</span><br><span class=\"line\">      <span class=\"keyword\">case</span> -<span class=\"number\">1</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT;</span><br><span class=\"line\">      <span class=\"keyword\">case</span> <span class=\"number\">1</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> BalanceFactor.SLIGHTLY_UNBALANCED_LEFT;</span><br><span class=\"line\">      <span class=\"keyword\">case</span> <span class=\"number\">2</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> BalanceFactor.UNBALANCED_LEFT;</span><br><span class=\"line\">      <span class=\"keyword\">default</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> BalanceFactor.BALANCED;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">rotationLL</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> tmp = node.left; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    node.left = tmp.right; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    tmp.right = node; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> tmp;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">rotationRR</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> tmp = node.right; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    node.right = tmp.left; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    tmp.left = node; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> tmp;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">rotationLR</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    node.left = <span class=\"built_in\">this</span>.rotationRR(node.left);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationLL(node);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">rotationRL</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    node.right = <span class=\"built_in\">this</span>.rotationLL(node.right);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationRR(node);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//   AVL </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.root = <span class=\"built_in\">this</span>.insertNode(<span class=\"built_in\">this</span>.root, key);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insertNode</span>(<span class=\"params\">node, key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//  BST </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Node(key);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      node.left = <span class=\"built_in\">this</span>.insertNode(node.left, key);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      node.right = <span class=\"built_in\">this</span>.insertNode(node.right, key);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> node; <span class=\"comment\">// </span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> balanceFactor = <span class=\"built_in\">this</span>.getBalanceFactor(node); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (balanceFactor === BalanceFactor.UNBALANCED_LEFT) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.left.key) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">        node = <span class=\"built_in\">this</span>.rotationLL(node); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationLR(node); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (balanceFactor === BalanceFactor.UNBALANCED_RIGHT) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.right.key) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">        node = <span class=\"built_in\">this</span>.rotationRR(node); <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationRL(node); <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> node;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  AVL </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeNode</span>(<span class=\"params\">node, key</span>)</span> &#123;</span><br><span class=\"line\">    node = <span class=\"built_in\">super</span>.removeNode(node, key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> node; <span class=\"comment\">// null</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> balanceFactor = <span class=\"built_in\">this</span>.getBalanceFactor(node); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (balanceFactor === BalanceFactor.UNBALANCED_LEFT) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> balanceFactorLeft = <span class=\"built_in\">this</span>.getBalanceFactor(node.left); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (</span><br><span class=\"line\">        balanceFactorLeft === BalanceFactor.BALANCED ||</span><br><span class=\"line\">        balanceFactorLeft === BalanceFactor.SLIGHTLY_UNBALANCED_LEFT</span><br><span class=\"line\">      ) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationLL(node); <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (balanceFactorLeft === BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationLR(node.left); <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (balanceFactor === BalanceFactor.UNBALANCED_RIGHT) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> balanceFactorRight = <span class=\"built_in\">this</span>.getBalanceFactor(node.right); <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (</span><br><span class=\"line\">        balanceFactorRight === BalanceFactor.BALANCED ||</span><br><span class=\"line\">        balanceFactorRight === BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT</span><br><span class=\"line\">      ) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationRR(node); <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (balanceFactorRight === BalanceFactor.SLIGHTLY_UNBALANCED_LEFT) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationRL(node.right); <span class=\"comment\">// &#123;14&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> node;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>AVL </strong><br>(1)-LL<br><br><img src=\"/2022/10/08/36-data-structure4/left-left-1.png\" alt=\"left-left-1\"><br><img src=\"/2022/10/08/36-data-structure4/left-left-2.png\" alt=\"left-left-2\"></p>\n<p>rotationLL <br>XYZ X  Y+2{1}<br> X <br> Y  X  Z{2}<br> X  Y{3}</p>\n<p>(2)-RR<br>    <br><img src=\"/2022/10/08/36-data-structure4/right-right-1.png\" alt=\"right-right-1\"><br><img src=\"/2022/10/08/36-data-structure4/right-right-2.png\" alt=\"right-right-2\"></p>\n<p>rotationRR <br>XYZ X  Y 2{1}<br> X <br> Y  X  Z{2}<br> X  Y{3}</p>\n<p>(3)-LR<br>-<br><img src=\"/2022/10/08/36-data-structure4/left-right-1.png\" alt=\"left-right-1\"><br><img src=\"/2022/10/08/36-data-structure4/left-right-2.png\" alt=\"left-right-2\"></p>\n<p>rotationLR <br> X  Y 2<br> Z  X <br> Y  X <br> X  Y<br> X  Z</p>\n<p>(4)-RL<br>-    <br><img src=\"/2022/10/08/36-data-structure4/right-left-1.png\" alt=\"right-left-1\"><br><img src=\"/2022/10/08/36-data-structure4/right-left-2.png\" alt=\"right-left-2\"></p>\n<p>rotationRL <br> X  Y+2<br> Y  X <br> Z  X <br> X  Y<br> X  Z</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p> AVL </p>\n<p><br>(1) <br>(2) <br>(3)  NULL <br>(4) <br>(5) <br>(6) NULL </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RedBlackNode</span> <span class=\"keyword\">extends</span> <span class=\"title\">Node</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>(key);</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.key = key;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.color = Colors.RED; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.parent = <span class=\"literal\">null</span>; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isRed</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.color === Colors.RED;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RedBlackTree</span> <span class=\"keyword\">extends</span> <span class=\"title\">BinarySearchTree</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">compareFn = defaultCompare</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>(compareFn);</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.compareFn = compareFn;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.root = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">key: T</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.root == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.root = <span class=\"keyword\">new</span> RedBlackNode(key); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.root.color = Colors.BLACK; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> newNode = <span class=\"built_in\">this</span>.insertNode(<span class=\"built_in\">this</span>.root, key); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.fixTreeProperties(newNode); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insertNode</span>(<span class=\"params\">node, key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.left == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        node.left = <span class=\"keyword\">new</span> RedBlackNode(key);</span><br><span class=\"line\">        node.left.parent = node; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> node.left; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.insertNode(node.left, key);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (node.right == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      node.right = <span class=\"keyword\">new</span> RedBlackNode(key);</span><br><span class=\"line\">      node.right.parent = node; <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> node.right; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.insertNode(node.right, key);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">fixTreeProperties</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (</span><br><span class=\"line\">      node &amp;&amp;</span><br><span class=\"line\">      node.parent &amp;&amp;</span><br><span class=\"line\">      node.parent.color.isRed() &amp;&amp; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      node.color !== Colors.BLACK</span><br><span class=\"line\">    ) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> parent = node.parent; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> grandParent = parent.parent; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"comment\">//  A</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (grandParent &amp;&amp; grandParent.left === parent) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> uncle = grandParent.right; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//  1A</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (uncle &amp;&amp; uncle.color === Colors.RED) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">          grandParent.color = Colors.RED;</span><br><span class=\"line\">          parent.color = Colors.BLACK;</span><br><span class=\"line\">          uncle.color = Colors.BLACK;</span><br><span class=\"line\">          node = grandParent; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          <span class=\"comment\">//  2A</span></span><br><span class=\"line\">          <span class=\"keyword\">if</span> (node === parent.right) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.rotationRR(parent); <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">            node = parent; <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">            parent = node.parent; <span class=\"comment\">// &#123;14&#125;</span></span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"comment\">//  3A</span></span><br><span class=\"line\">          <span class=\"built_in\">this</span>.rotationLL(grandParent); <span class=\"comment\">// &#123;15&#125;</span></span><br><span class=\"line\">          parent.color = Colors.BLACK; <span class=\"comment\">// &#123;16&#125;</span></span><br><span class=\"line\">          grandParent.color = Colors.RED; <span class=\"comment\">// &#123;17&#125;</span></span><br><span class=\"line\">          node = parent; <span class=\"comment\">// &#123;18&#125;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//  B</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> uncle = grandParent.left; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//  1B</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (uncle &amp;&amp; uncle.color === Colors.RED) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">          grandParent.color = Colors.RED;</span><br><span class=\"line\">          parent.color = Colors.BLACK;</span><br><span class=\"line\">          uncle.color = Colors.BLACK;</span><br><span class=\"line\">          node = grandParent;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          <span class=\"comment\">//  2B</span></span><br><span class=\"line\">          <span class=\"keyword\">if</span> (node === parent.left) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.rotationLL(parent); <span class=\"comment\">// &#123;19&#125;</span></span><br><span class=\"line\">            node = parent;</span><br><span class=\"line\">            parent = node.parent;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"comment\">//  3B</span></span><br><span class=\"line\">          <span class=\"built_in\">this</span>.rotationRR(grandParent); <span class=\"comment\">// &#123;20&#125;</span></span><br><span class=\"line\">          parent.color = Colors.BLACK;</span><br><span class=\"line\">          grandParent.color = Colors.RED;</span><br><span class=\"line\">          node = parent;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.root.color = Colors.BLACK; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">rotationLL</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> tmp = node.left;</span><br><span class=\"line\">    node.left = tmp.right;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (tmp.right &amp;&amp; tmp.right.key) &#123;</span><br><span class=\"line\">      tmp.right.parent = node;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    tmp.parent = node.parent;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!node.parent) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.root = tmp;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node === node.parent.left) &#123;</span><br><span class=\"line\">        node.parent.left = tmp;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        node.parent.right = tmp;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    tmp.right = node;</span><br><span class=\"line\">    node.parent = tmp;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">rotationRR</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> tmp = node.right;</span><br><span class=\"line\">    node.right = tmp.left;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (tmp.left &amp;&amp; tmp.left.key) &#123;</span><br><span class=\"line\">      tmp.left.parent = node;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    tmp.parent = node.parent;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!node.parent) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.root = tmp;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node === node.parent.left) &#123;</span><br><span class=\"line\">        node.parent.left = tmp;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        node.parent.right = tmp;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    tmp.left = node;</span><br><span class=\"line\">    node.parent = tmp;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>-LL 3A<br>-LR 2A<br>-RR 2A<br>-RL 2A<br><img src=\"/2022/10/08/36-data-structure4/red-black-2a.png\" alt=\"red-black-2a\"><br><img src=\"/2022/10/08/36-data-structure4/red-black-3a.png\" alt=\"red-black-3a\"><br><img src=\"/2022/10/08/36-data-structure4/red-black-2b.png\" alt=\"red-black-2b\"><br><img src=\"/2022/10/08/36-data-structure4/red-black-3b.png\" alt=\"red-black-3b\"></p>\n"},{"title":"(3)","date":"2022-09-29T02:49:51.000Z","_content":"\n#### \n\n\n\n###### \n\n```javascript\nclass Set {\n  constructor() {\n    this.items = {};\n  }\n  has(element) {\n    return element in items;\n  }\n  // Object  hasOwnProperty \n  // in \n  // has(element) {\n  //   return Object.prototype.hasOwnProperty.call(this.items, element);\n  // }\n  add(element) {\n    if (!this.has(element)) {\n      this.items[element] = element; // {1}\n      return true;\n    }\n    return false;\n  }\n  delete(element) {\n    if (this.has(element)) {\n      delete this.items[element]; // {1}\n      return true;\n    }\n    return false;\n  }\n  clear() {\n    this.items = {}; // {2}\n  }\n  size() {\n    return Object.keys(this.items).length; // {1}\n  }\n  // sizeLegacy() {\n  //  let count = 0;\n  //  for(let key in this.items) { // {2}\n  //  for-in  items  count \n  //  has  items \n  //  JavaScript  Object \n  // \n  //  if(this.items.hasOwnProperty(key)) { // {3}\n  //  count++; // {4}\n  //  }\n  //  return count;\n  // }\n  values() {\n    return Object.values(this.items);\n  }\n  // valuesLegacy() {\n  //  let values = [];\n  //  for(let key in this.items) { // {1}\n  //    if(this.items.hasOwnProperty(key)) {\n  //       values.push(key); // {2}\n  //    }\n  //  }\n  //  return values;\n  // }\n}\n```\n\n###### \n\n(1)\n\n```javascript\n// \nunion(otherSet) {\n  const unionSet = new Set(); // {1}\n  //  Set values\n  this.values().forEach(value => unionSet.add(value)); // {2}\n  otherSet.values().forEach(value => unionSet.add(value)); // {3}\n  return unionSet;\n}\nconst setA = new Set();\nsetA.add(1);\nsetA.add(2);\nsetA.add(3);\nconst setB = new Set();\nsetB.add(3);\nsetB.add(4);\nsetB.add(5);\nsetB.add(6);\nconst unionAB = setA.union(setB);\nconsole.log(unionAB.values());\n// [1,2,3,4,5,6]\n```\n\n(2)\n\n```javascript\nintersection(otherSet) {\n const intersectionSet = new Set(); // {1}\n const values = this.values();\n for (let i = 0; i < values.length; i++) { // {2}\n   if (otherSet.has(values[i])) { // {3}\n     intersectionSet.add(values[i]); // {4}\n   }\n }\n return intersectionSet;\n}\n\nconst setA = new Set();\nsetA.add(1);\nsetA.add(2);\nsetA.add(3);\nconst setB = new Set();\nsetB.add(2);\nsetB.add(3);\nsetB.add(4);\nconst intersectionAB = setA.intersection(setB);\nconsole.log(intersectionAB.values());\n// [2,3]\n\n// \nintersection(otherSet) {\n const intersectionSet = new Set(); // {1}\n const values = this.values(); // {2}\n const otherValues = otherSet.values(); // {3}\n let biggerSet = values; // {4}\n let smallerSet = otherValues; // {5}\n\n if (otherValues.length - values.length > 0) { // {6}\n   biggerSet = otherValues;\n   smallerSet = values;\n }\n smallerSet.forEach(value => { // {7}\n   if (biggerSet.includes(value)) {\n     intersectionSet.add(value);\n   }\n });\n return intersectionSet;\n}\n```\n\n(3)\n\n```javascript\ndifference(otherSet) {\n  const differenceSet = new Set(); // {1}\n  this.values().forEach(value => { // {2}\n    if (!otherSet.has(value)) { // {3}\n      differenceSet.add(value); // {4}\n    }\n  });\n  return differenceSet;\n}\n\nconst setA = new Set();\nsetA.add(1);\nsetA.add(2);\nsetA.add(3);\nconst setB = new Set();\nsetB.add(2);\nsetB.add(3);\nsetB.add(4);\nconst differenceAB = setA.difference(setB);\nconsole.log(differenceAB.values());\n// [1]\n```\n\n(4)\n\n```javascript\nisSubsetOf(otherSet) {\n  if (this.size() > otherSet.size()) { // {1}\n    return false;\n  }\n  let isSubset = true; // {2}\n  //  trueevery {6} false\n  this.values().every(value => { // {3}\n    if (!otherSet.has(value)) { // {4}\n      isSubset = false; // {5}\n      return false;\n    }\n    return true; // {6}\n  });\n  return isSubset; // {7}\n}\n\nconst setA = new Set();\nsetA.add(1);\nsetA.add(2);\nconst setB = new Set();\nsetB.add(1);\nsetB.add(2);\nsetB.add(3);\nconst setC = new Set();\nsetC.add(2);\nsetC.add(3);\nsetC.add(4);\nconsole.log(setA.isSubsetOf(setB));\n// true\nconsole.log(setA.isSubsetOf(setC));\n// false\n```\n\n###### \n\n```javascript\n// \nconsole.log(new Set([...setA, ...setB]));\n\n// \nconsole.log(new Set([...setA].filter((x) => setB.has(x))));\n\n// \nconsole.log(new Set([...setA].filter((x) => !setB.has(x))));\n```\n\n#### \n\n###### \n\n[]\n[][]\n\n\n```javascript\n// util.js\nexport function defaultToString(item) {\n  if (item === null) {\n    return 'NULL';\n  } else if (item === undefined) {\n    return 'UNDEFINED';\n  } else if (typeof item === 'string' || item instanceof String) {\n    return `${item}`;\n  }\n  return item.toString(); // {1}\n}\n\nclass ValuePair {\n  constructor(key, value) {\n    this.key = key;\n    this.value = value;\n  }\n  toString() {\n    return `[#${this.key}: ${this.value}]`;\n  }\n}\n\nimport { defaultToString } from '../util';\nexport default class Dictionary {\n  constructor(toStrFn = defaultToString) {\n    this.toStrFn = toStrFn; // {1}\n    this.table = {}; // {2}\n  }\n  // \n  hasKey(key) {\n    return this.table[this.toStrFn(key)] != null;\n  }\n  //  ValuePair \n  set(key, value) {\n    if (key != null && value != null) {\n      const tableKey = this.toStrFn(key); // {1}\n      this.table[tableKey] = new ValuePair(key, value); // {2}\n      return true;\n    }\n    return false;\n  }\n  // \n  remove(key) {\n    if (this.hasKey(key)) {\n      delete this.table[this.toStrFn(key)];\n      return true;\n    }\n    return false;\n  }\n  // \n  get(key) {\n    const valuePair = this.table[this.toStrFn(key)]; // {1}\n    return valuePair == null ? undefined : valuePair.value; // {2}\n  }\n  keyValues() {\n    return Object.values(this.table);\n  }\n  keys() {\n    return this.keyValues().map((valuePair) => valuePair.key);\n  }\n  values() {\n    return this.keyValues().map((valuePair) => valuePair.value);\n  }\n  forEach(callbackFn) {\n    const valuePairs = this.keyValues(); // {1}\n    for (let i = 0; i < valuePairs.length; i++) {\n      // {2}\n      const result = callbackFn(valuePairs[i].key, valuePairs[i].value); // {3}\n      if (result === false) {\n        break; // {4}\n      }\n    }\n  }\n  size() {\n    return Object.keys(this.table).length;\n  }\n  isEmpty() {\n    return this.size() === 0;\n  }\n  clear() {\n    this.table = {};\n  }\n  toString() {\n    if (this.isEmpty()) {\n      return '';\n    }\n    const valuePairs = this.keyValues();\n    let objString = `${valuePairs[0].toString()}`; // {1}\n    for (let i = 1; i < valuePairs.length; i++) {\n      objString = `${objString},${valuePairs[i].toString()}`; // {2}\n    }\n    return objString; // {3}\n  }\n}\n```\n\n###### \n\n\n\n\n\n:\n(1) MySQLMicrosoft SQL ServerOracle key\n(2)JavaScript  key  key \n\n ---- lose lose \n![lose-lose](lose-lose.png)\n\nHashTable  Dictionary  Dictionary \n valuePair  table  key \n HashTable  keyhash valuePair \n hash \n\n```javascript\nclass HashTable {\n  constructor(toStrFn = defaultToString) {\n    this.toStrFn = toStrFn;\n    this.table = {};\n  }\n  // \n  loseloseHashCode(key) {\n    if (typeof key === 'number') {\n      // {1}\n      return key;\n    }\n    const tableKey = this.toStrFn(key); // {2}\n    //  key  ASCII \n    let hash = 0; // {3}\n    for (let i = 0; i < tableKey.length; i++) {\n      hash += tableKey.charCodeAt(i); // {4}\n    }\n    //  hash %{5}\n    // \n    return hash % 37; // {5}\n  }\n  hashCode(key) {\n    return this.loseloseHashCode(key);\n  }\n  put(key, value) {\n    if (key != null && value != null) {\n      // {1}\n      const position = this.hashCode(key); // {2}\n      this.table[position] = new ValuePair(key, value); // {3}\n      return true;\n    }\n    return false;\n  }\n  get(key) {\n    const valuePair = this.table[this.hashCode(key)];\n    return valuePair == null ? undefined : valuePair.value;\n  }\n  remove(key) {\n    const hash = this.hashCode(key); // {1}\n    const valuePair = this.table[hash]; // {2}\n    if (valuePair != null) {\n      delete this.table[hash]; // {3}\n      return true;\n    }\n    return false;\n  }\n}\n\nconst hash = new HashTable();\nhash.put('Gandalf', 'gandalf@email.com');\nhash.put('John', 'johnsnow@email.com');\nhash.put('Tyrion', 'tyrion@email.com');\nconsole.log(hash.hashCode('Gandalf') + ' - Gandalf');\nconsole.log(hash.hashCode('John') + ' - John');\nconsole.log(hash.hashCode('Tyrion') + ' - Tyrion');\n// 19 - Gandalf\n// 29 - John\n// 16 - Tyrion\n```\n\n****\n hashCode \n\n\n****\n\n\n\n\n(1)\n\n HashTable \n![sperate-chain](sperate-chain.png)\n\n```javascript\nclass HashTableSeparateChaining {\n  constructor(toStrFn = defaultToString) {\n    this.toStrFn = toStrFn;\n    this.table = {};\n  }\n  put(key, value) {\n    if (key != null && value != null) {\n      const position = this.hashCode(key);\n      //  \n      if (this.table[position] == null) {\n        // {1}\n        this.table[position] = new LinkedList(); // {2}\n      }\n      this.table[position].push(new ValuePair(key, value)); // {3}\n      return true;\n    }\n    return false;\n  }\n  //  get  key put \n  // LinkedList LinkedList  equalsFn key\n  //  ValuePair LinkedList ===\n  //  ValuePair  get \n  //  indexOf  key\n  //  getElementAt  ValuePair \n  get(key) {\n    const position = this.hashCode(key);\n    const linkedList = this.table[position]; // {1}\n    if (linkedList != null && !linkedList.isEmpty()) {\n      // {2}\n      let current = linkedList.getHead(); // {3}\n      while (current != null) {\n        // {4}\n        if (current.element.key === key) {\n          // {5}\n          return current.element.value; // {6}\n        }\n        current = current.next; // {7}\n      }\n    }\n    return undefined; // {8}\n  }\n  remove(key) {\n    const position = this.hashCode(key);\n    const linkedList = this.table[position];\n    if (linkedList != null && !linkedList.isEmpty()) {\n      let current = linkedList.getHead();\n      while (current != null) {\n        if (current.element.key === key) {\n          // {1}\n          linkedList.remove(current.element); // {2}\n          if (linkedList.isEmpty()) {\n            // {3}\n            delete this.table[position]; // {4}\n          }\n          return true; // {5}\n        }\n        current = current.next; // {6}\n      }\n    }\n    return false; // {7}\n  }\n}\n```\n\n(2)\n\n position  position+1  position+1  position+2 \n![linear-probing](linear-probing.png)\n\n\n\n\n![soft-delete](soft-delete.png)\n[](http://github.com/loiane/javascript-datastructures-algorithms)\n\n\n![move-key](move-key.png)\n\n```javascript\n// move-key\nclass HashTableSeparateChainingMoveKey {\n  constructor(toStrFn = defaultToString) {\n    this.toStrFn = toStrFn;\n    this.table = {};\n  }\n  put(key, value) {\n    if (key != null && value != null) {\n      const position = this.hashCode(key);\n      if (this.table[position] == null) {\n        // {1}\n        this.table[position] = new ValuePair(key, value); // {2}\n      } else {\n        let index = position + 1; // {3}\n        while (this.table[index] != null) {\n          // {4}\n          index++; // {5}\n        }\n        this.table[index] = new ValuePair(key, value); // {6}\n      }\n      return true;\n    }\n    return false;\n  }\n  // \n  // \n  // \n  //  JavaScript \n  //  JavaScript \n  // \n  get(key) {\n    const position = this.hashCode(key);\n    if (this.table[position] != null) {\n      // {1}\n      if (this.table[position].key === key) {\n        // {2}\n        return this.table[position].value; // {3}\n      }\n      let index = position + 1; // {4}\n      while (this.table[index] != null && this.table[index].key !== key) {\n        // {5}\n        index++;\n      }\n      if (this.table[index] != null && this.table[index].key === key) {\n        // {6}\n        return this.table[position].value; // {7}\n      }\n    }\n    return undefined; // {8}\n  }\n  remove(key) {\n    const position = this.hashCode(key);\n    if (this.table[position] != null) {\n      if (this.table[position].key === key) {\n        delete this.table[position]; // {1}\n        this.verifyRemoveSideEffect(key, position); // {2}\n        return true;\n      }\n      let index = position + 1;\n      while (this.table[index] != null && this.table[index].key !== key) {\n        index++;\n      }\n      if (this.table[index] != null && this.table[index].key === key) {\n        delete this.table[index]; // {3}\n        this.verifyRemoveSideEffect(key, index); // {4}\n        return true;\n      }\n    }\n    return false;\n  }\n  verifyRemoveSideEffect(key, removedPosition) {\n    const hash = this.hashCode(key); // {1}\n    let index = removedPosition + 1; // {2}\n    while (this.table[index] != null) {\n      // {3}\n      const posHash = this.hashCode(this.table[index].key); // {4}\n      if (posHash <= hash || posHash <= removedPosition) {\n        // {5}\n        this.table[removedPosition] = this.table[index]; // {6}\n        delete this.table[index];\n        removedPosition = index;\n      }\n      index++;\n    }\n  }\n}\n```\n\n****\n\n\n```javascript\ndjb2HashCode(key) {\n const tableKey = this.toStrFn(key); // {1}\n//   hash ,5381\n let hash = 5381; // {2}\n for (let i = 0; i < tableKey.length; i++) { // {3}\n//   hash  33 ASCII \n hash = (hash * 33) + tableKey.charCodeAt(i); // {4}\n }\n//  \n return hash % 1013; // {5}\n}\n// http://t.cn/Eqg1yb0\n```\n\n**ES2015 Map **\n\n```javascript\nconst map = new Map();\nmap.set('Gandalf', 'gandalf@email.com');\nmap.set('John', 'johnsnow@email.com');\nmap.set('Tyrion', 'tyrion@email.com');\nconsole.log(map.has('Gandalf')); // true\nconsole.log(map.size); // 3\nconsole.log(map.keys()); // {\"Gandalf\", \"John\", \"Tyrion\"}\nconsole.log(map.values()); // {\"gandalf@email.com\", \"johnsnow@email.com\",\n\"tyrion@email.com\"}\nconsole.log(map.get('Tyrion')); // tyrion@email.com\nmap.delete('John');\n```\n\n**ES2105 WeakMap  WeakSet **\nMap  Set :\n(1)WeakSet  WeakMap  entrieskeys  values \n(2)WeakSet  WeakMap \n\n```javascript\nconst map = new WeakMap();\nconst ob1 = { name: 'Gandalf' }; // {1}\nconst ob2 = { name: 'John' };\nconst ob3 = { name: 'Tyrion' };\nmap.set(ob1, 'gandalf@email.com'); // {2}\nmap.set(ob2, 'johnsnow@email.com');\nmap.set(ob3, 'tyrion@email.com');\nconsole.log(map.has(ob1)); // true {3}\nconsole.log(map.get(ob3)); // tyrion@email.com {4}\nmap.delete(ob2); // {5}\n```\n\nWeakMap  set \n","source":"_posts/35-data-structure3.md","raw":"---\ntitle: (3)\ndate: 2022-09-29 10:49:51\ntags:\n---\n\n#### \n\n\n\n###### \n\n```javascript\nclass Set {\n  constructor() {\n    this.items = {};\n  }\n  has(element) {\n    return element in items;\n  }\n  // Object  hasOwnProperty \n  // in \n  // has(element) {\n  //   return Object.prototype.hasOwnProperty.call(this.items, element);\n  // }\n  add(element) {\n    if (!this.has(element)) {\n      this.items[element] = element; // {1}\n      return true;\n    }\n    return false;\n  }\n  delete(element) {\n    if (this.has(element)) {\n      delete this.items[element]; // {1}\n      return true;\n    }\n    return false;\n  }\n  clear() {\n    this.items = {}; // {2}\n  }\n  size() {\n    return Object.keys(this.items).length; // {1}\n  }\n  // sizeLegacy() {\n  //  let count = 0;\n  //  for(let key in this.items) { // {2}\n  //  for-in  items  count \n  //  has  items \n  //  JavaScript  Object \n  // \n  //  if(this.items.hasOwnProperty(key)) { // {3}\n  //  count++; // {4}\n  //  }\n  //  return count;\n  // }\n  values() {\n    return Object.values(this.items);\n  }\n  // valuesLegacy() {\n  //  let values = [];\n  //  for(let key in this.items) { // {1}\n  //    if(this.items.hasOwnProperty(key)) {\n  //       values.push(key); // {2}\n  //    }\n  //  }\n  //  return values;\n  // }\n}\n```\n\n###### \n\n(1)\n\n```javascript\n// \nunion(otherSet) {\n  const unionSet = new Set(); // {1}\n  //  Set values\n  this.values().forEach(value => unionSet.add(value)); // {2}\n  otherSet.values().forEach(value => unionSet.add(value)); // {3}\n  return unionSet;\n}\nconst setA = new Set();\nsetA.add(1);\nsetA.add(2);\nsetA.add(3);\nconst setB = new Set();\nsetB.add(3);\nsetB.add(4);\nsetB.add(5);\nsetB.add(6);\nconst unionAB = setA.union(setB);\nconsole.log(unionAB.values());\n// [1,2,3,4,5,6]\n```\n\n(2)\n\n```javascript\nintersection(otherSet) {\n const intersectionSet = new Set(); // {1}\n const values = this.values();\n for (let i = 0; i < values.length; i++) { // {2}\n   if (otherSet.has(values[i])) { // {3}\n     intersectionSet.add(values[i]); // {4}\n   }\n }\n return intersectionSet;\n}\n\nconst setA = new Set();\nsetA.add(1);\nsetA.add(2);\nsetA.add(3);\nconst setB = new Set();\nsetB.add(2);\nsetB.add(3);\nsetB.add(4);\nconst intersectionAB = setA.intersection(setB);\nconsole.log(intersectionAB.values());\n// [2,3]\n\n// \nintersection(otherSet) {\n const intersectionSet = new Set(); // {1}\n const values = this.values(); // {2}\n const otherValues = otherSet.values(); // {3}\n let biggerSet = values; // {4}\n let smallerSet = otherValues; // {5}\n\n if (otherValues.length - values.length > 0) { // {6}\n   biggerSet = otherValues;\n   smallerSet = values;\n }\n smallerSet.forEach(value => { // {7}\n   if (biggerSet.includes(value)) {\n     intersectionSet.add(value);\n   }\n });\n return intersectionSet;\n}\n```\n\n(3)\n\n```javascript\ndifference(otherSet) {\n  const differenceSet = new Set(); // {1}\n  this.values().forEach(value => { // {2}\n    if (!otherSet.has(value)) { // {3}\n      differenceSet.add(value); // {4}\n    }\n  });\n  return differenceSet;\n}\n\nconst setA = new Set();\nsetA.add(1);\nsetA.add(2);\nsetA.add(3);\nconst setB = new Set();\nsetB.add(2);\nsetB.add(3);\nsetB.add(4);\nconst differenceAB = setA.difference(setB);\nconsole.log(differenceAB.values());\n// [1]\n```\n\n(4)\n\n```javascript\nisSubsetOf(otherSet) {\n  if (this.size() > otherSet.size()) { // {1}\n    return false;\n  }\n  let isSubset = true; // {2}\n  //  trueevery {6} false\n  this.values().every(value => { // {3}\n    if (!otherSet.has(value)) { // {4}\n      isSubset = false; // {5}\n      return false;\n    }\n    return true; // {6}\n  });\n  return isSubset; // {7}\n}\n\nconst setA = new Set();\nsetA.add(1);\nsetA.add(2);\nconst setB = new Set();\nsetB.add(1);\nsetB.add(2);\nsetB.add(3);\nconst setC = new Set();\nsetC.add(2);\nsetC.add(3);\nsetC.add(4);\nconsole.log(setA.isSubsetOf(setB));\n// true\nconsole.log(setA.isSubsetOf(setC));\n// false\n```\n\n###### \n\n```javascript\n// \nconsole.log(new Set([...setA, ...setB]));\n\n// \nconsole.log(new Set([...setA].filter((x) => setB.has(x))));\n\n// \nconsole.log(new Set([...setA].filter((x) => !setB.has(x))));\n```\n\n#### \n\n###### \n\n[]\n[][]\n\n\n```javascript\n// util.js\nexport function defaultToString(item) {\n  if (item === null) {\n    return 'NULL';\n  } else if (item === undefined) {\n    return 'UNDEFINED';\n  } else if (typeof item === 'string' || item instanceof String) {\n    return `${item}`;\n  }\n  return item.toString(); // {1}\n}\n\nclass ValuePair {\n  constructor(key, value) {\n    this.key = key;\n    this.value = value;\n  }\n  toString() {\n    return `[#${this.key}: ${this.value}]`;\n  }\n}\n\nimport { defaultToString } from '../util';\nexport default class Dictionary {\n  constructor(toStrFn = defaultToString) {\n    this.toStrFn = toStrFn; // {1}\n    this.table = {}; // {2}\n  }\n  // \n  hasKey(key) {\n    return this.table[this.toStrFn(key)] != null;\n  }\n  //  ValuePair \n  set(key, value) {\n    if (key != null && value != null) {\n      const tableKey = this.toStrFn(key); // {1}\n      this.table[tableKey] = new ValuePair(key, value); // {2}\n      return true;\n    }\n    return false;\n  }\n  // \n  remove(key) {\n    if (this.hasKey(key)) {\n      delete this.table[this.toStrFn(key)];\n      return true;\n    }\n    return false;\n  }\n  // \n  get(key) {\n    const valuePair = this.table[this.toStrFn(key)]; // {1}\n    return valuePair == null ? undefined : valuePair.value; // {2}\n  }\n  keyValues() {\n    return Object.values(this.table);\n  }\n  keys() {\n    return this.keyValues().map((valuePair) => valuePair.key);\n  }\n  values() {\n    return this.keyValues().map((valuePair) => valuePair.value);\n  }\n  forEach(callbackFn) {\n    const valuePairs = this.keyValues(); // {1}\n    for (let i = 0; i < valuePairs.length; i++) {\n      // {2}\n      const result = callbackFn(valuePairs[i].key, valuePairs[i].value); // {3}\n      if (result === false) {\n        break; // {4}\n      }\n    }\n  }\n  size() {\n    return Object.keys(this.table).length;\n  }\n  isEmpty() {\n    return this.size() === 0;\n  }\n  clear() {\n    this.table = {};\n  }\n  toString() {\n    if (this.isEmpty()) {\n      return '';\n    }\n    const valuePairs = this.keyValues();\n    let objString = `${valuePairs[0].toString()}`; // {1}\n    for (let i = 1; i < valuePairs.length; i++) {\n      objString = `${objString},${valuePairs[i].toString()}`; // {2}\n    }\n    return objString; // {3}\n  }\n}\n```\n\n###### \n\n\n\n\n\n:\n(1) MySQLMicrosoft SQL ServerOracle key\n(2)JavaScript  key  key \n\n ---- lose lose \n![lose-lose](lose-lose.png)\n\nHashTable  Dictionary  Dictionary \n valuePair  table  key \n HashTable  keyhash valuePair \n hash \n\n```javascript\nclass HashTable {\n  constructor(toStrFn = defaultToString) {\n    this.toStrFn = toStrFn;\n    this.table = {};\n  }\n  // \n  loseloseHashCode(key) {\n    if (typeof key === 'number') {\n      // {1}\n      return key;\n    }\n    const tableKey = this.toStrFn(key); // {2}\n    //  key  ASCII \n    let hash = 0; // {3}\n    for (let i = 0; i < tableKey.length; i++) {\n      hash += tableKey.charCodeAt(i); // {4}\n    }\n    //  hash %{5}\n    // \n    return hash % 37; // {5}\n  }\n  hashCode(key) {\n    return this.loseloseHashCode(key);\n  }\n  put(key, value) {\n    if (key != null && value != null) {\n      // {1}\n      const position = this.hashCode(key); // {2}\n      this.table[position] = new ValuePair(key, value); // {3}\n      return true;\n    }\n    return false;\n  }\n  get(key) {\n    const valuePair = this.table[this.hashCode(key)];\n    return valuePair == null ? undefined : valuePair.value;\n  }\n  remove(key) {\n    const hash = this.hashCode(key); // {1}\n    const valuePair = this.table[hash]; // {2}\n    if (valuePair != null) {\n      delete this.table[hash]; // {3}\n      return true;\n    }\n    return false;\n  }\n}\n\nconst hash = new HashTable();\nhash.put('Gandalf', 'gandalf@email.com');\nhash.put('John', 'johnsnow@email.com');\nhash.put('Tyrion', 'tyrion@email.com');\nconsole.log(hash.hashCode('Gandalf') + ' - Gandalf');\nconsole.log(hash.hashCode('John') + ' - John');\nconsole.log(hash.hashCode('Tyrion') + ' - Tyrion');\n// 19 - Gandalf\n// 29 - John\n// 16 - Tyrion\n```\n\n****\n hashCode \n\n\n****\n\n\n\n\n(1)\n\n HashTable \n![sperate-chain](sperate-chain.png)\n\n```javascript\nclass HashTableSeparateChaining {\n  constructor(toStrFn = defaultToString) {\n    this.toStrFn = toStrFn;\n    this.table = {};\n  }\n  put(key, value) {\n    if (key != null && value != null) {\n      const position = this.hashCode(key);\n      //  \n      if (this.table[position] == null) {\n        // {1}\n        this.table[position] = new LinkedList(); // {2}\n      }\n      this.table[position].push(new ValuePair(key, value)); // {3}\n      return true;\n    }\n    return false;\n  }\n  //  get  key put \n  // LinkedList LinkedList  equalsFn key\n  //  ValuePair LinkedList ===\n  //  ValuePair  get \n  //  indexOf  key\n  //  getElementAt  ValuePair \n  get(key) {\n    const position = this.hashCode(key);\n    const linkedList = this.table[position]; // {1}\n    if (linkedList != null && !linkedList.isEmpty()) {\n      // {2}\n      let current = linkedList.getHead(); // {3}\n      while (current != null) {\n        // {4}\n        if (current.element.key === key) {\n          // {5}\n          return current.element.value; // {6}\n        }\n        current = current.next; // {7}\n      }\n    }\n    return undefined; // {8}\n  }\n  remove(key) {\n    const position = this.hashCode(key);\n    const linkedList = this.table[position];\n    if (linkedList != null && !linkedList.isEmpty()) {\n      let current = linkedList.getHead();\n      while (current != null) {\n        if (current.element.key === key) {\n          // {1}\n          linkedList.remove(current.element); // {2}\n          if (linkedList.isEmpty()) {\n            // {3}\n            delete this.table[position]; // {4}\n          }\n          return true; // {5}\n        }\n        current = current.next; // {6}\n      }\n    }\n    return false; // {7}\n  }\n}\n```\n\n(2)\n\n position  position+1  position+1  position+2 \n![linear-probing](linear-probing.png)\n\n\n\n\n![soft-delete](soft-delete.png)\n[](http://github.com/loiane/javascript-datastructures-algorithms)\n\n\n![move-key](move-key.png)\n\n```javascript\n// move-key\nclass HashTableSeparateChainingMoveKey {\n  constructor(toStrFn = defaultToString) {\n    this.toStrFn = toStrFn;\n    this.table = {};\n  }\n  put(key, value) {\n    if (key != null && value != null) {\n      const position = this.hashCode(key);\n      if (this.table[position] == null) {\n        // {1}\n        this.table[position] = new ValuePair(key, value); // {2}\n      } else {\n        let index = position + 1; // {3}\n        while (this.table[index] != null) {\n          // {4}\n          index++; // {5}\n        }\n        this.table[index] = new ValuePair(key, value); // {6}\n      }\n      return true;\n    }\n    return false;\n  }\n  // \n  // \n  // \n  //  JavaScript \n  //  JavaScript \n  // \n  get(key) {\n    const position = this.hashCode(key);\n    if (this.table[position] != null) {\n      // {1}\n      if (this.table[position].key === key) {\n        // {2}\n        return this.table[position].value; // {3}\n      }\n      let index = position + 1; // {4}\n      while (this.table[index] != null && this.table[index].key !== key) {\n        // {5}\n        index++;\n      }\n      if (this.table[index] != null && this.table[index].key === key) {\n        // {6}\n        return this.table[position].value; // {7}\n      }\n    }\n    return undefined; // {8}\n  }\n  remove(key) {\n    const position = this.hashCode(key);\n    if (this.table[position] != null) {\n      if (this.table[position].key === key) {\n        delete this.table[position]; // {1}\n        this.verifyRemoveSideEffect(key, position); // {2}\n        return true;\n      }\n      let index = position + 1;\n      while (this.table[index] != null && this.table[index].key !== key) {\n        index++;\n      }\n      if (this.table[index] != null && this.table[index].key === key) {\n        delete this.table[index]; // {3}\n        this.verifyRemoveSideEffect(key, index); // {4}\n        return true;\n      }\n    }\n    return false;\n  }\n  verifyRemoveSideEffect(key, removedPosition) {\n    const hash = this.hashCode(key); // {1}\n    let index = removedPosition + 1; // {2}\n    while (this.table[index] != null) {\n      // {3}\n      const posHash = this.hashCode(this.table[index].key); // {4}\n      if (posHash <= hash || posHash <= removedPosition) {\n        // {5}\n        this.table[removedPosition] = this.table[index]; // {6}\n        delete this.table[index];\n        removedPosition = index;\n      }\n      index++;\n    }\n  }\n}\n```\n\n****\n\n\n```javascript\ndjb2HashCode(key) {\n const tableKey = this.toStrFn(key); // {1}\n//   hash ,5381\n let hash = 5381; // {2}\n for (let i = 0; i < tableKey.length; i++) { // {3}\n//   hash  33 ASCII \n hash = (hash * 33) + tableKey.charCodeAt(i); // {4}\n }\n//  \n return hash % 1013; // {5}\n}\n// http://t.cn/Eqg1yb0\n```\n\n**ES2015 Map **\n\n```javascript\nconst map = new Map();\nmap.set('Gandalf', 'gandalf@email.com');\nmap.set('John', 'johnsnow@email.com');\nmap.set('Tyrion', 'tyrion@email.com');\nconsole.log(map.has('Gandalf')); // true\nconsole.log(map.size); // 3\nconsole.log(map.keys()); // {\"Gandalf\", \"John\", \"Tyrion\"}\nconsole.log(map.values()); // {\"gandalf@email.com\", \"johnsnow@email.com\",\n\"tyrion@email.com\"}\nconsole.log(map.get('Tyrion')); // tyrion@email.com\nmap.delete('John');\n```\n\n**ES2105 WeakMap  WeakSet **\nMap  Set :\n(1)WeakSet  WeakMap  entrieskeys  values \n(2)WeakSet  WeakMap \n\n```javascript\nconst map = new WeakMap();\nconst ob1 = { name: 'Gandalf' }; // {1}\nconst ob2 = { name: 'John' };\nconst ob3 = { name: 'Tyrion' };\nmap.set(ob1, 'gandalf@email.com'); // {2}\nmap.set(ob2, 'johnsnow@email.com');\nmap.set(ob3, 'tyrion@email.com');\nconsole.log(map.has(ob1)); // true {3}\nconsole.log(map.get(ob3)); // tyrion@email.com {4}\nmap.delete(ob2); // {5}\n```\n\nWeakMap  set \n","slug":"35-data-structure3","published":1,"updated":"2022-11-23T00:33:39.580Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baj80017nwvag9sob3zh","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Set</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">has</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> element <span class=\"keyword\">in</span> items;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// Object  hasOwnProperty </span></span><br><span class=\"line\">  <span class=\"comment\">// in </span></span><br><span class=\"line\">  <span class=\"comment\">// has(element) &#123;</span></span><br><span class=\"line\">  <span class=\"comment\">//   return Object.prototype.hasOwnProperty.call(this.items, element);</span></span><br><span class=\"line\">  <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">add</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.has(element)) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.items[element] = element; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">delete</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.has(element)) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.items[element]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">clear</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.keys(<span class=\"built_in\">this</span>.items).length; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// sizeLegacy() &#123;</span></span><br><span class=\"line\">  <span class=\"comment\">//  let count = 0;</span></span><br><span class=\"line\">  <span class=\"comment\">//  for(let key in this.items) &#123; // &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  for-in  items  count </span></span><br><span class=\"line\">  <span class=\"comment\">//  has  items </span></span><br><span class=\"line\">  <span class=\"comment\">//  JavaScript  Object </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">//  if(this.items.hasOwnProperty(key)) &#123; // &#123;3&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  count++; // &#123;4&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  &#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  return count;</span></span><br><span class=\"line\">  <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">values</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.values(<span class=\"built_in\">this</span>.items);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// valuesLegacy() &#123;</span></span><br><span class=\"line\">  <span class=\"comment\">//  let values = [];</span></span><br><span class=\"line\">  <span class=\"comment\">//  for(let key in this.items) &#123; // &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//    if(this.items.hasOwnProperty(key)) &#123;</span></span><br><span class=\"line\">  <span class=\"comment\">//       values.push(key); // &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//    &#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  &#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  return values;</span></span><br><span class=\"line\">  <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(1)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">union</span>(<span class=\"params\">otherSet</span>)</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> unionSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  Set values</span></span><br><span class=\"line\">  <span class=\"built_in\">this</span>.values().forEach(<span class=\"function\"><span class=\"params\">value</span> =&gt;</span> unionSet.add(value)); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  otherSet.values().forEach(<span class=\"function\"><span class=\"params\">value</span> =&gt;</span> unionSet.add(value)); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> unionSet;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> setA = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setA.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> setB = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setB.add(<span class=\"number\">3</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">4</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">5</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">6</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> unionAB = setA.union(setB);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(unionAB.values());</span><br><span class=\"line\"><span class=\"comment\">// [1,2,3,4,5,6]</span></span><br></pre></td></tr></table></figure>\n\n<p>(2)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">intersection</span>(<span class=\"params\">otherSet</span>)</span> &#123;</span><br><span class=\"line\"> <span class=\"keyword\">const</span> intersectionSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\"> <span class=\"keyword\">const</span> values = <span class=\"built_in\">this</span>.values();</span><br><span class=\"line\"> <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; values.length; i++) &#123; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">   <span class=\"keyword\">if</span> (otherSet.has(values[i])) &#123; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">     intersectionSet.add(values[i]); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> intersectionSet;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> setA = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setA.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> setB = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setB.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">3</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">4</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> intersectionAB = setA.intersection(setB);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(intersectionAB.values());</span><br><span class=\"line\"><span class=\"comment\">// [2,3]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">intersection</span>(<span class=\"params\">otherSet</span>)</span> &#123;</span><br><span class=\"line\"> <span class=\"keyword\">const</span> intersectionSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\"> <span class=\"keyword\">const</span> values = <span class=\"built_in\">this</span>.values(); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\"> <span class=\"keyword\">const</span> otherValues = otherSet.values(); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\"> <span class=\"keyword\">let</span> biggerSet = values; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\"> <span class=\"keyword\">let</span> smallerSet = otherValues; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"keyword\">if</span> (otherValues.length - values.length &gt; <span class=\"number\">0</span>) &#123; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">   biggerSet = otherValues;</span><br><span class=\"line\">   smallerSet = values;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> smallerSet.forEach(<span class=\"function\"><span class=\"params\">value</span> =&gt;</span> &#123; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">   <span class=\"keyword\">if</span> (biggerSet.includes(value)) &#123;</span><br><span class=\"line\">     intersectionSet.add(value);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"> &#125;);</span><br><span class=\"line\"> <span class=\"keyword\">return</span> intersectionSet;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>(3)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">difference</span>(<span class=\"params\">otherSet</span>)</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> differenceSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"built_in\">this</span>.values().forEach(<span class=\"function\"><span class=\"params\">value</span> =&gt;</span> &#123; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!otherSet.has(value)) &#123; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      differenceSet.add(value); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> differenceSet;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> setA = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setA.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> setB = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setB.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">3</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">4</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> differenceAB = setA.difference(setB);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(differenceAB.values());</span><br><span class=\"line\"><span class=\"comment\">// [1]</span></span><br></pre></td></tr></table></figure>\n\n<p>(4)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">isSubsetOf</span>(<span class=\"params\">otherSet</span>)</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.size() &gt; otherSet.size()) &#123; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> isSubset = <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  trueevery &#123;6&#125; false</span></span><br><span class=\"line\">  <span class=\"built_in\">this</span>.values().every(<span class=\"function\"><span class=\"params\">value</span> =&gt;</span> &#123; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!otherSet.has(value)) &#123; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      isSubset = <span class=\"literal\">false</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> isSubset; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> setA = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setA.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> setB = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setB.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> setC = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setC.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setC.add(<span class=\"number\">3</span>);</span><br><span class=\"line\">setC.add(<span class=\"number\">4</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(setA.isSubsetOf(setB));</span><br><span class=\"line\"><span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(setA.isSubsetOf(setC));</span><br><span class=\"line\"><span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>([...setA, ...setB]));</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>([...setA].filter(<span class=\"function\">(<span class=\"params\">x</span>) =&gt;</span> setB.has(x))));</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>([...setA].filter(<span class=\"function\">(<span class=\"params\">x</span>) =&gt;</span> !setB.has(x))));</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>[]<br>[][]<br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// util.js</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">defaultToString</span>(<span class=\"params\">item</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (item === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;NULL&#x27;</span>;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (item === <span class=\"literal\">undefined</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;UNDEFINED&#x27;</span>;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> item === <span class=\"string\">&#x27;string&#x27;</span> || item <span class=\"keyword\">instanceof</span> <span class=\"built_in\">String</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">`<span class=\"subst\">$&#123;item&#125;</span>`</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> item.toString(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ValuePair</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">key, value</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.key = key;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.value = value;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">`[#<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.key&#125;</span>: <span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.value&#125;</span>]`</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; defaultToString &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../util&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Dictionary</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">toStrFn = defaultToString</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.toStrFn = toStrFn; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.table = &#123;&#125;; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">hasKey</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.table[<span class=\"built_in\">this</span>.toStrFn(key)] != <span class=\"literal\">null</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  ValuePair </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">set</span>(<span class=\"params\">key, value</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (key != <span class=\"literal\">null</span> &amp;&amp; value != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> tableKey = <span class=\"built_in\">this</span>.toStrFn(key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.table[tableKey] = <span class=\"keyword\">new</span> ValuePair(key, value); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">remove</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.hasKey(key)) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.table[<span class=\"built_in\">this</span>.toStrFn(key)];</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">get</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> valuePair = <span class=\"built_in\">this</span>.table[<span class=\"built_in\">this</span>.toStrFn(key)]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> valuePair == <span class=\"literal\">null</span> ? <span class=\"literal\">undefined</span> : valuePair.value; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">keyValues</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.values(<span class=\"built_in\">this</span>.table);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">keys</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.keyValues().map(<span class=\"function\">(<span class=\"params\">valuePair</span>) =&gt;</span> valuePair.key);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">values</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.keyValues().map(<span class=\"function\">(<span class=\"params\">valuePair</span>) =&gt;</span> valuePair.value);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">forEach</span>(<span class=\"params\">callbackFn</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> valuePairs = <span class=\"built_in\">this</span>.keyValues(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; valuePairs.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> result = callbackFn(valuePairs[i].key, valuePairs[i].value); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (result === <span class=\"literal\">false</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">break</span>; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.keys(<span class=\"built_in\">this</span>.table).length;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.size() === <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">clear</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.table = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> valuePairs = <span class=\"built_in\">this</span>.keyValues();</span><br><span class=\"line\">    <span class=\"keyword\">let</span> objString = <span class=\"string\">`<span class=\"subst\">$&#123;valuePairs[<span class=\"number\">0</span>].toString()&#125;</span>`</span>; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; valuePairs.length; i++) &#123;</span><br><span class=\"line\">      objString = <span class=\"string\">`<span class=\"subst\">$&#123;objString&#125;</span>,<span class=\"subst\">$&#123;valuePairs[i].toString()&#125;</span>`</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> objString; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p></p>\n<p>:<br>(1) MySQLMicrosoft SQL ServerOracle key<br>(2)JavaScript  key  key </p>\n<p> - lose lose <br><img src=\"/2022/09/29/35-data-structure3/lose-lose.png\" alt=\"lose-lose\"></p>\n<p>HashTable  Dictionary  Dictionary <br> valuePair  table  key <br> HashTable  keyhash valuePair <br> hash </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HashTable</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">toStrFn = defaultToString</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.toStrFn = toStrFn;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.table = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">loseloseHashCode</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> key === <span class=\"string\">&#x27;number&#x27;</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> key;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> tableKey = <span class=\"built_in\">this</span>.toStrFn(key); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//  key  ASCII </span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> hash = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; tableKey.length; i++) &#123;</span><br><span class=\"line\">      hash += tableKey.charCodeAt(i); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//  hash %&#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> hash % <span class=\"number\">37</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">hashCode</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.loseloseHashCode(key);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">put</span>(<span class=\"params\">key, value</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (key != <span class=\"literal\">null</span> &amp;&amp; value != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.table[position] = <span class=\"keyword\">new</span> ValuePair(key, value); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">get</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> valuePair = <span class=\"built_in\">this</span>.table[<span class=\"built_in\">this</span>.hashCode(key)];</span><br><span class=\"line\">    <span class=\"keyword\">return</span> valuePair == <span class=\"literal\">null</span> ? <span class=\"literal\">undefined</span> : valuePair.value;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">remove</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> hash = <span class=\"built_in\">this</span>.hashCode(key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> valuePair = <span class=\"built_in\">this</span>.table[hash]; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (valuePair != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.table[hash]; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> hash = <span class=\"keyword\">new</span> HashTable();</span><br><span class=\"line\">hash.put(<span class=\"string\">&#x27;Gandalf&#x27;</span>, <span class=\"string\">&#x27;gandalf@email.com&#x27;</span>);</span><br><span class=\"line\">hash.put(<span class=\"string\">&#x27;John&#x27;</span>, <span class=\"string\">&#x27;johnsnow@email.com&#x27;</span>);</span><br><span class=\"line\">hash.put(<span class=\"string\">&#x27;Tyrion&#x27;</span>, <span class=\"string\">&#x27;tyrion@email.com&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(hash.hashCode(<span class=\"string\">&#x27;Gandalf&#x27;</span>) + <span class=\"string\">&#x27; - Gandalf&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(hash.hashCode(<span class=\"string\">&#x27;John&#x27;</span>) + <span class=\"string\">&#x27; - John&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(hash.hashCode(<span class=\"string\">&#x27;Tyrion&#x27;</span>) + <span class=\"string\">&#x27; - Tyrion&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">// 19 - Gandalf</span></span><br><span class=\"line\"><span class=\"comment\">// 29 - John</span></span><br><span class=\"line\"><span class=\"comment\">// 16 - Tyrion</span></span><br></pre></td></tr></table></figure>\n\n<p><strong></strong><br> hashCode <br></p>\n<p><strong></strong><br></p>\n<p></p>\n<p>(1)<br><br> HashTable <br><img src=\"/2022/09/29/35-data-structure3/sperate-chain.png\" alt=\"sperate-chain\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HashTableSeparateChaining</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">toStrFn = defaultToString</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.toStrFn = toStrFn;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.table = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">put</span>(<span class=\"params\">key, value</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (key != <span class=\"literal\">null</span> &amp;&amp; value != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key);</span><br><span class=\"line\">      <span class=\"comment\">//  </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[position] == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.table[position] = <span class=\"keyword\">new</span> LinkedList(); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.table[position].push(<span class=\"keyword\">new</span> ValuePair(key, value)); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  get  key put </span></span><br><span class=\"line\">  <span class=\"comment\">// LinkedList LinkedList  equalsFn key</span></span><br><span class=\"line\">  <span class=\"comment\">//  ValuePair LinkedList ===</span></span><br><span class=\"line\">  <span class=\"comment\">//  ValuePair  get </span></span><br><span class=\"line\">  <span class=\"comment\">//  indexOf  key</span></span><br><span class=\"line\">  <span class=\"comment\">//  getElementAt  ValuePair </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">get</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> linkedList = <span class=\"built_in\">this</span>.table[position]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (linkedList != <span class=\"literal\">null</span> &amp;&amp; !linkedList.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = linkedList.getHead(); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">while</span> (current != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (current.element.key === key) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">          <span class=\"keyword\">return</span> current.element.value; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        current = current.next; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">remove</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> linkedList = <span class=\"built_in\">this</span>.table[position];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (linkedList != <span class=\"literal\">null</span> &amp;&amp; !linkedList.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = linkedList.getHead();</span><br><span class=\"line\">      <span class=\"keyword\">while</span> (current != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (current.element.key === key) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">          linkedList.remove(current.element); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">          <span class=\"keyword\">if</span> (linkedList.isEmpty()) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">            <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.table[position]; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        current = current.next; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>(2)<br><br> position  position+1  position+1  position+2 <br><img src=\"/2022/09/29/35-data-structure3/linear-probing.png\" alt=\"linear-probing\"></p>\n<p></p>\n<p><br><img src=\"/2022/09/29/35-data-structure3/soft-delete.png\" alt=\"soft-delete\"><br><a href=\"http://github.com/loiane/javascript-datastructures-algorithms\"></a></p>\n<p><br><img src=\"/2022/09/29/35-data-structure3/move-key.png\" alt=\"move-key\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// move-key</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HashTableSeparateChainingMoveKey</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">toStrFn = defaultToString</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.toStrFn = toStrFn;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.table = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">put</span>(<span class=\"params\">key, value</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (key != <span class=\"literal\">null</span> &amp;&amp; value != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key);</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[position] == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.table[position] = <span class=\"keyword\">new</span> ValuePair(key, value); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> index = position + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (<span class=\"built_in\">this</span>.table[index] != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">          index++; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.table[index] = <span class=\"keyword\">new</span> ValuePair(key, value); <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">//  JavaScript </span></span><br><span class=\"line\">  <span class=\"comment\">//  JavaScript </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">get</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[position] != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[position].key === key) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.table[position].value; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> index = position + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">while</span> (<span class=\"built_in\">this</span>.table[index] != <span class=\"literal\">null</span> &amp;&amp; <span class=\"built_in\">this</span>.table[index].key !== key) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        index++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[index] != <span class=\"literal\">null</span> &amp;&amp; <span class=\"built_in\">this</span>.table[index].key === key) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.table[position].value; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">remove</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[position] != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[position].key === key) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.table[position]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.verifyRemoveSideEffect(key, position); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> index = position + <span class=\"number\">1</span>;</span><br><span class=\"line\">      <span class=\"keyword\">while</span> (<span class=\"built_in\">this</span>.table[index] != <span class=\"literal\">null</span> &amp;&amp; <span class=\"built_in\">this</span>.table[index].key !== key) &#123;</span><br><span class=\"line\">        index++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[index] != <span class=\"literal\">null</span> &amp;&amp; <span class=\"built_in\">this</span>.table[index].key === key) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.table[index]; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.verifyRemoveSideEffect(key, index); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">verifyRemoveSideEffect</span>(<span class=\"params\">key, removedPosition</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> hash = <span class=\"built_in\">this</span>.hashCode(key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> index = removedPosition + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (<span class=\"built_in\">this</span>.table[index] != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> posHash = <span class=\"built_in\">this</span>.hashCode(<span class=\"built_in\">this</span>.table[index].key); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (posHash &lt;= hash || posHash &lt;= removedPosition) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.table[removedPosition] = <span class=\"built_in\">this</span>.table[index]; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.table[index];</span><br><span class=\"line\">        removedPosition = index;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      index++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">djb2HashCode</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\"> <span class=\"keyword\">const</span> tableKey = <span class=\"built_in\">this</span>.toStrFn(key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\"><span class=\"comment\">//   hash ,5381</span></span><br><span class=\"line\"> <span class=\"keyword\">let</span> hash = <span class=\"number\">5381</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\"> <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; tableKey.length; i++) &#123; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\"><span class=\"comment\">//   hash  33 ASCII </span></span><br><span class=\"line\"> hash = (hash * <span class=\"number\">33</span>) + tableKey.charCodeAt(i); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"><span class=\"comment\">//  </span></span><br><span class=\"line\"> <span class=\"keyword\">return</span> hash % <span class=\"number\">1013</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// http://t.cn/Eqg1yb0</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>ES2015 Map </strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.set(<span class=\"string\">&#x27;Gandalf&#x27;</span>, <span class=\"string\">&#x27;gandalf@email.com&#x27;</span>);</span><br><span class=\"line\">map.set(<span class=\"string\">&#x27;John&#x27;</span>, <span class=\"string\">&#x27;johnsnow@email.com&#x27;</span>);</span><br><span class=\"line\">map.set(<span class=\"string\">&#x27;Tyrion&#x27;</span>, <span class=\"string\">&#x27;tyrion@email.com&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.has(<span class=\"string\">&#x27;Gandalf&#x27;</span>)); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.size); <span class=\"comment\">// 3</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.keys()); <span class=\"comment\">// &#123;&quot;Gandalf&quot;, &quot;John&quot;, &quot;Tyrion&quot;&#125;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.values()); <span class=\"comment\">// &#123;&quot;gandalf@email.com&quot;, &quot;johnsnow@email.com&quot;,</span></span><br><span class=\"line\"><span class=\"string\">&quot;tyrion@email.com&quot;</span>&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.get(<span class=\"string\">&#x27;Tyrion&#x27;</span>)); <span class=\"comment\">// tyrion@email.com</span></span><br><span class=\"line\">map.delete(<span class=\"string\">&#x27;John&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<p><strong>ES2105 WeakMap  WeakSet </strong><br>Map  Set :<br>(1)WeakSet  WeakMap  entrieskeys  values <br>(2)WeakSet  WeakMap </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">WeakMap</span>();</span><br><span class=\"line\"><span class=\"keyword\">const</span> ob1 = &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;Gandalf&#x27;</span> &#125;; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> ob2 = &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;John&#x27;</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> ob3 = &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;Tyrion&#x27;</span> &#125;;</span><br><span class=\"line\">map.set(ob1, <span class=\"string\">&#x27;gandalf@email.com&#x27;</span>); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">map.set(ob2, <span class=\"string\">&#x27;johnsnow@email.com&#x27;</span>);</span><br><span class=\"line\">map.set(ob3, <span class=\"string\">&#x27;tyrion@email.com&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.has(ob1)); <span class=\"comment\">// true &#123;3&#125;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.get(ob3)); <span class=\"comment\">// tyrion@email.com &#123;4&#125;</span></span><br><span class=\"line\">map.delete(ob2); <span class=\"comment\">// &#123;5&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>WeakMap  set </p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Set</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">has</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> element <span class=\"keyword\">in</span> items;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// Object  hasOwnProperty </span></span><br><span class=\"line\">  <span class=\"comment\">// in </span></span><br><span class=\"line\">  <span class=\"comment\">// has(element) &#123;</span></span><br><span class=\"line\">  <span class=\"comment\">//   return Object.prototype.hasOwnProperty.call(this.items, element);</span></span><br><span class=\"line\">  <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">add</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.has(element)) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.items[element] = element; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">delete</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.has(element)) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.items[element]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">clear</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.keys(<span class=\"built_in\">this</span>.items).length; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// sizeLegacy() &#123;</span></span><br><span class=\"line\">  <span class=\"comment\">//  let count = 0;</span></span><br><span class=\"line\">  <span class=\"comment\">//  for(let key in this.items) &#123; // &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  for-in  items  count </span></span><br><span class=\"line\">  <span class=\"comment\">//  has  items </span></span><br><span class=\"line\">  <span class=\"comment\">//  JavaScript  Object </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">//  if(this.items.hasOwnProperty(key)) &#123; // &#123;3&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  count++; // &#123;4&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  &#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  return count;</span></span><br><span class=\"line\">  <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">values</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.values(<span class=\"built_in\">this</span>.items);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// valuesLegacy() &#123;</span></span><br><span class=\"line\">  <span class=\"comment\">//  let values = [];</span></span><br><span class=\"line\">  <span class=\"comment\">//  for(let key in this.items) &#123; // &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//    if(this.items.hasOwnProperty(key)) &#123;</span></span><br><span class=\"line\">  <span class=\"comment\">//       values.push(key); // &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//    &#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  &#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  return values;</span></span><br><span class=\"line\">  <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(1)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">union</span>(<span class=\"params\">otherSet</span>)</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> unionSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  Set values</span></span><br><span class=\"line\">  <span class=\"built_in\">this</span>.values().forEach(<span class=\"function\"><span class=\"params\">value</span> =&gt;</span> unionSet.add(value)); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  otherSet.values().forEach(<span class=\"function\"><span class=\"params\">value</span> =&gt;</span> unionSet.add(value)); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> unionSet;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> setA = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setA.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> setB = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setB.add(<span class=\"number\">3</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">4</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">5</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">6</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> unionAB = setA.union(setB);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(unionAB.values());</span><br><span class=\"line\"><span class=\"comment\">// [1,2,3,4,5,6]</span></span><br></pre></td></tr></table></figure>\n\n<p>(2)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">intersection</span>(<span class=\"params\">otherSet</span>)</span> &#123;</span><br><span class=\"line\"> <span class=\"keyword\">const</span> intersectionSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\"> <span class=\"keyword\">const</span> values = <span class=\"built_in\">this</span>.values();</span><br><span class=\"line\"> <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; values.length; i++) &#123; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">   <span class=\"keyword\">if</span> (otherSet.has(values[i])) &#123; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">     intersectionSet.add(values[i]); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> intersectionSet;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> setA = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setA.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> setB = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setB.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">3</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">4</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> intersectionAB = setA.intersection(setB);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(intersectionAB.values());</span><br><span class=\"line\"><span class=\"comment\">// [2,3]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">intersection</span>(<span class=\"params\">otherSet</span>)</span> &#123;</span><br><span class=\"line\"> <span class=\"keyword\">const</span> intersectionSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\"> <span class=\"keyword\">const</span> values = <span class=\"built_in\">this</span>.values(); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\"> <span class=\"keyword\">const</span> otherValues = otherSet.values(); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\"> <span class=\"keyword\">let</span> biggerSet = values; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\"> <span class=\"keyword\">let</span> smallerSet = otherValues; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"keyword\">if</span> (otherValues.length - values.length &gt; <span class=\"number\">0</span>) &#123; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">   biggerSet = otherValues;</span><br><span class=\"line\">   smallerSet = values;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> smallerSet.forEach(<span class=\"function\"><span class=\"params\">value</span> =&gt;</span> &#123; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">   <span class=\"keyword\">if</span> (biggerSet.includes(value)) &#123;</span><br><span class=\"line\">     intersectionSet.add(value);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"> &#125;);</span><br><span class=\"line\"> <span class=\"keyword\">return</span> intersectionSet;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>(3)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">difference</span>(<span class=\"params\">otherSet</span>)</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> differenceSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"built_in\">this</span>.values().forEach(<span class=\"function\"><span class=\"params\">value</span> =&gt;</span> &#123; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!otherSet.has(value)) &#123; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      differenceSet.add(value); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> differenceSet;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> setA = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setA.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> setB = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setB.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">3</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">4</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> differenceAB = setA.difference(setB);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(differenceAB.values());</span><br><span class=\"line\"><span class=\"comment\">// [1]</span></span><br></pre></td></tr></table></figure>\n\n<p>(4)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">isSubsetOf</span>(<span class=\"params\">otherSet</span>)</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.size() &gt; otherSet.size()) &#123; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> isSubset = <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  trueevery &#123;6&#125; false</span></span><br><span class=\"line\">  <span class=\"built_in\">this</span>.values().every(<span class=\"function\"><span class=\"params\">value</span> =&gt;</span> &#123; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!otherSet.has(value)) &#123; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      isSubset = <span class=\"literal\">false</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> isSubset; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> setA = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setA.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> setB = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setB.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> setC = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setC.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setC.add(<span class=\"number\">3</span>);</span><br><span class=\"line\">setC.add(<span class=\"number\">4</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(setA.isSubsetOf(setB));</span><br><span class=\"line\"><span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(setA.isSubsetOf(setC));</span><br><span class=\"line\"><span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>([...setA, ...setB]));</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>([...setA].filter(<span class=\"function\">(<span class=\"params\">x</span>) =&gt;</span> setB.has(x))));</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>([...setA].filter(<span class=\"function\">(<span class=\"params\">x</span>) =&gt;</span> !setB.has(x))));</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>[]<br>[][]<br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// util.js</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">defaultToString</span>(<span class=\"params\">item</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (item === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;NULL&#x27;</span>;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (item === <span class=\"literal\">undefined</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;UNDEFINED&#x27;</span>;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> item === <span class=\"string\">&#x27;string&#x27;</span> || item <span class=\"keyword\">instanceof</span> <span class=\"built_in\">String</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">`<span class=\"subst\">$&#123;item&#125;</span>`</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> item.toString(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ValuePair</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">key, value</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.key = key;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.value = value;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">`[#<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.key&#125;</span>: <span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.value&#125;</span>]`</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; defaultToString &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../util&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Dictionary</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">toStrFn = defaultToString</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.toStrFn = toStrFn; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.table = &#123;&#125;; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">hasKey</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.table[<span class=\"built_in\">this</span>.toStrFn(key)] != <span class=\"literal\">null</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  ValuePair </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">set</span>(<span class=\"params\">key, value</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (key != <span class=\"literal\">null</span> &amp;&amp; value != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> tableKey = <span class=\"built_in\">this</span>.toStrFn(key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.table[tableKey] = <span class=\"keyword\">new</span> ValuePair(key, value); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">remove</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.hasKey(key)) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.table[<span class=\"built_in\">this</span>.toStrFn(key)];</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">get</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> valuePair = <span class=\"built_in\">this</span>.table[<span class=\"built_in\">this</span>.toStrFn(key)]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> valuePair == <span class=\"literal\">null</span> ? <span class=\"literal\">undefined</span> : valuePair.value; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">keyValues</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.values(<span class=\"built_in\">this</span>.table);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">keys</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.keyValues().map(<span class=\"function\">(<span class=\"params\">valuePair</span>) =&gt;</span> valuePair.key);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">values</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.keyValues().map(<span class=\"function\">(<span class=\"params\">valuePair</span>) =&gt;</span> valuePair.value);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">forEach</span>(<span class=\"params\">callbackFn</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> valuePairs = <span class=\"built_in\">this</span>.keyValues(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; valuePairs.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> result = callbackFn(valuePairs[i].key, valuePairs[i].value); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (result === <span class=\"literal\">false</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">break</span>; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.keys(<span class=\"built_in\">this</span>.table).length;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.size() === <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">clear</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.table = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> valuePairs = <span class=\"built_in\">this</span>.keyValues();</span><br><span class=\"line\">    <span class=\"keyword\">let</span> objString = <span class=\"string\">`<span class=\"subst\">$&#123;valuePairs[<span class=\"number\">0</span>].toString()&#125;</span>`</span>; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; valuePairs.length; i++) &#123;</span><br><span class=\"line\">      objString = <span class=\"string\">`<span class=\"subst\">$&#123;objString&#125;</span>,<span class=\"subst\">$&#123;valuePairs[i].toString()&#125;</span>`</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> objString; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p></p>\n<p>:<br>(1) MySQLMicrosoft SQL ServerOracle key<br>(2)JavaScript  key  key </p>\n<p> - lose lose <br><img src=\"/2022/09/29/35-data-structure3/lose-lose.png\" alt=\"lose-lose\"></p>\n<p>HashTable  Dictionary  Dictionary <br> valuePair  table  key <br> HashTable  keyhash valuePair <br> hash </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HashTable</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">toStrFn = defaultToString</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.toStrFn = toStrFn;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.table = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">loseloseHashCode</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> key === <span class=\"string\">&#x27;number&#x27;</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> key;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> tableKey = <span class=\"built_in\">this</span>.toStrFn(key); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//  key  ASCII </span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> hash = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; tableKey.length; i++) &#123;</span><br><span class=\"line\">      hash += tableKey.charCodeAt(i); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//  hash %&#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> hash % <span class=\"number\">37</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">hashCode</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.loseloseHashCode(key);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">put</span>(<span class=\"params\">key, value</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (key != <span class=\"literal\">null</span> &amp;&amp; value != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.table[position] = <span class=\"keyword\">new</span> ValuePair(key, value); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">get</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> valuePair = <span class=\"built_in\">this</span>.table[<span class=\"built_in\">this</span>.hashCode(key)];</span><br><span class=\"line\">    <span class=\"keyword\">return</span> valuePair == <span class=\"literal\">null</span> ? <span class=\"literal\">undefined</span> : valuePair.value;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">remove</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> hash = <span class=\"built_in\">this</span>.hashCode(key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> valuePair = <span class=\"built_in\">this</span>.table[hash]; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (valuePair != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.table[hash]; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> hash = <span class=\"keyword\">new</span> HashTable();</span><br><span class=\"line\">hash.put(<span class=\"string\">&#x27;Gandalf&#x27;</span>, <span class=\"string\">&#x27;gandalf@email.com&#x27;</span>);</span><br><span class=\"line\">hash.put(<span class=\"string\">&#x27;John&#x27;</span>, <span class=\"string\">&#x27;johnsnow@email.com&#x27;</span>);</span><br><span class=\"line\">hash.put(<span class=\"string\">&#x27;Tyrion&#x27;</span>, <span class=\"string\">&#x27;tyrion@email.com&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(hash.hashCode(<span class=\"string\">&#x27;Gandalf&#x27;</span>) + <span class=\"string\">&#x27; - Gandalf&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(hash.hashCode(<span class=\"string\">&#x27;John&#x27;</span>) + <span class=\"string\">&#x27; - John&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(hash.hashCode(<span class=\"string\">&#x27;Tyrion&#x27;</span>) + <span class=\"string\">&#x27; - Tyrion&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">// 19 - Gandalf</span></span><br><span class=\"line\"><span class=\"comment\">// 29 - John</span></span><br><span class=\"line\"><span class=\"comment\">// 16 - Tyrion</span></span><br></pre></td></tr></table></figure>\n\n<p><strong></strong><br> hashCode <br></p>\n<p><strong></strong><br></p>\n<p></p>\n<p>(1)<br><br> HashTable <br><img src=\"/2022/09/29/35-data-structure3/sperate-chain.png\" alt=\"sperate-chain\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HashTableSeparateChaining</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">toStrFn = defaultToString</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.toStrFn = toStrFn;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.table = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">put</span>(<span class=\"params\">key, value</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (key != <span class=\"literal\">null</span> &amp;&amp; value != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key);</span><br><span class=\"line\">      <span class=\"comment\">//  </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[position] == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.table[position] = <span class=\"keyword\">new</span> LinkedList(); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.table[position].push(<span class=\"keyword\">new</span> ValuePair(key, value)); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  get  key put </span></span><br><span class=\"line\">  <span class=\"comment\">// LinkedList LinkedList  equalsFn key</span></span><br><span class=\"line\">  <span class=\"comment\">//  ValuePair LinkedList ===</span></span><br><span class=\"line\">  <span class=\"comment\">//  ValuePair  get </span></span><br><span class=\"line\">  <span class=\"comment\">//  indexOf  key</span></span><br><span class=\"line\">  <span class=\"comment\">//  getElementAt  ValuePair </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">get</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> linkedList = <span class=\"built_in\">this</span>.table[position]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (linkedList != <span class=\"literal\">null</span> &amp;&amp; !linkedList.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = linkedList.getHead(); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">while</span> (current != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (current.element.key === key) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">          <span class=\"keyword\">return</span> current.element.value; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        current = current.next; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">remove</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> linkedList = <span class=\"built_in\">this</span>.table[position];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (linkedList != <span class=\"literal\">null</span> &amp;&amp; !linkedList.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = linkedList.getHead();</span><br><span class=\"line\">      <span class=\"keyword\">while</span> (current != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (current.element.key === key) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">          linkedList.remove(current.element); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">          <span class=\"keyword\">if</span> (linkedList.isEmpty()) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">            <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.table[position]; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        current = current.next; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>(2)<br><br> position  position+1  position+1  position+2 <br><img src=\"/2022/09/29/35-data-structure3/linear-probing.png\" alt=\"linear-probing\"></p>\n<p></p>\n<p><br><img src=\"/2022/09/29/35-data-structure3/soft-delete.png\" alt=\"soft-delete\"><br><a href=\"http://github.com/loiane/javascript-datastructures-algorithms\"></a></p>\n<p><br><img src=\"/2022/09/29/35-data-structure3/move-key.png\" alt=\"move-key\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// move-key</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HashTableSeparateChainingMoveKey</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">toStrFn = defaultToString</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.toStrFn = toStrFn;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.table = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">put</span>(<span class=\"params\">key, value</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (key != <span class=\"literal\">null</span> &amp;&amp; value != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key);</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[position] == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.table[position] = <span class=\"keyword\">new</span> ValuePair(key, value); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> index = position + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (<span class=\"built_in\">this</span>.table[index] != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">          index++; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.table[index] = <span class=\"keyword\">new</span> ValuePair(key, value); <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">//  JavaScript </span></span><br><span class=\"line\">  <span class=\"comment\">//  JavaScript </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">get</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[position] != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[position].key === key) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.table[position].value; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> index = position + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">while</span> (<span class=\"built_in\">this</span>.table[index] != <span class=\"literal\">null</span> &amp;&amp; <span class=\"built_in\">this</span>.table[index].key !== key) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        index++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[index] != <span class=\"literal\">null</span> &amp;&amp; <span class=\"built_in\">this</span>.table[index].key === key) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.table[position].value; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">remove</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[position] != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[position].key === key) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.table[position]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.verifyRemoveSideEffect(key, position); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> index = position + <span class=\"number\">1</span>;</span><br><span class=\"line\">      <span class=\"keyword\">while</span> (<span class=\"built_in\">this</span>.table[index] != <span class=\"literal\">null</span> &amp;&amp; <span class=\"built_in\">this</span>.table[index].key !== key) &#123;</span><br><span class=\"line\">        index++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[index] != <span class=\"literal\">null</span> &amp;&amp; <span class=\"built_in\">this</span>.table[index].key === key) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.table[index]; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.verifyRemoveSideEffect(key, index); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">verifyRemoveSideEffect</span>(<span class=\"params\">key, removedPosition</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> hash = <span class=\"built_in\">this</span>.hashCode(key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> index = removedPosition + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (<span class=\"built_in\">this</span>.table[index] != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> posHash = <span class=\"built_in\">this</span>.hashCode(<span class=\"built_in\">this</span>.table[index].key); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (posHash &lt;= hash || posHash &lt;= removedPosition) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.table[removedPosition] = <span class=\"built_in\">this</span>.table[index]; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.table[index];</span><br><span class=\"line\">        removedPosition = index;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      index++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">djb2HashCode</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\"> <span class=\"keyword\">const</span> tableKey = <span class=\"built_in\">this</span>.toStrFn(key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\"><span class=\"comment\">//   hash ,5381</span></span><br><span class=\"line\"> <span class=\"keyword\">let</span> hash = <span class=\"number\">5381</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\"> <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; tableKey.length; i++) &#123; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\"><span class=\"comment\">//   hash  33 ASCII </span></span><br><span class=\"line\"> hash = (hash * <span class=\"number\">33</span>) + tableKey.charCodeAt(i); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"><span class=\"comment\">//  </span></span><br><span class=\"line\"> <span class=\"keyword\">return</span> hash % <span class=\"number\">1013</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// http://t.cn/Eqg1yb0</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>ES2015 Map </strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.set(<span class=\"string\">&#x27;Gandalf&#x27;</span>, <span class=\"string\">&#x27;gandalf@email.com&#x27;</span>);</span><br><span class=\"line\">map.set(<span class=\"string\">&#x27;John&#x27;</span>, <span class=\"string\">&#x27;johnsnow@email.com&#x27;</span>);</span><br><span class=\"line\">map.set(<span class=\"string\">&#x27;Tyrion&#x27;</span>, <span class=\"string\">&#x27;tyrion@email.com&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.has(<span class=\"string\">&#x27;Gandalf&#x27;</span>)); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.size); <span class=\"comment\">// 3</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.keys()); <span class=\"comment\">// &#123;&quot;Gandalf&quot;, &quot;John&quot;, &quot;Tyrion&quot;&#125;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.values()); <span class=\"comment\">// &#123;&quot;gandalf@email.com&quot;, &quot;johnsnow@email.com&quot;,</span></span><br><span class=\"line\"><span class=\"string\">&quot;tyrion@email.com&quot;</span>&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.get(<span class=\"string\">&#x27;Tyrion&#x27;</span>)); <span class=\"comment\">// tyrion@email.com</span></span><br><span class=\"line\">map.delete(<span class=\"string\">&#x27;John&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<p><strong>ES2105 WeakMap  WeakSet </strong><br>Map  Set :<br>(1)WeakSet  WeakMap  entrieskeys  values <br>(2)WeakSet  WeakMap </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">WeakMap</span>();</span><br><span class=\"line\"><span class=\"keyword\">const</span> ob1 = &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;Gandalf&#x27;</span> &#125;; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> ob2 = &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;John&#x27;</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> ob3 = &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;Tyrion&#x27;</span> &#125;;</span><br><span class=\"line\">map.set(ob1, <span class=\"string\">&#x27;gandalf@email.com&#x27;</span>); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">map.set(ob2, <span class=\"string\">&#x27;johnsnow@email.com&#x27;</span>);</span><br><span class=\"line\">map.set(ob3, <span class=\"string\">&#x27;tyrion@email.com&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.has(ob1)); <span class=\"comment\">// true &#123;3&#125;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.get(ob3)); <span class=\"comment\">// tyrion@email.com &#123;4&#125;</span></span><br><span class=\"line\">map.delete(ob2); <span class=\"comment\">// &#123;5&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>WeakMap  set </p>\n"},{"title":"(5)","date":"2022-10-08T08:33:37.000Z","_content":"\n#### \n\n###### \n\n(1)\n(2)\n![heat](heat.png)\n\n\n\n\n![min-heat](min-heat.png)\n\n:\n 2 _ index + 1\n 2 _ index + 2\n index / 2\n\n```javascript\nimport { defaultCompare } from '../util';\n\nexport class MinHeap {\n  constructor(compareFn = defaultCompare) {\n    this.compareFn = compareFn; // {1}\n    this.heap = []; // {2}\n  }\n  getLeftIndex(index) {\n    return 2 * index + 1;\n  }\n  getRightIndex(index) {\n    return 2 * index + 2;\n  }\n  getParentIndex(index) {\n    if (index === 0) {\n      return undefined;\n    }\n    return Math.floor((index - 1) / 2);\n  }\n  insert(value) {\n    if (value != null) {\n      this.heap.push(value); // {1}\n      this.siftUp(this.heap.length - 1); // {2}\n      return true;\n    }\n    return false;\n  }\n  // \n  siftUp(index) {\n    let parent = this.getParentIndex(index); // {1}\n    while (\n      index > 0 &&\n      this.compareFn(this.heap[parent], this.heap[index]) > Compare.BIGGER_THAN\n    ) {\n      // {2}\n      swap(this.heap, parent, index); // {3}\n      index = parent;\n      parent = this.getParentIndex(index); // {4}\n    }\n    function swap(array, a, b) {\n      const temp = array[a]; // {5}\n      array[a] = array[b]; // {6}\n      array[b] = temp; // {7}\n    }\n  }\n  size() {\n    return this.heap.length;\n  }\n  isEmpty() {\n    return this.size() === 0;\n  }\n  findMinimum() {\n    return this.isEmpty() ? undefined : this.heap[0]; // {1}\n  }\n  extract() {\n    if (this.isEmpty()) {\n      return undefined; // {1}\n    }\n    if (this.size() === 1) {\n      return this.heap.shift(); // {2}\n    }\n    const removedValue = this.heap.shift(); // {3}\n    this.siftDown(0); // {4}\n    return removedValue; // {5}\n  }\n  siftDown(index) {\n    let element = index;\n    const left = this.getLeftIndex(index); // {1}\n    const right = this.getRightIndex(index); // {2}\n    const size = this.size();\n    if (\n      left < size &&\n      this.compareFn(this.heap[element], this.heap[left]) > Compare.BIGGER_THAN\n    ) {\n      // {3}\n      element = left; // {4}\n    }\n    if (\n      right < size &&\n      this.compareFn(this.heap[element], this.heap[right]) > Compare.BIGGER_THAN\n    ) {\n      // {5}\n      element = right; // {6}\n    }\n    if (index !== element) {\n      // {7}\n      swap(this.heap, index, element); // {8}\n      this.siftDown(element); // {9}\n    }\n  }\n}\n```\n\n![min-heat-pic](min-heat-pic.png)\n\n****\nMaxHeap  MinHeap ><\n\n```javascript\nfunction reverseCompare(compareFn) {\n  return (a, b) => compareFn(b, a);\n}\n\nexport class MaxHeap extends MinHeap {\n  constructor(compareFn = defaultCompare) {\n    super(compareFn);\n    this.compareFn = reverseCompare(compareFn); // {1}\n  }\n}\n```\n\n****\n(1) \n(2)  1\n(3)  2  1\n\n```javascript\nfunction heapSort(array, compareFn = defaultCompare) {\n  let heapSize = array.length;\n  buildMaxHeap(array, compareFn); //  1\n  while (heapSize > 1) {\n    swap(array, 0, --heapSize); //  2\n    heapify(array, 0, heapSize, compareFn); //  3\n  }\n  return array;\n}\nfunction buildMaxHeap(array, compareFn) {\n  for (let i = Math.floor(array.length / 2); i >= 0; i -= 1) {\n    heapify(array, i, array.length, compareFn);\n  }\n  return array;\n}\n```\n\nheapify  siftDown  heapSort \n![heap-sort](heap-sort.png)\n\n****\n\n#### \n\n###### \n\n\nG = (V, E)\nV: \nE:  V \n![graph-1](graph-1.png)\n\nA  B A  D A  C A  E \nA  A  3E  E  2\n v1, v2, , vk  vi  vi+1  A B E I  A C D G\nA D G  A D C A A\n\n\n****\n\nC  D  A  B \n![graph-2](graph-2.png)\n\n![graph-3](graph-3.png)\n\n###### \n\n****\n i  j  array[i][j] === 1 array[i][j] === 0\n![graph-4](graph-4.png)\n__\n(1) 0\n(2)\n\n****\n\n\n![graph-5](graph-5.png)\n\n****\n v  e  array[v][e] === 1array[v][e] === 0\n![graph-6](graph-6.png)\n__\n\n######  Graph \n\n```javascript\nclass Graph {\n  constructor(isDirected = false) {\n    // \n    this.isDirected = isDirected; // {1}\n    //  \n    this.vertices = []; // {2}\n    //  \n    this.adjList = new Dictionary(); // {3}\n  }\n  //  \n  addVertex(v) {\n    if (!this.vertices.includes(v)) {\n      // {5}\n      this.vertices.push(v); // {6}\n      this.adjList.set(v, []); // {7}\n    }\n  }\n  // \n  addEdge(v, w) {\n    if (!this.adjList.get(v)) {\n      this.addVertex(v); // {8}\n    }\n    if (!this.adjList.get(w)) {\n      this.addVertex(w); // {9}\n    }\n    this.adjList.get(v).push(w); // {10}\n    if (!this.isDirected) {\n      this.adjList.get(w).push(v); // {11}\n    }\n  }\n  // \n  getVertices() {\n    return this.vertices;\n  }\n  // \n  getAdjList() {\n    return this.adjList;\n  }\n  toString() {\n    let s = '';\n    for (let i = 0; i < this.vertices.length; i++) {\n      // {15}\n      s += `${this.vertices[i]} -> `;\n      const neighbors = this.adjList.get(this.vertices[i]); // {16}\n      for (let j = 0; j < neighbors.length; j++) {\n        // {17}\n        s += `${neighbors[j]} `;\n      }\n      s += '\\n'; // {18}\n    }\n    return s;\n  }\n}\n```\n\n###### \n\n**\n\n\n\n\n**breadth-first searchBFS**\n**depth-first searchDFS**\n**\n|          |  |                                                            |\n| ------------ | -------- | -------------------------------------------------------------- |\n|  |        |  |\n|  |      |                        |\n\n```javascript\n// \n// \n// \nconst Colors = {\n  WHITE: 0,\n  GREY: 1,\n  BLACK: 2,\n};\n// \nconst initializeColor = (vertices) => {\n  const color = {};\n  for (let i = 0; i < vertices.length; i++) {\n    color[vertices[i]] = Colors.WHITE;\n  }\n  return color;\n};\n```\n\n****\n\n![graph-7](graph-7.png)\n__\n(1)  Q\n(2)  v  v  Q\n(3)  Q \n\n- (a)  u  Q \n- (b)  u \n- (c)  u \n- (d)  u \n\n```javascript\nexport const breadthFirstSearch = (graph, startVertex, callback) => {\n  const vertices = graph.getVertices();\n  const adjList = graph.getAdjList();\n  const color = initializeColor(vertices); // {1}\n  const queue = new Queue(); // {2}\n  queue.enqueue(startVertex); // {3}\n  while (!queue.isEmpty()) {\n    // {4}\n    const u = queue.dequeue(); // {5}\n    const neighbors = adjList.get(u); // {6}\n    // \n    color[u] = Colors.GREY; // {7}\n    for (let i = 0; i < neighbors.length; i++) {\n      // {8}\n      const w = neighbors[i]; // {9}\n      if (color[w] === Colors.WHITE) {\n        // {10}\n        color[w] = Colors.GREY; // {11}\n        queue.enqueue(w); // {12}\n      }\n    }\n    color[u] = Colors.BLACK; // {13}\n    // \n    if (callback) {\n      // {14}\n      callback(u);\n    }\n  }\n};\n\nconst printVertex = (value) => console.log('Visited vertex: ' + value); // {15}\nbreadthFirstSearch(graph, myVertices[0], printVertex);\n```\n\n_ BFS _\n G  v u  v \n\n```javascript\nconst BFS = (graph, startVertex) => {\n  const vertices = graph.getVertices();\n  const adjList = graph.getAdjList();\n  const color = initializeColor(vertices);\n  // \n  const queue = new Queue();\n  const distances = {}; // {1}\n  const predecessors = {}; // {2}\n  queue.enqueue(startVertex);\n  for (let i = 0; i < vertices.length; i++) {\n    // {3}\n    distances[vertices[i]] = 0; // {4}\n    predecessors[vertices[i]] = null; // {5}\n  }\n  while (!queue.isEmpty()) {\n    const u = queue.dequeue();\n    const neighbors = adjList.get(u);\n    color[u] = Colors.GREY;\n    for (let i = 0; i < neighbors.length; i++) {\n      const w = neighbors[i];\n      if (color[w] === Colors.WHITE) {\n        color[w] = Colors.GREY;\n        distances[w] = distances[u] + 1; // {6}\n        predecessors[w] = u; // {7}\n        queue.enqueue(w);\n      }\n    }\n    color[u] = Colors.BLACK;\n  }\n  return {\n    // {8}\n    distances, //  v()  u()  distances[u]\n    predecessors, //  predecessors[u] v  u \n  };\n};\n\nconst shortestPathA = BFS(graph, myVertices[0]);\nconsole.log(shortestPathA);\n// distances: {A: 0, B: 1, C: 1, D: 1, E: 2, F: 2, G: 2, H: 2 , I: 3},\n// predecessors: {A: null, B: \"A\", C: \"A\", D: \"A\", E: \"B\", F: \"B\", G: \"C\", H: \"D\", I: \"E\"}\n\nconst fromVertex = myVertices[0]; // {9}\n\nfor (i = 1; i < myVertices.length; i++) {\n  // {10}\n  const toVertex = myVertices[i]; // {11}\n  // \n  const path = new Stack(); // {12}\n  // \n  for (let v = toVertex; v !== fromVertex; v = shortestPathA.predecessors[v]) {\n    // {13}\n    path.push(v); // {14}\n  }\n  path.push(fromVertex); // {15}\n  let s = path.pop(); // {16}\n  while (!path.isEmpty()) {\n    // {17}\n    s += ' - ' + path.pop(); // {18}\n  }\n  console.log(s); // {19}\n}\n// A - B\n// A - C\n// A - D\n// A - B - E\n// A - B - F\n// A - C - G\n// A - D - H\n// A - B - E - I\n```\n\n__\nDijkstra \nBellman-Ford \nA\\*\nFloyd-Warshall \n\n****\n\n![graph-8](graph-8.png)\n\n v  v\n__\n(1)  v \n(2)  v  w w\n(3)  v \n\n\n\n```javascript\nconst depthFirstSearch = (graph, callback) => {\n  // {1}\n  const vertices = graph.getVertices();\n  const adjList = graph.getAdjList();\n  const color = initializeColor(vertices);\n  for (let i = 0; i < vertices.length; i++) {\n    // {2}\n    if (color[vertices[i]] === Colors.WHITE) {\n      // {3}\n      depthFirstSearchVisit(vertices[i], color, adjList, callback); // {4}\n    }\n  }\n};\nconst depthFirstSearchVisit = (u, color, adjList, callback) => {\n  color[u] = Colors.GREY; // {5}\n  if (callback) {\n    // {6}\n    callback(u);\n  }\n  const neighbors = adjList.get(u); // {7}\n  for (let i = 0; i < neighbors.length; i++) {\n    // {8}\n    const w = neighbors[i]; // {9}\n    if (color[w] === Colors.WHITE) {\n      // {10}\n      depthFirstSearchVisit(w, color, adjList, callback); // {11}\n    }\n  }\n  color[u] = Colors.BLACK; // {12}\n};\n\ndepthFirstSearch(graph, printVertex);\n// Visited vertex: A\n// Visited vertex: B\n// Visited vertex: E\n// Visited vertex: I\n// Visited vertex: F\n// Visited vertex: C\n// Visited vertex: D\n// Visited vertex: G\n// Visited vertex: H\n```\n\n![graph-9](graph-9.png)\n\n_Angular 2+ HTML _\n\n__\n G G \n\n```javascript\nexport const DFS = (graph) => {\n  const vertices = graph.getVertices();\n  const adjList = graph.getAdjList();\n  const color = initializeColor(vertices);\n  const d = {};\n  const f = {};\n  const p = {};\n  const time = { count: 0 }; // {1}\n  for (let i = 0; i < vertices.length; i++) {\n    // {2}\n    f[vertices[i]] = 0;\n    d[vertices[i]] = 0;\n    p[vertices[i]] = null;\n  }\n  for (let i = 0; i < vertices.length; i++) {\n    if (color[vertices[i]] === Colors.WHITE) {\n      DFSVisit(vertices[i], color, d, f, p, time, adjList);\n    }\n  }\n  return {\n    // {3}\n    discovery: d, //  u  d[u]\n    finished: f, //  u u  f[u]\n    predecessors: p, //  u  p[u]\n  };\n};\nconst DFSVisit = (u, color, d, f, p, time, adjList) => {\n  color[u] = Colors.GREY;\n  d[u] = ++time.count; // {4}\n  const neighbors = adjList.get(u);\n  for (let i = 0; i < neighbors.length; i++) {\n    const w = neighbors[i];\n    if (color[w] === Colors.WHITE) {\n      p[w] = u; // {5}\n      DFSVisit(w, color, d, f, p, time, adjList);\n    }\n  }\n  color[u] = Colors.BLACK;\n  f[u] = ++time.count; // {6}\n};\n```\n\n(1)time2|V|\n(2) ud[u] < f[u] ()\n\n_1 <= d [u] < f [u] <= 2|V|_\n/\n![graph-10](graph-10.png)\n\n****\n![graph-11](graph-11.png)\nDAG\n\ntopological sorting topsort  toposort\n\n_ DAG_\n\n```javascript\ngraph = new Graph(true); // \nmyVertices = ['A', 'B', 'C', 'D', 'E', 'F'];\nfor (i = 0; i < myVertices.length; i++) {\n  graph.addVertex(myVertices[i]);\n}\ngraph.addEdge('A', 'C');\ngraph.addEdge('A', 'D');\ngraph.addEdge('B', 'D');\ngraph.addEdge('B', 'E');\ngraph.addEdge('C', 'F');\ngraph.addEdge('F', 'E');\nconst result = DFS(graph);\n```\n\n![graph-12](graph-12.png)\n\n```javascript\nconst fTimes = result.finished;\ns = '';\nfor (let count = 0; count < myVertices.length; count++) {\n  let max = 0;\n  let maxName = null;\n  for (i = 0; i < myVertices.length; i++) {\n    if (fTimes[myVertices[i]] > max) {\n      max = fTimes[myVertices[i]];\n      maxName = myVertices[i];\n    }\n  }\n  s += ' - ' + maxName;\n  delete fTimes[maxName];\n}\nconsole.log(s);\n// B - A - D - C - F - E\n```\n\n###### \n\n_Dijkstra _\nDijkstra \n\n![graph-13](graph-13.png)\n\n```javascript\nvar graph = [\n  [0, 2, 4, 0, 0, 0],\n  [0, 0, 1, 4, 2, 0],\n  [0, 0, 0, 0, 3, 0],\n  [0, 0, 0, 0, 0, 2],\n  [0, 0, 0, 3, 0, 2],\n  [0, 0, 0, 0, 0, 0],\n];\n// JavaScript  INF = Number.MAX_SAFE_INTEGER\nconst INF = Number.MAX_SAFE_INTEGER;\nconst dijkstra = (graph, src) => {\n  const dist = [];\n  const visited = [];\n  const { length } = graph;\n  for (let i = 0; i < length; i++) {\n    // {1}\n    dist[i] = INF; // dist\n    visited[i] = false;\n  }\n  dist[src] = 0; // {2}  0\n  for (let i = 0; i < length - 1; i++) {\n    // {3}\n    const u = minDistance(dist, visited); // {4} \n    visited[u] = true; // {5}  visited\n    for (let v = 0; v < length; v++) {\n      if (\n        !visited[v] &&\n        graph[u][v] !== 0 &&\n        dist[u] !== INF &&\n        dist[u] + graph[u][v] < dist[v]\n      ) {\n        // \n        // {6}\n        dist[v] = dist[u] + graph[u][v]; // {7}\n      }\n    }\n  }\n  return dist; // {8}\n};\n\nconst minDistance = (dist, visited) => {\n  let min = INF;\n  let minIndex = -1;\n  for (let v = 0; v < dist.length; v++) {\n    if (visited[v] === false && dist[v] <= min) {\n      min = dist[v];\n      minIndex = v;\n    }\n  }\n  return minIndex;\n};\n\n// 0 0\n// 1 2\n// 2 4\n// 3 6\n// 4 4\n// 5 6\n```\n\n**Floyd-Warshall **\nFloyd-Warshall \n\n```javascript\nconst floydWarshall = (graph) => {\n  const dist = [];\n  const { length } = graph;\n  for (let i = 0; i < length; i++) {\n    // {1}\n    dist[i] = [];\n    for (let j = 0; j < length; j++) {\n      if (i === j) {\n        dist[i][j] = 0; // {2}\n      } else if (!isFinite(graph[i][j])) {\n        //  Infinity\n        dist[i][j] = Infinity; // {3}\n      } else {\n        //  i  j \n        dist[i][j] = graph[i][j]; // {4}\n      }\n    }\n  }\n  //  0  k {5} i  j  k\n  for (let k = 0; k < length; k++) {\n    // {5}\n    for (let i = 0; i < length; i++) {\n      for (let j = 0; j < length; j++) {\n        //  k  i  j \n        if (dist[i][k] + dist[k][j] < dist[i][j]) {\n          // {6}\n          dist[i][j] = dist[i][k] + dist[k][j]; // {7}\n        }\n      }\n    }\n  }\n  return dist;\n};\n// 0 2 4 6 4 6\n// INF 0 2 4 2 4\n// INF INF 0 6 3 5\n// INF INF INF 0 INF 2\n// INF INF INF 3 0 2\n// INF INF INF INF INF 0\n```\n\n###### (MST)\n\n**Prim **\nPrim  MST \n\n```javascript\nvar graph = [\n  [0, 2, 4, 0, 0, 0],\n  [2, 0, 2, 4, 2, 0],\n  [4, 2, 0, 0, 3, 0],\n  [0, 4, 0, 0, 3, 2],\n  [0, 2, 3, 3, 0, 2],\n  [0, 0, 0, 2, 2, 0],\n];\n\nconst INF = Number.MAX_SAFE_INTEGER;\nconst prim = (graph) => {\n  const parent = [];\n  const key = [];\n  const visited = [];\n  const { length } = graph;\n  // key\n  for (let i = 0; i < length; i++) {\n    // {1}\n    key[i] = INF;\n    visited[i] = false;\n  }\n  //  key  MST  parent[0] = -1\n  key[0] = 0; // {2}\n  parent[0] = -1;\n  for (let i = 0; i < length - 1; i++) {\n    // {3}\n    //  key  Dijkstra minDistance \n    const u = minKey(graph, key, visited); // {4}\n    visited[u] = true; // {5}\n    for (let v = 0; v < length; v++) {\n      //  MST parent\n      if (graph[u][v] && !visited[v] && graph[u][v] < key[v]) {\n        // {6}\n        parent[v] = u; // {7}\n        key[v] = graph[u][v]; // {8}\n      }\n    }\n  }\n  return parent; // {9}\n};\n\nconst minDistance = (dist, key, visited) => {\n  let min = INF;\n  let minIndex = -1;\n  for (let v = 0; v < dist[key].length; v++) {\n    if (visited[v] === false && dist[key][v] <= min) {\n      min = dist[key][v];\n      minIndex = v;\n    }\n  }\n  return minIndex;\n};\n\n// Edge Weight\n// 0 - 1 2\n// 1 - 2 2\n// 5 - 3 2\n// 1 - 4 2\n// 4 - 5 2\n```\n\n**Kruskal **\n MST \n\n```javascript\nconst kruskal = (graph) => {\n  const { length } = graph;\n  const parent = [];\n  let ne = 0;\n  let a;\n  let b;\n  let u;\n  let v;\n  //  cost \n  const cost = initializeCost(graph); // {1}\n  //  MST  1 \n  while (ne < length - 1) {\n    // \n    for (let i = 0, min = INF; i < length; i++) {\n      // {3}\n      for (let j = 0; j < length; j++) {\n        if (cost[i][j] < min) {\n          min = cost[i][j];\n          a = u = i;\n          b = v = j;\n        }\n      }\n    }\n    //  MST \n    u = find(u, parent); // {4}\n    v = find(v, parent); // {5}\n    //  u  v  MST\n    if (union(u, v, parent)) {\n      // {6}\n      ne++;\n    }\n    // \n    cost[a][b] = cost[b][a] = INF; // {7}\n  }\n  return parent;\n};\n\nconst find = (i, parent) => {\n  while (parent[i]) {\n    i = parent[i];\n  }\n  return i;\n};\nconst union = (i, j, parent) => {\n  if (i !== j) {\n    parent[j] = i;\n    return true;\n  }\n  return false;\n};\n```\n","source":"_posts/37-data-structure5.md","raw":"---\ntitle: (5)\ndate: 2022-10-08 16:33:37\ntags:\n---\n\n#### \n\n###### \n\n(1)\n(2)\n![heat](heat.png)\n\n\n\n\n![min-heat](min-heat.png)\n\n:\n 2 _ index + 1\n 2 _ index + 2\n index / 2\n\n```javascript\nimport { defaultCompare } from '../util';\n\nexport class MinHeap {\n  constructor(compareFn = defaultCompare) {\n    this.compareFn = compareFn; // {1}\n    this.heap = []; // {2}\n  }\n  getLeftIndex(index) {\n    return 2 * index + 1;\n  }\n  getRightIndex(index) {\n    return 2 * index + 2;\n  }\n  getParentIndex(index) {\n    if (index === 0) {\n      return undefined;\n    }\n    return Math.floor((index - 1) / 2);\n  }\n  insert(value) {\n    if (value != null) {\n      this.heap.push(value); // {1}\n      this.siftUp(this.heap.length - 1); // {2}\n      return true;\n    }\n    return false;\n  }\n  // \n  siftUp(index) {\n    let parent = this.getParentIndex(index); // {1}\n    while (\n      index > 0 &&\n      this.compareFn(this.heap[parent], this.heap[index]) > Compare.BIGGER_THAN\n    ) {\n      // {2}\n      swap(this.heap, parent, index); // {3}\n      index = parent;\n      parent = this.getParentIndex(index); // {4}\n    }\n    function swap(array, a, b) {\n      const temp = array[a]; // {5}\n      array[a] = array[b]; // {6}\n      array[b] = temp; // {7}\n    }\n  }\n  size() {\n    return this.heap.length;\n  }\n  isEmpty() {\n    return this.size() === 0;\n  }\n  findMinimum() {\n    return this.isEmpty() ? undefined : this.heap[0]; // {1}\n  }\n  extract() {\n    if (this.isEmpty()) {\n      return undefined; // {1}\n    }\n    if (this.size() === 1) {\n      return this.heap.shift(); // {2}\n    }\n    const removedValue = this.heap.shift(); // {3}\n    this.siftDown(0); // {4}\n    return removedValue; // {5}\n  }\n  siftDown(index) {\n    let element = index;\n    const left = this.getLeftIndex(index); // {1}\n    const right = this.getRightIndex(index); // {2}\n    const size = this.size();\n    if (\n      left < size &&\n      this.compareFn(this.heap[element], this.heap[left]) > Compare.BIGGER_THAN\n    ) {\n      // {3}\n      element = left; // {4}\n    }\n    if (\n      right < size &&\n      this.compareFn(this.heap[element], this.heap[right]) > Compare.BIGGER_THAN\n    ) {\n      // {5}\n      element = right; // {6}\n    }\n    if (index !== element) {\n      // {7}\n      swap(this.heap, index, element); // {8}\n      this.siftDown(element); // {9}\n    }\n  }\n}\n```\n\n![min-heat-pic](min-heat-pic.png)\n\n****\nMaxHeap  MinHeap ><\n\n```javascript\nfunction reverseCompare(compareFn) {\n  return (a, b) => compareFn(b, a);\n}\n\nexport class MaxHeap extends MinHeap {\n  constructor(compareFn = defaultCompare) {\n    super(compareFn);\n    this.compareFn = reverseCompare(compareFn); // {1}\n  }\n}\n```\n\n****\n(1) \n(2)  1\n(3)  2  1\n\n```javascript\nfunction heapSort(array, compareFn = defaultCompare) {\n  let heapSize = array.length;\n  buildMaxHeap(array, compareFn); //  1\n  while (heapSize > 1) {\n    swap(array, 0, --heapSize); //  2\n    heapify(array, 0, heapSize, compareFn); //  3\n  }\n  return array;\n}\nfunction buildMaxHeap(array, compareFn) {\n  for (let i = Math.floor(array.length / 2); i >= 0; i -= 1) {\n    heapify(array, i, array.length, compareFn);\n  }\n  return array;\n}\n```\n\nheapify  siftDown  heapSort \n![heap-sort](heap-sort.png)\n\n****\n\n#### \n\n###### \n\n\nG = (V, E)\nV: \nE:  V \n![graph-1](graph-1.png)\n\nA  B A  D A  C A  E \nA  A  3E  E  2\n v1, v2, , vk  vi  vi+1  A B E I  A C D G\nA D G  A D C A A\n\n\n****\n\nC  D  A  B \n![graph-2](graph-2.png)\n\n![graph-3](graph-3.png)\n\n###### \n\n****\n i  j  array[i][j] === 1 array[i][j] === 0\n![graph-4](graph-4.png)\n__\n(1) 0\n(2)\n\n****\n\n\n![graph-5](graph-5.png)\n\n****\n v  e  array[v][e] === 1array[v][e] === 0\n![graph-6](graph-6.png)\n__\n\n######  Graph \n\n```javascript\nclass Graph {\n  constructor(isDirected = false) {\n    // \n    this.isDirected = isDirected; // {1}\n    //  \n    this.vertices = []; // {2}\n    //  \n    this.adjList = new Dictionary(); // {3}\n  }\n  //  \n  addVertex(v) {\n    if (!this.vertices.includes(v)) {\n      // {5}\n      this.vertices.push(v); // {6}\n      this.adjList.set(v, []); // {7}\n    }\n  }\n  // \n  addEdge(v, w) {\n    if (!this.adjList.get(v)) {\n      this.addVertex(v); // {8}\n    }\n    if (!this.adjList.get(w)) {\n      this.addVertex(w); // {9}\n    }\n    this.adjList.get(v).push(w); // {10}\n    if (!this.isDirected) {\n      this.adjList.get(w).push(v); // {11}\n    }\n  }\n  // \n  getVertices() {\n    return this.vertices;\n  }\n  // \n  getAdjList() {\n    return this.adjList;\n  }\n  toString() {\n    let s = '';\n    for (let i = 0; i < this.vertices.length; i++) {\n      // {15}\n      s += `${this.vertices[i]} -> `;\n      const neighbors = this.adjList.get(this.vertices[i]); // {16}\n      for (let j = 0; j < neighbors.length; j++) {\n        // {17}\n        s += `${neighbors[j]} `;\n      }\n      s += '\\n'; // {18}\n    }\n    return s;\n  }\n}\n```\n\n###### \n\n**\n\n\n\n\n**breadth-first searchBFS**\n**depth-first searchDFS**\n**\n|          |  |                                                            |\n| ------------ | -------- | -------------------------------------------------------------- |\n|  |        |  |\n|  |      |                        |\n\n```javascript\n// \n// \n// \nconst Colors = {\n  WHITE: 0,\n  GREY: 1,\n  BLACK: 2,\n};\n// \nconst initializeColor = (vertices) => {\n  const color = {};\n  for (let i = 0; i < vertices.length; i++) {\n    color[vertices[i]] = Colors.WHITE;\n  }\n  return color;\n};\n```\n\n****\n\n![graph-7](graph-7.png)\n__\n(1)  Q\n(2)  v  v  Q\n(3)  Q \n\n- (a)  u  Q \n- (b)  u \n- (c)  u \n- (d)  u \n\n```javascript\nexport const breadthFirstSearch = (graph, startVertex, callback) => {\n  const vertices = graph.getVertices();\n  const adjList = graph.getAdjList();\n  const color = initializeColor(vertices); // {1}\n  const queue = new Queue(); // {2}\n  queue.enqueue(startVertex); // {3}\n  while (!queue.isEmpty()) {\n    // {4}\n    const u = queue.dequeue(); // {5}\n    const neighbors = adjList.get(u); // {6}\n    // \n    color[u] = Colors.GREY; // {7}\n    for (let i = 0; i < neighbors.length; i++) {\n      // {8}\n      const w = neighbors[i]; // {9}\n      if (color[w] === Colors.WHITE) {\n        // {10}\n        color[w] = Colors.GREY; // {11}\n        queue.enqueue(w); // {12}\n      }\n    }\n    color[u] = Colors.BLACK; // {13}\n    // \n    if (callback) {\n      // {14}\n      callback(u);\n    }\n  }\n};\n\nconst printVertex = (value) => console.log('Visited vertex: ' + value); // {15}\nbreadthFirstSearch(graph, myVertices[0], printVertex);\n```\n\n_ BFS _\n G  v u  v \n\n```javascript\nconst BFS = (graph, startVertex) => {\n  const vertices = graph.getVertices();\n  const adjList = graph.getAdjList();\n  const color = initializeColor(vertices);\n  // \n  const queue = new Queue();\n  const distances = {}; // {1}\n  const predecessors = {}; // {2}\n  queue.enqueue(startVertex);\n  for (let i = 0; i < vertices.length; i++) {\n    // {3}\n    distances[vertices[i]] = 0; // {4}\n    predecessors[vertices[i]] = null; // {5}\n  }\n  while (!queue.isEmpty()) {\n    const u = queue.dequeue();\n    const neighbors = adjList.get(u);\n    color[u] = Colors.GREY;\n    for (let i = 0; i < neighbors.length; i++) {\n      const w = neighbors[i];\n      if (color[w] === Colors.WHITE) {\n        color[w] = Colors.GREY;\n        distances[w] = distances[u] + 1; // {6}\n        predecessors[w] = u; // {7}\n        queue.enqueue(w);\n      }\n    }\n    color[u] = Colors.BLACK;\n  }\n  return {\n    // {8}\n    distances, //  v()  u()  distances[u]\n    predecessors, //  predecessors[u] v  u \n  };\n};\n\nconst shortestPathA = BFS(graph, myVertices[0]);\nconsole.log(shortestPathA);\n// distances: {A: 0, B: 1, C: 1, D: 1, E: 2, F: 2, G: 2, H: 2 , I: 3},\n// predecessors: {A: null, B: \"A\", C: \"A\", D: \"A\", E: \"B\", F: \"B\", G: \"C\", H: \"D\", I: \"E\"}\n\nconst fromVertex = myVertices[0]; // {9}\n\nfor (i = 1; i < myVertices.length; i++) {\n  // {10}\n  const toVertex = myVertices[i]; // {11}\n  // \n  const path = new Stack(); // {12}\n  // \n  for (let v = toVertex; v !== fromVertex; v = shortestPathA.predecessors[v]) {\n    // {13}\n    path.push(v); // {14}\n  }\n  path.push(fromVertex); // {15}\n  let s = path.pop(); // {16}\n  while (!path.isEmpty()) {\n    // {17}\n    s += ' - ' + path.pop(); // {18}\n  }\n  console.log(s); // {19}\n}\n// A - B\n// A - C\n// A - D\n// A - B - E\n// A - B - F\n// A - C - G\n// A - D - H\n// A - B - E - I\n```\n\n__\nDijkstra \nBellman-Ford \nA\\*\nFloyd-Warshall \n\n****\n\n![graph-8](graph-8.png)\n\n v  v\n__\n(1)  v \n(2)  v  w w\n(3)  v \n\n\n\n```javascript\nconst depthFirstSearch = (graph, callback) => {\n  // {1}\n  const vertices = graph.getVertices();\n  const adjList = graph.getAdjList();\n  const color = initializeColor(vertices);\n  for (let i = 0; i < vertices.length; i++) {\n    // {2}\n    if (color[vertices[i]] === Colors.WHITE) {\n      // {3}\n      depthFirstSearchVisit(vertices[i], color, adjList, callback); // {4}\n    }\n  }\n};\nconst depthFirstSearchVisit = (u, color, adjList, callback) => {\n  color[u] = Colors.GREY; // {5}\n  if (callback) {\n    // {6}\n    callback(u);\n  }\n  const neighbors = adjList.get(u); // {7}\n  for (let i = 0; i < neighbors.length; i++) {\n    // {8}\n    const w = neighbors[i]; // {9}\n    if (color[w] === Colors.WHITE) {\n      // {10}\n      depthFirstSearchVisit(w, color, adjList, callback); // {11}\n    }\n  }\n  color[u] = Colors.BLACK; // {12}\n};\n\ndepthFirstSearch(graph, printVertex);\n// Visited vertex: A\n// Visited vertex: B\n// Visited vertex: E\n// Visited vertex: I\n// Visited vertex: F\n// Visited vertex: C\n// Visited vertex: D\n// Visited vertex: G\n// Visited vertex: H\n```\n\n![graph-9](graph-9.png)\n\n_Angular 2+ HTML _\n\n__\n G G \n\n```javascript\nexport const DFS = (graph) => {\n  const vertices = graph.getVertices();\n  const adjList = graph.getAdjList();\n  const color = initializeColor(vertices);\n  const d = {};\n  const f = {};\n  const p = {};\n  const time = { count: 0 }; // {1}\n  for (let i = 0; i < vertices.length; i++) {\n    // {2}\n    f[vertices[i]] = 0;\n    d[vertices[i]] = 0;\n    p[vertices[i]] = null;\n  }\n  for (let i = 0; i < vertices.length; i++) {\n    if (color[vertices[i]] === Colors.WHITE) {\n      DFSVisit(vertices[i], color, d, f, p, time, adjList);\n    }\n  }\n  return {\n    // {3}\n    discovery: d, //  u  d[u]\n    finished: f, //  u u  f[u]\n    predecessors: p, //  u  p[u]\n  };\n};\nconst DFSVisit = (u, color, d, f, p, time, adjList) => {\n  color[u] = Colors.GREY;\n  d[u] = ++time.count; // {4}\n  const neighbors = adjList.get(u);\n  for (let i = 0; i < neighbors.length; i++) {\n    const w = neighbors[i];\n    if (color[w] === Colors.WHITE) {\n      p[w] = u; // {5}\n      DFSVisit(w, color, d, f, p, time, adjList);\n    }\n  }\n  color[u] = Colors.BLACK;\n  f[u] = ++time.count; // {6}\n};\n```\n\n(1)time2|V|\n(2) ud[u] < f[u] ()\n\n_1 <= d [u] < f [u] <= 2|V|_\n/\n![graph-10](graph-10.png)\n\n****\n![graph-11](graph-11.png)\nDAG\n\ntopological sorting topsort  toposort\n\n_ DAG_\n\n```javascript\ngraph = new Graph(true); // \nmyVertices = ['A', 'B', 'C', 'D', 'E', 'F'];\nfor (i = 0; i < myVertices.length; i++) {\n  graph.addVertex(myVertices[i]);\n}\ngraph.addEdge('A', 'C');\ngraph.addEdge('A', 'D');\ngraph.addEdge('B', 'D');\ngraph.addEdge('B', 'E');\ngraph.addEdge('C', 'F');\ngraph.addEdge('F', 'E');\nconst result = DFS(graph);\n```\n\n![graph-12](graph-12.png)\n\n```javascript\nconst fTimes = result.finished;\ns = '';\nfor (let count = 0; count < myVertices.length; count++) {\n  let max = 0;\n  let maxName = null;\n  for (i = 0; i < myVertices.length; i++) {\n    if (fTimes[myVertices[i]] > max) {\n      max = fTimes[myVertices[i]];\n      maxName = myVertices[i];\n    }\n  }\n  s += ' - ' + maxName;\n  delete fTimes[maxName];\n}\nconsole.log(s);\n// B - A - D - C - F - E\n```\n\n###### \n\n_Dijkstra _\nDijkstra \n\n![graph-13](graph-13.png)\n\n```javascript\nvar graph = [\n  [0, 2, 4, 0, 0, 0],\n  [0, 0, 1, 4, 2, 0],\n  [0, 0, 0, 0, 3, 0],\n  [0, 0, 0, 0, 0, 2],\n  [0, 0, 0, 3, 0, 2],\n  [0, 0, 0, 0, 0, 0],\n];\n// JavaScript  INF = Number.MAX_SAFE_INTEGER\nconst INF = Number.MAX_SAFE_INTEGER;\nconst dijkstra = (graph, src) => {\n  const dist = [];\n  const visited = [];\n  const { length } = graph;\n  for (let i = 0; i < length; i++) {\n    // {1}\n    dist[i] = INF; // dist\n    visited[i] = false;\n  }\n  dist[src] = 0; // {2}  0\n  for (let i = 0; i < length - 1; i++) {\n    // {3}\n    const u = minDistance(dist, visited); // {4} \n    visited[u] = true; // {5}  visited\n    for (let v = 0; v < length; v++) {\n      if (\n        !visited[v] &&\n        graph[u][v] !== 0 &&\n        dist[u] !== INF &&\n        dist[u] + graph[u][v] < dist[v]\n      ) {\n        // \n        // {6}\n        dist[v] = dist[u] + graph[u][v]; // {7}\n      }\n    }\n  }\n  return dist; // {8}\n};\n\nconst minDistance = (dist, visited) => {\n  let min = INF;\n  let minIndex = -1;\n  for (let v = 0; v < dist.length; v++) {\n    if (visited[v] === false && dist[v] <= min) {\n      min = dist[v];\n      minIndex = v;\n    }\n  }\n  return minIndex;\n};\n\n// 0 0\n// 1 2\n// 2 4\n// 3 6\n// 4 4\n// 5 6\n```\n\n**Floyd-Warshall **\nFloyd-Warshall \n\n```javascript\nconst floydWarshall = (graph) => {\n  const dist = [];\n  const { length } = graph;\n  for (let i = 0; i < length; i++) {\n    // {1}\n    dist[i] = [];\n    for (let j = 0; j < length; j++) {\n      if (i === j) {\n        dist[i][j] = 0; // {2}\n      } else if (!isFinite(graph[i][j])) {\n        //  Infinity\n        dist[i][j] = Infinity; // {3}\n      } else {\n        //  i  j \n        dist[i][j] = graph[i][j]; // {4}\n      }\n    }\n  }\n  //  0  k {5} i  j  k\n  for (let k = 0; k < length; k++) {\n    // {5}\n    for (let i = 0; i < length; i++) {\n      for (let j = 0; j < length; j++) {\n        //  k  i  j \n        if (dist[i][k] + dist[k][j] < dist[i][j]) {\n          // {6}\n          dist[i][j] = dist[i][k] + dist[k][j]; // {7}\n        }\n      }\n    }\n  }\n  return dist;\n};\n// 0 2 4 6 4 6\n// INF 0 2 4 2 4\n// INF INF 0 6 3 5\n// INF INF INF 0 INF 2\n// INF INF INF 3 0 2\n// INF INF INF INF INF 0\n```\n\n###### (MST)\n\n**Prim **\nPrim  MST \n\n```javascript\nvar graph = [\n  [0, 2, 4, 0, 0, 0],\n  [2, 0, 2, 4, 2, 0],\n  [4, 2, 0, 0, 3, 0],\n  [0, 4, 0, 0, 3, 2],\n  [0, 2, 3, 3, 0, 2],\n  [0, 0, 0, 2, 2, 0],\n];\n\nconst INF = Number.MAX_SAFE_INTEGER;\nconst prim = (graph) => {\n  const parent = [];\n  const key = [];\n  const visited = [];\n  const { length } = graph;\n  // key\n  for (let i = 0; i < length; i++) {\n    // {1}\n    key[i] = INF;\n    visited[i] = false;\n  }\n  //  key  MST  parent[0] = -1\n  key[0] = 0; // {2}\n  parent[0] = -1;\n  for (let i = 0; i < length - 1; i++) {\n    // {3}\n    //  key  Dijkstra minDistance \n    const u = minKey(graph, key, visited); // {4}\n    visited[u] = true; // {5}\n    for (let v = 0; v < length; v++) {\n      //  MST parent\n      if (graph[u][v] && !visited[v] && graph[u][v] < key[v]) {\n        // {6}\n        parent[v] = u; // {7}\n        key[v] = graph[u][v]; // {8}\n      }\n    }\n  }\n  return parent; // {9}\n};\n\nconst minDistance = (dist, key, visited) => {\n  let min = INF;\n  let minIndex = -1;\n  for (let v = 0; v < dist[key].length; v++) {\n    if (visited[v] === false && dist[key][v] <= min) {\n      min = dist[key][v];\n      minIndex = v;\n    }\n  }\n  return minIndex;\n};\n\n// Edge Weight\n// 0 - 1 2\n// 1 - 2 2\n// 5 - 3 2\n// 1 - 4 2\n// 4 - 5 2\n```\n\n**Kruskal **\n MST \n\n```javascript\nconst kruskal = (graph) => {\n  const { length } = graph;\n  const parent = [];\n  let ne = 0;\n  let a;\n  let b;\n  let u;\n  let v;\n  //  cost \n  const cost = initializeCost(graph); // {1}\n  //  MST  1 \n  while (ne < length - 1) {\n    // \n    for (let i = 0, min = INF; i < length; i++) {\n      // {3}\n      for (let j = 0; j < length; j++) {\n        if (cost[i][j] < min) {\n          min = cost[i][j];\n          a = u = i;\n          b = v = j;\n        }\n      }\n    }\n    //  MST \n    u = find(u, parent); // {4}\n    v = find(v, parent); // {5}\n    //  u  v  MST\n    if (union(u, v, parent)) {\n      // {6}\n      ne++;\n    }\n    // \n    cost[a][b] = cost[b][a] = INF; // {7}\n  }\n  return parent;\n};\n\nconst find = (i, parent) => {\n  while (parent[i]) {\n    i = parent[i];\n  }\n  return i;\n};\nconst union = (i, j, parent) => {\n  if (i !== j) {\n    parent[j] = i;\n    return true;\n  }\n  return false;\n};\n```\n","slug":"37-data-structure5","published":1,"updated":"2022-11-23T00:33:39.631Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baj90018nwvacxikgl6f","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(1)<br>(2)<br><img src=\"/2022/10/08/37-data-structure5/heat.png\" alt=\"heat\"></p>\n<p><br><br><br><img src=\"/2022/10/08/37-data-structure5/min-heat.png\" alt=\"min-heat\"></p>\n<p>:<br> 2 _ index + 1<br> 2 _ index + 2<br> index / 2</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; defaultCompare &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../util&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MinHeap</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">compareFn = defaultCompare</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.compareFn = compareFn; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.heap = []; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getLeftIndex</span>(<span class=\"params\">index</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">2</span> * index + <span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getRightIndex</span>(<span class=\"params\">index</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">2</span> * index + <span class=\"number\">2</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getParentIndex</span>(<span class=\"params\">index</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Math</span>.floor((index - <span class=\"number\">1</span>) / <span class=\"number\">2</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">value</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (value != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.heap.push(value); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.siftUp(<span class=\"built_in\">this</span>.heap.length - <span class=\"number\">1</span>); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">siftUp</span>(<span class=\"params\">index</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> parent = <span class=\"built_in\">this</span>.getParentIndex(index); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (</span><br><span class=\"line\">      index &gt; <span class=\"number\">0</span> &amp;&amp;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.compareFn(<span class=\"built_in\">this</span>.heap[parent], <span class=\"built_in\">this</span>.heap[index]) &gt; Compare.BIGGER_THAN</span><br><span class=\"line\">    ) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      swap(<span class=\"built_in\">this</span>.heap, parent, index); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      index = parent;</span><br><span class=\"line\">      parent = <span class=\"built_in\">this</span>.getParentIndex(index); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">swap</span>(<span class=\"params\">array, a, b</span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> temp = array[a]; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      array[a] = array[b]; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      array[b] = temp; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.heap.length;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.size() === <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">findMinimum</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.isEmpty() ? <span class=\"literal\">undefined</span> : <span class=\"built_in\">this</span>.heap[<span class=\"number\">0</span>]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">extract</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.size() === <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.heap.shift(); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> removedValue = <span class=\"built_in\">this</span>.heap.shift(); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.siftDown(<span class=\"number\">0</span>); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> removedValue; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">siftDown</span>(<span class=\"params\">index</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> element = index;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> left = <span class=\"built_in\">this</span>.getLeftIndex(index); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> right = <span class=\"built_in\">this</span>.getRightIndex(index); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> size = <span class=\"built_in\">this</span>.size();</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (</span><br><span class=\"line\">      left &lt; size &amp;&amp;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.compareFn(<span class=\"built_in\">this</span>.heap[element], <span class=\"built_in\">this</span>.heap[left]) &gt; Compare.BIGGER_THAN</span><br><span class=\"line\">    ) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      element = left; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (</span><br><span class=\"line\">      right &lt; size &amp;&amp;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.compareFn(<span class=\"built_in\">this</span>.heap[element], <span class=\"built_in\">this</span>.heap[right]) &gt; Compare.BIGGER_THAN</span><br><span class=\"line\">    ) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      element = right; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index !== element) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      swap(<span class=\"built_in\">this</span>.heap, index, element); <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.siftDown(element); <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/08/37-data-structure5/min-heat-pic.png\" alt=\"min-heat-pic\"></p>\n<p><strong></strong><br>MaxHeap  MinHeap &gt;&lt;</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">reverseCompare</span>(<span class=\"params\">compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> compareFn(b, a);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MaxHeap</span> <span class=\"keyword\">extends</span> <span class=\"title\">MinHeap</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">compareFn = defaultCompare</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>(compareFn);</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.compareFn = reverseCompare(compareFn); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong><br>(1) <br>(2)  1<br>(3)  2  1</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">heapSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> heapSize = array.length;</span><br><span class=\"line\">  buildMaxHeap(array, compareFn); <span class=\"comment\">//  1</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (heapSize &gt; <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    swap(array, <span class=\"number\">0</span>, --heapSize); <span class=\"comment\">//  2</span></span><br><span class=\"line\">    heapify(array, <span class=\"number\">0</span>, heapSize, compareFn); <span class=\"comment\">//  3</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">buildMaxHeap</span>(<span class=\"params\">array, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"built_in\">Math</span>.floor(array.length / <span class=\"number\">2</span>); i &gt;= <span class=\"number\">0</span>; i -= <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    heapify(array, i, array.length, compareFn);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>heapify  siftDown  heapSort <br><img src=\"/2022/10/08/37-data-structure5/heap-sort.png\" alt=\"heap-sort\"></p>\n<p><strong></strong></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><br>G = (V, E)<br>V: <br>E:  V <br><img src=\"/2022/10/08/37-data-structure5/graph-1.png\" alt=\"graph-1\"></p>\n<p>A  B A  D A  C A  E <br>A  A  3E  E  2<br> v1, v2, , vk  vi  vi+1  A B E I  A C D G<br>A D G  A D C A A<br></p>\n<p><strong></strong><br><br>C  D  A  B <br><img src=\"/2022/10/08/37-data-structure5/graph-2.png\" alt=\"graph-2\"><br><br><img src=\"/2022/10/08/37-data-structure5/graph-3.png\" alt=\"graph-3\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><strong></strong><br> i  j  array[i][j] === 1 array[i][j] === 0<br><img src=\"/2022/10/08/37-data-structure5/graph-4.png\" alt=\"graph-4\"><br><em></em><br>(1) 0<br>(2)</p>\n<p><strong></strong><br><br><br><img src=\"/2022/10/08/37-data-structure5/graph-5.png\" alt=\"graph-5\"></p>\n<p><strong></strong><br> v  e  array[v][e] === 1array[v][e] === 0<br><img src=\"/2022/10/08/37-data-structure5/graph-6.png\" alt=\"graph-6\"><br><em></em></p>\n<h6 id=\"-Graph-\"><a href=\"#-Graph-\" class=\"headerlink\" title=\" Graph \"></a> Graph </h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Graph</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">isDirected = <span class=\"literal\">false</span></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.isDirected = isDirected; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//  </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.vertices = []; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//  </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.adjList = <span class=\"keyword\">new</span> Dictionary(); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">addVertex</span>(<span class=\"params\">v</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.vertices.includes(v)) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.vertices.push(v); <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.adjList.set(v, []); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">addEdge</span>(<span class=\"params\">v, w</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.adjList.get(v)) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.addVertex(v); <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.adjList.get(w)) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.addVertex(w); <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.adjList.get(v).push(w); <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.isDirected) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.adjList.get(w).push(v); <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getVertices</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.vertices;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getAdjList</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.adjList;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> s = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"built_in\">this</span>.vertices.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;15&#125;</span></span><br><span class=\"line\">      s += <span class=\"string\">`<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.vertices[i]&#125;</span> -&gt; `</span>;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> neighbors = <span class=\"built_in\">this</span>.adjList.get(<span class=\"built_in\">this</span>.vertices[i]); <span class=\"comment\">// &#123;16&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; neighbors.length; j++) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;17&#125;</span></span><br><span class=\"line\">        s += <span class=\"string\">`<span class=\"subst\">$&#123;neighbors[j]&#125;</span> `</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      s += <span class=\"string\">&#x27;\\n&#x27;</span>; <span class=\"comment\">// &#123;18&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> s;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br><br><br></p>\n<p><strong>breadth-first searchBFS</strong><br><strong>depth-first searchDFS</strong><br><em></em><br>|          |  |                                                            |<br>|  |  |  |<br>|  |        |  |<br>|  |      |                        |</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> Colors = &#123;</span><br><span class=\"line\">  <span class=\"attr\">WHITE</span>: <span class=\"number\">0</span>,</span><br><span class=\"line\">  <span class=\"attr\">GREY</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">  <span class=\"attr\">BLACK</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> initializeColor = <span class=\"function\">(<span class=\"params\">vertices</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> color = &#123;&#125;;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; vertices.length; i++) &#123;</span><br><span class=\"line\">    color[vertices[i]] = Colors.WHITE;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> color;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong><br><br><img src=\"/2022/10/08/37-data-structure5/graph-7.png\" alt=\"graph-7\"><br><em></em><br>(1)  Q<br>(2)  v  v  Q<br>(3)  Q </p>\n<ul>\n<li>(a)  u  Q </li>\n<li>(b)  u </li>\n<li>(c)  u </li>\n<li>(d)  u </li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> breadthFirstSearch = <span class=\"function\">(<span class=\"params\">graph, startVertex, callback</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> vertices = graph.getVertices();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> adjList = graph.getAdjList();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> color = initializeColor(vertices); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> queue = <span class=\"keyword\">new</span> Queue(); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  queue.enqueue(startVertex); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (!queue.isEmpty()) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> u = queue.dequeue(); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> neighbors = adjList.get(u); <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    color[u] = Colors.GREY; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; neighbors.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> w = neighbors[i]; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (color[w] === Colors.WHITE) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">        color[w] = Colors.GREY; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">        queue.enqueue(w); <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    color[u] = Colors.BLACK; <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (callback) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;14&#125;</span></span><br><span class=\"line\">      callback(u);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> printVertex = <span class=\"function\">(<span class=\"params\">value</span>) =&gt;</span> <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;Visited vertex: &#x27;</span> + value); <span class=\"comment\">// &#123;15&#125;</span></span><br><span class=\"line\">breadthFirstSearch(graph, myVertices[<span class=\"number\">0</span>], printVertex);</span><br></pre></td></tr></table></figure>\n\n<p><em> BFS </em><br> G  v u  v </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> BFS = <span class=\"function\">(<span class=\"params\">graph, startVertex</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> vertices = graph.getVertices();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> adjList = graph.getAdjList();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> color = initializeColor(vertices);</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> queue = <span class=\"keyword\">new</span> Queue();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> distances = &#123;&#125;; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> predecessors = &#123;&#125;; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  queue.enqueue(startVertex);</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; vertices.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    distances[vertices[i]] = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    predecessors[vertices[i]] = <span class=\"literal\">null</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (!queue.isEmpty()) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> u = queue.dequeue();</span><br><span class=\"line\">    <span class=\"keyword\">const</span> neighbors = adjList.get(u);</span><br><span class=\"line\">    color[u] = Colors.GREY;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; neighbors.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> w = neighbors[i];</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (color[w] === Colors.WHITE) &#123;</span><br><span class=\"line\">        color[w] = Colors.GREY;</span><br><span class=\"line\">        distances[w] = distances[u] + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        predecessors[w] = u; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">        queue.enqueue(w);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    color[u] = Colors.BLACK;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    distances, <span class=\"comment\">//  v()  u()  distances[u]</span></span><br><span class=\"line\">    predecessors, <span class=\"comment\">//  predecessors[u] v  u </span></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> shortestPathA = BFS(graph, myVertices[<span class=\"number\">0</span>]);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(shortestPathA);</span><br><span class=\"line\"><span class=\"comment\">// distances: &#123;A: 0, B: 1, C: 1, D: 1, E: 2, F: 2, G: 2, H: 2 , I: 3&#125;,</span></span><br><span class=\"line\"><span class=\"comment\">// predecessors: &#123;A: null, B: &quot;A&quot;, C: &quot;A&quot;, D: &quot;A&quot;, E: &quot;B&quot;, F: &quot;B&quot;, G: &quot;C&quot;, H: &quot;D&quot;, I: &quot;E&quot;&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> fromVertex = myVertices[<span class=\"number\">0</span>]; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> (i = <span class=\"number\">1</span>; i &lt; myVertices.length; i++) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> toVertex = myVertices[i]; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> path = <span class=\"keyword\">new</span> Stack(); <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> v = toVertex; v !== fromVertex; v = shortestPathA.predecessors[v]) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">    path.push(v); <span class=\"comment\">// &#123;14&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  path.push(fromVertex); <span class=\"comment\">// &#123;15&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> s = path.pop(); <span class=\"comment\">// &#123;16&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (!path.isEmpty()) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;17&#125;</span></span><br><span class=\"line\">    s += <span class=\"string\">&#x27; - &#x27;</span> + path.pop(); <span class=\"comment\">// &#123;18&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(s); <span class=\"comment\">// &#123;19&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// A - B</span></span><br><span class=\"line\"><span class=\"comment\">// A - C</span></span><br><span class=\"line\"><span class=\"comment\">// A - D</span></span><br><span class=\"line\"><span class=\"comment\">// A - B - E</span></span><br><span class=\"line\"><span class=\"comment\">// A - B - F</span></span><br><span class=\"line\"><span class=\"comment\">// A - C - G</span></span><br><span class=\"line\"><span class=\"comment\">// A - D - H</span></span><br><span class=\"line\"><span class=\"comment\">// A - B - E - I</span></span><br></pre></td></tr></table></figure>\n\n<p><em></em><br>Dijkstra <br>Bellman-Ford <br>A*<br>Floyd-Warshall </p>\n<p><strong></strong><br><br><img src=\"/2022/10/08/37-data-structure5/graph-8.png\" alt=\"graph-8\"></p>\n<p> v  v<br><em></em><br>(1)  v <br>(2)  v  w w<br>(3)  v </p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> depthFirstSearch = <span class=\"function\">(<span class=\"params\">graph, callback</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> vertices = graph.getVertices();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> adjList = graph.getAdjList();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> color = initializeColor(vertices);</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; vertices.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (color[vertices[i]] === Colors.WHITE) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      depthFirstSearchVisit(vertices[i], color, adjList, callback); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> depthFirstSearchVisit = <span class=\"function\">(<span class=\"params\">u, color, adjList, callback</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  color[u] = Colors.GREY; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (callback) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    callback(u);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> neighbors = adjList.get(u); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; neighbors.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> w = neighbors[i]; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (color[w] === Colors.WHITE) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">      depthFirstSearchVisit(w, color, adjList, callback); <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  color[u] = Colors.BLACK; <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">depthFirstSearch(graph, printVertex);</span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: A</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: B</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: E</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: I</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: F</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: C</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: D</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: G</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: H</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/08/37-data-structure5/graph-9.png\" alt=\"graph-9\"></p>\n<p><em>Angular 2+ HTML </em></p>\n<p><em></em><br> G G </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> DFS = <span class=\"function\">(<span class=\"params\">graph</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> vertices = graph.getVertices();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> adjList = graph.getAdjList();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> color = initializeColor(vertices);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> d = &#123;&#125;;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> f = &#123;&#125;;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> p = &#123;&#125;;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> time = &#123; <span class=\"attr\">count</span>: <span class=\"number\">0</span> &#125;; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; vertices.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    f[vertices[i]] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    d[vertices[i]] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    p[vertices[i]] = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; vertices.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (color[vertices[i]] === Colors.WHITE) &#123;</span><br><span class=\"line\">      DFSVisit(vertices[i], color, d, f, p, time, adjList);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"attr\">discovery</span>: d, <span class=\"comment\">//  u  d[u]</span></span><br><span class=\"line\">    <span class=\"attr\">finished</span>: f, <span class=\"comment\">//  u u  f[u]</span></span><br><span class=\"line\">    <span class=\"attr\">predecessors</span>: p, <span class=\"comment\">//  u  p[u]</span></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> DFSVisit = <span class=\"function\">(<span class=\"params\">u, color, d, f, p, time, adjList</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  color[u] = Colors.GREY;</span><br><span class=\"line\">  d[u] = ++time.count; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> neighbors = adjList.get(u);</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; neighbors.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> w = neighbors[i];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (color[w] === Colors.WHITE) &#123;</span><br><span class=\"line\">      p[w] = u; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      DFSVisit(w, color, d, f, p, time, adjList);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  color[u] = Colors.BLACK;</span><br><span class=\"line\">  f[u] = ++time.count; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>(1)time2|V|<br>(2) ud[u] &lt; f[u] ()<br><br><em>1 &lt;= d [u] &lt; f [u] &lt;= 2|V|</em><br>/<br><img src=\"/2022/10/08/37-data-structure5/graph-10.png\" alt=\"graph-10\"></p>\n<p><strong></strong><br><img src=\"/2022/10/08/37-data-structure5/graph-11.png\" alt=\"graph-11\"><br>DAG</p>\n<p>topological sorting topsort  toposort</p>\n<p><em> DAG</em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">graph = <span class=\"keyword\">new</span> Graph(<span class=\"literal\">true</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">myVertices = [<span class=\"string\">&#x27;A&#x27;</span>, <span class=\"string\">&#x27;B&#x27;</span>, <span class=\"string\">&#x27;C&#x27;</span>, <span class=\"string\">&#x27;D&#x27;</span>, <span class=\"string\">&#x27;E&#x27;</span>, <span class=\"string\">&#x27;F&#x27;</span>];</span><br><span class=\"line\"><span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; myVertices.length; i++) &#123;</span><br><span class=\"line\">  graph.addVertex(myVertices[i]);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">&#x27;A&#x27;</span>, <span class=\"string\">&#x27;C&#x27;</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">&#x27;A&#x27;</span>, <span class=\"string\">&#x27;D&#x27;</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">&#x27;B&#x27;</span>, <span class=\"string\">&#x27;D&#x27;</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">&#x27;B&#x27;</span>, <span class=\"string\">&#x27;E&#x27;</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">&#x27;C&#x27;</span>, <span class=\"string\">&#x27;F&#x27;</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">&#x27;F&#x27;</span>, <span class=\"string\">&#x27;E&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> result = DFS(graph);</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/08/37-data-structure5/graph-12.png\" alt=\"graph-12\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> fTimes = result.finished;</span><br><span class=\"line\">s = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> count = <span class=\"number\">0</span>; count &lt; myVertices.length; count++) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> max = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> maxName = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; myVertices.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (fTimes[myVertices[i]] &gt; max) &#123;</span><br><span class=\"line\">      max = fTimes[myVertices[i]];</span><br><span class=\"line\">      maxName = myVertices[i];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  s += <span class=\"string\">&#x27; - &#x27;</span> + maxName;</span><br><span class=\"line\">  <span class=\"keyword\">delete</span> fTimes[maxName];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(s);</span><br><span class=\"line\"><span class=\"comment\">// B - A - D - C - F - E</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em>Dijkstra </em><br>Dijkstra </p>\n<p><img src=\"/2022/10/08/37-data-structure5/graph-13.png\" alt=\"graph-13\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> graph = [</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">];</span><br><span class=\"line\"><span class=\"comment\">// JavaScript  INF = Number.MAX_SAFE_INTEGER</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> INF = <span class=\"built_in\">Number</span>.MAX_SAFE_INTEGER;</span><br><span class=\"line\"><span class=\"keyword\">const</span> dijkstra = <span class=\"function\">(<span class=\"params\">graph, src</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> dist = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> visited = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = graph;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    dist[i] = INF; <span class=\"comment\">// dist</span></span><br><span class=\"line\">    visited[i] = <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  dist[src] = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125;  0</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> u = minDistance(dist, visited); <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">    visited[u] = <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;5&#125;  visited</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> v = <span class=\"number\">0</span>; v &lt; length; v++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (</span><br><span class=\"line\">        !visited[v] &amp;&amp;</span><br><span class=\"line\">        graph[u][v] !== <span class=\"number\">0</span> &amp;&amp;</span><br><span class=\"line\">        dist[u] !== INF &amp;&amp;</span><br><span class=\"line\">        dist[u] + graph[u][v] &lt; dist[v]</span><br><span class=\"line\">      ) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        dist[v] = dist[u] + graph[u][v]; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> dist; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> minDistance = <span class=\"function\">(<span class=\"params\">dist, visited</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> min = INF;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> minIndex = -<span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> v = <span class=\"number\">0</span>; v &lt; dist.length; v++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (visited[v] === <span class=\"literal\">false</span> &amp;&amp; dist[v] &lt;= min) &#123;</span><br><span class=\"line\">      min = dist[v];</span><br><span class=\"line\">      minIndex = v;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> minIndex;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 0 0</span></span><br><span class=\"line\"><span class=\"comment\">// 1 2</span></span><br><span class=\"line\"><span class=\"comment\">// 2 4</span></span><br><span class=\"line\"><span class=\"comment\">// 3 6</span></span><br><span class=\"line\"><span class=\"comment\">// 4 4</span></span><br><span class=\"line\"><span class=\"comment\">// 5 6</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Floyd-Warshall </strong><br>Floyd-Warshall </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> floydWarshall = <span class=\"function\">(<span class=\"params\">graph</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> dist = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = graph;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    dist[i] = [];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length; j++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (i === j) &#123;</span><br><span class=\"line\">        dist[i][j] = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (!<span class=\"built_in\">isFinite</span>(graph[i][j])) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//  Infinity</span></span><br><span class=\"line\">        dist[i][j] = <span class=\"literal\">Infinity</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//  i  j </span></span><br><span class=\"line\">        dist[i][j] = graph[i][j]; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  0  k &#123;5&#125; i  j  k</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> k = <span class=\"number\">0</span>; k &lt; length; k++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length; j++) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//  k  i  j </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (dist[i][k] + dist[k][j] &lt; dist[i][j]) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">          dist[i][j] = dist[i][k] + dist[k][j]; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> dist;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// 0 2 4 6 4 6</span></span><br><span class=\"line\"><span class=\"comment\">// INF 0 2 4 2 4</span></span><br><span class=\"line\"><span class=\"comment\">// INF INF 0 6 3 5</span></span><br><span class=\"line\"><span class=\"comment\">// INF INF INF 0 INF 2</span></span><br><span class=\"line\"><span class=\"comment\">// INF INF INF 3 0 2</span></span><br><span class=\"line\"><span class=\"comment\">// INF INF INF INF INF 0</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"-MST\"><a href=\"#-MST\" class=\"headerlink\" title=\"(MST)\"></a>(MST)</h6><p><strong>Prim </strong><br>Prim  MST </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> graph = [</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">2</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">4</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>, <span class=\"number\">2</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">3</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">2</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> INF = <span class=\"built_in\">Number</span>.MAX_SAFE_INTEGER;</span><br><span class=\"line\"><span class=\"keyword\">const</span> prim = <span class=\"function\">(<span class=\"params\">graph</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> parent = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> key = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> visited = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = graph;</span><br><span class=\"line\">  <span class=\"comment\">// key</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    key[i] = INF;</span><br><span class=\"line\">    visited[i] = <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  key  MST  parent[0] = -1</span></span><br><span class=\"line\">  key[<span class=\"number\">0</span>] = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  parent[<span class=\"number\">0</span>] = -<span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//  key  Dijkstra minDistance </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> u = minKey(graph, key, visited); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    visited[u] = <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> v = <span class=\"number\">0</span>; v &lt; length; v++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">//  MST parent</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (graph[u][v] &amp;&amp; !visited[v] &amp;&amp; graph[u][v] &lt; key[v]) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        parent[v] = u; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">        key[v] = graph[u][v]; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> parent; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> minDistance = <span class=\"function\">(<span class=\"params\">dist, key, visited</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> min = INF;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> minIndex = -<span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> v = <span class=\"number\">0</span>; v &lt; dist[key].length; v++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (visited[v] === <span class=\"literal\">false</span> &amp;&amp; dist[key][v] &lt;= min) &#123;</span><br><span class=\"line\">      min = dist[key][v];</span><br><span class=\"line\">      minIndex = v;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> minIndex;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Edge Weight</span></span><br><span class=\"line\"><span class=\"comment\">// 0 - 1 2</span></span><br><span class=\"line\"><span class=\"comment\">// 1 - 2 2</span></span><br><span class=\"line\"><span class=\"comment\">// 5 - 3 2</span></span><br><span class=\"line\"><span class=\"comment\">// 1 - 4 2</span></span><br><span class=\"line\"><span class=\"comment\">// 4 - 5 2</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Kruskal </strong><br> MST </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> kruskal = <span class=\"function\">(<span class=\"params\">graph</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = graph;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> parent = [];</span><br><span class=\"line\">  <span class=\"keyword\">let</span> ne = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> a;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> b;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> u;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> v;</span><br><span class=\"line\">  <span class=\"comment\">//  cost </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> cost = initializeCost(graph); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  MST  1 </span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (ne &lt; length - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>, min = INF; i &lt; length; i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length; j++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (cost[i][j] &lt; min) &#123;</span><br><span class=\"line\">          min = cost[i][j];</span><br><span class=\"line\">          a = u = i;</span><br><span class=\"line\">          b = v = j;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//  MST </span></span><br><span class=\"line\">    u = find(u, parent); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    v = find(v, parent); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//  u  v  MST</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (union(u, v, parent)) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      ne++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    cost[a][b] = cost[b][a] = INF; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> parent;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> find = <span class=\"function\">(<span class=\"params\">i, parent</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (parent[i]) &#123;</span><br><span class=\"line\">    i = parent[i];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> union = <span class=\"function\">(<span class=\"params\">i, j, parent</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (i !== j) &#123;</span><br><span class=\"line\">    parent[j] = i;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(1)<br>(2)<br><img src=\"/2022/10/08/37-data-structure5/heat.png\" alt=\"heat\"></p>\n<p><br><br><br><img src=\"/2022/10/08/37-data-structure5/min-heat.png\" alt=\"min-heat\"></p>\n<p>:<br> 2 _ index + 1<br> 2 _ index + 2<br> index / 2</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; defaultCompare &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../util&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MinHeap</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">compareFn = defaultCompare</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.compareFn = compareFn; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.heap = []; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getLeftIndex</span>(<span class=\"params\">index</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">2</span> * index + <span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getRightIndex</span>(<span class=\"params\">index</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">2</span> * index + <span class=\"number\">2</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getParentIndex</span>(<span class=\"params\">index</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Math</span>.floor((index - <span class=\"number\">1</span>) / <span class=\"number\">2</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">value</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (value != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.heap.push(value); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.siftUp(<span class=\"built_in\">this</span>.heap.length - <span class=\"number\">1</span>); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">siftUp</span>(<span class=\"params\">index</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> parent = <span class=\"built_in\">this</span>.getParentIndex(index); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (</span><br><span class=\"line\">      index &gt; <span class=\"number\">0</span> &amp;&amp;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.compareFn(<span class=\"built_in\">this</span>.heap[parent], <span class=\"built_in\">this</span>.heap[index]) &gt; Compare.BIGGER_THAN</span><br><span class=\"line\">    ) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      swap(<span class=\"built_in\">this</span>.heap, parent, index); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      index = parent;</span><br><span class=\"line\">      parent = <span class=\"built_in\">this</span>.getParentIndex(index); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">swap</span>(<span class=\"params\">array, a, b</span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> temp = array[a]; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      array[a] = array[b]; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      array[b] = temp; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.heap.length;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.size() === <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">findMinimum</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.isEmpty() ? <span class=\"literal\">undefined</span> : <span class=\"built_in\">this</span>.heap[<span class=\"number\">0</span>]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">extract</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.size() === <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.heap.shift(); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> removedValue = <span class=\"built_in\">this</span>.heap.shift(); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.siftDown(<span class=\"number\">0</span>); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> removedValue; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">siftDown</span>(<span class=\"params\">index</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> element = index;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> left = <span class=\"built_in\">this</span>.getLeftIndex(index); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> right = <span class=\"built_in\">this</span>.getRightIndex(index); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> size = <span class=\"built_in\">this</span>.size();</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (</span><br><span class=\"line\">      left &lt; size &amp;&amp;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.compareFn(<span class=\"built_in\">this</span>.heap[element], <span class=\"built_in\">this</span>.heap[left]) &gt; Compare.BIGGER_THAN</span><br><span class=\"line\">    ) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      element = left; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (</span><br><span class=\"line\">      right &lt; size &amp;&amp;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.compareFn(<span class=\"built_in\">this</span>.heap[element], <span class=\"built_in\">this</span>.heap[right]) &gt; Compare.BIGGER_THAN</span><br><span class=\"line\">    ) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      element = right; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index !== element) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      swap(<span class=\"built_in\">this</span>.heap, index, element); <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.siftDown(element); <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/08/37-data-structure5/min-heat-pic.png\" alt=\"min-heat-pic\"></p>\n<p><strong></strong><br>MaxHeap  MinHeap &gt;&lt;</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">reverseCompare</span>(<span class=\"params\">compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> compareFn(b, a);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MaxHeap</span> <span class=\"keyword\">extends</span> <span class=\"title\">MinHeap</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">compareFn = defaultCompare</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>(compareFn);</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.compareFn = reverseCompare(compareFn); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong><br>(1) <br>(2)  1<br>(3)  2  1</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">heapSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> heapSize = array.length;</span><br><span class=\"line\">  buildMaxHeap(array, compareFn); <span class=\"comment\">//  1</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (heapSize &gt; <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    swap(array, <span class=\"number\">0</span>, --heapSize); <span class=\"comment\">//  2</span></span><br><span class=\"line\">    heapify(array, <span class=\"number\">0</span>, heapSize, compareFn); <span class=\"comment\">//  3</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">buildMaxHeap</span>(<span class=\"params\">array, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"built_in\">Math</span>.floor(array.length / <span class=\"number\">2</span>); i &gt;= <span class=\"number\">0</span>; i -= <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    heapify(array, i, array.length, compareFn);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>heapify  siftDown  heapSort <br><img src=\"/2022/10/08/37-data-structure5/heap-sort.png\" alt=\"heap-sort\"></p>\n<p><strong></strong></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><br>G = (V, E)<br>V: <br>E:  V <br><img src=\"/2022/10/08/37-data-structure5/graph-1.png\" alt=\"graph-1\"></p>\n<p>A  B A  D A  C A  E <br>A  A  3E  E  2<br> v1, v2, , vk  vi  vi+1  A B E I  A C D G<br>A D G  A D C A A<br></p>\n<p><strong></strong><br><br>C  D  A  B <br><img src=\"/2022/10/08/37-data-structure5/graph-2.png\" alt=\"graph-2\"><br><br><img src=\"/2022/10/08/37-data-structure5/graph-3.png\" alt=\"graph-3\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><strong></strong><br> i  j  array[i][j] === 1 array[i][j] === 0<br><img src=\"/2022/10/08/37-data-structure5/graph-4.png\" alt=\"graph-4\"><br><em></em><br>(1) 0<br>(2)</p>\n<p><strong></strong><br><br><br><img src=\"/2022/10/08/37-data-structure5/graph-5.png\" alt=\"graph-5\"></p>\n<p><strong></strong><br> v  e  array[v][e] === 1array[v][e] === 0<br><img src=\"/2022/10/08/37-data-structure5/graph-6.png\" alt=\"graph-6\"><br><em></em></p>\n<h6 id=\"-Graph-\"><a href=\"#-Graph-\" class=\"headerlink\" title=\" Graph \"></a> Graph </h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Graph</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">isDirected = <span class=\"literal\">false</span></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.isDirected = isDirected; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//  </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.vertices = []; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//  </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.adjList = <span class=\"keyword\">new</span> Dictionary(); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">addVertex</span>(<span class=\"params\">v</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.vertices.includes(v)) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.vertices.push(v); <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.adjList.set(v, []); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">addEdge</span>(<span class=\"params\">v, w</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.adjList.get(v)) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.addVertex(v); <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.adjList.get(w)) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.addVertex(w); <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.adjList.get(v).push(w); <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.isDirected) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.adjList.get(w).push(v); <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getVertices</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.vertices;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getAdjList</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.adjList;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> s = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"built_in\">this</span>.vertices.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;15&#125;</span></span><br><span class=\"line\">      s += <span class=\"string\">`<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.vertices[i]&#125;</span> -&gt; `</span>;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> neighbors = <span class=\"built_in\">this</span>.adjList.get(<span class=\"built_in\">this</span>.vertices[i]); <span class=\"comment\">// &#123;16&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; neighbors.length; j++) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;17&#125;</span></span><br><span class=\"line\">        s += <span class=\"string\">`<span class=\"subst\">$&#123;neighbors[j]&#125;</span> `</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      s += <span class=\"string\">&#x27;\\n&#x27;</span>; <span class=\"comment\">// &#123;18&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> s;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br><br><br></p>\n<p><strong>breadth-first searchBFS</strong><br><strong>depth-first searchDFS</strong><br><em></em><br>|          |  |                                                            |<br>|  |  |  |<br>|  |        |  |<br>|  |      |                        |</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> Colors = &#123;</span><br><span class=\"line\">  <span class=\"attr\">WHITE</span>: <span class=\"number\">0</span>,</span><br><span class=\"line\">  <span class=\"attr\">GREY</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">  <span class=\"attr\">BLACK</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> initializeColor = <span class=\"function\">(<span class=\"params\">vertices</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> color = &#123;&#125;;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; vertices.length; i++) &#123;</span><br><span class=\"line\">    color[vertices[i]] = Colors.WHITE;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> color;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong><br><br><img src=\"/2022/10/08/37-data-structure5/graph-7.png\" alt=\"graph-7\"><br><em></em><br>(1)  Q<br>(2)  v  v  Q<br>(3)  Q </p>\n<ul>\n<li>(a)  u  Q </li>\n<li>(b)  u </li>\n<li>(c)  u </li>\n<li>(d)  u </li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> breadthFirstSearch = <span class=\"function\">(<span class=\"params\">graph, startVertex, callback</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> vertices = graph.getVertices();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> adjList = graph.getAdjList();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> color = initializeColor(vertices); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> queue = <span class=\"keyword\">new</span> Queue(); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  queue.enqueue(startVertex); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (!queue.isEmpty()) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> u = queue.dequeue(); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> neighbors = adjList.get(u); <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    color[u] = Colors.GREY; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; neighbors.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> w = neighbors[i]; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (color[w] === Colors.WHITE) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">        color[w] = Colors.GREY; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">        queue.enqueue(w); <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    color[u] = Colors.BLACK; <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (callback) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;14&#125;</span></span><br><span class=\"line\">      callback(u);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> printVertex = <span class=\"function\">(<span class=\"params\">value</span>) =&gt;</span> <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;Visited vertex: &#x27;</span> + value); <span class=\"comment\">// &#123;15&#125;</span></span><br><span class=\"line\">breadthFirstSearch(graph, myVertices[<span class=\"number\">0</span>], printVertex);</span><br></pre></td></tr></table></figure>\n\n<p><em> BFS </em><br> G  v u  v </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> BFS = <span class=\"function\">(<span class=\"params\">graph, startVertex</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> vertices = graph.getVertices();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> adjList = graph.getAdjList();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> color = initializeColor(vertices);</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> queue = <span class=\"keyword\">new</span> Queue();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> distances = &#123;&#125;; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> predecessors = &#123;&#125;; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  queue.enqueue(startVertex);</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; vertices.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    distances[vertices[i]] = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    predecessors[vertices[i]] = <span class=\"literal\">null</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (!queue.isEmpty()) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> u = queue.dequeue();</span><br><span class=\"line\">    <span class=\"keyword\">const</span> neighbors = adjList.get(u);</span><br><span class=\"line\">    color[u] = Colors.GREY;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; neighbors.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> w = neighbors[i];</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (color[w] === Colors.WHITE) &#123;</span><br><span class=\"line\">        color[w] = Colors.GREY;</span><br><span class=\"line\">        distances[w] = distances[u] + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        predecessors[w] = u; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">        queue.enqueue(w);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    color[u] = Colors.BLACK;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    distances, <span class=\"comment\">//  v()  u()  distances[u]</span></span><br><span class=\"line\">    predecessors, <span class=\"comment\">//  predecessors[u] v  u </span></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> shortestPathA = BFS(graph, myVertices[<span class=\"number\">0</span>]);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(shortestPathA);</span><br><span class=\"line\"><span class=\"comment\">// distances: &#123;A: 0, B: 1, C: 1, D: 1, E: 2, F: 2, G: 2, H: 2 , I: 3&#125;,</span></span><br><span class=\"line\"><span class=\"comment\">// predecessors: &#123;A: null, B: &quot;A&quot;, C: &quot;A&quot;, D: &quot;A&quot;, E: &quot;B&quot;, F: &quot;B&quot;, G: &quot;C&quot;, H: &quot;D&quot;, I: &quot;E&quot;&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> fromVertex = myVertices[<span class=\"number\">0</span>]; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> (i = <span class=\"number\">1</span>; i &lt; myVertices.length; i++) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> toVertex = myVertices[i]; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> path = <span class=\"keyword\">new</span> Stack(); <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> v = toVertex; v !== fromVertex; v = shortestPathA.predecessors[v]) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">    path.push(v); <span class=\"comment\">// &#123;14&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  path.push(fromVertex); <span class=\"comment\">// &#123;15&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> s = path.pop(); <span class=\"comment\">// &#123;16&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (!path.isEmpty()) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;17&#125;</span></span><br><span class=\"line\">    s += <span class=\"string\">&#x27; - &#x27;</span> + path.pop(); <span class=\"comment\">// &#123;18&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(s); <span class=\"comment\">// &#123;19&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// A - B</span></span><br><span class=\"line\"><span class=\"comment\">// A - C</span></span><br><span class=\"line\"><span class=\"comment\">// A - D</span></span><br><span class=\"line\"><span class=\"comment\">// A - B - E</span></span><br><span class=\"line\"><span class=\"comment\">// A - B - F</span></span><br><span class=\"line\"><span class=\"comment\">// A - C - G</span></span><br><span class=\"line\"><span class=\"comment\">// A - D - H</span></span><br><span class=\"line\"><span class=\"comment\">// A - B - E - I</span></span><br></pre></td></tr></table></figure>\n\n<p><em></em><br>Dijkstra <br>Bellman-Ford <br>A*<br>Floyd-Warshall </p>\n<p><strong></strong><br><br><img src=\"/2022/10/08/37-data-structure5/graph-8.png\" alt=\"graph-8\"></p>\n<p> v  v<br><em></em><br>(1)  v <br>(2)  v  w w<br>(3)  v </p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> depthFirstSearch = <span class=\"function\">(<span class=\"params\">graph, callback</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> vertices = graph.getVertices();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> adjList = graph.getAdjList();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> color = initializeColor(vertices);</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; vertices.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (color[vertices[i]] === Colors.WHITE) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      depthFirstSearchVisit(vertices[i], color, adjList, callback); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> depthFirstSearchVisit = <span class=\"function\">(<span class=\"params\">u, color, adjList, callback</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  color[u] = Colors.GREY; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (callback) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    callback(u);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> neighbors = adjList.get(u); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; neighbors.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> w = neighbors[i]; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (color[w] === Colors.WHITE) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">      depthFirstSearchVisit(w, color, adjList, callback); <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  color[u] = Colors.BLACK; <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">depthFirstSearch(graph, printVertex);</span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: A</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: B</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: E</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: I</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: F</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: C</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: D</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: G</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: H</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/08/37-data-structure5/graph-9.png\" alt=\"graph-9\"></p>\n<p><em>Angular 2+ HTML </em></p>\n<p><em></em><br> G G </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> DFS = <span class=\"function\">(<span class=\"params\">graph</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> vertices = graph.getVertices();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> adjList = graph.getAdjList();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> color = initializeColor(vertices);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> d = &#123;&#125;;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> f = &#123;&#125;;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> p = &#123;&#125;;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> time = &#123; <span class=\"attr\">count</span>: <span class=\"number\">0</span> &#125;; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; vertices.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    f[vertices[i]] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    d[vertices[i]] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    p[vertices[i]] = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; vertices.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (color[vertices[i]] === Colors.WHITE) &#123;</span><br><span class=\"line\">      DFSVisit(vertices[i], color, d, f, p, time, adjList);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"attr\">discovery</span>: d, <span class=\"comment\">//  u  d[u]</span></span><br><span class=\"line\">    <span class=\"attr\">finished</span>: f, <span class=\"comment\">//  u u  f[u]</span></span><br><span class=\"line\">    <span class=\"attr\">predecessors</span>: p, <span class=\"comment\">//  u  p[u]</span></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> DFSVisit = <span class=\"function\">(<span class=\"params\">u, color, d, f, p, time, adjList</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  color[u] = Colors.GREY;</span><br><span class=\"line\">  d[u] = ++time.count; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> neighbors = adjList.get(u);</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; neighbors.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> w = neighbors[i];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (color[w] === Colors.WHITE) &#123;</span><br><span class=\"line\">      p[w] = u; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      DFSVisit(w, color, d, f, p, time, adjList);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  color[u] = Colors.BLACK;</span><br><span class=\"line\">  f[u] = ++time.count; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>(1)time2|V|<br>(2) ud[u] &lt; f[u] ()<br><br><em>1 &lt;= d [u] &lt; f [u] &lt;= 2|V|</em><br>/<br><img src=\"/2022/10/08/37-data-structure5/graph-10.png\" alt=\"graph-10\"></p>\n<p><strong></strong><br><img src=\"/2022/10/08/37-data-structure5/graph-11.png\" alt=\"graph-11\"><br>DAG</p>\n<p>topological sorting topsort  toposort</p>\n<p><em> DAG</em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">graph = <span class=\"keyword\">new</span> Graph(<span class=\"literal\">true</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">myVertices = [<span class=\"string\">&#x27;A&#x27;</span>, <span class=\"string\">&#x27;B&#x27;</span>, <span class=\"string\">&#x27;C&#x27;</span>, <span class=\"string\">&#x27;D&#x27;</span>, <span class=\"string\">&#x27;E&#x27;</span>, <span class=\"string\">&#x27;F&#x27;</span>];</span><br><span class=\"line\"><span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; myVertices.length; i++) &#123;</span><br><span class=\"line\">  graph.addVertex(myVertices[i]);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">&#x27;A&#x27;</span>, <span class=\"string\">&#x27;C&#x27;</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">&#x27;A&#x27;</span>, <span class=\"string\">&#x27;D&#x27;</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">&#x27;B&#x27;</span>, <span class=\"string\">&#x27;D&#x27;</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">&#x27;B&#x27;</span>, <span class=\"string\">&#x27;E&#x27;</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">&#x27;C&#x27;</span>, <span class=\"string\">&#x27;F&#x27;</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">&#x27;F&#x27;</span>, <span class=\"string\">&#x27;E&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> result = DFS(graph);</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/08/37-data-structure5/graph-12.png\" alt=\"graph-12\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> fTimes = result.finished;</span><br><span class=\"line\">s = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> count = <span class=\"number\">0</span>; count &lt; myVertices.length; count++) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> max = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> maxName = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; myVertices.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (fTimes[myVertices[i]] &gt; max) &#123;</span><br><span class=\"line\">      max = fTimes[myVertices[i]];</span><br><span class=\"line\">      maxName = myVertices[i];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  s += <span class=\"string\">&#x27; - &#x27;</span> + maxName;</span><br><span class=\"line\">  <span class=\"keyword\">delete</span> fTimes[maxName];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(s);</span><br><span class=\"line\"><span class=\"comment\">// B - A - D - C - F - E</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em>Dijkstra </em><br>Dijkstra </p>\n<p><img src=\"/2022/10/08/37-data-structure5/graph-13.png\" alt=\"graph-13\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> graph = [</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">];</span><br><span class=\"line\"><span class=\"comment\">// JavaScript  INF = Number.MAX_SAFE_INTEGER</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> INF = <span class=\"built_in\">Number</span>.MAX_SAFE_INTEGER;</span><br><span class=\"line\"><span class=\"keyword\">const</span> dijkstra = <span class=\"function\">(<span class=\"params\">graph, src</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> dist = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> visited = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = graph;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    dist[i] = INF; <span class=\"comment\">// dist</span></span><br><span class=\"line\">    visited[i] = <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  dist[src] = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125;  0</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> u = minDistance(dist, visited); <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">    visited[u] = <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;5&#125;  visited</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> v = <span class=\"number\">0</span>; v &lt; length; v++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (</span><br><span class=\"line\">        !visited[v] &amp;&amp;</span><br><span class=\"line\">        graph[u][v] !== <span class=\"number\">0</span> &amp;&amp;</span><br><span class=\"line\">        dist[u] !== INF &amp;&amp;</span><br><span class=\"line\">        dist[u] + graph[u][v] &lt; dist[v]</span><br><span class=\"line\">      ) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        dist[v] = dist[u] + graph[u][v]; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> dist; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> minDistance = <span class=\"function\">(<span class=\"params\">dist, visited</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> min = INF;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> minIndex = -<span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> v = <span class=\"number\">0</span>; v &lt; dist.length; v++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (visited[v] === <span class=\"literal\">false</span> &amp;&amp; dist[v] &lt;= min) &#123;</span><br><span class=\"line\">      min = dist[v];</span><br><span class=\"line\">      minIndex = v;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> minIndex;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 0 0</span></span><br><span class=\"line\"><span class=\"comment\">// 1 2</span></span><br><span class=\"line\"><span class=\"comment\">// 2 4</span></span><br><span class=\"line\"><span class=\"comment\">// 3 6</span></span><br><span class=\"line\"><span class=\"comment\">// 4 4</span></span><br><span class=\"line\"><span class=\"comment\">// 5 6</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Floyd-Warshall </strong><br>Floyd-Warshall </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> floydWarshall = <span class=\"function\">(<span class=\"params\">graph</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> dist = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = graph;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    dist[i] = [];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length; j++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (i === j) &#123;</span><br><span class=\"line\">        dist[i][j] = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (!<span class=\"built_in\">isFinite</span>(graph[i][j])) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//  Infinity</span></span><br><span class=\"line\">        dist[i][j] = <span class=\"literal\">Infinity</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//  i  j </span></span><br><span class=\"line\">        dist[i][j] = graph[i][j]; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  0  k &#123;5&#125; i  j  k</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> k = <span class=\"number\">0</span>; k &lt; length; k++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length; j++) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//  k  i  j </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (dist[i][k] + dist[k][j] &lt; dist[i][j]) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">          dist[i][j] = dist[i][k] + dist[k][j]; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> dist;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// 0 2 4 6 4 6</span></span><br><span class=\"line\"><span class=\"comment\">// INF 0 2 4 2 4</span></span><br><span class=\"line\"><span class=\"comment\">// INF INF 0 6 3 5</span></span><br><span class=\"line\"><span class=\"comment\">// INF INF INF 0 INF 2</span></span><br><span class=\"line\"><span class=\"comment\">// INF INF INF 3 0 2</span></span><br><span class=\"line\"><span class=\"comment\">// INF INF INF INF INF 0</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"-MST\"><a href=\"#-MST\" class=\"headerlink\" title=\"(MST)\"></a>(MST)</h6><p><strong>Prim </strong><br>Prim  MST </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> graph = [</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">2</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">4</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>, <span class=\"number\">2</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">3</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">2</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> INF = <span class=\"built_in\">Number</span>.MAX_SAFE_INTEGER;</span><br><span class=\"line\"><span class=\"keyword\">const</span> prim = <span class=\"function\">(<span class=\"params\">graph</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> parent = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> key = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> visited = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = graph;</span><br><span class=\"line\">  <span class=\"comment\">// key</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    key[i] = INF;</span><br><span class=\"line\">    visited[i] = <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  key  MST  parent[0] = -1</span></span><br><span class=\"line\">  key[<span class=\"number\">0</span>] = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  parent[<span class=\"number\">0</span>] = -<span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//  key  Dijkstra minDistance </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> u = minKey(graph, key, visited); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    visited[u] = <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> v = <span class=\"number\">0</span>; v &lt; length; v++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">//  MST parent</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (graph[u][v] &amp;&amp; !visited[v] &amp;&amp; graph[u][v] &lt; key[v]) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        parent[v] = u; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">        key[v] = graph[u][v]; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> parent; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> minDistance = <span class=\"function\">(<span class=\"params\">dist, key, visited</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> min = INF;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> minIndex = -<span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> v = <span class=\"number\">0</span>; v &lt; dist[key].length; v++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (visited[v] === <span class=\"literal\">false</span> &amp;&amp; dist[key][v] &lt;= min) &#123;</span><br><span class=\"line\">      min = dist[key][v];</span><br><span class=\"line\">      minIndex = v;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> minIndex;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Edge Weight</span></span><br><span class=\"line\"><span class=\"comment\">// 0 - 1 2</span></span><br><span class=\"line\"><span class=\"comment\">// 1 - 2 2</span></span><br><span class=\"line\"><span class=\"comment\">// 5 - 3 2</span></span><br><span class=\"line\"><span class=\"comment\">// 1 - 4 2</span></span><br><span class=\"line\"><span class=\"comment\">// 4 - 5 2</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Kruskal </strong><br> MST </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> kruskal = <span class=\"function\">(<span class=\"params\">graph</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = graph;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> parent = [];</span><br><span class=\"line\">  <span class=\"keyword\">let</span> ne = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> a;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> b;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> u;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> v;</span><br><span class=\"line\">  <span class=\"comment\">//  cost </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> cost = initializeCost(graph); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  MST  1 </span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (ne &lt; length - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>, min = INF; i &lt; length; i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length; j++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (cost[i][j] &lt; min) &#123;</span><br><span class=\"line\">          min = cost[i][j];</span><br><span class=\"line\">          a = u = i;</span><br><span class=\"line\">          b = v = j;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//  MST </span></span><br><span class=\"line\">    u = find(u, parent); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    v = find(v, parent); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//  u  v  MST</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (union(u, v, parent)) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      ne++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    cost[a][b] = cost[b][a] = INF; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> parent;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> find = <span class=\"function\">(<span class=\"params\">i, parent</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (parent[i]) &#123;</span><br><span class=\"line\">    i = parent[i];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> union = <span class=\"function\">(<span class=\"params\">i, j, parent</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (i !== j) &#123;</span><br><span class=\"line\">    parent[j] = i;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n"},{"title":"(7)","date":"2022-10-13T08:13:40.000Z","_content":"\n#### \n\n###### \n\n\n\n\n(1) \n(2) \n(3) \n\n****\n mid \n\n\n\n```javascript\nfunction binarySearchRecursive(\n  array,\n  value,\n  low,\n  high,\n  compareFn = defaultCompare\n) {\n  if (low <= high) {\n    const mid = Math.floor((low + high) / 2);\n    const element = array[mid];\n    if (compareFn(element, value) === Compare.LESS_THAN) {\n      // {1}\n      return binarySearchRecursive(array, value, mid + 1, high, compareFn);\n    } else if (compareFn(element, value) === Compare.BIGGER_THAN) {\n      // {2}\n      return binarySearchRecursive(array, value, low, mid - 1, compareFn);\n    } else {\n      return mid; // {3}\n    }\n  }\n  return DOES_NOT_EXIST; // {4}\n}\nexport function binarySearch(array, value, compareFn = defaultCompare) {\n  const sortedArray = quickSort(array);\n  const low = 0;\n  const high = sortedArray.length - 1;\n  return binarySearchRecursive(array, value, low, high, compareFn);\n}\n```\n\n![technology-1](technology-1.png)\n\n****\ndynamic programmingDP\n\n__\n\n\n(1) \n(2) \n(3) \n\n__\n(1)\n(2)\n(3)\n(4) d1, , dn \n(5)(u, v) u  v (Floyd-Warshall )\n\n__\n d1, , dn  d1, , dn \n\n```javascript\n// coins \nfunction minCoinChange(coins, amount) {\n  const cache = []; // {1}\n  const makeChange = (value) => {\n    // {2}\n    if (!value) {\n      // {3}\n      return [];\n    }\n    if (cache[value]) {\n      // {4}\n      return cache[value];\n    }\n    let min = [];\n    let newMin;\n    let newAmount;\n    for (let i = 0; i < coins.length; i++) {\n      // {5}\n      const coin = coins[i];\n      newAmount = value - coin; // {6}\n      if (newAmount >= 0) {\n        newMin = makeChange(newAmount); // {7}\n      }\n      if (\n        newAmount >= 0 && // {8}\n        (newMin.length < min.length - 1 || !min.length) && // {9}\n        (newMin.length || !newAmount) // {10}\n      ) {\n        min = [coin].concat(newMin); // {11}\n        console.log('new Min ' + min + ' for ' + amount);\n      }\n    }\n    return (cache[value] = min); // {12}\n  };\n  return makeChange(amount); // {13}\n}\n```\n\n__\n W  W\n\n```javascript\nfunction knapSack(capacity, weights, values, n) {\n  const kS = [];\n  // \n  for (let i = 0; i <= n; i++) {\n    kS[i] = [];\n  }\n  for (let i = 0; i <= n; i++) {\n    for (let w = 0; w <= capacity; w++) {\n      if (i === 0 || w === 0) {\n        // {2}\n        kS[i][w] = 0;\n      } else if (weights[i - 1] <= w) {\n        //  i \n        const a = values[i - 1] + kS[i - 1][w - weights[i - 1]];\n        const b = kS[i - 1][w];\n        // \n        kS[i][w] = a > b ? a : b; // {4} max(a,b)\n      } else {\n        kS[i][w] = kS[i - 1][w]; // {5}\n      }\n    }\n  }\n  findValues(n, capacity, kS, weights, values); // {6} \n  return kS[n][capacity]; // {7}\n}\n\nfunction findValues(n, capacity, kS, weights, values) {\n  let i = n;\n  let k = capacity;\n  console.log('');\n  while (i > 0 && k > 0) {\n    if (kS[i][k] !== kS[i - 1][k]) {\n      console.log(\n        ` ${i}  w,v: ${weights[i - 1]}, ${values[i - 1]}`\n      );\n      i--;\n      k -= kS[i][k];\n    } else {\n      i--;\n    }\n  }\n}\n```\n\n![technology-2](technology-2.png)\n\n_(LCS)_\n\n![technology-3](technology-3.png)\n\n```javascript\nfunction lcs(wordX, wordY) {\n  const m = wordX.length;\n  const n = wordY.length;\n  const l = [];\n  for (let i = 0; i <= m; i++) {\n    l[i] = []; // {1}\n    // solution[i] = [];\n    for (let j = 0; j <= n; j++) {\n      l[i][j] = 0; // {2}\n      // solution[i][j] = '0';\n    }\n  }\n  for (let i = 0; i <= m; i++) {\n    for (let j = 0; j <= n; j++) {\n      if (i === 0 || j === 0) {\n        l[i][j] = 0;\n      } else if (wordX[i - 1] === wordY[j - 1]) {\n        l[i][j] = l[i - 1][j - 1] + 1; // {3}\n        // solution[i][j] = 'diagonal';\n      } else {\n        const a = l[i - 1][j];\n        const b = l[i][j - 1];\n        l[i][j] = a > b ? a : b; // {4} max(a,b)\n        // solution[i][j]=(l[i][j] == l[i-1][j]) ? 'top' : 'left';\n      }\n    }\n  }\n  return l[m][n]; // {5}\n  // printSolution(solution, wordX, m, n);\n}\n\nfunction printSolution(solution, wordX, m, n) {\n  let a = m;\n  let b = n;\n  let x = solution[a][b];\n  let answer = '';\n  while (x !== '0') {\n    if (solution[a][b] === 'diagonal') {\n      answer = wordX[a - 1] + answer;\n      a--;\n      b--;\n    } else if (solution[a][b] === 'left') {\n      b--;\n    } else if (solution[a][b] === 'top') {\n      a--;\n    }\n    x = solution[a][b];\n  }\n  console.log('lcs: ' + answer);\n}\n```\n\n![technology-4](technology-4.png)\n\n__\n\n\nA*B*C\\*D \n\nA  10  100 \nB  100  5 \nC  5  50 \nD  50  1 \nA*B*C\\*D  10  1 \n\n(1) (A(B(CD))) 1750 \n(2) ((AB)(CD)) 5300 \n(3) (((AB)C)D) 8000 \n(4) ((A(BC))D) 75 500 \n(5) (A((BC)D)) 31 000 \n\n```javascript\nfunction matrixChainOrder(p) {\n  const n = p.length;\n  const m = [];\n  const s = [];\n  for (let i = 1; i <= n; i++) {\n    m[i] = [];\n    m[i][i] = 0;\n  }\n\n  //   const s = [];\n  // for (let i = 0; i <= n; i++){\n  //  s[i] = [];\n  //  for (let j=0; j <= n; j++){\n  //  s[i][j] = 0;\n  //  }\n  // }\n\n  for (let l = 2; l < n; l++) {\n    for (let i = 1; i <= n - l + 1; i++) {\n      const j = i + l - 1;\n      m[i][j] = Number.MAX_SAFE_INTEGER;\n      for (let k = i; k <= j - 1; k++) {\n        const q = m[i][k] + m[k + 1][j] + p[i - 1] * p[k] * p[j]; // {1}\n        if (q < m[i][j]) {\n          m[i][j] = q; // {2}\n          // s[i][j] = k;\n        }\n      }\n    }\n  }\n  return m[1][n - 1]; // {3}\n  // printOptimalParenthesis(s, 1, n-1);\n}\n\nfunction printOptimalParenthesis(s, i, j) {\n  if (i === j) {\n    console.log('A[' + i + ']');\n  } else {\n    console.log('(');\n    printOptimalParenthesis(s, i, s[i][j]);\n    printOptimalParenthesis(s, s[i][j] + 1, j);\n    console.log(')');\n  }\n}\n// (A[1](A[2](A[3]A[4]))) => (A(B(CD)))\n```\n\n###### \n\n\n\n****\n\n```javascript\nfunction minCoinChange(coins, amount) {\n  const change = [];\n  let total = 0;\n  for (let i = coins.length; i >= 0; i--) {\n    // {1}\n    const coin = coins[i];\n    while (total + coin <= amount) {\n      // {2}\n      change.push(coin); // {3}\n      total += coin; // {4}\n    }\n  }\n  return change;\n}\n```\n\n![technology-5](technology-5.png)\n\n__\n\n****\n\n```javascript\nfunction knapSack(capacity, weights, values) {\n  const n = values.length;\n  let load = 0;\n  let val = 0;\n  for (let i = 0; i < n && load < capacity; i++) {\n    // {1}\n    if (weights[i] <= capacity - load) {\n      // {2}\n      val += values[i];\n      load += weights[i];\n    } else {\n      const r = (capacity - load) / weights[i]; // {3}\n      val += r * values[i];\n      load += weights[i];\n    }\n  }\n  return val;\n}\n```\n\n###### \n\n\n\n****\n\n```javascript\nexport function ratInAMaze(maze) {\n  const solution = [];\n  // \n  for (let i = 0; i < maze.length; i++) {\n    // {1}\n    solution[i] = [];\n    for (let j = 0; j < maze[i].length; j++) {\n      solution[i][j] = 0;\n    }\n  }\n  if (findPath(maze, 0, 0, solution) === true) {\n    // {2}\n    return solution;\n  }\n  return 'NO PATH FOUND'; // {3}\n}\n\nfunction findPath(maze, x, y, solution) {\n  const n = maze.length;\n  if (x === n - 1 && y === n - 1) {\n    // {4}\n    solution[x][y] = 1;\n    return true;\n  }\n  if (isSafe(maze, x, y) === true) {\n    // {5}\n    solution[x][y] = 1; // {6}\n    if (findPath(maze, x + 1, y, solution)) {\n      // {7}\n      return true;\n    }\n    if (findPath(maze, x, y + 1, solution)) {\n      // {8}\n      return true;\n    }\n    solution[x][y] = 0; // {9}\n    return false;\n  }\n  return false; // {10}\n}\n\nfunction isSafe(maze, x, y) {\n  const n = maze.length;\n  if (x >= 0 && y >= 0 && x < n && y < n && maze[x][y] !== 0) {\n    return true; // {11}\n  }\n  return false;\n}\n\nconst maze = [\n  [1, 0, 0, 0],\n  [1, 1, 1, 1],\n  [0, 0, 1, 0],\n  [0, 1, 1, 1],\n];\nconsole.log(ratInAMaze(maze));\n[\n  [1, 0, 0, 0],\n  [1, 1, 1, 0],\n  [0, 0, 1, 0],\n  [0, 0, 1, 1],\n];\n```\n\n****\n\n```javascript\nfunction sudokuSolver(matrix) {\n  if (solveSudoku(matrix) === true) {\n    return matrix;\n  }\n  return '';\n}\n\nconst UNASSIGNED = 0;\nfunction solveSudoku(matrix) {\n  let row = 0;\n  let col = 0;\n  let checkBlankSpaces = false;\n  for (row = 0; row < matrix.length; row++) {\n    // {1}\n    for (col = 0; col < matrix[row].length; col++) {\n      if (matrix[row][col] === UNASSIGNED) {\n        checkBlankSpaces = true; // {2}\n        break;\n      }\n    }\n    if (checkBlankSpaces === true) {\n      // {3}\n      break;\n    }\n  }\n  if (checkBlankSpaces === false) {\n    return true; // {4}\n  }\n  for (let num = 1; num <= 9; num++) {\n    // {5}\n    if (isSafe(matrix, row, col, num)) {\n      // {6}\n      matrix[row][col] = num; // {7}\n      if (solveSudoku(matrix)) {\n        // {8}\n        return true;\n      }\n      matrix[row][col] = UNASSIGNED; // {9}\n    }\n  }\n  return false; // {10}\n}\nfunction isSafe(matrix, row, col, num) {\n  return (\n    !usedInRow(matrix, row, num) &&\n    !usedInCol(matrix, col, num) &&\n    !usedInBox(matrix, row - (row % 3), col - (col % 3), num)\n  );\n}\n\nfunction usedInRow(matrix, row, num) {\n  for (let col = 0; col < matrix.length; col++) {\n    // {11}\n    if (matrix[row][col] === num) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction usedInCol(matrix, col, num) {\n  for (let row = 0; row < matrix.length; row++) {\n    // {12}\n    if (matrix[row][col] === num) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction usedInBox(matrix, boxStartRow, boxStartCol, num) {\n  for (let row = 0; row < 3; row++) {\n    for (let col = 0; col < 3; col++) {\n      if (matrix[row + boxStartRow][col + boxStartCol] === num) {\n        // {13}\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nconst sudokuGrid = [\n  [5, 3, 0, 0, 7, 0, 0, 0, 0],\n  [6, 0, 0, 1, 9, 5, 0, 0, 0],\n  [0, 9, 8, 0, 0, 0, 0, 6, 0],\n  [8, 0, 0, 0, 6, 0, 0, 0, 3],\n  [4, 0, 0, 8, 0, 3, 0, 0, 1],\n  [7, 0, 0, 0, 2, 0, 0, 0, 6],\n  [0, 6, 0, 0, 0, 0, 2, 8, 0],\n  [0, 0, 0, 4, 1, 9, 0, 0, 5],\n  [0, 0, 0, 0, 8, 0, 0, 7, 9],\n];\nconsole.log(sudokuSolver(sudokuGrid));\n[\n  [5, 3, 4, 6, 7, 8, 9, 1, 2],\n  [6, 7, 2, 1, 9, 5, 3, 4, 8],\n  [1, 9, 8, 3, 4, 2, 5, 6, 7],\n  [8, 5, 9, 7, 6, 1, 4, 2, 3],\n  [4, 2, 6, 8, 5, 3, 7, 9, 1],\n  [7, 1, 3, 9, 2, 4, 8, 5, 6],\n  [9, 6, 1, 5, 3, 7, 2, 8, 4],\n  [2, 8, 7, 4, 1, 9, 6, 3, 5],\n  [3, 4, 5, 2, 8, 6, 1, 7, 9],\n];\n```\n\n###### (FP)\n\n****\n\n```javascript\n// \nconst printArray = function (array) {\n  for (var i = 0; i < array.length; i++) {\n    console.log(array[i]);\n  }\n};\nprintArray([1, 2, 3, 4, 5]);\n\n// \nconst forEach = function (array, action) {\n  for (var i = 0; i < array.length; i++) {\n    action(array[i]);\n  }\n};\nconst logItem = function (item) {\n  console.log(item);\n};\nforEach([1, 2, 3, 4, 5], logItem);\n```\n\n__\n(1)\n(2)\n(3)\n(4)\n(5)\n\n**JavaScript **\nUnderscode.jshttp://underscorejs.org/\nBilby.jshttp://bilby.brianmckenna.org/\nLazy.jshttp://danieltao.com/lazy.js/\nBacon.jshttps://baconjs.github.io/\nFn.jshttp://eliperelman.com/fn.js/\nFunctional.jshttp://functionaljs.com/\nRamda.jshttp://ramdajs.com/0.20.1/index.html\nMorihttp://swannodette.github.io/mori/\n\nJavaScript https://www.packtpub.com/web-development/functional-programming-javascript\n\n#### \n\n######  O \n\n\n O /\n\n|          |          |\n| ------------ | ------------ |\n| O(1)         |        |\n| O(log(n))    |        |\n| O((log(n))c) |  |\n| O(n)         |        |\n| O(n^2)       |        |\n| O(n^c)       |      |\n| O(c^n)       |        |\n\n** O **\n\n CPU O  CPU\n\n1. O(1)\n\n```javascript\nfunction increment(num) {\n  return ++num;\n}\n```\n\n increment(1) X 2 increment  Xincrement  O(1)\n\n2. O(n)\n\n 10 10 1000 1000 sequentialSearch  O(n)n \n\n\n\n```javascript\nfunction sequentialSearch(array, value, equalsFn = defaultEquals) {\n  for (let i = 0; i < array.length; i++) {\n    if (equalsFn(value, array[i])) {\n      // {1}\n      return i;\n    }\n  }\n  return -1;\n}\n\nfunction sequentialSearch(array, value, equalsFn = defaultEquals) {\n  let cost = 0;\n  for (let i = 0; i < array.length; i++) {\n    cost++;\n    if (equalsFn(value, array[i])) {\n      return i;\n    }\n  }\n  console.log(\n    `cost for sequentialSearch with input size ${array.length} is ${cost}`\n  );\n  return -1;\n}\n```\n\n3. O(n^2)\n\n\n\n```javascript\nfunction bubbleSort(array, compareFn = defaultCompare) {\n  const { length } = array;\n  for (let i = 0; i < length; i++) {\n    // {1}\n    for (let j = 0; j < length - 1; j++) {\n      // {2}\n      if (compareFn(array[j], array[j + 1]) === Compare.BIGGER_THAN) {\n        swap(array, j, j + 1);\n      }\n    }\n  }\n  return array;\n}\n\n// {1}{2} 1\nfunction bubbleSort(array, compareFn = defaultCompare) {\n  const { length } = array;\n  let cost = 0;\n  for (let i = 0; i < length; i++) {\n    // {1}\n    cost++;\n    for (let j = 0; j < length - 1; j++) {\n      // {2}\n      cost++;\n      if (compareFn(array[j], array[j + 1]) === Compare.BIGGER_THAN) {\n        swap(array, j, j + 1);\n      }\n    }\n  }\n  console.log(`cost for bubbleSort with input size ${length} is ${cost}`);\n  return array;\n}\n```\n\n 10  bubbleSort 10010^2 100 bubbleSort 10 000100^2\n\n* O(n) O(n^2) O(n^3)*\n\n****\n\n| n | O(1) | O(log(n)) | O(n)   | O(nlog(n)) | O(n^2)      | O(2^n)    |\n| ------------- | ---- | --------- | ------ | ---------- | ----------- | --------- |\n| 10            | 1    | 1         | 10     | 10         | 100         | 1024      |\n| 20            | 1    | 1.30      | 20     | 26.02      | 400         | 1 048 576 |\n| 50            | 1    | 1.69      | 50     | 84.94      | 2500        |     |\n| 100           | 1    | 2         | 100    | 200        | 10 000      |     |\n| 500           | 1    | 2.69      | 500    | 1349.48    | 250 000     |     |\n| 1000          | 1    | 3         | 1000   | 3000       | 1 000 000   |     |\n| 10 000        | 1    | 4         | 10 000 | 40 000     | 100 000 000 |     |\n\n O \n\n![big-o-1](big-o-1.png)\n\n**\n![big-o-2](big-o-2.png)\n\n**\n![big-o-3](big-o-3.png)\n\n**\n![big-o-4](big-o-4.png)\n\n**\n![big-o-5](big-o-5.png)\n\n**NP **\n O(n^k) k .\n\n Ppolynomial\n\nNPnondeterministic polynomial NP\n\n P NPP = NP \n\nNP  NP  L  NP \n(1) L  NP \n(2)  NP  L\n\n L M A L B y M L M B A\n\n NP  NP NP  NP \n\n P<>NP PNPNP  NP \n![big-o-6](big-o-6.png)\n\n NP  NP SAT\n\nNP \n\nhttps://en.wikipedia.org/wiki/NP-completeness\n\n**\n\n\n\n https://en.wikipedia.org/wiki/Heuristic_(computer_science)\n\nUVa Online Judgehttp://uva.onlinejudge.org/\nSphere Online Judgehttp://www.spoj.com/\nCoderbytehttp://coderbyte.com/\nProject Eulerhttps://projecteuler.net/\nHackerRankhttps://www.hackerrank.com\nCodeChefhttp://www.codechef.com/\nTop Coderhttp://www.topcoder.com/\n\n\n#### \n\n- \n- \nFloyd-Warshall \nKruskal \n\n\n\nNP \n- \n\n\n\n\n\nLeetCode\n\nantdvisible\n\ntesting-library/reactreact\numc-ui","source":"_posts/39-data-structure7.md","raw":"---\ntitle: (7)\ndate: 2022-10-13 16:13:40\ntags:\n---\n\n#### \n\n###### \n\n\n\n\n(1) \n(2) \n(3) \n\n****\n mid \n\n\n\n```javascript\nfunction binarySearchRecursive(\n  array,\n  value,\n  low,\n  high,\n  compareFn = defaultCompare\n) {\n  if (low <= high) {\n    const mid = Math.floor((low + high) / 2);\n    const element = array[mid];\n    if (compareFn(element, value) === Compare.LESS_THAN) {\n      // {1}\n      return binarySearchRecursive(array, value, mid + 1, high, compareFn);\n    } else if (compareFn(element, value) === Compare.BIGGER_THAN) {\n      // {2}\n      return binarySearchRecursive(array, value, low, mid - 1, compareFn);\n    } else {\n      return mid; // {3}\n    }\n  }\n  return DOES_NOT_EXIST; // {4}\n}\nexport function binarySearch(array, value, compareFn = defaultCompare) {\n  const sortedArray = quickSort(array);\n  const low = 0;\n  const high = sortedArray.length - 1;\n  return binarySearchRecursive(array, value, low, high, compareFn);\n}\n```\n\n![technology-1](technology-1.png)\n\n****\ndynamic programmingDP\n\n__\n\n\n(1) \n(2) \n(3) \n\n__\n(1)\n(2)\n(3)\n(4) d1, , dn \n(5)(u, v) u  v (Floyd-Warshall )\n\n__\n d1, , dn  d1, , dn \n\n```javascript\n// coins \nfunction minCoinChange(coins, amount) {\n  const cache = []; // {1}\n  const makeChange = (value) => {\n    // {2}\n    if (!value) {\n      // {3}\n      return [];\n    }\n    if (cache[value]) {\n      // {4}\n      return cache[value];\n    }\n    let min = [];\n    let newMin;\n    let newAmount;\n    for (let i = 0; i < coins.length; i++) {\n      // {5}\n      const coin = coins[i];\n      newAmount = value - coin; // {6}\n      if (newAmount >= 0) {\n        newMin = makeChange(newAmount); // {7}\n      }\n      if (\n        newAmount >= 0 && // {8}\n        (newMin.length < min.length - 1 || !min.length) && // {9}\n        (newMin.length || !newAmount) // {10}\n      ) {\n        min = [coin].concat(newMin); // {11}\n        console.log('new Min ' + min + ' for ' + amount);\n      }\n    }\n    return (cache[value] = min); // {12}\n  };\n  return makeChange(amount); // {13}\n}\n```\n\n__\n W  W\n\n```javascript\nfunction knapSack(capacity, weights, values, n) {\n  const kS = [];\n  // \n  for (let i = 0; i <= n; i++) {\n    kS[i] = [];\n  }\n  for (let i = 0; i <= n; i++) {\n    for (let w = 0; w <= capacity; w++) {\n      if (i === 0 || w === 0) {\n        // {2}\n        kS[i][w] = 0;\n      } else if (weights[i - 1] <= w) {\n        //  i \n        const a = values[i - 1] + kS[i - 1][w - weights[i - 1]];\n        const b = kS[i - 1][w];\n        // \n        kS[i][w] = a > b ? a : b; // {4} max(a,b)\n      } else {\n        kS[i][w] = kS[i - 1][w]; // {5}\n      }\n    }\n  }\n  findValues(n, capacity, kS, weights, values); // {6} \n  return kS[n][capacity]; // {7}\n}\n\nfunction findValues(n, capacity, kS, weights, values) {\n  let i = n;\n  let k = capacity;\n  console.log('');\n  while (i > 0 && k > 0) {\n    if (kS[i][k] !== kS[i - 1][k]) {\n      console.log(\n        ` ${i}  w,v: ${weights[i - 1]}, ${values[i - 1]}`\n      );\n      i--;\n      k -= kS[i][k];\n    } else {\n      i--;\n    }\n  }\n}\n```\n\n![technology-2](technology-2.png)\n\n_(LCS)_\n\n![technology-3](technology-3.png)\n\n```javascript\nfunction lcs(wordX, wordY) {\n  const m = wordX.length;\n  const n = wordY.length;\n  const l = [];\n  for (let i = 0; i <= m; i++) {\n    l[i] = []; // {1}\n    // solution[i] = [];\n    for (let j = 0; j <= n; j++) {\n      l[i][j] = 0; // {2}\n      // solution[i][j] = '0';\n    }\n  }\n  for (let i = 0; i <= m; i++) {\n    for (let j = 0; j <= n; j++) {\n      if (i === 0 || j === 0) {\n        l[i][j] = 0;\n      } else if (wordX[i - 1] === wordY[j - 1]) {\n        l[i][j] = l[i - 1][j - 1] + 1; // {3}\n        // solution[i][j] = 'diagonal';\n      } else {\n        const a = l[i - 1][j];\n        const b = l[i][j - 1];\n        l[i][j] = a > b ? a : b; // {4} max(a,b)\n        // solution[i][j]=(l[i][j] == l[i-1][j]) ? 'top' : 'left';\n      }\n    }\n  }\n  return l[m][n]; // {5}\n  // printSolution(solution, wordX, m, n);\n}\n\nfunction printSolution(solution, wordX, m, n) {\n  let a = m;\n  let b = n;\n  let x = solution[a][b];\n  let answer = '';\n  while (x !== '0') {\n    if (solution[a][b] === 'diagonal') {\n      answer = wordX[a - 1] + answer;\n      a--;\n      b--;\n    } else if (solution[a][b] === 'left') {\n      b--;\n    } else if (solution[a][b] === 'top') {\n      a--;\n    }\n    x = solution[a][b];\n  }\n  console.log('lcs: ' + answer);\n}\n```\n\n![technology-4](technology-4.png)\n\n__\n\n\nA*B*C\\*D \n\nA  10  100 \nB  100  5 \nC  5  50 \nD  50  1 \nA*B*C\\*D  10  1 \n\n(1) (A(B(CD))) 1750 \n(2) ((AB)(CD)) 5300 \n(3) (((AB)C)D) 8000 \n(4) ((A(BC))D) 75 500 \n(5) (A((BC)D)) 31 000 \n\n```javascript\nfunction matrixChainOrder(p) {\n  const n = p.length;\n  const m = [];\n  const s = [];\n  for (let i = 1; i <= n; i++) {\n    m[i] = [];\n    m[i][i] = 0;\n  }\n\n  //   const s = [];\n  // for (let i = 0; i <= n; i++){\n  //  s[i] = [];\n  //  for (let j=0; j <= n; j++){\n  //  s[i][j] = 0;\n  //  }\n  // }\n\n  for (let l = 2; l < n; l++) {\n    for (let i = 1; i <= n - l + 1; i++) {\n      const j = i + l - 1;\n      m[i][j] = Number.MAX_SAFE_INTEGER;\n      for (let k = i; k <= j - 1; k++) {\n        const q = m[i][k] + m[k + 1][j] + p[i - 1] * p[k] * p[j]; // {1}\n        if (q < m[i][j]) {\n          m[i][j] = q; // {2}\n          // s[i][j] = k;\n        }\n      }\n    }\n  }\n  return m[1][n - 1]; // {3}\n  // printOptimalParenthesis(s, 1, n-1);\n}\n\nfunction printOptimalParenthesis(s, i, j) {\n  if (i === j) {\n    console.log('A[' + i + ']');\n  } else {\n    console.log('(');\n    printOptimalParenthesis(s, i, s[i][j]);\n    printOptimalParenthesis(s, s[i][j] + 1, j);\n    console.log(')');\n  }\n}\n// (A[1](A[2](A[3]A[4]))) => (A(B(CD)))\n```\n\n###### \n\n\n\n****\n\n```javascript\nfunction minCoinChange(coins, amount) {\n  const change = [];\n  let total = 0;\n  for (let i = coins.length; i >= 0; i--) {\n    // {1}\n    const coin = coins[i];\n    while (total + coin <= amount) {\n      // {2}\n      change.push(coin); // {3}\n      total += coin; // {4}\n    }\n  }\n  return change;\n}\n```\n\n![technology-5](technology-5.png)\n\n__\n\n****\n\n```javascript\nfunction knapSack(capacity, weights, values) {\n  const n = values.length;\n  let load = 0;\n  let val = 0;\n  for (let i = 0; i < n && load < capacity; i++) {\n    // {1}\n    if (weights[i] <= capacity - load) {\n      // {2}\n      val += values[i];\n      load += weights[i];\n    } else {\n      const r = (capacity - load) / weights[i]; // {3}\n      val += r * values[i];\n      load += weights[i];\n    }\n  }\n  return val;\n}\n```\n\n###### \n\n\n\n****\n\n```javascript\nexport function ratInAMaze(maze) {\n  const solution = [];\n  // \n  for (let i = 0; i < maze.length; i++) {\n    // {1}\n    solution[i] = [];\n    for (let j = 0; j < maze[i].length; j++) {\n      solution[i][j] = 0;\n    }\n  }\n  if (findPath(maze, 0, 0, solution) === true) {\n    // {2}\n    return solution;\n  }\n  return 'NO PATH FOUND'; // {3}\n}\n\nfunction findPath(maze, x, y, solution) {\n  const n = maze.length;\n  if (x === n - 1 && y === n - 1) {\n    // {4}\n    solution[x][y] = 1;\n    return true;\n  }\n  if (isSafe(maze, x, y) === true) {\n    // {5}\n    solution[x][y] = 1; // {6}\n    if (findPath(maze, x + 1, y, solution)) {\n      // {7}\n      return true;\n    }\n    if (findPath(maze, x, y + 1, solution)) {\n      // {8}\n      return true;\n    }\n    solution[x][y] = 0; // {9}\n    return false;\n  }\n  return false; // {10}\n}\n\nfunction isSafe(maze, x, y) {\n  const n = maze.length;\n  if (x >= 0 && y >= 0 && x < n && y < n && maze[x][y] !== 0) {\n    return true; // {11}\n  }\n  return false;\n}\n\nconst maze = [\n  [1, 0, 0, 0],\n  [1, 1, 1, 1],\n  [0, 0, 1, 0],\n  [0, 1, 1, 1],\n];\nconsole.log(ratInAMaze(maze));\n[\n  [1, 0, 0, 0],\n  [1, 1, 1, 0],\n  [0, 0, 1, 0],\n  [0, 0, 1, 1],\n];\n```\n\n****\n\n```javascript\nfunction sudokuSolver(matrix) {\n  if (solveSudoku(matrix) === true) {\n    return matrix;\n  }\n  return '';\n}\n\nconst UNASSIGNED = 0;\nfunction solveSudoku(matrix) {\n  let row = 0;\n  let col = 0;\n  let checkBlankSpaces = false;\n  for (row = 0; row < matrix.length; row++) {\n    // {1}\n    for (col = 0; col < matrix[row].length; col++) {\n      if (matrix[row][col] === UNASSIGNED) {\n        checkBlankSpaces = true; // {2}\n        break;\n      }\n    }\n    if (checkBlankSpaces === true) {\n      // {3}\n      break;\n    }\n  }\n  if (checkBlankSpaces === false) {\n    return true; // {4}\n  }\n  for (let num = 1; num <= 9; num++) {\n    // {5}\n    if (isSafe(matrix, row, col, num)) {\n      // {6}\n      matrix[row][col] = num; // {7}\n      if (solveSudoku(matrix)) {\n        // {8}\n        return true;\n      }\n      matrix[row][col] = UNASSIGNED; // {9}\n    }\n  }\n  return false; // {10}\n}\nfunction isSafe(matrix, row, col, num) {\n  return (\n    !usedInRow(matrix, row, num) &&\n    !usedInCol(matrix, col, num) &&\n    !usedInBox(matrix, row - (row % 3), col - (col % 3), num)\n  );\n}\n\nfunction usedInRow(matrix, row, num) {\n  for (let col = 0; col < matrix.length; col++) {\n    // {11}\n    if (matrix[row][col] === num) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction usedInCol(matrix, col, num) {\n  for (let row = 0; row < matrix.length; row++) {\n    // {12}\n    if (matrix[row][col] === num) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction usedInBox(matrix, boxStartRow, boxStartCol, num) {\n  for (let row = 0; row < 3; row++) {\n    for (let col = 0; col < 3; col++) {\n      if (matrix[row + boxStartRow][col + boxStartCol] === num) {\n        // {13}\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nconst sudokuGrid = [\n  [5, 3, 0, 0, 7, 0, 0, 0, 0],\n  [6, 0, 0, 1, 9, 5, 0, 0, 0],\n  [0, 9, 8, 0, 0, 0, 0, 6, 0],\n  [8, 0, 0, 0, 6, 0, 0, 0, 3],\n  [4, 0, 0, 8, 0, 3, 0, 0, 1],\n  [7, 0, 0, 0, 2, 0, 0, 0, 6],\n  [0, 6, 0, 0, 0, 0, 2, 8, 0],\n  [0, 0, 0, 4, 1, 9, 0, 0, 5],\n  [0, 0, 0, 0, 8, 0, 0, 7, 9],\n];\nconsole.log(sudokuSolver(sudokuGrid));\n[\n  [5, 3, 4, 6, 7, 8, 9, 1, 2],\n  [6, 7, 2, 1, 9, 5, 3, 4, 8],\n  [1, 9, 8, 3, 4, 2, 5, 6, 7],\n  [8, 5, 9, 7, 6, 1, 4, 2, 3],\n  [4, 2, 6, 8, 5, 3, 7, 9, 1],\n  [7, 1, 3, 9, 2, 4, 8, 5, 6],\n  [9, 6, 1, 5, 3, 7, 2, 8, 4],\n  [2, 8, 7, 4, 1, 9, 6, 3, 5],\n  [3, 4, 5, 2, 8, 6, 1, 7, 9],\n];\n```\n\n###### (FP)\n\n****\n\n```javascript\n// \nconst printArray = function (array) {\n  for (var i = 0; i < array.length; i++) {\n    console.log(array[i]);\n  }\n};\nprintArray([1, 2, 3, 4, 5]);\n\n// \nconst forEach = function (array, action) {\n  for (var i = 0; i < array.length; i++) {\n    action(array[i]);\n  }\n};\nconst logItem = function (item) {\n  console.log(item);\n};\nforEach([1, 2, 3, 4, 5], logItem);\n```\n\n__\n(1)\n(2)\n(3)\n(4)\n(5)\n\n**JavaScript **\nUnderscode.jshttp://underscorejs.org/\nBilby.jshttp://bilby.brianmckenna.org/\nLazy.jshttp://danieltao.com/lazy.js/\nBacon.jshttps://baconjs.github.io/\nFn.jshttp://eliperelman.com/fn.js/\nFunctional.jshttp://functionaljs.com/\nRamda.jshttp://ramdajs.com/0.20.1/index.html\nMorihttp://swannodette.github.io/mori/\n\nJavaScript https://www.packtpub.com/web-development/functional-programming-javascript\n\n#### \n\n######  O \n\n\n O /\n\n|          |          |\n| ------------ | ------------ |\n| O(1)         |        |\n| O(log(n))    |        |\n| O((log(n))c) |  |\n| O(n)         |        |\n| O(n^2)       |        |\n| O(n^c)       |      |\n| O(c^n)       |        |\n\n** O **\n\n CPU O  CPU\n\n1. O(1)\n\n```javascript\nfunction increment(num) {\n  return ++num;\n}\n```\n\n increment(1) X 2 increment  Xincrement  O(1)\n\n2. O(n)\n\n 10 10 1000 1000 sequentialSearch  O(n)n \n\n\n\n```javascript\nfunction sequentialSearch(array, value, equalsFn = defaultEquals) {\n  for (let i = 0; i < array.length; i++) {\n    if (equalsFn(value, array[i])) {\n      // {1}\n      return i;\n    }\n  }\n  return -1;\n}\n\nfunction sequentialSearch(array, value, equalsFn = defaultEquals) {\n  let cost = 0;\n  for (let i = 0; i < array.length; i++) {\n    cost++;\n    if (equalsFn(value, array[i])) {\n      return i;\n    }\n  }\n  console.log(\n    `cost for sequentialSearch with input size ${array.length} is ${cost}`\n  );\n  return -1;\n}\n```\n\n3. O(n^2)\n\n\n\n```javascript\nfunction bubbleSort(array, compareFn = defaultCompare) {\n  const { length } = array;\n  for (let i = 0; i < length; i++) {\n    // {1}\n    for (let j = 0; j < length - 1; j++) {\n      // {2}\n      if (compareFn(array[j], array[j + 1]) === Compare.BIGGER_THAN) {\n        swap(array, j, j + 1);\n      }\n    }\n  }\n  return array;\n}\n\n// {1}{2} 1\nfunction bubbleSort(array, compareFn = defaultCompare) {\n  const { length } = array;\n  let cost = 0;\n  for (let i = 0; i < length; i++) {\n    // {1}\n    cost++;\n    for (let j = 0; j < length - 1; j++) {\n      // {2}\n      cost++;\n      if (compareFn(array[j], array[j + 1]) === Compare.BIGGER_THAN) {\n        swap(array, j, j + 1);\n      }\n    }\n  }\n  console.log(`cost for bubbleSort with input size ${length} is ${cost}`);\n  return array;\n}\n```\n\n 10  bubbleSort 10010^2 100 bubbleSort 10 000100^2\n\n* O(n) O(n^2) O(n^3)*\n\n****\n\n| n | O(1) | O(log(n)) | O(n)   | O(nlog(n)) | O(n^2)      | O(2^n)    |\n| ------------- | ---- | --------- | ------ | ---------- | ----------- | --------- |\n| 10            | 1    | 1         | 10     | 10         | 100         | 1024      |\n| 20            | 1    | 1.30      | 20     | 26.02      | 400         | 1 048 576 |\n| 50            | 1    | 1.69      | 50     | 84.94      | 2500        |     |\n| 100           | 1    | 2         | 100    | 200        | 10 000      |     |\n| 500           | 1    | 2.69      | 500    | 1349.48    | 250 000     |     |\n| 1000          | 1    | 3         | 1000   | 3000       | 1 000 000   |     |\n| 10 000        | 1    | 4         | 10 000 | 40 000     | 100 000 000 |     |\n\n O \n\n![big-o-1](big-o-1.png)\n\n**\n![big-o-2](big-o-2.png)\n\n**\n![big-o-3](big-o-3.png)\n\n**\n![big-o-4](big-o-4.png)\n\n**\n![big-o-5](big-o-5.png)\n\n**NP **\n O(n^k) k .\n\n Ppolynomial\n\nNPnondeterministic polynomial NP\n\n P NPP = NP \n\nNP  NP  L  NP \n(1) L  NP \n(2)  NP  L\n\n L M A L B y M L M B A\n\n NP  NP NP  NP \n\n P<>NP PNPNP  NP \n![big-o-6](big-o-6.png)\n\n NP  NP SAT\n\nNP \n\nhttps://en.wikipedia.org/wiki/NP-completeness\n\n**\n\n\n\n https://en.wikipedia.org/wiki/Heuristic_(computer_science)\n\nUVa Online Judgehttp://uva.onlinejudge.org/\nSphere Online Judgehttp://www.spoj.com/\nCoderbytehttp://coderbyte.com/\nProject Eulerhttps://projecteuler.net/\nHackerRankhttps://www.hackerrank.com\nCodeChefhttp://www.codechef.com/\nTop Coderhttp://www.topcoder.com/\n\n\n#### \n\n- \n- \nFloyd-Warshall \nKruskal \n\n\n\nNP \n- \n\n\n\n\n\nLeetCode\n\nantdvisible\n\ntesting-library/reactreact\numc-ui","slug":"39-data-structure7","published":1,"updated":"2022-11-23T00:33:39.698Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baja0019nwva4h9jhzmg","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p><br>(1) <br>(2) <br>(3) </p>\n<p><strong></strong><br> mid <br><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">binarySearchRecursive</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  array,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  value,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  low,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  high,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  compareFn = defaultCompare</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (low &lt;= high) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> mid = <span class=\"built_in\">Math</span>.floor((low + high) / <span class=\"number\">2</span>);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> element = array[mid];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (compareFn(element, value) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> binarySearchRecursive(array, value, mid + <span class=\"number\">1</span>, high, compareFn);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (compareFn(element, value) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> binarySearchRecursive(array, value, low, mid - <span class=\"number\">1</span>, compareFn);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> mid; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> DOES_NOT_EXIST; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">binarySearch</span>(<span class=\"params\">array, value, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> sortedArray = quickSort(array);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> low = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> high = sortedArray.length - <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> binarySearchRecursive(array, value, low, high, compareFn);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/39-data-structure7/technology-1.png\" alt=\"technology-1\"></p>\n<p><strong></strong><br>dynamic programmingDP</p>\n<p><em></em></p>\n<p><br>(1) <br>(2) <br>(3) </p>\n<p><em></em><br>(1)<br>(2)<br>(3)<br>(4) d1, , dn <br>(5)(u, v) u  v (Floyd-Warshall )</p>\n<p><em></em><br> d1, , dn  d1, , dn </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// coins </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">minCoinChange</span>(<span class=\"params\">coins, amount</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> cache = []; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> makeChange = <span class=\"function\">(<span class=\"params\">value</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!value) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> [];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (cache[value]) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> cache[value];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> min = [];</span><br><span class=\"line\">    <span class=\"keyword\">let</span> newMin;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> newAmount;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; coins.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> coin = coins[i];</span><br><span class=\"line\">      newAmount = value - coin; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (newAmount &gt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        newMin = makeChange(newAmount); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (</span><br><span class=\"line\">        newAmount &gt;= <span class=\"number\">0</span> &amp;&amp; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">        (newMin.length &lt; min.length - <span class=\"number\">1</span> || !min.length) &amp;&amp; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">        (newMin.length || !newAmount) <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">      ) &#123;</span><br><span class=\"line\">        min = [coin].concat(newMin); <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;new Min &#x27;</span> + min + <span class=\"string\">&#x27; for &#x27;</span> + amount);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (cache[value] = min); <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> makeChange(amount); <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><em></em><br> W  W</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">knapSack</span>(<span class=\"params\">capacity, weights, values, n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> kS = [];</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">    kS[i] = [];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> w = <span class=\"number\">0</span>; w &lt;= capacity; w++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (i === <span class=\"number\">0</span> || w === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">        kS[i][w] = <span class=\"number\">0</span>;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (weights[i - <span class=\"number\">1</span>] &lt;= w) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//  i </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> a = values[i - <span class=\"number\">1</span>] + kS[i - <span class=\"number\">1</span>][w - weights[i - <span class=\"number\">1</span>]];</span><br><span class=\"line\">        <span class=\"keyword\">const</span> b = kS[i - <span class=\"number\">1</span>][w];</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        kS[i][w] = a &gt; b ? a : b; <span class=\"comment\">// &#123;4&#125; max(a,b)</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        kS[i][w] = kS[i - <span class=\"number\">1</span>][w]; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  findValues(n, capacity, kS, weights, values); <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> kS[n][capacity]; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">findValues</span>(<span class=\"params\">n, capacity, kS, weights, values</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> i = n;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> k = capacity;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (i &gt; <span class=\"number\">0</span> &amp;&amp; k &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (kS[i][k] !== kS[i - <span class=\"number\">1</span>][k]) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(</span><br><span class=\"line\">        <span class=\"string\">` <span class=\"subst\">$&#123;i&#125;</span>  w,v: <span class=\"subst\">$&#123;weights[i - <span class=\"number\">1</span>]&#125;</span>, <span class=\"subst\">$&#123;values[i - <span class=\"number\">1</span>]&#125;</span>`</span></span><br><span class=\"line\">      );</span><br><span class=\"line\">      i--;</span><br><span class=\"line\">      k -= kS[i][k];</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      i--;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/39-data-structure7/technology-2.png\" alt=\"technology-2\"></p>\n<p><em>(LCS)</em><br><br><img src=\"/2022/10/13/39-data-structure7/technology-3.png\" alt=\"technology-3\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">lcs</span>(<span class=\"params\">wordX, wordY</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> m = wordX.length;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> n = wordY.length;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> l = [];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt;= m; i++) &#123;</span><br><span class=\"line\">    l[i] = []; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">// solution[i] = [];</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt;= n; j++) &#123;</span><br><span class=\"line\">      l[i][j] = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"comment\">// solution[i][j] = &#x27;0&#x27;;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt;= m; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt;= n; j++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (i === <span class=\"number\">0</span> || j === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        l[i][j] = <span class=\"number\">0</span>;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (wordX[i - <span class=\"number\">1</span>] === wordY[j - <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">        l[i][j] = l[i - <span class=\"number\">1</span>][j - <span class=\"number\">1</span>] + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">        <span class=\"comment\">// solution[i][j] = &#x27;diagonal&#x27;;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> a = l[i - <span class=\"number\">1</span>][j];</span><br><span class=\"line\">        <span class=\"keyword\">const</span> b = l[i][j - <span class=\"number\">1</span>];</span><br><span class=\"line\">        l[i][j] = a &gt; b ? a : b; <span class=\"comment\">// &#123;4&#125; max(a,b)</span></span><br><span class=\"line\">        <span class=\"comment\">// solution[i][j]=(l[i][j] == l[i-1][j]) ? &#x27;top&#x27; : &#x27;left&#x27;;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> l[m][n]; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// printSolution(solution, wordX, m, n);</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">printSolution</span>(<span class=\"params\">solution, wordX, m, n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> a = m;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> b = n;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> x = solution[a][b];</span><br><span class=\"line\">  <span class=\"keyword\">let</span> answer = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (x !== <span class=\"string\">&#x27;0&#x27;</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (solution[a][b] === <span class=\"string\">&#x27;diagonal&#x27;</span>) &#123;</span><br><span class=\"line\">      answer = wordX[a - <span class=\"number\">1</span>] + answer;</span><br><span class=\"line\">      a--;</span><br><span class=\"line\">      b--;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (solution[a][b] === <span class=\"string\">&#x27;left&#x27;</span>) &#123;</span><br><span class=\"line\">      b--;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (solution[a][b] === <span class=\"string\">&#x27;top&#x27;</span>) &#123;</span><br><span class=\"line\">      a--;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    x = solution[a][b];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;lcs: &#x27;</span> + answer);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/39-data-structure7/technology-4.png\" alt=\"technology-4\"></p>\n<p><em></em><br></p>\n<p>A<em>B</em>C*D </p>\n<p>A  10  100 <br>B  100  5 <br>C  5  50 <br>D  50  1 <br>A<em>B</em>C*D  10  1 </p>\n<p>(1) (A(B(CD))) 1750 <br>(2) ((AB)(CD)) 5300 <br>(3) (((AB)C)D) 8000 <br>(4) ((A(BC))D) 75 500 <br>(5) (A((BC)D)) 31 000 </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">matrixChainOrder</span>(<span class=\"params\">p</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> n = p.length;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> m = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> s = [];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">    m[i] = [];</span><br><span class=\"line\">    m[i][i] = <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">//   const s = [];</span></span><br><span class=\"line\">  <span class=\"comment\">// for (let i = 0; i &lt;= n; i++)&#123;</span></span><br><span class=\"line\">  <span class=\"comment\">//  s[i] = [];</span></span><br><span class=\"line\">  <span class=\"comment\">//  for (let j=0; j &lt;= n; j++)&#123;</span></span><br><span class=\"line\">  <span class=\"comment\">//  s[i][j] = 0;</span></span><br><span class=\"line\">  <span class=\"comment\">//  &#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> l = <span class=\"number\">2</span>; l &lt; n; l++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt;= n - l + <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> j = i + l - <span class=\"number\">1</span>;</span><br><span class=\"line\">      m[i][j] = <span class=\"built_in\">Number</span>.MAX_SAFE_INTEGER;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> k = i; k &lt;= j - <span class=\"number\">1</span>; k++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> q = m[i][k] + m[k + <span class=\"number\">1</span>][j] + p[i - <span class=\"number\">1</span>] * p[k] * p[j]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (q &lt; m[i][j]) &#123;</span><br><span class=\"line\">          m[i][j] = q; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">          <span class=\"comment\">// s[i][j] = k;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> m[<span class=\"number\">1</span>][n - <span class=\"number\">1</span>]; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// printOptimalParenthesis(s, 1, n-1);</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">printOptimalParenthesis</span>(<span class=\"params\">s, i, j</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (i === j) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;A[&#x27;</span> + i + <span class=\"string\">&#x27;]&#x27;</span>);</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;(&#x27;</span>);</span><br><span class=\"line\">    printOptimalParenthesis(s, i, s[i][j]);</span><br><span class=\"line\">    printOptimalParenthesis(s, s[i][j] + <span class=\"number\">1</span>, j);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;)&#x27;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// (A[1](A[2](A[3]A[4]))) =&gt; (A(B(CD)))</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">minCoinChange</span>(<span class=\"params\">coins, amount</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> change = [];</span><br><span class=\"line\">  <span class=\"keyword\">let</span> total = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = coins.length; i &gt;= <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> coin = coins[i];</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (total + coin &lt;= amount) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      change.push(coin); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      total += coin; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> change;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/39-data-structure7/technology-5.png\" alt=\"technology-5\"></p>\n<p><em></em></p>\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">knapSack</span>(<span class=\"params\">capacity, weights, values</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> n = values.length;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> load = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> val = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; n &amp;&amp; load &lt; capacity; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (weights[i] &lt;= capacity - load) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      val += values[i];</span><br><span class=\"line\">      load += weights[i];</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> r = (capacity - load) / weights[i]; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      val += r * values[i];</span><br><span class=\"line\">      load += weights[i];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> val;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">ratInAMaze</span>(<span class=\"params\">maze</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> solution = [];</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; maze.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    solution[i] = [];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; maze[i].length; j++) &#123;</span><br><span class=\"line\">      solution[i][j] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (findPath(maze, <span class=\"number\">0</span>, <span class=\"number\">0</span>, solution) === <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> solution;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"string\">&#x27;NO PATH FOUND&#x27;</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">findPath</span>(<span class=\"params\">maze, x, y, solution</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> n = maze.length;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (x === n - <span class=\"number\">1</span> &amp;&amp; y === n - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    solution[x][y] = <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (isSafe(maze, x, y) === <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    solution[x][y] = <span class=\"number\">1</span>; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (findPath(maze, x + <span class=\"number\">1</span>, y, solution)) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (findPath(maze, x, y + <span class=\"number\">1</span>, solution)) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    solution[x][y] = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">isSafe</span>(<span class=\"params\">maze, x, y</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> n = maze.length;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (x &gt;= <span class=\"number\">0</span> &amp;&amp; y &gt;= <span class=\"number\">0</span> &amp;&amp; x &lt; n &amp;&amp; y &lt; n &amp;&amp; maze[x][y] !== <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> maze = [</span><br><span class=\"line\">  [<span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>],</span><br><span class=\"line\">];</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(ratInAMaze(maze));</span><br><span class=\"line\">[</span><br><span class=\"line\">  [<span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>],</span><br><span class=\"line\">];</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sudokuSolver</span>(<span class=\"params\">matrix</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (solveSudoku(matrix) === <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> matrix;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> UNASSIGNED = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">solveSudoku</span>(<span class=\"params\">matrix</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> row = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> col = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> checkBlankSpaces = <span class=\"literal\">false</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (row = <span class=\"number\">0</span>; row &lt; matrix.length; row++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (col = <span class=\"number\">0</span>; col &lt; matrix[row].length; col++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (matrix[row][col] === UNASSIGNED) &#123;</span><br><span class=\"line\">        checkBlankSpaces = <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (checkBlankSpaces === <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (checkBlankSpaces === <span class=\"literal\">false</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> num = <span class=\"number\">1</span>; num &lt;= <span class=\"number\">9</span>; num++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (isSafe(matrix, row, col, num)) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      matrix[row][col] = num; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (solveSudoku(matrix)) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      matrix[row][col] = UNASSIGNED; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">isSafe</span>(<span class=\"params\">matrix, row, col, num</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (</span><br><span class=\"line\">    !usedInRow(matrix, row, num) &amp;&amp;</span><br><span class=\"line\">    !usedInCol(matrix, col, num) &amp;&amp;</span><br><span class=\"line\">    !usedInBox(matrix, row - (row % <span class=\"number\">3</span>), col - (col % <span class=\"number\">3</span>), num)</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">usedInRow</span>(<span class=\"params\">matrix, row, num</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> col = <span class=\"number\">0</span>; col &lt; matrix.length; col++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (matrix[row][col] === num) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">usedInCol</span>(<span class=\"params\">matrix, col, num</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> row = <span class=\"number\">0</span>; row &lt; matrix.length; row++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (matrix[row][col] === num) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">usedInBox</span>(<span class=\"params\">matrix, boxStartRow, boxStartCol, num</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> row = <span class=\"number\">0</span>; row &lt; <span class=\"number\">3</span>; row++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> col = <span class=\"number\">0</span>; col &lt; <span class=\"number\">3</span>; col++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (matrix[row + boxStartRow][col + boxStartCol] === num) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> sudokuGrid = [</span><br><span class=\"line\">  [<span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">7</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">6</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">9</span>, <span class=\"number\">5</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">9</span>, <span class=\"number\">8</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">6</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">8</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">6</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>],</span><br><span class=\"line\">  [<span class=\"number\">4</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">8</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>],</span><br><span class=\"line\">  [<span class=\"number\">7</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">6</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">6</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">4</span>, <span class=\"number\">1</span>, <span class=\"number\">9</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">5</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">8</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">7</span>, <span class=\"number\">9</span>],</span><br><span class=\"line\">];</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(sudokuSolver(sudokuGrid));</span><br><span class=\"line\">[</span><br><span class=\"line\">  [<span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">8</span>, <span class=\"number\">9</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>],</span><br><span class=\"line\">  [<span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>, <span class=\"number\">9</span>, <span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">8</span>],</span><br><span class=\"line\">  [<span class=\"number\">1</span>, <span class=\"number\">9</span>, <span class=\"number\">8</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>],</span><br><span class=\"line\">  [<span class=\"number\">8</span>, <span class=\"number\">5</span>, <span class=\"number\">9</span>, <span class=\"number\">7</span>, <span class=\"number\">6</span>, <span class=\"number\">1</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>],</span><br><span class=\"line\">  [<span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">6</span>, <span class=\"number\">8</span>, <span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">7</span>, <span class=\"number\">9</span>, <span class=\"number\">1</span>],</span><br><span class=\"line\">  [<span class=\"number\">7</span>, <span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">9</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">8</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>],</span><br><span class=\"line\">  [<span class=\"number\">9</span>, <span class=\"number\">6</span>, <span class=\"number\">1</span>, <span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">7</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>, <span class=\"number\">4</span>],</span><br><span class=\"line\">  [<span class=\"number\">2</span>, <span class=\"number\">8</span>, <span class=\"number\">7</span>, <span class=\"number\">4</span>, <span class=\"number\">1</span>, <span class=\"number\">9</span>, <span class=\"number\">6</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>],</span><br><span class=\"line\">  [<span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>, <span class=\"number\">6</span>, <span class=\"number\">1</span>, <span class=\"number\">7</span>, <span class=\"number\">9</span>],</span><br><span class=\"line\">];</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"-FP-\"><a href=\"#-FP-\" class=\"headerlink\" title=\"(FP)\"></a>(FP)</h6><p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> printArray = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">array</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(array[i]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">printArray([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>]);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> forEach = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">array, action</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    action(array[i]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> logItem = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">item</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(item);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">forEach([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>], logItem);</span><br></pre></td></tr></table></figure>\n\n<p><em></em><br>(1)<br>(2)<br>(3)<br>(4)<br>(5)</p>\n<p><strong>JavaScript </strong><br>Underscode.js<a href=\"http://underscorejs.org/\">http://underscorejs.org/</a><br>Bilby.js<a href=\"http://bilby.brianmckenna.org/\">http://bilby.brianmckenna.org/</a><br>Lazy.js<a href=\"http://danieltao.com/lazy.js/\">http://danieltao.com/lazy.js/</a><br>Bacon.js<a href=\"https://baconjs.github.io/\">https://baconjs.github.io/</a><br>Fn.js<a href=\"http://eliperelman.com/fn.js/\">http://eliperelman.com/fn.js/</a><br>Functional.js<a href=\"http://functionaljs.com/\">http://functionaljs.com/</a><br>Ramda.js<a href=\"http://ramdajs.com/0.20.1/index.html\">http://ramdajs.com/0.20.1/index.html</a><br>Mori<a href=\"http://swannodette.github.io/mori/\">http://swannodette.github.io/mori/</a></p>\n<p>JavaScript <a href=\"https://www.packtpub.com/web-development/functional-programming-javascript\">https://www.packtpub.com/web-development/functional-programming-javascript</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"-O-\"><a href=\"#-O-\" class=\"headerlink\" title=\" O \"></a> O </h6><p><br> O /</p>\n<table>\n<thead>\n<tr>\n<th> </th>\n<th> </th>\n</tr>\n</thead>\n<tbody><tr>\n<td>O(1)</td>\n<td></td>\n</tr>\n<tr>\n<td>O(log(n))</td>\n<td></td>\n</tr>\n<tr>\n<td>O((log(n))c)</td>\n<td></td>\n</tr>\n<tr>\n<td>O(n)</td>\n<td></td>\n</tr>\n<tr>\n<td>O(n^2)</td>\n<td></td>\n</tr>\n<tr>\n<td>O(n^c)</td>\n<td></td>\n</tr>\n<tr>\n<td>O(c^n)</td>\n<td></td>\n</tr>\n</tbody></table>\n<p><strong> O </strong></p>\n<p> CPU O  CPU</p>\n<ol>\n<li>O(1)</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">increment</span>(<span class=\"params\">num</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> ++num;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p> increment(1) X 2 increment  Xincrement  O(1)</p>\n<ol start=\"2\">\n<li>O(n)</li>\n</ol>\n<p> 10 10 1000 1000 sequentialSearch  O(n)n </p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sequentialSearch</span>(<span class=\"params\">array, value, equalsFn = defaultEquals</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (equalsFn(value, array[i])) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sequentialSearch</span>(<span class=\"params\">array, value, equalsFn = defaultEquals</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> cost = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    cost++;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (equalsFn(value, array[i])) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(</span><br><span class=\"line\">    <span class=\"string\">`cost for sequentialSearch with input size <span class=\"subst\">$&#123;array.length&#125;</span> is <span class=\"subst\">$&#123;cost&#125;</span>`</span></span><br><span class=\"line\">  );</span><br><span class=\"line\">  <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>O(n^2)</li>\n</ol>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">bubbleSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length - <span class=\"number\">1</span>; j++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (compareFn(array[j], array[j + <span class=\"number\">1</span>]) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">        swap(array, j, j + <span class=\"number\">1</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// &#123;1&#125;&#123;2&#125; 1</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">bubbleSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> cost = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    cost++;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length - <span class=\"number\">1</span>; j++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      cost++;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (compareFn(array[j], array[j + <span class=\"number\">1</span>]) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">        swap(array, j, j + <span class=\"number\">1</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`cost for bubbleSort with input size <span class=\"subst\">$&#123;length&#125;</span> is <span class=\"subst\">$&#123;cost&#125;</span>`</span>);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p> 10  bubbleSort 10010^2 100 bubbleSort 10 000100^2</p>\n<p><em> O(n) O(n^2) O(n^3)</em></p>\n<p><strong></strong></p>\n<table>\n<thead>\n<tr>\n<th>n</th>\n<th>O(1)</th>\n<th>O(log(n))</th>\n<th>O(n)</th>\n<th>O(nlog(n))</th>\n<th>O(n^2)</th>\n<th>O(2^n)</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>10</td>\n<td>1</td>\n<td>1</td>\n<td>10</td>\n<td>10</td>\n<td>100</td>\n<td>1024</td>\n</tr>\n<tr>\n<td>20</td>\n<td>1</td>\n<td>1.30</td>\n<td>20</td>\n<td>26.02</td>\n<td>400</td>\n<td>1 048 576</td>\n</tr>\n<tr>\n<td>50</td>\n<td>1</td>\n<td>1.69</td>\n<td>50</td>\n<td>84.94</td>\n<td>2500</td>\n<td></td>\n</tr>\n<tr>\n<td>100</td>\n<td>1</td>\n<td>2</td>\n<td>100</td>\n<td>200</td>\n<td>10 000</td>\n<td></td>\n</tr>\n<tr>\n<td>500</td>\n<td>1</td>\n<td>2.69</td>\n<td>500</td>\n<td>1349.48</td>\n<td>250 000</td>\n<td></td>\n</tr>\n<tr>\n<td>1000</td>\n<td>1</td>\n<td>3</td>\n<td>1000</td>\n<td>3000</td>\n<td>1 000 000</td>\n<td></td>\n</tr>\n<tr>\n<td>10 000</td>\n<td>1</td>\n<td>4</td>\n<td>10 000</td>\n<td>40 000</td>\n<td>100 000 000</td>\n<td></td>\n</tr>\n</tbody></table>\n<p> O </p>\n<p><img src=\"/2022/10/13/39-data-structure7/big-o-1.png\" alt=\"big-o-1\"></p>\n<p><em></em><br><img src=\"/2022/10/13/39-data-structure7/big-o-2.png\" alt=\"big-o-2\"></p>\n<p><em></em><br><img src=\"/2022/10/13/39-data-structure7/big-o-3.png\" alt=\"big-o-3\"></p>\n<p><em></em><br><img src=\"/2022/10/13/39-data-structure7/big-o-4.png\" alt=\"big-o-4\"></p>\n<p><em></em><br><img src=\"/2022/10/13/39-data-structure7/big-o-5.png\" alt=\"big-o-5\"></p>\n<p><strong>NP </strong><br> O(n^k) k .</p>\n<p> Ppolynomial</p>\n<p>NPnondeterministic polynomial NP</p>\n<p> P NPP = NP </p>\n<p>NP  NP  L  NP <br>(1) L  NP <br>(2)  NP  L</p>\n<p> L M A L B y M L M B A</p>\n<p> NP  NP NP  NP </p>\n<p> P&lt;&gt;NP PNPNP  NP <br><img src=\"/2022/10/13/39-data-structure7/big-o-6.png\" alt=\"big-o-6\"></p>\n<p> NP  NP SAT</p>\n<p>NP </p>\n<p><a href=\"https://en.wikipedia.org/wiki/NP-completeness\">https://en.wikipedia.org/wiki/NP-completeness</a></p>\n<p><em></em><br><br><br><br> <a href=\"https://en.wikipedia.org/wiki/Heuristic_(computer_science)\">https://en.wikipedia.org/wiki/Heuristic_(computer_science)</a></p>\n<p>UVa Online Judge<a href=\"http://uva.onlinejudge.org/%EF%BC%89\">http://uva.onlinejudge.org/</a><br>Sphere Online Judge<a href=\"http://www.spoj.com/%EF%BC%89\">http://www.spoj.com/</a><br>Coderbyte<a href=\"http://coderbyte.com/%EF%BC%89\">http://coderbyte.com/</a><br>Project Euler<a href=\"https://projecteuler.net/%EF%BC%89\">https://projecteuler.net/</a><br>HackerRank<a href=\"https://www.hackerrank.com)/\">https://www.hackerrank.com</a><br>CodeChef<a href=\"http://www.codechef.com/%EF%BC%89\">http://www.codechef.com/</a><br>Top Coder<a href=\"http://www.topcoder.com/%EF%BC%89\">http://www.topcoder.com/</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li></li>\n<li><br>Floyd-Warshall <br>Kruskal <br><br><br><br>NP </li>\n<li></li>\n</ul>\n<p><br></p>\n<p><br>LeetCode</p>\n<p>antdvisible<br><br>testing-library/reactreact<br>umc-ui</p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p><br>(1) <br>(2) <br>(3) </p>\n<p><strong></strong><br> mid <br><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">binarySearchRecursive</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  array,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  value,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  low,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  high,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  compareFn = defaultCompare</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (low &lt;= high) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> mid = <span class=\"built_in\">Math</span>.floor((low + high) / <span class=\"number\">2</span>);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> element = array[mid];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (compareFn(element, value) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> binarySearchRecursive(array, value, mid + <span class=\"number\">1</span>, high, compareFn);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (compareFn(element, value) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> binarySearchRecursive(array, value, low, mid - <span class=\"number\">1</span>, compareFn);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> mid; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> DOES_NOT_EXIST; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">binarySearch</span>(<span class=\"params\">array, value, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> sortedArray = quickSort(array);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> low = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> high = sortedArray.length - <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> binarySearchRecursive(array, value, low, high, compareFn);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/39-data-structure7/technology-1.png\" alt=\"technology-1\"></p>\n<p><strong></strong><br>dynamic programmingDP</p>\n<p><em></em></p>\n<p><br>(1) <br>(2) <br>(3) </p>\n<p><em></em><br>(1)<br>(2)<br>(3)<br>(4) d1, , dn <br>(5)(u, v) u  v (Floyd-Warshall )</p>\n<p><em></em><br> d1, , dn  d1, , dn </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// coins </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">minCoinChange</span>(<span class=\"params\">coins, amount</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> cache = []; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> makeChange = <span class=\"function\">(<span class=\"params\">value</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!value) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> [];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (cache[value]) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> cache[value];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> min = [];</span><br><span class=\"line\">    <span class=\"keyword\">let</span> newMin;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> newAmount;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; coins.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> coin = coins[i];</span><br><span class=\"line\">      newAmount = value - coin; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (newAmount &gt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        newMin = makeChange(newAmount); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (</span><br><span class=\"line\">        newAmount &gt;= <span class=\"number\">0</span> &amp;&amp; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">        (newMin.length &lt; min.length - <span class=\"number\">1</span> || !min.length) &amp;&amp; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">        (newMin.length || !newAmount) <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">      ) &#123;</span><br><span class=\"line\">        min = [coin].concat(newMin); <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;new Min &#x27;</span> + min + <span class=\"string\">&#x27; for &#x27;</span> + amount);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (cache[value] = min); <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> makeChange(amount); <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><em></em><br> W  W</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">knapSack</span>(<span class=\"params\">capacity, weights, values, n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> kS = [];</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">    kS[i] = [];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> w = <span class=\"number\">0</span>; w &lt;= capacity; w++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (i === <span class=\"number\">0</span> || w === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">        kS[i][w] = <span class=\"number\">0</span>;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (weights[i - <span class=\"number\">1</span>] &lt;= w) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//  i </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> a = values[i - <span class=\"number\">1</span>] + kS[i - <span class=\"number\">1</span>][w - weights[i - <span class=\"number\">1</span>]];</span><br><span class=\"line\">        <span class=\"keyword\">const</span> b = kS[i - <span class=\"number\">1</span>][w];</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        kS[i][w] = a &gt; b ? a : b; <span class=\"comment\">// &#123;4&#125; max(a,b)</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        kS[i][w] = kS[i - <span class=\"number\">1</span>][w]; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  findValues(n, capacity, kS, weights, values); <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> kS[n][capacity]; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">findValues</span>(<span class=\"params\">n, capacity, kS, weights, values</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> i = n;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> k = capacity;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (i &gt; <span class=\"number\">0</span> &amp;&amp; k &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (kS[i][k] !== kS[i - <span class=\"number\">1</span>][k]) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(</span><br><span class=\"line\">        <span class=\"string\">` <span class=\"subst\">$&#123;i&#125;</span>  w,v: <span class=\"subst\">$&#123;weights[i - <span class=\"number\">1</span>]&#125;</span>, <span class=\"subst\">$&#123;values[i - <span class=\"number\">1</span>]&#125;</span>`</span></span><br><span class=\"line\">      );</span><br><span class=\"line\">      i--;</span><br><span class=\"line\">      k -= kS[i][k];</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      i--;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/39-data-structure7/technology-2.png\" alt=\"technology-2\"></p>\n<p><em>(LCS)</em><br><br><img src=\"/2022/10/13/39-data-structure7/technology-3.png\" alt=\"technology-3\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">lcs</span>(<span class=\"params\">wordX, wordY</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> m = wordX.length;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> n = wordY.length;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> l = [];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt;= m; i++) &#123;</span><br><span class=\"line\">    l[i] = []; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">// solution[i] = [];</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt;= n; j++) &#123;</span><br><span class=\"line\">      l[i][j] = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"comment\">// solution[i][j] = &#x27;0&#x27;;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt;= m; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt;= n; j++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (i === <span class=\"number\">0</span> || j === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        l[i][j] = <span class=\"number\">0</span>;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (wordX[i - <span class=\"number\">1</span>] === wordY[j - <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">        l[i][j] = l[i - <span class=\"number\">1</span>][j - <span class=\"number\">1</span>] + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">        <span class=\"comment\">// solution[i][j] = &#x27;diagonal&#x27;;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> a = l[i - <span class=\"number\">1</span>][j];</span><br><span class=\"line\">        <span class=\"keyword\">const</span> b = l[i][j - <span class=\"number\">1</span>];</span><br><span class=\"line\">        l[i][j] = a &gt; b ? a : b; <span class=\"comment\">// &#123;4&#125; max(a,b)</span></span><br><span class=\"line\">        <span class=\"comment\">// solution[i][j]=(l[i][j] == l[i-1][j]) ? &#x27;top&#x27; : &#x27;left&#x27;;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> l[m][n]; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// printSolution(solution, wordX, m, n);</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">printSolution</span>(<span class=\"params\">solution, wordX, m, n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> a = m;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> b = n;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> x = solution[a][b];</span><br><span class=\"line\">  <span class=\"keyword\">let</span> answer = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (x !== <span class=\"string\">&#x27;0&#x27;</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (solution[a][b] === <span class=\"string\">&#x27;diagonal&#x27;</span>) &#123;</span><br><span class=\"line\">      answer = wordX[a - <span class=\"number\">1</span>] + answer;</span><br><span class=\"line\">      a--;</span><br><span class=\"line\">      b--;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (solution[a][b] === <span class=\"string\">&#x27;left&#x27;</span>) &#123;</span><br><span class=\"line\">      b--;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (solution[a][b] === <span class=\"string\">&#x27;top&#x27;</span>) &#123;</span><br><span class=\"line\">      a--;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    x = solution[a][b];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;lcs: &#x27;</span> + answer);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/39-data-structure7/technology-4.png\" alt=\"technology-4\"></p>\n<p><em></em><br></p>\n<p>A<em>B</em>C*D </p>\n<p>A  10  100 <br>B  100  5 <br>C  5  50 <br>D  50  1 <br>A<em>B</em>C*D  10  1 </p>\n<p>(1) (A(B(CD))) 1750 <br>(2) ((AB)(CD)) 5300 <br>(3) (((AB)C)D) 8000 <br>(4) ((A(BC))D) 75 500 <br>(5) (A((BC)D)) 31 000 </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">matrixChainOrder</span>(<span class=\"params\">p</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> n = p.length;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> m = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> s = [];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">    m[i] = [];</span><br><span class=\"line\">    m[i][i] = <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">//   const s = [];</span></span><br><span class=\"line\">  <span class=\"comment\">// for (let i = 0; i &lt;= n; i++)&#123;</span></span><br><span class=\"line\">  <span class=\"comment\">//  s[i] = [];</span></span><br><span class=\"line\">  <span class=\"comment\">//  for (let j=0; j &lt;= n; j++)&#123;</span></span><br><span class=\"line\">  <span class=\"comment\">//  s[i][j] = 0;</span></span><br><span class=\"line\">  <span class=\"comment\">//  &#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> l = <span class=\"number\">2</span>; l &lt; n; l++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt;= n - l + <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> j = i + l - <span class=\"number\">1</span>;</span><br><span class=\"line\">      m[i][j] = <span class=\"built_in\">Number</span>.MAX_SAFE_INTEGER;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> k = i; k &lt;= j - <span class=\"number\">1</span>; k++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> q = m[i][k] + m[k + <span class=\"number\">1</span>][j] + p[i - <span class=\"number\">1</span>] * p[k] * p[j]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (q &lt; m[i][j]) &#123;</span><br><span class=\"line\">          m[i][j] = q; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">          <span class=\"comment\">// s[i][j] = k;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> m[<span class=\"number\">1</span>][n - <span class=\"number\">1</span>]; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// printOptimalParenthesis(s, 1, n-1);</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">printOptimalParenthesis</span>(<span class=\"params\">s, i, j</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (i === j) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;A[&#x27;</span> + i + <span class=\"string\">&#x27;]&#x27;</span>);</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;(&#x27;</span>);</span><br><span class=\"line\">    printOptimalParenthesis(s, i, s[i][j]);</span><br><span class=\"line\">    printOptimalParenthesis(s, s[i][j] + <span class=\"number\">1</span>, j);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;)&#x27;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// (A[1](A[2](A[3]A[4]))) =&gt; (A(B(CD)))</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">minCoinChange</span>(<span class=\"params\">coins, amount</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> change = [];</span><br><span class=\"line\">  <span class=\"keyword\">let</span> total = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = coins.length; i &gt;= <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> coin = coins[i];</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (total + coin &lt;= amount) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      change.push(coin); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      total += coin; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> change;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/39-data-structure7/technology-5.png\" alt=\"technology-5\"></p>\n<p><em></em></p>\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">knapSack</span>(<span class=\"params\">capacity, weights, values</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> n = values.length;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> load = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> val = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; n &amp;&amp; load &lt; capacity; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (weights[i] &lt;= capacity - load) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      val += values[i];</span><br><span class=\"line\">      load += weights[i];</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> r = (capacity - load) / weights[i]; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      val += r * values[i];</span><br><span class=\"line\">      load += weights[i];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> val;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">ratInAMaze</span>(<span class=\"params\">maze</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> solution = [];</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; maze.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    solution[i] = [];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; maze[i].length; j++) &#123;</span><br><span class=\"line\">      solution[i][j] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (findPath(maze, <span class=\"number\">0</span>, <span class=\"number\">0</span>, solution) === <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> solution;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"string\">&#x27;NO PATH FOUND&#x27;</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">findPath</span>(<span class=\"params\">maze, x, y, solution</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> n = maze.length;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (x === n - <span class=\"number\">1</span> &amp;&amp; y === n - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    solution[x][y] = <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (isSafe(maze, x, y) === <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    solution[x][y] = <span class=\"number\">1</span>; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (findPath(maze, x + <span class=\"number\">1</span>, y, solution)) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (findPath(maze, x, y + <span class=\"number\">1</span>, solution)) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    solution[x][y] = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">isSafe</span>(<span class=\"params\">maze, x, y</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> n = maze.length;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (x &gt;= <span class=\"number\">0</span> &amp;&amp; y &gt;= <span class=\"number\">0</span> &amp;&amp; x &lt; n &amp;&amp; y &lt; n &amp;&amp; maze[x][y] !== <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> maze = [</span><br><span class=\"line\">  [<span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>],</span><br><span class=\"line\">];</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(ratInAMaze(maze));</span><br><span class=\"line\">[</span><br><span class=\"line\">  [<span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>],</span><br><span class=\"line\">];</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sudokuSolver</span>(<span class=\"params\">matrix</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (solveSudoku(matrix) === <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> matrix;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> UNASSIGNED = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">solveSudoku</span>(<span class=\"params\">matrix</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> row = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> col = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> checkBlankSpaces = <span class=\"literal\">false</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (row = <span class=\"number\">0</span>; row &lt; matrix.length; row++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (col = <span class=\"number\">0</span>; col &lt; matrix[row].length; col++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (matrix[row][col] === UNASSIGNED) &#123;</span><br><span class=\"line\">        checkBlankSpaces = <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (checkBlankSpaces === <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (checkBlankSpaces === <span class=\"literal\">false</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> num = <span class=\"number\">1</span>; num &lt;= <span class=\"number\">9</span>; num++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (isSafe(matrix, row, col, num)) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      matrix[row][col] = num; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (solveSudoku(matrix)) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      matrix[row][col] = UNASSIGNED; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">isSafe</span>(<span class=\"params\">matrix, row, col, num</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (</span><br><span class=\"line\">    !usedInRow(matrix, row, num) &amp;&amp;</span><br><span class=\"line\">    !usedInCol(matrix, col, num) &amp;&amp;</span><br><span class=\"line\">    !usedInBox(matrix, row - (row % <span class=\"number\">3</span>), col - (col % <span class=\"number\">3</span>), num)</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">usedInRow</span>(<span class=\"params\">matrix, row, num</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> col = <span class=\"number\">0</span>; col &lt; matrix.length; col++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (matrix[row][col] === num) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">usedInCol</span>(<span class=\"params\">matrix, col, num</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> row = <span class=\"number\">0</span>; row &lt; matrix.length; row++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (matrix[row][col] === num) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">usedInBox</span>(<span class=\"params\">matrix, boxStartRow, boxStartCol, num</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> row = <span class=\"number\">0</span>; row &lt; <span class=\"number\">3</span>; row++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> col = <span class=\"number\">0</span>; col &lt; <span class=\"number\">3</span>; col++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (matrix[row + boxStartRow][col + boxStartCol] === num) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> sudokuGrid = [</span><br><span class=\"line\">  [<span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">7</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">6</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">9</span>, <span class=\"number\">5</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">9</span>, <span class=\"number\">8</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">6</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">8</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">6</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>],</span><br><span class=\"line\">  [<span class=\"number\">4</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">8</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>],</span><br><span class=\"line\">  [<span class=\"number\">7</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">6</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">6</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">4</span>, <span class=\"number\">1</span>, <span class=\"number\">9</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">5</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">8</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">7</span>, <span class=\"number\">9</span>],</span><br><span class=\"line\">];</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(sudokuSolver(sudokuGrid));</span><br><span class=\"line\">[</span><br><span class=\"line\">  [<span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">8</span>, <span class=\"number\">9</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>],</span><br><span class=\"line\">  [<span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>, <span class=\"number\">9</span>, <span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">8</span>],</span><br><span class=\"line\">  [<span class=\"number\">1</span>, <span class=\"number\">9</span>, <span class=\"number\">8</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>],</span><br><span class=\"line\">  [<span class=\"number\">8</span>, <span class=\"number\">5</span>, <span class=\"number\">9</span>, <span class=\"number\">7</span>, <span class=\"number\">6</span>, <span class=\"number\">1</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>],</span><br><span class=\"line\">  [<span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">6</span>, <span class=\"number\">8</span>, <span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">7</span>, <span class=\"number\">9</span>, <span class=\"number\">1</span>],</span><br><span class=\"line\">  [<span class=\"number\">7</span>, <span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">9</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">8</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>],</span><br><span class=\"line\">  [<span class=\"number\">9</span>, <span class=\"number\">6</span>, <span class=\"number\">1</span>, <span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">7</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>, <span class=\"number\">4</span>],</span><br><span class=\"line\">  [<span class=\"number\">2</span>, <span class=\"number\">8</span>, <span class=\"number\">7</span>, <span class=\"number\">4</span>, <span class=\"number\">1</span>, <span class=\"number\">9</span>, <span class=\"number\">6</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>],</span><br><span class=\"line\">  [<span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>, <span class=\"number\">6</span>, <span class=\"number\">1</span>, <span class=\"number\">7</span>, <span class=\"number\">9</span>],</span><br><span class=\"line\">];</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"-FP-\"><a href=\"#-FP-\" class=\"headerlink\" title=\"(FP)\"></a>(FP)</h6><p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> printArray = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">array</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(array[i]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">printArray([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>]);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> forEach = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">array, action</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    action(array[i]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> logItem = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">item</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(item);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">forEach([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>], logItem);</span><br></pre></td></tr></table></figure>\n\n<p><em></em><br>(1)<br>(2)<br>(3)<br>(4)<br>(5)</p>\n<p><strong>JavaScript </strong><br>Underscode.js<a href=\"http://underscorejs.org/\">http://underscorejs.org/</a><br>Bilby.js<a href=\"http://bilby.brianmckenna.org/\">http://bilby.brianmckenna.org/</a><br>Lazy.js<a href=\"http://danieltao.com/lazy.js/\">http://danieltao.com/lazy.js/</a><br>Bacon.js<a href=\"https://baconjs.github.io/\">https://baconjs.github.io/</a><br>Fn.js<a href=\"http://eliperelman.com/fn.js/\">http://eliperelman.com/fn.js/</a><br>Functional.js<a href=\"http://functionaljs.com/\">http://functionaljs.com/</a><br>Ramda.js<a href=\"http://ramdajs.com/0.20.1/index.html\">http://ramdajs.com/0.20.1/index.html</a><br>Mori<a href=\"http://swannodette.github.io/mori/\">http://swannodette.github.io/mori/</a></p>\n<p>JavaScript <a href=\"https://www.packtpub.com/web-development/functional-programming-javascript\">https://www.packtpub.com/web-development/functional-programming-javascript</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"-O-\"><a href=\"#-O-\" class=\"headerlink\" title=\" O \"></a> O </h6><p><br> O /</p>\n<table>\n<thead>\n<tr>\n<th> </th>\n<th> </th>\n</tr>\n</thead>\n<tbody><tr>\n<td>O(1)</td>\n<td></td>\n</tr>\n<tr>\n<td>O(log(n))</td>\n<td></td>\n</tr>\n<tr>\n<td>O((log(n))c)</td>\n<td></td>\n</tr>\n<tr>\n<td>O(n)</td>\n<td></td>\n</tr>\n<tr>\n<td>O(n^2)</td>\n<td></td>\n</tr>\n<tr>\n<td>O(n^c)</td>\n<td></td>\n</tr>\n<tr>\n<td>O(c^n)</td>\n<td></td>\n</tr>\n</tbody></table>\n<p><strong> O </strong></p>\n<p> CPU O  CPU</p>\n<ol>\n<li>O(1)</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">increment</span>(<span class=\"params\">num</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> ++num;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p> increment(1) X 2 increment  Xincrement  O(1)</p>\n<ol start=\"2\">\n<li>O(n)</li>\n</ol>\n<p> 10 10 1000 1000 sequentialSearch  O(n)n </p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sequentialSearch</span>(<span class=\"params\">array, value, equalsFn = defaultEquals</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (equalsFn(value, array[i])) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sequentialSearch</span>(<span class=\"params\">array, value, equalsFn = defaultEquals</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> cost = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    cost++;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (equalsFn(value, array[i])) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(</span><br><span class=\"line\">    <span class=\"string\">`cost for sequentialSearch with input size <span class=\"subst\">$&#123;array.length&#125;</span> is <span class=\"subst\">$&#123;cost&#125;</span>`</span></span><br><span class=\"line\">  );</span><br><span class=\"line\">  <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>O(n^2)</li>\n</ol>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">bubbleSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length - <span class=\"number\">1</span>; j++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (compareFn(array[j], array[j + <span class=\"number\">1</span>]) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">        swap(array, j, j + <span class=\"number\">1</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// &#123;1&#125;&#123;2&#125; 1</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">bubbleSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> cost = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    cost++;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length - <span class=\"number\">1</span>; j++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      cost++;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (compareFn(array[j], array[j + <span class=\"number\">1</span>]) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">        swap(array, j, j + <span class=\"number\">1</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`cost for bubbleSort with input size <span class=\"subst\">$&#123;length&#125;</span> is <span class=\"subst\">$&#123;cost&#125;</span>`</span>);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p> 10  bubbleSort 10010^2 100 bubbleSort 10 000100^2</p>\n<p><em> O(n) O(n^2) O(n^3)</em></p>\n<p><strong></strong></p>\n<table>\n<thead>\n<tr>\n<th>n</th>\n<th>O(1)</th>\n<th>O(log(n))</th>\n<th>O(n)</th>\n<th>O(nlog(n))</th>\n<th>O(n^2)</th>\n<th>O(2^n)</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>10</td>\n<td>1</td>\n<td>1</td>\n<td>10</td>\n<td>10</td>\n<td>100</td>\n<td>1024</td>\n</tr>\n<tr>\n<td>20</td>\n<td>1</td>\n<td>1.30</td>\n<td>20</td>\n<td>26.02</td>\n<td>400</td>\n<td>1 048 576</td>\n</tr>\n<tr>\n<td>50</td>\n<td>1</td>\n<td>1.69</td>\n<td>50</td>\n<td>84.94</td>\n<td>2500</td>\n<td></td>\n</tr>\n<tr>\n<td>100</td>\n<td>1</td>\n<td>2</td>\n<td>100</td>\n<td>200</td>\n<td>10 000</td>\n<td></td>\n</tr>\n<tr>\n<td>500</td>\n<td>1</td>\n<td>2.69</td>\n<td>500</td>\n<td>1349.48</td>\n<td>250 000</td>\n<td></td>\n</tr>\n<tr>\n<td>1000</td>\n<td>1</td>\n<td>3</td>\n<td>1000</td>\n<td>3000</td>\n<td>1 000 000</td>\n<td></td>\n</tr>\n<tr>\n<td>10 000</td>\n<td>1</td>\n<td>4</td>\n<td>10 000</td>\n<td>40 000</td>\n<td>100 000 000</td>\n<td></td>\n</tr>\n</tbody></table>\n<p> O </p>\n<p><img src=\"/2022/10/13/39-data-structure7/big-o-1.png\" alt=\"big-o-1\"></p>\n<p><em></em><br><img src=\"/2022/10/13/39-data-structure7/big-o-2.png\" alt=\"big-o-2\"></p>\n<p><em></em><br><img src=\"/2022/10/13/39-data-structure7/big-o-3.png\" alt=\"big-o-3\"></p>\n<p><em></em><br><img src=\"/2022/10/13/39-data-structure7/big-o-4.png\" alt=\"big-o-4\"></p>\n<p><em></em><br><img src=\"/2022/10/13/39-data-structure7/big-o-5.png\" alt=\"big-o-5\"></p>\n<p><strong>NP </strong><br> O(n^k) k .</p>\n<p> Ppolynomial</p>\n<p>NPnondeterministic polynomial NP</p>\n<p> P NPP = NP </p>\n<p>NP  NP  L  NP <br>(1) L  NP <br>(2)  NP  L</p>\n<p> L M A L B y M L M B A</p>\n<p> NP  NP NP  NP </p>\n<p> P&lt;&gt;NP PNPNP  NP <br><img src=\"/2022/10/13/39-data-structure7/big-o-6.png\" alt=\"big-o-6\"></p>\n<p> NP  NP SAT</p>\n<p>NP </p>\n<p><a href=\"https://en.wikipedia.org/wiki/NP-completeness\">https://en.wikipedia.org/wiki/NP-completeness</a></p>\n<p><em></em><br><br><br><br> <a href=\"https://en.wikipedia.org/wiki/Heuristic_(computer_science)\">https://en.wikipedia.org/wiki/Heuristic_(computer_science)</a></p>\n<p>UVa Online Judge<a href=\"http://uva.onlinejudge.org/%EF%BC%89\">http://uva.onlinejudge.org/</a><br>Sphere Online Judge<a href=\"http://www.spoj.com/%EF%BC%89\">http://www.spoj.com/</a><br>Coderbyte<a href=\"http://coderbyte.com/%EF%BC%89\">http://coderbyte.com/</a><br>Project Euler<a href=\"https://projecteuler.net/%EF%BC%89\">https://projecteuler.net/</a><br>HackerRank<a href=\"https://www.hackerrank.com)/\">https://www.hackerrank.com</a><br>CodeChef<a href=\"http://www.codechef.com/%EF%BC%89\">http://www.codechef.com/</a><br>Top Coder<a href=\"http://www.topcoder.com/%EF%BC%89\">http://www.topcoder.com/</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li></li>\n<li><br>Floyd-Warshall <br>Kruskal <br><br><br><br>NP </li>\n<li></li>\n</ul>\n<p><br></p>\n<p><br>LeetCode</p>\n<p>antdvisible<br><br>testing-library/reactreact<br>umc-ui</p>\n"},{"title":"(6)","date":"2022-10-13T06:15:28.000Z","_content":"\n#### \n\n###### \n\n****\n(_ O(n2)_)\n\n```javascript\nfunction defaultCompare(a, b) {\n  return a < b ? Compare.LESS_THAN : Compare.BIGGER_THAN;\n}\nfunction bubbleSort(array, compareFn = defaultCompare) {\n  const { length } = array; // {1}\n  for (let i = 0; i < length; i++) {\n    // {2}\n    for (let j = 0; j < length - 1; j++) {\n      // {3}\n      if (compareFn(array[j], array[j + 1]) === Compare.BIGGER_THAN) {\n        // {4}\n        swap(array, j, j + 1); // {5}\n      }\n    }\n  }\n  return array;\n}\n\nfunction swap(array, a, b) {\n  /* const temp = array[a]; \n array[a] = array[b]; \n array[b] = temp; */ // \n  [array[a], array[b]] = [array[b], array[a]]; // ES2015 \n}\n```\n\n![sort-1](sort-1.png)\n__\n\n```javascript\nfunction modifiedBubbleSort(array, compareFn = defaultCompare) {\n  const { length } = array;\n  for (let i = 0; i < length; i++) {\n    for (let j = 0; j < length - 1 - i; j++) {\n      // {1}\n      if (compareFn(array[j], array[j + 1]) === Compare.BIGGER_THAN) {\n        swap(array, j, j + 1);\n      }\n    }\n  }\n  return array;\n}\n```\n\n![sort-2](sort-2.png)\n\n****\n(_ O(n2)_).\n\n```javascript\nfunction selectionSort(array, compareFn = defaultCompare) {\n  const { length } = array; // {1}\n  let indexMin;\n  for (let i = 0; i < length - 1; i++) {\n    // {2}\n    indexMin = i; // {3}\n    for (let j = i; j < length; j++) {\n      // {4}\n      if (compareFn(array[indexMin], array[j]) === Compare.BIGGER_THAN) {\n        // {5}\n        indexMin = j; // {6}\n      }\n    }\n    if (i !== indexMin) {\n      // {7}\n      swap(array, i, indexMin);\n    }\n  }\n  return array;\n}\n```\n\n![sort-3](sort-3.png)\n\n****\n.\n\n```javascript\nfunction insertionSort(array, compareFn = defaultCompare) {\n  const { length } = array; // {1}\n  let temp;\n  for (let i = 1; i < length; i++) {\n    // {2}\n    let j = i; // {3}\n    temp = array[i]; // {4}\n    while (j > 0 && compareFn(array[j - 1], temp) === Compare.BIGGER_THAN) {\n      // {5}\n      array[j] = array[j - 1]; // {6}\n      j--;\n    }\n    array[j] = temp; // {7}\n  }\n  return array;\n}\n```\n\n![sort-4](sort-4.png)\n__\n\n****\n O(nlog(n))\n\n_JavaScript  Array  sort Array.prototype.sort JavaScript ECMAScript Mozilla Firefox  Array.prototype.sort  ChromeV8 _\n\n\n\n\n\n```javascript\nfunction mergeSort(array, compareFn = defaultCompare) {\n  if (array.length > 1) {\n    // {1}\n    const { length } = array;\n    const middle = Math.floor(length / 2); // {2}\n    const left = mergeSort(array.slice(0, middle), compareFn); // {3}\n    const right = mergeSort(array.slice(middle, length), compareFn); // {4}\n    array = merge(left, right, compareFn); // {5}\n  }\n  return array;\n}\n\nfunction merge(left, right, compareFn) {\n  let i = 0; // {6}\n  let j = 0;\n  const result = [];\n  while (i < left.length && j < right.length) {\n    // {7}\n    result.push(\n      compareFn(left[i], right[j]) === Compare.LESS_THAN\n        ? left[i++]\n        : right[j++]\n    ); // {8}\n  }\n  return result.concat(i < left.length ? left.slice(i) : right.slice(j)); // {9}\n}\n```\n\n![sort-5](sort-5.png)\n\n****\n O(nlog(n)) O(nlog(n))\n\n(1) pivot\n(2) partition\n(3) \n\n```javascript\nfunction quickSort(array, compareFn = defaultCompare) {\n  return quick(array, 0, array.length - 1, compareFn);\n}\n\nfunction quick(array, left, right, compareFn) {\n  let index; // {1}\n  if (array.length > 1) {\n    // {2}\n    index = partition(array, left, right, compareFn); // {3}\n    if (left < index - 1) {\n      // {4}\n      quick(array, left, index - 1, compareFn); // {5}\n    }\n    if (index < right) {\n      // {6}\n      quick(array, index, right, compareFn); // {7}\n    }\n  }\n  return array;\n}\n\nfunction partition(array, left, right, compareFn) {\n  // \n  const pivot = array[Math.floor((right + left) / 2)]; // {8}\n  let i = left; // {9}\n  let j = right; // {10}\n  while (i <= j) {\n    // {11}\n    while (compareFn(array[i], pivot) === Compare.LESS_THAN) {\n      // {12}\n      i++;\n    }\n    while (compareFn(array[j], pivot) === Compare.BIGGER_THAN) {\n      // {13}\n      j--;\n    }\n    if (i <= j) {\n      // {14}\n      swap(array, i, j); // {15}\n      i++;\n      j--;\n    }\n  }\n  return i; // {16}\n}\n```\n\n\n![sort-6](sort-6.png)\n\n![sort-7](sort-7.png)\n\n![sort-8](sort-8.png)\n![sort-9](sort-9.png)\n![sort-10](sort-10.png)\n\n****\n\n\n O(n+k) k \n\n```javascript\nfunction countingSort(array) {\n  if (array.length < 2) {\n    // {1}\n    return array;\n  }\n  const maxValue = findMaxValue(array); // {2}\n  const counts = new Array(maxValue + 1); // {3}\n  array.forEach((element) => {\n    if (!counts[element]) {\n      // {4}\n      counts[element] = 0;\n    }\n    counts[element]++; // {5}\n  });\n  let sortedIndex = 0;\n  counts.forEach((count, i) => {\n    while (count > 0) {\n      // {6}\n      array[sortedIndex++] = i; // {7}\n      count--; // {8}\n    }\n  });\n  return array;\n}\n\nfunction findMaxValue(array) {\n  let max = array[0];\n  for (let i = 1; i < array.length; i++) {\n    if (array[i] > max) {\n      max = array[i];\n    }\n  }\n  return max;\n}\n```\n\n****\n\n\n_ 5 _\n\n```javascript\nfunction bucketSort(array, bucketSize = 5) {\n  // {1}\n  if (array.length < 2) {\n    return array;\n  }\n  // \n  const buckets = createBuckets(array, bucketSize); // {2}\n  // \n  return sortBuckets(buckets); // {3}\n}\n\nfunction createBuckets(array, bucketSize) {\n  let minValue = array[0];\n  let maxValue = array[0];\n  for (let i = 1; i < array.length; i++) {\n    // {4}\n    if (array[i] < minValue) {\n      minValue = array[i];\n    } else if (array[i] > maxValue) {\n      maxValue = array[i];\n    }\n  }\n  // \n  const bucketCount = Math.floor((maxValue - minValue) / bucketSize) + 1; // {5}\n  const buckets = [];\n  for (let i = 0; i < bucketCount; i++) {\n    // \n    buckets[i] = [];\n  }\n  for (let i = 0; i < array.length; i++) {\n    // {7}\n    const bucketIndex = Math.floor((array[i] - minValue) / bucketSize); // {8}\n    buckets[bucketIndex].push(array[i]);\n  }\n  return buckets;\n}\n\nfunction sortBuckets(buckets) {\n  const sortedArray = []; // {9}\n  for (let i = 0; i < buckets.length; i++) {\n    // {10}\n    if (buckets[i] != null) {\n      insertionSort(buckets[i]); // {11}\n      sortedArray.push(...buckets[i]); // {12}\n    }\n  }\n  return sortedArray;\n}\n```\n\n![sort-11](sort-11.png)\n\n****\n\n\n```javascript\nfunction radixSort(array, radixBase = 10) {\n  if (array.length < 2) {\n    return array;\n  }\n  const minValue = findMinValue(array);\n  const maxValue = findMaxValue(array);\n  let significantDigit = 1; // {1}\n  while ((maxValue - minValue) / significantDigit >= 1) {\n    // {2}\n    array = countingSortForRadix(array, radixBase, significantDigit, minValue); // {3}\n    significantDigit *= radixBase; // {4}\n  }\n  return array;\n}\n\nfunction countingSortForRadix(array, radixBase, significantDigit, minValue) {\n  let bucketsIndex;\n  const buckets = [];\n  const aux = [];\n  for (let i = 0; i < radixBase; i++) {\n    // {5}\n    buckets[i] = 0;\n  }\n  for (let i = 0; i < array.length; i++) {\n    // {7}\n    bucketsIndex = Math.floor(\n      ((array[i] - minValue) / significantDigit) % radixBase\n    ); // {7}\n    buckets[bucketsIndex]++; // {8}\n  }\n  for (let i = 1; i < radixBase; i++) {\n    // \n    buckets[i] += buckets[i - 1];\n  }\n  for (let i = array.length - 1; i >= 0; i--) {\n    // {10}\n    bucketsIndex = Math.floor(\n      ((array[i] - minValue) / significantDigit) % radixBase\n    ); // {11}\n    aux[--buckets[bucketsIndex]] = array[i]; // {12}\n  }\n  for (let i = 0; i < array.length; i++) {\n    // {13}\n    array[i] = aux[i];\n  }\n  return array;\n}\n```\n\n![sort-12](sort-12.png)\n\n###### \n\n****\n\n\n```javascript\nconst DOES_NOT_EXIST = -1;\nfunction sequentialSearch(array, value, equalsFn = defaultEquals) {\n  for (let i = 0; i < array.length; i++) {\n    // {1}\n    if (equalsFn(value, array[i])) {\n      // {2}\n      return i; // {3}\n    }\n  }\n  return DOES_NOT_EXIST; // {4}\n}\n```\n\n![search-1](search-1.png)\n\n****\n\n(1) \n(2) \n(3)  1 \n(4)  1 \n\n```javascript\nfunction binarySearch(array, value, compareFn = defaultCompare) {\n  const sortedArray = quickSort(array); // {1}\n  let low = 0; // {2}\n  let high = sortedArray.length - 1; // {3}\n  while (lesserOrEquals(low, high, compareFn)) {\n    // {4}\n    const mid = Math.floor((low + high) / 2); // {5}\n    const element = sortedArray[mid]; // {6}\n    if (compareFn(element, value) === Compare.LESS_THAN) {\n      // {7}\n      low = mid + 1; // {8}\n    } else if (compareFn(element, value) === Compare.BIGGER_THAN) {\n      // {9}\n      high = mid - 1; // {10}\n    } else {\n      return mid; // {11}\n    }\n  }\n  return DOES_NOT_EXIST; // {12}\n}\n\nfunction lesserOrEquals(a, b, compareFn) {\n  const comp = compareFn(a, b);\n  return comp === Compare.LESS_THAN || comp === Compare.EQUALS;\n}\n```\n\n![search-2](search-2.png)\n\n****\n mid \n\n\n\n(1)  position \n(2) \n(3)  1 \n(4)  1 \n\n```javascript\nfunction interpolationSearch(\n  array,\n  value,\n  compareFn = defaultCompare,\n  equalsFn = defaultEquals,\n  diffFn = defaultDiff\n) {\n  const { length } = array;\n  let low = 0;\n  let high = length - 1;\n  let position = -1;\n  let delta = -1;\n  while (\n    low <= high &&\n    biggerOrEquals(value, array[low], compareFn) &&\n    lesserOrEquals(value, array[high], compareFn)\n  ) {\n    /**  array[high] position  array[low]position delta  */\n    delta = diffFn(value, array[low]) / diffFn(array[high], array[low]);\n    position = low + Math.floor((high - low) * delta); // {2}\n    if (equalsFn(array[position], value)) {\n      // {3}\n      return position;\n    }\n    if (compareFn(array[position], value) === Compare.LESS_THAN) {\n      // {4}\n      low = position + 1;\n    } else {\n      high = position - 1;\n    }\n  }\n  return DOES_NOT_EXIST;\n}\n\nfunction lesserOrEquals(a, b, compareFn) {\n  const comp = compareFn(a, b);\n  return comp === Compare.LESS_THAN || comp === Compare.EQUALS;\n}\nfunction biggerOrEquals(a, b, compareFn) {\n  const comp = compareFn(a, b);\n  return comp === Compare.BIGGER_THAN || comp === Compare.EQUALS;\n}\n```\n\n![search-3](search-3.png)\n\n###### \n\n**Fisher-Yates **\n\n\n```javascript\nfunction shuffle(array) {\n  for (let i = array.length - 1; i > 0; i--) {\n    const randomIndex = Math.floor(Math.random() * (i + 1));\n    swap(array, i, randomIndex);\n  }\n  return array;\n}\n```\n\n![search-4](search-4.png)\n","source":"_posts/38-data-structure6.md","raw":"---\ntitle: (6)\ndate: 2022-10-13 14:15:28\ntags:\n---\n\n#### \n\n###### \n\n****\n(_ O(n2)_)\n\n```javascript\nfunction defaultCompare(a, b) {\n  return a < b ? Compare.LESS_THAN : Compare.BIGGER_THAN;\n}\nfunction bubbleSort(array, compareFn = defaultCompare) {\n  const { length } = array; // {1}\n  for (let i = 0; i < length; i++) {\n    // {2}\n    for (let j = 0; j < length - 1; j++) {\n      // {3}\n      if (compareFn(array[j], array[j + 1]) === Compare.BIGGER_THAN) {\n        // {4}\n        swap(array, j, j + 1); // {5}\n      }\n    }\n  }\n  return array;\n}\n\nfunction swap(array, a, b) {\n  /* const temp = array[a]; \n array[a] = array[b]; \n array[b] = temp; */ // \n  [array[a], array[b]] = [array[b], array[a]]; // ES2015 \n}\n```\n\n![sort-1](sort-1.png)\n__\n\n```javascript\nfunction modifiedBubbleSort(array, compareFn = defaultCompare) {\n  const { length } = array;\n  for (let i = 0; i < length; i++) {\n    for (let j = 0; j < length - 1 - i; j++) {\n      // {1}\n      if (compareFn(array[j], array[j + 1]) === Compare.BIGGER_THAN) {\n        swap(array, j, j + 1);\n      }\n    }\n  }\n  return array;\n}\n```\n\n![sort-2](sort-2.png)\n\n****\n(_ O(n2)_).\n\n```javascript\nfunction selectionSort(array, compareFn = defaultCompare) {\n  const { length } = array; // {1}\n  let indexMin;\n  for (let i = 0; i < length - 1; i++) {\n    // {2}\n    indexMin = i; // {3}\n    for (let j = i; j < length; j++) {\n      // {4}\n      if (compareFn(array[indexMin], array[j]) === Compare.BIGGER_THAN) {\n        // {5}\n        indexMin = j; // {6}\n      }\n    }\n    if (i !== indexMin) {\n      // {7}\n      swap(array, i, indexMin);\n    }\n  }\n  return array;\n}\n```\n\n![sort-3](sort-3.png)\n\n****\n.\n\n```javascript\nfunction insertionSort(array, compareFn = defaultCompare) {\n  const { length } = array; // {1}\n  let temp;\n  for (let i = 1; i < length; i++) {\n    // {2}\n    let j = i; // {3}\n    temp = array[i]; // {4}\n    while (j > 0 && compareFn(array[j - 1], temp) === Compare.BIGGER_THAN) {\n      // {5}\n      array[j] = array[j - 1]; // {6}\n      j--;\n    }\n    array[j] = temp; // {7}\n  }\n  return array;\n}\n```\n\n![sort-4](sort-4.png)\n__\n\n****\n O(nlog(n))\n\n_JavaScript  Array  sort Array.prototype.sort JavaScript ECMAScript Mozilla Firefox  Array.prototype.sort  ChromeV8 _\n\n\n\n\n\n```javascript\nfunction mergeSort(array, compareFn = defaultCompare) {\n  if (array.length > 1) {\n    // {1}\n    const { length } = array;\n    const middle = Math.floor(length / 2); // {2}\n    const left = mergeSort(array.slice(0, middle), compareFn); // {3}\n    const right = mergeSort(array.slice(middle, length), compareFn); // {4}\n    array = merge(left, right, compareFn); // {5}\n  }\n  return array;\n}\n\nfunction merge(left, right, compareFn) {\n  let i = 0; // {6}\n  let j = 0;\n  const result = [];\n  while (i < left.length && j < right.length) {\n    // {7}\n    result.push(\n      compareFn(left[i], right[j]) === Compare.LESS_THAN\n        ? left[i++]\n        : right[j++]\n    ); // {8}\n  }\n  return result.concat(i < left.length ? left.slice(i) : right.slice(j)); // {9}\n}\n```\n\n![sort-5](sort-5.png)\n\n****\n O(nlog(n)) O(nlog(n))\n\n(1) pivot\n(2) partition\n(3) \n\n```javascript\nfunction quickSort(array, compareFn = defaultCompare) {\n  return quick(array, 0, array.length - 1, compareFn);\n}\n\nfunction quick(array, left, right, compareFn) {\n  let index; // {1}\n  if (array.length > 1) {\n    // {2}\n    index = partition(array, left, right, compareFn); // {3}\n    if (left < index - 1) {\n      // {4}\n      quick(array, left, index - 1, compareFn); // {5}\n    }\n    if (index < right) {\n      // {6}\n      quick(array, index, right, compareFn); // {7}\n    }\n  }\n  return array;\n}\n\nfunction partition(array, left, right, compareFn) {\n  // \n  const pivot = array[Math.floor((right + left) / 2)]; // {8}\n  let i = left; // {9}\n  let j = right; // {10}\n  while (i <= j) {\n    // {11}\n    while (compareFn(array[i], pivot) === Compare.LESS_THAN) {\n      // {12}\n      i++;\n    }\n    while (compareFn(array[j], pivot) === Compare.BIGGER_THAN) {\n      // {13}\n      j--;\n    }\n    if (i <= j) {\n      // {14}\n      swap(array, i, j); // {15}\n      i++;\n      j--;\n    }\n  }\n  return i; // {16}\n}\n```\n\n\n![sort-6](sort-6.png)\n\n![sort-7](sort-7.png)\n\n![sort-8](sort-8.png)\n![sort-9](sort-9.png)\n![sort-10](sort-10.png)\n\n****\n\n\n O(n+k) k \n\n```javascript\nfunction countingSort(array) {\n  if (array.length < 2) {\n    // {1}\n    return array;\n  }\n  const maxValue = findMaxValue(array); // {2}\n  const counts = new Array(maxValue + 1); // {3}\n  array.forEach((element) => {\n    if (!counts[element]) {\n      // {4}\n      counts[element] = 0;\n    }\n    counts[element]++; // {5}\n  });\n  let sortedIndex = 0;\n  counts.forEach((count, i) => {\n    while (count > 0) {\n      // {6}\n      array[sortedIndex++] = i; // {7}\n      count--; // {8}\n    }\n  });\n  return array;\n}\n\nfunction findMaxValue(array) {\n  let max = array[0];\n  for (let i = 1; i < array.length; i++) {\n    if (array[i] > max) {\n      max = array[i];\n    }\n  }\n  return max;\n}\n```\n\n****\n\n\n_ 5 _\n\n```javascript\nfunction bucketSort(array, bucketSize = 5) {\n  // {1}\n  if (array.length < 2) {\n    return array;\n  }\n  // \n  const buckets = createBuckets(array, bucketSize); // {2}\n  // \n  return sortBuckets(buckets); // {3}\n}\n\nfunction createBuckets(array, bucketSize) {\n  let minValue = array[0];\n  let maxValue = array[0];\n  for (let i = 1; i < array.length; i++) {\n    // {4}\n    if (array[i] < minValue) {\n      minValue = array[i];\n    } else if (array[i] > maxValue) {\n      maxValue = array[i];\n    }\n  }\n  // \n  const bucketCount = Math.floor((maxValue - minValue) / bucketSize) + 1; // {5}\n  const buckets = [];\n  for (let i = 0; i < bucketCount; i++) {\n    // \n    buckets[i] = [];\n  }\n  for (let i = 0; i < array.length; i++) {\n    // {7}\n    const bucketIndex = Math.floor((array[i] - minValue) / bucketSize); // {8}\n    buckets[bucketIndex].push(array[i]);\n  }\n  return buckets;\n}\n\nfunction sortBuckets(buckets) {\n  const sortedArray = []; // {9}\n  for (let i = 0; i < buckets.length; i++) {\n    // {10}\n    if (buckets[i] != null) {\n      insertionSort(buckets[i]); // {11}\n      sortedArray.push(...buckets[i]); // {12}\n    }\n  }\n  return sortedArray;\n}\n```\n\n![sort-11](sort-11.png)\n\n****\n\n\n```javascript\nfunction radixSort(array, radixBase = 10) {\n  if (array.length < 2) {\n    return array;\n  }\n  const minValue = findMinValue(array);\n  const maxValue = findMaxValue(array);\n  let significantDigit = 1; // {1}\n  while ((maxValue - minValue) / significantDigit >= 1) {\n    // {2}\n    array = countingSortForRadix(array, radixBase, significantDigit, minValue); // {3}\n    significantDigit *= radixBase; // {4}\n  }\n  return array;\n}\n\nfunction countingSortForRadix(array, radixBase, significantDigit, minValue) {\n  let bucketsIndex;\n  const buckets = [];\n  const aux = [];\n  for (let i = 0; i < radixBase; i++) {\n    // {5}\n    buckets[i] = 0;\n  }\n  for (let i = 0; i < array.length; i++) {\n    // {7}\n    bucketsIndex = Math.floor(\n      ((array[i] - minValue) / significantDigit) % radixBase\n    ); // {7}\n    buckets[bucketsIndex]++; // {8}\n  }\n  for (let i = 1; i < radixBase; i++) {\n    // \n    buckets[i] += buckets[i - 1];\n  }\n  for (let i = array.length - 1; i >= 0; i--) {\n    // {10}\n    bucketsIndex = Math.floor(\n      ((array[i] - minValue) / significantDigit) % radixBase\n    ); // {11}\n    aux[--buckets[bucketsIndex]] = array[i]; // {12}\n  }\n  for (let i = 0; i < array.length; i++) {\n    // {13}\n    array[i] = aux[i];\n  }\n  return array;\n}\n```\n\n![sort-12](sort-12.png)\n\n###### \n\n****\n\n\n```javascript\nconst DOES_NOT_EXIST = -1;\nfunction sequentialSearch(array, value, equalsFn = defaultEquals) {\n  for (let i = 0; i < array.length; i++) {\n    // {1}\n    if (equalsFn(value, array[i])) {\n      // {2}\n      return i; // {3}\n    }\n  }\n  return DOES_NOT_EXIST; // {4}\n}\n```\n\n![search-1](search-1.png)\n\n****\n\n(1) \n(2) \n(3)  1 \n(4)  1 \n\n```javascript\nfunction binarySearch(array, value, compareFn = defaultCompare) {\n  const sortedArray = quickSort(array); // {1}\n  let low = 0; // {2}\n  let high = sortedArray.length - 1; // {3}\n  while (lesserOrEquals(low, high, compareFn)) {\n    // {4}\n    const mid = Math.floor((low + high) / 2); // {5}\n    const element = sortedArray[mid]; // {6}\n    if (compareFn(element, value) === Compare.LESS_THAN) {\n      // {7}\n      low = mid + 1; // {8}\n    } else if (compareFn(element, value) === Compare.BIGGER_THAN) {\n      // {9}\n      high = mid - 1; // {10}\n    } else {\n      return mid; // {11}\n    }\n  }\n  return DOES_NOT_EXIST; // {12}\n}\n\nfunction lesserOrEquals(a, b, compareFn) {\n  const comp = compareFn(a, b);\n  return comp === Compare.LESS_THAN || comp === Compare.EQUALS;\n}\n```\n\n![search-2](search-2.png)\n\n****\n mid \n\n\n\n(1)  position \n(2) \n(3)  1 \n(4)  1 \n\n```javascript\nfunction interpolationSearch(\n  array,\n  value,\n  compareFn = defaultCompare,\n  equalsFn = defaultEquals,\n  diffFn = defaultDiff\n) {\n  const { length } = array;\n  let low = 0;\n  let high = length - 1;\n  let position = -1;\n  let delta = -1;\n  while (\n    low <= high &&\n    biggerOrEquals(value, array[low], compareFn) &&\n    lesserOrEquals(value, array[high], compareFn)\n  ) {\n    /**  array[high] position  array[low]position delta  */\n    delta = diffFn(value, array[low]) / diffFn(array[high], array[low]);\n    position = low + Math.floor((high - low) * delta); // {2}\n    if (equalsFn(array[position], value)) {\n      // {3}\n      return position;\n    }\n    if (compareFn(array[position], value) === Compare.LESS_THAN) {\n      // {4}\n      low = position + 1;\n    } else {\n      high = position - 1;\n    }\n  }\n  return DOES_NOT_EXIST;\n}\n\nfunction lesserOrEquals(a, b, compareFn) {\n  const comp = compareFn(a, b);\n  return comp === Compare.LESS_THAN || comp === Compare.EQUALS;\n}\nfunction biggerOrEquals(a, b, compareFn) {\n  const comp = compareFn(a, b);\n  return comp === Compare.BIGGER_THAN || comp === Compare.EQUALS;\n}\n```\n\n![search-3](search-3.png)\n\n###### \n\n**Fisher-Yates **\n\n\n```javascript\nfunction shuffle(array) {\n  for (let i = array.length - 1; i > 0; i--) {\n    const randomIndex = Math.floor(Math.random() * (i + 1));\n    swap(array, i, randomIndex);\n  }\n  return array;\n}\n```\n\n![search-4](search-4.png)\n","slug":"38-data-structure6","published":1,"updated":"2022-11-23T00:33:39.668Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baja001anwva0ptc6bat","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><strong></strong><br>(<em> O(n2)</em>)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">defaultCompare</span>(<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> a &lt; b ? Compare.LESS_THAN : Compare.BIGGER_THAN;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">bubbleSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length - <span class=\"number\">1</span>; j++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (compareFn(array[j], array[j + <span class=\"number\">1</span>]) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">        swap(array, j, j + <span class=\"number\">1</span>); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">swap</span>(<span class=\"params\">array, a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">/* const temp = array[a]; </span></span><br><span class=\"line\"><span class=\"comment\"> array[a] = array[b]; </span></span><br><span class=\"line\"><span class=\"comment\"> array[b] = temp; */</span> <span class=\"comment\">// </span></span><br><span class=\"line\">  [array[a], array[b]] = [array[b], array[a]]; <span class=\"comment\">// ES2015 </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-1.png\" alt=\"sort-1\"><br><em></em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">modifiedBubbleSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length - <span class=\"number\">1</span> - i; j++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (compareFn(array[j], array[j + <span class=\"number\">1</span>]) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">        swap(array, j, j + <span class=\"number\">1</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-2.png\" alt=\"sort-2\"></p>\n<p><strong></strong><br>(<em> O(n2)</em>).</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">selectionSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> indexMin;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    indexMin = i; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = i; j &lt; length; j++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (compareFn(array[indexMin], array[j]) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        indexMin = j; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (i !== indexMin) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      swap(array, i, indexMin);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-3.png\" alt=\"sort-3\"></p>\n<p><strong></strong><br>.</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">insertionSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> temp;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> j = i; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    temp = array[i]; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (j &gt; <span class=\"number\">0</span> &amp;&amp; compareFn(array[j - <span class=\"number\">1</span>], temp) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      array[j] = array[j - <span class=\"number\">1</span>]; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      j--;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    array[j] = temp; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-4.png\" alt=\"sort-4\"><br><em></em></p>\n<p><strong></strong><br> O(nlog(n))</p>\n<p><em>JavaScript  Array  sort Array.prototype.sort JavaScript ECMAScript Mozilla Firefox  Array.prototype.sort  ChromeV8 </em></p>\n<p></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">mergeSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (array.length &gt; <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; length &#125; = array;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> middle = <span class=\"built_in\">Math</span>.floor(length / <span class=\"number\">2</span>); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> left = mergeSort(array.slice(<span class=\"number\">0</span>, middle), compareFn); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> right = mergeSort(array.slice(middle, length), compareFn); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    array = merge(left, right, compareFn); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">merge</span>(<span class=\"params\">left, right, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> j = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> result = [];</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (i &lt; left.length &amp;&amp; j &lt; right.length) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    result.push(</span><br><span class=\"line\">      compareFn(left[i], right[j]) === Compare.LESS_THAN</span><br><span class=\"line\">        ? left[i++]</span><br><span class=\"line\">        : right[j++]</span><br><span class=\"line\">    ); <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> result.concat(i &lt; left.length ? left.slice(i) : right.slice(j)); <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-5.png\" alt=\"sort-5\"></p>\n<p><strong></strong><br> O(nlog(n)) O(nlog(n))</p>\n<p>(1) pivot<br>(2) partition<br>(3) </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">quickSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> quick(array, <span class=\"number\">0</span>, array.length - <span class=\"number\">1</span>, compareFn);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">quick</span>(<span class=\"params\">array, left, right, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> index; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (array.length &gt; <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    index = partition(array, left, right, compareFn); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (left &lt; index - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      quick(array, left, index - <span class=\"number\">1</span>, compareFn); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &lt; right) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      quick(array, index, right, compareFn); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">partition</span>(<span class=\"params\">array, left, right, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> pivot = array[<span class=\"built_in\">Math</span>.floor((right + left) / <span class=\"number\">2</span>)]; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> i = left; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> j = right; <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (i &lt;= j) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (compareFn(array[i], pivot) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">      i++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (compareFn(array[j], pivot) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">      j--;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (i &lt;= j) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;14&#125;</span></span><br><span class=\"line\">      swap(array, i, j); <span class=\"comment\">// &#123;15&#125;</span></span><br><span class=\"line\">      i++;</span><br><span class=\"line\">      j--;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> i; <span class=\"comment\">// &#123;16&#125;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><br><img src=\"/2022/10/13/38-data-structure6/sort-6.png\" alt=\"sort-6\"><br><br><img src=\"/2022/10/13/38-data-structure6/sort-7.png\" alt=\"sort-7\"><br><br><img src=\"/2022/10/13/38-data-structure6/sort-8.png\" alt=\"sort-8\"><br><img src=\"/2022/10/13/38-data-structure6/sort-9.png\" alt=\"sort-9\"><br><img src=\"/2022/10/13/38-data-structure6/sort-10.png\" alt=\"sort-10\"></p>\n<p><strong></strong><br></p>\n<p> O(n+k) k </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">countingSort</span>(<span class=\"params\">array</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (array.length &lt; <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> maxValue = findMaxValue(array); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> counts = <span class=\"keyword\">new</span> <span class=\"built_in\">Array</span>(maxValue + <span class=\"number\">1</span>); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  array.forEach(<span class=\"function\">(<span class=\"params\">element</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!counts[element]) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      counts[element] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    counts[element]++; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">let</span> sortedIndex = <span class=\"number\">0</span>;</span><br><span class=\"line\">  counts.forEach(<span class=\"function\">(<span class=\"params\">count, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (count &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      array[sortedIndex++] = i; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      count--; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">findMaxValue</span>(<span class=\"params\">array</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> max = array[<span class=\"number\">0</span>];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (array[i] &gt; max) &#123;</span><br><span class=\"line\">      max = array[i];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> max;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong><br></p>\n<p><em> 5 </em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">bucketSort</span>(<span class=\"params\">array, bucketSize = <span class=\"number\">5</span></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (array.length &lt; <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> buckets = createBuckets(array, bucketSize); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> sortBuckets(buckets); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createBuckets</span>(<span class=\"params\">array, bucketSize</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> minValue = array[<span class=\"number\">0</span>];</span><br><span class=\"line\">  <span class=\"keyword\">let</span> maxValue = array[<span class=\"number\">0</span>];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (array[i] &lt; minValue) &#123;</span><br><span class=\"line\">      minValue = array[i];</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (array[i] &gt; maxValue) &#123;</span><br><span class=\"line\">      maxValue = array[i];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> bucketCount = <span class=\"built_in\">Math</span>.floor((maxValue - minValue) / bucketSize) + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> buckets = [];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; bucketCount; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    buckets[i] = [];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> bucketIndex = <span class=\"built_in\">Math</span>.floor((array[i] - minValue) / bucketSize); <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    buckets[bucketIndex].push(array[i]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> buckets;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sortBuckets</span>(<span class=\"params\">buckets</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> sortedArray = []; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; buckets.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (buckets[i] != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      insertionSort(buckets[i]); <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">      sortedArray.push(...buckets[i]); <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> sortedArray;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-11.png\" alt=\"sort-11\"></p>\n<p><strong></strong><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">radixSort</span>(<span class=\"params\">array, radixBase = <span class=\"number\">10</span></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (array.length &lt; <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> minValue = findMinValue(array);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> maxValue = findMaxValue(array);</span><br><span class=\"line\">  <span class=\"keyword\">let</span> significantDigit = <span class=\"number\">1</span>; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> ((maxValue - minValue) / significantDigit &gt;= <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    array = countingSortForRadix(array, radixBase, significantDigit, minValue); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    significantDigit *= radixBase; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">countingSortForRadix</span>(<span class=\"params\">array, radixBase, significantDigit, minValue</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> bucketsIndex;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> buckets = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> aux = [];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; radixBase; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    buckets[i] = <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    bucketsIndex = <span class=\"built_in\">Math</span>.floor(</span><br><span class=\"line\">      ((array[i] - minValue) / significantDigit) % radixBase</span><br><span class=\"line\">    ); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    buckets[bucketsIndex]++; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; radixBase; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    buckets[i] += buckets[i - <span class=\"number\">1</span>];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = array.length - <span class=\"number\">1</span>; i &gt;= <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">    bucketsIndex = <span class=\"built_in\">Math</span>.floor(</span><br><span class=\"line\">      ((array[i] - minValue) / significantDigit) % radixBase</span><br><span class=\"line\">    ); <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    aux[--buckets[bucketsIndex]] = array[i]; <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">    array[i] = aux[i];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-12.png\" alt=\"sort-12\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><strong></strong><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> DOES_NOT_EXIST = -<span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sequentialSearch</span>(<span class=\"params\">array, value, equalsFn = defaultEquals</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (equalsFn(value, array[i])) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> i; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> DOES_NOT_EXIST; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/search-1.png\" alt=\"search-1\"></p>\n<p><strong></strong><br><br>(1) <br>(2) <br>(3)  1 <br>(4)  1 </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">binarySearch</span>(<span class=\"params\">array, value, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> sortedArray = quickSort(array); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> low = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> high = sortedArray.length - <span class=\"number\">1</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (lesserOrEquals(low, high, compareFn)) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> mid = <span class=\"built_in\">Math</span>.floor((low + high) / <span class=\"number\">2</span>); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> element = sortedArray[mid]; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (compareFn(element, value) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      low = mid + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (compareFn(element, value) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">      high = mid - <span class=\"number\">1</span>; <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> mid; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> DOES_NOT_EXIST; <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">lesserOrEquals</span>(<span class=\"params\">a, b, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> comp = compareFn(a, b);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> comp === Compare.LESS_THAN || comp === Compare.EQUALS;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/search-2.png\" alt=\"search-2\"></p>\n<p><strong></strong><br> mid </p>\n<p></p>\n<p>(1)  position <br>(2) <br>(3)  1 <br>(4)  1 </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">interpolationSearch</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  array,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  value,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  compareFn = defaultCompare,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  equalsFn = defaultEquals,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  diffFn = defaultDiff</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> low = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> high = length - <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> position = -<span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> delta = -<span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (</span><br><span class=\"line\">    low &lt;= high &amp;&amp;</span><br><span class=\"line\">    biggerOrEquals(value, array[low], compareFn) &amp;&amp;</span><br><span class=\"line\">    lesserOrEquals(value, array[high], compareFn)</span><br><span class=\"line\">  ) &#123;</span><br><span class=\"line\">    <span class=\"comment\">/**  array[high] position  array[low]position delta  */</span></span><br><span class=\"line\">    delta = diffFn(value, array[low]) / diffFn(array[high], array[low]);</span><br><span class=\"line\">    position = low + <span class=\"built_in\">Math</span>.floor((high - low) * delta); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (equalsFn(array[position], value)) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> position;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (compareFn(array[position], value) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      low = position + <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      high = position - <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> DOES_NOT_EXIST;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">lesserOrEquals</span>(<span class=\"params\">a, b, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> comp = compareFn(a, b);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> comp === Compare.LESS_THAN || comp === Compare.EQUALS;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">biggerOrEquals</span>(<span class=\"params\">a, b, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> comp = compareFn(a, b);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> comp === Compare.BIGGER_THAN || comp === Compare.EQUALS;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/search-3.png\" alt=\"search-3\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><strong>Fisher-Yates </strong><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">shuffle</span>(<span class=\"params\">array</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = array.length - <span class=\"number\">1</span>; i &gt; <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> randomIndex = <span class=\"built_in\">Math</span>.floor(<span class=\"built_in\">Math</span>.random() * (i + <span class=\"number\">1</span>));</span><br><span class=\"line\">    swap(array, i, randomIndex);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/search-4.png\" alt=\"search-4\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><strong></strong><br>(<em> O(n2)</em>)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">defaultCompare</span>(<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> a &lt; b ? Compare.LESS_THAN : Compare.BIGGER_THAN;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">bubbleSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length - <span class=\"number\">1</span>; j++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (compareFn(array[j], array[j + <span class=\"number\">1</span>]) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">        swap(array, j, j + <span class=\"number\">1</span>); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">swap</span>(<span class=\"params\">array, a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">/* const temp = array[a]; </span></span><br><span class=\"line\"><span class=\"comment\"> array[a] = array[b]; </span></span><br><span class=\"line\"><span class=\"comment\"> array[b] = temp; */</span> <span class=\"comment\">// </span></span><br><span class=\"line\">  [array[a], array[b]] = [array[b], array[a]]; <span class=\"comment\">// ES2015 </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-1.png\" alt=\"sort-1\"><br><em></em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">modifiedBubbleSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length - <span class=\"number\">1</span> - i; j++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (compareFn(array[j], array[j + <span class=\"number\">1</span>]) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">        swap(array, j, j + <span class=\"number\">1</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-2.png\" alt=\"sort-2\"></p>\n<p><strong></strong><br>(<em> O(n2)</em>).</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">selectionSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> indexMin;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    indexMin = i; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = i; j &lt; length; j++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (compareFn(array[indexMin], array[j]) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        indexMin = j; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (i !== indexMin) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      swap(array, i, indexMin);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-3.png\" alt=\"sort-3\"></p>\n<p><strong></strong><br>.</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">insertionSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> temp;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> j = i; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    temp = array[i]; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (j &gt; <span class=\"number\">0</span> &amp;&amp; compareFn(array[j - <span class=\"number\">1</span>], temp) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      array[j] = array[j - <span class=\"number\">1</span>]; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      j--;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    array[j] = temp; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-4.png\" alt=\"sort-4\"><br><em></em></p>\n<p><strong></strong><br> O(nlog(n))</p>\n<p><em>JavaScript  Array  sort Array.prototype.sort JavaScript ECMAScript Mozilla Firefox  Array.prototype.sort  ChromeV8 </em></p>\n<p></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">mergeSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (array.length &gt; <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; length &#125; = array;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> middle = <span class=\"built_in\">Math</span>.floor(length / <span class=\"number\">2</span>); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> left = mergeSort(array.slice(<span class=\"number\">0</span>, middle), compareFn); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> right = mergeSort(array.slice(middle, length), compareFn); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    array = merge(left, right, compareFn); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">merge</span>(<span class=\"params\">left, right, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> j = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> result = [];</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (i &lt; left.length &amp;&amp; j &lt; right.length) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    result.push(</span><br><span class=\"line\">      compareFn(left[i], right[j]) === Compare.LESS_THAN</span><br><span class=\"line\">        ? left[i++]</span><br><span class=\"line\">        : right[j++]</span><br><span class=\"line\">    ); <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> result.concat(i &lt; left.length ? left.slice(i) : right.slice(j)); <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-5.png\" alt=\"sort-5\"></p>\n<p><strong></strong><br> O(nlog(n)) O(nlog(n))</p>\n<p>(1) pivot<br>(2) partition<br>(3) </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">quickSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> quick(array, <span class=\"number\">0</span>, array.length - <span class=\"number\">1</span>, compareFn);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">quick</span>(<span class=\"params\">array, left, right, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> index; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (array.length &gt; <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    index = partition(array, left, right, compareFn); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (left &lt; index - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      quick(array, left, index - <span class=\"number\">1</span>, compareFn); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &lt; right) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      quick(array, index, right, compareFn); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">partition</span>(<span class=\"params\">array, left, right, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> pivot = array[<span class=\"built_in\">Math</span>.floor((right + left) / <span class=\"number\">2</span>)]; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> i = left; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> j = right; <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (i &lt;= j) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (compareFn(array[i], pivot) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">      i++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (compareFn(array[j], pivot) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">      j--;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (i &lt;= j) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;14&#125;</span></span><br><span class=\"line\">      swap(array, i, j); <span class=\"comment\">// &#123;15&#125;</span></span><br><span class=\"line\">      i++;</span><br><span class=\"line\">      j--;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> i; <span class=\"comment\">// &#123;16&#125;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><br><img src=\"/2022/10/13/38-data-structure6/sort-6.png\" alt=\"sort-6\"><br><br><img src=\"/2022/10/13/38-data-structure6/sort-7.png\" alt=\"sort-7\"><br><br><img src=\"/2022/10/13/38-data-structure6/sort-8.png\" alt=\"sort-8\"><br><img src=\"/2022/10/13/38-data-structure6/sort-9.png\" alt=\"sort-9\"><br><img src=\"/2022/10/13/38-data-structure6/sort-10.png\" alt=\"sort-10\"></p>\n<p><strong></strong><br></p>\n<p> O(n+k) k </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">countingSort</span>(<span class=\"params\">array</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (array.length &lt; <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> maxValue = findMaxValue(array); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> counts = <span class=\"keyword\">new</span> <span class=\"built_in\">Array</span>(maxValue + <span class=\"number\">1</span>); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  array.forEach(<span class=\"function\">(<span class=\"params\">element</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!counts[element]) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      counts[element] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    counts[element]++; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">let</span> sortedIndex = <span class=\"number\">0</span>;</span><br><span class=\"line\">  counts.forEach(<span class=\"function\">(<span class=\"params\">count, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (count &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      array[sortedIndex++] = i; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      count--; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">findMaxValue</span>(<span class=\"params\">array</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> max = array[<span class=\"number\">0</span>];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (array[i] &gt; max) &#123;</span><br><span class=\"line\">      max = array[i];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> max;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong><br></p>\n<p><em> 5 </em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">bucketSort</span>(<span class=\"params\">array, bucketSize = <span class=\"number\">5</span></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (array.length &lt; <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> buckets = createBuckets(array, bucketSize); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> sortBuckets(buckets); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createBuckets</span>(<span class=\"params\">array, bucketSize</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> minValue = array[<span class=\"number\">0</span>];</span><br><span class=\"line\">  <span class=\"keyword\">let</span> maxValue = array[<span class=\"number\">0</span>];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (array[i] &lt; minValue) &#123;</span><br><span class=\"line\">      minValue = array[i];</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (array[i] &gt; maxValue) &#123;</span><br><span class=\"line\">      maxValue = array[i];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> bucketCount = <span class=\"built_in\">Math</span>.floor((maxValue - minValue) / bucketSize) + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> buckets = [];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; bucketCount; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    buckets[i] = [];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> bucketIndex = <span class=\"built_in\">Math</span>.floor((array[i] - minValue) / bucketSize); <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    buckets[bucketIndex].push(array[i]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> buckets;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sortBuckets</span>(<span class=\"params\">buckets</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> sortedArray = []; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; buckets.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (buckets[i] != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      insertionSort(buckets[i]); <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">      sortedArray.push(...buckets[i]); <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> sortedArray;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-11.png\" alt=\"sort-11\"></p>\n<p><strong></strong><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">radixSort</span>(<span class=\"params\">array, radixBase = <span class=\"number\">10</span></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (array.length &lt; <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> minValue = findMinValue(array);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> maxValue = findMaxValue(array);</span><br><span class=\"line\">  <span class=\"keyword\">let</span> significantDigit = <span class=\"number\">1</span>; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> ((maxValue - minValue) / significantDigit &gt;= <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    array = countingSortForRadix(array, radixBase, significantDigit, minValue); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    significantDigit *= radixBase; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">countingSortForRadix</span>(<span class=\"params\">array, radixBase, significantDigit, minValue</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> bucketsIndex;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> buckets = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> aux = [];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; radixBase; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    buckets[i] = <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    bucketsIndex = <span class=\"built_in\">Math</span>.floor(</span><br><span class=\"line\">      ((array[i] - minValue) / significantDigit) % radixBase</span><br><span class=\"line\">    ); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    buckets[bucketsIndex]++; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; radixBase; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    buckets[i] += buckets[i - <span class=\"number\">1</span>];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = array.length - <span class=\"number\">1</span>; i &gt;= <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">    bucketsIndex = <span class=\"built_in\">Math</span>.floor(</span><br><span class=\"line\">      ((array[i] - minValue) / significantDigit) % radixBase</span><br><span class=\"line\">    ); <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    aux[--buckets[bucketsIndex]] = array[i]; <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">    array[i] = aux[i];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-12.png\" alt=\"sort-12\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><strong></strong><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> DOES_NOT_EXIST = -<span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sequentialSearch</span>(<span class=\"params\">array, value, equalsFn = defaultEquals</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (equalsFn(value, array[i])) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> i; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> DOES_NOT_EXIST; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/search-1.png\" alt=\"search-1\"></p>\n<p><strong></strong><br><br>(1) <br>(2) <br>(3)  1 <br>(4)  1 </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">binarySearch</span>(<span class=\"params\">array, value, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> sortedArray = quickSort(array); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> low = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> high = sortedArray.length - <span class=\"number\">1</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (lesserOrEquals(low, high, compareFn)) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> mid = <span class=\"built_in\">Math</span>.floor((low + high) / <span class=\"number\">2</span>); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> element = sortedArray[mid]; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (compareFn(element, value) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      low = mid + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (compareFn(element, value) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">      high = mid - <span class=\"number\">1</span>; <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> mid; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> DOES_NOT_EXIST; <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">lesserOrEquals</span>(<span class=\"params\">a, b, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> comp = compareFn(a, b);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> comp === Compare.LESS_THAN || comp === Compare.EQUALS;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/search-2.png\" alt=\"search-2\"></p>\n<p><strong></strong><br> mid </p>\n<p></p>\n<p>(1)  position <br>(2) <br>(3)  1 <br>(4)  1 </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">interpolationSearch</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  array,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  value,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  compareFn = defaultCompare,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  equalsFn = defaultEquals,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  diffFn = defaultDiff</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> low = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> high = length - <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> position = -<span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> delta = -<span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (</span><br><span class=\"line\">    low &lt;= high &amp;&amp;</span><br><span class=\"line\">    biggerOrEquals(value, array[low], compareFn) &amp;&amp;</span><br><span class=\"line\">    lesserOrEquals(value, array[high], compareFn)</span><br><span class=\"line\">  ) &#123;</span><br><span class=\"line\">    <span class=\"comment\">/**  array[high] position  array[low]position delta  */</span></span><br><span class=\"line\">    delta = diffFn(value, array[low]) / diffFn(array[high], array[low]);</span><br><span class=\"line\">    position = low + <span class=\"built_in\">Math</span>.floor((high - low) * delta); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (equalsFn(array[position], value)) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> position;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (compareFn(array[position], value) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      low = position + <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      high = position - <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> DOES_NOT_EXIST;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">lesserOrEquals</span>(<span class=\"params\">a, b, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> comp = compareFn(a, b);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> comp === Compare.LESS_THAN || comp === Compare.EQUALS;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">biggerOrEquals</span>(<span class=\"params\">a, b, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> comp = compareFn(a, b);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> comp === Compare.BIGGER_THAN || comp === Compare.EQUALS;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/search-3.png\" alt=\"search-3\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><strong>Fisher-Yates </strong><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">shuffle</span>(<span class=\"params\">array</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = array.length - <span class=\"number\">1</span>; i &gt; <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> randomIndex = <span class=\"built_in\">Math</span>.floor(<span class=\"built_in\">Math</span>.random() * (i + <span class=\"number\">1</span>));</span><br><span class=\"line\">    swap(array, i, randomIndex);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/search-4.png\" alt=\"search-4\"></p>\n"},{"title":"","date":"2022-05-23T06:13:56.000Z","_content":"\n## \n(1)HTMLDOM\n(2)CSSCSSOM\n(3)DOMCSSOMRender\n(4)\n(5)\n(6)GPUGPU\n(7)(PS:htmlrender)\n## GUI\n(1)HTMLCSSDOMRender\n(2)/\n--1JavaScriptCSSreflow\n--2\n()\nDOM\n\n\nresize\n\noffsetLeft/Top/Height/Width,clientTop/Left/Width/Height,scrollTop/Left/Width/Height,width/height,getComputedStyle(),currentStyle(IE))\n--3 JavaScript \n--4\n## JS\n(1)Javascript\n(2)GUIGUI ON then JS Suspend.JS\n## \n(1)JS\n(2)JSclick,AJAXJS\n## \n(1)setIntervalsetTimeout\n(2)JS,JavaScript, \n(3)JS\n## http\n(1)XMLHttpRequest\n(2)JavaScript\n\n## hover\n![hover](hover.png)\n\n## performance\n![performance](performance.png)\n\n## network\n![network](network.png)\n- preserve log \n","source":"_posts/4-browser-render.md","raw":"---\ntitle: \ndate: 2022-05-23 14:13:56\ntags:\n---\n\n## \n(1)HTMLDOM\n(2)CSSCSSOM\n(3)DOMCSSOMRender\n(4)\n(5)\n(6)GPUGPU\n(7)(PS:htmlrender)\n## GUI\n(1)HTMLCSSDOMRender\n(2)/\n--1JavaScriptCSSreflow\n--2\n()\nDOM\n\n\nresize\n\noffsetLeft/Top/Height/Width,clientTop/Left/Width/Height,scrollTop/Left/Width/Height,width/height,getComputedStyle(),currentStyle(IE))\n--3 JavaScript \n--4\n## JS\n(1)Javascript\n(2)GUIGUI ON then JS Suspend.JS\n## \n(1)JS\n(2)JSclick,AJAXJS\n## \n(1)setIntervalsetTimeout\n(2)JS,JavaScript, \n(3)JS\n## http\n(1)XMLHttpRequest\n(2)JavaScript\n\n## hover\n![hover](hover.png)\n\n## performance\n![performance](performance.png)\n\n## network\n![network](network.png)\n- preserve log \n","slug":"4-browser-render","published":1,"updated":"2022-11-23T00:33:39.725Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62bajb001bnwvah2wc7rkq","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>(1)HTMLDOM<br>(2)CSSCSSOM<br>(3)DOMCSSOMRender<br>(4)<br>(5)<br>(6)GPUGPU<br>(7)(PS:htmlrender)</p>\n<h2 id=\"GUI\"><a href=\"#GUI\" class=\"headerlink\" title=\"GUI\"></a>GUI</h2><p>(1)HTMLCSSDOMRender<br>(2)/<br>1JavaScriptCSSreflow<br>2<br>()<br>DOM<br><br><br>resize<br><br>offsetLeft/Top/Height/Width,clientTop/Left/Width/Height,scrollTop/Left/Width/Height,width/height,getComputedStyle(),currentStyle(IE))<br>3 JavaScript <br>4</p>\n<h2 id=\"JS\"><a href=\"#JS\" class=\"headerlink\" title=\"JS\"></a>JS</h2><p>(1)Javascript<br>(2)GUIGUI ON then JS Suspend.JS</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>(1)JS<br>(2)JSclick,AJAXJS</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>(1)setIntervalsetTimeout<br>(2)JS,JavaScript, <br>(3)JS</p>\n<h2 id=\"http\"><a href=\"#http\" class=\"headerlink\" title=\"http\"></a>http</h2><p>(1)XMLHttpRequest<br>(2)JavaScript</p>\n<h2 id=\"hover\"><a href=\"#hover\" class=\"headerlink\" title=\"hover\"></a>hover</h2><p><img src=\"/2022/05/23/4-browser-render/hover.png\" alt=\"hover\"></p>\n<h2 id=\"performance\"><a href=\"#performance\" class=\"headerlink\" title=\"performance\"></a>performance</h2><p><img src=\"/2022/05/23/4-browser-render/performance.png\" alt=\"performance\"></p>\n<h2 id=\"network\"><a href=\"#network\" class=\"headerlink\" title=\"network\"></a>network</h2><p><img src=\"/2022/05/23/4-browser-render/network.png\" alt=\"network\"></p>\n<ul>\n<li>preserve log </li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>(1)HTMLDOM<br>(2)CSSCSSOM<br>(3)DOMCSSOMRender<br>(4)<br>(5)<br>(6)GPUGPU<br>(7)(PS:htmlrender)</p>\n<h2 id=\"GUI\"><a href=\"#GUI\" class=\"headerlink\" title=\"GUI\"></a>GUI</h2><p>(1)HTMLCSSDOMRender<br>(2)/<br>1JavaScriptCSSreflow<br>2<br>()<br>DOM<br><br><br>resize<br><br>offsetLeft/Top/Height/Width,clientTop/Left/Width/Height,scrollTop/Left/Width/Height,width/height,getComputedStyle(),currentStyle(IE))<br>3 JavaScript <br>4</p>\n<h2 id=\"JS\"><a href=\"#JS\" class=\"headerlink\" title=\"JS\"></a>JS</h2><p>(1)Javascript<br>(2)GUIGUI ON then JS Suspend.JS</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>(1)JS<br>(2)JSclick,AJAXJS</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>(1)setIntervalsetTimeout<br>(2)JS,JavaScript, <br>(3)JS</p>\n<h2 id=\"http\"><a href=\"#http\" class=\"headerlink\" title=\"http\"></a>http</h2><p>(1)XMLHttpRequest<br>(2)JavaScript</p>\n<h2 id=\"hover\"><a href=\"#hover\" class=\"headerlink\" title=\"hover\"></a>hover</h2><p><img src=\"/2022/05/23/4-browser-render/hover.png\" alt=\"hover\"></p>\n<h2 id=\"performance\"><a href=\"#performance\" class=\"headerlink\" title=\"performance\"></a>performance</h2><p><img src=\"/2022/05/23/4-browser-render/performance.png\" alt=\"performance\"></p>\n<h2 id=\"network\"><a href=\"#network\" class=\"headerlink\" title=\"network\"></a>network</h2><p><img src=\"/2022/05/23/4-browser-render/network.png\" alt=\"network\"></p>\n<ul>\n<li>preserve log </li>\n</ul>\n"},{"title":"scrollIntoView","date":"2022-11-10T02:39:52.000Z","_content":"\n###### scrollIntoView\n*element.scrollIntoView*\nscrollIntoView2\n\n###### scrollIntoView\n*element.scrollIntoView()*\nelement.scrollIntoView(true)\n\n*element.scrollIntoView(boolean)*\n- booleantrue\n  - \n  - element.scrollIntoView({ block: \"start\", inline: 'nearest'})\n- booleanfalse\n  - \n  - element.scrollIntoView({ block: \"end\", inline: 'nearest'})\n\n*element.scrollIntoView(options)*\noptions\n- behavior\n  - \n  - \n    - auto()\n    - smooth\n- block\n  - \n  - \n    - start: \n    - center\n    - end\n    - nearest\n- inline\n  - \n  - \n    - start\n    - center\n    - end\n    - nearest: \n\n****","source":"_posts/42-scrollInToView-params.md","raw":"---\ntitle: scrollIntoView\ndate: 2022-11-10 10:39:52\ntags:\n---\n\n###### scrollIntoView\n*element.scrollIntoView*\nscrollIntoView2\n\n###### scrollIntoView\n*element.scrollIntoView()*\nelement.scrollIntoView(true)\n\n*element.scrollIntoView(boolean)*\n- booleantrue\n  - \n  - element.scrollIntoView({ block: \"start\", inline: 'nearest'})\n- booleanfalse\n  - \n  - element.scrollIntoView({ block: \"end\", inline: 'nearest'})\n\n*element.scrollIntoView(options)*\noptions\n- behavior\n  - \n  - \n    - auto()\n    - smooth\n- block\n  - \n  - \n    - start: \n    - center\n    - end\n    - nearest\n- inline\n  - \n  - \n    - start\n    - center\n    - end\n    - nearest: \n\n****","slug":"42-scrollInToView-params","published":1,"updated":"2022-11-23T00:33:39.730Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62bajc001cnwvabk9abahs","content":"<h6 id=\"scrollIntoView\"><a href=\"#scrollIntoView\" class=\"headerlink\" title=\"scrollIntoView\"></a>scrollIntoView</h6><p><em>element.scrollIntoView</em><br>scrollIntoView2</p>\n<h6 id=\"scrollIntoView\"><a href=\"#scrollIntoView\" class=\"headerlink\" title=\"scrollIntoView\"></a>scrollIntoView</h6><p><em>element.scrollIntoView()</em><br>element.scrollIntoView(true)</p>\n<p><em>element.scrollIntoView(boolean)</em></p>\n<ul>\n<li>booleantrue<ul>\n<li></li>\n<li>element.scrollIntoView({ block: start, inline: nearest})</li>\n</ul>\n</li>\n<li>booleanfalse<ul>\n<li></li>\n<li>element.scrollIntoView({ block: end, inline: nearest})</li>\n</ul>\n</li>\n</ul>\n<p><em>element.scrollIntoView(options)</em><br>options</p>\n<ul>\n<li>behavior<ul>\n<li></li>\n<li><ul>\n<li>auto()</li>\n<li>smooth</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>block<ul>\n<li></li>\n<li><ul>\n<li>start: </li>\n<li>center</li>\n<li>end</li>\n<li>nearest</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>inline<ul>\n<li></li>\n<li><ul>\n<li>start</li>\n<li>center</li>\n<li>end</li>\n<li>nearest: </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong></strong></p>\n","site":{"data":{}},"excerpt":"","more":"<h6 id=\"scrollIntoView\"><a href=\"#scrollIntoView\" class=\"headerlink\" title=\"scrollIntoView\"></a>scrollIntoView</h6><p><em>element.scrollIntoView</em><br>scrollIntoView2</p>\n<h6 id=\"scrollIntoView\"><a href=\"#scrollIntoView\" class=\"headerlink\" title=\"scrollIntoView\"></a>scrollIntoView</h6><p><em>element.scrollIntoView()</em><br>element.scrollIntoView(true)</p>\n<p><em>element.scrollIntoView(boolean)</em></p>\n<ul>\n<li>booleantrue<ul>\n<li></li>\n<li>element.scrollIntoView({ block: start, inline: nearest})</li>\n</ul>\n</li>\n<li>booleanfalse<ul>\n<li></li>\n<li>element.scrollIntoView({ block: end, inline: nearest})</li>\n</ul>\n</li>\n</ul>\n<p><em>element.scrollIntoView(options)</em><br>options</p>\n<ul>\n<li>behavior<ul>\n<li></li>\n<li><ul>\n<li>auto()</li>\n<li>smooth</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>block<ul>\n<li></li>\n<li><ul>\n<li>start: </li>\n<li>center</li>\n<li>end</li>\n<li>nearest</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>inline<ul>\n<li></li>\n<li><ul>\n<li>start</li>\n<li>center</li>\n<li>end</li>\n<li>nearest: </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong></strong></p>\n"},{"title":"","date":"2022-10-17T02:26:13.000Z","_content":"\n###### \n****\n\n```javascript\nfunction call1(a) {\n return call2(a);\n}\n\n// \n// \nfunction call1(a) {\n const x = call2(a);\n return x;\n}\n\nfunction call1(a) {\n return call2(a) + 1;\n}\n\nfunction call1(a) {\n call2(a);\n}\n\n// \nfunction call1(a) {\n if (!!a) {\n  return call2(a);\n }\n return call3(a);\n}\n```\n\n###### \n\n**\n\nABABBABBCBC(call stack)\n\n![call-stack](40-tail-call/call-stack.png)\n\n\n\n**\n\n###### \n\n\n(stack overflow)\n\n```javascript\n// \n//  O(n)\nfunction factorial(n) {\n if (n === 1) return 1;\n return n * factorial(n - 1);\n}\n\n// O(1)\nfunction factorial(n, total) {\n if (n === 1) return total;\n return factorial(n -1, n* total);\n}\nfactorial(5, 1);\n\n// factorial(5, 1);\n// factorial(4, 5);\n// factorial(3, 20);\n// factorial(2, 60);\n// factorial(1, 120);\n// 120\n```\n\n###### \n\n\n(1) \n\n```javascript\nfunction tailCall(n, total) {\n if (n === 1) return total;\n return tailCall(n -1, n*total);\n}\n\nfunction call(n) {\n return tailCall(n, 1);\n}\n\ncall(5);\n```\n\n(2) \n\n```javascript\nfunction currying(fn, n) {\n return function (m) {\n  return fn.call(this, m, n);\n }\n}\n\nfunction tailCall(n, total) {\n if (n === 1) return total;\n return tailCall(n -1, n*total);\n}\n\nconst factorial = currying(tailCall, 1);\nfactorial(5);\n\n// ES6\nfunction factorial(n, total = 1) {\n if (n === 1) return total;\n return tailCall(n -1, n*total);\n}\nfactorial(5);\n```\n\n*ES6*\n\n- arguments \n- func.caller \n\n\n[-](https://zh.wikipedia.org/wiki/%E5%B0%BE%E8%B0%83%E7%94%A8)","source":"_posts/40-tail-call.md","raw":"---\ntitle: \ndate: 2022-10-17 10:26:13\ntags:\n---\n\n###### \n****\n\n```javascript\nfunction call1(a) {\n return call2(a);\n}\n\n// \n// \nfunction call1(a) {\n const x = call2(a);\n return x;\n}\n\nfunction call1(a) {\n return call2(a) + 1;\n}\n\nfunction call1(a) {\n call2(a);\n}\n\n// \nfunction call1(a) {\n if (!!a) {\n  return call2(a);\n }\n return call3(a);\n}\n```\n\n###### \n\n**\n\nABABBABBCBC(call stack)\n\n![call-stack](40-tail-call/call-stack.png)\n\n\n\n**\n\n###### \n\n\n(stack overflow)\n\n```javascript\n// \n//  O(n)\nfunction factorial(n) {\n if (n === 1) return 1;\n return n * factorial(n - 1);\n}\n\n// O(1)\nfunction factorial(n, total) {\n if (n === 1) return total;\n return factorial(n -1, n* total);\n}\nfactorial(5, 1);\n\n// factorial(5, 1);\n// factorial(4, 5);\n// factorial(3, 20);\n// factorial(2, 60);\n// factorial(1, 120);\n// 120\n```\n\n###### \n\n\n(1) \n\n```javascript\nfunction tailCall(n, total) {\n if (n === 1) return total;\n return tailCall(n -1, n*total);\n}\n\nfunction call(n) {\n return tailCall(n, 1);\n}\n\ncall(5);\n```\n\n(2) \n\n```javascript\nfunction currying(fn, n) {\n return function (m) {\n  return fn.call(this, m, n);\n }\n}\n\nfunction tailCall(n, total) {\n if (n === 1) return total;\n return tailCall(n -1, n*total);\n}\n\nconst factorial = currying(tailCall, 1);\nfactorial(5);\n\n// ES6\nfunction factorial(n, total = 1) {\n if (n === 1) return total;\n return tailCall(n -1, n*total);\n}\nfactorial(5);\n```\n\n*ES6*\n\n- arguments \n- func.caller \n\n\n[-](https://zh.wikipedia.org/wiki/%E5%B0%BE%E8%B0%83%E7%94%A8)","slug":"40-tail-call","published":1,"updated":"2022-12-21T01:27:15.833Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62bajc001dnwva17k0b1dv","content":"<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">call1</span>(<span class=\"params\">a</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> call2(a);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">call1</span>(<span class=\"params\">a</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">const</span> x = call2(a);</span><br><span class=\"line\"> <span class=\"keyword\">return</span> x;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">call1</span>(<span class=\"params\">a</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> call2(a) + <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">call1</span>(<span class=\"params\">a</span>) </span>&#123;</span><br><span class=\"line\"> call2(a);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">call1</span>(<span class=\"params\">a</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">if</span> (!!a) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> call2(a);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> call3(a);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em></p>\n<p>ABABBABBCBC(call stack)</p>\n<p><img src=\"/2022/10/17/40-tail-call/call-stack.png\" alt=\"call-stack\"></p>\n<p></p>\n<p><em></em></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p>(stack overflow)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">//  O(n)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">factorial</span>(<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> n * factorial(n - <span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// O(1)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">factorial</span>(<span class=\"params\">n, total</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span>) <span class=\"keyword\">return</span> total;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> factorial(n -<span class=\"number\">1</span>, n* total);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">factorial(<span class=\"number\">5</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// factorial(5, 1);</span></span><br><span class=\"line\"><span class=\"comment\">// factorial(4, 5);</span></span><br><span class=\"line\"><span class=\"comment\">// factorial(3, 20);</span></span><br><span class=\"line\"><span class=\"comment\">// factorial(2, 60);</span></span><br><span class=\"line\"><span class=\"comment\">// factorial(1, 120);</span></span><br><span class=\"line\"><span class=\"comment\">// 120</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p>(1) </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">tailCall</span>(<span class=\"params\">n, total</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span>) <span class=\"keyword\">return</span> total;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> tailCall(n -<span class=\"number\">1</span>, n*total);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">call</span>(<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> tailCall(n, <span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">call(<span class=\"number\">5</span>);</span><br></pre></td></tr></table></figure>\n\n<p>(2) </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">currying</span>(<span class=\"params\">fn, n</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">m</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> fn.call(<span class=\"built_in\">this</span>, m, n);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">tailCall</span>(<span class=\"params\">n, total</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span>) <span class=\"keyword\">return</span> total;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> tailCall(n -<span class=\"number\">1</span>, n*total);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> factorial = currying(tailCall, <span class=\"number\">1</span>);</span><br><span class=\"line\">factorial(<span class=\"number\">5</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ES6</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">factorial</span>(<span class=\"params\">n, total = <span class=\"number\">1</span></span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span>) <span class=\"keyword\">return</span> total;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> tailCall(n -<span class=\"number\">1</span>, n*total);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">factorial(<span class=\"number\">5</span>);</span><br></pre></td></tr></table></figure>\n\n<p><em>ES6</em><br></p>\n<ul>\n<li>arguments </li>\n<li>func.caller <br></li>\n</ul>\n<p><a href=\"https://zh.wikipedia.org/wiki/%E5%B0%BE%E8%B0%83%E7%94%A8\">-</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">call1</span>(<span class=\"params\">a</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> call2(a);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">call1</span>(<span class=\"params\">a</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">const</span> x = call2(a);</span><br><span class=\"line\"> <span class=\"keyword\">return</span> x;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">call1</span>(<span class=\"params\">a</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> call2(a) + <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">call1</span>(<span class=\"params\">a</span>) </span>&#123;</span><br><span class=\"line\"> call2(a);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">call1</span>(<span class=\"params\">a</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">if</span> (!!a) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> call2(a);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> call3(a);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em></p>\n<p>ABABBABBCBC(call stack)</p>\n<p><img src=\"/2022/10/17/40-tail-call/call-stack.png\" alt=\"call-stack\"></p>\n<p></p>\n<p><em></em></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p>(stack overflow)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">//  O(n)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">factorial</span>(<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> n * factorial(n - <span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// O(1)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">factorial</span>(<span class=\"params\">n, total</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span>) <span class=\"keyword\">return</span> total;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> factorial(n -<span class=\"number\">1</span>, n* total);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">factorial(<span class=\"number\">5</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// factorial(5, 1);</span></span><br><span class=\"line\"><span class=\"comment\">// factorial(4, 5);</span></span><br><span class=\"line\"><span class=\"comment\">// factorial(3, 20);</span></span><br><span class=\"line\"><span class=\"comment\">// factorial(2, 60);</span></span><br><span class=\"line\"><span class=\"comment\">// factorial(1, 120);</span></span><br><span class=\"line\"><span class=\"comment\">// 120</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p>(1) </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">tailCall</span>(<span class=\"params\">n, total</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span>) <span class=\"keyword\">return</span> total;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> tailCall(n -<span class=\"number\">1</span>, n*total);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">call</span>(<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> tailCall(n, <span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">call(<span class=\"number\">5</span>);</span><br></pre></td></tr></table></figure>\n\n<p>(2) </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">currying</span>(<span class=\"params\">fn, n</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">m</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> fn.call(<span class=\"built_in\">this</span>, m, n);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">tailCall</span>(<span class=\"params\">n, total</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span>) <span class=\"keyword\">return</span> total;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> tailCall(n -<span class=\"number\">1</span>, n*total);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> factorial = currying(tailCall, <span class=\"number\">1</span>);</span><br><span class=\"line\">factorial(<span class=\"number\">5</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ES6</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">factorial</span>(<span class=\"params\">n, total = <span class=\"number\">1</span></span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span>) <span class=\"keyword\">return</span> total;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> tailCall(n -<span class=\"number\">1</span>, n*total);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">factorial(<span class=\"number\">5</span>);</span><br></pre></td></tr></table></figure>\n\n<p><em>ES6</em><br></p>\n<ul>\n<li>arguments </li>\n<li>func.caller <br></li>\n</ul>\n<p><a href=\"https://zh.wikipedia.org/wiki/%E5%B0%BE%E8%B0%83%E7%94%A8\">-</a></p>\n"},{"title":"42-js-equal-type","date":"2022-10-26T06:24:02.000Z","_content":"\n#### javascript\n\n","source":"_posts/41-js-equal-type.md","raw":"---\ntitle: 42-js-equal-type\ndate: 2022-10-26 14:24:02\ntags:\n---\n\n#### javascript\n\n","slug":"41-js-equal-type","published":1,"updated":"2022-11-23T00:33:39.729Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62bajd001enwvacgjr7c7h","content":"<h4 id=\"javascript\"><a href=\"#javascript\" class=\"headerlink\" title=\"javascript\"></a>javascript</h4>","site":{"data":{}},"excerpt":"","more":"<h4 id=\"javascript\"><a href=\"#javascript\" class=\"headerlink\" title=\"javascript\"></a>javascript</h4>"},{"title":"-canvas.toDataURL & canvas.toBlob","date":"2022-12-08T08:48:13.000Z","_content":"\n###### \n\n\n###### \n* \n* canvas\n\n- <input type=\"file\"/>\n-  FileReader base64 Image \n-  Canvas\n- Canvas  base64 \n\n###### toDataURL\n* canvascanvasbase64.\n* canvascanvasbase64base64\n* base64\n  - base64htmlcssjs\n  - \n* \n  -  0data:,\n* toDataURL(type, encoderOptions)\n  - typebase64image/pngimage/jpegimage/webpimage/png\n  - encoderOptionsbase64 image/jpeg  image/webp 0-10.92\n[MDN HTMLCanvasElement.toDataURL()](https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/toDataURL)\n\n###### toBlob\n*  Blob  canvas \n* toBlob(callback, type, quality)\n  - callback Blob  null \n  - type(): DOMString  image/png\n  - quality(): Number  0  1  image/jpeg  image/webp \n[MDN HTMLCanvasElement.toBlob()](https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/toBlob)\n\n###### toDataURLtoBlob\n* \n  - \n    - toBlobcanvasBlobBlobFile\n    - toDataURLcanvasbase64base64File\n  - \n    - toBlob Blob \n    - toDataURL data URI DOMString\n  - \n    - toDataURLUI\n    - toBlob\n  - toDataURLtoBlobtoDataURLbase64base6437\n\n* \n  - canvas image/jpeg  image/webp  0  1  0.92\n\n```javascript\n// toBlob\ncanvas.toBlob(\n  function (b) {\n    let compressUrl = URL.createObjectURL(b); //url\n    let fileName =\n      imgFile.name.substring(0, imgFile.name.lastIndexOf('.')) +\n      '.' +\n      imgType.split('/')[1]; //\n    let file = blobToFile(b, fileName, imgType); //BlobFile\n    resolve({\n      url: compressUrl,\n      file: file,\n    });\n    imgCanvas = null; //\n  },\n  imgType,\n  quality\n);\n// toDataURL\ncanvas.toDataURL(imgType, quality);\n```","source":"_posts/43-compress-picture.md","raw":"---\ntitle: -canvas.toDataURL & canvas.toBlob\ndate: 2022-12-08 16:48:13\ntags:\n---\n\n###### \n\n\n###### \n* \n* canvas\n\n- <input type=\"file\"/>\n-  FileReader base64 Image \n-  Canvas\n- Canvas  base64 \n\n###### toDataURL\n* canvascanvasbase64.\n* canvascanvasbase64base64\n* base64\n  - base64htmlcssjs\n  - \n* \n  -  0data:,\n* toDataURL(type, encoderOptions)\n  - typebase64image/pngimage/jpegimage/webpimage/png\n  - encoderOptionsbase64 image/jpeg  image/webp 0-10.92\n[MDN HTMLCanvasElement.toDataURL()](https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/toDataURL)\n\n###### toBlob\n*  Blob  canvas \n* toBlob(callback, type, quality)\n  - callback Blob  null \n  - type(): DOMString  image/png\n  - quality(): Number  0  1  image/jpeg  image/webp \n[MDN HTMLCanvasElement.toBlob()](https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/toBlob)\n\n###### toDataURLtoBlob\n* \n  - \n    - toBlobcanvasBlobBlobFile\n    - toDataURLcanvasbase64base64File\n  - \n    - toBlob Blob \n    - toDataURL data URI DOMString\n  - \n    - toDataURLUI\n    - toBlob\n  - toDataURLtoBlobtoDataURLbase64base6437\n\n* \n  - canvas image/jpeg  image/webp  0  1  0.92\n\n```javascript\n// toBlob\ncanvas.toBlob(\n  function (b) {\n    let compressUrl = URL.createObjectURL(b); //url\n    let fileName =\n      imgFile.name.substring(0, imgFile.name.lastIndexOf('.')) +\n      '.' +\n      imgType.split('/')[1]; //\n    let file = blobToFile(b, fileName, imgType); //BlobFile\n    resolve({\n      url: compressUrl,\n      file: file,\n    });\n    imgCanvas = null; //\n  },\n  imgType,\n  quality\n);\n// toDataURL\ncanvas.toDataURL(imgType, quality);\n```","slug":"43-compress-picture","published":1,"updated":"2022-12-08T23:09:39.348Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baje001fnwvabniy2191","content":"<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li></li>\n<li>canvas<br></li>\n</ul>\n<ul>\n<li><input type=\"file\"></li>\n<li> FileReader base64 Image </li>\n<li> Canvas</li>\n<li>Canvas  base64 </li>\n</ul>\n<h6 id=\"toDataURL\"><a href=\"#toDataURL\" class=\"headerlink\" title=\"toDataURL\"></a>toDataURL</h6><ul>\n<li>canvascanvasbase64.</li>\n<li>canvascanvasbase64base64</li>\n<li>base64<ul>\n<li>base64htmlcssjs</li>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li> 0data:,</li>\n</ul>\n</li>\n<li>toDataURL(type, encoderOptions)<ul>\n<li>typebase64image/pngimage/jpegimage/webpimage/png</li>\n<li>encoderOptionsbase64 image/jpeg  image/webp 0-10.92<br><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/toDataURL\">MDN HTMLCanvasElement.toDataURL()</a></li>\n</ul>\n</li>\n</ul>\n<h6 id=\"toBlob\"><a href=\"#toBlob\" class=\"headerlink\" title=\"toBlob\"></a>toBlob</h6><ul>\n<li> Blob  canvas </li>\n<li>toBlob(callback, type, quality)<ul>\n<li>callback Blob  null </li>\n<li>type(): DOMString  image/png</li>\n<li>quality(): Number  0  1  image/jpeg  image/webp <br><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/toBlob\">MDN HTMLCanvasElement.toBlob()</a></li>\n</ul>\n</li>\n</ul>\n<h6 id=\"toDataURLtoBlob\"><a href=\"#toDataURLtoBlob\" class=\"headerlink\" title=\"toDataURLtoBlob\"></a>toDataURLtoBlob</h6><ul>\n<li><p></p>\n<ul>\n<li><ul>\n<li>toBlobcanvasBlobBlobFile</li>\n<li>toDataURLcanvasbase64base64File</li>\n</ul>\n</li>\n<li><ul>\n<li>toBlob Blob </li>\n<li>toDataURL data URI DOMString</li>\n</ul>\n</li>\n<li><ul>\n<li>toDataURLUI</li>\n<li>toBlob</li>\n</ul>\n</li>\n<li>toDataURLtoBlobtoDataURLbase64base6437</li>\n</ul>\n</li>\n<li><p></p>\n<ul>\n<li>canvas image/jpeg  image/webp  0  1  0.92</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// toBlob</span></span><br><span class=\"line\">canvas.toBlob(</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">b</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> compressUrl = URL.createObjectURL(b); <span class=\"comment\">//url</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> fileName =</span><br><span class=\"line\">      imgFile.name.substring(<span class=\"number\">0</span>, imgFile.name.lastIndexOf(<span class=\"string\">&#x27;.&#x27;</span>)) +</span><br><span class=\"line\">      <span class=\"string\">&#x27;.&#x27;</span> +</span><br><span class=\"line\">      imgType.split(<span class=\"string\">&#x27;/&#x27;</span>)[<span class=\"number\">1</span>]; <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> file = blobToFile(b, fileName, imgType); <span class=\"comment\">//BlobFile</span></span><br><span class=\"line\">    resolve(&#123;</span><br><span class=\"line\">      <span class=\"attr\">url</span>: compressUrl,</span><br><span class=\"line\">      <span class=\"attr\">file</span>: file,</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    imgCanvas = <span class=\"literal\">null</span>; <span class=\"comment\">//</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  imgType,</span><br><span class=\"line\">  quality</span><br><span class=\"line\">);</span><br><span class=\"line\"><span class=\"comment\">// toDataURL</span></span><br><span class=\"line\">canvas.toDataURL(imgType, quality);</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li></li>\n<li>canvas<br></li>\n</ul>\n<ul>\n<li><input type=\"file\"></li>\n<li> FileReader base64 Image </li>\n<li> Canvas</li>\n<li>Canvas  base64 </li>\n</ul>\n<h6 id=\"toDataURL\"><a href=\"#toDataURL\" class=\"headerlink\" title=\"toDataURL\"></a>toDataURL</h6><ul>\n<li>canvascanvasbase64.</li>\n<li>canvascanvasbase64base64</li>\n<li>base64<ul>\n<li>base64htmlcssjs</li>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li> 0data:,</li>\n</ul>\n</li>\n<li>toDataURL(type, encoderOptions)<ul>\n<li>typebase64image/pngimage/jpegimage/webpimage/png</li>\n<li>encoderOptionsbase64 image/jpeg  image/webp 0-10.92<br><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/toDataURL\">MDN HTMLCanvasElement.toDataURL()</a></li>\n</ul>\n</li>\n</ul>\n<h6 id=\"toBlob\"><a href=\"#toBlob\" class=\"headerlink\" title=\"toBlob\"></a>toBlob</h6><ul>\n<li> Blob  canvas </li>\n<li>toBlob(callback, type, quality)<ul>\n<li>callback Blob  null </li>\n<li>type(): DOMString  image/png</li>\n<li>quality(): Number  0  1  image/jpeg  image/webp <br><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/toBlob\">MDN HTMLCanvasElement.toBlob()</a></li>\n</ul>\n</li>\n</ul>\n<h6 id=\"toDataURLtoBlob\"><a href=\"#toDataURLtoBlob\" class=\"headerlink\" title=\"toDataURLtoBlob\"></a>toDataURLtoBlob</h6><ul>\n<li><p></p>\n<ul>\n<li><ul>\n<li>toBlobcanvasBlobBlobFile</li>\n<li>toDataURLcanvasbase64base64File</li>\n</ul>\n</li>\n<li><ul>\n<li>toBlob Blob </li>\n<li>toDataURL data URI DOMString</li>\n</ul>\n</li>\n<li><ul>\n<li>toDataURLUI</li>\n<li>toBlob</li>\n</ul>\n</li>\n<li>toDataURLtoBlobtoDataURLbase64base6437</li>\n</ul>\n</li>\n<li><p></p>\n<ul>\n<li>canvas image/jpeg  image/webp  0  1  0.92</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// toBlob</span></span><br><span class=\"line\">canvas.toBlob(</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">b</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> compressUrl = URL.createObjectURL(b); <span class=\"comment\">//url</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> fileName =</span><br><span class=\"line\">      imgFile.name.substring(<span class=\"number\">0</span>, imgFile.name.lastIndexOf(<span class=\"string\">&#x27;.&#x27;</span>)) +</span><br><span class=\"line\">      <span class=\"string\">&#x27;.&#x27;</span> +</span><br><span class=\"line\">      imgType.split(<span class=\"string\">&#x27;/&#x27;</span>)[<span class=\"number\">1</span>]; <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> file = blobToFile(b, fileName, imgType); <span class=\"comment\">//BlobFile</span></span><br><span class=\"line\">    resolve(&#123;</span><br><span class=\"line\">      <span class=\"attr\">url</span>: compressUrl,</span><br><span class=\"line\">      <span class=\"attr\">file</span>: file,</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    imgCanvas = <span class=\"literal\">null</span>; <span class=\"comment\">//</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  imgType,</span><br><span class=\"line\">  quality</span><br><span class=\"line\">);</span><br><span class=\"line\"><span class=\"comment\">// toDataURL</span></span><br><span class=\"line\">canvas.toDataURL(imgType, quality);</span><br></pre></td></tr></table></figure>"},{"title":"react","date":"2022-06-22T14:12:37.000Z","_content":"\n## \n#### React.createElement\n(1)React.createElement(type, [props], [...children]);\n(2)type\n(3)props\n(4)children\n#### DOM\n(1)JS\n(2)$$typeofSymbol\n\n#### \n#### filter\n![filter_tree](fiber_tree.png)\n\n## ElementDom\n(1)React.createElementReactDomReactDom.render\n(2)ReactDOM.render(element, container[, callback])\n(3)ReactDOM.renderDomDomDomReactcallback function\n\n## \n1setState\n![update_class](update_class.png)\n(1)static getDerivedStateFromProps()\n(2)shouldComponentUpdate(nextProps,nextState)\n(3)render()\n(4)getSnapshotBeforeUpdate(prevProps,prevState)\n(5)componentDidUpdate(prevProps,prevState,snapshot)\ngetSnapshotBeforeUpdate(prevProps,prevState)null(Snapshot Valueundefined)componentDidUpdate\n2forceUpdate\n![force_update](force_update.png)\n(1)static getDerivedStateFromProps()\n(2)render()\n(3)getSnapshotBeforeUpdate()\n(4)componentDidUpdate()","source":"_posts/5-react-render.md","raw":"---\ntitle: react\ndate: 2022-06-22 22:12:37\ntags:\n---\n\n## \n#### React.createElement\n(1)React.createElement(type, [props], [...children]);\n(2)type\n(3)props\n(4)children\n#### DOM\n(1)JS\n(2)$$typeofSymbol\n\n#### \n#### filter\n![filter_tree](fiber_tree.png)\n\n## ElementDom\n(1)React.createElementReactDomReactDom.render\n(2)ReactDOM.render(element, container[, callback])\n(3)ReactDOM.renderDomDomDomReactcallback function\n\n## \n1setState\n![update_class](update_class.png)\n(1)static getDerivedStateFromProps()\n(2)shouldComponentUpdate(nextProps,nextState)\n(3)render()\n(4)getSnapshotBeforeUpdate(prevProps,prevState)\n(5)componentDidUpdate(prevProps,prevState,snapshot)\ngetSnapshotBeforeUpdate(prevProps,prevState)null(Snapshot Valueundefined)componentDidUpdate\n2forceUpdate\n![force_update](force_update.png)\n(1)static getDerivedStateFromProps()\n(2)render()\n(3)getSnapshotBeforeUpdate()\n(4)componentDidUpdate()","slug":"5-react-render","published":1,"updated":"2022-11-23T00:33:39.732Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62baje001gnwva70xt9t6g","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"React-createElement\"><a href=\"#React-createElement\" class=\"headerlink\" title=\"React.createElement\"></a>React.createElement</h4><p>(1)React.createElement(type, [props], [children]);<br>(2)type<br>(3)props<br>(4)children</p>\n<h4 id=\"DOM\"><a href=\"#DOM\" class=\"headerlink\" title=\"DOM\"></a>DOM</h4><p>(1)JS<br>(2)$$typeofSymbol</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"filter\"><a href=\"#filter\" class=\"headerlink\" title=\"filter\"></a>filter</h4><p><img src=\"/2022/06/22/5-react-render/fiber_tree.png\" alt=\"filter_tree\"></p>\n<h2 id=\"ElementDom\"><a href=\"#ElementDom\" class=\"headerlink\" title=\"ElementDom\"></a>ElementDom</h2><p>(1)React.createElementReactDomReactDom.render<br>(2)ReactDOM.render(element, container[, callback])<br>(3)ReactDOM.renderDomDomDomReactcallback function</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>1setState<br><img src=\"/2022/06/22/5-react-render/update_class.png\" alt=\"update_class\"><br>(1)static getDerivedStateFromProps()<br>(2)shouldComponentUpdate(nextProps,nextState)<br>(3)render()<br>(4)getSnapshotBeforeUpdate(prevProps,prevState)<br>(5)componentDidUpdate(prevProps,prevState,snapshot)<br>getSnapshotBeforeUpdate(prevProps,prevState)null(Snapshot Valueundefined)componentDidUpdate<br>2forceUpdate<br><img src=\"/2022/06/22/5-react-render/force_update.png\" alt=\"force_update\"><br>(1)static getDerivedStateFromProps()<br>(2)render()<br>(3)getSnapshotBeforeUpdate()<br>(4)componentDidUpdate()</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"React-createElement\"><a href=\"#React-createElement\" class=\"headerlink\" title=\"React.createElement\"></a>React.createElement</h4><p>(1)React.createElement(type, [props], [children]);<br>(2)type<br>(3)props<br>(4)children</p>\n<h4 id=\"DOM\"><a href=\"#DOM\" class=\"headerlink\" title=\"DOM\"></a>DOM</h4><p>(1)JS<br>(2)$$typeofSymbol</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"filter\"><a href=\"#filter\" class=\"headerlink\" title=\"filter\"></a>filter</h4><p><img src=\"/2022/06/22/5-react-render/fiber_tree.png\" alt=\"filter_tree\"></p>\n<h2 id=\"ElementDom\"><a href=\"#ElementDom\" class=\"headerlink\" title=\"ElementDom\"></a>ElementDom</h2><p>(1)React.createElementReactDomReactDom.render<br>(2)ReactDOM.render(element, container[, callback])<br>(3)ReactDOM.renderDomDomDomReactcallback function</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>1setState<br><img src=\"/2022/06/22/5-react-render/update_class.png\" alt=\"update_class\"><br>(1)static getDerivedStateFromProps()<br>(2)shouldComponentUpdate(nextProps,nextState)<br>(3)render()<br>(4)getSnapshotBeforeUpdate(prevProps,prevState)<br>(5)componentDidUpdate(prevProps,prevState,snapshot)<br>getSnapshotBeforeUpdate(prevProps,prevState)null(Snapshot Valueundefined)componentDidUpdate<br>2forceUpdate<br><img src=\"/2022/06/22/5-react-render/force_update.png\" alt=\"force_update\"><br>(1)static getDerivedStateFromProps()<br>(2)render()<br>(3)getSnapshotBeforeUpdate()<br>(4)componentDidUpdate()</p>\n"},{"title":"vue3","date":"2022-06-22T14:12:51.000Z","_content":"\n## \n![vue3_render](vue3_render.png)\n(1)vue -> \n(2)beforeCreate\n(3)datamethod\n(4)created\n(5)eltemplatemount\n(6)templaterender\n(7)1template2outerHTMLHTML\n(8)beforeMountvueDOM\n(9)HTML\n(10)mounted\n-- 1\n-- 2beforeUpdate\n-- 3DOMDOMpatch\n-- 4updated\n(11)beforeUnmount\n(12)vm.$destroy\n(13)unmounted\n\n## render\n![render](render.png)\n(1)Vnodeunmount\n(2)patchpatchPS: patch\n(3)patch flushPostFlushCbs\n(4)Vnode\npatchVnodepatchFlagVnodepatchrender\n\n## patch\n![render_node1](render_node1.png)\n![render_node2](render_node2.png)\n![render_function](render_function.png)\npatchTextCommentStaticFragment\n(1)n1  n2 n1 n2 \n(2)container \n(3)anchor \n(4)optimized \n\n## \nrenderVnodeunmount \n(1)refref\n(2)Keep-Alivedeactivate\n(3)VnodeunmountComponent\n","source":"_posts/6-vue3-render.md","raw":"---\ntitle: vue3\ndate: 2022-06-22 22:12:51\ntags:\n---\n\n## \n![vue3_render](vue3_render.png)\n(1)vue -> \n(2)beforeCreate\n(3)datamethod\n(4)created\n(5)eltemplatemount\n(6)templaterender\n(7)1template2outerHTMLHTML\n(8)beforeMountvueDOM\n(9)HTML\n(10)mounted\n-- 1\n-- 2beforeUpdate\n-- 3DOMDOMpatch\n-- 4updated\n(11)beforeUnmount\n(12)vm.$destroy\n(13)unmounted\n\n## render\n![render](render.png)\n(1)Vnodeunmount\n(2)patchpatchPS: patch\n(3)patch flushPostFlushCbs\n(4)Vnode\npatchVnodepatchFlagVnodepatchrender\n\n## patch\n![render_node1](render_node1.png)\n![render_node2](render_node2.png)\n![render_function](render_function.png)\npatchTextCommentStaticFragment\n(1)n1  n2 n1 n2 \n(2)container \n(3)anchor \n(4)optimized \n\n## \nrenderVnodeunmount \n(1)refref\n(2)Keep-Alivedeactivate\n(3)VnodeunmountComponent\n","slug":"6-vue3-render","published":1,"updated":"2022-11-23T00:33:39.741Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62bajf001hnwvae0wd0lk3","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/2022/06/22/6-vue3-render/vue3_render.png\" alt=\"vue3_render\"><br>(1)vue -&gt; <br>(2)beforeCreate<br>(3)datamethod<br>(4)created<br>(5)eltemplatemount<br>(6)templaterender<br>(7)1template2outerHTMLHTML<br>(8)beforeMountvueDOM<br>(9)HTML<br>(10)mounted<br> 1<br> 2beforeUpdate<br> 3DOMDOMpatch<br> 4updated<br>(11)beforeUnmount<br>(12)vm.$destroy<br>(13)unmounted</p>\n<h2 id=\"render\"><a href=\"#render\" class=\"headerlink\" title=\"render\"></a>render</h2><p><img src=\"/2022/06/22/6-vue3-render/render.png\" alt=\"render\"><br>(1)Vnodeunmount<br>(2)patchpatchPS: patch<br>(3)patch flushPostFlushCbs<br>(4)Vnode<br>patchVnodepatchFlagVnodepatchrender</p>\n<h2 id=\"patch\"><a href=\"#patch\" class=\"headerlink\" title=\"patch\"></a>patch</h2><p><img src=\"/2022/06/22/6-vue3-render/render_node1.png\" alt=\"render_node1\"><br><img src=\"/2022/06/22/6-vue3-render/render_node2.png\" alt=\"render_node2\"><br><img src=\"/2022/06/22/6-vue3-render/render_function.png\" alt=\"render_function\"><br>patchTextCommentStaticFragment<br>(1)n1  n2 n1 n2 <br>(2)container <br>(3)anchor <br>(4)optimized </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>renderVnodeunmount <br>(1)refref<br>(2)Keep-Alivedeactivate<br>(3)VnodeunmountComponent</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/2022/06/22/6-vue3-render/vue3_render.png\" alt=\"vue3_render\"><br>(1)vue -&gt; <br>(2)beforeCreate<br>(3)datamethod<br>(4)created<br>(5)eltemplatemount<br>(6)templaterender<br>(7)1template2outerHTMLHTML<br>(8)beforeMountvueDOM<br>(9)HTML<br>(10)mounted<br> 1<br> 2beforeUpdate<br> 3DOMDOMpatch<br> 4updated<br>(11)beforeUnmount<br>(12)vm.$destroy<br>(13)unmounted</p>\n<h2 id=\"render\"><a href=\"#render\" class=\"headerlink\" title=\"render\"></a>render</h2><p><img src=\"/2022/06/22/6-vue3-render/render.png\" alt=\"render\"><br>(1)Vnodeunmount<br>(2)patchpatchPS: patch<br>(3)patch flushPostFlushCbs<br>(4)Vnode<br>patchVnodepatchFlagVnodepatchrender</p>\n<h2 id=\"patch\"><a href=\"#patch\" class=\"headerlink\" title=\"patch\"></a>patch</h2><p><img src=\"/2022/06/22/6-vue3-render/render_node1.png\" alt=\"render_node1\"><br><img src=\"/2022/06/22/6-vue3-render/render_node2.png\" alt=\"render_node2\"><br><img src=\"/2022/06/22/6-vue3-render/render_function.png\" alt=\"render_function\"><br>patchTextCommentStaticFragment<br>(1)n1  n2 n1 n2 <br>(2)container <br>(3)anchor <br>(4)optimized </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>renderVnodeunmount <br>(1)refref<br>(2)Keep-Alivedeactivate<br>(3)VnodeunmountComponent</p>\n"},{"title":"react & vue","date":"2022-06-23T05:21:12.000Z","_content":"\n#### \n(1)reactvue3\n\n(2)react\n\n(3)vue3patchpatchElement\n\n(4)reactreactreact-domvue3vue.cjs.jsvue.global.js\nreact-dom = \nvuereact-dom\n(5)vue3reacthooks\ncreateElement\n(6)hooks\n(7)vue3element-plus\n(8)\n(9)\n","source":"_posts/7-question-about-render.md","raw":"---\ntitle: react & vue\ndate: 2022-06-23 13:21:12\ntags:\n---\n\n#### \n(1)reactvue3\n\n(2)react\n\n(3)vue3patchpatchElement\n\n(4)reactreactreact-domvue3vue.cjs.jsvue.global.js\nreact-dom = \nvuereact-dom\n(5)vue3reacthooks\ncreateElement\n(6)hooks\n(7)vue3element-plus\n(8)\n(9)\n","slug":"7-question-about-render","published":1,"updated":"2022-11-23T00:33:39.762Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62bajf001inwva5g4n7nip","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>(1)reactvue3<br><br>(2)react<br><br>(3)vue3patchpatchElement<br><br>(4)reactreactreact-domvue3vue.cjs.jsvue.global.js<br>react-dom = <br>vuereact-dom<br>(5)vue3reacthooks<br>createElement<br>(6)hooks<br>(7)vue3element-plus<br>(8)<br>(9)</p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>(1)reactvue3<br><br>(2)react<br><br>(3)vue3patchpatchElement<br><br>(4)reactreactreact-domvue3vue.cjs.jsvue.global.js<br>react-dom = <br>vuereact-dom<br>(5)vue3reacthooks<br>createElement<br>(6)hooks<br>(7)vue3element-plus<br>(8)<br>(9)</p>\n"},{"title":"js-","date":"2022-06-27T02:20:46.000Z","_content":"\n#### \n\n###### primitives\n```javascript\nconst newArray = Array(3).fill(3);\nconsole.log(newArray);  // [3, 3, 3]\n```\nArray(length).fill(initialValue) \n\n###### \n(1)Array().fill()\n```javascript\nconst newArray = Array(3).fill({ value: 0 });\nconsole.log(newArray);  // [{value: 0}, {value: 0}, {value: 0}]\n```\nArray(length).fill({ value: 0 }) length 3{ value: 0 }\n:\n```javascript\nconst newArray = Array(3).fill({ value: 0 });\nconsole.log(newArray);  // [{value: 0}, {value: 0}, {value: 0}]\nnewArray[1].value = 2;\nconsole.log(newArray);  // [{value: 2}, {value: 2}, {value: 2}]\n```\n(2)Array.from()\nArray.from() \n Array.from() :\n```javascript\nconst newArray = Array.from(Array(3), () => {\n  return { value: 0 };\n});\nconsole.log(newArray);  // [{value: 0}, {value: 0}, {value: 0}]\n```\n\n```javascript\nconst newArray = Array.from(Array(3), () => {\n  return { value: 0 };\n});\nconsole.log(newArray);  // [{value: 0}, {value: 0}, {value: 0}]\nnewArray[1].value = 2\nconsole.log(newArray);  // [{value: 0}, {value: 2}, {value: 0}]\n```\n(3)Array.map()Array.fill()\nmap**array.map() empty **\n```javascript\nconst newArray = Array(3).map(() => {\n  return { value: 0 };\n});\nconsole.log(newArray);  // [empty x 3]\n```\n empty  fill null \n```javascript\nconst newArray = Array(3).fill(null).map(() => {\n  return { value: 0 };\n});\nconsole.log(newArray);  // [{value: 0}, {value: 0}, {value: 0}]\n```\n\n```javascript\nconst newArray = Array(3).fill(null).map(() => {\n  return { value: 0 };\n});\nconsole.log(newArray);  // [{value: 0}, {value: 0}, {value: 0}]\nnewArray[1].value = 2;\nconsole.log(newArray);  // [{value: 0}, {value: 2}, {value: 0}]\n```\n","source":"_posts/8-create-fixed-length-array.md","raw":"---\ntitle: js-\ndate: 2022-06-27 10:20:46\ntags:\n---\n\n#### \n\n###### primitives\n```javascript\nconst newArray = Array(3).fill(3);\nconsole.log(newArray);  // [3, 3, 3]\n```\nArray(length).fill(initialValue) \n\n###### \n(1)Array().fill()\n```javascript\nconst newArray = Array(3).fill({ value: 0 });\nconsole.log(newArray);  // [{value: 0}, {value: 0}, {value: 0}]\n```\nArray(length).fill({ value: 0 }) length 3{ value: 0 }\n:\n```javascript\nconst newArray = Array(3).fill({ value: 0 });\nconsole.log(newArray);  // [{value: 0}, {value: 0}, {value: 0}]\nnewArray[1].value = 2;\nconsole.log(newArray);  // [{value: 2}, {value: 2}, {value: 2}]\n```\n(2)Array.from()\nArray.from() \n Array.from() :\n```javascript\nconst newArray = Array.from(Array(3), () => {\n  return { value: 0 };\n});\nconsole.log(newArray);  // [{value: 0}, {value: 0}, {value: 0}]\n```\n\n```javascript\nconst newArray = Array.from(Array(3), () => {\n  return { value: 0 };\n});\nconsole.log(newArray);  // [{value: 0}, {value: 0}, {value: 0}]\nnewArray[1].value = 2\nconsole.log(newArray);  // [{value: 0}, {value: 2}, {value: 0}]\n```\n(3)Array.map()Array.fill()\nmap**array.map() empty **\n```javascript\nconst newArray = Array(3).map(() => {\n  return { value: 0 };\n});\nconsole.log(newArray);  // [empty x 3]\n```\n empty  fill null \n```javascript\nconst newArray = Array(3).fill(null).map(() => {\n  return { value: 0 };\n});\nconsole.log(newArray);  // [{value: 0}, {value: 0}, {value: 0}]\n```\n\n```javascript\nconst newArray = Array(3).fill(null).map(() => {\n  return { value: 0 };\n});\nconsole.log(newArray);  // [{value: 0}, {value: 0}, {value: 0}]\nnewArray[1].value = 2;\nconsole.log(newArray);  // [{value: 0}, {value: 2}, {value: 0}]\n```\n","slug":"8-create-fixed-length-array","published":1,"updated":"2022-11-23T00:33:39.763Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62bajg001jnwvacrne6o3i","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"primitives\"><a href=\"#primitives\" class=\"headerlink\" title=\"primitives\"></a>primitives</h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>(<span class=\"number\">3</span>).fill(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [3, 3, 3]</span></span><br></pre></td></tr></table></figure>\n<p>Array(length).fill(initialValue) </p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(1)Array().fill()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>(<span class=\"number\">3</span>).fill(&#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 0&#125;, &#123;value: 0&#125;]</span></span><br></pre></td></tr></table></figure>\n<p>Array(length).fill({ value: 0 }) length 3{ value: 0 }<br>:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>(<span class=\"number\">3</span>).fill(&#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 0&#125;, &#123;value: 0&#125;]</span></span><br><span class=\"line\">newArray[<span class=\"number\">1</span>].value = <span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 2&#125;, &#123;value: 2&#125;, &#123;value: 2&#125;]</span></span><br></pre></td></tr></table></figure>\n<p>(2)Array.from()<br>Array.from() <br> Array.from() :</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>.from(<span class=\"built_in\">Array</span>(<span class=\"number\">3</span>), <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 0&#125;, &#123;value: 0&#125;]</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>.from(<span class=\"built_in\">Array</span>(<span class=\"number\">3</span>), <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 0&#125;, &#123;value: 0&#125;]</span></span><br><span class=\"line\">newArray[<span class=\"number\">1</span>].value = <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 2&#125;, &#123;value: 0&#125;]</span></span><br></pre></td></tr></table></figure>\n<p>(3)Array.map()Array.fill()<br>map<strong>array.map() empty </strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>(<span class=\"number\">3</span>).map(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [empty x 3]</span></span><br></pre></td></tr></table></figure>\n<p> empty  fill null </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>(<span class=\"number\">3</span>).fill(<span class=\"literal\">null</span>).map(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 0&#125;, &#123;value: 0&#125;]</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>(<span class=\"number\">3</span>).fill(<span class=\"literal\">null</span>).map(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 0&#125;, &#123;value: 0&#125;]</span></span><br><span class=\"line\">newArray[<span class=\"number\">1</span>].value = <span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 2&#125;, &#123;value: 0&#125;]</span></span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"primitives\"><a href=\"#primitives\" class=\"headerlink\" title=\"primitives\"></a>primitives</h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>(<span class=\"number\">3</span>).fill(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [3, 3, 3]</span></span><br></pre></td></tr></table></figure>\n<p>Array(length).fill(initialValue) </p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(1)Array().fill()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>(<span class=\"number\">3</span>).fill(&#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 0&#125;, &#123;value: 0&#125;]</span></span><br></pre></td></tr></table></figure>\n<p>Array(length).fill({ value: 0 }) length 3{ value: 0 }<br>:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>(<span class=\"number\">3</span>).fill(&#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 0&#125;, &#123;value: 0&#125;]</span></span><br><span class=\"line\">newArray[<span class=\"number\">1</span>].value = <span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 2&#125;, &#123;value: 2&#125;, &#123;value: 2&#125;]</span></span><br></pre></td></tr></table></figure>\n<p>(2)Array.from()<br>Array.from() <br> Array.from() :</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>.from(<span class=\"built_in\">Array</span>(<span class=\"number\">3</span>), <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 0&#125;, &#123;value: 0&#125;]</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>.from(<span class=\"built_in\">Array</span>(<span class=\"number\">3</span>), <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 0&#125;, &#123;value: 0&#125;]</span></span><br><span class=\"line\">newArray[<span class=\"number\">1</span>].value = <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 2&#125;, &#123;value: 0&#125;]</span></span><br></pre></td></tr></table></figure>\n<p>(3)Array.map()Array.fill()<br>map<strong>array.map() empty </strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>(<span class=\"number\">3</span>).map(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [empty x 3]</span></span><br></pre></td></tr></table></figure>\n<p> empty  fill null </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>(<span class=\"number\">3</span>).fill(<span class=\"literal\">null</span>).map(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 0&#125;, &#123;value: 0&#125;]</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>(<span class=\"number\">3</span>).fill(<span class=\"literal\">null</span>).map(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 0&#125;, &#123;value: 0&#125;]</span></span><br><span class=\"line\">newArray[<span class=\"number\">1</span>].value = <span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 2&#125;, &#123;value: 0&#125;]</span></span><br></pre></td></tr></table></figure>\n"},{"title":"MarkDown","date":"2022-06-27T02:43:07.000Z","_content":"\n#### MarkDown\n\n###### \n\\```javascript\nconst name = 'eric';\n....\n\\``` \n###### \n\\*\\*\\*\\*\n\\_\\_\\_\\_\n\n###### \n\\*\\*\n\\_\\_\n\n###### \n\\*\\*\\*\\*\\*\\*\n\\_\\_\\_\\_\\_\\_\n\n###### \n\\~\\~\\~\\~\n\n###### \n| 1 | 2 |\n| ----- | ----- |\n| 1 | 2 |\n\n###### \n<font color=\"red\"></font>\n```javascript\n<font color=\"red\"></font>\n<font color=\"blue\"></font>\n```\n\n###### \n<font size=\"10\"></font>\n```javascript\n<font size=\"10\"></font>\n<font size=\"14\"></font>\n```\n\n###### \n<font face=\"\"></font>\n```javascript\n<font face=\"\"></font>\n<font face=\"\"></font>\n```\n\n###### \n<mark style=\"bgcolor:red\"></mark>\n```javascript\n<mark style=\"bgcolor:red\"></mark>\n```\n\n###### \n* \n* \n* \n\n+ \n+ \n+ \n\n- \n- \n- \n```javascript\n* \n* \n* \n\n+ \n+ \n+ \n\n- \n- \n- \n```\n\n###### \n1. \n2. \n3. \n\n```javascript\n1. \n2. \n3. \n```\n\n###### : \n* \n  - 1-1\n* \n  - 2-1\n* \n  - 3-1\n\n\n* \n  1. 1-1\n* \n  1. 2-1\n* \n  1. 3-1\n\n```javascript\n* \n  - 1-1\n* \n  - 2-1\n* \n  - 3-1\n\n* \n  1. 1-1\n* \n  1. 2-1\n* \n  1. 3-1\n```\n\n######  >  \n\\> \n> 1\n> 2\n\n >  > \n> 1\n> > 2\n> > > 3\n\n###### \n\\[\\]\\(\\)  <>\n```\n[](www.baidu.com)\n<www.baidu.com>\n```\n\n###### \n!\\[alt \\]\\(\\)\n\n\n###### \n$  $\n$$  $$\n\n###### ^_, {} \na^1\na_1\n$$ x^{y^z}=(1+{\\rm e}^x)^{-2xy^w} $$\n\n\n","source":"_posts/9-text-type-about-markdown.md","raw":"---\ntitle: MarkDown\ndate: 2022-06-27 10:43:07\ntags:\n---\n\n#### MarkDown\n\n###### \n\\```javascript\nconst name = 'eric';\n....\n\\``` \n###### \n\\*\\*\\*\\*\n\\_\\_\\_\\_\n\n###### \n\\*\\*\n\\_\\_\n\n###### \n\\*\\*\\*\\*\\*\\*\n\\_\\_\\_\\_\\_\\_\n\n###### \n\\~\\~\\~\\~\n\n###### \n| 1 | 2 |\n| ----- | ----- |\n| 1 | 2 |\n\n###### \n<font color=\"red\"></font>\n```javascript\n<font color=\"red\"></font>\n<font color=\"blue\"></font>\n```\n\n###### \n<font size=\"10\"></font>\n```javascript\n<font size=\"10\"></font>\n<font size=\"14\"></font>\n```\n\n###### \n<font face=\"\"></font>\n```javascript\n<font face=\"\"></font>\n<font face=\"\"></font>\n```\n\n###### \n<mark style=\"bgcolor:red\"></mark>\n```javascript\n<mark style=\"bgcolor:red\"></mark>\n```\n\n###### \n* \n* \n* \n\n+ \n+ \n+ \n\n- \n- \n- \n```javascript\n* \n* \n* \n\n+ \n+ \n+ \n\n- \n- \n- \n```\n\n###### \n1. \n2. \n3. \n\n```javascript\n1. \n2. \n3. \n```\n\n###### : \n* \n  - 1-1\n* \n  - 2-1\n* \n  - 3-1\n\n\n* \n  1. 1-1\n* \n  1. 2-1\n* \n  1. 3-1\n\n```javascript\n* \n  - 1-1\n* \n  - 2-1\n* \n  - 3-1\n\n* \n  1. 1-1\n* \n  1. 2-1\n* \n  1. 3-1\n```\n\n######  >  \n\\> \n> 1\n> 2\n\n >  > \n> 1\n> > 2\n> > > 3\n\n###### \n\\[\\]\\(\\)  <>\n```\n[](www.baidu.com)\n<www.baidu.com>\n```\n\n###### \n!\\[alt \\]\\(\\)\n\n\n###### \n$  $\n$$  $$\n\n###### ^_, {} \na^1\na_1\n$$ x^{y^z}=(1+{\\rm e}^x)^{-2xy^w} $$\n\n\n","slug":"9-text-type-about-markdown","published":1,"updated":"2022-11-23T00:33:39.764Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62bajg001knwva5viyh9t0","content":"<h4 id=\"MarkDown\"><a href=\"#MarkDown\" class=\"headerlink\" title=\"MarkDown\"></a>MarkDown</h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>```javascript<br>const name = eric;<br>.<br>``` </p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>****<br>____</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>**<br>__</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>******<br>______</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>~~~~</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><table>\n<thead>\n<tr>\n<th>1</th>\n<th>2</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1</td>\n<td>2</td>\n</tr>\n</tbody></table>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><font color=\"red\"></font></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;font color=<span class=\"string\">&quot;red&quot;</span>&gt;&lt;/font&gt;</span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">color</span>=<span class=\"string\">&quot;blue&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><font size=\"10\"></font></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;font size=<span class=\"string\">&quot;10&quot;</span>&gt;&lt;/font&gt;</span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">size</span>=<span class=\"string\">&quot;14&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><font face=\"\"></font></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;font face=<span class=\"string\">&quot;&quot;</span>&gt;&lt;/font&gt;</span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">face</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><mark style=\"bgcolor:red\"></mark></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;mark style=<span class=\"string\">&quot;bgcolor:red&quot;</span>&gt;&lt;/mark&gt;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<ul>\n<li></li>\n<li></li>\n<li><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">* </span><br><span class=\"line\">* </span><br><span class=\"line\">* </span><br><span class=\"line\"></span><br><span class=\"line\">+ </span><br><span class=\"line\">+ </span><br><span class=\"line\">+ </span><br><span class=\"line\"></span><br><span class=\"line\">- </span><br><span class=\"line\">- </span><br><span class=\"line\">- </span><br></pre></td></tr></table></figure></li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ol>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1.</span> </span><br><span class=\"line\"><span class=\"number\">2.</span> </span><br><span class=\"line\"><span class=\"number\">3.</span> </span><br></pre></td></tr></table></figure>\n\n<h6 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\": \"></a>: </h6><ul>\n<li><ul>\n<li>1-1</li>\n</ul>\n</li>\n<li><ul>\n<li>2-1</li>\n</ul>\n</li>\n<li><ul>\n<li>3-1</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li><ol>\n<li>1-1</li>\n</ol>\n</li>\n<li><ol>\n<li>2-1</li>\n</ol>\n</li>\n<li><ol>\n<li>3-1</li>\n</ol>\n</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">* </span><br><span class=\"line\">  - <span class=\"number\">1</span>-<span class=\"number\">1</span></span><br><span class=\"line\">* </span><br><span class=\"line\">  - <span class=\"number\">2</span>-<span class=\"number\">1</span></span><br><span class=\"line\">* </span><br><span class=\"line\">  - <span class=\"number\">3</span>-<span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">* </span><br><span class=\"line\">  <span class=\"number\">1.</span> <span class=\"number\">1</span>-<span class=\"number\">1</span></span><br><span class=\"line\">* </span><br><span class=\"line\">  <span class=\"number\">1.</span> <span class=\"number\">2</span>-<span class=\"number\">1</span></span><br><span class=\"line\">* </span><br><span class=\"line\">  <span class=\"number\">1.</span> <span class=\"number\">3</span>-<span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"-gt--\"><a href=\"#-gt--\" class=\"headerlink\" title=\" &gt;  \"></a> &gt;  </h6><p>&gt; </p>\n<blockquote>\n<p>1<br>2</p>\n</blockquote>\n<p> &gt;  &gt; </p>\n<blockquote>\n<p>1</p>\n<blockquote>\n<p>2</p>\n<blockquote>\n<p>3</p>\n</blockquote>\n</blockquote>\n</blockquote>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>[]()  &lt;&gt;</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[](www.baidu.com)</span><br><span class=\"line\">&lt;www.baidu.com&gt;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>![alt ]()</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>$  $<br>$$  $$</p>\n<h6 id=\"----\"><a href=\"#----\" class=\"headerlink\" title=\"^_, {} \"></a>^_, {} </h6><p>a^1<br>a_1<br>$$ x^{y^z}=(1+{\\rm e}^x)^{-2xy^w} $$</p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"MarkDown\"><a href=\"#MarkDown\" class=\"headerlink\" title=\"MarkDown\"></a>MarkDown</h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>```javascript<br>const name = eric;<br>.<br>``` </p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>****<br>____</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>**<br>__</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>******<br>______</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>~~~~</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><table>\n<thead>\n<tr>\n<th>1</th>\n<th>2</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1</td>\n<td>2</td>\n</tr>\n</tbody></table>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><font color=\"red\"></font></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;font color=<span class=\"string\">&quot;red&quot;</span>&gt;&lt;/font&gt;</span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">color</span>=<span class=\"string\">&quot;blue&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><font size=\"10\"></font></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;font size=<span class=\"string\">&quot;10&quot;</span>&gt;&lt;/font&gt;</span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">size</span>=<span class=\"string\">&quot;14&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><font face=\"\"></font></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;font face=<span class=\"string\">&quot;&quot;</span>&gt;&lt;/font&gt;</span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">face</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><mark style=\"bgcolor:red\"></mark></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;mark style=<span class=\"string\">&quot;bgcolor:red&quot;</span>&gt;&lt;/mark&gt;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<ul>\n<li></li>\n<li></li>\n<li><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">* </span><br><span class=\"line\">* </span><br><span class=\"line\">* </span><br><span class=\"line\"></span><br><span class=\"line\">+ </span><br><span class=\"line\">+ </span><br><span class=\"line\">+ </span><br><span class=\"line\"></span><br><span class=\"line\">- </span><br><span class=\"line\">- </span><br><span class=\"line\">- </span><br></pre></td></tr></table></figure></li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ol>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1.</span> </span><br><span class=\"line\"><span class=\"number\">2.</span> </span><br><span class=\"line\"><span class=\"number\">3.</span> </span><br></pre></td></tr></table></figure>\n\n<h6 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\": \"></a>: </h6><ul>\n<li><ul>\n<li>1-1</li>\n</ul>\n</li>\n<li><ul>\n<li>2-1</li>\n</ul>\n</li>\n<li><ul>\n<li>3-1</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li><ol>\n<li>1-1</li>\n</ol>\n</li>\n<li><ol>\n<li>2-1</li>\n</ol>\n</li>\n<li><ol>\n<li>3-1</li>\n</ol>\n</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">* </span><br><span class=\"line\">  - <span class=\"number\">1</span>-<span class=\"number\">1</span></span><br><span class=\"line\">* </span><br><span class=\"line\">  - <span class=\"number\">2</span>-<span class=\"number\">1</span></span><br><span class=\"line\">* </span><br><span class=\"line\">  - <span class=\"number\">3</span>-<span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">* </span><br><span class=\"line\">  <span class=\"number\">1.</span> <span class=\"number\">1</span>-<span class=\"number\">1</span></span><br><span class=\"line\">* </span><br><span class=\"line\">  <span class=\"number\">1.</span> <span class=\"number\">2</span>-<span class=\"number\">1</span></span><br><span class=\"line\">* </span><br><span class=\"line\">  <span class=\"number\">1.</span> <span class=\"number\">3</span>-<span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"-gt--\"><a href=\"#-gt--\" class=\"headerlink\" title=\" &gt;  \"></a> &gt;  </h6><p>&gt; </p>\n<blockquote>\n<p>1<br>2</p>\n</blockquote>\n<p> &gt;  &gt; </p>\n<blockquote>\n<p>1</p>\n<blockquote>\n<p>2</p>\n<blockquote>\n<p>3</p>\n</blockquote>\n</blockquote>\n</blockquote>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>[]()  &lt;&gt;</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[](www.baidu.com)</span><br><span class=\"line\">&lt;www.baidu.com&gt;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>![alt ]()</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>$  $<br>$$  $$</p>\n<h6 id=\"----\"><a href=\"#----\" class=\"headerlink\" title=\"^_, {} \"></a>^_, {} </h6><p>a^1<br>a_1<br>$$ x^{y^z}=(1+{\\rm e}^x)^{-2xy^w} $$</p>\n"},{"_content":"<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Document</title>\n  </head>\n  <body>\n    <script>\n      console.log(`1 - true: ${1 - true}`);\n      console.log(`1 - false: ${1 - false}`);\n      console.log(`1 - null: ${1 - null}`);\n      console.log(`1 - undefined: ${1 - undefined}`);\n      console.log(`2 * ['5']: ${2 * ['5']}`);\n\n      console.log(`123 + '123': ${123 + '123'}`);\n      console.log(`123 + null: ${123 + null}`);\n      console.log(`123 + true: ${123 + true}`);\n      console.log(`123 + {}: ${123 + {}}`);\n\n      console.log(`NaN == NaN: ${NaN == NaN}`);\n\n      console.log(`true == 1: ${true == 1}`);\n      console.log(`true == '2': ${true == '2'}`);\n      console.log(`true == ['1']: ${true == ['1']}`);\n      console.log(`true == ['2']: ${true == ['2']}`);\n      console.log(`undefined == false: ${undefined == false}`);\n      console.log(`null == false: ${null == false}`);\n\n      console.log(`123 == '123': ${123 == '123'}`);\n      console.log(`'' == 0: ${'' == 0}`);\n\n      console.log(`null == undefined: ${null == undefined}`); // true\n      console.log(`null == '': ${null == ''}`); // false\n      console.log(`null == 0: ${null == 0}`); // false\n      console.log(`null == false: ${null == false}`); // false\n      console.log(`undefined == '': ${undefined == ''}`); // false\n      console.log(`undefined == 0: ${undefined == 0}`); // false\n      console.log(`undefined == false: ${undefined == false}`); // false\n\n      console.log(`'[object Object]' == {}: ${'[object Object]' == {}}`); // true\n      console.log(`'1,2,3' == [1, 2, 3]: ${'1,2,3' == [1, 2, 3]}`); // true\n\n      console.log(`'10' > '2': ${'10' > '2'}`); // false\n    </script>\n  </body>\n</html>\n","source":"_posts/15-js-transform/js-transform.html","raw":"<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Document</title>\n  </head>\n  <body>\n    <script>\n      console.log(`1 - true: ${1 - true}`);\n      console.log(`1 - false: ${1 - false}`);\n      console.log(`1 - null: ${1 - null}`);\n      console.log(`1 - undefined: ${1 - undefined}`);\n      console.log(`2 * ['5']: ${2 * ['5']}`);\n\n      console.log(`123 + '123': ${123 + '123'}`);\n      console.log(`123 + null: ${123 + null}`);\n      console.log(`123 + true: ${123 + true}`);\n      console.log(`123 + {}: ${123 + {}}`);\n\n      console.log(`NaN == NaN: ${NaN == NaN}`);\n\n      console.log(`true == 1: ${true == 1}`);\n      console.log(`true == '2': ${true == '2'}`);\n      console.log(`true == ['1']: ${true == ['1']}`);\n      console.log(`true == ['2']: ${true == ['2']}`);\n      console.log(`undefined == false: ${undefined == false}`);\n      console.log(`null == false: ${null == false}`);\n\n      console.log(`123 == '123': ${123 == '123'}`);\n      console.log(`'' == 0: ${'' == 0}`);\n\n      console.log(`null == undefined: ${null == undefined}`); // true\n      console.log(`null == '': ${null == ''}`); // false\n      console.log(`null == 0: ${null == 0}`); // false\n      console.log(`null == false: ${null == false}`); // false\n      console.log(`undefined == '': ${undefined == ''}`); // false\n      console.log(`undefined == 0: ${undefined == 0}`); // false\n      console.log(`undefined == false: ${undefined == false}`); // false\n\n      console.log(`'[object Object]' == {}: ${'[object Object]' == {}}`); // true\n      console.log(`'1,2,3' == [1, 2, 3]: ${'1,2,3' == [1, 2, 3]}`); // true\n\n      console.log(`'10' > '2': ${'10' > '2'}`); // false\n    </script>\n  </body>\n</html>\n","slug":"15-js-transform/js-transform","published":1,"date":"2022-11-23T00:33:39.007Z","updated":"2022-11-23T00:33:39.007Z","title":"","comments":1,"layout":"post","photos":[],"link":"","_id":"clc62bajh001lnwva9c6hbntx","content":"<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Document</title>\n  </head>\n  <body>\n    <script>\n      console.log(`1 - true: ${1 - true}`);\n      console.log(`1 - false: ${1 - false}`);\n      console.log(`1 - null: ${1 - null}`);\n      console.log(`1 - undefined: ${1 - undefined}`);\n      console.log(`2 * ['5']: ${2 * ['5']}`);\n\n      console.log(`123 + '123': ${123 + '123'}`);\n      console.log(`123 + null: ${123 + null}`);\n      console.log(`123 + true: ${123 + true}`);\n      console.log(`123 + {}: ${123 + {}}`);\n\n      console.log(`NaN == NaN: ${NaN == NaN}`);\n\n      console.log(`true == 1: ${true == 1}`);\n      console.log(`true == '2': ${true == '2'}`);\n      console.log(`true == ['1']: ${true == ['1']}`);\n      console.log(`true == ['2']: ${true == ['2']}`);\n      console.log(`undefined == false: ${undefined == false}`);\n      console.log(`null == false: ${null == false}`);\n\n      console.log(`123 == '123': ${123 == '123'}`);\n      console.log(`'' == 0: ${'' == 0}`);\n\n      console.log(`null == undefined: ${null == undefined}`); // true\n      console.log(`null == '': ${null == ''}`); // false\n      console.log(`null == 0: ${null == 0}`); // false\n      console.log(`null == false: ${null == false}`); // false\n      console.log(`undefined == '': ${undefined == ''}`); // false\n      console.log(`undefined == 0: ${undefined == 0}`); // false\n      console.log(`undefined == false: ${undefined == false}`); // false\n\n      console.log(`'[object Object]' == {}: ${'[object Object]' == {}}`); // true\n      console.log(`'1,2,3' == [1, 2, 3]: ${'1,2,3' == [1, 2, 3]}`); // true\n\n      console.log(`'10' > '2': ${'10' > '2'}`); // false\n    </script>\n  </body>\n</html>\n","site":{"data":{}},"excerpt":"","more":"<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Document</title>\n  </head>\n  <body>\n    <script>\n      console.log(`1 - true: ${1 - true}`);\n      console.log(`1 - false: ${1 - false}`);\n      console.log(`1 - null: ${1 - null}`);\n      console.log(`1 - undefined: ${1 - undefined}`);\n      console.log(`2 * ['5']: ${2 * ['5']}`);\n\n      console.log(`123 + '123': ${123 + '123'}`);\n      console.log(`123 + null: ${123 + null}`);\n      console.log(`123 + true: ${123 + true}`);\n      console.log(`123 + {}: ${123 + {}}`);\n\n      console.log(`NaN == NaN: ${NaN == NaN}`);\n\n      console.log(`true == 1: ${true == 1}`);\n      console.log(`true == '2': ${true == '2'}`);\n      console.log(`true == ['1']: ${true == ['1']}`);\n      console.log(`true == ['2']: ${true == ['2']}`);\n      console.log(`undefined == false: ${undefined == false}`);\n      console.log(`null == false: ${null == false}`);\n\n      console.log(`123 == '123': ${123 == '123'}`);\n      console.log(`'' == 0: ${'' == 0}`);\n\n      console.log(`null == undefined: ${null == undefined}`); // true\n      console.log(`null == '': ${null == ''}`); // false\n      console.log(`null == 0: ${null == 0}`); // false\n      console.log(`null == false: ${null == false}`); // false\n      console.log(`undefined == '': ${undefined == ''}`); // false\n      console.log(`undefined == 0: ${undefined == 0}`); // false\n      console.log(`undefined == false: ${undefined == false}`); // false\n\n      console.log(`'[object Object]' == {}: ${'[object Object]' == {}}`); // true\n      console.log(`'1,2,3' == [1, 2, 3]: ${'1,2,3' == [1, 2, 3]}`); // true\n\n      console.log(`'10' > '2': ${'10' > '2'}`); // false\n    </script>\n  </body>\n</html>\n"}],"PostAsset":[{"_id":"source/_posts/15-js-transform/convert-table.png","post":"clc62baij000dnwvabimc9asx","slug":"convert-table.png","modified":1,"renderable":1},{"_id":"source/_posts/15-js-transform/js-transform.html","post":"clc62baij000dnwvabimc9asx","slug":"js-transform.html","modified":1,"renderable":1},{"_id":"source/_posts/18-fake-array/array_from.png","post":"clc62baio000jnwva8xdpafdw","slug":"array_from.png","modified":1,"renderable":1},{"_id":"source/_posts/18-fake-array/document.png","post":"clc62baio000jnwva8xdpafdw","slug":"document.png","modified":1,"renderable":1},{"_id":"source/_posts/18-fake-array/prototype_call.png","post":"clc62baio000jnwva8xdpafdw","slug":"prototype_call.png","modified":1,"renderable":1},{"_id":"source/_posts/18-fake-array/slice_call.png","post":"clc62baio000jnwva8xdpafdw","slug":"slice_call.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/abstract-car.png","post":"clc62baiv000unwvafi9ghcsn","slug":"abstract-car.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/abstract-factory1.png","post":"clc62baiv000unwvafi9ghcsn","slug":"abstract-factory1.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/abstract-factory2.png","post":"clc62baiv000unwvafi9ghcsn","slug":"abstract-factory2.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/abstract-factory3.png","post":"clc62baiv000unwvafi9ghcsn","slug":"abstract-factory3.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/human.png","post":"clc62baiv000unwvafi9ghcsn","slug":"human.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/lazy-single-instance.png","post":"clc62baiv000unwvafi9ghcsn","slug":"lazy-single-instance.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/name.png","post":"clc62baiv000unwvafi9ghcsn","slug":"name.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/person.png","post":"clc62baiv000unwvafi9ghcsn","slug":"person.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/prototype-inherit1.png","post":"clc62baiv000unwvafi9ghcsn","slug":"prototype-inherit1.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/prototype-inherit2.png","post":"clc62baiv000unwvafi9ghcsn","slug":"prototype-inherit2.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/prototype-model.png","post":"clc62baiv000unwvafi9ghcsn","slug":"prototype-model.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/safe-factory-model.png","post":"clc62baiv000unwvafi9ghcsn","slug":"safe-factory-model.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/safe-model-class.png","post":"clc62baiv000unwvafi9ghcsn","slug":"safe-model-class.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/static-param.png","post":"clc62baiv000unwvafi9ghcsn","slug":"static-param.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/work.png","post":"clc62baiv000unwvafi9ghcsn","slug":"work.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/class-inherit.png","post":"clc62baiv000tnwva3ru84qjf","slug":"class-inherit.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/combination-inherit.png","post":"clc62baiv000tnwva3ru84qjf","slug":"combination-inherit.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/constructor-inherit.png","post":"clc62baiv000tnwva3ru84qjf","slug":"constructor-inherit.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/create-pop.png","post":"clc62baiv000tnwva3ru84qjf","slug":"create-pop.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/how-to-inherit.png","post":"clc62baiv000tnwva3ru84qjf","slug":"how-to-inherit.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/multiple-inherit.png","post":"clc62baiv000tnwva3ru84qjf","slug":"multiple-inherit.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/multiple-status.png","post":"clc62baiv000tnwva3ru84qjf","slug":"multiple-status.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/parasitic-combination-inherit.png","post":"clc62baiv000tnwva3ru84qjf","slug":"parasitic-combination-inherit.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/parasitic-inherit-change.png","post":"clc62baiv000tnwva3ru84qjf","slug":"parasitic-inherit-change.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/parasitic-inherit.png","post":"clc62baiv000tnwva3ru84qjf","slug":"parasitic-inherit.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/prototype-inherit.png","post":"clc62baiv000tnwva3ru84qjf","slug":"prototype-inherit.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/prototype.png","post":"clc62baiv000tnwva3ru84qjf","slug":"prototype.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/public-and-private.png","post":"clc62baiv000tnwva3ru84qjf","slug":"public-and-private.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/safe-model.png","post":"clc62baiv000tnwva3ru84qjf","slug":"safe-model.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/simple-factory1.png","post":"clc62baiv000tnwva3ru84qjf","slug":"simple-factory1.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/simple-factory2.png","post":"clc62baiv000tnwva3ru84qjf","slug":"simple-factory2.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/static-and-public.png","post":"clc62baiv000tnwva3ru84qjf","slug":"static-and-public.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/test-prototype-inherit.png","post":"clc62baiv000tnwva3ru84qjf","slug":"test-prototype-inherit.png","modified":1,"renderable":1},{"_id":"source/_posts/25-about-design-model2/bridge1.png","post":"clc62baiw000vnwva1kh8fnsz","slug":"bridge1.png","modified":1,"renderable":1},{"_id":"source/_posts/25-about-design-model2/bridge2.png","post":"clc62baiw000vnwva1kh8fnsz","slug":"bridge2.png","modified":1,"renderable":1},{"_id":"source/_posts/25-about-design-model2/bridge3.png","post":"clc62baiw000vnwva1kh8fnsz","slug":"bridge3.png","modified":1,"renderable":1},{"_id":"source/_posts/25-about-design-model2/decorator.png","post":"clc62baiw000vnwva1kh8fnsz","slug":"decorator.png","modified":1,"renderable":1},{"_id":"source/_posts/25-about-design-model2/out-look.png","post":"clc62baiw000vnwva1kh8fnsz","slug":"out-look.png","modified":1,"renderable":1},{"_id":"source/_posts/25-about-design-model2/station-culculate.png","post":"clc62baiw000vnwva1kh8fnsz","slug":"station-culculate.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/add-message.png","post":"clc62baix000wnwva8y2th7co","slug":"add-message.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/basic-model.png","post":"clc62baix000wnwva8y2th7co","slug":"basic-model.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/cache-model.png","post":"clc62baix000wnwva8y2th7co","slug":"cache-model.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/command-model-1.png","post":"clc62baix000wnwva8y2th7co","slug":"command-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/command-model-2.png","post":"clc62baix000wnwva8y2th7co","slug":"command-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/command-model-3.png","post":"clc62baix000wnwva8y2th7co","slug":"command-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/create-component.png","post":"clc62baix000wnwva8y2th7co","slug":"create-component.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/deal-data.png","post":"clc62baix000wnwva8y2th7co","slug":"deal-data.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/explain-model-1.png","post":"clc62baix000wnwva8y2th7co","slug":"explain-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/explain-model-2.png","post":"clc62baix000wnwva8y2th7co","slug":"explain-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/explain-model-3.png","post":"clc62baix000wnwva8y2th7co","slug":"explain-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/inherit-as-basic-model.png","post":"clc62baix000wnwva8y2th7co","slug":"inherit-as-basic-model.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/inherit-model.png","post":"clc62baix000wnwva8y2th7co","slug":"inherit-model.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/iterator-model.png","post":"clc62baix000wnwva8y2th7co","slug":"iterator-model.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/marry-state.png","post":"clc62baix000wnwva8y2th7co","slug":"marry-state.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/marry-state1.png","post":"clc62baix000wnwva8y2th7co","slug":"marry-state1.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/mediator-model.png","post":"clc62baix000wnwva8y2th7co","slug":"mediator-model.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/observer-fire.png","post":"clc62baix000wnwva8y2th7co","slug":"observer-fire.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/observer-regist.png","post":"clc62baix000wnwva8y2th7co","slug":"observer-regist.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/observer-remove.png","post":"clc62baix000wnwva8y2th7co","slug":"observer-remove.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/observer.png","post":"clc62baix000wnwva8y2th7co","slug":"observer.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/price-strategy.png","post":"clc62baix000wnwva8y2th7co","slug":"price-strategy.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/regist-change-num.png","post":"clc62baix000wnwva8y2th7co","slug":"regist-change-num.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/regist-message.png","post":"clc62baix000wnwva8y2th7co","slug":"regist-message.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/send-data.png","post":"clc62baix000wnwva8y2th7co","slug":"send-data.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/visitor-model.png","post":"clc62baix000wnwva8y2th7co","slug":"visitor-model.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/vote-status.png","post":"clc62baix000wnwva8y2th7co","slug":"vote-status.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/chain-model-1.png","post":"clc62baj2000xnwvacbm191dt","slug":"chain-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/chain-model-2.png","post":"clc62baj2000xnwvacbm191dt","slug":"chain-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/chain-model-3.png","post":"clc62baj2000xnwvacbm191dt","slug":"chain-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/chain-model-4.png","post":"clc62baj2000xnwvacbm191dt","slug":"chain-model-4.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/chain-model-5.png","post":"clc62baj2000xnwvacbm191dt","slug":"chain-model-5.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/chain-model-6.png","post":"clc62baj2000xnwvacbm191dt","slug":"chain-model-6.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/entrust-model-1.png","post":"clc62baj2000xnwvacbm191dt","slug":"entrust-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/entrust-model-2.png","post":"clc62baj2000xnwvacbm191dt","slug":"entrust-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/lazy-model-1.png","post":"clc62baj2000xnwvacbm191dt","slug":"lazy-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/lazy-model-2.png","post":"clc62baj2000xnwvacbm191dt","slug":"lazy-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/lazy-model-3.png","post":"clc62baj2000xnwvacbm191dt","slug":"lazy-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/lazy-model-4.png","post":"clc62baj2000xnwvacbm191dt","slug":"lazy-model-4.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/lazy-model-5.png","post":"clc62baj2000xnwvacbm191dt","slug":"lazy-model-5.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/lazy-model-6.png","post":"clc62baj2000xnwvacbm191dt","slug":"lazy-model-6.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/localstorage-model-1.png","post":"clc62baj2000xnwvacbm191dt","slug":"localstorage-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/localstorage-model-2.png","post":"clc62baj2000xnwvacbm191dt","slug":"localstorage-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/localstorage-model-3.png","post":"clc62baj2000xnwvacbm191dt","slug":"localstorage-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/localstorage-model-4.png","post":"clc62baj2000xnwvacbm191dt","slug":"localstorage-model-4.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/localstorage-model-5.png","post":"clc62baj2000xnwvacbm191dt","slug":"localstorage-model-5.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/localstorage-model-6.png","post":"clc62baj2000xnwvacbm191dt","slug":"localstorage-model-6.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/participate-model-1.png","post":"clc62baj2000xnwvacbm191dt","slug":"participate-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/participate-model-2.png","post":"clc62baj2000xnwvacbm191dt","slug":"participate-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/participate-model-3.png","post":"clc62baj2000xnwvacbm191dt","slug":"participate-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/participate-model-4.png","post":"clc62baj2000xnwvacbm191dt","slug":"participate-model-4.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/participate-model-5.png","post":"clc62baj2000xnwvacbm191dt","slug":"participate-model-5.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/participate-model-6.png","post":"clc62baj2000xnwvacbm191dt","slug":"participate-model-6.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/template-model-1.png","post":"clc62baj2000xnwvacbm191dt","slug":"template-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/template-model-2.png","post":"clc62baj2000xnwvacbm191dt","slug":"template-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/template-model-3.png","post":"clc62baj2000xnwvacbm191dt","slug":"template-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/template-model-4.png","post":"clc62baj2000xnwvacbm191dt","slug":"template-model-4.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/template-model-5.png","post":"clc62baj2000xnwvacbm191dt","slug":"template-model-5.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/template-model-6.png","post":"clc62baj2000xnwvacbm191dt","slug":"template-model-6.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/throttle-model-1.png","post":"clc62baj2000xnwvacbm191dt","slug":"throttle-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/throttle-model-2.png","post":"clc62baj2000xnwvacbm191dt","slug":"throttle-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/throttle-model-3.png","post":"clc62baj2000xnwvacbm191dt","slug":"throttle-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/waiter-model-1.png","post":"clc62baj2000xnwvacbm191dt","slug":"waiter-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/waiter-model-2.png","post":"clc62baj2000xnwvacbm191dt","slug":"waiter-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/waiter-model-3.png","post":"clc62baj2000xnwvacbm191dt","slug":"waiter-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/waiter-model-4.png","post":"clc62baj2000xnwvacbm191dt","slug":"waiter-model-4.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/waiter-model-5.png","post":"clc62baj2000xnwvacbm191dt","slug":"waiter-model-5.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/waiter-model-6.png","post":"clc62baj2000xnwvacbm191dt","slug":"waiter-model-6.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/waiter-model-7.png","post":"clc62baj2000xnwvacbm191dt","slug":"waiter-model-7.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/waiter-model-8.png","post":"clc62baj2000xnwvacbm191dt","slug":"waiter-model-8.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/appendix-1.png","post":"clc62baj3000znwva4zaa0pcr","slug":"appendix-1.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/appendix-10.png","post":"clc62baj3000znwva4zaa0pcr","slug":"appendix-10.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/appendix-2.png","post":"clc62baj3000znwva4zaa0pcr","slug":"appendix-2.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/appendix-3.png","post":"clc62baj3000znwva4zaa0pcr","slug":"appendix-3.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/appendix-4.png","post":"clc62baj3000znwva4zaa0pcr","slug":"appendix-4.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/appendix-5.png","post":"clc62baj3000znwva4zaa0pcr","slug":"appendix-5.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/appendix-6.png","post":"clc62baj3000znwva4zaa0pcr","slug":"appendix-6.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/appendix-7.png","post":"clc62baj3000znwva4zaa0pcr","slug":"appendix-7.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/appendix-8.png","post":"clc62baj3000znwva4zaa0pcr","slug":"appendix-8.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/appendix-9.png","post":"clc62baj3000znwva4zaa0pcr","slug":"appendix-9.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/async-module-model-1.png","post":"clc62baj3000znwva4zaa0pcr","slug":"async-module-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/async-module-model-2.png","post":"clc62baj3000znwva4zaa0pcr","slug":"async-module-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/async-module-model-3.png","post":"clc62baj3000znwva4zaa0pcr","slug":"async-module-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/async-module-model-4.png","post":"clc62baj3000znwva4zaa0pcr","slug":"async-module-model-4.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/async-module-model-5.png","post":"clc62baj3000znwva4zaa0pcr","slug":"async-module-model-5.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/async-module-model-6.png","post":"clc62baj3000znwva4zaa0pcr","slug":"async-module-model-6.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/async-module-model-7.png","post":"clc62baj3000znwva4zaa0pcr","slug":"async-module-model-7.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/async-module-model-8.png","post":"clc62baj3000znwva4zaa0pcr","slug":"async-module-model-8.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/async-module-model-9.png","post":"clc62baj3000znwva4zaa0pcr","slug":"async-module-model-9.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/module-model-1.png","post":"clc62baj3000znwva4zaa0pcr","slug":"module-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/module-model-2.png","post":"clc62baj3000znwva4zaa0pcr","slug":"module-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/module-model-3.png","post":"clc62baj3000znwva4zaa0pcr","slug":"module-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/module-model-4.png","post":"clc62baj3000znwva4zaa0pcr","slug":"module-model-4.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/module-model-5.png","post":"clc62baj3000znwva4zaa0pcr","slug":"module-model-5.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvc-model-1.png","post":"clc62baj3000znwva4zaa0pcr","slug":"mvc-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvc-model-2.png","post":"clc62baj3000znwva4zaa0pcr","slug":"mvc-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvc-model-3.png","post":"clc62baj3000znwva4zaa0pcr","slug":"mvc-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvc-model-4.png","post":"clc62baj3000znwva4zaa0pcr","slug":"mvc-model-4.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvp-model-1.png","post":"clc62baj3000znwva4zaa0pcr","slug":"mvp-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvp-model-2.png","post":"clc62baj3000znwva4zaa0pcr","slug":"mvp-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvp-model-3.png","post":"clc62baj3000znwva4zaa0pcr","slug":"mvp-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvp-model-4.png","post":"clc62baj3000znwva4zaa0pcr","slug":"mvp-model-4.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvp-model-5.png","post":"clc62baj3000znwva4zaa0pcr","slug":"mvp-model-5.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvp-model-6.png","post":"clc62baj3000znwva4zaa0pcr","slug":"mvp-model-6.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvp-model-7.png","post":"clc62baj3000znwva4zaa0pcr","slug":"mvp-model-7.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvvm-model-1.png","post":"clc62baj3000znwva4zaa0pcr","slug":"mvvm-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvvm-model-2.png","post":"clc62baj3000znwva4zaa0pcr","slug":"mvvm-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvvm-model-3.png","post":"clc62baj3000znwva4zaa0pcr","slug":"mvvm-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvvm-model-4.png","post":"clc62baj3000znwva4zaa0pcr","slug":"mvvm-model-4.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvvm-model-5.png","post":"clc62baj3000znwva4zaa0pcr","slug":"mvvm-model-5.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvvm-model-6.png","post":"clc62baj3000znwva4zaa0pcr","slug":"mvvm-model-6.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvvm-model-7.png","post":"clc62baj3000znwva4zaa0pcr","slug":"mvvm-model-7.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvvm-model-8.png","post":"clc62baj3000znwva4zaa0pcr","slug":"mvvm-model-8.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/widget-model-1.png","post":"clc62baj3000znwva4zaa0pcr","slug":"widget-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/widget-model-2.png","post":"clc62baj3000znwva4zaa0pcr","slug":"widget-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/widget-model-3.png","post":"clc62baj3000znwva4zaa0pcr","slug":"widget-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/widget-model-4.png","post":"clc62baj3000znwva4zaa0pcr","slug":"widget-model-4.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/widget-model-5.png","post":"clc62baj3000znwva4zaa0pcr","slug":"widget-model-5.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/widget-model-6.png","post":"clc62baj3000znwva4zaa0pcr","slug":"widget-model-6.png","modified":1,"renderable":1},{"_id":"source/_posts/34-data-structure2/chain-table-1.png","post":"clc62baj70015nwva93t0duvi","slug":"chain-table-1.png","modified":1,"renderable":1},{"_id":"source/_posts/34-data-structure2/chain-table-2.png","post":"clc62baj70015nwva93t0duvi","slug":"chain-table-2.png","modified":1,"renderable":1},{"_id":"source/_posts/34-data-structure2/chain-table-3.png","post":"clc62baj70015nwva93t0duvi","slug":"chain-table-3.png","modified":1,"renderable":1},{"_id":"source/_posts/34-data-structure2/chain-table-4.png","post":"clc62baj70015nwva93t0duvi","slug":"chain-table-4.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/binary-search-tree.png","post":"clc62baj70016nwvahrujgbps","slug":"binary-search-tree.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/factorial.png","post":"clc62baj70016nwvahrujgbps","slug":"factorial.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/in-order-traverse.png","post":"clc62baj70016nwvahrujgbps","slug":"in-order-traverse.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/left-left-1.png","post":"clc62baj70016nwvahrujgbps","slug":"left-left-1.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/left-left-2.png","post":"clc62baj70016nwvahrujgbps","slug":"left-left-2.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/left-right-1.png","post":"clc62baj70016nwvahrujgbps","slug":"left-right-1.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/left-right-2.png","post":"clc62baj70016nwvahrujgbps","slug":"left-right-2.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/post-order-traverse.png","post":"clc62baj70016nwvahrujgbps","slug":"post-order-traverse.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/pre-order-traverse.png","post":"clc62baj70016nwvahrujgbps","slug":"pre-order-traverse.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/red-black-2a.png","post":"clc62baj70016nwvahrujgbps","slug":"red-black-2a.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/red-black-2b.png","post":"clc62baj70016nwvahrujgbps","slug":"red-black-2b.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/red-black-3a.png","post":"clc62baj70016nwvahrujgbps","slug":"red-black-3a.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/red-black-3b.png","post":"clc62baj70016nwvahrujgbps","slug":"red-black-3b.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/remove-left-right.png","post":"clc62baj70016nwvahrujgbps","slug":"remove-left-right.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/right-left-1.png","post":"clc62baj70016nwvahrujgbps","slug":"right-left-1.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/right-left-2.png","post":"clc62baj70016nwvahrujgbps","slug":"right-left-2.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/right-right-1.png","post":"clc62baj70016nwvahrujgbps","slug":"right-right-1.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/right-right-2.png","post":"clc62baj70016nwvahrujgbps","slug":"right-right-2.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/tree.png","post":"clc62baj70016nwvahrujgbps","slug":"tree.png","modified":1,"renderable":1},{"_id":"source/_posts/39-data-structure7/big-o-1.png","post":"clc62baja0019nwva4h9jhzmg","slug":"big-o-1.png","modified":1,"renderable":1},{"_id":"source/_posts/39-data-structure7/big-o-2.png","post":"clc62baja0019nwva4h9jhzmg","slug":"big-o-2.png","modified":1,"renderable":1},{"_id":"source/_posts/39-data-structure7/big-o-3.png","post":"clc62baja0019nwva4h9jhzmg","slug":"big-o-3.png","modified":1,"renderable":1},{"_id":"source/_posts/39-data-structure7/big-o-4.png","post":"clc62baja0019nwva4h9jhzmg","slug":"big-o-4.png","modified":1,"renderable":1},{"_id":"source/_posts/39-data-structure7/big-o-5.png","post":"clc62baja0019nwva4h9jhzmg","slug":"big-o-5.png","modified":1,"renderable":1},{"_id":"source/_posts/39-data-structure7/big-o-6.png","post":"clc62baja0019nwva4h9jhzmg","slug":"big-o-6.png","modified":1,"renderable":1},{"_id":"source/_posts/39-data-structure7/technology-1.png","post":"clc62baja0019nwva4h9jhzmg","slug":"technology-1.png","modified":1,"renderable":1},{"_id":"source/_posts/39-data-structure7/technology-2.png","post":"clc62baja0019nwva4h9jhzmg","slug":"technology-2.png","modified":1,"renderable":1},{"_id":"source/_posts/39-data-structure7/technology-3.png","post":"clc62baja0019nwva4h9jhzmg","slug":"technology-3.png","modified":1,"renderable":1},{"_id":"source/_posts/39-data-structure7/technology-4.png","post":"clc62baja0019nwva4h9jhzmg","slug":"technology-4.png","modified":1,"renderable":1},{"_id":"source/_posts/39-data-structure7/technology-5.png","post":"clc62baja0019nwva4h9jhzmg","slug":"technology-5.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/graph-1.png","post":"clc62baj90018nwvacxikgl6f","slug":"graph-1.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/graph-10.png","post":"clc62baj90018nwvacxikgl6f","slug":"graph-10.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/graph-11.png","post":"clc62baj90018nwvacxikgl6f","slug":"graph-11.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/graph-12.png","post":"clc62baj90018nwvacxikgl6f","slug":"graph-12.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/graph-13.png","post":"clc62baj90018nwvacxikgl6f","slug":"graph-13.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/graph-2.png","post":"clc62baj90018nwvacxikgl6f","slug":"graph-2.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/graph-3.png","post":"clc62baj90018nwvacxikgl6f","slug":"graph-3.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/graph-4.png","post":"clc62baj90018nwvacxikgl6f","slug":"graph-4.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/graph-5.png","post":"clc62baj90018nwvacxikgl6f","slug":"graph-5.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/graph-6.png","post":"clc62baj90018nwvacxikgl6f","slug":"graph-6.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/graph-7.png","post":"clc62baj90018nwvacxikgl6f","slug":"graph-7.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/graph-8.png","post":"clc62baj90018nwvacxikgl6f","slug":"graph-8.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/graph-9.png","post":"clc62baj90018nwvacxikgl6f","slug":"graph-9.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/heap-sort.png","post":"clc62baj90018nwvacxikgl6f","slug":"heap-sort.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/heat.png","post":"clc62baj90018nwvacxikgl6f","slug":"heat.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/min-heat-pic.png","post":"clc62baj90018nwvacxikgl6f","slug":"min-heat-pic.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/min-heat.png","post":"clc62baj90018nwvacxikgl6f","slug":"min-heat.png","modified":1,"renderable":1},{"_id":"source/_posts/35-data-structure3/linear-probing.png","post":"clc62baj80017nwvag9sob3zh","slug":"linear-probing.png","modified":1,"renderable":1},{"_id":"source/_posts/35-data-structure3/lose-lose.png","post":"clc62baj80017nwvag9sob3zh","slug":"lose-lose.png","modified":1,"renderable":1},{"_id":"source/_posts/35-data-structure3/move-key.png","post":"clc62baj80017nwvag9sob3zh","slug":"move-key.png","modified":1,"renderable":1},{"_id":"source/_posts/35-data-structure3/soft-delete.png","post":"clc62baj80017nwvag9sob3zh","slug":"soft-delete.png","modified":1,"renderable":1},{"_id":"source/_posts/35-data-structure3/sperate-chain.png","post":"clc62baj80017nwvag9sob3zh","slug":"sperate-chain.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/search-1.png","post":"clc62baja001anwva0ptc6bat","slug":"search-1.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/search-2.png","post":"clc62baja001anwva0ptc6bat","slug":"search-2.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/search-3.png","post":"clc62baja001anwva0ptc6bat","slug":"search-3.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/search-4.png","post":"clc62baja001anwva0ptc6bat","slug":"search-4.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/sort-1.png","post":"clc62baja001anwva0ptc6bat","slug":"sort-1.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/sort-10.png","post":"clc62baja001anwva0ptc6bat","slug":"sort-10.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/sort-11.png","post":"clc62baja001anwva0ptc6bat","slug":"sort-11.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/sort-12.png","post":"clc62baja001anwva0ptc6bat","slug":"sort-12.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/sort-2.png","post":"clc62baja001anwva0ptc6bat","slug":"sort-2.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/sort-3.png","post":"clc62baja001anwva0ptc6bat","slug":"sort-3.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/sort-4.png","post":"clc62baja001anwva0ptc6bat","slug":"sort-4.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/sort-5.png","post":"clc62baja001anwva0ptc6bat","slug":"sort-5.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/sort-6.png","post":"clc62baja001anwva0ptc6bat","slug":"sort-6.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/sort-7.png","post":"clc62baja001anwva0ptc6bat","slug":"sort-7.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/sort-8.png","post":"clc62baja001anwva0ptc6bat","slug":"sort-8.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/sort-9.png","post":"clc62baja001anwva0ptc6bat","slug":"sort-9.png","modified":1,"renderable":1},{"_id":"source/_posts/40-tail-call/call-stack.png","post":"clc62bajc001dnwva17k0b1dv","slug":"call-stack.png","modified":1,"renderable":1},{"_id":"source/_posts/5-react-render/fiber_tree.png","post":"clc62baje001gnwva70xt9t6g","slug":"fiber_tree.png","modified":1,"renderable":1},{"_id":"source/_posts/5-react-render/force_update.png","post":"clc62baje001gnwva70xt9t6g","slug":"force_update.png","modified":1,"renderable":1},{"_id":"source/_posts/5-react-render/update_class.png","post":"clc62baje001gnwva70xt9t6g","slug":"update_class.png","modified":1,"renderable":1},{"_id":"source/_posts/6-vue3-render/render.png","post":"clc62bajf001hnwvae0wd0lk3","slug":"render.png","modified":1,"renderable":1},{"_id":"source/_posts/6-vue3-render/render_function.png","post":"clc62bajf001hnwvae0wd0lk3","slug":"render_function.png","modified":1,"renderable":1},{"_id":"source/_posts/6-vue3-render/render_node1.png","post":"clc62bajf001hnwvae0wd0lk3","slug":"render_node1.png","modified":1,"renderable":1},{"_id":"source/_posts/6-vue3-render/render_node2.png","post":"clc62bajf001hnwvae0wd0lk3","slug":"render_node2.png","modified":1,"renderable":1},{"_id":"source/_posts/6-vue3-render/vue3_render.png","post":"clc62bajf001hnwvae0wd0lk3","slug":"vue3_render.png","modified":1,"renderable":1}],"PostCategory":[],"PostTag":[],"Tag":[]}}