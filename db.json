{"meta":{"version":1,"warehouse":"4.0.0"},"models":{"Asset":[{"_id":"source/nodejs/file/stderr.log","path":"nodejs/file/stderr.log","modified":1,"renderable":0},{"_id":"source/nodejs/file/test.enc","path":"nodejs/file/test.enc","modified":1,"renderable":0},{"_id":"source/nodejs/file/stdout.log","path":"nodejs/file/stdout.log","modified":1,"renderable":0},{"_id":"source/nodejs/images/async-experience.png","path":"nodejs/images/async-experience.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/async-progress.png","path":"nodejs/images/async-progress.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/async-call.png","path":"nodejs/images/async-call.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/bigpipe.png","path":"nodejs/images/bigpipe.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/buffer-3.png","path":"nodejs/images/buffer-3.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/buffer.png","path":"nodejs/images/buffer.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/buffer-2.png","path":"nodejs/images/buffer-2.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/buffer-1.png","path":"nodejs/images/buffer-1.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/ca-1.png","path":"nodejs/images/ca-1.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/ca.png","path":"nodejs/images/ca.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/cache.png","path":"nodejs/images/cache.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/collect-diff.png","path":"nodejs/images/collect-diff.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/cross-platform.png","path":"nodejs/images/cross-platform.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/commonjs-node-relation.png","path":"nodejs/images/commonjs-node-relation.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/epoll-loop.png","path":"nodejs/images/epoll-loop.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/how-to-call-async.png","path":"nodejs/images/how-to-call-async.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/fork.png","path":"nodejs/images/fork.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/defer-promise.png","path":"nodejs/images/defer-promise.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/http.png","path":"nodejs/images/http.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/increase-target.png","path":"nodejs/images/increase-target.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/jam.png","path":"nodejs/images/jam.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/loop-1.png","path":"nodejs/images/loop-1.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/loop.png","path":"nodejs/images/loop.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/master-slave.png","path":"nodejs/images/master-slave.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/mvc.png","path":"nodejs/images/mvc.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/middle.png","path":"nodejs/images/middle.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/net-1.png","path":"nodejs/images/net-1.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/net-3.png","path":"nodejs/images/net-3.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/net-2.png","path":"nodejs/images/net-2.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/net-4.png","path":"nodejs/images/net-4.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/node-modules.png","path":"nodejs/images/node-modules.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/no-jam.png","path":"nodejs/images/no-jam.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/nvm-setting-content.png","path":"nodejs/images/nvm-setting-content.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/node-require.png","path":"nodejs/images/node-require.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/nvm-install.png","path":"nodejs/images/nvm-install.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/nvm-download.png","path":"nodejs/images/nvm-download.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/nvm-setting.png","path":"nodejs/images/nvm-setting.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/package.png","path":"nodejs/images/package.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/pipe-2.png","path":"nodejs/images/pipe-2.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/pipe-1.png","path":"nodejs/images/pipe-1.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/pipe-3.png","path":"nodejs/images/pipe-3.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/product-1.png","path":"nodejs/images/product-1.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/pipe-4.png","path":"nodejs/images/pipe-4.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/poll-loop.png","path":"nodejs/images/poll-loop.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/pipe.png","path":"nodejs/images/pipe.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/settimeout.png","path":"nodejs/images/settimeout.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/read-loop.png","path":"nodejs/images/read-loop.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/product.png","path":"nodejs/images/product.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/sweep-compact.png","path":"nodejs/images/sweep-compact.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/select-loop.png","path":"nodejs/images/select-loop.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/test-2.png","path":"nodejs/images/test-2.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/test.png","path":"nodejs/images/test.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/symlinks.png","path":"nodejs/images/symlinks.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/tail-trigger.png","path":"nodejs/images/tail-trigger.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/test-1.png","path":"nodejs/images/test-1.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/v8-promot2.png","path":"nodejs/images/v8-promot2.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/v8-promot.png","path":"nodejs/images/v8-promot.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/tls-ssl.png","path":"nodejs/images/tls-ssl.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/websocket-1.png","path":"nodejs/images/websocket-1.png","modified":1,"renderable":0},{"_id":"source/nodejs/images/websocket.png","path":"nodejs/images/websocket.png","modified":1,"renderable":0},{"_id":"themes/next/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":1,"renderable":1},{"_id":"themes/next/source/images/avatar.jpg","path":"images/avatar.jpg","modified":1,"renderable":1},{"_id":"themes/next/source/css/noscript.styl","path":"css/noscript.styl","modified":1,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/logo-algolia-nebula-blue-full.svg","path":"images/logo-algolia-nebula-blue-full.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/logo.svg","path":"images/logo.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/logo.jpeg","path":"images/logo.jpeg","modified":1,"renderable":1},{"_id":"themes/next/source/js/bookmark.js","path":"js/bookmark.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/comments-buttons.js","path":"js/comments-buttons.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/comments.js","path":"js/comments.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/motion.js","path":"js/motion.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/config.js","path":"js/config.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/schedule.js","path":"js/schedule.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/next-boot.js","path":"js/next-boot.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/pjax.js","path":"js/pjax.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/utils.js","path":"js/utils.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/schemes/muse.js","path":"js/schemes/muse.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/pace.js","path":"js/third-party/pace.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/fancybox.js","path":"js/third-party/fancybox.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/rating.js","path":"js/third-party/rating.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/quicklink.js","path":"js/third-party/quicklink.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/analytics/baidu-analytics.js","path":"js/third-party/analytics/baidu-analytics.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/analytics/google-analytics.js","path":"js/third-party/analytics/google-analytics.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/analytics/growingio.js","path":"js/third-party/analytics/growingio.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/chat/chatra.js","path":"js/third-party/chat/chatra.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/chat/tidio.js","path":"js/third-party/chat/tidio.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/chat/gitter.js","path":"js/third-party/chat/gitter.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/comments/changyan.js","path":"js/third-party/comments/changyan.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/comments/disqus.js","path":"js/third-party/comments/disqus.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/comments/livere.js","path":"js/third-party/comments/livere.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/comments/utterances.js","path":"js/third-party/comments/utterances.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/comments/disqusjs.js","path":"js/third-party/comments/disqusjs.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/comments/gitalk.js","path":"js/third-party/comments/gitalk.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/math/mathjax.js","path":"js/third-party/math/mathjax.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/comments/isso.js","path":"js/third-party/comments/isso.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/math/katex.js","path":"js/third-party/math/katex.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/statistics/firestore.js","path":"js/third-party/statistics/firestore.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/statistics/lean-analytics.js","path":"js/third-party/statistics/lean-analytics.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/tags/mermaid.js","path":"js/third-party/tags/mermaid.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/tags/pdf.js","path":"js/third-party/tags/pdf.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/search/algolia-search.js","path":"js/third-party/search/algolia-search.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/third-party/search/local-search.js","path":"js/third-party/search/local-search.js","modified":1,"renderable":1}],"Cache":[{"_id":"source/nodejs/nodejs-note-14.md","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1672819655798},{"_id":"source/nodejs/nodejs-note-15.md","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1672819667764},{"_id":"source/nodejs/file/stdout.log","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1672814667830},{"_id":"source/index.md","hash":"b55e6f2c2b127640284ae1c862095d2e57cd2d03","modified":1667272331961},{"_id":"source/commonweal/index.md","hash":"ad7fb815e56ba127e811a3567a619a7ab7edf654","modified":1660024567905},{"_id":"source/vue/index.md","hash":"a57df7e0596d7db725d855a700185c74dcfed5c4","modified":1643106514167},{"_id":"source/_posts/12-create-github-tokens.md","hash":"36bc1839b5bbc1938ce1e8b84ada86cb81b5683b","modified":1656566299719},{"_id":"source/vue/change.md","hash":"0657a56e1da4d07caae9b44aae3d845ade2e7325","modified":1643105454040},{"_id":"source/vue/dependency.md","hash":"b96d71c3fd9006df71d6a7e7a25602472b1caa0d","modified":1643105980849},{"_id":"source/_posts/1-hello-world.md","hash":"270b836ccfe6be2557efe7cff4f7508dcbe21bba","modified":1655949513679},{"_id":"source/_posts/11-github-push-insert-password.md","hash":"4b012a4cc4f906f27b1073639d349af384637565","modified":1656566532389},{"_id":"source/_posts/10-about-meta.md","hash":"bb4ea509d4e70d028ab897066775a3c5daa92e4c","modified":1658389708630},{"_id":"source/_posts/13-document-location.md","hash":"658fe2b78f7a73ab1f289730905cd9c1e813e07c","modified":1666681454558},{"_id":"source/_posts/14-about-fe-theory.md","hash":"5a090673e16c377c4d2d578998cb29d6fb88aa5a","modified":1658123245279},{"_id":"source/_posts/16-origin-type-and-reference-type.md","hash":"10b010393111f0a8cf7c4644b8acd4bfc87cf2ef","modified":1660101267201},{"_id":"source/_posts/18-fake-array.md","hash":"1c2ab5ff218428b5e1de4a589f681afd808e21ec","modified":1659597456091},{"_id":"source/_posts/15-js-transform.md","hash":"e696a1a70a8634cac69b43cd2892f45e82838a37","modified":1660101077050},{"_id":"source/_posts/19-about-map.md","hash":"f39821c6d8c12680cecf25f6abddd8430f3ed0eb","modified":1659598283549},{"_id":"source/_posts/17-about-dom.md","hash":"8b9d82b293d05a8607338ba7805995668a2a75bc","modified":1661856873610},{"_id":"source/_posts/2-var-const-let.md","hash":"41e5f191349193383557269ea8ec33cf0d9ce21c","modified":1660101369107},{"_id":"source/_posts/20-create-vscode-plugin.md","hash":"653b6b918bb11faa8cc85909e37b971d5d07bf0e","modified":1659679736829},{"_id":"source/_posts/22-about-symbol.md","hash":"99d71ea1b58e50276b11a2debd131027221678e0","modified":1660887762437},{"_id":"source/_posts/24-about-design-model1.md","hash":"8f76ec64f22977e4d5a6486f4e4090779a91f5c5","modified":1663838190022},{"_id":"source/_posts/21-devan-operation.md","hash":"6bbc2c6364decd9a99cb4f72c1626a757fa4a871","modified":1660807793069},{"_id":"source/_posts/25-about-design-model2.md","hash":"6adc57fe87e1a23af4cb2ccf359caaa5e9d52a23","modified":1663838204404},{"_id":"source/_posts/23-about-design-model.md","hash":"9eb2c5bd6124d1a582158156ccc553a079934b46","modified":1663838158613},{"_id":"source/_posts/27-about-design-model4.md","hash":"8b9f3064b26ee72f6a4d886726923dab412a6043","modified":1663915885454},{"_id":"source/_posts/30-some-convenient-code.md","hash":"77144e1fdf0f043b670668068dfce18ff5c73b18","modified":1662356523830},{"_id":"source/_posts/28-about-design-model5.md","hash":"8fb3151d527abdb7b72d37b7072df8e9cf9e90a0","modified":1663916378606},{"_id":"source/_posts/3-about-use-hexo.md","hash":"dfe2e57286b86d882621511540b190d20445efea","modified":1671176642565},{"_id":"source/_posts/26-about-design-model3.md","hash":"5f3244ba3d46a81d344ad7a0436b1ed877ed6121","modified":1663838226427},{"_id":"source/_posts/32-apply-array-to-params.md","hash":"52d35507e347e52b26921224d017b6d2a82edc58","modified":1666680400737},{"_id":"source/_posts/31-get-and-set-prototypeof.md","hash":"035d9fccc65f0c58943ade176ca7d6ec49026c7f","modified":1662360142960},{"_id":"source/_posts/34-data-structure2.md","hash":"4e0f33961038eb3349bcb221f53886a7b8732882","modified":1664270489523},{"_id":"source/_posts/29-es6-object-strong.md","hash":"6ae821db818da9d8730d16f9569103b5e560f350","modified":1662097772109},{"_id":"source/_posts/36-data-structure4.md","hash":"7951edc4e2ffb8d2e63b958726c452062cd91c06","modified":1665217503909},{"_id":"source/_posts/33-data-structure1.md","hash":"e6524756037ae38015b2ada98ef9e8c3783b0090","modified":1663919512037},{"_id":"source/_posts/35-data-structure3.md","hash":"c92d6cb215fc4f8386a98274573e19ca678ff032","modified":1665206691061},{"_id":"source/_posts/38-data-structure6.md","hash":"d912b4354998b96e9dfab0b0781172ece08451de","modified":1665648774939},{"_id":"source/_posts/41-js-equal-type.md","hash":"44974b3f8b3f563ebc9844fca893418189c8f12e","modified":1666776409205},{"_id":"source/_posts/4-browser-render.md","hash":"748dabbf3eaa00f47492d9d5909abaebbb4ae79e","modified":1666668016618},{"_id":"source/_posts/40-tail-call.md","hash":"2a0fdab19e2e7590782f190297152c8da77a57c7","modified":1671173782607},{"_id":"source/_posts/37-data-structure5.md","hash":"ffc693174996ef51966af77150292509158b426b","modified":1665641643893},{"_id":"source/_posts/39-data-structure7.md","hash":"8a45476dfce18636b702ba2e62b184cb5d27feae","modified":1666665253998},{"_id":"source/_posts/5-react-render.md","hash":"3d1ecf1f8ba758118a9958874f508559db7f5a93","modified":1660101306301},{"_id":"source/_posts/42-scrollInToView-params.md","hash":"9c66eec9bf7671c178b696b05b1349bc5c3914b6","modified":1668049745623},{"_id":"source/_posts/44-about-grid.md","hash":"c549a3880d0e996c797dea258ce229d8388bf39a","modified":1672733878368},{"_id":"source/_posts/7-question-about-render.md","hash":"362aefe2d4a9469e1320feb49412433993979820","modified":1660101293040},{"_id":"source/_posts/6-vue3-render.md","hash":"0e7f667b40d879002559a3e6be9ea488e11a467b","modified":1660101380555},{"_id":"source/_posts/43-compress-picture.md","hash":"be187f049a28b605f9dc7b150de11e49d2c4e63c","modified":1670550219494},{"_id":"source/_posts/9-text-type-about-markdown.md","hash":"0d57e2234ae893536c0e0a54f958129b02e46ed7","modified":1665716504781},{"_id":"source/_posts/8-create-fixed-length-array.md","hash":"bb6b775930a2282b80b9b78f0239c17461fec807","modified":1660101146408},{"_id":"source/nodejs/nodejs-note-13.md","hash":"e0d7e52fc03232a40447c60e10e469ca1507c1e7","modified":1672825060464},{"_id":"source/nodejs/nodejs-note-1.md","hash":"1c43517aefbf32e5d016226ab544cd607ccb19fa","modified":1671528431300},{"_id":"source/nodejs/nodejs-note-10.md","hash":"d1c249a8797304dfbfcdb119d51e445bf895aa9a","modified":1672388818409},{"_id":"source/nodejs/index.md","hash":"bbbcb26a2cec461888979c6c74d39df63bd6ed05","modified":1672819968576},{"_id":"source/nodejs/install-diff-version-node-by-nvm.md","hash":"3f5a735e29bb261fe649cb965538c77c19ccc19e","modified":1671173826867},{"_id":"source/nodejs/nodejs-note-5.md","hash":"f329a87ea5bacff1c0675a6df18eaef74d3063a2","modified":1672819772366},{"_id":"source/nodejs/nodejs-note-11.md","hash":"42f868eab0fab129daa570a71fac3ba8bbb8fe1d","modified":1672393876757},{"_id":"source/nodejs/nodejs-note-12.md","hash":"3e37245c9952654618f6d6434f7ce45185b5de41","modified":1672817676290},{"_id":"source/nodejs/nodejs-note-2.md","hash":"2251399aaebac272c59f1efa8b10a4fe02832f3b","modified":1672192016920},{"_id":"source/nodejs/nodejs-note-4.md","hash":"6641ebc712ce1bac59f69824752303112554eccb","modified":1672192016926},{"_id":"source/nodejs/nodejs-note-9.md","hash":"b2cec2d93742c647aaf4355b0b669a25e2039222","modified":1672283208248},{"_id":"source/nodejs/nodejs-note-8.md","hash":"1bf326db297f141a9ad5b1670432b6ef16c79ce2","modified":1672218701079},{"_id":"source/nodejs/nodejs-note-3.md","hash":"ecf0a16f86dfb92a8051b8a12de336700a7cc54a","modified":1672192016923},{"_id":"source/nodejs/nodejs-note-7.md","hash":"84c4002f7bc3a7e281e712e5841890f30c192df8","modified":1672218643846},{"_id":"source/nodejs/nodejs-note-6.md","hash":"edad9e6637dd7713f25da3a3a9ce50d1e83c158a","modified":1667273295463},{"_id":"source/_posts/15-js-transform/js-transform.html","hash":"f4f8d85e5386d9b251c24aea038d4c57c88ede50","modified":1660210173722},{"_id":"source/_posts/18-fake-array/prototype_call.png","hash":"166ae1ed6f21a1c4ee961508d06adae89f22c6d6","modified":1659583249658},{"_id":"source/_posts/18-fake-array/document.png","hash":"c0e73c5d922eaf7f899856685f5fbd8245517fe8","modified":1659583001215},{"_id":"source/_posts/18-fake-array/array_from.png","hash":"50733fd866277f6aa27e12e432f2511fa886855f","modified":1659583606408},{"_id":"source/_posts/18-fake-array/slice_call.png","hash":"a97bd9fef96df18bbe6097521df710bd9615090a","modified":1659583430484},{"_id":"source/_posts/24-about-design-model1/abstract-car.png","hash":"63b2384c0b130f2d40907996aeb528d2131ab01f","modified":1662443039673},{"_id":"source/_posts/24-about-design-model1/static-param.png","hash":"ec22668e0901214c3d2efadcdae0ae34f801c2ac","modified":1662448007534},{"_id":"source/_posts/24-about-design-model1/safe-model-class.png","hash":"90a874baec5df9156cf7b65d7c7754d28c82337e","modified":1662442491219},{"_id":"source/_posts/25-about-design-model2/bridge1.png","hash":"70973d153e1e628ebf1152bce98b1a68b7530784","modified":1662458463138},{"_id":"source/_posts/25-about-design-model2/bridge3.png","hash":"8358d5a031c07b8a0dbe61df13f0642bf03b7c5d","modified":1662458499287},{"_id":"source/_posts/25-about-design-model2/bridge2.png","hash":"0d4e3980c0c177ef97e690e69919f954f2292ddb","modified":1662458485135},{"_id":"source/_posts/26-about-design-model3/command-model-3.png","hash":"f8973520dfc9d241d4e418d016dbde7cf647482f","modified":1663577292848},{"_id":"source/_posts/26-about-design-model3/explain-model-2.png","hash":"13dd495c6f42e9820c60034d2e87bc917486129e","modified":1663580905852},{"_id":"source/_posts/26-about-design-model3/observer-regist.png","hash":"160d15173ed43415298e65c9b3d9a63159aacb91","modified":1662604465638},{"_id":"source/_posts/28-about-design-model5/async-module-model-7.png","hash":"8473d1889cf3ba7e45e0b71a8dd861cc233f05c2","modified":1663661966862},{"_id":"source/_posts/28-about-design-model5/async-module-model-2.png","hash":"8898b83e3301783ee9bfb43b2488f4171e86a2bc","modified":1663661641923},{"_id":"source/_posts/28-about-design-model5/async-module-model-8.png","hash":"3a03fb902c96d787e256412ebc5a604a26aabd93","modified":1663662004136},{"_id":"source/_posts/28-about-design-model5/async-module-model-9.png","hash":"3959c02225b63e07adce93a968ed0bb0e2e6c365","modified":1663662019419},{"_id":"source/_posts/28-about-design-model5/module-model-5.png","hash":"c866de378508cfdbfd9307dd72b719577d2a3cff","modified":1663659938940},{"_id":"source/_posts/28-about-design-model5/mvc-model-4.png","hash":"03b64f2faf10dbcc8c3a32fb96b29e0b135f2f49","modified":1663663969725},{"_id":"source/_posts/28-about-design-model5/mvc-model-1.png","hash":"9fe4ed86ba3315ba722de0660cc6ec5770666487","modified":1663663438592},{"_id":"source/_posts/28-about-design-model5/mvp-model-1.png","hash":"ff42b48b0eb5f6ac14adc79c348d093c14f164de","modified":1663664391940},{"_id":"source/_posts/28-about-design-model5/mvvm-model-2.png","hash":"3cb6051a5054c50231162690a8494170b90397f4","modified":1663665412492},{"_id":"source/_posts/28-about-design-model5/widget-model-1.png","hash":"4f89287a4f8aa1122864cbc4c77f89d592a68c45","modified":1663662384573},{"_id":"source/_posts/27-about-design-model4/entrust-model-2.png","hash":"71764eebae7d27ba83deff08b4d925307914e3d0","modified":1663651049352},{"_id":"source/_posts/27-about-design-model4/lazy-model-1.png","hash":"5237b5b92b4b542f593af63d48afb088237eb2ed","modified":1663654190148},{"_id":"source/_posts/27-about-design-model4/localstorage-model-1.png","hash":"d78dd470675aa3f2a42ad1ce9617ef7d89e2168a","modified":1663651957734},{"_id":"source/_posts/27-about-design-model4/participate-model-1.png","hash":"44ef46104d7428d99d7b80b7ca8e2f9059d02340","modified":1663655013113},{"_id":"source/_posts/27-about-design-model4/participate-model-2.png","hash":"04cb3a2efcc6a9a9b3cc52a11c14b75ebfa332d6","modified":1663655036348},{"_id":"source/_posts/27-about-design-model4/template-model-6.png","hash":"f34ff79b1d619c45ccb21c2158a4680a6617942f","modified":1663653640090},{"_id":"source/_posts/27-about-design-model4/waiter-model-3.png","hash":"b59dca3e470f10063815167bca6227f8341dbc8e","modified":1663657400528},{"_id":"source/_posts/27-about-design-model4/waiter-model-8.png","hash":"9be78a26ae2db46d9ec8d4bb36902be64991e2f9","modified":1663658341497},{"_id":"source/_posts/35-data-structure3/lose-lose.png","hash":"55e49878d996f933010c1ac93b306b407a74019a","modified":1665196106863},{"_id":"source/_posts/35-data-structure3/linear-probing.png","hash":"0a020e8afc93027a2f5d6873414f7afbfa4b6f83","modified":1665198665394},{"_id":"source/_posts/35-data-structure3/move-key.png","hash":"ebb4944fee6e7aa9426ad27101ccaaca152e2fa2","modified":1665199125857},{"_id":"source/_posts/34-data-structure2/chain-table-1.png","hash":"b4a240e43972349b743117265ca1897051389bed","modified":1664174288096},{"_id":"source/_posts/35-data-structure3/sperate-chain.png","hash":"1c7b05c0f24bd68757a3497182c41da36cf91bbc","modified":1665197999026},{"_id":"source/_posts/35-data-structure3/soft-delete.png","hash":"f8fc5195e6b92a91af6b1a283be51fea18d95ccb","modified":1665198884241},{"_id":"source/_posts/34-data-structure2/chain-table-2.png","hash":"ea63e231035c3929b320bb52dc63c363a1b1ff39","modified":1664263190912},{"_id":"source/_posts/34-data-structure2/chain-table-4.png","hash":"04054fdc4cbdfb48b13bde3769b7ccb590e6bff9","modified":1664264606764},{"_id":"source/_posts/34-data-structure2/chain-table-3.png","hash":"6db25c5f058ceecae16751cea75e2a13e62a6b3d","modified":1664264590232},{"_id":"source/_posts/38-data-structure6/search-1.png","hash":"a844a9c7aabbe1a2fc3c7151e88a35f494e9d09b","modified":1665647613587},{"_id":"source/_posts/38-data-structure6/sort-1.png","hash":"97f90c860ce1d2669135aa5a7a474aeb7a799ad6","modified":1665642448596},{"_id":"source/_posts/38-data-structure6/search-2.png","hash":"3626ed24aaf5d1563eb1daa3a4f8d5136150bb83","modified":1665648010123},{"_id":"source/_posts/38-data-structure6/search-4.png","hash":"ecf4e1f8dd0fdf38b91d89de529f09da6eb88dd8","modified":1665648752017},{"_id":"source/_posts/38-data-structure6/search-3.png","hash":"719072030a73de7c3054974d55b626d221894218","modified":1665648563915},{"_id":"source/_posts/38-data-structure6/sort-3.png","hash":"913bb3906ff437f6dfe6a773b852918b7a49ae0d","modified":1665642939385},{"_id":"source/_posts/38-data-structure6/sort-10.png","hash":"cbb2fbde7d06aae552356dd7e4c65274d322f0fe","modified":1665645027520},{"_id":"source/_posts/38-data-structure6/sort-11.png","hash":"067113a10d14e5524fe4e7972c61d1b077811134","modified":1665646466063},{"_id":"source/_posts/38-data-structure6/sort-12.png","hash":"a8fdcaca8fd646997a58eca48c76809cb25c7571","modified":1665647384547},{"_id":"source/_posts/38-data-structure6/sort-2.png","hash":"a63daadd4590ed6b4ad7519bd1a14ae4be364a64","modified":1665642647310},{"_id":"source/_posts/38-data-structure6/sort-4.png","hash":"273c67388337e6e5eeb6c6e3486e5047d8d02321","modified":1665643284083},{"_id":"source/_posts/38-data-structure6/sort-8.png","hash":"f62f618f88c3715fa98532f136e36afea5153b3b","modified":1665644910757},{"_id":"source/_posts/38-data-structure6/sort-5.png","hash":"05867cc82ce12a1a2b6c92d0d37e2155df04d0a5","modified":1665643898545},{"_id":"source/_posts/38-data-structure6/sort-6.png","hash":"c4802ae6c84bee330fec94ddd888543a590ec692","modified":1665644667547},{"_id":"source/_posts/37-data-structure5/graph-10.png","hash":"be4ed69d06ae7dcea2b875b3b0ce92922a7fd0b2","modified":1665638234796},{"_id":"source/_posts/38-data-structure6/sort-7.png","hash":"681be89ab6425489c526125d890ae38ef8ee1435","modified":1665644820524},{"_id":"source/_posts/37-data-structure5/graph-1.png","hash":"a1b2db6ab3de04b1adf413855eaa4220c96ae523","modified":1665297136845},{"_id":"source/_posts/38-data-structure6/sort-9.png","hash":"b1a616076a59411ae21537a155e8f12e198c78b0","modified":1665645011262},{"_id":"source/_posts/37-data-structure5/graph-13.png","hash":"0ef979dea025ae063ccc8477915e14c2bada6f77","modified":1665639214755},{"_id":"source/_posts/37-data-structure5/graph-2.png","hash":"f56455b618e7b41e84fba80e91ade7ed29df91ca","modified":1665297469781},{"_id":"source/_posts/37-data-structure5/graph-3.png","hash":"4bca0b6ea37be10e8ab4b015ab1879bc9c95f98b","modified":1665297485922},{"_id":"source/_posts/37-data-structure5/graph-11.png","hash":"070f67f44e46097fb8750af9a315c9bca7fc6c0f","modified":1665638354099},{"_id":"source/_posts/37-data-structure5/graph-12.png","hash":"b557ac7c33f3672b559a4a1eacf84aba2fcff1cf","modified":1665638654654},{"_id":"source/_posts/37-data-structure5/graph-5.png","hash":"a85fa2dffae020f8d02eebce15b1592e9b222a5e","modified":1665544487331},{"_id":"source/_posts/37-data-structure5/graph-4.png","hash":"47bcd4a1de612d5af3bd3301602b4b6bc07b4c6a","modified":1665543988878},{"_id":"source/_posts/37-data-structure5/graph-6.png","hash":"3781b637547025de758bec7262c50fe45bb57774","modified":1665544659172},{"_id":"source/_posts/28-about-design-model5/mvp-model-7.png","hash":"85c76e7e1a84df4345885b58a4495b8472da6c7c","modified":1663664792064},{"_id":"source/_posts/37-data-structure5/graph-7.png","hash":"dbd8e52679bcbf321c3a8d17006729c4af0c87ad","modified":1665627475943},{"_id":"source/_posts/37-data-structure5/heat.png","hash":"a37ac1abfbbf1bd9742deec30a783d0f90e49657","modified":1665220131039},{"_id":"source/_posts/37-data-structure5/graph-8.png","hash":"93de61e5c29df7b193e41f2595521446bc81226d","modified":1665630724506},{"_id":"source/_posts/37-data-structure5/min-heat.png","hash":"c2c5f8cc68ba6cf3d89bebb94c0a7a7d22c1e5a0","modified":1665220362202},{"_id":"source/_posts/36-data-structure4/factorial.png","hash":"ddfb0d84eab3db09c51a4b87376c023e35c597be","modified":1665207523429},{"_id":"source/_posts/36-data-structure4/left-left-1.png","hash":"655a6a8118dd11fffc1c0bf38c1a06fd9d861fb7","modified":1665215196749},{"_id":"source/_posts/36-data-structure4/binary-search-tree.png","hash":"ad74f8c6b96f77ca95d6b9b48cf87fda5efcfdbc","modified":1665211252907},{"_id":"source/_posts/36-data-structure4/in-order-traverse.png","hash":"db6c59fc444e910a9921f50bc9e8e66964ef2849","modified":1665212570747},{"_id":"source/_posts/36-data-structure4/left-right-1.png","hash":"b0d03e54c49df4be3cdc60f9436e4ecb40a3c6b6","modified":1665216006922},{"_id":"source/_posts/36-data-structure4/left-left-2.png","hash":"31829f0a81c4d517a768b0d824702e96ed38af94","modified":1665215213180},{"_id":"source/_posts/36-data-structure4/left-right-2.png","hash":"dde339c5a7c4a70be0a832190a2678237f10331d","modified":1665216028366},{"_id":"source/_posts/36-data-structure4/post-order-traverse.png","hash":"aee9c88702a4fa397c4146e997f7ba3504b19a3e","modified":1665212712548},{"_id":"source/_posts/36-data-structure4/pre-order-traverse.png","hash":"d93c415f7de4fd6c9d5bf3dfc7fdaf4484d6173c","modified":1665212594930},{"_id":"source/_posts/36-data-structure4/red-black-2a.png","hash":"618993219918c6d178ac4f468129647d0c0d6f72","modified":1665217313231},{"_id":"source/_posts/36-data-structure4/red-black-3a.png","hash":"6db63a5d31e7477b9d3a7ce036c9607db9262fb8","modified":1665217328381},{"_id":"source/_posts/36-data-structure4/red-black-2b.png","hash":"88a4290e21e993ca3a39a86a83283bc607f24b9c","modified":1665217348189},{"_id":"source/_posts/36-data-structure4/red-black-3b.png","hash":"e4f8a20d976abc667a94482eeeeaa0f5281c410e","modified":1665217363966},{"_id":"source/_posts/36-data-structure4/right-left-2.png","hash":"9fd153762d1b34409ac583c8dd871153f0ce5fc1","modified":1665216334102},{"_id":"source/_posts/36-data-structure4/remove-left-right.png","hash":"4141ff9827c5c74323d60196c96038c898c07cf6","modified":1665214241529},{"_id":"source/_posts/36-data-structure4/right-right-2.png","hash":"b6a6f5a17aa73fc8daf16313e0204a05314c3c16","modified":1665215704532},{"_id":"source/_posts/39-data-structure7/big-o-3.png","hash":"b7140be66eb3272f0dd9c183b48cfb8555cb4511","modified":1665725727100},{"_id":"source/_posts/36-data-structure4/right-left-1.png","hash":"3d1ec645ec1def7aeb460386d421b9dc3cc684e0","modified":1665216318337},{"_id":"source/_posts/36-data-structure4/tree.png","hash":"c1a3dff14361fa7bfc3f73bf7391d46c57044737","modified":1665210436072},{"_id":"source/_posts/36-data-structure4/right-right-1.png","hash":"5d6258c158f22e8582f538f06c89dc86bbedfba7","modified":1665215690448},{"_id":"source/_posts/39-data-structure7/big-o-1.png","hash":"bfc4e8cd9822858a4f5afd7ea21ac69ae391248f","modified":1665725447129},{"_id":"source/_posts/39-data-structure7/big-o-4.png","hash":"75fd12b92a8ef511524bb5306c73fb63346d586d","modified":1665725788955},{"_id":"source/_posts/39-data-structure7/big-o-6.png","hash":"443cef5a2ff290edd7a7b9f9c3e4580e9d8375b3","modified":1665726382980},{"_id":"source/_posts/39-data-structure7/big-o-2.png","hash":"5abf1a71a4b31ade53b60d5d6edf850266d502e2","modified":1665725587116},{"_id":"source/_posts/39-data-structure7/technology-2.png","hash":"00436e4649e1f7cdeecb39e78e1cece84a8c0591","modified":1665650645629},{"_id":"source/_posts/39-data-structure7/big-o-5.png","hash":"0e81454c15a22289ae8fd29e9ba356f9058ca226","modified":1665725847508},{"_id":"source/_posts/39-data-structure7/technology-1.png","hash":"25d324e43b4ae5d4921a2fa9bf40479a54ba55d2","modified":1665649253588},{"_id":"source/_posts/39-data-structure7/technology-4.png","hash":"956d458c4792a6a56ad0f9292f3e7773bafca1d1","modified":1665651529899},{"_id":"source/_posts/39-data-structure7/technology-5.png","hash":"61dc4bb992375a4f2d5c5b5afdb594877f58510a","modified":1665652235775},{"_id":"source/_posts/39-data-structure7/technology-3.png","hash":"fe308b75c03e0efc9bc24154073ae4a31c1fc73f","modified":1665650992570},{"_id":"source/nodejs/file/stderr.log","hash":"c8598eb267a5b8880fb5e4a09c3e432baa246662","modified":1672814667831},{"_id":"source/_posts/40-tail-call/call-stack.png","hash":"9ceba234d31d636baca2b4f2af1384b6b25d4a4a","modified":1665977002591},{"_id":"source/nodejs/file/test.enc","hash":"aa3e64643dde19f29c413cfae1160dd980ac3ad3","modified":1672823414698},{"_id":"source/nodejs/file/test.js","hash":"6b6f9b68f4f7d8f1ac490f905677d2b21a0a59f6","modified":1672823829617},{"_id":"source/_posts/6-vue3-render/render.png","hash":"0b20ebf2700ccd675e40f6330e07dce8341807a0","modified":1658223255522},{"_id":"source/nodejs/images/async-experience.png","hash":"c7c903136156205117f819ae03a5ce81204c23b9","modified":1671528846950},{"_id":"source/nodejs/images/async-progress.png","hash":"5e6ef5a50ac929df8694a62ec96202048c4bb18b","modified":1671530008459},{"_id":"source/nodejs/images/async-call.png","hash":"cf73b4e1fa6ef2c5eb1d6813c73ed2abe6bb5989","modified":1668393615739},{"_id":"source/nodejs/images/buffer-3.png","hash":"586ecdade8a0bd9f926e4a9e4c8f9b328517719d","modified":1672192016797},{"_id":"source/nodejs/images/buffer.png","hash":"0c585b0181968674a65b89c42f8c31421af99dc6","modified":1672192016800},{"_id":"source/nodejs/images/bigpipe.png","hash":"dc9b44b4ed5e79203f2690bd2e87ee7aefac6b23","modified":1672192016787},{"_id":"source/nodejs/images/buffer-2.png","hash":"3fc41fcc7896fe6af165cbdb5f4048770c915b9e","modified":1672192016795},{"_id":"source/nodejs/images/buffer-1.png","hash":"2ddb6050f0ebac6bb733b8d50f9abdb71bb21563","modified":1672192016793},{"_id":"source/nodejs/images/ca-1.png","hash":"89317164d8d399085df7d23a37d737c26a2c5a30","modified":1672192016803},{"_id":"source/nodejs/images/ca.png","hash":"81f692dee7584b2c9d6e7ad0360b4461953c40d9","modified":1672192016805},{"_id":"source/nodejs/images/collect-diff.png","hash":"d69687d4300e224c23ef3169a9c6e4f3db396fc3","modified":1672192016809},{"_id":"source/nodejs/images/cross-platform.png","hash":"2c1a28975ade0c9f106e3716dcaf24c877e0773d","modified":1668394708045},{"_id":"source/nodejs/images/cache.png","hash":"1ac69103427a3c1a8b0022af1620a927362c3385","modified":1672192016807},{"_id":"source/nodejs/images/commonjs-node-relation.png","hash":"5cc6679d9fe66c78a61dbacd4e94f3f11fd848d2","modified":1668403442143},{"_id":"source/nodejs/images/fork.png","hash":"d3796212324ee8f24e8405d54ec6ad8e57b49bf8","modified":1672192016814},{"_id":"source/nodejs/images/epoll-loop.png","hash":"bc7af5054040babc3f1af3b688d8764760f7bfb3","modified":1671529534645},{"_id":"source/nodejs/images/how-to-call-async.png","hash":"39ac29400db5abed7d02b2b3e3397cc761006271","modified":1671528909417},{"_id":"source/nodejs/images/defer-promise.png","hash":"6b8484c9a5882e75524b0944be43b010c22e1d5c","modified":1672192016812},{"_id":"source/nodejs/images/jam.png","hash":"638a73d978e27ade2b7e8e0ac66d340caa63453d","modified":1671529015582},{"_id":"source/nodejs/images/http.png","hash":"335a31f82a46e1bf32a09cdd9f51a17aaf827a14","modified":1672192016816},{"_id":"source/nodejs/images/increase-target.png","hash":"55ed1f32bfd6360265eb8b16ce0f0ed2c21c514c","modified":1672192016818},{"_id":"source/nodejs/images/loop.png","hash":"a1b9e75136f79dcccdafc48d6f30606b8664a9f4","modified":1672192016823},{"_id":"source/nodejs/images/loop-1.png","hash":"7dd0d30cf11ca3d1851d68d9c04b186d0b97aa23","modified":1672192016820},{"_id":"source/nodejs/images/master-slave.png","hash":"4f45a0cadfd5ab7633103418fcf49bcc018da4d2","modified":1672192016825},{"_id":"source/nodejs/images/mvc.png","hash":"f86ed56705edc5f57ab24298801afe09cd4badc6","modified":1672192016854},{"_id":"source/nodejs/images/middle.png","hash":"e68b0513b166f049e4f0d72b91e1d5c2c8338747","modified":1672192016845},{"_id":"source/nodejs/images/net-3.png","hash":"8af8561052ec1608a0773304cf04af4234557052","modified":1672192016861},{"_id":"source/nodejs/images/net-2.png","hash":"1b28b0d5d2ac3d95c136285f9be2d83ba2ba7bdb","modified":1672192016858},{"_id":"source/nodejs/images/net-1.png","hash":"4f9169ff8774a785573375b0eae0bf611d918376","modified":1672192016856},{"_id":"source/nodejs/images/net-4.png","hash":"81f06ad4be9d956662e629238db1590287228ce7","modified":1672192016863},{"_id":"source/nodejs/images/no-jam.png","hash":"5d4728cbaa1c2f7e680f6f3a12202ec94347211c","modified":1671529121288},{"_id":"source/nodejs/images/nvm-setting-content.png","hash":"8d0ebc40648adcebe40cc663caab2cee4b8f6436","modified":1671169620381},{"_id":"source/nodejs/images/node-require.png","hash":"9e2fd7eee0b6bdf918b4fb34544beb7424702ab8","modified":1671506376382},{"_id":"source/nodejs/images/node-modules.png","hash":"e5835f2da7cca29d0eb1676c7b081c7122a52528","modified":1671506697202},{"_id":"source/nodejs/images/package.png","hash":"dccf0cad2808e81718b9efe11c884aa24fe6b73d","modified":1671506820867},{"_id":"source/nodejs/images/pipe-2.png","hash":"7bda2919687448a1c427e768f6474271782ef1fa","modified":1672192016867},{"_id":"source/nodejs/images/nvm-setting.png","hash":"742427d031db38180aebc79883d7fe7f2b5082dd","modified":1671169466385},{"_id":"source/nodejs/images/pipe-1.png","hash":"7385963b2e8c0359641f3f3ccf316dbcb60b32f8","modified":1672192016865},{"_id":"source/nodejs/images/pipe-3.png","hash":"38b94af4d0d88bef05b17d1233bf2e3b3623b25e","modified":1672192016869},{"_id":"source/nodejs/images/product-1.png","hash":"a127d5caca21588163ce2a98490b4f677aeb78c6","modified":1672192016876},{"_id":"source/nodejs/images/pipe-4.png","hash":"ce3c89fb6762678626193ff9fc6aaa9227de6660","modified":1672192016872},{"_id":"source/nodejs/images/poll-loop.png","hash":"8d0bfc2b615eb460d6ab8be0837e523af238c8f0","modified":1671529448910},{"_id":"source/nodejs/images/pipe.png","hash":"e92d4834ee1fc339f8d36a745950a10d7633955a","modified":1672192016874},{"_id":"source/nodejs/images/read-loop.png","hash":"8656ba0172108ecb0a251139cbe0a8df61873b40","modified":1671529287934},{"_id":"source/nodejs/images/settimeout.png","hash":"55f051726fe3210ac5ad039ce469da805b5c45de","modified":1672192016880},{"_id":"source/nodejs/images/sweep-compact.png","hash":"5af9bde21db63d1483a807be5b0f6cde77ef5cda","modified":1672192016888},{"_id":"source/nodejs/images/test-2.png","hash":"e613d096c62a0d27f72b8b50224e5b5fafafc3e9","modified":1672192016902},{"_id":"source/nodejs/images/product.png","hash":"47cef8cf353b57b3a18c013ea8b6bed0a8e617cf","modified":1672192016878},{"_id":"source/nodejs/images/select-loop.png","hash":"bba3437eb7794c0fe3abb77fb37ac8897bf19bb5","modified":1671529365037},{"_id":"source/nodejs/images/test.png","hash":"840cda90b44467e3648decdf62f1d146f1261538","modified":1672192016905},{"_id":"source/nodejs/images/tail-trigger.png","hash":"052e9473880c882918ae9b763b9fa6f808bccdf1","modified":1672192016895},{"_id":"source/nodejs/images/symlinks.png","hash":"48dd00ba4c43783739716fdc0b0790b0e3187893","modified":1672798793053},{"_id":"source/nodejs/images/v8-promot2.png","hash":"4fe47a4a361987c7928001641f8b092af4f5764a","modified":1672192016912},{"_id":"source/nodejs/images/test-1.png","hash":"0bac06c06b58a4a61acd1a6c17971046d56c1d82","modified":1672192016900},{"_id":"source/nodejs/images/websocket-1.png","hash":"a6e3598d6c9cdef36c1930c9e7535c3a76b1dcc9","modified":1672192016914},{"_id":"source/nodejs/images/websocket.png","hash":"907dcc1e99f2e6d20f1133508ff3b84e1985e065","modified":1672192016917},{"_id":"source/nodejs/images/tls-ssl.png","hash":"e7011243d619ef7b1f2489146744a741d80e027d","modified":1672192016907},{"_id":"source/nodejs/images/v8-promot.png","hash":"28d3849e4e768a3ae7954bae653b55ce6e9a7bb5","modified":1672192016910},{"_id":"source/_posts/23-about-design-model/how-to-inherit.png","hash":"2610b10429de1454b684733ede30778da89da750","modified":1661856873590},{"_id":"source/_posts/23-about-design-model/prototype.png","hash":"fe3518ce58c5945b8f5db473d69be75f67a98b0a","modified":1661490846012},{"_id":"source/_posts/23-about-design-model/parasitic-inherit.png","hash":"dcde79d7db360d5f56bf441be778908d3056f693","modified":1661856873597},{"_id":"source/_posts/23-about-design-model/public-and-private.png","hash":"275fce752eaeadf6eee22e10bf14451ed9eb675c","modified":1661490846014},{"_id":"source/_posts/23-about-design-model/prototype-inherit.png","hash":"a5f0085a3caf9e0519fe3cb26129dd144cfc7594","modified":1661856873599},{"_id":"source/_posts/23-about-design-model/simple-factory2.png","hash":"e8d75951fa119c24b2c188eb639f16a32bf70928","modified":1662355408197},{"_id":"source/_posts/23-about-design-model/static-and-public.png","hash":"aef2330dce27ebc420b7654abdf1859266ec48a4","modified":1661856873605},{"_id":"source/_posts/24-about-design-model1/lazy-single-instance.png","hash":"4bbd91090a4364cc48ec5cf388ae29f1f3626b8a","modified":1662448167315},{"_id":"source/_posts/24-about-design-model1/human.png","hash":"f78b9964ce7223cc99122c99667673d9242df348","modified":1662444891472},{"_id":"source/_posts/24-about-design-model1/name.png","hash":"d46e84150e7fdea9eb17d8ad0624e7eb79654ace","modified":1662444908093},{"_id":"source/_posts/24-about-design-model1/abstract-factory2.png","hash":"a1a8a6b4b0c2aa47bbc543add6b6a675670b41ce","modified":1662443556932},{"_id":"source/_posts/24-about-design-model1/prototype-inherit2.png","hash":"cd61b59785ea6144fabce855bd363ff7906468a9","modified":1662446461834},{"_id":"source/_posts/24-about-design-model1/person.png","hash":"12e19fccdb8ee0dea2ec9e55c4f55125a536b76e","modified":1662444952362},{"_id":"source/_posts/25-about-design-model2/decorator.png","hash":"a0fdfe4dc2b74b52a33fd13ed7e1b3c1fba8480e","modified":1662457093764},{"_id":"source/_posts/25-about-design-model2/out-look.png","hash":"d9f11180b44ccded8da8ecba5593bdd6ebd58eb4","modified":1662450856453},{"_id":"source/_posts/25-about-design-model2/station-culculate.png","hash":"26cda447bac04b0260f0ec11ca1dcb836f93855a","modified":1662454433567},{"_id":"source/_posts/26-about-design-model3/add-message.png","hash":"03712141c27e51d24f4361c6c48a609b366f5692","modified":1662605334378},{"_id":"source/_posts/26-about-design-model3/marry-state1.png","hash":"2f5c004568231ff2a14ab499c91aabd48c302f28","modified":1662606880721},{"_id":"source/_posts/26-about-design-model3/observer-fire.png","hash":"0204e744bdcb2480cae91e03d4e79c26913cf85a","modified":1662604570583},{"_id":"source/_posts/26-about-design-model3/observer.png","hash":"05738a02cd73736025351c0e9e3fc0d0de27158f","modified":1662604356379},{"_id":"source/_posts/26-about-design-model3/observer-remove.png","hash":"e0e97122604f5eaa716042ffd19d7e6fc4d9535f","modified":1662604648684},{"_id":"source/_posts/26-about-design-model3/regist-change-num.png","hash":"3aa9791db11e1985c21e29959201f022a0f98a88","modified":1662605277899},{"_id":"source/_posts/28-about-design-model5/async-module-model-4.png","hash":"731b4ee9c777c9d9bd6664bf674e1abf1f48af65","modified":1663661830015},{"_id":"source/_posts/28-about-design-model5/async-module-model-5.png","hash":"436f66ba99f8bd7400ad91b3d857d255f6f3034c","modified":1663661873825},{"_id":"source/_posts/28-about-design-model5/module-model-2.png","hash":"a22fb6b41b50875766d5382664361095fca59051","modified":1663659739443},{"_id":"source/_posts/28-about-design-model5/module-model-3.png","hash":"aa42c569b2a73fae726d6518fda8a48a325c5a3f","modified":1663659772912},{"_id":"source/_posts/28-about-design-model5/mvc-model-3.png","hash":"28fd4de773e1352941b4b0773858520ec4e21039","modified":1663663871483},{"_id":"source/_posts/28-about-design-model5/mvp-model-4.png","hash":"59ab08a2d276eb142c4789000d2c484aaaeb4890","modified":1663664644640},{"_id":"source/_posts/28-about-design-model5/mvvm-model-3.png","hash":"b4f73f397dcb296b03350b04390a8f2cdc0906d4","modified":1663665441365},{"_id":"source/_posts/28-about-design-model5/mvvm-model-7.png","hash":"4d8187320d10b1bb36a49169575baf54fe7e7a71","modified":1663665616436},{"_id":"source/_posts/28-about-design-model5/widget-model-4.png","hash":"7c2ca9c608b6829fa768590455a8785c9ff13781","modified":1663662590740},{"_id":"source/_posts/28-about-design-model5/widget-model-5.png","hash":"5ff7151981d6c83fa8a45556de7e17f4e527c093","modified":1663662677871},{"_id":"source/_posts/27-about-design-model4/chain-model-2.png","hash":"8a59f234053c9a85a94f74273fafed9051ec578d","modified":1663643706105},{"_id":"source/_posts/27-about-design-model4/chain-model-1.png","hash":"ac13400dfce89f26fe4bcadca5c2a1f4994083ca","modified":1663643204079},{"_id":"source/_posts/27-about-design-model4/chain-model-4.png","hash":"33fa9dc7cb773d0e519dcb4a4a5869aa78234950","modified":1663644189761},{"_id":"source/_posts/27-about-design-model4/lazy-model-3.png","hash":"7cf3eba1156eb71177fee16c281edfd2f7d3d0e0","modified":1663654271863},{"_id":"source/_posts/27-about-design-model4/lazy-model-2.png","hash":"29a6f621b06f9283d3caff7d3c63f7c711095978","modified":1663654206105},{"_id":"source/_posts/27-about-design-model4/lazy-model-6.png","hash":"bb1487d2e1e38d3c2ea4cb6dcc310f0025664444","modified":1663654392861},{"_id":"source/_posts/27-about-design-model4/lazy-model-5.png","hash":"ce1428d6b73612a3290d3cbd0efa607829fdb233","modified":1663654372118},{"_id":"source/_posts/27-about-design-model4/participate-model-3.png","hash":"257320d7e940dcef49305ea8d1642621bfbf3ff1","modified":1663655711666},{"_id":"source/_posts/27-about-design-model4/participate-model-4.png","hash":"5f13e728cfa8cf2eabd3925f1a0798bc905d267b","modified":1663655973145},{"_id":"source/_posts/27-about-design-model4/template-model-1.png","hash":"41e2537938230a77a4072987778016031fe92291","modified":1663653270177},{"_id":"source/_posts/27-about-design-model4/participate-model-5.png","hash":"9694840f32c90094e37228de41fc2cfdf4f66388","modified":1663656014526},{"_id":"source/_posts/27-about-design-model4/template-model-3.png","hash":"3a24763c6d9e280dd6c26d966da99ceb0d658ec5","modified":1663653576402},{"_id":"source/_posts/27-about-design-model4/template-model-4.png","hash":"b301423b25f6447a52369e96a6f0d1c3b93da6c5","modified":1663653602447},{"_id":"source/_posts/27-about-design-model4/entrust-model-1.png","hash":"900a7cc246a17adae923b5e0b87d5b8b8d255674","modified":1663650878995},{"_id":"source/_posts/27-about-design-model4/waiter-model-4.png","hash":"ad67d02d972353793d59f1ca5f1191fb9a220e52","modified":1663658084841},{"_id":"source/_posts/27-about-design-model4/waiter-model-6.png","hash":"007198e00695be520e246815152687e250bf4941","modified":1663658288382},{"_id":"source/_posts/27-about-design-model4/waiter-model-5.png","hash":"30412937d3a27e5d8bf1db0d87fce38a8d59839e","modified":1663658170337},{"_id":"source/_posts/27-about-design-model4/waiter-model-7.png","hash":"0eefaa7468c3726aecd02980b1c10574a1d06c40","modified":1663658323937},{"_id":"source/_posts/37-data-structure5/min-heat-pic.png","hash":"6d8794be490f9dd7f0664813070eea6169c49181","modified":1665221648680},{"_id":"source/_posts/37-data-structure5/heap-sort.png","hash":"a344a2264bed09372c160b691a6e0a581bea3bd6","modified":1665222218747},{"_id":"source/_posts/5-react-render/update_class.png","hash":"5854028928496a0b6c4ad02452cd07c12650f8e8","modified":1658223255534},{"_id":"source/_posts/5-react-render/force_update.png","hash":"f0333239066cd2e4a8cdf12bff8fcdfcc01a7616","modified":1658223255498},{"_id":"source/_posts/6-vue3-render/render_node2.png","hash":"bd8cbab05ce653b80a1cc89e609b7ae9c309b7fe","modified":1658223255530},{"_id":"source/_posts/6-vue3-render/render_node1.png","hash":"4a4266c87a315afeb55de174b11784431f3c40b9","modified":1658223255527},{"_id":"source/nodejs/images/nvm-install.png","hash":"347c3fe9e8ac21a112d1eba02b594b5f5b2af672","modified":1671169201268},{"_id":"source/nodejs/images/nvm-download.png","hash":"1fddd6469f02c83d3c54603c3f43a72224565a29","modified":1671168901622},{"_id":"source/_posts/15-js-transform/convert-table.png","hash":"fdffd1b86ddacb402a9a3a423cffd91fcc229fce","modified":1658223643116},{"_id":"source/_posts/23-about-design-model/create-pop.png","hash":"43feb1eed0b060643140cfa80c073e12729b47af","modified":1662355408187},{"_id":"source/_posts/23-about-design-model/class-inherit.png","hash":"7316cf53af5ae3d11eb708f911ddc2b9fbf35027","modified":1661856873580},{"_id":"source/_posts/23-about-design-model/multiple-inherit.png","hash":"3370f1d5c3f1c73449ddc04e438559b4a0925ad0","modified":1662355408189},{"_id":"source/_posts/23-about-design-model/parasitic-combination-inherit.png","hash":"5b7c9be2d070fe04cd77d8923eaa4e1585ad9e02","modified":1661856873592},{"_id":"source/_posts/23-about-design-model/parasitic-inherit-change.png","hash":"0b683e58266a2816c17a932a910be6ce1bdbbf1e","modified":1661856873595},{"_id":"source/_posts/24-about-design-model1/abstract-factory1.png","hash":"27096d5d5c2a949d2b5a0b8b4483cd0955007a30","modified":1662443533233},{"_id":"source/_posts/24-about-design-model1/abstract-factory3.png","hash":"565cc1a91ec9f7f4113759d8ee84d9e7e5765dec","modified":1662443974163},{"_id":"source/_posts/24-about-design-model1/prototype-inherit1.png","hash":"3d8d602b70b2a85f84ccb77667bfdf58688ef1e6","modified":1662446439629},{"_id":"source/_posts/24-about-design-model1/safe-factory-model.png","hash":"1d4838406d573590c135cb651e98e970dd03d761","modified":1662442704945},{"_id":"source/_posts/26-about-design-model3/command-model-2.png","hash":"394963fe76e75b6ff152d0bc64eb440812f181e4","modified":1663577276883},{"_id":"source/_posts/26-about-design-model3/create-component.png","hash":"313f9c4b04afdb3c0bbb24d02394ff7ed7f7afa9","modified":1662616644243},{"_id":"source/_posts/26-about-design-model3/deal-data.png","hash":"229c21fa8cd0891d9cf137520e2756088d805b32","modified":1662616593064},{"_id":"source/_posts/26-about-design-model3/marry-state.png","hash":"9d3b9fd7f74062d32194ddee1084db94ab8f2f5e","modified":1662606865403},{"_id":"source/_posts/26-about-design-model3/send-data.png","hash":"f2dd937ad9d5dbd6373c78b766b0ca7d18689bb8","modified":1662616481110},{"_id":"source/_posts/28-about-design-model5/appendix-10.png","hash":"47f4c469384a2ae6ee68920c9c9d056323bc6964","modified":1663666108395},{"_id":"source/_posts/28-about-design-model5/appendix-1.png","hash":"63d1fb2d7060dc8e20879b271cfc0fae5ba53ce5","modified":1663665944379},{"_id":"source/_posts/26-about-design-model3/vote-status.png","hash":"ce2f7e1b2250efafac59e7e0a6c69a8f2f57e1fb","modified":1662606197496},{"_id":"source/_posts/28-about-design-model5/async-module-model-6.png","hash":"c0234e34b71f60317c8532f9b4332297ddbfc3b2","modified":1663661929958},{"_id":"source/_posts/28-about-design-model5/async-module-model-3.png","hash":"955761aa1d41f38f58070239091ec7ef56eab433","modified":1663661813279},{"_id":"source/_posts/28-about-design-model5/mvp-model-2.png","hash":"a05c2d67784dc8a0c9dadb55ff4cb313ff0a4581","modified":1663664414889},{"_id":"source/_posts/28-about-design-model5/mvp-model-5.png","hash":"b38b48df97224ac10c391b5231c27b5ff9439d15","modified":1663664712013},{"_id":"source/_posts/28-about-design-model5/mvp-model-6.png","hash":"b678a14aa7203ed211d9b03cc517629296d39ccb","modified":1663664732256},{"_id":"source/_posts/28-about-design-model5/mvvm-model-5.png","hash":"f5b38278a65c50724df598782714d46b16198ddb","modified":1663665520771},{"_id":"source/_posts/28-about-design-model5/mvvm-model-8.png","hash":"ae0f8837c7bf0b7cebcf1b643602ef1b7c91d9b0","modified":1663665710456},{"_id":"source/_posts/28-about-design-model5/mvvm-model-1.png","hash":"dec3d9b3d1b759d8ab97b596942a57870ea5e899","modified":1663665306275},{"_id":"source/_posts/28-about-design-model5/widget-model-3.png","hash":"8caaa1350394bb4924a26779474bd8ffdedfd1a3","modified":1663662560598},{"_id":"source/_posts/28-about-design-model5/widget-model-6.png","hash":"17625b96826cacb789210181082942b9d92c9685","modified":1663662713550},{"_id":"source/_posts/27-about-design-model4/chain-model-5.png","hash":"6c1d9aaa8a2f5c8a33e827428f33df74156af591","modified":1663644269641},{"_id":"source/_posts/27-about-design-model4/chain-model-6.png","hash":"0a2af8c6826567da8695e8010d13bf7101a75d0a","modified":1663644305196},{"_id":"source/_posts/28-about-design-model5/widget-model-2.png","hash":"d5b2a749b270b467d4e5ca0442f079ad0d68c0ad","modified":1663662526925},{"_id":"source/_posts/27-about-design-model4/lazy-model-4.png","hash":"d2cec3917cabaf4da67a6ac877730c32d27d6b82","modified":1663654340065},{"_id":"source/_posts/27-about-design-model4/localstorage-model-2.png","hash":"b130a85fa7ca8cc738c636091e35ce86095e4da4","modified":1663651981780},{"_id":"source/_posts/27-about-design-model4/localstorage-model-4.png","hash":"c7d8b6cd9bc0093ceaaa9a731d6b721dabf0c2e2","modified":1663652031905},{"_id":"source/_posts/27-about-design-model4/template-model-2.png","hash":"f0f1cf1e6328ed7dd2da13e3ef19f0ba3090d50b","modified":1663653559773},{"_id":"source/_posts/27-about-design-model4/template-model-5.png","hash":"a615f27465cba32bd7ef16f4aa2d229123c6cd04","modified":1663653621150},{"_id":"source/_posts/27-about-design-model4/waiter-model-1.png","hash":"4ecd76529d5af3bab1200944f956550c438d7e4c","modified":1663657090941},{"_id":"source/_posts/27-about-design-model4/throttle-model-2.png","hash":"4d06f2204e6a312ad534b08e4aa3a0cc199b0fe4","modified":1663652874513},{"_id":"source/_posts/27-about-design-model4/throttle-model-3.png","hash":"9ba30093c88bda5cdf0b74397078c98615ab14e8","modified":1663652906337},{"_id":"source/_posts/27-about-design-model4/waiter-model-2.png","hash":"115d73933b2c9e3b333f0173a9c67b40b82b360e","modified":1663657379627},{"_id":"source/_posts/4-brower-render/hover.png","hash":"310534f76efad7820e4f9527f39b9232feb717da","modified":1666667873150},{"_id":"source/_posts/5-react-render/fiber_tree.png","hash":"947d11b845e1abb74cbb2d4e135767a377692041","modified":1658223255494},{"_id":"source/_posts/4-brower-render/performance.png","hash":"c54be1dc0abe417046e5abd2a9ac3bbfc89bb98e","modified":1666667920282},{"_id":"source/_posts/37-data-structure5/graph-9.png","hash":"3e0a9c9a2cb3f8145448b3dab7b9066c53f468d2","modified":1665631403989},{"_id":"source/_posts/4-brower-render/network.png","hash":"bb36a90979d2b630aa4c09b7187c9e4ca300f3d4","modified":1666667960216},{"_id":"source/_posts/6-vue3-render/render_function.png","hash":"ab09e61382c872069a70212525d4333d6ba8cd19","modified":1658223255525},{"_id":"source/_posts/23-about-design-model/multiple-status.png","hash":"99f1acc2445ec0c692d48660ddbd71b510f1284b","modified":1662355408192},{"_id":"source/_posts/23-about-design-model/simple-factory1.png","hash":"7a9ab5660cbd92e1e0f851985402404fb0f49814","modified":1662355408196},{"_id":"source/_posts/23-about-design-model/test-prototype-inherit.png","hash":"ffe8e406495b76ed7e8fa5fa95247335f0842bd8","modified":1661856873608},{"_id":"source/_posts/23-about-design-model/safe-model.png","hash":"8ddf098b287fc1582ef3c57f6641b8cdfe529ee0","modified":1661856873602},{"_id":"source/_posts/26-about-design-model3/basic-model.png","hash":"d11299e00239d8eee68fa84742cf934d7b2b7455","modified":1662544252055},{"_id":"source/_posts/24-about-design-model1/work.png","hash":"85878cbf259712eba4a4d960bef9fc8f72361f7d","modified":1662444928587},{"_id":"source/_posts/26-about-design-model3/command-model-1.png","hash":"e8f27f13a8b8964e1f98cf90c9d11336745ce4cd","modified":1663577254334},{"_id":"source/_posts/26-about-design-model3/cache-model.png","hash":"849dac393027d49c7932b80aeacdeb6dc665ad8d","modified":1663579414660},{"_id":"source/_posts/26-about-design-model3/explain-model-1.png","hash":"b41f3ee9472b65e45fd3699586fe343b90801e1c","modified":1663580887647},{"_id":"source/_posts/26-about-design-model3/explain-model-3.png","hash":"7090631280b778e1a081cf14ee1aef4eaddf2724","modified":1663580922971},{"_id":"source/_posts/26-about-design-model3/inherit-as-basic-model.png","hash":"04bcb6c49805f61c210a276673688925342a97a2","modified":1662544568359},{"_id":"source/_posts/26-about-design-model3/inherit-model.png","hash":"c458570cfbf5cb544f160dbf7f5ea2688eb54cfe","modified":1662544386649},{"_id":"source/_posts/26-about-design-model3/mediator-model.png","hash":"037a378a4fd6a9b68621c714239390a175768283","modified":1663578864540},{"_id":"source/_posts/26-about-design-model3/visitor-model.png","hash":"b47054fdf9198975a39ebfc6b4ea46cb988dc080","modified":1663578342393},{"_id":"source/_posts/26-about-design-model3/regist-message.png","hash":"94993ad78c5391eb4cc60f851d1bf5de794d680a","modified":1662605173515},{"_id":"source/_posts/26-about-design-model3/price-strategy.png","hash":"8c9b4bc9e46d85dbd5ff1db682f35d7727ac2d24","modified":1662615179307},{"_id":"source/_posts/28-about-design-model5/appendix-3.png","hash":"972a431f1b9f113e9c28acd09c21965abf3ae776","modified":1663665981472},{"_id":"source/_posts/28-about-design-model5/appendix-2.png","hash":"c793bb154006138580dfe636e8e96f48af31c136","modified":1663665961797},{"_id":"source/_posts/28-about-design-model5/appendix-4.png","hash":"0caa8c2b2efef085bf73708c696b163b27cf4acd","modified":1663666001722},{"_id":"source/_posts/28-about-design-model5/appendix-6.png","hash":"ebaf47a4d6e618ed357e3ef105bf1a78aac86dcd","modified":1663666041654},{"_id":"source/_posts/28-about-design-model5/appendix-5.png","hash":"7d00695f69933f1493a5b215459372aa8922aa90","modified":1663666020584},{"_id":"source/_posts/28-about-design-model5/appendix-9.png","hash":"5128c7e89b6784e2e75e7f74154a3a2a36859a4a","modified":1663666091964},{"_id":"source/_posts/28-about-design-model5/appendix-8.png","hash":"acc5e67aafb4ec4d3a10ca9507832f965d05bb86","modified":1663666074927},{"_id":"source/_posts/28-about-design-model5/appendix-7.png","hash":"c12235fa4218a1f12d5f04de3c292d9d8a1cc606","modified":1663666058765},{"_id":"source/_posts/28-about-design-model5/module-model-4.png","hash":"0591ff679bd8b40d96b399c2df5db22e5d6857f1","modified":1663659920967},{"_id":"source/_posts/28-about-design-model5/mvc-model-2.png","hash":"2ad2eeb884aac27d63ceb815d119f4bdab3b28bf","modified":1663663790767},{"_id":"source/_posts/28-about-design-model5/mvvm-model-6.png","hash":"7d62d18ec951b6be1b53157c9380618cb8f65cc2","modified":1663665578927},{"_id":"source/_posts/28-about-design-model5/mvvm-model-4.png","hash":"362b306d44bd195ca4adee181dabcbbb524da1ac","modified":1663665502377},{"_id":"source/_posts/27-about-design-model4/chain-model-3.png","hash":"de232baf72880e1c2bfca1e52ca3dece90b30922","modified":1663643787303},{"_id":"source/_posts/27-about-design-model4/localstorage-model-3.png","hash":"0dd09a8620412a0a10e0749a2eae5b990e14131f","modified":1663652010756},{"_id":"source/_posts/27-about-design-model4/localstorage-model-6.png","hash":"af1bc9d6bd7aa6c6582b3b498aaace38b3beb7d0","modified":1663652073728},{"_id":"source/_posts/27-about-design-model4/localstorage-model-5.png","hash":"f60b1b8098b39c8d16bef6ce21e93f80eed6a06d","modified":1663652051324},{"_id":"source/_posts/27-about-design-model4/participate-model-6.png","hash":"a27676bb25d07081323b4801ff167a2f9c830583","modified":1663656339712},{"_id":"source/_posts/27-about-design-model4/throttle-model-1.png","hash":"efe9c32037c01c30eef7c906b1477675a4b22296","modified":1663652476137},{"_id":"source/_posts/23-about-design-model/combination-inherit.png","hash":"51a2c5f4775a37e5f2a21ab257749912178476c3","modified":1661856873584},{"_id":"source/_posts/24-about-design-model1/prototype-model.png","hash":"7e1b5e0841203ae571b20c1c21fc40fb6589f946","modified":1662445978153},{"_id":"source/_posts/26-about-design-model3/iterator-model.png","hash":"b372e782497790afdac5ef90a53eb4ecd88bc18f","modified":1663580424387},{"_id":"source/_posts/28-about-design-model5/async-module-model-1.png","hash":"f465cd97d9c16ecea67b0d0f8ee7d3bb6ebb545c","modified":1663661413721},{"_id":"source/_posts/28-about-design-model5/module-model-1.png","hash":"940ec1732a0d822780c486ccb9ffc6cc29119a6f","modified":1663659235916},{"_id":"source/_posts/28-about-design-model5/mvp-model-3.png","hash":"f3ebcf32efc3e9b536605c9df96654c81cfc9b82","modified":1663664626784},{"_id":"source/_posts/23-about-design-model/constructor-inherit.png","hash":"e1eb49fe9cd4796f60678113b6f865f2e1576464","modified":1661856873588},{"_id":"source/_posts/6-vue3-render/vue3_render.png","hash":"c27773553432184cba670aac70e69865c21a4727","modified":1658223255541},{"_id":"themes/next/.gitignore","hash":"417520c4dbbeab9c7e3ab10d944da0886366a0ee","modified":1654110695000},{"_id":"themes/next/.eslintrc.json","hash":"9c0762486f24a8c5e60f8b6c875e4c4728942649","modified":1654110695000},{"_id":"themes/next/.gitattributes","hash":"ec43734985e1cafd53d88ded3020103f7416123c","modified":1654110695000},{"_id":"themes/next/.editorconfig","hash":"8570735a8d8d034a3a175afd1dd40b39140b3e6a","modified":1654110695000},{"_id":"themes/next/_vendors.yml","hash":"8c2886a6af624f04fc6a376daf48c0698ea71bf7","modified":1654110695000},{"_id":"themes/next/.stylintrc","hash":"2cf4d637b56d8eb423f59656a11f6403aa90f550","modified":1654110695000},{"_id":"themes/next/package.json","hash":"b32be32269dd2e241790a766a60357bfe13f2d45","modified":1654110695000},{"_id":"themes/next/LICENSE.md","hash":"68fc9a03d50fd4b5ea97092b05967d1819dea2c4","modified":1654110695000},{"_id":"themes/next/renovate.json","hash":"cb29cc16e61b0b8a6dac34657d76822ae29ad5aa","modified":1654110695000},{"_id":"themes/next/README.md","hash":"56638e4978154a2f2a3f03ba84047b77b4a499cc","modified":1654110695000},{"_id":"themes/next/crowdin.yml","hash":"e026078448c77dcdd9ef50256bb6635a8f83dca6","modified":1654110695000},{"_id":"themes/next/_config.yml","hash":"fb825f15b5651df878aa77fb3637ee2eeff68900","modified":1671171081165},{"_id":"themes/next/.github/CODE_OF_CONDUCT.md","hash":"21cbff565a0445d3a880fff1ee417e309740a9ab","modified":1654110695000},{"_id":"themes/next/.githooks/pre-commit","hash":"f473eac1aaaa96c947d67988bbed140bbab1a821","modified":1654110695000},{"_id":"themes/next/.githooks/install.js","hash":"4d77dbddf2eac1f3fc78f151d12ed22208ed655b","modified":1654110695000},{"_id":"themes/next/.github/config.yml","hash":"7984e665e9de481a0e0e51fca5668337713f810b","modified":1654110695000},{"_id":"themes/next/.github/issue_label_bot.yaml","hash":"fca600ddef6f80c5e61aeed21722d191e5606e5b","modified":1654110695000},{"_id":"themes/next/.github/labeler.yml","hash":"5c4bc2bd561e6d9b33ee118cc12218c5de46f72d","modified":1654110695000},{"_id":"themes/next/.github/PULL_REQUEST_TEMPLATE.md","hash":"3e9fbb78e3dee0ca1dc886d0c28b0148ba0ca499","modified":1654110695000},{"_id":"themes/next/.github/label-commenter-config.yml","hash":"1097fc47beeacfc1edb0248c27b17bf64bde3565","modified":1654110695000},{"_id":"themes/next/.github/CONTRIBUTING.md","hash":"330656d93b6c03df9fb1f2f0e3534c971969473b","modified":1654110695000},{"_id":"themes/next/docs/AUTHORS.md","hash":"a648823121563c34a177ae91f5a774b5e29f01a0","modified":1654110695000},{"_id":"themes/next/docs/LICENSE.txt","hash":"f5b14f791b7cfa1d16da981d929152e088a5d1b8","modified":1654110695000},{"_id":"themes/next/.github/release-drafter.yml","hash":"423275ec021104b263cd88776936a8c8d6872b66","modified":1654110695000},{"_id":"themes/next/languages/bn.yml","hash":"fccbf2855392186e11daa8590121073594037b7b","modified":1654110695000},{"_id":"themes/next/languages/README.md","hash":"b2567e32805dda79601157351a07e5ca9fe01315","modified":1654110695000},{"_id":"themes/next/languages/default.yml","hash":"ea5e6aee4cb14510793ac4593a3bddffe23e530c","modified":1654110695000},{"_id":"themes/next/docs/AGPL3.md","hash":"0d2b8c5fa8a614723be0767cc3bca39c49578036","modified":1654110695000},{"_id":"themes/next/languages/ar.yml","hash":"bca66db21c015dbd32970d8708b898518a773e1e","modified":1654110695000},{"_id":"themes/next/languages/de.yml","hash":"4be7b8b76c81bf1853eb36d2e874b17546a0e792","modified":1654110695000},{"_id":"themes/next/languages/en.yml","hash":"814d81c27fed736055ee300e0a6505b26ff4313c","modified":1654110695000},{"_id":"themes/next/languages/es.yml","hash":"b813da5aed9d73b809133db4dfb08f90ec56afd9","modified":1654110695000},{"_id":"themes/next/languages/fr.yml","hash":"b15dc05afdc94de02e5d3fee4f8d3dc5594dd37e","modified":1654110695000},{"_id":"themes/next/languages/fa.yml","hash":"6456d40dd42f44101d9d6e7054e9884e9163f948","modified":1654110695000},{"_id":"themes/next/languages/nl.yml","hash":"ecb8e39c6225f3c068a5fdd569ee7dafd5c41a1f","modified":1654110695000},{"_id":"themes/next/languages/id.yml","hash":"14e794db4eca36b257994d81eb513e61d1edcbd6","modified":1654110695000},{"_id":"themes/next/languages/pt-BR.yml","hash":"a1f27b3a592fc58f17d247f5563ff4a90a3da5f2","modified":1654110695000},{"_id":"themes/next/languages/it.yml","hash":"c1eeab4992c76bfd436bb205ce58b1cfeef55ee6","modified":1654110695000},{"_id":"themes/next/languages/ja.yml","hash":"d48c4157e0e02e847aac7b513580d3364c81948c","modified":1654110695000},{"_id":"themes/next/languages/ko.yml","hash":"819c19eb9d142e5411f77cf3821d90f740ee114a","modified":1654110695000},{"_id":"themes/next/languages/pt.yml","hash":"63a3e1e728ba5e6e22150de7331bb8a654f34960","modified":1654110695000},{"_id":"themes/next/languages/ru.yml","hash":"8c2b6361f2de17561c1a3eede2bf47b4e2ba6ce5","modified":1654110695000},{"_id":"themes/next/languages/si.yml","hash":"615d18d044f44df476d6bfbf73f7b0edc2632168","modified":1654110695000},{"_id":"themes/next/languages/tk.yml","hash":"519239e35c3bda7b62b00ff5d34644f45b16fe6a","modified":1654110695000},{"_id":"themes/next/languages/zh-CN.yml","hash":"5a3ab21210304efef736e96bad254f789f42c567","modified":1654110695000},{"_id":"themes/next/languages/uk.yml","hash":"7dd24580c0865c5a7bc4d391855045366a598936","modified":1654110695000},{"_id":"themes/next/languages/tr.yml","hash":"0bebba73d6f06c7dad61f80c0d7ad5f6f1791a01","modified":1654110695000},{"_id":"themes/next/languages/zh-HK.yml","hash":"f195bb0502ffe66e850077a1af1033455ea65f93","modified":1654110695000},{"_id":"themes/next/layout/_layout.njk","hash":"20e4160cd0deb4fa272cc3aed0f43520b3cf4a9c","modified":1654110695000},{"_id":"themes/next/languages/vi.yml","hash":"c669c34da544a563ceae3e196addc9df6a78e024","modified":1654110695000},{"_id":"themes/next/languages/zh-TW.yml","hash":"92256b90028de9a1e79c6bc0e5885b93e7fb4b17","modified":1654110695000},{"_id":"themes/next/layout/archive.njk","hash":"d759f4d2cf5ddc6875ea250113a00662c1caf6d1","modified":1654110695000},{"_id":"themes/next/layout/index.njk","hash":"dd63e488ae8cc144335a5958acedf6a16edd7a92","modified":1654110695000},{"_id":"themes/next/layout/category.njk","hash":"c68b7343d0f8145010f93351908cc36ef6212ec1","modified":1654110695000},{"_id":"themes/next/layout/post.njk","hash":"6abeb85fb3e4c382ed4bb6049b12a807e6226e67","modified":1654110695000},{"_id":"themes/next/layout/page.njk","hash":"6c40aa438c658eb7f0cd0f6a759f18b43e7e8f93","modified":1654110695000},{"_id":"themes/next/test/index.js","hash":"6bf0289846538be3e9a63809af98f00e1fbdd90b","modified":1654110695000},{"_id":"themes/next/.github/ISSUE_TEMPLATE/config.yml","hash":"c40ae7903b6cc99f94c9d45ac7ba8c2850bb1309","modified":1654110695000},{"_id":"themes/next/layout/tag.njk","hash":"9e16ba20c28a7f2c6bc75aa427f48122301a30aa","modified":1654110695000},{"_id":"themes/next/.github/workflows/label-commenter.yml","hash":"434cc0674290958b1e9bbc46c3486f073c0722db","modified":1654110695000},{"_id":"themes/next/.github/ISSUE_TEMPLATE/other.md","hash":"8cc5b5c116f6a052865a324512362f145d699202","modified":1654110695000},{"_id":"themes/next/.github/ISSUE_TEMPLATE/feature-request.md","hash":"4ecac91716eac59d7c2bc53cf6e95612d44da97b","modified":1654110695000},{"_id":"themes/next/.github/workflows/linter.yml","hash":"b6c111344bc0f3500ca69d7590791ff85ef1090d","modified":1654110695000},{"_id":"themes/next/.github/workflows/labeler.yml","hash":"e9d51e93f239a2d4b69722c69db3463b4baf0f4c","modified":1654110695000},{"_id":"themes/next/.github/workflows/lock.yml","hash":"e48d1ced9a673d3f0911a700d3e68c0f4ca79263","modified":1654110695000},{"_id":"themes/next/.github/workflows/release-drafter.yml","hash":"4f3af81009cb922be91f718a67425377515ea69d","modified":1654110695000},{"_id":"themes/next/.github/ISSUE_TEMPLATE/bug-report.md","hash":"fc4dce84ed9a5d21d3a8833ff6d776c46f876115","modified":1654110695000},{"_id":"themes/next/docs/zh-CN/CODE_OF_CONDUCT.md","hash":"7a06d443f374bd1e84294067a0ac796afd9fbe60","modified":1654110695000},{"_id":"themes/next/layout/_macro/post-collapse.njk","hash":"1a30d751871dabfa80940042ddb1f77d07d830b9","modified":1654110695000},{"_id":"themes/next/docs/zh-CN/CONTRIBUTING.md","hash":"a089f7a8368ab0b7d7b9b7ec0ac3767a453435df","modified":1654110695000},{"_id":"themes/next/.github/workflows/tester.yml","hash":"80a20c3a7522249f051a48239db41d1317e9b552","modified":1654110695000},{"_id":"themes/next/layout/_macro/sidebar.njk","hash":"eb786e8b35e354287cda345c524cd35ec955f692","modified":1654110695000},{"_id":"themes/next/docs/ru/README.md","hash":"6c82bfd2ec8248c248da701f091b548a7a133580","modified":1654110695000},{"_id":"themes/next/docs/zh-CN/README.md","hash":"ccf27b9249524b9fec1c15497b4353c8d1748c6c","modified":1654110695000},{"_id":"themes/next/layout/_macro/post.njk","hash":"434b3e76a040a816169e1929657e4176e7b8164c","modified":1654110695000},{"_id":"themes/next/layout/_partials/comments.njk","hash":"d0c470b0f6690aa217e9ada848c5e2e73fb27c6f","modified":1654110695000},{"_id":"themes/next/layout/_partials/pagination.njk","hash":"9876dbfc15713c7a47d4bcaa301f4757bd978269","modified":1654110695000},{"_id":"themes/next/layout/_scripts/index.njk","hash":"6668878a0f9a1166c6a879755f54a08d942da870","modified":1654110695000},{"_id":"themes/next/layout/_scripts/vendors.njk","hash":"be80b9fe415a9a09d74c28e230995fd292dfc123","modified":1654110695000},{"_id":"themes/next/layout/_partials/languages.njk","hash":"e43f22198cccb5f6e306b1ce0d28d12a4fb891f8","modified":1654110695000},{"_id":"themes/next/layout/_partials/footer.njk","hash":"19713f472972caac33ae5fbcfe9105da61257de4","modified":1654110695000},{"_id":"themes/next/layout/_partials/widgets.njk","hash":"852a750524decf1efa587cd52b09e387ed8315de","modified":1654110695000},{"_id":"themes/next/layout/_third-party/fancybox.njk","hash":"844559f46e2ff1c8be234d5763703106e2072a7b","modified":1654110695000},{"_id":"themes/next/layout/_third-party/pace.njk","hash":"d7ad5714079f7f65446f880baf14722435ca9061","modified":1654110695000},{"_id":"themes/next/scripts/events/index.js","hash":"3ce10d4cce94e3d4c482c2e18bb6f0f0ca380d3d","modified":1654110695000},{"_id":"themes/next/scripts/filters/default-injects.js","hash":"872f01cb10e422a648ea505436532e776e92926b","modified":1654110695000},{"_id":"themes/next/layout/_third-party/quicklink.njk","hash":"0efed71ed530447718c4ea5bbd5fc8695b0b0d5f","modified":1654110695000},{"_id":"themes/next/scripts/filters/locals.js","hash":"9eb5310664759931287dd28ea39165dfb67f12ed","modified":1654110695000},{"_id":"themes/next/scripts/filters/minify.js","hash":"f160e39943e39d7276da86adb47c3f08e5f22c7a","modified":1654110695000},{"_id":"themes/next/scripts/filters/post.js","hash":"30e03a1d4828259f82d46e64cbfe2955b6cff9a9","modified":1654110695000},{"_id":"themes/next/scripts/helpers/engine.js","hash":"d292b78485e8e8055712b0ed6de7cf559c5fbdcd","modified":1654110695000},{"_id":"themes/next/scripts/helpers/navigation.js","hash":"78107021101553c3d23e89290f7530b60cf4aa86","modified":1654110695000},{"_id":"themes/next/scripts/helpers/font.js","hash":"3394185a7f0393c16ce52c8028f90da3e9239c55","modified":1654110695000},{"_id":"themes/next/scripts/helpers/next-config.js","hash":"226fccbe9c93265e65a300e3cb4bf6f9065cfdd7","modified":1654110695000},{"_id":"themes/next/layout/_third-party/rating.njk","hash":"1bcdbc7fde26d6d9ef4e7fa43ffcff5a9506b20e","modified":1654110695000},{"_id":"themes/next/scripts/helpers/next-vendors.js","hash":"afdd6a188a74c188f0dd154fac70efd4080ca262","modified":1654110695000},{"_id":"themes/next/scripts/helpers/next-url.js","hash":"a11b71ba0c5012e2cdcab31c15439156b215563e","modified":1654110695000},{"_id":"themes/next/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1654110695000},{"_id":"themes/next/source/css/_mixins.styl","hash":"32d31cb5a155681c19f5ad0bb56dcb08429f93ef","modified":1654110695000},{"_id":"themes/next/source/css/main.styl","hash":"78ce791cc4ac95386cf6839ca72f5f7b51f86ee9","modified":1654110695000},{"_id":"themes/next/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1654110695000},{"_id":"themes/next/source/images/avatar.gif","hash":"2dbc3e2f2d624b2ca1afe6edc2ca17307f1950c8","modified":1654110695000},{"_id":"themes/next/source/css/noscript.styl","hash":"263eddabfae40e54c0591e7baa8403ade8cdd56d","modified":1654110695000},{"_id":"themes/next/scripts/tags/caniuse.js","hash":"935a311142a409c1896b3ae3f01fe7a9e2db1134","modified":1654110695000},{"_id":"themes/next/source/css/_colors.styl","hash":"3c6798c10cc220d83481cb3f3782e78558cee789","modified":1654110695000},{"_id":"themes/next/source/images/logo.svg","hash":"2cb74fd3ea2635e015eabc58a8d488aed6cf6417","modified":1654110695000},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"9ed799c329abf830f623689d7e136991256a24ca","modified":1654110695000},{"_id":"themes/next/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1654110695000},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"92c19d796bdb3320df9caea59bf52df7a95d9da9","modified":1654110695000},{"_id":"themes/next/source/images/logo-algolia-nebula-blue-full.svg","hash":"b85e274207b1392782476a0430feac98db1e7da0","modified":1654110695000},{"_id":"themes/next/scripts/tags/index.js","hash":"17f9451ce1f10f78437f52218757d38d4e1591b0","modified":1654110695000},{"_id":"themes/next/scripts/tags/label.js","hash":"8a73348186113bae0a51ea2f891c1bb882fab05a","modified":1654110695000},{"_id":"themes/next/scripts/tags/mermaid.js","hash":"4fb01ca650fa8b256b8d48f50dc1b18350bd3d6d","modified":1654110695000},{"_id":"themes/next/scripts/tags/link-grid.js","hash":"18a483c2d5afd701f6080ffdddf2d1321370336c","modified":1654110695000},{"_id":"themes/next/scripts/tags/note.js","hash":"7b94ddb46b7d4b0fe815f2fbe4bd375f07f55363","modified":1654110695000},{"_id":"themes/next/scripts/tags/pdf.js","hash":"344636b6fd7e27e8831c1e194039afc0d61931cd","modified":1654110695000},{"_id":"themes/next/scripts/tags/tabs.js","hash":"0eabe51da40b4b13e16419c8fe02452d9a4fef73","modified":1654110695000},{"_id":"themes/next/scripts/tags/button.js","hash":"c6ad2ed544fbb25ecb5d820c36e76302504271b7","modified":1654110695000},{"_id":"themes/next/scripts/tags/video.js","hash":"2ee926448583be8f95af1f2884ae2c9c4830151d","modified":1654110695000},{"_id":"themes/next/source/js/comments.js","hash":"66ae2e26ea36a41b72c638ea8b220296638ae952","modified":1654110695000},{"_id":"themes/next/source/js/bookmark.js","hash":"0f563ffbf05fad30e854e413ab17ff7164ab5a53","modified":1654110695000},{"_id":"themes/next/source/images/logo.jpeg","hash":"cf0f17140f5d4eefe4607db39c354c73eb9b6500","modified":1660025565133},{"_id":"themes/next/source/js/comments-buttons.js","hash":"1a7344440321713426a0b2ab17e276b5bdf85ade","modified":1654110695000},{"_id":"themes/next/source/js/config.js","hash":"4c4ebbe3b3f3841a26f9d5af6d0ba8bc6da01c54","modified":1654110695000},{"_id":"themes/next/source/js/motion.js","hash":"f7c825cbff11885fa0dffa64824fd00e505d6a8d","modified":1654110695000},{"_id":"themes/next/source/js/schedule.js","hash":"a1333258726caf84f368a8f8454639c7dc1626bb","modified":1654110695000},{"_id":"themes/next/source/js/utils.js","hash":"200088bfd042f5304b2a04befab0829148845e0e","modified":1654110695000},{"_id":"themes/next/source/js/next-boot.js","hash":"da0f07f9eaaa83de70128b0feaea3fdadb90457a","modified":1654110695000},{"_id":"themes/next/test/tags/center-quote.js","hash":"7667342fd1a1417eaf6a254012b84ae40e8d13dd","modified":1654110695000},{"_id":"themes/next/source/js/pjax.js","hash":"919f5281c4a04d11cfd94573ecf57b3dbabd3cc8","modified":1654110695000},{"_id":"themes/next/test/tags/index.js","hash":"e8779e54f0979b221858f8bb74dd081bb503b910","modified":1654110695000},{"_id":"themes/next/test/tags/caniuse.js","hash":"aa5e728445caeaf7c2ccd0f3fcb2cad0c93ca6d1","modified":1654110695000},{"_id":"themes/next/test/tags/label.js","hash":"4ebf3698c258ca978b997acbdd0dece44069c09d","modified":1654110695000},{"_id":"themes/next/layout/_third-party/index.njk","hash":"d41eeb262978e34de4679d8971a9e7ac5d90ecbc","modified":1654110695000},{"_id":"themes/next/test/tags/group-pictures.js","hash":"5c68ae0184f9da6e00ba199f2554d503d8e6da71","modified":1654110695000},{"_id":"themes/next/test/tags/mermaid.js","hash":"ab77be5f3c6d9a57c7b9dda6decf1906a736fef9","modified":1654110695000},{"_id":"themes/next/test/tags/button.js","hash":"48f2aa4c513e9e24bd6a811410520b74cd7ea88b","modified":1654110695000},{"_id":"themes/next/test/tags/pdf.js","hash":"fd6ea5123560a90f7e7c1eface23dbe1455db25f","modified":1654110695000},{"_id":"themes/next/test/helpers/index.js","hash":"63ba28afed697f7b3574436b1133b8ecc9c0c357","modified":1654110695000},{"_id":"themes/next/test/tags/link-grid.js","hash":"43d298fafb7c45a874b766d443843bd26346e689","modified":1654110695000},{"_id":"themes/next/test/tags/video.js","hash":"b796fc4dceb20a30e730c322bb5474c0162464cc","modified":1654110695000},{"_id":"themes/next/test/tags/note.js","hash":"3dcfcd65bf9f326972ea7571fdb1444200f5d07e","modified":1654110695000},{"_id":"themes/next/test/tags/tabs.js","hash":"d63722919f9da2e44d6b952801e10a2915ea9c12","modified":1654110695000},{"_id":"themes/next/test/helpers/font.js","hash":"342ef3c6fd2dcca2a8802a516ed6d7f389fd2ca2","modified":1654110695000},{"_id":"themes/next/test/validate/index.js","hash":"5a95ccc8598667535bd022e988055c0e019f3670","modified":1654110695000},{"_id":"themes/next/layout/_partials/head/head.njk","hash":"0ba2bf0266f1fcb8edbd961869f8521b29685c56","modified":1654110695000},{"_id":"themes/next/layout/_partials/header/index.njk","hash":"650de421a8ce4cf685428ffbe0087ff84cbd1356","modified":1654110695000},{"_id":"themes/next/test/helpers/next-url.js","hash":"a91d880cb75e0a8e65a7be4c7362b2c8ebfb7c4f","modified":1654110695000},{"_id":"themes/next/layout/_partials/head/head-unique.njk","hash":"8da52a144060db1a0a088ccb2e6cc8376d1fce70","modified":1654110695000},{"_id":"themes/next/layout/_partials/header/menu.njk","hash":"ee6fc2f111572d3eeab0a2fecbb2d6b3e37ab26b","modified":1654110695000},{"_id":"themes/next/layout/_partials/page/page-header.njk","hash":"7ed4f102a1825195cff8d7995bf9219f323a9034","modified":1654110695000},{"_id":"themes/next/layout/_partials/header/sub-menu.njk","hash":"06480d8ec5f0b87eafd47f082f07968d7282dd5c","modified":1654110695000},{"_id":"themes/next/layout/_partials/header/brand.njk","hash":"aff4613756456be26415febc668860fdab8d33c5","modified":1654110695000},{"_id":"themes/next/layout/_partials/page/schedule.njk","hash":"0f4bc8e257da60f77c0c1738607b2bde55810684","modified":1654110695000},{"_id":"themes/next/layout/_partials/page/tags.njk","hash":"a18d1598e36cc72f2b0b24c3cc3c5990dfaa3254","modified":1654110695000},{"_id":"themes/next/layout/_partials/page/categories.njk","hash":"17156d99941f28a225951ffdcfa9a115e20dc2d2","modified":1654110695000},{"_id":"themes/next/layout/_partials/post/post-followme.njk","hash":"154df0bb323c332d8c25343f258ee865e5553423","modified":1654110695000},{"_id":"themes/next/layout/_partials/page/breadcrumb.njk","hash":"89825e75cc45e9709fa6ba89883669eedaff6f46","modified":1654110695000},{"_id":"themes/next/layout/_partials/post/post-copyright.njk","hash":"133942922e34abae9e4de7ea5591d77c0caa4b37","modified":1654110695000},{"_id":"themes/next/layout/_partials/post/post-footer.njk","hash":"bde2c7356d9362972bde41cc206d5816f8ed714d","modified":1654110695000},{"_id":"themes/next/layout/_partials/search/algolia-search.njk","hash":"efb2b6f19df02ba5ae623a1f274fff52aed21e6f","modified":1654110695000},{"_id":"themes/next/layout/_partials/header/menu-item.njk","hash":"41a8b0cc16f60fa085cb719d07216d86b6bc4bf8","modified":1654110695000},{"_id":"themes/next/layout/_partials/post/post-reward.njk","hash":"002b51d0cae3f2e2e008bdc58be90c728282de5b","modified":1654110695000},{"_id":"themes/next/layout/_third-party/chat/gitter.njk","hash":"f8cc14b7aa949999a1faaeb7855e2f20b59a386d","modified":1654110695000},{"_id":"themes/next/layout/_third-party/chat/chatra.njk","hash":"d7263fca16d0278ccf1f6aa1c6df6902a6344a09","modified":1654110695000},{"_id":"themes/next/layout/_partials/search/index.njk","hash":"8f6f256ab3b351ffc80f1f3f1d9834e9a7cfac31","modified":1654110695000},{"_id":"themes/next/layout/_partials/post/post-meta.njk","hash":"9fa47e4fb342811da590ee4adc91cf81118c0a39","modified":1654110695000},{"_id":"themes/next/layout/_partials/post/post-related.njk","hash":"57eca76cfbbe9a65bc2a77f1deebf003ed335673","modified":1654110695000},{"_id":"themes/next/layout/_third-party/chat/tidio.njk","hash":"02aab857c27fc103216029be991688b12a73a525","modified":1654110695000},{"_id":"themes/next/layout/_partials/search/localsearch.njk","hash":"661f7acae43f0be694266323320f977d84119abe","modified":1654110695000},{"_id":"themes/next/layout/_third-party/analytics/microsoft-clarity.njk","hash":"9dc00fcb0a05899f048eace9f9160b78956655d5","modified":1654110695000},{"_id":"themes/next/layout/_third-party/analytics/baidu-analytics.njk","hash":"6215309aee028dcb734452beec448c5afb6c63fc","modified":1654110695000},{"_id":"themes/next/layout/_third-party/analytics/index.njk","hash":"45477a04cf2b3c077061c8c3ada216c1ae288e0e","modified":1654110695000},{"_id":"themes/next/layout/_third-party/comments/changyan.njk","hash":"d1c950f8fbdf85e7a3eae5463767a89e858e8220","modified":1654110695000},{"_id":"themes/next/layout/_third-party/analytics/google-analytics.njk","hash":"d89066ff53879693f023e540d59c86137172c529","modified":1654110695000},{"_id":"themes/next/layout/_third-party/comments/isso.njk","hash":"64cc3bdaf644fd32c0d0a247f29f5b6904da9af3","modified":1654110695000},{"_id":"themes/next/layout/_third-party/comments/livere.njk","hash":"3b13b09fba84ec6000886890a6710736a2b8fafe","modified":1654110695000},{"_id":"themes/next/layout/_third-party/analytics/growingio.njk","hash":"8afaa772c390bd9d53a5cff9645ac3168334eb98","modified":1654110695000},{"_id":"themes/next/layout/_third-party/comments/disqus.njk","hash":"9375b19a89b7fa9474e558d085af5448d4c5c50c","modified":1654110695000},{"_id":"themes/next/layout/_third-party/comments/disqusjs.njk","hash":"0749cb6902baecdfd01f779a2a2513f6d2f6a823","modified":1654110695000},{"_id":"themes/next/layout/_partials/sidebar/site-overview.njk","hash":"3d8591bb92df77ceb9d5b07bc76da1ca89e5bd76","modified":1654110695000},{"_id":"themes/next/layout/_third-party/comments/gitalk.njk","hash":"b63b7e2ede0d3e66e732fa1a06bda9b19e1e85d4","modified":1654110695000},{"_id":"themes/next/layout/_third-party/math/katex.njk","hash":"d82c24136bbd3443b85f07f5579845833b594684","modified":1654110695000},{"_id":"themes/next/layout/_third-party/search/algolia-search.njk","hash":"24ed76e0c72a25ac152820c750a05826a706b6f4","modified":1654110695000},{"_id":"themes/next/layout/_third-party/comments/utterances.njk","hash":"5a94032bc3512a10ad4328fc19ec07b819a1d687","modified":1654110695000},{"_id":"themes/next/layout/_third-party/math/mathjax.njk","hash":"3677017fd4572b158311f5f5d870590ab25184e0","modified":1654110695000},{"_id":"themes/next/layout/_third-party/search/localsearch.njk","hash":"e45ea3542cdc9ed7ec8447b5e6f35df4c5e82758","modified":1654110695000},{"_id":"themes/next/layout/_third-party/tags/mermaid.njk","hash":"099e031f52fb8e47b3af5b2684737efc9e643ee7","modified":1654110695000},{"_id":"themes/next/layout/_third-party/statistics/busuanzi-counter.njk","hash":"a4bc501da0f22f7e420f0ca47e83988ce90b1368","modified":1654110695000},{"_id":"themes/next/layout/_third-party/statistics/firestore.njk","hash":"d32ebe94560fa95824478ebbff531bffc47b194d","modified":1654110695000},{"_id":"themes/next/scripts/events/lib/config.js","hash":"c8b59b404f5d2a0b3b5cd1a6c9a10af5f30e43b5","modified":1654110695000},{"_id":"themes/next/layout/_third-party/math/index.njk","hash":"abf37fc55aa86702118e8fdf5bf2d389dd589aa0","modified":1654110695000},{"_id":"themes/next/layout/_third-party/statistics/index.njk","hash":"568ddf7955d11d93fb5e842b403a7ac8b1b7fdb1","modified":1654110695000},{"_id":"themes/next/scripts/events/lib/highlight.js","hash":"6aec7b2c38c50989a23bfaa0d560e75c7f553e12","modified":1654110695000},{"_id":"themes/next/scripts/events/lib/injects.js","hash":"d987709267a1bc6e5014411e9983d7c49c102c16","modified":1654110695000},{"_id":"themes/next/scripts/events/lib/utils.js","hash":"ec996d0673f766167c86df0966e9da1ae036e103","modified":1654110695000},{"_id":"themes/next/layout/_third-party/tags/pdf.njk","hash":"2c81984cc4f5123103460442f6e046f5b6c97127","modified":1654110695000},{"_id":"themes/next/scripts/filters/comment/changyan.js","hash":"7fa8701c86485b2fe7324e017101a32417902397","modified":1654110695000},{"_id":"themes/next/scripts/filters/comment/default-config.js","hash":"93ee5f9109dad885dc38c49bcee630c10f9dce6e","modified":1654110695000},{"_id":"themes/next/scripts/events/lib/navigation.js","hash":"dd3562686d95a50375e6fd32e717ccb0d99c1e3d","modified":1654110695000},{"_id":"themes/next/scripts/events/lib/vendors.js","hash":"64e4024376b51fe81be7ad80235abdf0a83853bd","modified":1654110695000},{"_id":"themes/next/scripts/filters/comment/common.js","hash":"19a402a225c31edffc50f202a14e0d582d3db23e","modified":1654110695000},{"_id":"themes/next/scripts/filters/comment/disqus.js","hash":"7f71d6b271ba65ff333d5682e7575711d368c0d2","modified":1654110695000},{"_id":"themes/next/layout/_third-party/statistics/lean-analytics.njk","hash":"2446e748cdc102c78492216319ac02148db7daf6","modified":1654110695000},{"_id":"themes/next/scripts/filters/comment/gitalk.js","hash":"7bb7dafdd7f6bca8464b54e17e552ce7f1714195","modified":1654110695000},{"_id":"themes/next/scripts/filters/comment/livere.js","hash":"5a07d8bb52bc1d51a624ca8db54be144566c306b","modified":1654110695000},{"_id":"themes/next/scripts/filters/comment/disqusjs.js","hash":"135b87d151055eefdbc711d9e704b112b3214a84","modified":1654110695000},{"_id":"themes/next/scripts/filters/comment/isso.js","hash":"ff8b5b5145220a17d0ecd9508ba9bd2d3b2da47d","modified":1654110695000},{"_id":"themes/next/scripts/filters/comment/utterances.js","hash":"d3bded697bc32dace689d2a6dfb6eb7514169d15","modified":1654110695000},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"e3be898f5ebcf435a26542653a9297ff2c71aeb0","modified":1654110695000},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"c65536a128b9bc9dbe2fbb1b235a3cded2891002","modified":1654110695000},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"e1fbf169b9b6a194b518240cbd06ec3c48b83d61","modified":1654110695000},{"_id":"themes/next/source/js/third-party/pace.js","hash":"0ef04218b93561ba4d0ff420d556c3d90a756d32","modified":1654110695000},{"_id":"themes/next/source/js/third-party/rating.js","hash":"4e92c2d107ba47b47826829f9668030d5ea9bfb8","modified":1654110695000},{"_id":"themes/next/source/css/_variables/Gemini.styl","hash":"96e0a7c2a65ce68215e17e369085b2ea2f1334f2","modified":1654110695000},{"_id":"themes/next/source/css/_variables/base.styl","hash":"163c7441d777bee87042d475e6ce0fde199add28","modified":1654110695000},{"_id":"themes/next/source/js/schemes/muse.js","hash":"9794bd4fc6a458322949d6a0ade89cd1026bc69f","modified":1654110695000},{"_id":"themes/next/source/css/_common/scaffolding/buttons.styl","hash":"a042571d85ff7265f799004239a45f36b716b8a6","modified":1654110695000},{"_id":"themes/next/source/css/_common/scaffolding/index.styl","hash":"523fb7b653b87ae37fc91fc8813e4ffad87b0d7e","modified":1654110695000},{"_id":"themes/next/source/css/_common/scaffolding/comments.styl","hash":"e4fecc889ba3317a64e9abba5842c79dff9b7827","modified":1654110695000},{"_id":"themes/next/source/js/third-party/fancybox.js","hash":"c098d14e65dd170537134358d4b8359ad0539c2c","modified":1654110695000},{"_id":"themes/next/source/js/third-party/quicklink.js","hash":"eed02e6fced8e5a653077205d4d4d7834ca71472","modified":1654110695000},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"d0a7c99095f490b0d2ed6b1be43d435960798cec","modified":1654110695000},{"_id":"themes/next/source/css/_common/scaffolding/toggles.styl","hash":"572a41499391677d84b16d8dbd6a996a3d5ce041","modified":1654110695000},{"_id":"themes/next/source/css/_common/components/index.styl","hash":"fe1868f47681e00a33a96199302be85377282f63","modified":1654110695000},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"e840b23d33023e6d45e018f6e84b683dd56efd8d","modified":1654110695000},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"b56367ea676ea8e8783ea89cd4ab150c7da7a060","modified":1654110695000},{"_id":"themes/next/source/css/_common/scaffolding/pagination.styl","hash":"b5c7782368889fa9fd93807d28ff2daf270e3703","modified":1654110695000},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"bab653bcf226311381e8411a0492202f1bf1fce9","modified":1654110695000},{"_id":"themes/next/source/css/_common/components/reading-progress.styl","hash":"90a86045a33c1bae49fc2f6fa1e1b53170c7f77b","modified":1654110695000},{"_id":"themes/next/source/css/_common/outline/index.styl","hash":"8e34df131830d4fa3725e4590a672ba1cf1903e5","modified":1654110695000},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"4817e77577896ab5c0da434549917ee703a3f4cf","modified":1654110695000},{"_id":"themes/next/source/css/_schemes/Gemini/index.styl","hash":"fd49b521d67eaccc629f77b4e095cb7310327565","modified":1654110695000},{"_id":"themes/next/source/js/third-party/analytics/baidu-analytics.js","hash":"f629acc46ff40c071ffd31b77d5c7616f0fdd778","modified":1654110695000},{"_id":"themes/next/source/css/_common/outline/mobile.styl","hash":"64775c729512b30b144ab5ae9dc4a4dfd4e13f35","modified":1654110695000},{"_id":"themes/next/source/js/third-party/analytics/google-analytics.js","hash":"59684383385059dc4f8a1ff85dbbeb703bcdbcb5","modified":1654110695000},{"_id":"themes/next/source/css/_schemes/Mist/_layout.styl","hash":"5604ac1e161099a4d3e5657d53507268866dc717","modified":1654110695000},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"fb550935d374e0bdf1097fce187337dc05cad3e1","modified":1654110695000},{"_id":"themes/next/source/css/_schemes/Muse/_header.styl","hash":"06080fd963c904d96c00eff098a284e337953013","modified":1654110695000},{"_id":"themes/next/source/js/third-party/analytics/growingio.js","hash":"78dd3cf04082b7dbe6246e404b2aa8e726922402","modified":1654110695000},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"ab16a3dcdc0393b9b582ef59dcc13db9320e917c","modified":1654110695000},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"82a29572dd90451f75358a2ee2522b87304a0bb8","modified":1654110695000},{"_id":"themes/next/source/css/_schemes/Pisces/_header.styl","hash":"b741ab96e73370711c63a6581159f2ea8b5bfa1b","modified":1654110695000},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expand.styl","hash":"be6cf377ae8f4a01ee76f9b3014e74161d4d5d17","modified":1654110695000},{"_id":"themes/next/source/css/_schemes/Muse/_sub-menu.styl","hash":"c48ccd8d6651fe1a01faff8f01179456d39ba9b1","modified":1654110695000},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"6ad168288b213cec357e9b5a97674ff2ef3a910c","modified":1654110695000},{"_id":"themes/next/source/css/_schemes/Pisces/_sub-menu.styl","hash":"778ed2ad5643b93970c95626b325defeb586733f","modified":1654110695000},{"_id":"themes/next/layout/_third-party/analytics/cloudflare.njk","hash":"a5b8297c2c383124dd6a56e256ecc0c0dcf489be","modified":1654110695000},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"8000075b227749a7495eaf417cac6ccfbe441580","modified":1654110695000},{"_id":"themes/next/source/js/third-party/chat/chatra.js","hash":"c32180522788c10e51df1803aa6842ef0432ddc9","modified":1654110695000},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"b7f48be3c43bfa393d62142544a5487a67871713","modified":1654110695000},{"_id":"themes/next/source/css/_schemes/Muse/_sidebar.styl","hash":"944364893bd7160d954c10ba931af641c91515a4","modified":1654110695000},{"_id":"themes/next/source/js/third-party/chat/tidio.js","hash":"b0079f6a4601e06ca6fe46e83a2f5af553e9bc3c","modified":1654110695000},{"_id":"themes/next/source/js/third-party/chat/gitter.js","hash":"cc38c94125f90dadde11b5ebac7d8bf99a1a08a2","modified":1654110695000},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"6eee86c8f0175d6c09e434053516cd8556f78d44","modified":1654110695000},{"_id":"themes/next/source/js/third-party/comments/livere.js","hash":"2247d88c934c765c43013337860774aaa99f0b31","modified":1654110695000},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"d9141e6e14a56b5952488101e9a8388c2170e270","modified":1654110695000},{"_id":"themes/next/source/js/third-party/comments/utterances.js","hash":"f67f90eb03e284c82da2b8cf2f1e31801813c16d","modified":1654110695000},{"_id":"themes/next/source/js/third-party/comments/disqusjs.js","hash":"b6c58f098473b526d6a3cd35655caf34b77f7cff","modified":1654110695000},{"_id":"themes/next/source/js/third-party/comments/changyan.js","hash":"260d1a77d6a3bb33a579d3e4cca1997003e799b5","modified":1654110695000},{"_id":"themes/next/source/js/third-party/comments/isso.js","hash":"753a873b6f566aff5ba77ca23f91b78eb880ca64","modified":1654110695000},{"_id":"themes/next/source/js/third-party/math/katex.js","hash":"83c54ee536e487a1031783443fe0cb63b1b4767e","modified":1654110695000},{"_id":"themes/next/source/js/third-party/comments/disqus.js","hash":"e1cc671b0d524864fd445e3ab4ade9ee6d07e565","modified":1654110695000},{"_id":"themes/next/source/js/third-party/comments/gitalk.js","hash":"0ec038cf83e8ec067534f16a54041e47a3c1e59a","modified":1654110695000},{"_id":"themes/next/source/js/third-party/math/mathjax.js","hash":"5c749b9c1c3bb738122d0516211ecff6496d4907","modified":1654110695000},{"_id":"themes/next/source/js/third-party/statistics/lean-analytics.js","hash":"5a928990856b8e456f0663cf3b6b406733672e39","modified":1654110695000},{"_id":"themes/next/source/js/third-party/tags/pdf.js","hash":"af78c22f0e61c8c8aa8794e585e0d632c6d4fcb8","modified":1654110695000},{"_id":"themes/next/source/js/third-party/statistics/firestore.js","hash":"411a72df581f5b21317dc28633c7993207eb9e1c","modified":1654110695000},{"_id":"themes/next/source/js/third-party/search/algolia-search.js","hash":"fdb7b7cef1a147d897e7f7cd8903b58368ec2062","modified":1654110695000},{"_id":"themes/next/source/js/third-party/tags/mermaid.js","hash":"f27d817b0c2138dd3215b1f46af0753f60a008f3","modified":1654110695000},{"_id":"themes/next/source/css/_common/scaffolding/tags/blockquote-center.styl","hash":"d6418fd2bbfba7b73ddf11ec62db9637fdf5d8af","modified":1654110695000},{"_id":"themes/next/source/js/third-party/search/local-search.js","hash":"4536cb6d0a9bbaaa86fab3fa0101f6a3a3ec5a76","modified":1654110695000},{"_id":"themes/next/source/css/_common/scaffolding/tags/group-pictures.styl","hash":"393ff96234e4196b569d4b11496774eb78e147de","modified":1654110695000},{"_id":"themes/next/source/css/_common/scaffolding/tags/index.styl","hash":"3f76c73a891bbc10679753e702feba9e8a5ffdd2","modified":1654110695000},{"_id":"themes/next/source/css/_common/scaffolding/highlight/index.styl","hash":"f2328caa94645836e06fb39a6a9c9a84ed68a8b5","modified":1654110695000},{"_id":"themes/next/source/css/_common/scaffolding/tags/label.styl","hash":"debee14539272fbe3835a7d3853af2230baa3501","modified":1654110695000},{"_id":"themes/next/source/css/_common/scaffolding/highlight/copy-code.styl","hash":"670fc109b56a010b166b86b616823a1aae97a738","modified":1654110695000},{"_id":"themes/next/source/css/_common/scaffolding/tags/mermaid.styl","hash":"48d35dba575a7c9e8845b16652e76b7d4a4646de","modified":1654110695000},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"b6e2eb1550a7845cb2adf86081a4ab6c7bde1e68","modified":1654110695000},{"_id":"themes/next/source/css/_common/scaffolding/tags/link-grid.styl","hash":"7f8a7345e6537a62cd9e9a94c8f7065b541d9b04","modified":1654110695000},{"_id":"themes/next/source/css/_common/scaffolding/tags/pdf.styl","hash":"b6654a1d7cf82577d8263faffee8af3ad4a5c0e8","modified":1654110695000},{"_id":"themes/next/source/css/_common/components/pages/breadcrumb.styl","hash":"8afdc311c6b8db121758371f95cf1c5e77354f42","modified":1654110695000},{"_id":"themes/next/source/css/_common/components/pages/index.styl","hash":"7504dbc5c70262b048143b2c37d2b5aa2809afa2","modified":1654110695000},{"_id":"themes/next/source/css/_common/scaffolding/tags/note.styl","hash":"d27fbf7799695295dd5860a161a13ac4d90c5ba4","modified":1654110695000},{"_id":"themes/next/source/css/_common/scaffolding/tags/tabs.styl","hash":"7a39bcce7274284e87388743db62afc847fe6897","modified":1654110695000},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"6b816c2511242ee503fb5f34cd3e4dcdafc06b85","modified":1654110695000},{"_id":"themes/next/source/css/_common/components/pages/tag-cloud.styl","hash":"1a81d1a71fcf0699629ce6e72dfd0a15f3a2dd0a","modified":1654110695000},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"72dc825c50357402c342d62ab60fc0c478ab6bc1","modified":1654110695000},{"_id":"themes/next/source/css/_common/components/post/post-followme.styl","hash":"fc1a7bac6493f24aa50665574f37f3dd954f210c","modified":1654110695000},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"ec37a36e94ba791663607a5022f763915778578f","modified":1654110695000},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"aa366d37389760c8595529b850f461569577a1c5","modified":1654110695000},{"_id":"themes/next/source/css/_common/components/post/index.styl","hash":"d0805a763176b3c0003967401644f41dfe3bc9e8","modified":1654110695000},{"_id":"themes/next/source/css/_common/components/post/post-body.styl","hash":"d757768a58743601d0d84158ba955eb15d4c3c01","modified":1654110695000},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"9ac6f477177264c26a46e8333b8456720a0444dc","modified":1654110695000},{"_id":"themes/next/source/css/_common/components/post/post-footer.styl","hash":"1d284f3ea03ba9b4feb76b375e539a8e0bccf1c3","modified":1654110695000},{"_id":"themes/next/source/css/_common/components/post/post-header.styl","hash":"010c901e4ef49a606f8a350efbf09044e76d2ff3","modified":1654110695000},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"07cff69f2d57e6321595f64c16d8b763dc88df6a","modified":1654110695000},{"_id":"themes/next/source/css/_common/components/post/post-widgets.styl","hash":"b6677dc2a2368084ab82bb4f145ac79e5966c150","modified":1654110695000},{"_id":"themes/next/source/css/_common/components/third-party/gitalk.styl","hash":"070737d101e7cd58e997e8c7af09958268c43a21","modified":1654110695000},{"_id":"themes/next/source/css/_common/components/third-party/gitter.styl","hash":"35104dc6883a61c31e0e368dac8ac2f697be62fe","modified":1654110695000},{"_id":"themes/next/source/css/_common/outline/footer/index.styl","hash":"8b9407e5cfd0571ef8de7df19022b268f962fa2f","modified":1654110695000},{"_id":"themes/next/source/css/_common/components/third-party/index.styl","hash":"979486a41a81f2a9fd8b0b87c4f87d6416c68c7d","modified":1654110695000},{"_id":"themes/next/source/css/_common/components/third-party/math.styl","hash":"9d995eb4871a6c273d9d51558676a1fdabf69e72","modified":1654110695000},{"_id":"themes/next/source/css/_common/components/third-party/utterances.styl","hash":"56d90ae0559caa55b75f3c300ff2711f9ed65fc4","modified":1654110695000},{"_id":"themes/next/source/css/_common/outline/header/bookmark.styl","hash":"e74f4bb47a101b014ee2a1783c87f3b87323f9a0","modified":1654110695000},{"_id":"themes/next/source/css/_common/components/third-party/related-posts.styl","hash":"41ed817e1eb64078074e245e771446ee041e5790","modified":1654110695000},{"_id":"themes/next/source/css/_common/components/third-party/disqusjs.styl","hash":"c2326ee3e8b724d99c24a818ddee32813ea5bf89","modified":1654110695000},{"_id":"themes/next/source/css/_common/outline/header/index.styl","hash":"ff642130354a0b3be0d708c43044ed4d710b5e83","modified":1654110695000},{"_id":"themes/next/source/css/_common/components/third-party/search.styl","hash":"e72799ce3f9b79753e365b2f8c8ef6c310668d4a","modified":1654110695000},{"_id":"themes/next/source/css/_common/outline/header/site-nav.styl","hash":"bf3ad8b4268f763a1e26377681644887694bc009","modified":1654110695000},{"_id":"themes/next/source/css/_common/outline/header/github-banner.styl","hash":"38c64c2d04e46848382bfa246a0e9c508294767b","modified":1654110695000},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-author-links.styl","hash":"52fc98b1435129eb3edb9293ced9e507741f1350","modified":1654110695000},{"_id":"themes/next/source/css/_common/outline/header/site-meta.styl","hash":"759e582d34d08e3386c55d87a835a9523608619f","modified":1654110695000},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-blogroll.styl","hash":"9950c3188a28e1c63b5498b7bdcd14b12ace3e28","modified":1654110695000},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-button.styl","hash":"b926e368f702f8686aaa2eb98d3d2e533418958c","modified":1654110695000},{"_id":"themes/next/source/css/_common/outline/header/menu.styl","hash":"392fd53a8dd4e3f33a853ebb24290a622300e0ff","modified":1654110695000},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-dimmer.styl","hash":"fbdb63c6a8887d19b7137325ba7d6806f728139c","modified":1654110695000},{"_id":"themes/next/source/css/_common/outline/sidebar/index.styl","hash":"cee43480eba028c37d51cb620c2d81486aa24e01","modified":1654110695000},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-toggle.styl","hash":"3103b81fc76b59e1e2c161e2c484625c770ed66f","modified":1654110695000},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-author.styl","hash":"5b38ac4a0f1ade0e681aff0e3366c481d9cf3dcd","modified":1654110695000},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-nav.styl","hash":"ee94a1a27090ad24e3ed579093088d97ff96d77d","modified":1654110695000},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-toc.styl","hash":"021a37cf178440cc341940a299d3bca359996c6b","modified":1654110695000},{"_id":"themes/next/source/css/_common/outline/sidebar/site-state.styl","hash":"26dd0adfcb1db6df29c6090c8d7e9b5a43583fb0","modified":1654110695000},{"_id":"themes/next/source/images/avatar.jpg","hash":"6c8990146a8952732d3fa65f7933f4644c62f475","modified":1660025159934},{"_id":"public/nodejs/file/test.js","hash":"1d1283c896591c6c91699e4c7325cb2226074321","modified":1672825520261},{"_id":"public/atom.xml","hash":"77764e55152b60567d56c9c694614df9cebd9549","modified":1672825520261},{"_id":"public/index.html","hash":"b26b91f3cc1d9eefd574d40cb76909f503e697eb","modified":1672825520261},{"_id":"public/vue/dependency.html","hash":"4af3fe48c69e1012a1c8165a2750c9430d564f14","modified":1672825520261},{"_id":"public/commonweal/index.html","hash":"c58d1c7c7bf65223419b0e79bb5562763be59144","modified":1672825520261},{"_id":"public/vue/index.html","hash":"ea038a0781a04bb5894a8a7d5da2909100e37984","modified":1672825520261},{"_id":"public/nodejs/index.html","hash":"cc6ec3d85b3fb21177cce545d82c511b8eda5b28","modified":1672825520261},{"_id":"public/nodejs/install-diff-version-node-by-nvm.html","hash":"1970c72b1555d40f24740360beaa5374880c97b5","modified":1672825520261},{"_id":"public/nodejs/nodejs-note-14.html","hash":"1b67d2566daf8afe8687b07ac9a83c297c77c354","modified":1672825520261},{"_id":"public/nodejs/nodejs-note-15.html","hash":"99657548d6f5f3f5a0473c2895f6bc0c4ac6663d","modified":1672825520261},{"_id":"public/2022/11/10/42-scrollInToView-params/index.html","hash":"1bbecb03573482441a32a8f11b5d017ab009f0a5","modified":1672825520261},{"_id":"public/2022/10/26/41-js-equal-type/index.html","hash":"d7e26ea5b190c6aa138f8f0dabd0ade08d638e08","modified":1672825520261},{"_id":"public/2022/08/19/22-about-symbol/index.html","hash":"28681fe9f40b4263546212dfb214218a50edd5e5","modified":1672825520261},{"_id":"public/2022/08/11/15-js-transform/js-transform/index.html","hash":"febc7d2dead98a99117d450a6cb32490c5bf007b","modified":1672825520261},{"_id":"public/2022/08/05/20-create-vscode-plugin/index.html","hash":"d8a6051c4da8fccf736a708d8991d804fb32f5a1","modified":1672825520261},{"_id":"public/2022/08/04/18-fake-array/index.html","hash":"bd78d20580571a345972f1a683ca2411cb16fe7b","modified":1672825520261},{"_id":"public/2022/07/19/16-origin-type-and-reference-type/index.html","hash":"b1b654f93050c0ff3849e87725268be39fb5c9ac","modified":1672825520261},{"_id":"public/2022/06/30/12-create-github-tokens/index.html","hash":"ce02f988551e11a1cac59f839b383de55f4da93f","modified":1672825520261},{"_id":"public/2022/06/23/7-question-about-render/index.html","hash":"e292f6f0f074627dd4f5541035d810fd83295e82","modified":1672825520261},{"_id":"public/2022/06/22/6-vue3-render/index.html","hash":"7c52880d5ace893192e77c5fed93372b38308551","modified":1672825520261},{"_id":"public/2022/06/22/5-react-render/index.html","hash":"41c91b0197de40b90965930d7a71b0471ff0ad86","modified":1672825520261},{"_id":"public/2022/03/26/2-var-const-let/index.html","hash":"7f01e6e862ff70e1f255dd2c44fdfb742ff4b160","modified":1672825520261},{"_id":"public/2022/01/05/1-hello-world/index.html","hash":"d3824b397ab68acf0f444a9b9367692ab9a2ff8a","modified":1672825520261},{"_id":"public/archives/page/3/index.html","hash":"57b7fe8027d803d93376345a3b3dc534cd909a43","modified":1672825520261},{"_id":"public/archives/2022/page/3/index.html","hash":"4d7138b22e42771c5997b488b0e0037fad1e702a","modified":1672825520261},{"_id":"public/archives/2022/01/index.html","hash":"f575a71d49fa4d4d30120af927be9e15af698dbd","modified":1672825520261},{"_id":"public/archives/2022/03/index.html","hash":"23e7965f4476216240c08f4defc850491e5dc48b","modified":1672825520261},{"_id":"public/archives/2022/05/index.html","hash":"7f29e76bec37c633a50ec24b46f954b0fd745903","modified":1672825520261},{"_id":"public/archives/2022/06/index.html","hash":"d49405ba001c4218d079dc94580db183ab2f39d9","modified":1672825520261},{"_id":"public/archives/2022/07/index.html","hash":"383236786f17b957720d82bbcf01b82a2dee17f8","modified":1672825520261},{"_id":"public/archives/2022/08/index.html","hash":"3fd3289212cf263c618f9012dfe192ca9408db20","modified":1672825520261},{"_id":"public/archives/2022/09/index.html","hash":"79a42954671544a88b3a00fafbe7ef841d6a5270","modified":1672825520261},{"_id":"public/archives/2022/10/index.html","hash":"561f1c0db9b44fcfe846b94b4228e0a68d5c7947","modified":1672825520261},{"_id":"public/archives/2022/11/index.html","hash":"67cbebd16d4d4f8c7dbf512c313e7a4e6ec0dec9","modified":1672825520261},{"_id":"public/archives/2022/12/index.html","hash":"1b0d55d299df94c2b4c97f84d1ff6a1feac78fb0","modified":1672825520261},{"_id":"public/archives/2023/index.html","hash":"ebdb5b996a2e591e8d1181cd2bb06122aef22218","modified":1672825520261},{"_id":"public/archives/2023/01/index.html","hash":"b8bea867a05dcadbc6a2843ed86784f8e265338d","modified":1672825520261},{"_id":"public/vue/change.html","hash":"d958c0d8c8acd5779adc4e9a8654e52eb3dcb5f6","modified":1672825520261},{"_id":"public/nodejs/nodejs-note-1.html","hash":"29c9ca2f64dafca63e1c3bbe7b330bda2d91a432","modified":1672825520261},{"_id":"public/nodejs/nodejs-note-10.html","hash":"8529e56fe2e78ebcfcad72c18830266e411f7cbd","modified":1672825520261},{"_id":"public/nodejs/nodejs-note-13.html","hash":"d9b2532de88cef7c8fa61836d601592f882ad0e8","modified":1672825520261},{"_id":"public/nodejs/nodejs-note-11.html","hash":"f861a95784d57d6708fb426dfab60b895e5dd8ad","modified":1672825520261},{"_id":"public/nodejs/nodejs-note-12.html","hash":"fcb5e6783493290e24dbba78f95f721cfdc2b2b4","modified":1672825520261},{"_id":"public/nodejs/nodejs-note-2.html","hash":"11f393da37577988f79ab3461daa1374647f43d2","modified":1672825520261},{"_id":"public/nodejs/nodejs-note-5.html","hash":"b8151ad630b8a8e4dd5679e8925a94b553120970","modified":1672825520261},{"_id":"public/nodejs/nodejs-note-4.html","hash":"6f045d599650673017911449584027a9538b899e","modified":1672825520261},{"_id":"public/nodejs/nodejs-note-6.html","hash":"7ec92208ebe2ea1374683791519264f90b90a457","modified":1672825520261},{"_id":"public/nodejs/nodejs-note-3.html","hash":"09e08529aea3955ac1a31a29d28151dfc5067e9b","modified":1672825520261},{"_id":"public/nodejs/nodejs-note-8.html","hash":"4f4a7bfbc59cc427b9beba3146b829cad7d1f057","modified":1672825520261},{"_id":"public/nodejs/nodejs-note-9.html","hash":"82a28b8f7e4097d9444938aceb5b09e5a618d1a8","modified":1672825520261},{"_id":"public/nodejs/nodejs-note-7.html","hash":"0c135d2fdc111e463a3ad4a11c7a28d437b0bbd3","modified":1672825520261},{"_id":"public/2023/01/03/44-about-grid/index.html","hash":"6512d29118e678989ab79d287b0aaa9442655a01","modified":1672825520261},{"_id":"public/2022/12/08/43-compress-picture/index.html","hash":"c85d472abf0fcbca0d23794fd7ad89a01c2aebb3","modified":1672825520261},{"_id":"public/2022/10/17/40-tail-call/index.html","hash":"0f76f303842feb1c6a6abd54db44e32ea6779628","modified":1672825520261},{"_id":"public/2022/10/13/39-data-structure7/index.html","hash":"f9c6b6b5fdec564d0b3e7e42b385dd8abb92fd6d","modified":1672825520261},{"_id":"public/2022/10/13/38-data-structure6/index.html","hash":"527cd3b48fbb6ec731838b55b3e8ab2201bb014d","modified":1672825520261},{"_id":"public/2022/10/08/37-data-structure5/index.html","hash":"ca010eb5f97703e2f06d3920a1a2dd54387202b2","modified":1672825520261},{"_id":"public/2022/10/08/36-data-structure4/index.html","hash":"2b202e82d35fb4aab2da9290f50657deb4dddad9","modified":1672825520261},{"_id":"public/2022/09/29/35-data-structure3/index.html","hash":"4bbe8c50221f9fd3b8794cf97e8ac8f93a2be266","modified":1672825520261},{"_id":"public/2022/09/23/34-data-structure2/index.html","hash":"da3d4152e1b6386fe26d0b39196dfd2430cc4e58","modified":1672825520261},{"_id":"public/2022/09/21/32-apply-array-to-params/index.html","hash":"cf1f00d1470baa4fcd9f65e74e2921ed0c33b19f","modified":1672825520261},{"_id":"public/2022/09/20/33-data-structure1/index.html","hash":"6c38e3ebfdf237e8d7d0a4057fe4d22d556e5b04","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/index.html","hash":"cb9b53bfcc08097c33d2a03a7c812f6eea511269","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/index.html","hash":"975365d1a43ce37ac02b82337988cadd617b198d","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/index.html","hash":"d67455e71293b8f93a53a71ff8cef2c07a59dd99","modified":1672825520261},{"_id":"public/2022/09/06/25-about-design-model2/index.html","hash":"c6ae58adc77fce9a68f37314ae1f49de7b259067","modified":1672825520261},{"_id":"public/2022/09/05/31-get-and-set-prototypeof/index.html","hash":"202e94cc827ac0f18b17ccca827baf9392518130","modified":1672825520261},{"_id":"public/2022/09/05/30-some-convenient-code/index.html","hash":"ebd831555760380c88e51a0cdc3bf0a928e366ca","modified":1672825520261},{"_id":"public/2022/09/04/24-about-design-model1/index.html","hash":"1c6a5cd6519cff0bdd42332a904b62cdcc2eca92","modified":1672825520261},{"_id":"public/2022/09/02/29-es6-object-strong/index.html","hash":"12a3ac7648710fc67a1d60c080b8ddb0ca736548","modified":1672825520261},{"_id":"public/2022/08/20/23-about-design-model/index.html","hash":"83744b205f9b47806102f0b893d339b0207aa6df","modified":1672825520261},{"_id":"public/2022/08/09/21-devan-operation/index.html","hash":"b8766591250c6786559c4e0ce6685358f64355ee","modified":1672825520261},{"_id":"public/2022/08/04/19-about-map/index.html","hash":"a526ca8e757584eb834355a5ccf995078fdc3c19","modified":1672825520261},{"_id":"public/2022/07/31/17-about-dom/index.html","hash":"fe57137d10e24525702371db8a077369791ac916","modified":1672825520261},{"_id":"public/2022/07/19/15-js-transform/index.html","hash":"e887e09d67b6c2a7eed00c6004d3f9a93f0e5d10","modified":1672825520261},{"_id":"public/2022/07/12/14-about-fe-theory/index.html","hash":"6c71d1da70ae246dda3d20263a358b89ebd9cc2d","modified":1672825520261},{"_id":"public/2022/07/05/13-document-location/index.html","hash":"37f32ab02ca479199918769bf61ecaa1553ea65a","modified":1672825520261},{"_id":"public/2022/06/30/11-github-push-insert-password/index.html","hash":"e13a71c05857140b0d683525724742cdcc6b2716","modified":1672825520261},{"_id":"public/2022/06/28/10-about-meta/index.html","hash":"10a5b43bc8f6017c52934d7e18b9fcbfe54eeadc","modified":1672825520261},{"_id":"public/2022/06/27/9-text-type-about-markdown/index.html","hash":"6fb8f226574e5d917214edca57dbeeb84954d7eb","modified":1672825520261},{"_id":"public/2022/06/27/8-create-fixed-length-array/index.html","hash":"be9558c32be65fb2bb5f03e9d50ef788196e2a2f","modified":1672825520261},{"_id":"public/2022/05/23/4-browser-render/index.html","hash":"af2fce533e30098fa4d5d53cd676f9db7bfcce31","modified":1672825520261},{"_id":"public/2022/03/26/3-about-use-hexo/index.html","hash":"c4dc97b593bb32e2f1292f073cdcde95ab35a21d","modified":1672825520261},{"_id":"public/archives/index.html","hash":"74cf6aba174b71409d42189587b1d7b911830a4d","modified":1672825520261},{"_id":"public/archives/page/2/index.html","hash":"fd9b1f9290e5f1e2844fc885df1ee83d2ee71aef","modified":1672825520261},{"_id":"public/archives/2022/index.html","hash":"bea890ecb8809957b1683554517170642bc385e6","modified":1672825520261},{"_id":"public/archives/2022/page/2/index.html","hash":"b93b4d8f90faf2e516f4c671db8a42fa5e1ded64","modified":1672825520261},{"_id":"public/default-index/index.html","hash":"bb67442777d7dd404092e189c07a0e1fd53fe698","modified":1672825520261},{"_id":"public/default-index/page/2/index.html","hash":"b5b9614552d5b027e8a5ce0eea434d814abd2f4b","modified":1672825520261},{"_id":"public/default-index/page/3/index.html","hash":"7a5fcb9427fa1100a28bdb11868e84a92382bc0e","modified":1672825520261},{"_id":"public/default-index/page/4/index.html","hash":"befbe25ad435a8c7170572caaeee9c83348e075a","modified":1672825520261},{"_id":"public/default-index/page/5/index.html","hash":"59fc88654d893ea07829a2e8ffa51b54cfc9abfe","modified":1672825520261},{"_id":"public/nodejs/file/stdout.log","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1672825520261},{"_id":"public/nodejs/file/test.enc","hash":"aa3e64643dde19f29c413cfae1160dd980ac3ad3","modified":1672825520261},{"_id":"public/nodejs/images/async-experience.png","hash":"c7c903136156205117f819ae03a5ce81204c23b9","modified":1672825520261},{"_id":"public/nodejs/file/stderr.log","hash":"c8598eb267a5b8880fb5e4a09c3e432baa246662","modified":1672825520261},{"_id":"public/nodejs/images/async-progress.png","hash":"5e6ef5a50ac929df8694a62ec96202048c4bb18b","modified":1672825520261},{"_id":"public/nodejs/images/buffer-3.png","hash":"586ecdade8a0bd9f926e4a9e4c8f9b328517719d","modified":1672825520261},{"_id":"public/nodejs/images/bigpipe.png","hash":"dc9b44b4ed5e79203f2690bd2e87ee7aefac6b23","modified":1672825520261},{"_id":"public/nodejs/images/async-call.png","hash":"cf73b4e1fa6ef2c5eb1d6813c73ed2abe6bb5989","modified":1672825520261},{"_id":"public/nodejs/images/buffer-1.png","hash":"2ddb6050f0ebac6bb733b8d50f9abdb71bb21563","modified":1672825520261},{"_id":"public/nodejs/images/buffer.png","hash":"0c585b0181968674a65b89c42f8c31421af99dc6","modified":1672825520261},{"_id":"public/nodejs/images/buffer-2.png","hash":"3fc41fcc7896fe6af165cbdb5f4048770c915b9e","modified":1672825520261},{"_id":"public/nodejs/images/ca-1.png","hash":"89317164d8d399085df7d23a37d737c26a2c5a30","modified":1672825520261},{"_id":"public/nodejs/images/ca.png","hash":"81f692dee7584b2c9d6e7ad0360b4461953c40d9","modified":1672825520261},{"_id":"public/nodejs/images/cache.png","hash":"1ac69103427a3c1a8b0022af1620a927362c3385","modified":1672825520261},{"_id":"public/nodejs/images/collect-diff.png","hash":"d69687d4300e224c23ef3169a9c6e4f3db396fc3","modified":1672825520261},{"_id":"public/nodejs/images/cross-platform.png","hash":"2c1a28975ade0c9f106e3716dcaf24c877e0773d","modified":1672825520261},{"_id":"public/nodejs/images/commonjs-node-relation.png","hash":"5cc6679d9fe66c78a61dbacd4e94f3f11fd848d2","modified":1672825520261},{"_id":"public/nodejs/images/fork.png","hash":"d3796212324ee8f24e8405d54ec6ad8e57b49bf8","modified":1672825520261},{"_id":"public/nodejs/images/epoll-loop.png","hash":"bc7af5054040babc3f1af3b688d8764760f7bfb3","modified":1672825520261},{"_id":"public/nodejs/images/how-to-call-async.png","hash":"39ac29400db5abed7d02b2b3e3397cc761006271","modified":1672825520261},{"_id":"public/nodejs/images/http.png","hash":"335a31f82a46e1bf32a09cdd9f51a17aaf827a14","modified":1672825520261},{"_id":"public/nodejs/images/defer-promise.png","hash":"6b8484c9a5882e75524b0944be43b010c22e1d5c","modified":1672825520261},{"_id":"public/nodejs/images/jam.png","hash":"638a73d978e27ade2b7e8e0ac66d340caa63453d","modified":1672825520261},{"_id":"public/nodejs/images/increase-target.png","hash":"55ed1f32bfd6360265eb8b16ce0f0ed2c21c514c","modified":1672825520261},{"_id":"public/nodejs/images/loop-1.png","hash":"7dd0d30cf11ca3d1851d68d9c04b186d0b97aa23","modified":1672825520261},{"_id":"public/nodejs/images/loop.png","hash":"a1b9e75136f79dcccdafc48d6f30606b8664a9f4","modified":1672825520261},{"_id":"public/nodejs/images/net-1.png","hash":"4f9169ff8774a785573375b0eae0bf611d918376","modified":1672825520261},{"_id":"public/nodejs/images/master-slave.png","hash":"4f45a0cadfd5ab7633103418fcf49bcc018da4d2","modified":1672825520261},{"_id":"public/nodejs/images/mvc.png","hash":"f86ed56705edc5f57ab24298801afe09cd4badc6","modified":1672825520261},{"_id":"public/nodejs/images/net-3.png","hash":"8af8561052ec1608a0773304cf04af4234557052","modified":1672825520261},{"_id":"public/nodejs/images/middle.png","hash":"e68b0513b166f049e4f0d72b91e1d5c2c8338747","modified":1672825520261},{"_id":"public/nodejs/images/net-2.png","hash":"1b28b0d5d2ac3d95c136285f9be2d83ba2ba7bdb","modified":1672825520261},{"_id":"public/nodejs/images/net-4.png","hash":"81f06ad4be9d956662e629238db1590287228ce7","modified":1672825520261},{"_id":"public/nodejs/images/node-modules.png","hash":"e5835f2da7cca29d0eb1676c7b081c7122a52528","modified":1672825520261},{"_id":"public/nodejs/images/no-jam.png","hash":"5d4728cbaa1c2f7e680f6f3a12202ec94347211c","modified":1672825520261},{"_id":"public/nodejs/images/nvm-setting-content.png","hash":"8d0ebc40648adcebe40cc663caab2cee4b8f6436","modified":1672825520261},{"_id":"public/nodejs/images/node-require.png","hash":"9e2fd7eee0b6bdf918b4fb34544beb7424702ab8","modified":1672825520261},{"_id":"public/nodejs/images/nvm-setting.png","hash":"742427d031db38180aebc79883d7fe7f2b5082dd","modified":1672825520261},{"_id":"public/nodejs/images/package.png","hash":"dccf0cad2808e81718b9efe11c884aa24fe6b73d","modified":1672825520261},{"_id":"public/nodejs/images/pipe-2.png","hash":"7bda2919687448a1c427e768f6474271782ef1fa","modified":1672825520261},{"_id":"public/nodejs/images/pipe-1.png","hash":"7385963b2e8c0359641f3f3ccf316dbcb60b32f8","modified":1672825520261},{"_id":"public/nodejs/images/pipe-4.png","hash":"ce3c89fb6762678626193ff9fc6aaa9227de6660","modified":1672825520261},{"_id":"public/nodejs/images/product-1.png","hash":"a127d5caca21588163ce2a98490b4f677aeb78c6","modified":1672825520261},{"_id":"public/nodejs/images/poll-loop.png","hash":"8d0bfc2b615eb460d6ab8be0837e523af238c8f0","modified":1672825520261},{"_id":"public/nodejs/images/settimeout.png","hash":"55f051726fe3210ac5ad039ce469da805b5c45de","modified":1672825520261},{"_id":"public/nodejs/images/pipe-3.png","hash":"38b94af4d0d88bef05b17d1233bf2e3b3623b25e","modified":1672825520261},{"_id":"public/nodejs/images/read-loop.png","hash":"8656ba0172108ecb0a251139cbe0a8df61873b40","modified":1672825520261},{"_id":"public/nodejs/images/product.png","hash":"47cef8cf353b57b3a18c013ea8b6bed0a8e617cf","modified":1672825520261},{"_id":"public/nodejs/images/pipe.png","hash":"e92d4834ee1fc339f8d36a745950a10d7633955a","modified":1672825520261},{"_id":"public/nodejs/images/select-loop.png","hash":"bba3437eb7794c0fe3abb77fb37ac8897bf19bb5","modified":1672825520261},{"_id":"public/nodejs/images/sweep-compact.png","hash":"5af9bde21db63d1483a807be5b0f6cde77ef5cda","modified":1672825520261},{"_id":"public/nodejs/images/test-2.png","hash":"e613d096c62a0d27f72b8b50224e5b5fafafc3e9","modified":1672825520261},{"_id":"public/nodejs/images/symlinks.png","hash":"48dd00ba4c43783739716fdc0b0790b0e3187893","modified":1672825520261},{"_id":"public/nodejs/images/test.png","hash":"840cda90b44467e3648decdf62f1d146f1261538","modified":1672825520261},{"_id":"public/nodejs/images/test-1.png","hash":"0bac06c06b58a4a61acd1a6c17971046d56c1d82","modified":1672825520261},{"_id":"public/nodejs/images/tail-trigger.png","hash":"052e9473880c882918ae9b763b9fa6f808bccdf1","modified":1672825520261},{"_id":"public/nodejs/images/v8-promot2.png","hash":"4fe47a4a361987c7928001641f8b092af4f5764a","modified":1672825520261},{"_id":"public/nodejs/images/tls-ssl.png","hash":"e7011243d619ef7b1f2489146744a741d80e027d","modified":1672825520261},{"_id":"public/nodejs/images/v8-promot.png","hash":"28d3849e4e768a3ae7954bae653b55ce6e9a7bb5","modified":1672825520261},{"_id":"public/nodejs/images/websocket.png","hash":"907dcc1e99f2e6d20f1133508ff3b84e1985e065","modified":1672825520261},{"_id":"public/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1672825520261},{"_id":"public/nodejs/images/websocket-1.png","hash":"a6e3598d6c9cdef36c1930c9e7535c3a76b1dcc9","modified":1672825520261},{"_id":"public/images/avatar.gif","hash":"2dbc3e2f2d624b2ca1afe6edc2ca17307f1950c8","modified":1672825520261},{"_id":"public/images/logo-algolia-nebula-blue-full.svg","hash":"b85e274207b1392782476a0430feac98db1e7da0","modified":1672825520261},{"_id":"public/images/logo.svg","hash":"2cb74fd3ea2635e015eabc58a8d488aed6cf6417","modified":1672825520261},{"_id":"public/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1672825520261},{"_id":"public/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1672825520261},{"_id":"public/images/logo.jpeg","hash":"cf0f17140f5d4eefe4607db39c354c73eb9b6500","modified":1672825520261},{"_id":"public/2022/08/04/18-fake-array/document.png","hash":"c0e73c5d922eaf7f899856685f5fbd8245517fe8","modified":1672825520261},{"_id":"public/2022/08/04/18-fake-array/array_from.png","hash":"50733fd866277f6aa27e12e432f2511fa886855f","modified":1672825520261},{"_id":"public/2022/08/04/18-fake-array/prototype_call.png","hash":"166ae1ed6f21a1c4ee961508d06adae89f22c6d6","modified":1672825520261},{"_id":"public/2022/08/04/18-fake-array/slice_call.png","hash":"a97bd9fef96df18bbe6097521df710bd9615090a","modified":1672825520261},{"_id":"public/2022/09/04/24-about-design-model1/abstract-car.png","hash":"63b2384c0b130f2d40907996aeb528d2131ab01f","modified":1672825520261},{"_id":"public/2022/09/04/24-about-design-model1/safe-model-class.png","hash":"90a874baec5df9156cf7b65d7c7754d28c82337e","modified":1672825520261},{"_id":"public/2022/09/04/24-about-design-model1/static-param.png","hash":"ec22668e0901214c3d2efadcdae0ae34f801c2ac","modified":1672825520261},{"_id":"public/2022/09/06/25-about-design-model2/bridge2.png","hash":"0d4e3980c0c177ef97e690e69919f954f2292ddb","modified":1672825520261},{"_id":"public/2022/09/06/25-about-design-model2/bridge1.png","hash":"70973d153e1e628ebf1152bce98b1a68b7530784","modified":1672825520261},{"_id":"public/2022/09/06/25-about-design-model2/bridge3.png","hash":"8358d5a031c07b8a0dbe61df13f0642bf03b7c5d","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/command-model-3.png","hash":"f8973520dfc9d241d4e418d016dbde7cf647482f","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/explain-model-2.png","hash":"13dd495c6f42e9820c60034d2e87bc917486129e","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/observer-regist.png","hash":"160d15173ed43415298e65c9b3d9a63159aacb91","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/entrust-model-2.png","hash":"71764eebae7d27ba83deff08b4d925307914e3d0","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/lazy-model-1.png","hash":"5237b5b92b4b542f593af63d48afb088237eb2ed","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/localstorage-model-1.png","hash":"d78dd470675aa3f2a42ad1ce9617ef7d89e2168a","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/participate-model-2.png","hash":"04cb3a2efcc6a9a9b3cc52a11c14b75ebfa332d6","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/participate-model-1.png","hash":"44ef46104d7428d99d7b80b7ca8e2f9059d02340","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/template-model-6.png","hash":"f34ff79b1d619c45ccb21c2158a4680a6617942f","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/waiter-model-3.png","hash":"b59dca3e470f10063815167bca6227f8341dbc8e","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/waiter-model-8.png","hash":"9be78a26ae2db46d9ec8d4bb36902be64991e2f9","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/async-module-model-2.png","hash":"8898b83e3301783ee9bfb43b2488f4171e86a2bc","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/async-module-model-7.png","hash":"8473d1889cf3ba7e45e0b71a8dd861cc233f05c2","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/async-module-model-9.png","hash":"3959c02225b63e07adce93a968ed0bb0e2e6c365","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/async-module-model-8.png","hash":"3a03fb902c96d787e256412ebc5a604a26aabd93","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/module-model-5.png","hash":"c866de378508cfdbfd9307dd72b719577d2a3cff","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/mvc-model-1.png","hash":"9fe4ed86ba3315ba722de0660cc6ec5770666487","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/mvp-model-1.png","hash":"ff42b48b0eb5f6ac14adc79c348d093c14f164de","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/mvc-model-4.png","hash":"03b64f2faf10dbcc8c3a32fb96b29e0b135f2f49","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/mvvm-model-2.png","hash":"3cb6051a5054c50231162690a8494170b90397f4","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/mvp-model-7.png","hash":"85c76e7e1a84df4345885b58a4495b8472da6c7c","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/widget-model-1.png","hash":"4f89287a4f8aa1122864cbc4c77f89d592a68c45","modified":1672825520261},{"_id":"public/2022/10/08/36-data-structure4/binary-search-tree.png","hash":"ad74f8c6b96f77ca95d6b9b48cf87fda5efcfdbc","modified":1672825520261},{"_id":"public/2022/10/08/36-data-structure4/factorial.png","hash":"ddfb0d84eab3db09c51a4b87376c023e35c597be","modified":1672825520261},{"_id":"public/2022/10/08/36-data-structure4/in-order-traverse.png","hash":"db6c59fc444e910a9921f50bc9e8e66964ef2849","modified":1672825520261},{"_id":"public/2022/10/08/36-data-structure4/left-left-1.png","hash":"655a6a8118dd11fffc1c0bf38c1a06fd9d861fb7","modified":1672825520261},{"_id":"public/2022/10/08/36-data-structure4/left-left-2.png","hash":"31829f0a81c4d517a768b0d824702e96ed38af94","modified":1672825520261},{"_id":"public/2022/10/08/36-data-structure4/left-right-1.png","hash":"b0d03e54c49df4be3cdc60f9436e4ecb40a3c6b6","modified":1672825520261},{"_id":"public/2022/10/08/36-data-structure4/left-right-2.png","hash":"dde339c5a7c4a70be0a832190a2678237f10331d","modified":1672825520261},{"_id":"public/2022/10/08/36-data-structure4/post-order-traverse.png","hash":"aee9c88702a4fa397c4146e997f7ba3504b19a3e","modified":1672825520261},{"_id":"public/2022/10/08/36-data-structure4/pre-order-traverse.png","hash":"d93c415f7de4fd6c9d5bf3dfc7fdaf4484d6173c","modified":1672825520261},{"_id":"public/2022/10/08/36-data-structure4/red-black-2a.png","hash":"618993219918c6d178ac4f468129647d0c0d6f72","modified":1672825520261},{"_id":"public/2022/10/08/36-data-structure4/red-black-2b.png","hash":"88a4290e21e993ca3a39a86a83283bc607f24b9c","modified":1672825520261},{"_id":"public/2022/10/08/36-data-structure4/red-black-3a.png","hash":"6db63a5d31e7477b9d3a7ce036c9607db9262fb8","modified":1672825520261},{"_id":"public/2022/10/08/36-data-structure4/remove-left-right.png","hash":"4141ff9827c5c74323d60196c96038c898c07cf6","modified":1672825520261},{"_id":"public/2022/10/08/36-data-structure4/right-left-1.png","hash":"3d1ec645ec1def7aeb460386d421b9dc3cc684e0","modified":1672825520261},{"_id":"public/2022/10/08/36-data-structure4/right-left-2.png","hash":"9fd153762d1b34409ac583c8dd871153f0ce5fc1","modified":1672825520261},{"_id":"public/2022/10/08/36-data-structure4/red-black-3b.png","hash":"e4f8a20d976abc667a94482eeeeaa0f5281c410e","modified":1672825520261},{"_id":"public/2022/10/08/36-data-structure4/right-right-1.png","hash":"5d6258c158f22e8582f538f06c89dc86bbedfba7","modified":1672825520261},{"_id":"public/2022/10/08/36-data-structure4/right-right-2.png","hash":"b6a6f5a17aa73fc8daf16313e0204a05314c3c16","modified":1672825520261},{"_id":"public/2022/10/08/36-data-structure4/tree.png","hash":"c1a3dff14361fa7bfc3f73bf7391d46c57044737","modified":1672825520261},{"_id":"public/2022/09/23/34-data-structure2/chain-table-1.png","hash":"b4a240e43972349b743117265ca1897051389bed","modified":1672825520261},{"_id":"public/2022/09/23/34-data-structure2/chain-table-2.png","hash":"ea63e231035c3929b320bb52dc63c363a1b1ff39","modified":1672825520261},{"_id":"public/2022/09/23/34-data-structure2/chain-table-3.png","hash":"6db25c5f058ceecae16751cea75e2a13e62a6b3d","modified":1672825520261},{"_id":"public/2022/09/23/34-data-structure2/chain-table-4.png","hash":"04054fdc4cbdfb48b13bde3769b7ccb590e6bff9","modified":1672825520261},{"_id":"public/2022/09/29/35-data-structure3/linear-probing.png","hash":"0a020e8afc93027a2f5d6873414f7afbfa4b6f83","modified":1672825520261},{"_id":"public/2022/09/29/35-data-structure3/lose-lose.png","hash":"55e49878d996f933010c1ac93b306b407a74019a","modified":1672825520261},{"_id":"public/2022/09/29/35-data-structure3/move-key.png","hash":"ebb4944fee6e7aa9426ad27101ccaaca152e2fa2","modified":1672825520261},{"_id":"public/2022/09/29/35-data-structure3/soft-delete.png","hash":"f8fc5195e6b92a91af6b1a283be51fea18d95ccb","modified":1672825520261},{"_id":"public/2022/09/29/35-data-structure3/sperate-chain.png","hash":"1c7b05c0f24bd68757a3497182c41da36cf91bbc","modified":1672825520261},{"_id":"public/2022/10/13/38-data-structure6/search-2.png","hash":"3626ed24aaf5d1563eb1daa3a4f8d5136150bb83","modified":1672825520261},{"_id":"public/2022/10/13/38-data-structure6/search-1.png","hash":"a844a9c7aabbe1a2fc3c7151e88a35f494e9d09b","modified":1672825520261},{"_id":"public/2022/10/13/38-data-structure6/search-4.png","hash":"ecf4e1f8dd0fdf38b91d89de529f09da6eb88dd8","modified":1672825520261},{"_id":"public/2022/10/13/38-data-structure6/search-3.png","hash":"719072030a73de7c3054974d55b626d221894218","modified":1672825520261},{"_id":"public/2022/10/13/38-data-structure6/sort-1.png","hash":"97f90c860ce1d2669135aa5a7a474aeb7a799ad6","modified":1672825520261},{"_id":"public/2022/10/13/38-data-structure6/sort-10.png","hash":"cbb2fbde7d06aae552356dd7e4c65274d322f0fe","modified":1672825520261},{"_id":"public/2022/10/13/38-data-structure6/sort-11.png","hash":"067113a10d14e5524fe4e7972c61d1b077811134","modified":1672825520261},{"_id":"public/2022/10/13/38-data-structure6/sort-4.png","hash":"273c67388337e6e5eeb6c6e3486e5047d8d02321","modified":1672825520261},{"_id":"public/2022/10/13/38-data-structure6/sort-2.png","hash":"a63daadd4590ed6b4ad7519bd1a14ae4be364a64","modified":1672825520261},{"_id":"public/2022/10/13/38-data-structure6/sort-3.png","hash":"913bb3906ff437f6dfe6a773b852918b7a49ae0d","modified":1672825520261},{"_id":"public/2022/10/13/38-data-structure6/sort-12.png","hash":"a8fdcaca8fd646997a58eca48c76809cb25c7571","modified":1672825520261},{"_id":"public/2022/10/13/38-data-structure6/sort-5.png","hash":"05867cc82ce12a1a2b6c92d0d37e2155df04d0a5","modified":1672825520261},{"_id":"public/2022/10/13/38-data-structure6/sort-6.png","hash":"c4802ae6c84bee330fec94ddd888543a590ec692","modified":1672825520261},{"_id":"public/2022/10/13/38-data-structure6/sort-7.png","hash":"681be89ab6425489c526125d890ae38ef8ee1435","modified":1672825520261},{"_id":"public/2022/10/13/38-data-structure6/sort-8.png","hash":"f62f618f88c3715fa98532f136e36afea5153b3b","modified":1672825520261},{"_id":"public/2022/10/13/38-data-structure6/sort-9.png","hash":"b1a616076a59411ae21537a155e8f12e198c78b0","modified":1672825520261},{"_id":"public/2022/10/08/37-data-structure5/graph-1.png","hash":"a1b2db6ab3de04b1adf413855eaa4220c96ae523","modified":1672825520261},{"_id":"public/2022/10/08/37-data-structure5/graph-10.png","hash":"be4ed69d06ae7dcea2b875b3b0ce92922a7fd0b2","modified":1672825520261},{"_id":"public/2022/10/08/37-data-structure5/graph-11.png","hash":"070f67f44e46097fb8750af9a315c9bca7fc6c0f","modified":1672825520261},{"_id":"public/2022/10/08/37-data-structure5/graph-12.png","hash":"b557ac7c33f3672b559a4a1eacf84aba2fcff1cf","modified":1672825520261},{"_id":"public/2022/10/08/37-data-structure5/graph-13.png","hash":"0ef979dea025ae063ccc8477915e14c2bada6f77","modified":1672825520261},{"_id":"public/2022/10/08/37-data-structure5/graph-2.png","hash":"f56455b618e7b41e84fba80e91ade7ed29df91ca","modified":1672825520261},{"_id":"public/2022/10/08/37-data-structure5/graph-3.png","hash":"4bca0b6ea37be10e8ab4b015ab1879bc9c95f98b","modified":1672825520261},{"_id":"public/2022/10/08/37-data-structure5/graph-4.png","hash":"47bcd4a1de612d5af3bd3301602b4b6bc07b4c6a","modified":1672825520261},{"_id":"public/2022/10/08/37-data-structure5/graph-5.png","hash":"a85fa2dffae020f8d02eebce15b1592e9b222a5e","modified":1672825520261},{"_id":"public/2022/10/08/37-data-structure5/graph-6.png","hash":"3781b637547025de758bec7262c50fe45bb57774","modified":1672825520261},{"_id":"public/2022/10/08/37-data-structure5/graph-7.png","hash":"dbd8e52679bcbf321c3a8d17006729c4af0c87ad","modified":1672825520261},{"_id":"public/2022/10/08/37-data-structure5/graph-8.png","hash":"93de61e5c29df7b193e41f2595521446bc81226d","modified":1672825520261},{"_id":"public/2022/10/08/37-data-structure5/heat.png","hash":"a37ac1abfbbf1bd9742deec30a783d0f90e49657","modified":1672825520261},{"_id":"public/2022/10/08/37-data-structure5/min-heat.png","hash":"c2c5f8cc68ba6cf3d89bebb94c0a7a7d22c1e5a0","modified":1672825520261},{"_id":"public/2022/10/13/39-data-structure7/big-o-1.png","hash":"bfc4e8cd9822858a4f5afd7ea21ac69ae391248f","modified":1672825520261},{"_id":"public/2022/10/17/40-tail-call/call-stack.png","hash":"9ceba234d31d636baca2b4f2af1384b6b25d4a4a","modified":1672825520261},{"_id":"public/2022/10/13/39-data-structure7/big-o-2.png","hash":"5abf1a71a4b31ade53b60d5d6edf850266d502e2","modified":1672825520261},{"_id":"public/2022/10/13/39-data-structure7/big-o-3.png","hash":"b7140be66eb3272f0dd9c183b48cfb8555cb4511","modified":1672825520261},{"_id":"public/2022/10/13/39-data-structure7/big-o-4.png","hash":"75fd12b92a8ef511524bb5306c73fb63346d586d","modified":1672825520261},{"_id":"public/2022/10/13/39-data-structure7/big-o-5.png","hash":"0e81454c15a22289ae8fd29e9ba356f9058ca226","modified":1672825520261},{"_id":"public/2022/10/13/39-data-structure7/big-o-6.png","hash":"443cef5a2ff290edd7a7b9f9c3e4580e9d8375b3","modified":1672825520261},{"_id":"public/2022/10/13/39-data-structure7/technology-1.png","hash":"25d324e43b4ae5d4921a2fa9bf40479a54ba55d2","modified":1672825520261},{"_id":"public/2022/10/13/39-data-structure7/technology-2.png","hash":"00436e4649e1f7cdeecb39e78e1cece84a8c0591","modified":1672825520261},{"_id":"public/2022/10/13/39-data-structure7/technology-4.png","hash":"956d458c4792a6a56ad0f9292f3e7773bafca1d1","modified":1672825520261},{"_id":"public/2022/10/13/39-data-structure7/technology-3.png","hash":"fe308b75c03e0efc9bc24154073ae4a31c1fc73f","modified":1672825520261},{"_id":"public/2022/10/13/39-data-structure7/technology-5.png","hash":"61dc4bb992375a4f2d5c5b5afdb594877f58510a","modified":1672825520261},{"_id":"public/2022/06/22/6-vue3-render/render.png","hash":"0b20ebf2700ccd675e40f6330e07dce8341807a0","modified":1672825520261},{"_id":"public/nodejs/images/nvm-download.png","hash":"1fddd6469f02c83d3c54603c3f43a72224565a29","modified":1672825520261},{"_id":"public/nodejs/images/nvm-install.png","hash":"347c3fe9e8ac21a112d1eba02b594b5f5b2af672","modified":1672825520261},{"_id":"public/images/avatar.jpg","hash":"6c8990146a8952732d3fa65f7933f4644c62f475","modified":1672825520261},{"_id":"public/2022/09/04/24-about-design-model1/abstract-factory2.png","hash":"a1a8a6b4b0c2aa47bbc543add6b6a675670b41ce","modified":1672825520261},{"_id":"public/2022/09/04/24-about-design-model1/human.png","hash":"f78b9964ce7223cc99122c99667673d9242df348","modified":1672825520261},{"_id":"public/2022/09/04/24-about-design-model1/name.png","hash":"d46e84150e7fdea9eb17d8ad0624e7eb79654ace","modified":1672825520261},{"_id":"public/2022/09/04/24-about-design-model1/lazy-single-instance.png","hash":"4bbd91090a4364cc48ec5cf388ae29f1f3626b8a","modified":1672825520261},{"_id":"public/2022/09/04/24-about-design-model1/person.png","hash":"12e19fccdb8ee0dea2ec9e55c4f55125a536b76e","modified":1672825520261},{"_id":"public/2022/09/04/24-about-design-model1/prototype-inherit2.png","hash":"cd61b59785ea6144fabce855bd363ff7906468a9","modified":1672825520261},{"_id":"public/2022/09/06/25-about-design-model2/decorator.png","hash":"a0fdfe4dc2b74b52a33fd13ed7e1b3c1fba8480e","modified":1672825520261},{"_id":"public/2022/09/06/25-about-design-model2/out-look.png","hash":"d9f11180b44ccded8da8ecba5593bdd6ebd58eb4","modified":1672825520261},{"_id":"public/2022/09/06/25-about-design-model2/station-culculate.png","hash":"26cda447bac04b0260f0ec11ca1dcb836f93855a","modified":1672825520261},{"_id":"public/2022/08/20/23-about-design-model/how-to-inherit.png","hash":"2610b10429de1454b684733ede30778da89da750","modified":1672825520261},{"_id":"public/2022/08/20/23-about-design-model/prototype.png","hash":"fe3518ce58c5945b8f5db473d69be75f67a98b0a","modified":1672825520261},{"_id":"public/2022/08/20/23-about-design-model/prototype-inherit.png","hash":"a5f0085a3caf9e0519fe3cb26129dd144cfc7594","modified":1672825520261},{"_id":"public/2022/08/20/23-about-design-model/parasitic-inherit.png","hash":"dcde79d7db360d5f56bf441be778908d3056f693","modified":1672825520261},{"_id":"public/2022/08/20/23-about-design-model/public-and-private.png","hash":"275fce752eaeadf6eee22e10bf14451ed9eb675c","modified":1672825520261},{"_id":"public/2022/08/20/23-about-design-model/static-and-public.png","hash":"aef2330dce27ebc420b7654abdf1859266ec48a4","modified":1672825520261},{"_id":"public/2022/08/20/23-about-design-model/simple-factory2.png","hash":"e8d75951fa119c24b2c188eb639f16a32bf70928","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/add-message.png","hash":"03712141c27e51d24f4361c6c48a609b366f5692","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/observer-fire.png","hash":"0204e744bdcb2480cae91e03d4e79c26913cf85a","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/marry-state1.png","hash":"2f5c004568231ff2a14ab499c91aabd48c302f28","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/observer.png","hash":"05738a02cd73736025351c0e9e3fc0d0de27158f","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/regist-change-num.png","hash":"3aa9791db11e1985c21e29959201f022a0f98a88","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/chain-model-2.png","hash":"8a59f234053c9a85a94f74273fafed9051ec578d","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/chain-model-1.png","hash":"ac13400dfce89f26fe4bcadca5c2a1f4994083ca","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/chain-model-4.png","hash":"33fa9dc7cb773d0e519dcb4a4a5869aa78234950","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/observer-remove.png","hash":"e0e97122604f5eaa716042ffd19d7e6fc4d9535f","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/entrust-model-1.png","hash":"900a7cc246a17adae923b5e0b87d5b8b8d255674","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/lazy-model-2.png","hash":"29a6f621b06f9283d3caff7d3c63f7c711095978","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/lazy-model-3.png","hash":"7cf3eba1156eb71177fee16c281edfd2f7d3d0e0","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/lazy-model-6.png","hash":"bb1487d2e1e38d3c2ea4cb6dcc310f0025664444","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/lazy-model-5.png","hash":"ce1428d6b73612a3290d3cbd0efa607829fdb233","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/participate-model-3.png","hash":"257320d7e940dcef49305ea8d1642621bfbf3ff1","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/participate-model-4.png","hash":"5f13e728cfa8cf2eabd3925f1a0798bc905d267b","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/template-model-1.png","hash":"41e2537938230a77a4072987778016031fe92291","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/participate-model-5.png","hash":"9694840f32c90094e37228de41fc2cfdf4f66388","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/template-model-3.png","hash":"3a24763c6d9e280dd6c26d966da99ceb0d658ec5","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/template-model-4.png","hash":"b301423b25f6447a52369e96a6f0d1c3b93da6c5","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/waiter-model-4.png","hash":"ad67d02d972353793d59f1ca5f1191fb9a220e52","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/waiter-model-5.png","hash":"30412937d3a27e5d8bf1db0d87fce38a8d59839e","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/waiter-model-6.png","hash":"007198e00695be520e246815152687e250bf4941","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/waiter-model-7.png","hash":"0eefaa7468c3726aecd02980b1c10574a1d06c40","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/async-module-model-4.png","hash":"731b4ee9c777c9d9bd6664bf674e1abf1f48af65","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/async-module-model-5.png","hash":"436f66ba99f8bd7400ad91b3d857d255f6f3034c","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/module-model-3.png","hash":"aa42c569b2a73fae726d6518fda8a48a325c5a3f","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/module-model-2.png","hash":"a22fb6b41b50875766d5382664361095fca59051","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/mvc-model-3.png","hash":"28fd4de773e1352941b4b0773858520ec4e21039","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/mvp-model-4.png","hash":"59ab08a2d276eb142c4789000d2c484aaaeb4890","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/mvvm-model-3.png","hash":"b4f73f397dcb296b03350b04390a8f2cdc0906d4","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/mvvm-model-7.png","hash":"4d8187320d10b1bb36a49169575baf54fe7e7a71","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/widget-model-4.png","hash":"7c2ca9c608b6829fa768590455a8785c9ff13781","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/widget-model-5.png","hash":"5ff7151981d6c83fa8a45556de7e17f4e527c093","modified":1672825520261},{"_id":"public/2022/10/08/37-data-structure5/heap-sort.png","hash":"a344a2264bed09372c160b691a6e0a581bea3bd6","modified":1672825520261},{"_id":"public/2022/10/08/37-data-structure5/min-heat-pic.png","hash":"6d8794be490f9dd7f0664813070eea6169c49181","modified":1672825520261},{"_id":"public/2022/06/22/5-react-render/force_update.png","hash":"f0333239066cd2e4a8cdf12bff8fcdfcc01a7616","modified":1672825520261},{"_id":"public/2022/06/22/5-react-render/update_class.png","hash":"5854028928496a0b6c4ad02452cd07c12650f8e8","modified":1672825520261},{"_id":"public/2022/06/22/6-vue3-render/render_node1.png","hash":"4a4266c87a315afeb55de174b11784431f3c40b9","modified":1672825520261},{"_id":"public/2022/06/22/6-vue3-render/render_node2.png","hash":"bd8cbab05ce653b80a1cc89e609b7ae9c309b7fe","modified":1672825520261},{"_id":"public/css/noscript.css","hash":"ec89b3425fbce20863d554c6fd495ea29c3c303d","modified":1672825520261},{"_id":"public/js/bookmark.js","hash":"0f563ffbf05fad30e854e413ab17ff7164ab5a53","modified":1672825520261},{"_id":"public/js/comments.js","hash":"66ae2e26ea36a41b72c638ea8b220296638ae952","modified":1672825520261},{"_id":"public/js/motion.js","hash":"f7c825cbff11885fa0dffa64824fd00e505d6a8d","modified":1672825520261},{"_id":"public/js/comments-buttons.js","hash":"1a7344440321713426a0b2ab17e276b5bdf85ade","modified":1672825520261},{"_id":"public/js/config.js","hash":"4c4ebbe3b3f3841a26f9d5af6d0ba8bc6da01c54","modified":1672825520261},{"_id":"public/js/next-boot.js","hash":"da0f07f9eaaa83de70128b0feaea3fdadb90457a","modified":1672825520261},{"_id":"public/js/schedule.js","hash":"a1333258726caf84f368a8f8454639c7dc1626bb","modified":1672825520261},{"_id":"public/js/pjax.js","hash":"919f5281c4a04d11cfd94573ecf57b3dbabd3cc8","modified":1672825520261},{"_id":"public/js/utils.js","hash":"200088bfd042f5304b2a04befab0829148845e0e","modified":1672825520261},{"_id":"public/js/schemes/muse.js","hash":"9794bd4fc6a458322949d6a0ade89cd1026bc69f","modified":1672825520261},{"_id":"public/js/third-party/fancybox.js","hash":"c098d14e65dd170537134358d4b8359ad0539c2c","modified":1672825520261},{"_id":"public/js/third-party/pace.js","hash":"0ef04218b93561ba4d0ff420d556c3d90a756d32","modified":1672825520261},{"_id":"public/js/third-party/rating.js","hash":"4e92c2d107ba47b47826829f9668030d5ea9bfb8","modified":1672825520261},{"_id":"public/js/third-party/quicklink.js","hash":"eed02e6fced8e5a653077205d4d4d7834ca71472","modified":1672825520261},{"_id":"public/js/third-party/analytics/baidu-analytics.js","hash":"f629acc46ff40c071ffd31b77d5c7616f0fdd778","modified":1672825520261},{"_id":"public/js/third-party/chat/chatra.js","hash":"c32180522788c10e51df1803aa6842ef0432ddc9","modified":1672825520261},{"_id":"public/js/third-party/analytics/growingio.js","hash":"78dd3cf04082b7dbe6246e404b2aa8e726922402","modified":1672825520261},{"_id":"public/js/third-party/chat/gitter.js","hash":"cc38c94125f90dadde11b5ebac7d8bf99a1a08a2","modified":1672825520261},{"_id":"public/js/third-party/chat/tidio.js","hash":"b0079f6a4601e06ca6fe46e83a2f5af553e9bc3c","modified":1672825520261},{"_id":"public/js/third-party/comments/changyan.js","hash":"260d1a77d6a3bb33a579d3e4cca1997003e799b5","modified":1672825520261},{"_id":"public/js/third-party/comments/livere.js","hash":"2247d88c934c765c43013337860774aaa99f0b31","modified":1672825520261},{"_id":"public/js/third-party/analytics/google-analytics.js","hash":"59684383385059dc4f8a1ff85dbbeb703bcdbcb5","modified":1672825520261},{"_id":"public/js/third-party/comments/utterances.js","hash":"f67f90eb03e284c82da2b8cf2f1e31801813c16d","modified":1672825520261},{"_id":"public/js/third-party/comments/disqusjs.js","hash":"b6c58f098473b526d6a3cd35655caf34b77f7cff","modified":1672825520261},{"_id":"public/js/third-party/comments/gitalk.js","hash":"0ec038cf83e8ec067534f16a54041e47a3c1e59a","modified":1672825520261},{"_id":"public/js/third-party/math/mathjax.js","hash":"5c749b9c1c3bb738122d0516211ecff6496d4907","modified":1672825520261},{"_id":"public/js/third-party/comments/isso.js","hash":"753a873b6f566aff5ba77ca23f91b78eb880ca64","modified":1672825520261},{"_id":"public/js/third-party/math/katex.js","hash":"83c54ee536e487a1031783443fe0cb63b1b4767e","modified":1672825520261},{"_id":"public/js/third-party/statistics/firestore.js","hash":"411a72df581f5b21317dc28633c7993207eb9e1c","modified":1672825520261},{"_id":"public/js/third-party/comments/disqus.js","hash":"e1cc671b0d524864fd445e3ab4ade9ee6d07e565","modified":1672825520261},{"_id":"public/js/third-party/statistics/lean-analytics.js","hash":"5a928990856b8e456f0663cf3b6b406733672e39","modified":1672825520261},{"_id":"public/js/third-party/tags/mermaid.js","hash":"f27d817b0c2138dd3215b1f46af0753f60a008f3","modified":1672825520261},{"_id":"public/js/third-party/tags/pdf.js","hash":"af78c22f0e61c8c8aa8794e585e0d632c6d4fcb8","modified":1672825520261},{"_id":"public/js/third-party/search/algolia-search.js","hash":"fdb7b7cef1a147d897e7f7cd8903b58368ec2062","modified":1672825520261},{"_id":"public/js/third-party/search/local-search.js","hash":"4536cb6d0a9bbaaa86fab3fa0101f6a3a3ec5a76","modified":1672825520261},{"_id":"public/2022/07/19/15-js-transform/js-transform.html","hash":"18caf0ae505ad384d3fa4c402aaf049e263f6fc0","modified":1672825520261},{"_id":"public/css/main.css","hash":"b4ee45f983412d5fa84f99c4991fbc24d0bc8a7e","modified":1672825520261},{"_id":"public/2022/07/19/15-js-transform/convert-table.png","hash":"fdffd1b86ddacb402a9a3a423cffd91fcc229fce","modified":1672825520261},{"_id":"public/2022/09/04/24-about-design-model1/abstract-factory3.png","hash":"565cc1a91ec9f7f4113759d8ee84d9e7e5765dec","modified":1672825520261},{"_id":"public/2022/09/04/24-about-design-model1/abstract-factory1.png","hash":"27096d5d5c2a949d2b5a0b8b4483cd0955007a30","modified":1672825520261},{"_id":"public/2022/09/04/24-about-design-model1/prototype-inherit1.png","hash":"3d8d602b70b2a85f84ccb77667bfdf58688ef1e6","modified":1672825520261},{"_id":"public/2022/09/04/24-about-design-model1/safe-factory-model.png","hash":"1d4838406d573590c135cb651e98e970dd03d761","modified":1672825520261},{"_id":"public/2022/08/20/23-about-design-model/class-inherit.png","hash":"7316cf53af5ae3d11eb708f911ddc2b9fbf35027","modified":1672825520261},{"_id":"public/2022/08/20/23-about-design-model/create-pop.png","hash":"43feb1eed0b060643140cfa80c073e12729b47af","modified":1672825520261},{"_id":"public/2022/08/20/23-about-design-model/multiple-inherit.png","hash":"3370f1d5c3f1c73449ddc04e438559b4a0925ad0","modified":1672825520261},{"_id":"public/2022/08/20/23-about-design-model/parasitic-inherit-change.png","hash":"0b683e58266a2816c17a932a910be6ce1bdbbf1e","modified":1672825520261},{"_id":"public/2022/08/20/23-about-design-model/parasitic-combination-inherit.png","hash":"5b7c9be2d070fe04cd77d8923eaa4e1585ad9e02","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/command-model-2.png","hash":"394963fe76e75b6ff152d0bc64eb440812f181e4","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/create-component.png","hash":"313f9c4b04afdb3c0bbb24d02394ff7ed7f7afa9","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/deal-data.png","hash":"229c21fa8cd0891d9cf137520e2756088d805b32","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/marry-state.png","hash":"9d3b9fd7f74062d32194ddee1084db94ab8f2f5e","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/send-data.png","hash":"f2dd937ad9d5dbd6373c78b766b0ca7d18689bb8","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/vote-status.png","hash":"ce2f7e1b2250efafac59e7e0a6c69a8f2f57e1fb","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/chain-model-5.png","hash":"6c1d9aaa8a2f5c8a33e827428f33df74156af591","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/chain-model-6.png","hash":"0a2af8c6826567da8695e8010d13bf7101a75d0a","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/lazy-model-4.png","hash":"d2cec3917cabaf4da67a6ac877730c32d27d6b82","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/localstorage-model-2.png","hash":"b130a85fa7ca8cc738c636091e35ce86095e4da4","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/localstorage-model-4.png","hash":"c7d8b6cd9bc0093ceaaa9a731d6b721dabf0c2e2","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/template-model-5.png","hash":"a615f27465cba32bd7ef16f4aa2d229123c6cd04","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/template-model-2.png","hash":"f0f1cf1e6328ed7dd2da13e3ef19f0ba3090d50b","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/throttle-model-2.png","hash":"4d06f2204e6a312ad534b08e4aa3a0cc199b0fe4","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/throttle-model-3.png","hash":"9ba30093c88bda5cdf0b74397078c98615ab14e8","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/waiter-model-1.png","hash":"4ecd76529d5af3bab1200944f956550c438d7e4c","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/waiter-model-2.png","hash":"115d73933b2c9e3b333f0173a9c67b40b82b360e","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/appendix-1.png","hash":"63d1fb2d7060dc8e20879b271cfc0fae5ba53ce5","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/appendix-10.png","hash":"47f4c469384a2ae6ee68920c9c9d056323bc6964","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/async-module-model-3.png","hash":"955761aa1d41f38f58070239091ec7ef56eab433","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/async-module-model-6.png","hash":"c0234e34b71f60317c8532f9b4332297ddbfc3b2","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/mvp-model-2.png","hash":"a05c2d67784dc8a0c9dadb55ff4cb313ff0a4581","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/mvp-model-5.png","hash":"b38b48df97224ac10c391b5231c27b5ff9439d15","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/mvp-model-6.png","hash":"b678a14aa7203ed211d9b03cc517629296d39ccb","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/mvvm-model-1.png","hash":"dec3d9b3d1b759d8ab97b596942a57870ea5e899","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/mvvm-model-5.png","hash":"f5b38278a65c50724df598782714d46b16198ddb","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/mvvm-model-8.png","hash":"ae0f8837c7bf0b7cebcf1b643602ef1b7c91d9b0","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/widget-model-2.png","hash":"d5b2a749b270b467d4e5ca0442f079ad0d68c0ad","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/widget-model-3.png","hash":"8caaa1350394bb4924a26779474bd8ffdedfd1a3","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/widget-model-6.png","hash":"17625b96826cacb789210181082942b9d92c9685","modified":1672825520261},{"_id":"public/2022/10/08/37-data-structure5/graph-9.png","hash":"3e0a9c9a2cb3f8145448b3dab7b9066c53f468d2","modified":1672825520261},{"_id":"public/2022/06/22/5-react-render/fiber_tree.png","hash":"947d11b845e1abb74cbb2d4e135767a377692041","modified":1672825520261},{"_id":"public/2022/06/22/6-vue3-render/render_function.png","hash":"ab09e61382c872069a70212525d4333d6ba8cd19","modified":1672825520261},{"_id":"public/2022/09/04/24-about-design-model1/work.png","hash":"85878cbf259712eba4a4d960bef9fc8f72361f7d","modified":1672825520261},{"_id":"public/2022/08/20/23-about-design-model/multiple-status.png","hash":"99f1acc2445ec0c692d48660ddbd71b510f1284b","modified":1672825520261},{"_id":"public/2022/08/20/23-about-design-model/safe-model.png","hash":"8ddf098b287fc1582ef3c57f6641b8cdfe529ee0","modified":1672825520261},{"_id":"public/2022/08/20/23-about-design-model/simple-factory1.png","hash":"7a9ab5660cbd92e1e0f851985402404fb0f49814","modified":1672825520261},{"_id":"public/2022/08/20/23-about-design-model/test-prototype-inherit.png","hash":"ffe8e406495b76ed7e8fa5fa95247335f0842bd8","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/basic-model.png","hash":"d11299e00239d8eee68fa84742cf934d7b2b7455","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/cache-model.png","hash":"849dac393027d49c7932b80aeacdeb6dc665ad8d","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/command-model-1.png","hash":"e8f27f13a8b8964e1f98cf90c9d11336745ce4cd","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/explain-model-1.png","hash":"b41f3ee9472b65e45fd3699586fe343b90801e1c","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/explain-model-3.png","hash":"7090631280b778e1a081cf14ee1aef4eaddf2724","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/inherit-model.png","hash":"c458570cfbf5cb544f160dbf7f5ea2688eb54cfe","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/inherit-as-basic-model.png","hash":"04bcb6c49805f61c210a276673688925342a97a2","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/mediator-model.png","hash":"037a378a4fd6a9b68621c714239390a175768283","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/price-strategy.png","hash":"8c9b4bc9e46d85dbd5ff1db682f35d7727ac2d24","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/regist-message.png","hash":"94993ad78c5391eb4cc60f851d1bf5de794d680a","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/visitor-model.png","hash":"b47054fdf9198975a39ebfc6b4ea46cb988dc080","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/chain-model-3.png","hash":"de232baf72880e1c2bfca1e52ca3dece90b30922","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/localstorage-model-3.png","hash":"0dd09a8620412a0a10e0749a2eae5b990e14131f","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/localstorage-model-5.png","hash":"f60b1b8098b39c8d16bef6ce21e93f80eed6a06d","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/localstorage-model-6.png","hash":"af1bc9d6bd7aa6c6582b3b498aaace38b3beb7d0","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/participate-model-6.png","hash":"a27676bb25d07081323b4801ff167a2f9c830583","modified":1672825520261},{"_id":"public/2022/09/19/27-about-design-model4/throttle-model-1.png","hash":"efe9c32037c01c30eef7c906b1477675a4b22296","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/appendix-3.png","hash":"972a431f1b9f113e9c28acd09c21965abf3ae776","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/appendix-4.png","hash":"0caa8c2b2efef085bf73708c696b163b27cf4acd","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/appendix-5.png","hash":"7d00695f69933f1493a5b215459372aa8922aa90","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/appendix-2.png","hash":"c793bb154006138580dfe636e8e96f48af31c136","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/appendix-6.png","hash":"ebaf47a4d6e618ed357e3ef105bf1a78aac86dcd","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/appendix-7.png","hash":"c12235fa4218a1f12d5f04de3c292d9d8a1cc606","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/appendix-8.png","hash":"acc5e67aafb4ec4d3a10ca9507832f965d05bb86","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/appendix-9.png","hash":"5128c7e89b6784e2e75e7f74154a3a2a36859a4a","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/module-model-4.png","hash":"0591ff679bd8b40d96b399c2df5db22e5d6857f1","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/mvc-model-2.png","hash":"2ad2eeb884aac27d63ceb815d119f4bdab3b28bf","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/mvvm-model-6.png","hash":"7d62d18ec951b6be1b53157c9380618cb8f65cc2","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/mvvm-model-4.png","hash":"362b306d44bd195ca4adee181dabcbbb524da1ac","modified":1672825520261},{"_id":"public/2022/09/04/24-about-design-model1/prototype-model.png","hash":"7e1b5e0841203ae571b20c1c21fc40fb6589f946","modified":1672825520261},{"_id":"public/2022/08/20/23-about-design-model/combination-inherit.png","hash":"51a2c5f4775a37e5f2a21ab257749912178476c3","modified":1672825520261},{"_id":"public/2022/09/07/26-about-design-model3/iterator-model.png","hash":"b372e782497790afdac5ef90a53eb4ecd88bc18f","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/async-module-model-1.png","hash":"f465cd97d9c16ecea67b0d0f8ee7d3bb6ebb545c","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/module-model-1.png","hash":"940ec1732a0d822780c486ccb9ffc6cc29119a6f","modified":1672825520261},{"_id":"public/2022/09/20/28-about-design-model5/mvp-model-3.png","hash":"f3ebcf32efc3e9b536605c9df96654c81cfc9b82","modified":1672825520261},{"_id":"public/2022/08/20/23-about-design-model/constructor-inherit.png","hash":"e1eb49fe9cd4796f60678113b6f865f2e1576464","modified":1672825520261},{"_id":"public/2022/06/22/6-vue3-render/vue3_render.png","hash":"c27773553432184cba670aac70e69865c21a4727","modified":1672825520261}],"Category":[],"Data":[],"Page":[{"_content":"#### This is Sun Jinkangs page.\n\n* [Post](/archives/)\n* [vue](/vue/)\n* [Nodejs](/nodejs/)\n\n\n[](/2022/07/05/13-document-location/)","source":"index.md","raw":"#### This is Sun Jinkangs page.\n\n* [Post](/archives/)\n* [vue](/vue/)\n* [Nodejs](/nodejs/)\n\n\n[](/2022/07/05/13-document-location/)","date":"2022-11-01T03:12:11.961Z","updated":"2022-11-01T03:12:11.961Z","path":"index.html","title":"","comments":1,"layout":"page","_id":"clchh4gw80000ckttea1i5dsz","content":"<h4 id=\"This-is-Sun-Jinkangs-page\"><a href=\"#This-is-Sun-Jinkangs-page\" class=\"headerlink\" title=\"This is Sun Jinkangs page.\"></a>This is Sun Jinkangs page.</h4><ul>\n<li><a href=\"/archives/\">Post</a></li>\n<li><a href=\"/vue/\">vue</a></li>\n<li><a href=\"/nodejs/\">Nodejs</a></li>\n</ul>\n<p><a href=\"/2022/07/05/13-document-location/\"></a></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"This-is-Sun-Jinkangs-page\"><a href=\"#This-is-Sun-Jinkangs-page\" class=\"headerlink\" title=\"This is Sun Jinkangs page.\"></a>This is Sun Jinkangs page.</h4><ul>\n<li><a href=\"/archives/\">Post</a></li>\n<li><a href=\"/vue/\">vue</a></li>\n<li><a href=\"/nodejs/\">Nodejs</a></li>\n</ul>\n<p><a href=\"/2022/07/05/13-document-location/\"></a></p>\n"},{"title":"2.x3.x","date":"2022-01-25T06:17:57.000Z","_content":"### \n|  API | Hook inside setup |\n| :------: | :------: |\n| beforeCreate | Not needed* |\n| created | Not needed* |\n| beforeMount | onBeforeMount |\n| mounted | onMounted |\n| beforeUpdate | onBeforeUpdate |\n| updated | onUpdated |\n| beforeUnmount | onBeforeUnmount |\n| unmounted | onUnmounted |\n| errorCaptured | onErrorCaptured |\n| renderTracked | onRenderTracked |\n| renderTriggered | onRenderTriggered |\n| activated | onActivated |\n| deactivated | onDeactivated |\n\n### vue3\n\n### \n\n\n### template\n Vue 2.x  template \n Vue 3.x  innerHTML\n\n###  class \nv-enterv-enter-fromv-leavev-leave-from\n\n### <transition> prop \nleave-classleave-from-class( JSX leaveFromClass)\nenter-classenter-from-class( JSX enterFromClass)\n\n### Transition Group \n<transition-group>tagattribute  tag='span' \n\n### v-on.native\nv-on.nativeemitsVue  (inheritAttrs: false)\n\n### v-if  v-for \n| vue2 | vue3 |\n| :--- | :--- |\n| v-ifv-forv-for | v-ifv-for |\n\n### v-bind \n| vue2 | vue3 |\n| :--- | :--- |\n| v-bind=\"object\" attribute attribute object | v-bind=\"object\" attribute |\n\n### VNode \n| vue2 | vue3 |\n| :--- | :--- |\n| ,hook: | vnode- HTML  |\n\nvnode-@vnode-updated=\"onUpdated\"vnode@vnodeUpdated=\"onUpdated\"\nbeforeDestroydestroyedbeforeUnmountunmounted\n\n[vue2(vue3)](https://v3.cn.vuejs.org/guide/migration/introduction.html)\n","source":"vue/change.md","raw":"---\ntitle: 2.x3.x\ndate: 2022-01-25 14:17:57\n---\n### \n|  API | Hook inside setup |\n| :------: | :------: |\n| beforeCreate | Not needed* |\n| created | Not needed* |\n| beforeMount | onBeforeMount |\n| mounted | onMounted |\n| beforeUpdate | onBeforeUpdate |\n| updated | onUpdated |\n| beforeUnmount | onBeforeUnmount |\n| unmounted | onUnmounted |\n| errorCaptured | onErrorCaptured |\n| renderTracked | onRenderTracked |\n| renderTriggered | onRenderTriggered |\n| activated | onActivated |\n| deactivated | onDeactivated |\n\n### vue3\n\n### \n\n\n### template\n Vue 2.x  template \n Vue 3.x  innerHTML\n\n###  class \nv-enterv-enter-fromv-leavev-leave-from\n\n### <transition> prop \nleave-classleave-from-class( JSX leaveFromClass)\nenter-classenter-from-class( JSX enterFromClass)\n\n### Transition Group \n<transition-group>tagattribute  tag='span' \n\n### v-on.native\nv-on.nativeemitsVue  (inheritAttrs: false)\n\n### v-if  v-for \n| vue2 | vue3 |\n| :--- | :--- |\n| v-ifv-forv-for | v-ifv-for |\n\n### v-bind \n| vue2 | vue3 |\n| :--- | :--- |\n| v-bind=\"object\" attribute attribute object | v-bind=\"object\" attribute |\n\n### VNode \n| vue2 | vue3 |\n| :--- | :--- |\n| ,hook: | vnode- HTML  |\n\nvnode-@vnode-updated=\"onUpdated\"vnode@vnodeUpdated=\"onUpdated\"\nbeforeDestroydestroyedbeforeUnmountunmounted\n\n[vue2(vue3)](https://v3.cn.vuejs.org/guide/migration/introduction.html)\n","updated":"2022-01-25T10:10:54.040Z","path":"vue/change.html","comments":1,"layout":"page","_id":"clchh4gwf0002cktt6iwgbif6","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><table>\n<thead>\n<tr>\n<th align=\"center\"> API</th>\n<th align=\"center\">Hook inside setup</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">beforeCreate</td>\n<td align=\"center\">Not needed*</td>\n</tr>\n<tr>\n<td align=\"center\">created</td>\n<td align=\"center\">Not needed*</td>\n</tr>\n<tr>\n<td align=\"center\">beforeMount</td>\n<td align=\"center\">onBeforeMount</td>\n</tr>\n<tr>\n<td align=\"center\">mounted</td>\n<td align=\"center\">onMounted</td>\n</tr>\n<tr>\n<td align=\"center\">beforeUpdate</td>\n<td align=\"center\">onBeforeUpdate</td>\n</tr>\n<tr>\n<td align=\"center\">updated</td>\n<td align=\"center\">onUpdated</td>\n</tr>\n<tr>\n<td align=\"center\">beforeUnmount</td>\n<td align=\"center\">onBeforeUnmount</td>\n</tr>\n<tr>\n<td align=\"center\">unmounted</td>\n<td align=\"center\">onUnmounted</td>\n</tr>\n<tr>\n<td align=\"center\">errorCaptured</td>\n<td align=\"center\">onErrorCaptured</td>\n</tr>\n<tr>\n<td align=\"center\">renderTracked</td>\n<td align=\"center\">onRenderTracked</td>\n</tr>\n<tr>\n<td align=\"center\">renderTriggered</td>\n<td align=\"center\">onRenderTriggered</td>\n</tr>\n<tr>\n<td align=\"center\">activated</td>\n<td align=\"center\">onActivated</td>\n</tr>\n<tr>\n<td align=\"center\">deactivated</td>\n<td align=\"center\">onDeactivated</td>\n</tr>\n</tbody></table>\n<h3 id=\"vue3\"><a href=\"#vue3\" class=\"headerlink\" title=\"vue3\"></a>vue3</h3><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h3 id=\"template\"><a href=\"#template\" class=\"headerlink\" title=\"template\"></a>template</h3><p> Vue 2.x  template <br> Vue 3.x  innerHTML</p>\n<h3 id=\"-class-\"><a href=\"#-class-\" class=\"headerlink\" title=\" class \"></a> class </h3><p>v-enterv-enter-fromv-leavev-leave-from</p>\n<h3 id=\"-prop-\"><a href=\"#-prop-\" class=\"headerlink\" title=\" prop \"></a><transition> prop </transition></h3><p>leave-classleave-from-class( JSX leaveFromClass)<br>enter-classenter-from-class( JSX enterFromClass)</p>\n<h3 id=\"Transition-Group-\"><a href=\"#Transition-Group-\" class=\"headerlink\" title=\"Transition Group \"></a>Transition Group </h3><p><transition-group>tagattribute  tag=span </transition-group></p>\n<h3 id=\"v-on-native\"><a href=\"#v-on-native\" class=\"headerlink\" title=\"v-on.native\"></a>v-on.native</h3><p>v-on.nativeemitsVue  (inheritAttrs: false)</p>\n<h3 id=\"v-if--v-for-\"><a href=\"#v-if--v-for-\" class=\"headerlink\" title=\"v-if  v-for \"></a>v-if  v-for </h3><table>\n<thead>\n<tr>\n<th align=\"left\">vue2</th>\n<th align=\"left\">vue3</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">v-ifv-forv-for</td>\n<td align=\"left\">v-ifv-for</td>\n</tr>\n</tbody></table>\n<h3 id=\"v-bind-\"><a href=\"#v-bind-\" class=\"headerlink\" title=\"v-bind \"></a>v-bind </h3><table>\n<thead>\n<tr>\n<th align=\"left\">vue2</th>\n<th align=\"left\">vue3</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">v-bind=object attribute attribute object</td>\n<td align=\"left\">v-bind=object attribute</td>\n</tr>\n</tbody></table>\n<h3 id=\"VNode-\"><a href=\"#VNode-\" class=\"headerlink\" title=\"VNode \"></a>VNode </h3><table>\n<thead>\n<tr>\n<th align=\"left\">vue2</th>\n<th align=\"left\">vue3</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">,hook:</td>\n<td align=\"left\">vnode- HTML </td>\n</tr>\n</tbody></table>\n<p>vnode-@vnode-updated=onUpdatedvnode@vnodeUpdated=onUpdated<br>beforeDestroydestroyedbeforeUnmountunmounted</p>\n<p><a href=\"https://v3.cn.vuejs.org/guide/migration/introduction.html\">vue2(vue3)</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><table>\n<thead>\n<tr>\n<th align=\"center\"> API</th>\n<th align=\"center\">Hook inside setup</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">beforeCreate</td>\n<td align=\"center\">Not needed*</td>\n</tr>\n<tr>\n<td align=\"center\">created</td>\n<td align=\"center\">Not needed*</td>\n</tr>\n<tr>\n<td align=\"center\">beforeMount</td>\n<td align=\"center\">onBeforeMount</td>\n</tr>\n<tr>\n<td align=\"center\">mounted</td>\n<td align=\"center\">onMounted</td>\n</tr>\n<tr>\n<td align=\"center\">beforeUpdate</td>\n<td align=\"center\">onBeforeUpdate</td>\n</tr>\n<tr>\n<td align=\"center\">updated</td>\n<td align=\"center\">onUpdated</td>\n</tr>\n<tr>\n<td align=\"center\">beforeUnmount</td>\n<td align=\"center\">onBeforeUnmount</td>\n</tr>\n<tr>\n<td align=\"center\">unmounted</td>\n<td align=\"center\">onUnmounted</td>\n</tr>\n<tr>\n<td align=\"center\">errorCaptured</td>\n<td align=\"center\">onErrorCaptured</td>\n</tr>\n<tr>\n<td align=\"center\">renderTracked</td>\n<td align=\"center\">onRenderTracked</td>\n</tr>\n<tr>\n<td align=\"center\">renderTriggered</td>\n<td align=\"center\">onRenderTriggered</td>\n</tr>\n<tr>\n<td align=\"center\">activated</td>\n<td align=\"center\">onActivated</td>\n</tr>\n<tr>\n<td align=\"center\">deactivated</td>\n<td align=\"center\">onDeactivated</td>\n</tr>\n</tbody></table>\n<h3 id=\"vue3\"><a href=\"#vue3\" class=\"headerlink\" title=\"vue3\"></a>vue3</h3><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h3 id=\"template\"><a href=\"#template\" class=\"headerlink\" title=\"template\"></a>template</h3><p> Vue 2.x  template <br> Vue 3.x  innerHTML</p>\n<h3 id=\"-class-\"><a href=\"#-class-\" class=\"headerlink\" title=\" class \"></a> class </h3><p>v-enterv-enter-fromv-leavev-leave-from</p>\n<h3 id=\"-prop-\"><a href=\"#-prop-\" class=\"headerlink\" title=\" prop \"></a><transition> prop </transition></h3><p>leave-classleave-from-class( JSX leaveFromClass)<br>enter-classenter-from-class( JSX enterFromClass)</p>\n<h3 id=\"Transition-Group-\"><a href=\"#Transition-Group-\" class=\"headerlink\" title=\"Transition Group \"></a>Transition Group </h3><p><transition-group>tagattribute  tag=span </transition-group></p>\n<h3 id=\"v-on-native\"><a href=\"#v-on-native\" class=\"headerlink\" title=\"v-on.native\"></a>v-on.native</h3><p>v-on.nativeemitsVue  (inheritAttrs: false)</p>\n<h3 id=\"v-if--v-for-\"><a href=\"#v-if--v-for-\" class=\"headerlink\" title=\"v-if  v-for \"></a>v-if  v-for </h3><table>\n<thead>\n<tr>\n<th align=\"left\">vue2</th>\n<th align=\"left\">vue3</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">v-ifv-forv-for</td>\n<td align=\"left\">v-ifv-for</td>\n</tr>\n</tbody></table>\n<h3 id=\"v-bind-\"><a href=\"#v-bind-\" class=\"headerlink\" title=\"v-bind \"></a>v-bind </h3><table>\n<thead>\n<tr>\n<th align=\"left\">vue2</th>\n<th align=\"left\">vue3</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">v-bind=object attribute attribute object</td>\n<td align=\"left\">v-bind=object attribute</td>\n</tr>\n</tbody></table>\n<h3 id=\"VNode-\"><a href=\"#VNode-\" class=\"headerlink\" title=\"VNode \"></a>VNode </h3><table>\n<thead>\n<tr>\n<th align=\"left\">vue2</th>\n<th align=\"left\">vue3</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">,hook:</td>\n<td align=\"left\">vnode- HTML </td>\n</tr>\n</tbody></table>\n<p>vnode-@vnode-updated=onUpdatedvnode@vnodeUpdated=onUpdated<br>beforeDestroydestroyedbeforeUnmountunmounted</p>\n<p><a href=\"https://v3.cn.vuejs.org/guide/migration/introduction.html\">vue2(vue3)</a></p>\n"},{"title":"3.x","date":"2022-01-25T09:02:52.000Z","_content":"#### [Vue 3  2022  2  7 ](https://gist.github.com/yyx990803/bf9a625eeff8b471bf0701afb8e3fe75)\n[ Vite ](https://vitejs.dev/)\n\n`<script setup>`  API \n\n[Volar  TypeScript IDE ](https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar)\n\n[vue-tsc ](https://github.com/johnsoncodehk/volar/tree/master/packages/vue-tsc)\n\n[Pinia ](https://pinia.vuejs.org/) / [Vuex4](https://next.vuex.vuejs.org/)\n\n[ Vue 2/Vue 3](https://devtools.vuejs.org/plugin/plugins-guide.html)\n\n[vuejs/core](https://github.com/vuejs/core)\n\n[Vue Router 4.0](https://next.router.vuejs.org/)\n[](https://github.com/vuejs/router)\n\n[vuejs/docs](https://github.com/vuejs/docs)\n\n[vuejs/test-utils](https://github.com/vuejs/test-utils)\n\n[vuejs/babel-plugin-jsx](https://github.com/vuejs/babel-plugin-jsx)\n\n[Element Plus(2022/02/07)](https://element-plus.gitee.io/zh-CN/)\n\n[Ant Design Vue(v2vue3v3beta)](https://next.antdv.com/)\n\nVue UI[Vuetify](https://vuetifyjs.com/zh-Hans/)[Quasar](https://quasar.dev/)\n\n[()](https://staging.vuejs.org/)[](https://staging-cn.vuejs.org/)","source":"vue/dependency.md","raw":"---\ntitle: 3.x\ndate: 2022-01-25 17:02:52\n---\n#### [Vue 3  2022  2  7 ](https://gist.github.com/yyx990803/bf9a625eeff8b471bf0701afb8e3fe75)\n[ Vite ](https://vitejs.dev/)\n\n`<script setup>`  API \n\n[Volar  TypeScript IDE ](https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar)\n\n[vue-tsc ](https://github.com/johnsoncodehk/volar/tree/master/packages/vue-tsc)\n\n[Pinia ](https://pinia.vuejs.org/) / [Vuex4](https://next.vuex.vuejs.org/)\n\n[ Vue 2/Vue 3](https://devtools.vuejs.org/plugin/plugins-guide.html)\n\n[vuejs/core](https://github.com/vuejs/core)\n\n[Vue Router 4.0](https://next.router.vuejs.org/)\n[](https://github.com/vuejs/router)\n\n[vuejs/docs](https://github.com/vuejs/docs)\n\n[vuejs/test-utils](https://github.com/vuejs/test-utils)\n\n[vuejs/babel-plugin-jsx](https://github.com/vuejs/babel-plugin-jsx)\n\n[Element Plus(2022/02/07)](https://element-plus.gitee.io/zh-CN/)\n\n[Ant Design Vue(v2vue3v3beta)](https://next.antdv.com/)\n\nVue UI[Vuetify](https://vuetifyjs.com/zh-Hans/)[Quasar](https://quasar.dev/)\n\n[()](https://staging.vuejs.org/)[](https://staging-cn.vuejs.org/)","updated":"2022-01-25T10:19:40.849Z","path":"vue/dependency.html","comments":1,"layout":"page","_id":"clchh4gwh0004ckttag3h6r9s","content":"<h4 id=\"Vue-3--2022--2--7-\"><a href=\"#Vue-3--2022--2--7-\" class=\"headerlink\" title=\"Vue 3  2022  2  7 \"></a><a href=\"https://gist.github.com/yyx990803/bf9a625eeff8b471bf0701afb8e3fe75\">Vue 3  2022  2  7 </a></h4><p><a href=\"https://vitejs.dev/\"> Vite </a></p>\n<p><code>&lt;script setup&gt;</code>  API </p>\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar\">Volar  TypeScript IDE </a></p>\n<p><a href=\"https://github.com/johnsoncodehk/volar/tree/master/packages/vue-tsc\">vue-tsc </a></p>\n<p><a href=\"https://pinia.vuejs.org/\">Pinia </a> / <a href=\"https://next.vuex.vuejs.org/\">Vuex4</a></p>\n<p><a href=\"https://devtools.vuejs.org/plugin/plugins-guide.html\"> Vue 2/Vue 3</a></p>\n<p><a href=\"https://github.com/vuejs/core\">vuejs/core</a></p>\n<p><a href=\"https://next.router.vuejs.org/\">Vue Router 4.0</a><br><a href=\"https://github.com/vuejs/router\"></a></p>\n<p><a href=\"https://github.com/vuejs/docs\">vuejs/docs</a></p>\n<p><a href=\"https://github.com/vuejs/test-utils\">vuejs/test-utils</a></p>\n<p><a href=\"https://github.com/vuejs/babel-plugin-jsx\">vuejs/babel-plugin-jsx</a></p>\n<p><a href=\"https://element-plus.gitee.io/zh-CN/\">Element Plus(2022/02/07)</a></p>\n<p><a href=\"https://next.antdv.com/\">Ant Design Vue(v2vue3v3beta)</a></p>\n<p>Vue UI<a href=\"https://vuetifyjs.com/zh-Hans/\">Vuetify</a><a href=\"https://quasar.dev/\">Quasar</a></p>\n<p><a href=\"https://staging.vuejs.org/\">()</a><a href=\"https://staging-cn.vuejs.org/\"></a></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"Vue-3--2022--2--7-\"><a href=\"#Vue-3--2022--2--7-\" class=\"headerlink\" title=\"Vue 3  2022  2  7 \"></a><a href=\"https://gist.github.com/yyx990803/bf9a625eeff8b471bf0701afb8e3fe75\">Vue 3  2022  2  7 </a></h4><p><a href=\"https://vitejs.dev/\"> Vite </a></p>\n<p><code>&lt;script setup&gt;</code>  API </p>\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar\">Volar  TypeScript IDE </a></p>\n<p><a href=\"https://github.com/johnsoncodehk/volar/tree/master/packages/vue-tsc\">vue-tsc </a></p>\n<p><a href=\"https://pinia.vuejs.org/\">Pinia </a> / <a href=\"https://next.vuex.vuejs.org/\">Vuex4</a></p>\n<p><a href=\"https://devtools.vuejs.org/plugin/plugins-guide.html\"> Vue 2/Vue 3</a></p>\n<p><a href=\"https://github.com/vuejs/core\">vuejs/core</a></p>\n<p><a href=\"https://next.router.vuejs.org/\">Vue Router 4.0</a><br><a href=\"https://github.com/vuejs/router\"></a></p>\n<p><a href=\"https://github.com/vuejs/docs\">vuejs/docs</a></p>\n<p><a href=\"https://github.com/vuejs/test-utils\">vuejs/test-utils</a></p>\n<p><a href=\"https://github.com/vuejs/babel-plugin-jsx\">vuejs/babel-plugin-jsx</a></p>\n<p><a href=\"https://element-plus.gitee.io/zh-CN/\">Element Plus(2022/02/07)</a></p>\n<p><a href=\"https://next.antdv.com/\">Ant Design Vue(v2vue3v3beta)</a></p>\n<p>Vue UI<a href=\"https://vuetifyjs.com/zh-Hans/\">Vuetify</a><a href=\"https://quasar.dev/\">Quasar</a></p>\n<p><a href=\"https://staging.vuejs.org/\">()</a><a href=\"https://staging-cn.vuejs.org/\"></a></p>\n"},{"title":"commonweal","date":"2022-08-09T05:51:41.000Z","_content":"\n### ","source":"commonweal/index.md","raw":"---\ntitle: commonweal\ndate: 2022-08-09 13:51:41\n---\n\n### ","updated":"2022-08-09T05:56:07.905Z","path":"commonweal/index.html","comments":1,"layout":"page","_id":"clchh4gwj0006ckttddkicep1","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3>","site":{"data":{}},"excerpt":"","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3>"},{"title":"vue","date":"2022-01-07T09:11:56.000Z","_content":"## VUE 2\n\n### vue2\n\n\n## VUE 3\n\n### vue3\n[2.x3.x](/vue/change.html)\n[vue3.x](/vue/dependency.html)","source":"vue/index.md","raw":"---\ntitle: vue\ndate: 2022-01-07 17:11:56\n---\n## VUE 2\n\n### vue2\n\n\n## VUE 3\n\n### vue3\n[2.x3.x](/vue/change.html)\n[vue3.x](/vue/dependency.html)","updated":"2022-01-25T10:28:34.167Z","path":"vue/index.html","comments":1,"layout":"page","_id":"clchh4gwk0008cktt6e3l0vby","content":"<h2 id=\"VUE-2\"><a href=\"#VUE-2\" class=\"headerlink\" title=\"VUE 2\"></a>VUE 2</h2><h3 id=\"vue2\"><a href=\"#vue2\" class=\"headerlink\" title=\"vue2\"></a>vue2</h3><p></p>\n<h2 id=\"VUE-3\"><a href=\"#VUE-3\" class=\"headerlink\" title=\"VUE 3\"></a>VUE 3</h2><h3 id=\"vue3\"><a href=\"#vue3\" class=\"headerlink\" title=\"vue3\"></a>vue3</h3><p><a href=\"/vue/change.html\">2.x3.x</a><br><a href=\"/vue/dependency.html\">vue3.x</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"VUE-2\"><a href=\"#VUE-2\" class=\"headerlink\" title=\"VUE 2\"></a>VUE 2</h2><h3 id=\"vue2\"><a href=\"#vue2\" class=\"headerlink\" title=\"vue2\"></a>vue2</h3><p></p>\n<h2 id=\"VUE-3\"><a href=\"#VUE-3\" class=\"headerlink\" title=\"VUE 3\"></a>VUE 3</h2><h3 id=\"vue3\"><a href=\"#vue3\" class=\"headerlink\" title=\"vue3\"></a>vue3</h3><p><a href=\"/vue/change.html\">2.x3.x</a><br><a href=\"/vue/dependency.html\">vue3.x</a></p>\n"},{"title":"nodejs & nodejs(1)","date":"2022-10-19T11:12:12.000Z","tags":["node","docs"],"_content":"\n###### nodejs\nJavaScripthtmljsJSnodejs\n\njsjsjsDOMdocumentnodejsjshttpnodejsfs,http\n\n###### nodejs\nhttps://nodejs.org/en/\n\nnodejs\ndos *node -v*Google\n\n****\n1nodejs\n2\n3nodejsnpmnodejsnpmdos *npm -v*npm\n\n\n\n**nodejshttps://nodejs.org/zh-cn/docs/**\n**nodejshttps://www.nodeapp.cn/documentation.html**\n\n###### node\n(1)I/O\n![](./images/async-call.png)\nNode\n(2)\n(3)\nNodeJavaScript\n\n**\n- CPU\n- \n- CPUI/O\n\nnode\n(4)\nNodelibuv\n![](./images/cross-platform.png)\n\n###### Node \n(1)I/O\nNodeI/O\nI/ONode\n(2)CPU\nnodeV8\n*CPUNodeJavaScriptCPUI/OI/OI/OCPU*\n\nnodeCPU\n- NodeC/C++CPUV8C/C++C/C++Java\n- NodeC/C++NodeI/OCPU\n(3)\n(4)\n\n###### Node \n- \n- NodeI/O\n- I/O\n- I/OWeb\n- Node\n- \n- \n\n#### \n\n###### CommonJS\nCommonJSJavaScriptJavaScript\n\njavascript\n- \n- ECMAScriptI/OAPIHTML5W3C\n- JavaScriptWeb\n- JavaScript\n\n![commonjsnode](./images/commonjs-node-relation.png)\n\n###### CommonJS\n\n1. \nCommonJSrequire()API\n\n2. \nrequire()exportsmoduleexportsmoduleNodeexports\n\n3. \nrequire()....js\n\n###### Node \nNode3\n(1) \n(2) \n(3) \n\nNodeNode\n- NodeNode\n- \n\n*Node*\nrequire()\n\n**\n1. \n- httpfspath\n  - Node\n  - http\n- ...\n  - Node\n- /\n- connect\n  - \n**\nNode\n\n- node_modules\n- node_modules\n- node_modules\n- node_modules\nJavaScriptNode\n2. \n- \nrequire()CommonJSNode.js.json.node\n.node.jsonrequire()\nNode\n- \nrequire()Node\nNodeCommonJSNodepackage.jsonCommonJSJSON.parse()mainmainpackage.jsonNodeindexindex.jsindex.jsonindex.node\n\n\n**\nNode\n\n- .jsfs\n- .nodeC/C++dlopen()\n- .jsonfsJSON.parse()\n- .js\n\nModule._cache\n\n1. JavaScript\nNodeJavaScript(function (exports, require, module, __filename, __dirname) {\\n\\n});\nexports\nrequiremodule.exports\n2. C/C++\n.nodeC/C++\n3. JSON\n.json3NodefsJSONJSON.parse()exports\n\n###### \n(1)JavaScript\n1. C/C++\n2. JavaScript\n\nJavaScriptNativeModule._cacheModule._cache\n(2)C/C++\nC/C++NodebuffercryptoevalsfsosC/C++\n1. \nNODE_MODULEnoderegister_func\nnode_extensions.hnode_module_list\n- node_buffer \n- node_crypto \n- node_evals \n- node_fs \n- node_http_parser \n- node_os \n- node_zlib \n- node_timer_wrap \n- node_tcp_wrap \n- node_udp_wrap\n- node_pipe_wrap \n- node_cares_wrap \n- node_tty_wrap \n- node_process_wrap \n- node_fs_event_wrap \n- node_signal_watcher \n\n- C/C++\n- Node\n2. \nNode(javascript)(C/C++)\n\nexportsget_builtin_module()register_func()exportsexports\n(3)\n\n###### C/C++\n(1)\n- GYP\n- V8C++\n- libuv\n- Node\n- \n.nodeNodeprocess.dlopen()\n//Native extension for .node \nModule._extensions['.node'] = process.dlopen;\n\nrequire().node4\n![require](./images/node-require.png)\n\n###### \n- C/C++\n  - APIJavaScriptJavaScriptC/C++process.binding()\n- JavaScript\n  - C/C++\n- \n  - JavaScriptC/C++JavaScript\n![node](./images/node-modules.png)\n\n#### NPM\n![](./images/package.png)\n\n###### \n.ziptar.gz\nCommonJS\n- package.json\n- bin\n- libJavaScript\n- doc\n- test\n\n###### NPM\nJSONpackage.json\nCommonJSpackage.json\n- name._-NPMnodejsJavaScriptNode\n- description\n- versionhttp://semver.org/major.minor.revision\n- keywordsNPM \n- maintainersnameemailweb3\"maintainers\": [{ \"name\": \"Jackson Tian\", \"email\": \"shyvo1987@gmail.com\", \"web\": \"http://html5ify.com\" }], NPM\n- contributorscontributors\n- bugsbug\n- licenses\"licenses\": [{ \"type\": \"GPLv2\", \"url\": \"http://www.example.com/licenses/gpl.html\", }] \n- repositories\n- dependenciesNPM \n- homepage\n- osaixfreebsdlinuxmacossolarisvxworkswindows\n- cpuCPUarmmipsppcsparcx86x86_64osCPU\n- engineJavaScriptejsflusspferdgpseejscspidermonkeynarwhalnodev8\n- builtin\n- directories\n- implementsCommonJS\n- scripts\n\"scripts\": { \"install\": \"install.js\", \n \"uninstall\": \"uninstall.js\", \n \"build\": \"build.js\", \n \"doc\": \"make-doc.js\", \n \"test\": \"test.js\" } \n\nNPMnameversiondescriptionkeywordsrepositoriesauthorbinmainscriptsenginesdependenciesdevDependencies\nauthorbinmaindevDependencies4\n- author\n- binbinnpm install package_name -g\nnode-gyp-g\n- mainrequire()require()index.jsindex.nodeindex.json\n- devDependencies\n\n###### \n- \n- \n  - npm init\n- \n  - npm adduser\n- \n  - npm publish .\n- \n  - npm install XXXX\n- \n  - npm owner ls <package name>\n  - npm owner add <user> <package name> \n  - npm owner rm <user> <package name> \n\n\n- \n- READMEAPI\n- \n- \n- \n\n###### AMD\nAMDCommonJS\ndefine(id?, dependencies?, factory); \nidNodefactory\nAMDdefineNode\n\n###### CMD\nAMDAMD\ndefine(['dep1', 'dep2'], function (dep1, dep2) { \n return function () {}; \n}); \nAMDCMDNodeCommonJS\ndefine(factory); \nCMD\ndefine(function(require, exports, module) { \n // The module code goes here \n}); \nrequireexportsmodulerequire()\n\n","source":"nodejs/nodejs-note-1.md","raw":"---\ntitle: nodejs & nodejs(1)\ndate: 2022-10-19 19:12:12\ntags: [node, docs]\n---\n\n###### nodejs\nJavaScripthtmljsJSnodejs\n\njsjsjsDOMdocumentnodejsjshttpnodejsfs,http\n\n###### nodejs\nhttps://nodejs.org/en/\n\nnodejs\ndos *node -v*Google\n\n****\n1nodejs\n2\n3nodejsnpmnodejsnpmdos *npm -v*npm\n\n\n\n**nodejshttps://nodejs.org/zh-cn/docs/**\n**nodejshttps://www.nodeapp.cn/documentation.html**\n\n###### node\n(1)I/O\n![](./images/async-call.png)\nNode\n(2)\n(3)\nNodeJavaScript\n\n**\n- CPU\n- \n- CPUI/O\n\nnode\n(4)\nNodelibuv\n![](./images/cross-platform.png)\n\n###### Node \n(1)I/O\nNodeI/O\nI/ONode\n(2)CPU\nnodeV8\n*CPUNodeJavaScriptCPUI/OI/OI/OCPU*\n\nnodeCPU\n- NodeC/C++CPUV8C/C++C/C++Java\n- NodeC/C++NodeI/OCPU\n(3)\n(4)\n\n###### Node \n- \n- NodeI/O\n- I/O\n- I/OWeb\n- Node\n- \n- \n\n#### \n\n###### CommonJS\nCommonJSJavaScriptJavaScript\n\njavascript\n- \n- ECMAScriptI/OAPIHTML5W3C\n- JavaScriptWeb\n- JavaScript\n\n![commonjsnode](./images/commonjs-node-relation.png)\n\n###### CommonJS\n\n1. \nCommonJSrequire()API\n\n2. \nrequire()exportsmoduleexportsmoduleNodeexports\n\n3. \nrequire()....js\n\n###### Node \nNode3\n(1) \n(2) \n(3) \n\nNodeNode\n- NodeNode\n- \n\n*Node*\nrequire()\n\n**\n1. \n- httpfspath\n  - Node\n  - http\n- ...\n  - Node\n- /\n- connect\n  - \n**\nNode\n\n- node_modules\n- node_modules\n- node_modules\n- node_modules\nJavaScriptNode\n2. \n- \nrequire()CommonJSNode.js.json.node\n.node.jsonrequire()\nNode\n- \nrequire()Node\nNodeCommonJSNodepackage.jsonCommonJSJSON.parse()mainmainpackage.jsonNodeindexindex.jsindex.jsonindex.node\n\n\n**\nNode\n\n- .jsfs\n- .nodeC/C++dlopen()\n- .jsonfsJSON.parse()\n- .js\n\nModule._cache\n\n1. JavaScript\nNodeJavaScript(function (exports, require, module, __filename, __dirname) {\\n\\n});\nexports\nrequiremodule.exports\n2. C/C++\n.nodeC/C++\n3. JSON\n.json3NodefsJSONJSON.parse()exports\n\n###### \n(1)JavaScript\n1. C/C++\n2. JavaScript\n\nJavaScriptNativeModule._cacheModule._cache\n(2)C/C++\nC/C++NodebuffercryptoevalsfsosC/C++\n1. \nNODE_MODULEnoderegister_func\nnode_extensions.hnode_module_list\n- node_buffer \n- node_crypto \n- node_evals \n- node_fs \n- node_http_parser \n- node_os \n- node_zlib \n- node_timer_wrap \n- node_tcp_wrap \n- node_udp_wrap\n- node_pipe_wrap \n- node_cares_wrap \n- node_tty_wrap \n- node_process_wrap \n- node_fs_event_wrap \n- node_signal_watcher \n\n- C/C++\n- Node\n2. \nNode(javascript)(C/C++)\n\nexportsget_builtin_module()register_func()exportsexports\n(3)\n\n###### C/C++\n(1)\n- GYP\n- V8C++\n- libuv\n- Node\n- \n.nodeNodeprocess.dlopen()\n//Native extension for .node \nModule._extensions['.node'] = process.dlopen;\n\nrequire().node4\n![require](./images/node-require.png)\n\n###### \n- C/C++\n  - APIJavaScriptJavaScriptC/C++process.binding()\n- JavaScript\n  - C/C++\n- \n  - JavaScriptC/C++JavaScript\n![node](./images/node-modules.png)\n\n#### NPM\n![](./images/package.png)\n\n###### \n.ziptar.gz\nCommonJS\n- package.json\n- bin\n- libJavaScript\n- doc\n- test\n\n###### NPM\nJSONpackage.json\nCommonJSpackage.json\n- name._-NPMnodejsJavaScriptNode\n- description\n- versionhttp://semver.org/major.minor.revision\n- keywordsNPM \n- maintainersnameemailweb3\"maintainers\": [{ \"name\": \"Jackson Tian\", \"email\": \"shyvo1987@gmail.com\", \"web\": \"http://html5ify.com\" }], NPM\n- contributorscontributors\n- bugsbug\n- licenses\"licenses\": [{ \"type\": \"GPLv2\", \"url\": \"http://www.example.com/licenses/gpl.html\", }] \n- repositories\n- dependenciesNPM \n- homepage\n- osaixfreebsdlinuxmacossolarisvxworkswindows\n- cpuCPUarmmipsppcsparcx86x86_64osCPU\n- engineJavaScriptejsflusspferdgpseejscspidermonkeynarwhalnodev8\n- builtin\n- directories\n- implementsCommonJS\n- scripts\n\"scripts\": { \"install\": \"install.js\", \n \"uninstall\": \"uninstall.js\", \n \"build\": \"build.js\", \n \"doc\": \"make-doc.js\", \n \"test\": \"test.js\" } \n\nNPMnameversiondescriptionkeywordsrepositoriesauthorbinmainscriptsenginesdependenciesdevDependencies\nauthorbinmaindevDependencies4\n- author\n- binbinnpm install package_name -g\nnode-gyp-g\n- mainrequire()require()index.jsindex.nodeindex.json\n- devDependencies\n\n###### \n- \n- \n  - npm init\n- \n  - npm adduser\n- \n  - npm publish .\n- \n  - npm install XXXX\n- \n  - npm owner ls <package name>\n  - npm owner add <user> <package name> \n  - npm owner rm <user> <package name> \n\n\n- \n- READMEAPI\n- \n- \n- \n\n###### AMD\nAMDCommonJS\ndefine(id?, dependencies?, factory); \nidNodefactory\nAMDdefineNode\n\n###### CMD\nAMDAMD\ndefine(['dep1', 'dep2'], function (dep1, dep2) { \n return function () {}; \n}); \nAMDCMDNodeCommonJS\ndefine(factory); \nCMD\ndefine(function(require, exports, module) { \n // The module code goes here \n}); \nrequireexportsmodulerequire()\n\n","updated":"2022-12-20T09:27:11.300Z","path":"nodejs/nodejs-note-1.html","comments":1,"layout":"page","_id":"clchh4gwl000ackttb6rtft56","content":"<h6 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h6><p>JavaScripthtmljsJSnodejs</p>\n<p>jsjsjsDOMdocumentnodejsjshttpnodejsfs,http</p>\n<h6 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h6><p><a href=\"https://nodejs.org/en/\">https://nodejs.org/en/</a></p>\n<p>nodejs<br>dos <em>node -v</em>Google</p>\n<p><strong></strong><br>1nodejs<br>2<br>3nodejsnpmnodejsnpmdos <em>npm -v</em>npm</p>\n<p></p>\n<p><strong>nodejs<a href=\"https://nodejs.org/zh-cn/docs/\">https://nodejs.org/zh-cn/docs/</a></strong><br><strong>nodejs<a href=\"https://www.nodeapp.cn/documentation.html\">https://www.nodeapp.cn/documentation.html</a></strong></p>\n<h6 id=\"node\"><a href=\"#node\" class=\"headerlink\" title=\"node\"></a>node</h6><p>(1)I/O<br><img src=\"/nodejs/images/async-call.png\" alt=\"\"><br>Node<br>(2)<br>(3)<br>NodeJavaScript<br><br><em></em></p>\n<ul>\n<li>CPU</li>\n<li></li>\n<li>CPUI/O</li>\n</ul>\n<p>node<br>(4)<br>Nodelibuv<br><img src=\"/nodejs/images/cross-platform.png\" alt=\"\"></p>\n<h6 id=\"Node-\"><a href=\"#Node-\" class=\"headerlink\" title=\"Node \"></a>Node </h6><p>(1)I/O<br>NodeI/O<br>I/ONode<br>(2)CPU<br>nodeV8<br><em>CPUNodeJavaScriptCPUI/OI/OI/OCPU</em></p>\n<p>nodeCPU</p>\n<ul>\n<li>NodeC/C++CPUV8C/C++C/C++Java</li>\n<li>NodeC/C++NodeI/OCPU<br>(3)<br>(4)</li>\n</ul>\n<h6 id=\"Node-\"><a href=\"#Node-\" class=\"headerlink\" title=\"Node \"></a>Node </h6><ul>\n<li></li>\n<li>NodeI/O</li>\n<li>I/O</li>\n<li>I/OWeb</li>\n<li>Node</li>\n<li></li>\n<li></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"CommonJS\"><a href=\"#CommonJS\" class=\"headerlink\" title=\"CommonJS\"></a>CommonJS</h6><p>CommonJSJavaScriptJavaScript</p>\n<p>javascript</p>\n<ul>\n<li></li>\n<li>ECMAScriptI/OAPIHTML5W3C</li>\n<li>JavaScriptWeb</li>\n<li>JavaScript</li>\n</ul>\n<p><img src=\"/nodejs/images/commonjs-node-relation.png\" alt=\"commonjsnode\"></p>\n<h6 id=\"CommonJS\"><a href=\"#CommonJS\" class=\"headerlink\" title=\"CommonJS\"></a>CommonJS</h6><p></p>\n<ol>\n<li><p><br>CommonJSrequire()API</p>\n</li>\n<li><p><br>require()exportsmoduleexportsmoduleNodeexports</p>\n</li>\n<li><p><br>require()....js</p>\n</li>\n</ol>\n<h6 id=\"Node-\"><a href=\"#Node-\" class=\"headerlink\" title=\"Node \"></a>Node </h6><p>Node3<br>(1) <br>(2) <br>(3) </p>\n<p>NodeNode</p>\n<ul>\n<li>NodeNode</li>\n<li></li>\n</ul>\n<p><em>Node</em><br>require()</p>\n<p><em></em></p>\n<ol>\n<li></li>\n</ol>\n<ul>\n<li>httpfspath<ul>\n<li>Node</li>\n<li>http</li>\n</ul>\n</li>\n<li>...<ul>\n<li>Node</li>\n</ul>\n</li>\n<li>/</li>\n<li>connect<ul>\n<li></li>\n</ul>\n</li>\n</ul>\n<p><em></em><br>Node<br></p>\n<ul>\n<li>node_modules</li>\n<li>node_modules</li>\n<li>node_modules</li>\n<li>node_modules<br>JavaScriptNode</li>\n</ul>\n<ol start=\"2\">\n<li></li>\n</ol>\n<ul>\n<li><br>require()CommonJSNode.js.json.node<br>.node.jsonrequire()<br>Node</li>\n<li><br>require()Node<br>NodeCommonJSNodepackage.jsonCommonJSJSON.parse()mainmainpackage.jsonNodeindexindex.jsindex.jsonindex.node<br></li>\n</ul>\n<p><em></em><br>Node<br></p>\n<ul>\n<li>.jsfs</li>\n<li>.nodeC/C++dlopen()</li>\n<li>.jsonfsJSON.parse()</li>\n<li>.js</li>\n</ul>\n<p>Module._cache</p>\n<ol>\n<li>JavaScript<br>NodeJavaScript(function (exports, require, module, __filename, __dirname) {\\n\\n});<br>exports<br>requiremodule.exports</li>\n<li>C/C++<br>.nodeC/C++</li>\n<li>JSON<br>.json3NodefsJSONJSON.parse()exports</li>\n</ol>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(1)JavaScript</p>\n<ol>\n<li>C/C++</li>\n<li>JavaScript<br><br>JavaScriptNativeModule._cacheModule._cache<br>(2)C/C++<br>C/C++NodebuffercryptoevalsfsosC/C++</li>\n<li><br>NODE_MODULEnoderegister_func<br>node_extensions.hnode_module_list</li>\n</ol>\n<ul>\n<li>node_buffer </li>\n<li>node_crypto </li>\n<li>node_evals </li>\n<li>node_fs </li>\n<li>node_http_parser </li>\n<li>node_os </li>\n<li>node_zlib </li>\n<li>node_timer_wrap </li>\n<li>node_tcp_wrap </li>\n<li>node_udp_wrap</li>\n<li>node_pipe_wrap </li>\n<li>node_cares_wrap </li>\n<li>node_tty_wrap </li>\n<li>node_process_wrap </li>\n<li>node_fs_event_wrap </li>\n<li>node_signal_watcher<br></li>\n<li>C/C++</li>\n<li>Node</li>\n</ul>\n<ol start=\"2\">\n<li><br>Node(javascript)(C/C++)<br><br>exportsget_builtin_module()register_func()exportsexports<br>(3)</li>\n</ol>\n<h6 id=\"C-C-\"><a href=\"#C-C-\" class=\"headerlink\" title=\"C/C++\"></a>C/C++</h6><p>(1)</p>\n<ul>\n<li>GYP</li>\n<li>V8C++</li>\n<li>libuv</li>\n<li>Node</li>\n<li><br>.nodeNodeprocess.dlopen()<br>//Native extension for .node<br>Module._extensions[.node] = process.dlopen;</li>\n</ul>\n<p>require().node4<br><img src=\"/nodejs/images/node-require.png\" alt=\"require\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li>C/C++<ul>\n<li>APIJavaScriptJavaScriptC/C++process.binding()</li>\n</ul>\n</li>\n<li>JavaScript<ul>\n<li>C/C++</li>\n</ul>\n</li>\n<li><ul>\n<li>JavaScriptC/C++JavaScript<br><img src=\"/nodejs/images/node-modules.png\" alt=\"node\"></li>\n</ul>\n</li>\n</ul>\n<h4 id=\"NPM\"><a href=\"#NPM\" class=\"headerlink\" title=\"NPM\"></a>NPM</h4><p><img src=\"/nodejs/images/package.png\" alt=\"\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>.ziptar.gz<br>CommonJS</p>\n<ul>\n<li>package.json</li>\n<li>bin</li>\n<li>libJavaScript</li>\n<li>doc</li>\n<li>test</li>\n</ul>\n<h6 id=\"NPM\"><a href=\"#NPM\" class=\"headerlink\" title=\"NPM\"></a>NPM</h6><p>JSONpackage.json<br>CommonJSpackage.json</p>\n<ul>\n<li>name._-NPMnodejsJavaScriptNode</li>\n<li>description</li>\n<li>version<a href=\"http://semver.org/%E4%B8%8A%E6%9C%89%E8%AF%A6%E7%BB%86%E5%AE%9A%E4%B9%89%EF%BC%8C%E9%80%9A%E5%B8%B8%E4%B8%BAmajor.minor.revision%E6%A0%BC%E5%BC%8F%E3%80%82%E8%AF%A5%E7%89%88%E6%9C%AC%E5%8F%B7%E5%8D%81%E5%88%86%E9%87%8D%E8%A6%81%EF%BC%8C%E5%B8%B8%E5%B8%B8%E7%94%A8%E4%BA%8E%E4%B8%80%E4%BA%9B%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E7%9A%84%E5%9C%BA%E5%90%88%E3%80%82\">http://semver.org/major.minor.revision</a></li>\n<li>keywordsNPM </li>\n<li>maintainersnameemailweb3maintainers: [{ name: Jackson Tian, email: <a href=\"mailto:&#x73;&#x68;&#x79;&#x76;&#111;&#x31;&#57;&#56;&#55;&#x40;&#103;&#109;&#97;&#x69;&#108;&#x2e;&#99;&#111;&#109;\">&#x73;&#x68;&#x79;&#x76;&#111;&#x31;&#57;&#56;&#55;&#x40;&#103;&#109;&#97;&#x69;&#108;&#x2e;&#99;&#111;&#109;</a>, web: <a href=\"http://html5ify.com&quot;/\">http://html5ify.com&quot;</a> }], NPM</li>\n<li>contributorscontributors</li>\n<li>bugsbug</li>\n<li>licenseslicenses: [{ type: GPLv2, url: <a href=\"http://www.example.com/licenses/gpl.html&quot;\">http://www.example.com/licenses/gpl.html&quot;</a>, }] </li>\n<li>repositories</li>\n<li>dependenciesNPM </li>\n<li>homepage</li>\n<li>osaixfreebsdlinuxmacossolarisvxworkswindows</li>\n<li>cpuCPUarmmipsppcsparcx86x86_64osCPU</li>\n<li>engineJavaScriptejsflusspferdgpseejscspidermonkeynarwhalnodev8</li>\n<li>builtin</li>\n<li>directories</li>\n<li>implementsCommonJS</li>\n<li>scripts<br>scripts: { install: install.js,<br>uninstall: uninstall.js,<br>build: build.js,<br>doc: make-doc.js,<br>test: test.js } </li>\n</ul>\n<p>NPMnameversiondescriptionkeywordsrepositoriesauthorbinmainscriptsenginesdependenciesdevDependencies<br>authorbinmaindevDependencies4</p>\n<ul>\n<li>author</li>\n<li>binbinnpm install package_name -g<br>node-gyp-g</li>\n<li>mainrequire()require()index.jsindex.nodeindex.json</li>\n<li>devDependencies</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li></li>\n<li><ul>\n<li>npm init</li>\n</ul>\n</li>\n<li><ul>\n<li>npm adduser</li>\n</ul>\n</li>\n<li><ul>\n<li>npm publish .</li>\n</ul>\n</li>\n<li><ul>\n<li>npm install XXXX</li>\n</ul>\n</li>\n<li><ul>\n<li>npm owner ls <package name></package></li>\n<li>npm owner add <user> <package name> </package></user></li>\n<li>npm owner rm <user> <package name> </package></user></li>\n</ul>\n</li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li>READMEAPI</li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h6 id=\"AMD\"><a href=\"#AMD\" class=\"headerlink\" title=\"AMD\"></a>AMD</h6><p>AMDCommonJS<br>define(id?, dependencies?, factory);<br>idNodefactory<br>AMDdefineNode</p>\n<h6 id=\"CMD\"><a href=\"#CMD\" class=\"headerlink\" title=\"CMD\"></a>CMD</h6><p>AMDAMD<br>define([dep1, dep2], function (dep1, dep2) {<br> return function () {};<br>});<br>AMDCMDNodeCommonJS<br>define(factory);<br>CMD<br>define(function(require, exports, module) {<br> // The module code goes here<br>});<br>requireexportsmodulerequire()</p>\n","site":{"data":{}},"excerpt":"","more":"<h6 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h6><p>JavaScripthtmljsJSnodejs</p>\n<p>jsjsjsDOMdocumentnodejsjshttpnodejsfs,http</p>\n<h6 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h6><p><a href=\"https://nodejs.org/en/\">https://nodejs.org/en/</a></p>\n<p>nodejs<br>dos <em>node -v</em>Google</p>\n<p><strong></strong><br>1nodejs<br>2<br>3nodejsnpmnodejsnpmdos <em>npm -v</em>npm</p>\n<p></p>\n<p><strong>nodejs<a href=\"https://nodejs.org/zh-cn/docs/\">https://nodejs.org/zh-cn/docs/</a></strong><br><strong>nodejs<a href=\"https://www.nodeapp.cn/documentation.html\">https://www.nodeapp.cn/documentation.html</a></strong></p>\n<h6 id=\"node\"><a href=\"#node\" class=\"headerlink\" title=\"node\"></a>node</h6><p>(1)I/O<br><img src=\"/nodejs/images/async-call.png\" alt=\"\"><br>Node<br>(2)<br>(3)<br>NodeJavaScript<br><br><em></em></p>\n<ul>\n<li>CPU</li>\n<li></li>\n<li>CPUI/O</li>\n</ul>\n<p>node<br>(4)<br>Nodelibuv<br><img src=\"/nodejs/images/cross-platform.png\" alt=\"\"></p>\n<h6 id=\"Node-\"><a href=\"#Node-\" class=\"headerlink\" title=\"Node \"></a>Node </h6><p>(1)I/O<br>NodeI/O<br>I/ONode<br>(2)CPU<br>nodeV8<br><em>CPUNodeJavaScriptCPUI/OI/OI/OCPU</em></p>\n<p>nodeCPU</p>\n<ul>\n<li>NodeC/C++CPUV8C/C++C/C++Java</li>\n<li>NodeC/C++NodeI/OCPU<br>(3)<br>(4)</li>\n</ul>\n<h6 id=\"Node-\"><a href=\"#Node-\" class=\"headerlink\" title=\"Node \"></a>Node </h6><ul>\n<li></li>\n<li>NodeI/O</li>\n<li>I/O</li>\n<li>I/OWeb</li>\n<li>Node</li>\n<li></li>\n<li></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"CommonJS\"><a href=\"#CommonJS\" class=\"headerlink\" title=\"CommonJS\"></a>CommonJS</h6><p>CommonJSJavaScriptJavaScript</p>\n<p>javascript</p>\n<ul>\n<li></li>\n<li>ECMAScriptI/OAPIHTML5W3C</li>\n<li>JavaScriptWeb</li>\n<li>JavaScript</li>\n</ul>\n<p><img src=\"/nodejs/images/commonjs-node-relation.png\" alt=\"commonjsnode\"></p>\n<h6 id=\"CommonJS\"><a href=\"#CommonJS\" class=\"headerlink\" title=\"CommonJS\"></a>CommonJS</h6><p></p>\n<ol>\n<li><p><br>CommonJSrequire()API</p>\n</li>\n<li><p><br>require()exportsmoduleexportsmoduleNodeexports</p>\n</li>\n<li><p><br>require()....js</p>\n</li>\n</ol>\n<h6 id=\"Node-\"><a href=\"#Node-\" class=\"headerlink\" title=\"Node \"></a>Node </h6><p>Node3<br>(1) <br>(2) <br>(3) </p>\n<p>NodeNode</p>\n<ul>\n<li>NodeNode</li>\n<li></li>\n</ul>\n<p><em>Node</em><br>require()</p>\n<p><em></em></p>\n<ol>\n<li></li>\n</ol>\n<ul>\n<li>httpfspath<ul>\n<li>Node</li>\n<li>http</li>\n</ul>\n</li>\n<li>...<ul>\n<li>Node</li>\n</ul>\n</li>\n<li>/</li>\n<li>connect<ul>\n<li></li>\n</ul>\n</li>\n</ul>\n<p><em></em><br>Node<br></p>\n<ul>\n<li>node_modules</li>\n<li>node_modules</li>\n<li>node_modules</li>\n<li>node_modules<br>JavaScriptNode</li>\n</ul>\n<ol start=\"2\">\n<li></li>\n</ol>\n<ul>\n<li><br>require()CommonJSNode.js.json.node<br>.node.jsonrequire()<br>Node</li>\n<li><br>require()Node<br>NodeCommonJSNodepackage.jsonCommonJSJSON.parse()mainmainpackage.jsonNodeindexindex.jsindex.jsonindex.node<br></li>\n</ul>\n<p><em></em><br>Node<br></p>\n<ul>\n<li>.jsfs</li>\n<li>.nodeC/C++dlopen()</li>\n<li>.jsonfsJSON.parse()</li>\n<li>.js</li>\n</ul>\n<p>Module._cache</p>\n<ol>\n<li>JavaScript<br>NodeJavaScript(function (exports, require, module, __filename, __dirname) {\\n\\n});<br>exports<br>requiremodule.exports</li>\n<li>C/C++<br>.nodeC/C++</li>\n<li>JSON<br>.json3NodefsJSONJSON.parse()exports</li>\n</ol>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(1)JavaScript</p>\n<ol>\n<li>C/C++</li>\n<li>JavaScript<br><br>JavaScriptNativeModule._cacheModule._cache<br>(2)C/C++<br>C/C++NodebuffercryptoevalsfsosC/C++</li>\n<li><br>NODE_MODULEnoderegister_func<br>node_extensions.hnode_module_list</li>\n</ol>\n<ul>\n<li>node_buffer </li>\n<li>node_crypto </li>\n<li>node_evals </li>\n<li>node_fs </li>\n<li>node_http_parser </li>\n<li>node_os </li>\n<li>node_zlib </li>\n<li>node_timer_wrap </li>\n<li>node_tcp_wrap </li>\n<li>node_udp_wrap</li>\n<li>node_pipe_wrap </li>\n<li>node_cares_wrap </li>\n<li>node_tty_wrap </li>\n<li>node_process_wrap </li>\n<li>node_fs_event_wrap </li>\n<li>node_signal_watcher<br></li>\n<li>C/C++</li>\n<li>Node</li>\n</ul>\n<ol start=\"2\">\n<li><br>Node(javascript)(C/C++)<br><br>exportsget_builtin_module()register_func()exportsexports<br>(3)</li>\n</ol>\n<h6 id=\"C-C-\"><a href=\"#C-C-\" class=\"headerlink\" title=\"C/C++\"></a>C/C++</h6><p>(1)</p>\n<ul>\n<li>GYP</li>\n<li>V8C++</li>\n<li>libuv</li>\n<li>Node</li>\n<li><br>.nodeNodeprocess.dlopen()<br>//Native extension for .node<br>Module._extensions[.node] = process.dlopen;</li>\n</ul>\n<p>require().node4<br><img src=\"/nodejs/images/node-require.png\" alt=\"require\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li>C/C++<ul>\n<li>APIJavaScriptJavaScriptC/C++process.binding()</li>\n</ul>\n</li>\n<li>JavaScript<ul>\n<li>C/C++</li>\n</ul>\n</li>\n<li><ul>\n<li>JavaScriptC/C++JavaScript<br><img src=\"/nodejs/images/node-modules.png\" alt=\"node\"></li>\n</ul>\n</li>\n</ul>\n<h4 id=\"NPM\"><a href=\"#NPM\" class=\"headerlink\" title=\"NPM\"></a>NPM</h4><p><img src=\"/nodejs/images/package.png\" alt=\"\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>.ziptar.gz<br>CommonJS</p>\n<ul>\n<li>package.json</li>\n<li>bin</li>\n<li>libJavaScript</li>\n<li>doc</li>\n<li>test</li>\n</ul>\n<h6 id=\"NPM\"><a href=\"#NPM\" class=\"headerlink\" title=\"NPM\"></a>NPM</h6><p>JSONpackage.json<br>CommonJSpackage.json</p>\n<ul>\n<li>name._-NPMnodejsJavaScriptNode</li>\n<li>description</li>\n<li>version<a href=\"http://semver.org/%E4%B8%8A%E6%9C%89%E8%AF%A6%E7%BB%86%E5%AE%9A%E4%B9%89%EF%BC%8C%E9%80%9A%E5%B8%B8%E4%B8%BAmajor.minor.revision%E6%A0%BC%E5%BC%8F%E3%80%82%E8%AF%A5%E7%89%88%E6%9C%AC%E5%8F%B7%E5%8D%81%E5%88%86%E9%87%8D%E8%A6%81%EF%BC%8C%E5%B8%B8%E5%B8%B8%E7%94%A8%E4%BA%8E%E4%B8%80%E4%BA%9B%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E7%9A%84%E5%9C%BA%E5%90%88%E3%80%82\">http://semver.org/major.minor.revision</a></li>\n<li>keywordsNPM </li>\n<li>maintainersnameemailweb3maintainers: [{ name: Jackson Tian, email: <a href=\"mailto:&#x73;&#x68;&#x79;&#x76;&#111;&#x31;&#57;&#56;&#55;&#x40;&#103;&#109;&#97;&#x69;&#108;&#x2e;&#99;&#111;&#109;\">&#x73;&#x68;&#x79;&#x76;&#111;&#x31;&#57;&#56;&#55;&#x40;&#103;&#109;&#97;&#x69;&#108;&#x2e;&#99;&#111;&#109;</a>, web: <a href=\"http://html5ify.com&quot;/\">http://html5ify.com&quot;</a> }], NPM</li>\n<li>contributorscontributors</li>\n<li>bugsbug</li>\n<li>licenseslicenses: [{ type: GPLv2, url: <a href=\"http://www.example.com/licenses/gpl.html&quot;\">http://www.example.com/licenses/gpl.html&quot;</a>, }] </li>\n<li>repositories</li>\n<li>dependenciesNPM </li>\n<li>homepage</li>\n<li>osaixfreebsdlinuxmacossolarisvxworkswindows</li>\n<li>cpuCPUarmmipsppcsparcx86x86_64osCPU</li>\n<li>engineJavaScriptejsflusspferdgpseejscspidermonkeynarwhalnodev8</li>\n<li>builtin</li>\n<li>directories</li>\n<li>implementsCommonJS</li>\n<li>scripts<br>scripts: { install: install.js,<br>uninstall: uninstall.js,<br>build: build.js,<br>doc: make-doc.js,<br>test: test.js } </li>\n</ul>\n<p>NPMnameversiondescriptionkeywordsrepositoriesauthorbinmainscriptsenginesdependenciesdevDependencies<br>authorbinmaindevDependencies4</p>\n<ul>\n<li>author</li>\n<li>binbinnpm install package_name -g<br>node-gyp-g</li>\n<li>mainrequire()require()index.jsindex.nodeindex.json</li>\n<li>devDependencies</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li></li>\n<li><ul>\n<li>npm init</li>\n</ul>\n</li>\n<li><ul>\n<li>npm adduser</li>\n</ul>\n</li>\n<li><ul>\n<li>npm publish .</li>\n</ul>\n</li>\n<li><ul>\n<li>npm install XXXX</li>\n</ul>\n</li>\n<li><ul>\n<li>npm owner ls <package name></package></li>\n<li>npm owner add <user> <package name> </package></user></li>\n<li>npm owner rm <user> <package name> </package></user></li>\n</ul>\n</li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li>READMEAPI</li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h6 id=\"AMD\"><a href=\"#AMD\" class=\"headerlink\" title=\"AMD\"></a>AMD</h6><p>AMDCommonJS<br>define(id?, dependencies?, factory);<br>idNodefactory<br>AMDdefineNode</p>\n<h6 id=\"CMD\"><a href=\"#CMD\" class=\"headerlink\" title=\"CMD\"></a>CMD</h6><p>AMDAMD<br>define([dep1, dep2], function (dep1, dep2) {<br> return function () {};<br>});<br>AMDCMDNodeCommonJS<br>define(factory);<br>CMD<br>define(function(require, exports, module) {<br> // The module code goes here<br>});<br>requireexportsmodulerequire()</p>\n"},{"title":"nodejs","date":"2022-11-01T03:08:33.000Z","_content":"\n- [nvmnode](/nodejs/install-diff-version-node-by-nvm.html)\n- [nodejs1- & nodejs-1](/nodejs/nodejs-note-1.html)\n- [nodejs2-nodejs-2](/nodejs/nodejs-note-2.html)\n- [nodejs3-nodejs-3](/nodejs/nodejs-note-3.html)\n- [nodejs4-nodejs-4](/nodejs/nodejs-note-4.html)\n- [nodejs5-nodejs-5](/nodejs/nodejs-note-5.html)\n- [nodejs6-assert & asyncHooks](/nodejs/nodejs-note-6.html)\n- [nodejs7-buffer-1](/nodejs/nodejs-note-7.html)\n- [nodejs8-buffer-2](/nodejs/nodejs-note-8.html)\n- [nodejs9-C++ ](/nodejs/nodejs-note-9.html)\n- [nodejs10-child_process](/nodejs/nodejs-note-10.html)\n- [nodejs11-cluster](/nodejs/nodejs-note-11.html)\n- [nodejs12- & console ()](/nodejs/nodejs-note-12.html)\n- [nodejs13-crypto ()](/nodejs/nodejs-note-13.html)\n- [nodejs14](/nodejs/nodejs-note-14.html)\n- [nodejs15](/nodejs/nodejs-note-15.html)","source":"nodejs/index.md","raw":"---\ntitle: nodejs\ndate: 2022-11-01 11:08:33\n---\n\n- [nvmnode](/nodejs/install-diff-version-node-by-nvm.html)\n- [nodejs1- & nodejs-1](/nodejs/nodejs-note-1.html)\n- [nodejs2-nodejs-2](/nodejs/nodejs-note-2.html)\n- [nodejs3-nodejs-3](/nodejs/nodejs-note-3.html)\n- [nodejs4-nodejs-4](/nodejs/nodejs-note-4.html)\n- [nodejs5-nodejs-5](/nodejs/nodejs-note-5.html)\n- [nodejs6-assert & asyncHooks](/nodejs/nodejs-note-6.html)\n- [nodejs7-buffer-1](/nodejs/nodejs-note-7.html)\n- [nodejs8-buffer-2](/nodejs/nodejs-note-8.html)\n- [nodejs9-C++ ](/nodejs/nodejs-note-9.html)\n- [nodejs10-child_process](/nodejs/nodejs-note-10.html)\n- [nodejs11-cluster](/nodejs/nodejs-note-11.html)\n- [nodejs12- & console ()](/nodejs/nodejs-note-12.html)\n- [nodejs13-crypto ()](/nodejs/nodejs-note-13.html)\n- [nodejs14](/nodejs/nodejs-note-14.html)\n- [nodejs15](/nodejs/nodejs-note-15.html)","updated":"2023-01-04T08:12:48.576Z","path":"nodejs/index.html","comments":1,"layout":"page","_id":"clchh4gwm000cckttfu2ffsoy","content":"<ul>\n<li><a href=\"/nodejs/install-diff-version-node-by-nvm.html\">nvmnode</a></li>\n<li><a href=\"/nodejs/nodejs-note-1.html\">nodejs1- &amp; nodejs-1</a></li>\n<li><a href=\"/nodejs/nodejs-note-2.html\">nodejs2-nodejs-2</a></li>\n<li><a href=\"/nodejs/nodejs-note-3.html\">nodejs3-nodejs-3</a></li>\n<li><a href=\"/nodejs/nodejs-note-4.html\">nodejs4-nodejs-4</a></li>\n<li><a href=\"/nodejs/nodejs-note-5.html\">nodejs5-nodejs-5</a></li>\n<li><a href=\"/nodejs/nodejs-note-6.html\">nodejs6-assert &amp; asyncHooks</a></li>\n<li><a href=\"/nodejs/nodejs-note-7.html\">nodejs7-buffer-1</a></li>\n<li><a href=\"/nodejs/nodejs-note-8.html\">nodejs8-buffer-2</a></li>\n<li><a href=\"/nodejs/nodejs-note-9.html\">nodejs9-C++ </a></li>\n<li><a href=\"/nodejs/nodejs-note-10.html\">nodejs10-child_process</a></li>\n<li><a href=\"/nodejs/nodejs-note-11.html\">nodejs11-cluster</a></li>\n<li><a href=\"/nodejs/nodejs-note-12.html\">nodejs12- &amp; console ()</a></li>\n<li><a href=\"/nodejs/nodejs-note-13.html\">nodejs13-crypto ()</a></li>\n<li><a href=\"/nodejs/nodejs-note-14.html\">nodejs14</a></li>\n<li><a href=\"/nodejs/nodejs-note-15.html\">nodejs15</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<ul>\n<li><a href=\"/nodejs/install-diff-version-node-by-nvm.html\">nvmnode</a></li>\n<li><a href=\"/nodejs/nodejs-note-1.html\">nodejs1- &amp; nodejs-1</a></li>\n<li><a href=\"/nodejs/nodejs-note-2.html\">nodejs2-nodejs-2</a></li>\n<li><a href=\"/nodejs/nodejs-note-3.html\">nodejs3-nodejs-3</a></li>\n<li><a href=\"/nodejs/nodejs-note-4.html\">nodejs4-nodejs-4</a></li>\n<li><a href=\"/nodejs/nodejs-note-5.html\">nodejs5-nodejs-5</a></li>\n<li><a href=\"/nodejs/nodejs-note-6.html\">nodejs6-assert &amp; asyncHooks</a></li>\n<li><a href=\"/nodejs/nodejs-note-7.html\">nodejs7-buffer-1</a></li>\n<li><a href=\"/nodejs/nodejs-note-8.html\">nodejs8-buffer-2</a></li>\n<li><a href=\"/nodejs/nodejs-note-9.html\">nodejs9-C++ </a></li>\n<li><a href=\"/nodejs/nodejs-note-10.html\">nodejs10-child_process</a></li>\n<li><a href=\"/nodejs/nodejs-note-11.html\">nodejs11-cluster</a></li>\n<li><a href=\"/nodejs/nodejs-note-12.html\">nodejs12- &amp; console ()</a></li>\n<li><a href=\"/nodejs/nodejs-note-13.html\">nodejs13-crypto ()</a></li>\n<li><a href=\"/nodejs/nodejs-note-14.html\">nodejs14</a></li>\n<li><a href=\"/nodejs/nodejs-note-15.html\">nodejs15</a></li>\n</ul>\n"},{"title":"nodejs(3)","date":"2022-12-29T03:32:45.000Z","tags":["node","child_process - "],"_content":"\nchild_process  [popen(3)](https://man7.org/linux/man-pages/man3/popen.3.html)   [child_process.spawn()] \n```nodejs\nconst { spawn } = require('child_process');\nconst ls = spawn('ls', ['-lh', '/usr']);\n\nls.stdout.on('data', (data) => {\n  console.log(`${data}`);\n});\n\nls.stderr.on('data', (data) => {\n  console.log(`${data}`);\n});\n\nls.on('close', (code) => {\n  console.log(`${code}`);\n});\n```\nNode.js  stdinstdout  stderr    I/O Node.js\n\n- [child_process.spawn()]  Node.js  \n- [child_process.spawnSync()] \n- [child_process.exec()]:  shell  shell  stdout  stderr \n- [child_process.execFile()]:  [child_process.exec()] shell\n- [child_process.fork()]:  Node.js  IPC \n- [child_process.execSync()]: [child_process.exec()]  Node.js \n- [child_process.execFileSync()]: [child_process.execFile()]  Node.js \n\n* [child_process.spawn()]  [child_process.spawnSync()] *\n\n****\n[child_process.spawn()][child_process.fork()][child_process.exec()]  [child_process.execFile()]  Node.js API \n\n [ChildProcess]   Node.js [EventEmitter] API\n\n[child_process.exec()]  [child_process.execFile()]  callback \n\n** Windows  .bat  .cmd **\n[child_process.exec()]  [child_process.execFile()]   Unix Unix Linux macOS[child_process.execFile()]  shell  Windows .bat  .cmd  [child_process.execFile()]   shell  [child_process.spawn()] [child_process.exec()] cmd.exe  .bat  .cmd  shell  [child_process.exec()]  \n```\n//  Windows \nconst { spawn } = require('child_process');\nconst bat = spawn('cmd.exe', ['/c', 'my.bat']);\n\nbat.stdout.on('data', (data) => {\n  console.log(data.toString());\n});\n\nbat.stderr.on('data', (data) => {\n  console.log(data.toString());\n});\n\nbat.on('exit', (code) => {\n  console.log(`${code}`);\n});\n\n// \nconst { exec } = require('child_process');\nexec('my.bat', (err, stdout, stderr) => {\n  if (err) {\n    console.error(err);\n    return;\n  }\n  console.log(stdout);\n});\n\n// \nconst bat = spawn('\"my script.cmd\"', ['a', 'b'], { shell: true });\n// \nexec('\"my script.cmd\" a b', (err, stdout, stderr) => {\n  // ...\n});\n```\n\n**child_process.exec(command[, options][, callback])**\n- command <string> \n- options <Object>\n - cwd <string> \n - env <Object> \n - encoding <string>  'utf8'\n - shell <string>  shell UNIX  '/bin/sh' Windows  process.env.ComSpecShellWindowsShell\n - timeout <number>  0\n - maxBuffer <number> stdout  stderr  200*1024 maxBufferUnicode\n - killSignal <string> | <integer>  'SIGTERM'\n - uid <number>  setuid(2)\n - gid <number>  setgid(2)\n - windowsHide <boolean>  Windows  false\n- callback <Function> \n - error <Error>\n - stdout <string> | <Buffer>\n - stderr <string> | <Buffer>\n: <ChildProcess>\n\n shell  shell  command  command  shell shell\n```\nexec('\"/path/to/test file/test.sh\" arg1 arg2');\n// \n\nexec('echo \"The \\\\$HOME variable is $HOME\"');\n//  $HOME \n```\n\n  shell \n```\nconst { exec } = require('child_process');\nexec('cat *.js bad_file | wc -l', (error, stdout, stderr) => {\n  if (error) {\n    console.error(`exec error: ${error}`);\n    return;\n  }\n  console.log(`stdout: ${stdout}`);\n  console.log(`stderr: ${stderr}`);\n});\n```\n\n callback  (error, stdout, stderr) error  null error  [Error]  error.code error.signal   0 \n\n stdout  stderr  stdout  stderr  Node.js  UTF-8 encoding  stdout  stderr   encoding  'buffer' Buffer \n\noptions \n\n timeout  0 timeout  killSignal  'SIGTERM'\n\n [util.promisify()][]  stdout  stderr  Promise  rejected  promise error  stdout  stderr \n```\nconst util = require('util');\nconst exec = util.promisify(require('child_process').exec);\n\nasync function lsExample() {\n  const { stdout, stderr } = await exec('ls');\n  console.log('stdout:', stdout);\n  console.log('stderr:', stderr);\n}\nlsExample();\n```\n\n**child_process.execFile(file[, args][, options][, callback])**\n- file <string> \n- args <string[]> \n- options <Object>\n  - cwd <string> \n  - env <Object> \n  - encoding <string>  'utf8'\n  - timeout <number>  0\n  - maxBuffer <number> stdout  stderr   200*1024  \n  - killSignal <string> | <integer>  'SIGTERM'\n  - uid <number>  setuid(2)\n  - gid <number>  setgid(2)\n  - windowsHide <boolean> Windows : false\n  - windowsVerbatimArguments <boolean> Windows Linux shell true: false\n- callback <Function> \n  - error <Error>\n  - stdout <string> | <Buffer>\n  - stderr <string> | <Buffer>\n: <ChildProcess>\nchild_process.execFile()  [child_process.exec()] shell  file  [child_process.exec()] \n\n [child_process.exec()]   shell I/O \n```\nconst { execFile } = require('child_process');\nconst child = execFile('node', ['--version'], (error, stdout, stderr) => {\n  if (error) {\n    throw error;\n  }\n  console.log(stdout);\n});\n```\n\n**child_process.fork(modulePath[, args][, options])**\n- modulePath <string> \n- args <Array> \n- options <Object>\n  - cwd <string> \n  - env <Object> \n  - execPath <string> \n  - execArgv <Array>  process.execArgv\n  - silent <boolean>  true stdin stdout  stderr  [child_process.spawn()]  [stdio]  'pipe'  'inherit'  : false\n  - stdio <Array> | <string>  [child_process.spawn()]  [stdio]  silent  'ipc'   [0, 1, 2, 'ipc']\n  - windowsVerbatimArguments <boolean> Windows Linux: false\n  - uid <number>  setuid(2)\n  - gid <number>  setgid(2)\n: <ChildProcess>\nchild_process.fork()  [child_process.spawn()]  Node.js   [child_process.spawn()]  [ChildProcess]   [ChildProcess]   [subprocess.send()]\n\n Node.js  IPC   V8   Node.js \n\nchild_process.fork()  [process.execPath]  Node.js  options  execPath \n\n execPath  Node.js  NODE_CHANNEL_FD fd\n\n POSIX  fork(2)child_process.fork() \n\n: child_process.fork()  [child_process.spawn()][] shell \n\n**child_process.spawn(command[, args][, options])**\n- command <string> \n- args <Array> \n- options <Object>\n  - cwd <string> \n  - env <Object> \n  - argv0 <string>  argv[0]   command\n  - stdio <Array> | <string>  stdio  \n  - detached <boolean>  \n  - uid <number> \n  - gid <number> \n  - shell <boolean> | <string>  true shell  command  UNIX  '/bin/sh' Windows  process.env.ComSpec  shell   false shell\n  - windowsVerbatimArguments <boolean> Windows Linux shell true: false\n  - windowsHide <boolean> Windows : false\n: <ChildProcess>\n\n**child_process.execFileSync(file[, args][, options])**\nchild_process.execFileSync()  [child_process.execFile()]   killSignal \n\n SIGTERM \n\n [Error] [child_process.spawnSync()] \n\n**child_process.execSync(command[, options])**\nchild_process.execSync()  [child_process.exec()]   killSignal   SIGTERM \n\n [Error]  [child_process.spawnSync()] \n\n  shell \n\n**child_process.spawnSync(command[, args][, options])**\nchild_process.spawnSync()  [child_process.spawn()]   killSignal   SIGTERM \n\n  shell \n\n**ChildProcess **\nChildProcess  [EventEmitter]\n\nChildProcess   [child_process.spawn()][child_process.exec()][child_process.execFile()]  [child_process.fork()]  ChildProcess \n\n**'close' **\ncode <number> \nsignal <string> \n stdio  'close'   ['exit']  stdio \n\n**'disconnect' **\n [subprocess.disconnect()]  [process.disconnect()]  'disconnect'   [subprocess.connected]  false\n\n**'error' **\nerr <Error> \n 'error' \n- \n- \n- \n'exit'   'exit'  'error' \n [subprocess.kill()]  [subprocess.send()]\n\n**'exit' **\ncode <number> \nsignal <string> \n 'exit'   code  null \n signal  null \n**\n\n 'exit'  stdio \n\nNode.js  SIGINT  SIGTERM  Node.js  Node.js \n\n**'message' **\nmessage <Object>  JSON \nsendHandle <Handle>  [net.Socket]  [net.Server]   undefined\n [process.send()]  'message' \n\n: \n\n**subprocess.channel**\n<Object> IPC\nsubprocess.channel  IPC  IPC  undefined\n\n**subprocess.connected**\n<boolean>  subprocess.disconnect()  false\nsubprocess.connected   subprocess.connected  false \n\n**subprocess.disconnect()**\n IPC   subprocess.connected  process.connected  false\n\n 'disconnect'   subprocess.disconnect() \n\n Node.js  [child_process.fork()]  process.disconnect()  IPC \n\n**subprocess.kill([signal])**\nsignal <string>\nsubprocess.kill()   'SIGTERM' \n```\nconst { spawn } = require('child_process');\nconst grep = spawn('grep', ['ssh']);\n\ngrep.on('close', (code, signal) => {\n  console.log(` ${signal} `);\n});\n\n//  SIGHUP \ngrep.kill('SIGHUP');\n```\n[ChildProcess]  ['error']    PID \n\n kill \n\n**subprocess.killed**\n<boolean>  subprocess.kill()  true\nsubprocess.killed  subprocess.kill()  \n\n**subprocess.pid**\n<number> \nPID\n\n**subprocess.send(message[, sendHandle[, options]][, callback])**\n IPC  [child_process.fork()]subprocess.send()   Node.js  [process.on('message')] \n\n: \n\n**subprocess.stderr**\n<stream.Readable>\n stderr \n stdio[2]  'pipe'  null\nsubprocess.stderr  subprocess.stdio[2]  \n\n**subprocess.stdin**\n<stream.Writable>\n stdin \n end() \n stdio[0]  'pipe'  null\nsubprocess.stdin  subprocess.stdio[0]  \n\n**subprocess.stdio**\n<Array>\n [child_process.spawn()]  'pipe'  [stdio] subprocess.stdio[0]subprocess.stdio[1]  subprocess.stdio[2]  subprocess.stdin subprocess.stdout  subprocess.stderr\n\n**subprocess.stdout**\n<stream.Readable>\n stdout \n stdio[1]  'pipe'  null\nsubprocess.stdout  subprocess.stdio[1]  \n\n**maxBuffer  Unicode**\nmaxBuffer  stdout  stderr    UTF-8  UTF-16 console.log('')  13  UTF-8  stdout 4 ","source":"nodejs/nodejs-note-10.md","raw":"---\ntitle: nodejs(3)\ndate: 2022-12-29 11:32:45\ntags: [node, child_process - ]\n---\n\nchild_process  [popen(3)](https://man7.org/linux/man-pages/man3/popen.3.html)   [child_process.spawn()] \n```nodejs\nconst { spawn } = require('child_process');\nconst ls = spawn('ls', ['-lh', '/usr']);\n\nls.stdout.on('data', (data) => {\n  console.log(`${data}`);\n});\n\nls.stderr.on('data', (data) => {\n  console.log(`${data}`);\n});\n\nls.on('close', (code) => {\n  console.log(`${code}`);\n});\n```\nNode.js  stdinstdout  stderr    I/O Node.js\n\n- [child_process.spawn()]  Node.js  \n- [child_process.spawnSync()] \n- [child_process.exec()]:  shell  shell  stdout  stderr \n- [child_process.execFile()]:  [child_process.exec()] shell\n- [child_process.fork()]:  Node.js  IPC \n- [child_process.execSync()]: [child_process.exec()]  Node.js \n- [child_process.execFileSync()]: [child_process.execFile()]  Node.js \n\n* [child_process.spawn()]  [child_process.spawnSync()] *\n\n****\n[child_process.spawn()][child_process.fork()][child_process.exec()]  [child_process.execFile()]  Node.js API \n\n [ChildProcess]   Node.js [EventEmitter] API\n\n[child_process.exec()]  [child_process.execFile()]  callback \n\n** Windows  .bat  .cmd **\n[child_process.exec()]  [child_process.execFile()]   Unix Unix Linux macOS[child_process.execFile()]  shell  Windows .bat  .cmd  [child_process.execFile()]   shell  [child_process.spawn()] [child_process.exec()] cmd.exe  .bat  .cmd  shell  [child_process.exec()]  \n```\n//  Windows \nconst { spawn } = require('child_process');\nconst bat = spawn('cmd.exe', ['/c', 'my.bat']);\n\nbat.stdout.on('data', (data) => {\n  console.log(data.toString());\n});\n\nbat.stderr.on('data', (data) => {\n  console.log(data.toString());\n});\n\nbat.on('exit', (code) => {\n  console.log(`${code}`);\n});\n\n// \nconst { exec } = require('child_process');\nexec('my.bat', (err, stdout, stderr) => {\n  if (err) {\n    console.error(err);\n    return;\n  }\n  console.log(stdout);\n});\n\n// \nconst bat = spawn('\"my script.cmd\"', ['a', 'b'], { shell: true });\n// \nexec('\"my script.cmd\" a b', (err, stdout, stderr) => {\n  // ...\n});\n```\n\n**child_process.exec(command[, options][, callback])**\n- command <string> \n- options <Object>\n - cwd <string> \n - env <Object> \n - encoding <string>  'utf8'\n - shell <string>  shell UNIX  '/bin/sh' Windows  process.env.ComSpecShellWindowsShell\n - timeout <number>  0\n - maxBuffer <number> stdout  stderr  200*1024 maxBufferUnicode\n - killSignal <string> | <integer>  'SIGTERM'\n - uid <number>  setuid(2)\n - gid <number>  setgid(2)\n - windowsHide <boolean>  Windows  false\n- callback <Function> \n - error <Error>\n - stdout <string> | <Buffer>\n - stderr <string> | <Buffer>\n: <ChildProcess>\n\n shell  shell  command  command  shell shell\n```\nexec('\"/path/to/test file/test.sh\" arg1 arg2');\n// \n\nexec('echo \"The \\\\$HOME variable is $HOME\"');\n//  $HOME \n```\n\n  shell \n```\nconst { exec } = require('child_process');\nexec('cat *.js bad_file | wc -l', (error, stdout, stderr) => {\n  if (error) {\n    console.error(`exec error: ${error}`);\n    return;\n  }\n  console.log(`stdout: ${stdout}`);\n  console.log(`stderr: ${stderr}`);\n});\n```\n\n callback  (error, stdout, stderr) error  null error  [Error]  error.code error.signal   0 \n\n stdout  stderr  stdout  stderr  Node.js  UTF-8 encoding  stdout  stderr   encoding  'buffer' Buffer \n\noptions \n\n timeout  0 timeout  killSignal  'SIGTERM'\n\n [util.promisify()][]  stdout  stderr  Promise  rejected  promise error  stdout  stderr \n```\nconst util = require('util');\nconst exec = util.promisify(require('child_process').exec);\n\nasync function lsExample() {\n  const { stdout, stderr } = await exec('ls');\n  console.log('stdout:', stdout);\n  console.log('stderr:', stderr);\n}\nlsExample();\n```\n\n**child_process.execFile(file[, args][, options][, callback])**\n- file <string> \n- args <string[]> \n- options <Object>\n  - cwd <string> \n  - env <Object> \n  - encoding <string>  'utf8'\n  - timeout <number>  0\n  - maxBuffer <number> stdout  stderr   200*1024  \n  - killSignal <string> | <integer>  'SIGTERM'\n  - uid <number>  setuid(2)\n  - gid <number>  setgid(2)\n  - windowsHide <boolean> Windows : false\n  - windowsVerbatimArguments <boolean> Windows Linux shell true: false\n- callback <Function> \n  - error <Error>\n  - stdout <string> | <Buffer>\n  - stderr <string> | <Buffer>\n: <ChildProcess>\nchild_process.execFile()  [child_process.exec()] shell  file  [child_process.exec()] \n\n [child_process.exec()]   shell I/O \n```\nconst { execFile } = require('child_process');\nconst child = execFile('node', ['--version'], (error, stdout, stderr) => {\n  if (error) {\n    throw error;\n  }\n  console.log(stdout);\n});\n```\n\n**child_process.fork(modulePath[, args][, options])**\n- modulePath <string> \n- args <Array> \n- options <Object>\n  - cwd <string> \n  - env <Object> \n  - execPath <string> \n  - execArgv <Array>  process.execArgv\n  - silent <boolean>  true stdin stdout  stderr  [child_process.spawn()]  [stdio]  'pipe'  'inherit'  : false\n  - stdio <Array> | <string>  [child_process.spawn()]  [stdio]  silent  'ipc'   [0, 1, 2, 'ipc']\n  - windowsVerbatimArguments <boolean> Windows Linux: false\n  - uid <number>  setuid(2)\n  - gid <number>  setgid(2)\n: <ChildProcess>\nchild_process.fork()  [child_process.spawn()]  Node.js   [child_process.spawn()]  [ChildProcess]   [ChildProcess]   [subprocess.send()]\n\n Node.js  IPC   V8   Node.js \n\nchild_process.fork()  [process.execPath]  Node.js  options  execPath \n\n execPath  Node.js  NODE_CHANNEL_FD fd\n\n POSIX  fork(2)child_process.fork() \n\n: child_process.fork()  [child_process.spawn()][] shell \n\n**child_process.spawn(command[, args][, options])**\n- command <string> \n- args <Array> \n- options <Object>\n  - cwd <string> \n  - env <Object> \n  - argv0 <string>  argv[0]   command\n  - stdio <Array> | <string>  stdio  \n  - detached <boolean>  \n  - uid <number> \n  - gid <number> \n  - shell <boolean> | <string>  true shell  command  UNIX  '/bin/sh' Windows  process.env.ComSpec  shell   false shell\n  - windowsVerbatimArguments <boolean> Windows Linux shell true: false\n  - windowsHide <boolean> Windows : false\n: <ChildProcess>\n\n**child_process.execFileSync(file[, args][, options])**\nchild_process.execFileSync()  [child_process.execFile()]   killSignal \n\n SIGTERM \n\n [Error] [child_process.spawnSync()] \n\n**child_process.execSync(command[, options])**\nchild_process.execSync()  [child_process.exec()]   killSignal   SIGTERM \n\n [Error]  [child_process.spawnSync()] \n\n  shell \n\n**child_process.spawnSync(command[, args][, options])**\nchild_process.spawnSync()  [child_process.spawn()]   killSignal   SIGTERM \n\n  shell \n\n**ChildProcess **\nChildProcess  [EventEmitter]\n\nChildProcess   [child_process.spawn()][child_process.exec()][child_process.execFile()]  [child_process.fork()]  ChildProcess \n\n**'close' **\ncode <number> \nsignal <string> \n stdio  'close'   ['exit']  stdio \n\n**'disconnect' **\n [subprocess.disconnect()]  [process.disconnect()]  'disconnect'   [subprocess.connected]  false\n\n**'error' **\nerr <Error> \n 'error' \n- \n- \n- \n'exit'   'exit'  'error' \n [subprocess.kill()]  [subprocess.send()]\n\n**'exit' **\ncode <number> \nsignal <string> \n 'exit'   code  null \n signal  null \n**\n\n 'exit'  stdio \n\nNode.js  SIGINT  SIGTERM  Node.js  Node.js \n\n**'message' **\nmessage <Object>  JSON \nsendHandle <Handle>  [net.Socket]  [net.Server]   undefined\n [process.send()]  'message' \n\n: \n\n**subprocess.channel**\n<Object> IPC\nsubprocess.channel  IPC  IPC  undefined\n\n**subprocess.connected**\n<boolean>  subprocess.disconnect()  false\nsubprocess.connected   subprocess.connected  false \n\n**subprocess.disconnect()**\n IPC   subprocess.connected  process.connected  false\n\n 'disconnect'   subprocess.disconnect() \n\n Node.js  [child_process.fork()]  process.disconnect()  IPC \n\n**subprocess.kill([signal])**\nsignal <string>\nsubprocess.kill()   'SIGTERM' \n```\nconst { spawn } = require('child_process');\nconst grep = spawn('grep', ['ssh']);\n\ngrep.on('close', (code, signal) => {\n  console.log(` ${signal} `);\n});\n\n//  SIGHUP \ngrep.kill('SIGHUP');\n```\n[ChildProcess]  ['error']    PID \n\n kill \n\n**subprocess.killed**\n<boolean>  subprocess.kill()  true\nsubprocess.killed  subprocess.kill()  \n\n**subprocess.pid**\n<number> \nPID\n\n**subprocess.send(message[, sendHandle[, options]][, callback])**\n IPC  [child_process.fork()]subprocess.send()   Node.js  [process.on('message')] \n\n: \n\n**subprocess.stderr**\n<stream.Readable>\n stderr \n stdio[2]  'pipe'  null\nsubprocess.stderr  subprocess.stdio[2]  \n\n**subprocess.stdin**\n<stream.Writable>\n stdin \n end() \n stdio[0]  'pipe'  null\nsubprocess.stdin  subprocess.stdio[0]  \n\n**subprocess.stdio**\n<Array>\n [child_process.spawn()]  'pipe'  [stdio] subprocess.stdio[0]subprocess.stdio[1]  subprocess.stdio[2]  subprocess.stdin subprocess.stdout  subprocess.stderr\n\n**subprocess.stdout**\n<stream.Readable>\n stdout \n stdio[1]  'pipe'  null\nsubprocess.stdout  subprocess.stdio[1]  \n\n**maxBuffer  Unicode**\nmaxBuffer  stdout  stderr    UTF-8  UTF-16 console.log('')  13  UTF-8  stdout 4 ","updated":"2022-12-30T08:26:58.409Z","path":"nodejs/nodejs-note-10.html","comments":1,"layout":"page","_id":"clchh4gwn000ecktt24mxcjkd","content":"<p>child_process  <a href=\"https://man7.org/linux/man-pages/man3/popen.3.html\">popen(3)</a>   [child_process.spawn()] </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const &#123; spawn &#125; = require(&#x27;child_process&#x27;);</span><br><span class=\"line\">const ls = spawn(&#x27;ls&#x27;, [&#x27;-lh&#x27;, &#x27;/usr&#x27;]);</span><br><span class=\"line\"></span><br><span class=\"line\">ls.stdout.on(&#x27;data&#x27;, (data) =&gt; &#123;</span><br><span class=\"line\">  console.log(`$&#123;data&#125;`);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">ls.stderr.on(&#x27;data&#x27;, (data) =&gt; &#123;</span><br><span class=\"line\">  console.log(`$&#123;data&#125;`);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">ls.on(&#x27;close&#x27;, (code) =&gt; &#123;</span><br><span class=\"line\">  console.log(`$&#123;code&#125;`);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>Node.js  stdinstdout  stderr    I/O Node.js</p>\n<ul>\n<li>[child_process.spawn()]  Node.js  </li>\n<li>[child_process.spawnSync()] </li>\n<li>[child_process.exec()]:  shell  shell  stdout  stderr </li>\n<li>[child_process.execFile()]:  [child_process.exec()] shell</li>\n<li>[child_process.fork()]:  Node.js  IPC </li>\n<li>[child_process.execSync()]: [child_process.exec()]  Node.js </li>\n<li>[child_process.execFileSync()]: [child_process.execFile()]  Node.js </li>\n</ul>\n<p><em> [child_process.spawn()]  [child_process.spawnSync()] </em></p>\n<p><strong></strong><br>[child_process.spawn()][child_process.fork()][child_process.exec()]  [child_process.execFile()]  Node.js API </p>\n<p> [ChildProcess]   Node.js [EventEmitter] API</p>\n<p>[child_process.exec()]  [child_process.execFile()]  callback </p>\n<p><strong> Windows  .bat  .cmd </strong><br>[child_process.exec()]  [child_process.execFile()]   Unix Unix Linux macOS[child_process.execFile()]  shell  Windows .bat  .cmd  [child_process.execFile()]   shell  [child_process.spawn()] [child_process.exec()] cmd.exe  .bat  .cmd  shell  [child_process.exec()]  </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//  Windows </span><br><span class=\"line\">const &#123; spawn &#125; = require(&#x27;child_process&#x27;);</span><br><span class=\"line\">const bat = spawn(&#x27;cmd.exe&#x27;, [&#x27;/c&#x27;, &#x27;my.bat&#x27;]);</span><br><span class=\"line\"></span><br><span class=\"line\">bat.stdout.on(&#x27;data&#x27;, (data) =&gt; &#123;</span><br><span class=\"line\">  console.log(data.toString());</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">bat.stderr.on(&#x27;data&#x27;, (data) =&gt; &#123;</span><br><span class=\"line\">  console.log(data.toString());</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">bat.on(&#x27;exit&#x27;, (code) =&gt; &#123;</span><br><span class=\"line\">  console.log(`$&#123;code&#125;`);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">// </span><br><span class=\"line\">const &#123; exec &#125; = require(&#x27;child_process&#x27;);</span><br><span class=\"line\">exec(&#x27;my.bat&#x27;, (err, stdout, stderr) =&gt; &#123;</span><br><span class=\"line\">  if (err) &#123;</span><br><span class=\"line\">    console.error(err);</span><br><span class=\"line\">    return;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  console.log(stdout);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">// </span><br><span class=\"line\">const bat = spawn(&#x27;&quot;my script.cmd&quot;&#x27;, [&#x27;a&#x27;, &#x27;b&#x27;], &#123; shell: true &#125;);</span><br><span class=\"line\">// </span><br><span class=\"line\">exec(&#x27;&quot;my script.cmd&quot; a b&#x27;, (err, stdout, stderr) =&gt; &#123;</span><br><span class=\"line\">  // ...</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><strong>child_process.exec(command[, options][, callback])</strong></p>\n<ul>\n<li>command <string> </string></li>\n<li>options <Object></Object></li>\n<li>cwd <string> </string></li>\n<li>env <Object> </Object></li>\n<li>encoding <string>  utf8</string></li>\n<li>shell <string>  shell UNIX  /bin/sh Windows  process.env.ComSpecShellWindowsShell</string></li>\n<li>timeout <number>  0</number></li>\n<li>maxBuffer <number> stdout  stderr  200*1024 maxBufferUnicode</number></li>\n<li>killSignal <string> | <integer>  SIGTERM</integer></string></li>\n<li>uid <number>  setuid(2)</number></li>\n<li>gid <number>  setgid(2)</number></li>\n<li>windowsHide <boolean>  Windows  false</boolean></li>\n<li>callback <Function> </Function></li>\n<li>error <Error></Error></li>\n<li>stdout <string> | <Buffer></Buffer></string></li>\n<li>stderr <string> | <Buffer><br>: <ChildProcess></ChildProcess></Buffer></string></li>\n</ul>\n<p> shell  shell  command  command  shell shell</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">exec(&#x27;&quot;/path/to/test file/test.sh&quot; arg1 arg2&#x27;);</span><br><span class=\"line\">// </span><br><span class=\"line\"></span><br><span class=\"line\">exec(&#x27;echo &quot;The \\\\$HOME variable is $HOME&quot;&#x27;);</span><br><span class=\"line\">//  $HOME </span><br></pre></td></tr></table></figure>\n\n<p>  shell </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const &#123; exec &#125; = require(&#x27;child_process&#x27;);</span><br><span class=\"line\">exec(&#x27;cat *.js bad_file | wc -l&#x27;, (error, stdout, stderr) =&gt; &#123;</span><br><span class=\"line\">  if (error) &#123;</span><br><span class=\"line\">    console.error(`exec error: $&#123;error&#125;`);</span><br><span class=\"line\">    return;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  console.log(`stdout: $&#123;stdout&#125;`);</span><br><span class=\"line\">  console.log(`stderr: $&#123;stderr&#125;`);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p> callback  (error, stdout, stderr) error  null error  [Error]  error.code error.signal   0 </p>\n<p> stdout  stderr  stdout  stderr  Node.js  UTF-8 encoding  stdout  stderr   encoding  buffer Buffer </p>\n<p>options </p>\n<p> timeout  0 timeout  killSignal  SIGTERM</p>\n<p> [util.promisify()][]  stdout  stderr  Promise  rejected  promise error  stdout  stderr </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const util = require(&#x27;util&#x27;);</span><br><span class=\"line\">const exec = util.promisify(require(&#x27;child_process&#x27;).exec);</span><br><span class=\"line\"></span><br><span class=\"line\">async function lsExample() &#123;</span><br><span class=\"line\">  const &#123; stdout, stderr &#125; = await exec(&#x27;ls&#x27;);</span><br><span class=\"line\">  console.log(&#x27;stdout:&#x27;, stdout);</span><br><span class=\"line\">  console.log(&#x27;stderr:&#x27;, stderr);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">lsExample();</span><br></pre></td></tr></table></figure>\n\n<p><strong>child_process.execFile(file[, args][, options][, callback])</strong></p>\n<ul>\n<li>file <string> </string></li>\n<li>args &lt;string[]&gt; </li>\n<li>options <Object><ul>\n<li>cwd <string> </string></li>\n<li>env <Object> </Object></li>\n<li>encoding <string>  utf8</string></li>\n<li>timeout <number>  0</number></li>\n<li>maxBuffer <number> stdout  stderr   200*1024  </number></li>\n<li>killSignal <string> | <integer>  SIGTERM</integer></string></li>\n<li>uid <number>  setuid(2)</number></li>\n<li>gid <number>  setgid(2)</number></li>\n<li>windowsHide <boolean> Windows : false</boolean></li>\n<li>windowsVerbatimArguments <boolean> Windows Linux shell true: false</boolean></li>\n</ul>\n</Object></li>\n<li>callback <Function> <ul>\n<li>error <Error></Error></li>\n<li>stdout <string> | <Buffer></Buffer></string></li>\n<li>stderr <string> | <Buffer><br>: <ChildProcess><br>child_process.execFile()  [child_process.exec()] shell  file  [child_process.exec()] </ChildProcess></Buffer></string></li>\n</ul>\n</Function></li>\n</ul>\n<p> [child_process.exec()]   shell I/O </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const &#123; execFile &#125; = require(&#x27;child_process&#x27;);</span><br><span class=\"line\">const child = execFile(&#x27;node&#x27;, [&#x27;--version&#x27;], (error, stdout, stderr) =&gt; &#123;</span><br><span class=\"line\">  if (error) &#123;</span><br><span class=\"line\">    throw error;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  console.log(stdout);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><strong>child_process.fork(modulePath[, args][, options])</strong></p>\n<ul>\n<li>modulePath <string> </string></li>\n<li>args <Array> </Array></li>\n<li>options <Object><ul>\n<li>cwd <string> </string></li>\n<li>env <Object> </Object></li>\n<li>execPath <string> </string></li>\n<li>execArgv <Array>  process.execArgv</Array></li>\n<li>silent <boolean>  true stdin stdout  stderr  [child_process.spawn()]  [stdio]  pipe  inherit  : false</boolean></li>\n<li>stdio <Array> | <string>  [child_process.spawn()]  [stdio]  silent  ipc   [0, 1, 2, ipc]</string></Array></li>\n<li>windowsVerbatimArguments <boolean> Windows Linux: false</boolean></li>\n<li>uid <number>  setuid(2)</number></li>\n<li>gid <number>  setgid(2)<br>: <ChildProcess><br>child_process.fork()  [child_process.spawn()]  Node.js   [child_process.spawn()]  [ChildProcess]   [ChildProcess]   [subprocess.send()]</ChildProcess></number></li>\n</ul>\n</Object></li>\n</ul>\n<p> Node.js  IPC   V8   Node.js </p>\n<p>child_process.fork()  [process.execPath]  Node.js  options  execPath </p>\n<p> execPath  Node.js  NODE_CHANNEL_FD fd</p>\n<p> POSIX  fork(2)child_process.fork() </p>\n<p>: child_process.fork()  [child_process.spawn()][] shell </p>\n<p><strong>child_process.spawn(command[, args][, options])</strong></p>\n<ul>\n<li>command <string> </string></li>\n<li>args <Array> </Array></li>\n<li>options <Object><ul>\n<li>cwd <string> </string></li>\n<li>env <Object> </Object></li>\n<li>argv0 <string>  argv[0]   command</string></li>\n<li>stdio <Array> | <string>  stdio  </string></Array></li>\n<li>detached <boolean>  </boolean></li>\n<li>uid <number> </number></li>\n<li>gid <number> </number></li>\n<li>shell <boolean> | <string>  true shell  command  UNIX  /bin/sh Windows  process.env.ComSpec  shell   false shell</string></boolean></li>\n<li>windowsVerbatimArguments <boolean> Windows Linux shell true: false</boolean></li>\n<li>windowsHide <boolean> Windows : false<br>: <ChildProcess></ChildProcess></boolean></li>\n</ul>\n</Object></li>\n</ul>\n<p><strong>child_process.execFileSync(file[, args][, options])</strong><br>child_process.execFileSync()  [child_process.execFile()]   killSignal </p>\n<p> SIGTERM </p>\n<p> [Error] [child_process.spawnSync()] </p>\n<p><strong>child_process.execSync(command[, options])</strong><br>child_process.execSync()  [child_process.exec()]   killSignal   SIGTERM </p>\n<p> [Error]  [child_process.spawnSync()] </p>\n<p>  shell </p>\n<p><strong>child_process.spawnSync(command[, args][, options])</strong><br>child_process.spawnSync()  [child_process.spawn()]   killSignal   SIGTERM </p>\n<p>  shell </p>\n<p><strong>ChildProcess </strong><br>ChildProcess  [EventEmitter]</p>\n<p>ChildProcess   [child_process.spawn()][child_process.exec()][child_process.execFile()]  [child_process.fork()]  ChildProcess </p>\n<p><strong>close </strong><br>code <number> <br>signal <string> <br> stdio  close   [exit]  stdio </string></number></p>\n<p><strong>disconnect </strong><br> [subprocess.disconnect()]  [process.disconnect()]  disconnect   [subprocess.connected]  false</p>\n<p><strong>error </strong><br>err <Error> <br> error </Error></p>\n<ul>\n<li></li>\n<li></li>\n<li><br>exit   exit  error <br> [subprocess.kill()]  [subprocess.send()]</li>\n</ul>\n<p><strong>exit </strong><br>code <number> <br>signal <string> <br> exit   code  null<br> signal  null<br><em></em></string></number></p>\n<p> exit  stdio </p>\n<p>Node.js  SIGINT  SIGTERM  Node.js  Node.js </p>\n<p><strong>message </strong><br>message <Object>  JSON <br>sendHandle <Handle>  [net.Socket]  [net.Server]   undefined<br> [process.send()]  message </Handle></Object></p>\n<p>: </p>\n<p><strong>subprocess.channel</strong><br><Object> IPC<br>subprocess.channel  IPC  IPC  undefined</Object></p>\n<p><strong>subprocess.connected</strong><br><boolean>  subprocess.disconnect()  false<br>subprocess.connected   subprocess.connected  false </boolean></p>\n<p><strong>subprocess.disconnect()</strong><br> IPC   subprocess.connected  process.connected  false</p>\n<p> disconnect   subprocess.disconnect() </p>\n<p> Node.js  [child_process.fork()]  process.disconnect()  IPC </p>\n<p><strong>subprocess.kill([signal])</strong><br>signal <string><br>subprocess.kill()   SIGTERM </string></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const &#123; spawn &#125; = require(&#x27;child_process&#x27;);</span><br><span class=\"line\">const grep = spawn(&#x27;grep&#x27;, [&#x27;ssh&#x27;]);</span><br><span class=\"line\"></span><br><span class=\"line\">grep.on(&#x27;close&#x27;, (code, signal) =&gt; &#123;</span><br><span class=\"line\">  console.log(` $&#123;signal&#125; `);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">//  SIGHUP </span><br><span class=\"line\">grep.kill(&#x27;SIGHUP&#x27;);</span><br></pre></td></tr></table></figure>\n<p>[ChildProcess]  [error]    PID </p>\n<p> kill </p>\n<p><strong>subprocess.killed</strong><br><boolean>  subprocess.kill()  true<br>subprocess.killed  subprocess.kill()  </boolean></p>\n<p><strong>subprocess.pid</strong><br><number> <br>PID</number></p>\n<p><strong>subprocess.send(message[, sendHandle[, options]][, callback])</strong><br> IPC  [child_process.fork()]subprocess.send()   Node.js  [process.on(message)] </p>\n<p>: </p>\n<p><strong>subprocess.stderr</strong><br>&lt;stream.Readable&gt;<br> stderr <br> stdio[2]  pipe  null<br>subprocess.stderr  subprocess.stdio[2]  </p>\n<p><strong>subprocess.stdin</strong><br>&lt;stream.Writable&gt;<br> stdin <br> end() <br> stdio[0]  pipe  null<br>subprocess.stdin  subprocess.stdio[0]  </p>\n<p><strong>subprocess.stdio</strong><br><Array><br> [child_process.spawn()]  pipe  [stdio] subprocess.stdio[0]subprocess.stdio[1]  subprocess.stdio[2]  subprocess.stdin subprocess.stdout  subprocess.stderr</Array></p>\n<p><strong>subprocess.stdout</strong><br>&lt;stream.Readable&gt;<br> stdout <br> stdio[1]  pipe  null<br>subprocess.stdout  subprocess.stdio[1]  </p>\n<p><strong>maxBuffer  Unicode</strong><br>maxBuffer  stdout  stderr    UTF-8  UTF-16 console.log()  13  UTF-8  stdout 4 </p>\n","site":{"data":{}},"excerpt":"","more":"<p>child_process  <a href=\"https://man7.org/linux/man-pages/man3/popen.3.html\">popen(3)</a>   [child_process.spawn()] </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const &#123; spawn &#125; = require(&#x27;child_process&#x27;);</span><br><span class=\"line\">const ls = spawn(&#x27;ls&#x27;, [&#x27;-lh&#x27;, &#x27;/usr&#x27;]);</span><br><span class=\"line\"></span><br><span class=\"line\">ls.stdout.on(&#x27;data&#x27;, (data) =&gt; &#123;</span><br><span class=\"line\">  console.log(`$&#123;data&#125;`);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">ls.stderr.on(&#x27;data&#x27;, (data) =&gt; &#123;</span><br><span class=\"line\">  console.log(`$&#123;data&#125;`);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">ls.on(&#x27;close&#x27;, (code) =&gt; &#123;</span><br><span class=\"line\">  console.log(`$&#123;code&#125;`);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>Node.js  stdinstdout  stderr    I/O Node.js</p>\n<ul>\n<li>[child_process.spawn()]  Node.js  </li>\n<li>[child_process.spawnSync()] </li>\n<li>[child_process.exec()]:  shell  shell  stdout  stderr </li>\n<li>[child_process.execFile()]:  [child_process.exec()] shell</li>\n<li>[child_process.fork()]:  Node.js  IPC </li>\n<li>[child_process.execSync()]: [child_process.exec()]  Node.js </li>\n<li>[child_process.execFileSync()]: [child_process.execFile()]  Node.js </li>\n</ul>\n<p><em> [child_process.spawn()]  [child_process.spawnSync()] </em></p>\n<p><strong></strong><br>[child_process.spawn()][child_process.fork()][child_process.exec()]  [child_process.execFile()]  Node.js API </p>\n<p> [ChildProcess]   Node.js [EventEmitter] API</p>\n<p>[child_process.exec()]  [child_process.execFile()]  callback </p>\n<p><strong> Windows  .bat  .cmd </strong><br>[child_process.exec()]  [child_process.execFile()]   Unix Unix Linux macOS[child_process.execFile()]  shell  Windows .bat  .cmd  [child_process.execFile()]   shell  [child_process.spawn()] [child_process.exec()] cmd.exe  .bat  .cmd  shell  [child_process.exec()]  </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//  Windows </span><br><span class=\"line\">const &#123; spawn &#125; = require(&#x27;child_process&#x27;);</span><br><span class=\"line\">const bat = spawn(&#x27;cmd.exe&#x27;, [&#x27;/c&#x27;, &#x27;my.bat&#x27;]);</span><br><span class=\"line\"></span><br><span class=\"line\">bat.stdout.on(&#x27;data&#x27;, (data) =&gt; &#123;</span><br><span class=\"line\">  console.log(data.toString());</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">bat.stderr.on(&#x27;data&#x27;, (data) =&gt; &#123;</span><br><span class=\"line\">  console.log(data.toString());</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">bat.on(&#x27;exit&#x27;, (code) =&gt; &#123;</span><br><span class=\"line\">  console.log(`$&#123;code&#125;`);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">// </span><br><span class=\"line\">const &#123; exec &#125; = require(&#x27;child_process&#x27;);</span><br><span class=\"line\">exec(&#x27;my.bat&#x27;, (err, stdout, stderr) =&gt; &#123;</span><br><span class=\"line\">  if (err) &#123;</span><br><span class=\"line\">    console.error(err);</span><br><span class=\"line\">    return;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  console.log(stdout);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">// </span><br><span class=\"line\">const bat = spawn(&#x27;&quot;my script.cmd&quot;&#x27;, [&#x27;a&#x27;, &#x27;b&#x27;], &#123; shell: true &#125;);</span><br><span class=\"line\">// </span><br><span class=\"line\">exec(&#x27;&quot;my script.cmd&quot; a b&#x27;, (err, stdout, stderr) =&gt; &#123;</span><br><span class=\"line\">  // ...</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><strong>child_process.exec(command[, options][, callback])</strong></p>\n<ul>\n<li>command <string> </string></li>\n<li>options <Object></Object></li>\n<li>cwd <string> </string></li>\n<li>env <Object> </Object></li>\n<li>encoding <string>  utf8</string></li>\n<li>shell <string>  shell UNIX  /bin/sh Windows  process.env.ComSpecShellWindowsShell</string></li>\n<li>timeout <number>  0</number></li>\n<li>maxBuffer <number> stdout  stderr  200*1024 maxBufferUnicode</number></li>\n<li>killSignal <string> | <integer>  SIGTERM</integer></string></li>\n<li>uid <number>  setuid(2)</number></li>\n<li>gid <number>  setgid(2)</number></li>\n<li>windowsHide <boolean>  Windows  false</boolean></li>\n<li>callback <Function> </Function></li>\n<li>error <Error></Error></li>\n<li>stdout <string> | <Buffer></Buffer></string></li>\n<li>stderr <string> | <Buffer><br>: <ChildProcess></ChildProcess></Buffer></string></li>\n</ul>\n<p> shell  shell  command  command  shell shell</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">exec(&#x27;&quot;/path/to/test file/test.sh&quot; arg1 arg2&#x27;);</span><br><span class=\"line\">// </span><br><span class=\"line\"></span><br><span class=\"line\">exec(&#x27;echo &quot;The \\\\$HOME variable is $HOME&quot;&#x27;);</span><br><span class=\"line\">//  $HOME </span><br></pre></td></tr></table></figure>\n\n<p>  shell </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const &#123; exec &#125; = require(&#x27;child_process&#x27;);</span><br><span class=\"line\">exec(&#x27;cat *.js bad_file | wc -l&#x27;, (error, stdout, stderr) =&gt; &#123;</span><br><span class=\"line\">  if (error) &#123;</span><br><span class=\"line\">    console.error(`exec error: $&#123;error&#125;`);</span><br><span class=\"line\">    return;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  console.log(`stdout: $&#123;stdout&#125;`);</span><br><span class=\"line\">  console.log(`stderr: $&#123;stderr&#125;`);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p> callback  (error, stdout, stderr) error  null error  [Error]  error.code error.signal   0 </p>\n<p> stdout  stderr  stdout  stderr  Node.js  UTF-8 encoding  stdout  stderr   encoding  buffer Buffer </p>\n<p>options </p>\n<p> timeout  0 timeout  killSignal  SIGTERM</p>\n<p> [util.promisify()][]  stdout  stderr  Promise  rejected  promise error  stdout  stderr </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const util = require(&#x27;util&#x27;);</span><br><span class=\"line\">const exec = util.promisify(require(&#x27;child_process&#x27;).exec);</span><br><span class=\"line\"></span><br><span class=\"line\">async function lsExample() &#123;</span><br><span class=\"line\">  const &#123; stdout, stderr &#125; = await exec(&#x27;ls&#x27;);</span><br><span class=\"line\">  console.log(&#x27;stdout:&#x27;, stdout);</span><br><span class=\"line\">  console.log(&#x27;stderr:&#x27;, stderr);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">lsExample();</span><br></pre></td></tr></table></figure>\n\n<p><strong>child_process.execFile(file[, args][, options][, callback])</strong></p>\n<ul>\n<li>file <string> </string></li>\n<li>args &lt;string[]&gt; </li>\n<li>options <Object><ul>\n<li>cwd <string> </string></li>\n<li>env <Object> </Object></li>\n<li>encoding <string>  utf8</string></li>\n<li>timeout <number>  0</number></li>\n<li>maxBuffer <number> stdout  stderr   200*1024  </number></li>\n<li>killSignal <string> | <integer>  SIGTERM</integer></string></li>\n<li>uid <number>  setuid(2)</number></li>\n<li>gid <number>  setgid(2)</number></li>\n<li>windowsHide <boolean> Windows : false</boolean></li>\n<li>windowsVerbatimArguments <boolean> Windows Linux shell true: false</boolean></li>\n</ul>\n</Object></li>\n<li>callback <Function> <ul>\n<li>error <Error></Error></li>\n<li>stdout <string> | <Buffer></Buffer></string></li>\n<li>stderr <string> | <Buffer><br>: <ChildProcess><br>child_process.execFile()  [child_process.exec()] shell  file  [child_process.exec()] </ChildProcess></Buffer></string></li>\n</ul>\n</Function></li>\n</ul>\n<p> [child_process.exec()]   shell I/O </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const &#123; execFile &#125; = require(&#x27;child_process&#x27;);</span><br><span class=\"line\">const child = execFile(&#x27;node&#x27;, [&#x27;--version&#x27;], (error, stdout, stderr) =&gt; &#123;</span><br><span class=\"line\">  if (error) &#123;</span><br><span class=\"line\">    throw error;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  console.log(stdout);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><strong>child_process.fork(modulePath[, args][, options])</strong></p>\n<ul>\n<li>modulePath <string> </string></li>\n<li>args <Array> </Array></li>\n<li>options <Object><ul>\n<li>cwd <string> </string></li>\n<li>env <Object> </Object></li>\n<li>execPath <string> </string></li>\n<li>execArgv <Array>  process.execArgv</Array></li>\n<li>silent <boolean>  true stdin stdout  stderr  [child_process.spawn()]  [stdio]  pipe  inherit  : false</boolean></li>\n<li>stdio <Array> | <string>  [child_process.spawn()]  [stdio]  silent  ipc   [0, 1, 2, ipc]</string></Array></li>\n<li>windowsVerbatimArguments <boolean> Windows Linux: false</boolean></li>\n<li>uid <number>  setuid(2)</number></li>\n<li>gid <number>  setgid(2)<br>: <ChildProcess><br>child_process.fork()  [child_process.spawn()]  Node.js   [child_process.spawn()]  [ChildProcess]   [ChildProcess]   [subprocess.send()]</ChildProcess></number></li>\n</ul>\n</Object></li>\n</ul>\n<p> Node.js  IPC   V8   Node.js </p>\n<p>child_process.fork()  [process.execPath]  Node.js  options  execPath </p>\n<p> execPath  Node.js  NODE_CHANNEL_FD fd</p>\n<p> POSIX  fork(2)child_process.fork() </p>\n<p>: child_process.fork()  [child_process.spawn()][] shell </p>\n<p><strong>child_process.spawn(command[, args][, options])</strong></p>\n<ul>\n<li>command <string> </string></li>\n<li>args <Array> </Array></li>\n<li>options <Object><ul>\n<li>cwd <string> </string></li>\n<li>env <Object> </Object></li>\n<li>argv0 <string>  argv[0]   command</string></li>\n<li>stdio <Array> | <string>  stdio  </string></Array></li>\n<li>detached <boolean>  </boolean></li>\n<li>uid <number> </number></li>\n<li>gid <number> </number></li>\n<li>shell <boolean> | <string>  true shell  command  UNIX  /bin/sh Windows  process.env.ComSpec  shell   false shell</string></boolean></li>\n<li>windowsVerbatimArguments <boolean> Windows Linux shell true: false</boolean></li>\n<li>windowsHide <boolean> Windows : false<br>: <ChildProcess></ChildProcess></boolean></li>\n</ul>\n</Object></li>\n</ul>\n<p><strong>child_process.execFileSync(file[, args][, options])</strong><br>child_process.execFileSync()  [child_process.execFile()]   killSignal </p>\n<p> SIGTERM </p>\n<p> [Error] [child_process.spawnSync()] </p>\n<p><strong>child_process.execSync(command[, options])</strong><br>child_process.execSync()  [child_process.exec()]   killSignal   SIGTERM </p>\n<p> [Error]  [child_process.spawnSync()] </p>\n<p>  shell </p>\n<p><strong>child_process.spawnSync(command[, args][, options])</strong><br>child_process.spawnSync()  [child_process.spawn()]   killSignal   SIGTERM </p>\n<p>  shell </p>\n<p><strong>ChildProcess </strong><br>ChildProcess  [EventEmitter]</p>\n<p>ChildProcess   [child_process.spawn()][child_process.exec()][child_process.execFile()]  [child_process.fork()]  ChildProcess </p>\n<p><strong>close </strong><br>code <number> <br>signal <string> <br> stdio  close   [exit]  stdio </string></number></p>\n<p><strong>disconnect </strong><br> [subprocess.disconnect()]  [process.disconnect()]  disconnect   [subprocess.connected]  false</p>\n<p><strong>error </strong><br>err <Error> <br> error </Error></p>\n<ul>\n<li></li>\n<li></li>\n<li><br>exit   exit  error <br> [subprocess.kill()]  [subprocess.send()]</li>\n</ul>\n<p><strong>exit </strong><br>code <number> <br>signal <string> <br> exit   code  null<br> signal  null<br><em></em></string></number></p>\n<p> exit  stdio </p>\n<p>Node.js  SIGINT  SIGTERM  Node.js  Node.js </p>\n<p><strong>message </strong><br>message <Object>  JSON <br>sendHandle <Handle>  [net.Socket]  [net.Server]   undefined<br> [process.send()]  message </Handle></Object></p>\n<p>: </p>\n<p><strong>subprocess.channel</strong><br><Object> IPC<br>subprocess.channel  IPC  IPC  undefined</Object></p>\n<p><strong>subprocess.connected</strong><br><boolean>  subprocess.disconnect()  false<br>subprocess.connected   subprocess.connected  false </boolean></p>\n<p><strong>subprocess.disconnect()</strong><br> IPC   subprocess.connected  process.connected  false</p>\n<p> disconnect   subprocess.disconnect() </p>\n<p> Node.js  [child_process.fork()]  process.disconnect()  IPC </p>\n<p><strong>subprocess.kill([signal])</strong><br>signal <string><br>subprocess.kill()   SIGTERM </string></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const &#123; spawn &#125; = require(&#x27;child_process&#x27;);</span><br><span class=\"line\">const grep = spawn(&#x27;grep&#x27;, [&#x27;ssh&#x27;]);</span><br><span class=\"line\"></span><br><span class=\"line\">grep.on(&#x27;close&#x27;, (code, signal) =&gt; &#123;</span><br><span class=\"line\">  console.log(` $&#123;signal&#125; `);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">//  SIGHUP </span><br><span class=\"line\">grep.kill(&#x27;SIGHUP&#x27;);</span><br></pre></td></tr></table></figure>\n<p>[ChildProcess]  [error]    PID </p>\n<p> kill </p>\n<p><strong>subprocess.killed</strong><br><boolean>  subprocess.kill()  true<br>subprocess.killed  subprocess.kill()  </boolean></p>\n<p><strong>subprocess.pid</strong><br><number> <br>PID</number></p>\n<p><strong>subprocess.send(message[, sendHandle[, options]][, callback])</strong><br> IPC  [child_process.fork()]subprocess.send()   Node.js  [process.on(message)] </p>\n<p>: </p>\n<p><strong>subprocess.stderr</strong><br>&lt;stream.Readable&gt;<br> stderr <br> stdio[2]  pipe  null<br>subprocess.stderr  subprocess.stdio[2]  </p>\n<p><strong>subprocess.stdin</strong><br>&lt;stream.Writable&gt;<br> stdin <br> end() <br> stdio[0]  pipe  null<br>subprocess.stdin  subprocess.stdio[0]  </p>\n<p><strong>subprocess.stdio</strong><br><Array><br> [child_process.spawn()]  pipe  [stdio] subprocess.stdio[0]subprocess.stdio[1]  subprocess.stdio[2]  subprocess.stdin subprocess.stdout  subprocess.stderr</Array></p>\n<p><strong>subprocess.stdout</strong><br>&lt;stream.Readable&gt;<br> stdout <br> stdio[1]  pipe  null<br>subprocess.stdout  subprocess.stdio[1]  </p>\n<p><strong>maxBuffer  Unicode</strong><br>maxBuffer  stdout  stderr    UTF-8  UTF-16 console.log()  13  UTF-8  stdout 4 </p>\n"},{"title":"nodejs(6)","date":"2023-01-03T10:04:15.000Z","tags":["node","crypto ()"],"_content":"\ncrypto  OpenSSL HMAC\n\n require('crypto') \n```javascript\nconst crypto = require('crypto');\n```\n\n###### Class: Certificate\nSPKAC  Netscape ,  HTML5's keygen element .\ncrypto  Certificate  SPKAC .  HTML5 keygen  . Node.js  OpenSSL's SPKAC implementation .\n\nnew crypto.Certificate()#\n new  crypto.Certificate()  Certificate :\n```javascript\nconst crypto = require('crypto');\nconst cert1 = new crypto.Certificate();\nconst cert2 = crypto.Certificate();\n```\n\ncertificate.exportChallenge(spkac)\nspkac <string> | <Buffer> | <TypedArray> | <DataView>\n <Buffer>  spkac  challenge spkac  challange\n```javascript\nconst cert = require('crypto').Certificate();\nconst spkac = getSpkacSomehow();// \nconst challenge = cert.exportChallenge(spkac);\nconsole.log(challenge.toString('utf8'));\n// Prints: the challenge as a UTF8 string\n```\n\ncertificate.exportPublicKey(spkac)\nspkac <string> | <Buffer> | <TypedArray> | <DataView>\n <Buffer> spkac  challange\n```javascript\nconst cert = require('crypto').Certificate();\nconst spkac = getSpkacSomehow();// \nconst publicKey = cert.exportPublicKey(spkac);\nconsole.log(publicKey);\n// Prints: the public key as <Buffer ...>\n```\n\ncertificate.verifySpkac(spkac)\nspkac <Buffer> | <TypedArray> | <DataView>\n <boolean>  spkac  true false\n```javascript\nconst cert = require('crypto').Certificate();\nconst spkac = getSpkacSomehow();\nconsole.log(cert.verifySpkac(Buffer.from(spkac)));\n// Prints: true  false\n```\n\n###### Class: Cipher\nCipher:\n- stream\n- cipher.update()cipher.final()\ncrypto.createCipher()crypto.createCipheriv()CipherCiphernew\n```javascript\n// Cipher\nconst crypto = require('crypto');\nconst cipher = crypto.createCipher('aes192', 'a password');\n\nlet encrypted = '';\ncipher.on('readable', () => {\n  const data = cipher.read();\n  if (data)\n    encrypted += data.toString('hex');\n});\ncipher.on('end', () => {\n  console.log(encrypted);\n  // Prints: ca981be48e90867604588e75d04feabb63cc007a8f8ad89b10616ed84d815504\n});\n\ncipher.write('some clear text data');\ncipher.end();\n\n// Cipher\nconst crypto = require('crypto');\nconst fs = require('fs');\nconst cipher = crypto.createCipher('aes192', 'a password');\n\nconst input = fs.createReadStream('test.js');\nconst output = fs.createWriteStream('test.enc');\n\ninput.pipe(cipher).pipe(output);\n\n// cipher.update()cipher.final()\nconst crypto = require('crypto');\nconst cipher = crypto.createCipher('aes192', 'a password');\n\nlet encrypted = cipher.update('some clear text data', 'utf8', 'hex');\nencrypted += cipher.final('hex');\nconsole.log(encrypted);\n// Prints: ca981be48e90867604588e75d04feabb63cc007a8f8ad89b10616ed84d815504\n```\n\ncipher.final([outputEncoding])\noutputEncoding <string>\n outputEncoding 'latin1', 'base64'  'hex'  outputEncodingBuffer\n*cipher.final()Cipher cipher.final()*\n\ncipher.setAAD(buffer)\nbuffer <Buffer>\n<Cipher>\n(GCM)cipher.setAAD()additional authenticated data(data(AAD))\n*cipher.setAAD()cipher.update()*\n\ncipher.getAuthTag()#\n(GCM),cipher.getAuthTag()BufferBufferauthentication tag \n*cipher.getAuthTag()cipher.final()*\n\ncipher.setAutoPadding([autoPadding])\nautoPadding <boolean>  true.\n<Cipher>\nCipherpaddingcipher.setAutoPadding(false)padding\nautoPaddingfalseciphercipher.final() 0x0PKCS\n*cipher.setAutoPadding()cipher.final()*\n\ncipher.update(data[, inputEncoding][, outputEncoding])\ndatainputEncoding'utf8', 'ascii', 'latin1'datainputEncodingdataBufferTypedArray DataViewdataBufferTypedArray  DataView inputEncoding\noutputEncoding'latin1' 'base64'  'hex'outputEncodingoutputEncodingBuffer\n*cipher.update()cipher.final()cipher.final()cipher.update()*\n\n","source":"nodejs/nodejs-note-13.md","raw":"---\ntitle: nodejs(6)\ndate: 2023-01-03 18:04:15\ntags: [node, crypto ()]\n---\n\ncrypto  OpenSSL HMAC\n\n require('crypto') \n```javascript\nconst crypto = require('crypto');\n```\n\n###### Class: Certificate\nSPKAC  Netscape ,  HTML5's keygen element .\ncrypto  Certificate  SPKAC .  HTML5 keygen  . Node.js  OpenSSL's SPKAC implementation .\n\nnew crypto.Certificate()#\n new  crypto.Certificate()  Certificate :\n```javascript\nconst crypto = require('crypto');\nconst cert1 = new crypto.Certificate();\nconst cert2 = crypto.Certificate();\n```\n\ncertificate.exportChallenge(spkac)\nspkac <string> | <Buffer> | <TypedArray> | <DataView>\n <Buffer>  spkac  challenge spkac  challange\n```javascript\nconst cert = require('crypto').Certificate();\nconst spkac = getSpkacSomehow();// \nconst challenge = cert.exportChallenge(spkac);\nconsole.log(challenge.toString('utf8'));\n// Prints: the challenge as a UTF8 string\n```\n\ncertificate.exportPublicKey(spkac)\nspkac <string> | <Buffer> | <TypedArray> | <DataView>\n <Buffer> spkac  challange\n```javascript\nconst cert = require('crypto').Certificate();\nconst spkac = getSpkacSomehow();// \nconst publicKey = cert.exportPublicKey(spkac);\nconsole.log(publicKey);\n// Prints: the public key as <Buffer ...>\n```\n\ncertificate.verifySpkac(spkac)\nspkac <Buffer> | <TypedArray> | <DataView>\n <boolean>  spkac  true false\n```javascript\nconst cert = require('crypto').Certificate();\nconst spkac = getSpkacSomehow();\nconsole.log(cert.verifySpkac(Buffer.from(spkac)));\n// Prints: true  false\n```\n\n###### Class: Cipher\nCipher:\n- stream\n- cipher.update()cipher.final()\ncrypto.createCipher()crypto.createCipheriv()CipherCiphernew\n```javascript\n// Cipher\nconst crypto = require('crypto');\nconst cipher = crypto.createCipher('aes192', 'a password');\n\nlet encrypted = '';\ncipher.on('readable', () => {\n  const data = cipher.read();\n  if (data)\n    encrypted += data.toString('hex');\n});\ncipher.on('end', () => {\n  console.log(encrypted);\n  // Prints: ca981be48e90867604588e75d04feabb63cc007a8f8ad89b10616ed84d815504\n});\n\ncipher.write('some clear text data');\ncipher.end();\n\n// Cipher\nconst crypto = require('crypto');\nconst fs = require('fs');\nconst cipher = crypto.createCipher('aes192', 'a password');\n\nconst input = fs.createReadStream('test.js');\nconst output = fs.createWriteStream('test.enc');\n\ninput.pipe(cipher).pipe(output);\n\n// cipher.update()cipher.final()\nconst crypto = require('crypto');\nconst cipher = crypto.createCipher('aes192', 'a password');\n\nlet encrypted = cipher.update('some clear text data', 'utf8', 'hex');\nencrypted += cipher.final('hex');\nconsole.log(encrypted);\n// Prints: ca981be48e90867604588e75d04feabb63cc007a8f8ad89b10616ed84d815504\n```\n\ncipher.final([outputEncoding])\noutputEncoding <string>\n outputEncoding 'latin1', 'base64'  'hex'  outputEncodingBuffer\n*cipher.final()Cipher cipher.final()*\n\ncipher.setAAD(buffer)\nbuffer <Buffer>\n<Cipher>\n(GCM)cipher.setAAD()additional authenticated data(data(AAD))\n*cipher.setAAD()cipher.update()*\n\ncipher.getAuthTag()#\n(GCM),cipher.getAuthTag()BufferBufferauthentication tag \n*cipher.getAuthTag()cipher.final()*\n\ncipher.setAutoPadding([autoPadding])\nautoPadding <boolean>  true.\n<Cipher>\nCipherpaddingcipher.setAutoPadding(false)padding\nautoPaddingfalseciphercipher.final() 0x0PKCS\n*cipher.setAutoPadding()cipher.final()*\n\ncipher.update(data[, inputEncoding][, outputEncoding])\ndatainputEncoding'utf8', 'ascii', 'latin1'datainputEncodingdataBufferTypedArray DataViewdataBufferTypedArray  DataView inputEncoding\noutputEncoding'latin1' 'base64'  'hex'outputEncodingoutputEncodingBuffer\n*cipher.update()cipher.final()cipher.final()cipher.update()*\n\n","updated":"2023-01-04T09:37:40.464Z","path":"nodejs/nodejs-note-13.html","comments":1,"layout":"page","_id":"clchh4gwn000gcktt9sec782o","content":"<p>crypto  OpenSSL HMAC</p>\n<p> require(crypto) </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> crypto = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;crypto&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"Class-Certificate\"><a href=\"#Class-Certificate\" class=\"headerlink\" title=\"Class: Certificate\"></a>Class: Certificate</h6><p>SPKAC  Netscape ,  HTML5s keygen element .<br>crypto  Certificate  SPKAC .  HTML5 keygen  . Node.js  OpenSSLs SPKAC implementation .</p>\n<p>new crypto.Certificate()#<br> new  crypto.Certificate()  Certificate :</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> crypto = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;crypto&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> cert1 = <span class=\"keyword\">new</span> crypto.Certificate();</span><br><span class=\"line\"><span class=\"keyword\">const</span> cert2 = crypto.Certificate();</span><br></pre></td></tr></table></figure>\n\n<p>certificate.exportChallenge(spkac)<br>spkac <string> | <Buffer> | <TypedArray> | <DataView><br> <Buffer>  spkac  challenge spkac  challange</Buffer></DataView></TypedArray></Buffer></string></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> cert = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;crypto&#x27;</span>).Certificate();</span><br><span class=\"line\"><span class=\"keyword\">const</span> spkac = getSpkacSomehow();<span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> challenge = cert.exportChallenge(spkac);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(challenge.toString(<span class=\"string\">&#x27;utf8&#x27;</span>));</span><br><span class=\"line\"><span class=\"comment\">// Prints: the challenge as a UTF8 string</span></span><br></pre></td></tr></table></figure>\n\n<p>certificate.exportPublicKey(spkac)<br>spkac <string> | <Buffer> | <TypedArray> | <DataView><br> <Buffer> spkac  challange</Buffer></DataView></TypedArray></Buffer></string></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> cert = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;crypto&#x27;</span>).Certificate();</span><br><span class=\"line\"><span class=\"keyword\">const</span> spkac = getSpkacSomehow();<span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> publicKey = cert.exportPublicKey(spkac);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(publicKey);</span><br><span class=\"line\"><span class=\"comment\">// Prints: the public key as &lt;Buffer ...&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>certificate.verifySpkac(spkac)<br>spkac <Buffer> | <TypedArray> | <DataView><br> <boolean>  spkac  true false</boolean></DataView></TypedArray></Buffer></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> cert = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;crypto&#x27;</span>).Certificate();</span><br><span class=\"line\"><span class=\"keyword\">const</span> spkac = getSpkacSomehow();</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(cert.verifySpkac(Buffer.from(spkac)));</span><br><span class=\"line\"><span class=\"comment\">// Prints: true  false</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"Class-Cipher\"><a href=\"#Class-Cipher\" class=\"headerlink\" title=\"Class: Cipher\"></a>Class: Cipher</h6><p>Cipher:</p>\n<ul>\n<li>stream</li>\n<li>cipher.update()cipher.final()<br>crypto.createCipher()crypto.createCipheriv()CipherCiphernew<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Cipher</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> crypto = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;crypto&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> cipher = crypto.createCipher(<span class=\"string\">&#x27;aes192&#x27;</span>, <span class=\"string\">&#x27;a password&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> encrypted = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">cipher.on(<span class=\"string\">&#x27;readable&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> data = cipher.read();</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (data)</span><br><span class=\"line\">    encrypted += data.toString(<span class=\"string\">&#x27;hex&#x27;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">cipher.on(<span class=\"string\">&#x27;end&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(encrypted);</span><br><span class=\"line\">  <span class=\"comment\">// Prints: ca981be48e90867604588e75d04feabb63cc007a8f8ad89b10616ed84d815504</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">cipher.write(<span class=\"string\">&#x27;some clear text data&#x27;</span>);</span><br><span class=\"line\">cipher.end();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Cipher</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> crypto = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;crypto&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> fs = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;fs&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> cipher = crypto.createCipher(<span class=\"string\">&#x27;aes192&#x27;</span>, <span class=\"string\">&#x27;a password&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> input = fs.createReadStream(<span class=\"string\">&#x27;test.js&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> output = fs.createWriteStream(<span class=\"string\">&#x27;test.enc&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">input.pipe(cipher).pipe(output);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// cipher.update()cipher.final()</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> crypto = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;crypto&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> cipher = crypto.createCipher(<span class=\"string\">&#x27;aes192&#x27;</span>, <span class=\"string\">&#x27;a password&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> encrypted = cipher.update(<span class=\"string\">&#x27;some clear text data&#x27;</span>, <span class=\"string\">&#x27;utf8&#x27;</span>, <span class=\"string\">&#x27;hex&#x27;</span>);</span><br><span class=\"line\">encrypted += cipher.final(<span class=\"string\">&#x27;hex&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(encrypted);</span><br><span class=\"line\"><span class=\"comment\">// Prints: ca981be48e90867604588e75d04feabb63cc007a8f8ad89b10616ed84d815504</span></span><br></pre></td></tr></table></figure></li>\n</ul>\n<p>cipher.final([outputEncoding])<br>outputEncoding <string><br> outputEncoding latin1, base64  hex  outputEncodingBuffer<br><em>cipher.final()Cipher cipher.final()</em></string></p>\n<p>cipher.setAAD(buffer)<br>buffer <Buffer><br><Cipher><br>(GCM)cipher.setAAD()additional authenticated data(data(AAD))<br><em>cipher.setAAD()cipher.update()</em></Cipher></Buffer></p>\n<p>cipher.getAuthTag()#<br>(GCM),cipher.getAuthTag()BufferBufferauthentication tag<br><em>cipher.getAuthTag()cipher.final()</em></p>\n<p>cipher.setAutoPadding([autoPadding])<br>autoPadding <boolean>  true.<br><Cipher><br>Cipherpaddingcipher.setAutoPadding(false)padding<br>autoPaddingfalseciphercipher.final() 0x0PKCS<br><em>cipher.setAutoPadding()cipher.final()</em></Cipher></boolean></p>\n<p>cipher.update(data[, inputEncoding][, outputEncoding])<br>datainputEncodingutf8, ascii, latin1datainputEncodingdataBufferTypedArray DataViewdataBufferTypedArray  DataView inputEncoding<br>outputEncodinglatin1 base64  hexoutputEncodingoutputEncodingBuffer<br><em>cipher.update()cipher.final()cipher.final()cipher.update()</em></p>\n","site":{"data":{}},"excerpt":"","more":"<p>crypto  OpenSSL HMAC</p>\n<p> require(crypto) </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> crypto = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;crypto&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"Class-Certificate\"><a href=\"#Class-Certificate\" class=\"headerlink\" title=\"Class: Certificate\"></a>Class: Certificate</h6><p>SPKAC  Netscape ,  HTML5s keygen element .<br>crypto  Certificate  SPKAC .  HTML5 keygen  . Node.js  OpenSSLs SPKAC implementation .</p>\n<p>new crypto.Certificate()#<br> new  crypto.Certificate()  Certificate :</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> crypto = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;crypto&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> cert1 = <span class=\"keyword\">new</span> crypto.Certificate();</span><br><span class=\"line\"><span class=\"keyword\">const</span> cert2 = crypto.Certificate();</span><br></pre></td></tr></table></figure>\n\n<p>certificate.exportChallenge(spkac)<br>spkac <string> | <Buffer> | <TypedArray> | <DataView><br> <Buffer>  spkac  challenge spkac  challange</Buffer></DataView></TypedArray></Buffer></string></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> cert = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;crypto&#x27;</span>).Certificate();</span><br><span class=\"line\"><span class=\"keyword\">const</span> spkac = getSpkacSomehow();<span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> challenge = cert.exportChallenge(spkac);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(challenge.toString(<span class=\"string\">&#x27;utf8&#x27;</span>));</span><br><span class=\"line\"><span class=\"comment\">// Prints: the challenge as a UTF8 string</span></span><br></pre></td></tr></table></figure>\n\n<p>certificate.exportPublicKey(spkac)<br>spkac <string> | <Buffer> | <TypedArray> | <DataView><br> <Buffer> spkac  challange</Buffer></DataView></TypedArray></Buffer></string></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> cert = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;crypto&#x27;</span>).Certificate();</span><br><span class=\"line\"><span class=\"keyword\">const</span> spkac = getSpkacSomehow();<span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> publicKey = cert.exportPublicKey(spkac);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(publicKey);</span><br><span class=\"line\"><span class=\"comment\">// Prints: the public key as &lt;Buffer ...&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>certificate.verifySpkac(spkac)<br>spkac <Buffer> | <TypedArray> | <DataView><br> <boolean>  spkac  true false</boolean></DataView></TypedArray></Buffer></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> cert = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;crypto&#x27;</span>).Certificate();</span><br><span class=\"line\"><span class=\"keyword\">const</span> spkac = getSpkacSomehow();</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(cert.verifySpkac(Buffer.from(spkac)));</span><br><span class=\"line\"><span class=\"comment\">// Prints: true  false</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"Class-Cipher\"><a href=\"#Class-Cipher\" class=\"headerlink\" title=\"Class: Cipher\"></a>Class: Cipher</h6><p>Cipher:</p>\n<ul>\n<li>stream</li>\n<li>cipher.update()cipher.final()<br>crypto.createCipher()crypto.createCipheriv()CipherCiphernew<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Cipher</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> crypto = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;crypto&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> cipher = crypto.createCipher(<span class=\"string\">&#x27;aes192&#x27;</span>, <span class=\"string\">&#x27;a password&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> encrypted = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">cipher.on(<span class=\"string\">&#x27;readable&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> data = cipher.read();</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (data)</span><br><span class=\"line\">    encrypted += data.toString(<span class=\"string\">&#x27;hex&#x27;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">cipher.on(<span class=\"string\">&#x27;end&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(encrypted);</span><br><span class=\"line\">  <span class=\"comment\">// Prints: ca981be48e90867604588e75d04feabb63cc007a8f8ad89b10616ed84d815504</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">cipher.write(<span class=\"string\">&#x27;some clear text data&#x27;</span>);</span><br><span class=\"line\">cipher.end();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Cipher</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> crypto = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;crypto&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> fs = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;fs&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> cipher = crypto.createCipher(<span class=\"string\">&#x27;aes192&#x27;</span>, <span class=\"string\">&#x27;a password&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> input = fs.createReadStream(<span class=\"string\">&#x27;test.js&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> output = fs.createWriteStream(<span class=\"string\">&#x27;test.enc&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">input.pipe(cipher).pipe(output);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// cipher.update()cipher.final()</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> crypto = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;crypto&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> cipher = crypto.createCipher(<span class=\"string\">&#x27;aes192&#x27;</span>, <span class=\"string\">&#x27;a password&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> encrypted = cipher.update(<span class=\"string\">&#x27;some clear text data&#x27;</span>, <span class=\"string\">&#x27;utf8&#x27;</span>, <span class=\"string\">&#x27;hex&#x27;</span>);</span><br><span class=\"line\">encrypted += cipher.final(<span class=\"string\">&#x27;hex&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(encrypted);</span><br><span class=\"line\"><span class=\"comment\">// Prints: ca981be48e90867604588e75d04feabb63cc007a8f8ad89b10616ed84d815504</span></span><br></pre></td></tr></table></figure></li>\n</ul>\n<p>cipher.final([outputEncoding])<br>outputEncoding <string><br> outputEncoding latin1, base64  hex  outputEncodingBuffer<br><em>cipher.final()Cipher cipher.final()</em></string></p>\n<p>cipher.setAAD(buffer)<br>buffer <Buffer><br><Cipher><br>(GCM)cipher.setAAD()additional authenticated data(data(AAD))<br><em>cipher.setAAD()cipher.update()</em></Cipher></Buffer></p>\n<p>cipher.getAuthTag()#<br>(GCM),cipher.getAuthTag()BufferBufferauthentication tag<br><em>cipher.getAuthTag()cipher.final()</em></p>\n<p>cipher.setAutoPadding([autoPadding])<br>autoPadding <boolean>  true.<br><Cipher><br>Cipherpaddingcipher.setAutoPadding(false)padding<br>autoPaddingfalseciphercipher.final() 0x0PKCS<br><em>cipher.setAutoPadding()cipher.final()</em></Cipher></boolean></p>\n<p>cipher.update(data[, inputEncoding][, outputEncoding])<br>datainputEncodingutf8, ascii, latin1datainputEncodingdataBufferTypedArray DataViewdataBufferTypedArray  DataView inputEncoding<br>outputEncodinglatin1 base64  hexoutputEncodingoutputEncodingBuffer<br><em>cipher.update()cipher.final()cipher.final()cipher.update()</em></p>\n"},{"title":"nodejs(4)","date":"2022-12-30T08:27:30.000Z","tags":["node","cluster - "],"_content":"\nNode.js (),()Node.js\n\ncluster \n```\nconst cluster = require('cluster');\nconst http = require('http');\nconst numCPUs = require('os').cpus().length;\n\nif (cluster.isMaster) {\n  console.log(` ${process.pid} `);\n\n  // \n  for (let i = 0; i < numCPUs; i++) {\n    cluster.fork();\n  }\n\n  cluster.on('exit', (worker, code, signal) => {\n    console.log(` ${worker.process.pid} `);\n  });\n} else {\n  //  TCP \n  //  HTTP \n  http.createServer((req, res) => {\n    res.writeHead(200);\n    res.end('\\n');\n  }).listen(8000);\n\n  console.log(` ${process.pid} `);\n}\n```\ncluster\n\nWindows\n\nsocket\n\n8270%\n\n**Class: Worker**\nWorkerpublic\ncluster.workersWorker\ncluster.workerWorker\n\n**Event: 'disconnect'**\n cluster.on('disconnect') ,\n```\ncluster.fork().on('disconnect', () => {\n  // Worker has disconnected\n});\n```\n\n**Event: 'error'**\n child_process.fork()error\nprocess.on('error')\n\n**Event: 'exit'**\n- code <number> .\n- signal <string> kill'SIGHUP'.\ncluster.on('exit')\n```\nconst worker = cluster.fork();\nworker.on('exit', (code, signal) => {\n  if (signal) {\n    console.log(`worker was killed by signal: ${signal}`);\n  } else if (code !== 0) {\n    console.log(`worker exited with error code: ${code}`);\n  } else {\n    console.log('worker success!');\n  }\n});\n```\n\n**Event: 'listening'**\naddress <Object>\ncluster.on('listening')\n\n\n**Event: 'message'**\nmessage <Object>\nhandle <undefined> | <Object>\ncluster.on('message')\nprocess.on('message')\n```\nconst cluster = require('cluster');\nconst http = require('http');\n\nif (cluster.isMaster) {\n\n  //  http \n  let numReqs = 0;\n  setInterval(() => {\n    console.log(`numReqs = ${numReqs}`);\n  }, 1000);\n\n  // \n  function messageHandler(msg) {\n    if (msg.cmd && msg.cmd === 'notifyRequest') {\n      numReqs += 1;\n    }\n  }\n\n  //  worker  notifyRequest \n  const numCPUs = require('os').cpus().length;\n  for (let i = 0; i < numCPUs; i++) {\n    cluster.fork();\n  }\n\n  for (const id in cluster.workers) {\n    cluster.workers[id].on('message', messageHandler);\n  }\n\n} else {\n\n  // Worker http\n  http.Server((req, res) => {\n    res.writeHead(200);\n    res.end('hello world\\n');\n\n    //  master \n    process.send({ cmd: 'notifyRequest' });\n  }).listen(8000);\n}\n```\n\n**Event: 'online'**\ncluster.on('online')\n\n\n**worker.disconnect()**\nReturns: <Worker>  worker \nserverserver 'close'IPC\n\n.disconnect()\n\n.exitedAfterDisconnect \n\nserverIPC\n\ndisconnectprocess.disconnect\n\n**worker.exitedAfterDisconnect**\n<boolean>\n .kill()  .disconnect() undefined\nworker.exitedAfterDisconnect\n*worker.suicide*\n\n**worker.id**\n<number>\nid\nidcluster.workers\n\n**worker.isConnected()**\nIPCtruefalse\n'disconnect' \n\n**worker.isDead()**\ntrue false\n\n**worker.kill([signal='SIGTERM'])**\nsignal <string> kill\nkillworker.processsignalIPC0\n.exitedAfterDisconnect\nworker.destroy()\nprocess.kill() kill\n\n**worker.process**\n<ChildProcess>\nchild_process.fork().process process\nprocess 'disconnect'.exitedAfterDisconnecttrue process.exit(0)\n\n**worker.send(message[, sendHandle][, callback])**\nhandle\nChildProcess.send()\nprocess.send()\n\n**Event: 'disconnect'**\nworker <cluster.Worker>\nIPCkillworker.disconnect()\n'disconnect'  'exit'\n\n**Event: 'exit'**\nworker <cluster.Worker>\ncode <number> .\nsignal <string> kill ( 'SIGHUP')\ncluster'exit'\n.fork()\n```\ncluster.on('exit', (worker, code, signal) => {\n  console.log('worker %d died (%s). restarting...',\n              worker.process.pid, signal || code);\n  cluster.fork();\n});\n```\n\n**Event: 'fork'**\nworker <cluster.Worker>\nforkcluster'fork' timeout\n\n**Event: 'listening'**\nworker <cluster.Worker>\naddress <Object>\nlisten()server'listening'  cluster 'listening'\nworkeraddress  addressport  addressType\naddressType :\n- 4 (TCPv4)\n- 6 (TCPv6)\n- -1 (unix domain socket)\n- \"udp4\" or \"udp6\" (UDP v4 or v6)\n\n**Event: 'message'**\nworker <cluster.Worker>\nmessage <Object>\nhandle <undefined> | <Object>\ncluster\n\n**Event: 'online'**\nworker <cluster.Worker>\nonlineonline 'fork'  'online'\n\n**Event: 'setup'**\nsettings <Object>\n .setupMaster() \nsettings  setupMaster()  cluster.settings  tick  .setupMaster() \n cluster.settings\n\n**cluster.disconnect([callback])**\ncallback <Function> handle\ncluster.workers .disconnect()\nhandle\n\n\n\n**cluster.fork([env])**\nenv <Object> Key/value\nreturn <cluster.Worker>\n\n\n\n**cluster.isMaster**\n<boolean>\n trueprocess.env.NODE_UNIQUE_IDprocess.env.NODE_UNIQUE_IDisMastertrue\n\n**cluster.isWorker**\n<boolean>\n truecluster.isMaster\n\n**cluster.schedulingPolicy**\n cluster.SCHED_RRcluster.SCHED_NONE cluster.setupMaster()\n\n**cluster.settings**\n<Object>\nexecArgv <Array> Node.js (Default=process.execArgv)\nexec <string> worker (Default=process.argv[1])\nargs <Array> worker(Default=process.argv.slice(2))\nsilent <boolean> stdio(Default=false)\nstdio <Array> forkstdio clusterIPC'ipc'silent\nuid <number> user ( setuid(2).)\ngid <number> group ( setgid(2).)\ninspectPort <number> | <function> Sets inspector port of worker. This can be a number, or a function that takes no arguments and returns a number. By default each worker gets its own port, incremented from the master's process.debugPort.\n.setupMaster() ( .fork())settings\n\n\n**cluster.setupMaster([settings])**\nsettings <Object>  cluster.settings\n'fork' cluster.settings\n**\n:\n-  .fork()\n-  .setupMaster().fork()env\n- cluster.setupMaster()\n```\nconst cluster = require('cluster');\ncluster.setupMaster({\n  exec: 'worker.js',\n  args: ['--use', 'https'],\n  silent: true\n});\ncluster.fork(); // https worker\ncluster.setupMaster({\n  exec: 'worker.js',\n  args: ['--use', 'http']\n});\ncluster.fork(); // http worker\n```\n\n**cluster.worker**\n<Object>\n\n\n**cluster.workers**\n<Object>\nidkey\n\ncluster.workers cluster.workers'disconnect'  'exit'","source":"nodejs/nodejs-note-11.md","raw":"---\ntitle: nodejs(4)\ndate: 2022-12-30 16:27:30\ntags: [node, cluster - ]\n---\n\nNode.js (),()Node.js\n\ncluster \n```\nconst cluster = require('cluster');\nconst http = require('http');\nconst numCPUs = require('os').cpus().length;\n\nif (cluster.isMaster) {\n  console.log(` ${process.pid} `);\n\n  // \n  for (let i = 0; i < numCPUs; i++) {\n    cluster.fork();\n  }\n\n  cluster.on('exit', (worker, code, signal) => {\n    console.log(` ${worker.process.pid} `);\n  });\n} else {\n  //  TCP \n  //  HTTP \n  http.createServer((req, res) => {\n    res.writeHead(200);\n    res.end('\\n');\n  }).listen(8000);\n\n  console.log(` ${process.pid} `);\n}\n```\ncluster\n\nWindows\n\nsocket\n\n8270%\n\n**Class: Worker**\nWorkerpublic\ncluster.workersWorker\ncluster.workerWorker\n\n**Event: 'disconnect'**\n cluster.on('disconnect') ,\n```\ncluster.fork().on('disconnect', () => {\n  // Worker has disconnected\n});\n```\n\n**Event: 'error'**\n child_process.fork()error\nprocess.on('error')\n\n**Event: 'exit'**\n- code <number> .\n- signal <string> kill'SIGHUP'.\ncluster.on('exit')\n```\nconst worker = cluster.fork();\nworker.on('exit', (code, signal) => {\n  if (signal) {\n    console.log(`worker was killed by signal: ${signal}`);\n  } else if (code !== 0) {\n    console.log(`worker exited with error code: ${code}`);\n  } else {\n    console.log('worker success!');\n  }\n});\n```\n\n**Event: 'listening'**\naddress <Object>\ncluster.on('listening')\n\n\n**Event: 'message'**\nmessage <Object>\nhandle <undefined> | <Object>\ncluster.on('message')\nprocess.on('message')\n```\nconst cluster = require('cluster');\nconst http = require('http');\n\nif (cluster.isMaster) {\n\n  //  http \n  let numReqs = 0;\n  setInterval(() => {\n    console.log(`numReqs = ${numReqs}`);\n  }, 1000);\n\n  // \n  function messageHandler(msg) {\n    if (msg.cmd && msg.cmd === 'notifyRequest') {\n      numReqs += 1;\n    }\n  }\n\n  //  worker  notifyRequest \n  const numCPUs = require('os').cpus().length;\n  for (let i = 0; i < numCPUs; i++) {\n    cluster.fork();\n  }\n\n  for (const id in cluster.workers) {\n    cluster.workers[id].on('message', messageHandler);\n  }\n\n} else {\n\n  // Worker http\n  http.Server((req, res) => {\n    res.writeHead(200);\n    res.end('hello world\\n');\n\n    //  master \n    process.send({ cmd: 'notifyRequest' });\n  }).listen(8000);\n}\n```\n\n**Event: 'online'**\ncluster.on('online')\n\n\n**worker.disconnect()**\nReturns: <Worker>  worker \nserverserver 'close'IPC\n\n.disconnect()\n\n.exitedAfterDisconnect \n\nserverIPC\n\ndisconnectprocess.disconnect\n\n**worker.exitedAfterDisconnect**\n<boolean>\n .kill()  .disconnect() undefined\nworker.exitedAfterDisconnect\n*worker.suicide*\n\n**worker.id**\n<number>\nid\nidcluster.workers\n\n**worker.isConnected()**\nIPCtruefalse\n'disconnect' \n\n**worker.isDead()**\ntrue false\n\n**worker.kill([signal='SIGTERM'])**\nsignal <string> kill\nkillworker.processsignalIPC0\n.exitedAfterDisconnect\nworker.destroy()\nprocess.kill() kill\n\n**worker.process**\n<ChildProcess>\nchild_process.fork().process process\nprocess 'disconnect'.exitedAfterDisconnecttrue process.exit(0)\n\n**worker.send(message[, sendHandle][, callback])**\nhandle\nChildProcess.send()\nprocess.send()\n\n**Event: 'disconnect'**\nworker <cluster.Worker>\nIPCkillworker.disconnect()\n'disconnect'  'exit'\n\n**Event: 'exit'**\nworker <cluster.Worker>\ncode <number> .\nsignal <string> kill ( 'SIGHUP')\ncluster'exit'\n.fork()\n```\ncluster.on('exit', (worker, code, signal) => {\n  console.log('worker %d died (%s). restarting...',\n              worker.process.pid, signal || code);\n  cluster.fork();\n});\n```\n\n**Event: 'fork'**\nworker <cluster.Worker>\nforkcluster'fork' timeout\n\n**Event: 'listening'**\nworker <cluster.Worker>\naddress <Object>\nlisten()server'listening'  cluster 'listening'\nworkeraddress  addressport  addressType\naddressType :\n- 4 (TCPv4)\n- 6 (TCPv6)\n- -1 (unix domain socket)\n- \"udp4\" or \"udp6\" (UDP v4 or v6)\n\n**Event: 'message'**\nworker <cluster.Worker>\nmessage <Object>\nhandle <undefined> | <Object>\ncluster\n\n**Event: 'online'**\nworker <cluster.Worker>\nonlineonline 'fork'  'online'\n\n**Event: 'setup'**\nsettings <Object>\n .setupMaster() \nsettings  setupMaster()  cluster.settings  tick  .setupMaster() \n cluster.settings\n\n**cluster.disconnect([callback])**\ncallback <Function> handle\ncluster.workers .disconnect()\nhandle\n\n\n\n**cluster.fork([env])**\nenv <Object> Key/value\nreturn <cluster.Worker>\n\n\n\n**cluster.isMaster**\n<boolean>\n trueprocess.env.NODE_UNIQUE_IDprocess.env.NODE_UNIQUE_IDisMastertrue\n\n**cluster.isWorker**\n<boolean>\n truecluster.isMaster\n\n**cluster.schedulingPolicy**\n cluster.SCHED_RRcluster.SCHED_NONE cluster.setupMaster()\n\n**cluster.settings**\n<Object>\nexecArgv <Array> Node.js (Default=process.execArgv)\nexec <string> worker (Default=process.argv[1])\nargs <Array> worker(Default=process.argv.slice(2))\nsilent <boolean> stdio(Default=false)\nstdio <Array> forkstdio clusterIPC'ipc'silent\nuid <number> user ( setuid(2).)\ngid <number> group ( setgid(2).)\ninspectPort <number> | <function> Sets inspector port of worker. This can be a number, or a function that takes no arguments and returns a number. By default each worker gets its own port, incremented from the master's process.debugPort.\n.setupMaster() ( .fork())settings\n\n\n**cluster.setupMaster([settings])**\nsettings <Object>  cluster.settings\n'fork' cluster.settings\n**\n:\n-  .fork()\n-  .setupMaster().fork()env\n- cluster.setupMaster()\n```\nconst cluster = require('cluster');\ncluster.setupMaster({\n  exec: 'worker.js',\n  args: ['--use', 'https'],\n  silent: true\n});\ncluster.fork(); // https worker\ncluster.setupMaster({\n  exec: 'worker.js',\n  args: ['--use', 'http']\n});\ncluster.fork(); // http worker\n```\n\n**cluster.worker**\n<Object>\n\n\n**cluster.workers**\n<Object>\nidkey\n\ncluster.workers cluster.workers'disconnect'  'exit'","updated":"2022-12-30T09:51:16.757Z","path":"nodejs/nodejs-note-11.html","comments":1,"layout":"page","_id":"clchh4gwo000ickttfo8takwp","content":"<p>Node.js (),()Node.js</p>\n<p>cluster </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const cluster = require(&#x27;cluster&#x27;);</span><br><span class=\"line\">const http = require(&#x27;http&#x27;);</span><br><span class=\"line\">const numCPUs = require(&#x27;os&#x27;).cpus().length;</span><br><span class=\"line\"></span><br><span class=\"line\">if (cluster.isMaster) &#123;</span><br><span class=\"line\">  console.log(` $&#123;process.pid&#125; `);</span><br><span class=\"line\"></span><br><span class=\"line\">  // </span><br><span class=\"line\">  for (let i = 0; i &lt; numCPUs; i++) &#123;</span><br><span class=\"line\">    cluster.fork();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  cluster.on(&#x27;exit&#x27;, (worker, code, signal) =&gt; &#123;</span><br><span class=\"line\">    console.log(` $&#123;worker.process.pid&#125; `);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125; else &#123;</span><br><span class=\"line\">  //  TCP </span><br><span class=\"line\">  //  HTTP </span><br><span class=\"line\">  http.createServer((req, res) =&gt; &#123;</span><br><span class=\"line\">    res.writeHead(200);</span><br><span class=\"line\">    res.end(&#x27;\\n&#x27;);</span><br><span class=\"line\">  &#125;).listen(8000);</span><br><span class=\"line\"></span><br><span class=\"line\">  console.log(` $&#123;process.pid&#125; `);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>cluster</p>\n<p>Windows</p>\n<p>socket</p>\n<p>8270%</p>\n<p><strong>Class: Worker</strong><br>Workerpublic<br>cluster.workersWorker<br>cluster.workerWorker</p>\n<p><strong>Event: disconnect</strong><br> cluster.on(disconnect) ,</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cluster.fork().on(&#x27;disconnect&#x27;, () =&gt; &#123;</span><br><span class=\"line\">  // Worker has disconnected</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><strong>Event: error</strong><br> child_process.fork()error<br>process.on(error)</p>\n<p><strong>Event: exit</strong></p>\n<ul>\n<li>code <number> .</number></li>\n<li>signal <string> killSIGHUP.<br>cluster.on(exit)<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const worker = cluster.fork();</span><br><span class=\"line\">worker.on(&#x27;exit&#x27;, (code, signal) =&gt; &#123;</span><br><span class=\"line\">  if (signal) &#123;</span><br><span class=\"line\">    console.log(`worker was killed by signal: $&#123;signal&#125;`);</span><br><span class=\"line\">  &#125; else if (code !== 0) &#123;</span><br><span class=\"line\">    console.log(`worker exited with error code: $&#123;code&#125;`);</span><br><span class=\"line\">  &#125; else &#123;</span><br><span class=\"line\">    console.log(&#x27;worker success!&#x27;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></string></li>\n</ul>\n<p><strong>Event: listening</strong><br>address <Object><br>cluster.on(listening)<br></Object></p>\n<p><strong>Event: message</strong><br>message <Object><br>handle <undefined> | <Object><br>cluster.on(message)<br>process.on(message)</Object></undefined></Object></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const cluster = require(&#x27;cluster&#x27;);</span><br><span class=\"line\">const http = require(&#x27;http&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">if (cluster.isMaster) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  //  http </span><br><span class=\"line\">  let numReqs = 0;</span><br><span class=\"line\">  setInterval(() =&gt; &#123;</span><br><span class=\"line\">    console.log(`numReqs = $&#123;numReqs&#125;`);</span><br><span class=\"line\">  &#125;, 1000);</span><br><span class=\"line\"></span><br><span class=\"line\">  // </span><br><span class=\"line\">  function messageHandler(msg) &#123;</span><br><span class=\"line\">    if (msg.cmd &amp;&amp; msg.cmd === &#x27;notifyRequest&#x27;) &#123;</span><br><span class=\"line\">      numReqs += 1;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  //  worker  notifyRequest </span><br><span class=\"line\">  const numCPUs = require(&#x27;os&#x27;).cpus().length;</span><br><span class=\"line\">  for (let i = 0; i &lt; numCPUs; i++) &#123;</span><br><span class=\"line\">    cluster.fork();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  for (const id in cluster.workers) &#123;</span><br><span class=\"line\">    cluster.workers[id].on(&#x27;message&#x27;, messageHandler);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125; else &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  // Worker http</span><br><span class=\"line\">  http.Server((req, res) =&gt; &#123;</span><br><span class=\"line\">    res.writeHead(200);</span><br><span class=\"line\">    res.end(&#x27;hello world\\n&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">    //  master </span><br><span class=\"line\">    process.send(&#123; cmd: &#x27;notifyRequest&#x27; &#125;);</span><br><span class=\"line\">  &#125;).listen(8000);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Event: online</strong><br>cluster.on(online)<br></p>\n<p><strong>worker.disconnect()</strong><br>Returns: <Worker>  worker <br>serverserver closeIPC</Worker></p>\n<p>.disconnect()</p>\n<p>.exitedAfterDisconnect </p>\n<p>serverIPC</p>\n<p>disconnectprocess.disconnect</p>\n<p><strong>worker.exitedAfterDisconnect</strong><br><boolean><br> .kill()  .disconnect() undefined<br>worker.exitedAfterDisconnect<br><em>worker.suicide</em></boolean></p>\n<p><strong>worker.id</strong><br><number><br>id<br>idcluster.workers</number></p>\n<p><strong>worker.isConnected()</strong><br>IPCtruefalse<br>disconnect </p>\n<p><strong>worker.isDead()</strong><br>true false</p>\n<p><strong>worker.kill([signal=SIGTERM])</strong><br>signal <string> kill<br>killworker.processsignalIPC0<br>.exitedAfterDisconnect<br>worker.destroy()<br>process.kill() kill</string></p>\n<p><strong>worker.process</strong><br><ChildProcess><br>child_process.fork().process process<br>process disconnect.exitedAfterDisconnecttrue process.exit(0)</ChildProcess></p>\n<p><strong>worker.send(message[, sendHandle][, callback])</strong><br>handle<br>ChildProcess.send()<br>process.send()</p>\n<p><strong>Event: disconnect</strong><br>worker &lt;cluster.Worker&gt;<br>IPCkillworker.disconnect()<br>disconnect  exit</p>\n<p><strong>Event: exit</strong><br>worker &lt;cluster.Worker&gt;<br>code <number> .<br>signal <string> kill ( SIGHUP)<br>clusterexit<br>.fork()</string></number></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cluster.on(&#x27;exit&#x27;, (worker, code, signal) =&gt; &#123;</span><br><span class=\"line\">  console.log(&#x27;worker %d died (%s). restarting...&#x27;,</span><br><span class=\"line\">              worker.process.pid, signal || code);</span><br><span class=\"line\">  cluster.fork();</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><strong>Event: fork</strong><br>worker &lt;cluster.Worker&gt;<br>forkclusterfork timeout</p>\n<p><strong>Event: listening</strong><br>worker &lt;cluster.Worker&gt;<br>address <Object><br>listen()serverlistening  cluster listening<br>workeraddress  addressport  addressType<br>addressType :</Object></p>\n<ul>\n<li>4 (TCPv4)</li>\n<li>6 (TCPv6)</li>\n<li>-1 (unix domain socket)</li>\n<li>udp4 or udp6 (UDP v4 or v6)</li>\n</ul>\n<p><strong>Event: message</strong><br>worker &lt;cluster.Worker&gt;<br>message <Object><br>handle <undefined> | <Object><br>cluster</Object></undefined></Object></p>\n<p><strong>Event: online</strong><br>worker &lt;cluster.Worker&gt;<br>onlineonline fork  online</p>\n<p><strong>Event: setup</strong><br>settings <Object><br> .setupMaster() <br>settings  setupMaster()  cluster.settings  tick  .setupMaster() <br> cluster.settings</Object></p>\n<p><strong>cluster.disconnect([callback])</strong><br>callback <Function> handle<br>cluster.workers .disconnect()<br>handle<br><br></Function></p>\n<p><strong>cluster.fork([env])</strong><br>env <Object> Key/value<br>return &lt;cluster.Worker&gt;<br><br></Object></p>\n<p><strong>cluster.isMaster</strong><br><boolean><br> trueprocess.env.NODE_UNIQUE_IDprocess.env.NODE_UNIQUE_IDisMastertrue</boolean></p>\n<p><strong>cluster.isWorker</strong><br><boolean><br> truecluster.isMaster</boolean></p>\n<p><strong>cluster.schedulingPolicy</strong><br> cluster.SCHED_RRcluster.SCHED_NONE cluster.setupMaster()</p>\n<p><strong>cluster.settings</strong><br><Object><br>execArgv <Array> Node.js (Default=process.execArgv)<br>exec <string> worker (Default=process.argv[1])<br>args <Array> worker(Default=process.argv.slice(2))<br>silent <boolean> stdio(Default=false)<br>stdio <Array> forkstdio clusterIPCipcsilent<br>uid <number> user ( setuid(2).)<br>gid <number> group ( setgid(2).)<br>inspectPort <number> | <function> Sets inspector port of worker. This can be a number, or a function that takes no arguments and returns a number. By default each worker gets its own port, incremented from the masters process.debugPort.<br>.setupMaster() ( .fork())settings<br></function></number></number></number></Array></boolean></Array></string></Array></Object></p>\n<p><strong>cluster.setupMaster([settings])</strong><br>settings <Object>  cluster.settings<br>fork cluster.settings<br><em></em><br>:</Object></p>\n<ul>\n<li> .fork()</li>\n<li> .setupMaster().fork()env</li>\n<li>cluster.setupMaster()<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const cluster = require(&#x27;cluster&#x27;);</span><br><span class=\"line\">cluster.setupMaster(&#123;</span><br><span class=\"line\">  exec: &#x27;worker.js&#x27;,</span><br><span class=\"line\">  args: [&#x27;--use&#x27;, &#x27;https&#x27;],</span><br><span class=\"line\">  silent: true</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">cluster.fork(); // https worker</span><br><span class=\"line\">cluster.setupMaster(&#123;</span><br><span class=\"line\">  exec: &#x27;worker.js&#x27;,</span><br><span class=\"line\">  args: [&#x27;--use&#x27;, &#x27;http&#x27;]</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">cluster.fork(); // http worker</span><br></pre></td></tr></table></figure></li>\n</ul>\n<p><strong>cluster.worker</strong><br><Object><br></Object></p>\n<p><strong>cluster.workers</strong><br><Object><br>idkey</Object></p>\n<p>cluster.workers cluster.workersdisconnect  exit</p>\n","site":{"data":{}},"excerpt":"","more":"<p>Node.js (),()Node.js</p>\n<p>cluster </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const cluster = require(&#x27;cluster&#x27;);</span><br><span class=\"line\">const http = require(&#x27;http&#x27;);</span><br><span class=\"line\">const numCPUs = require(&#x27;os&#x27;).cpus().length;</span><br><span class=\"line\"></span><br><span class=\"line\">if (cluster.isMaster) &#123;</span><br><span class=\"line\">  console.log(` $&#123;process.pid&#125; `);</span><br><span class=\"line\"></span><br><span class=\"line\">  // </span><br><span class=\"line\">  for (let i = 0; i &lt; numCPUs; i++) &#123;</span><br><span class=\"line\">    cluster.fork();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  cluster.on(&#x27;exit&#x27;, (worker, code, signal) =&gt; &#123;</span><br><span class=\"line\">    console.log(` $&#123;worker.process.pid&#125; `);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125; else &#123;</span><br><span class=\"line\">  //  TCP </span><br><span class=\"line\">  //  HTTP </span><br><span class=\"line\">  http.createServer((req, res) =&gt; &#123;</span><br><span class=\"line\">    res.writeHead(200);</span><br><span class=\"line\">    res.end(&#x27;\\n&#x27;);</span><br><span class=\"line\">  &#125;).listen(8000);</span><br><span class=\"line\"></span><br><span class=\"line\">  console.log(` $&#123;process.pid&#125; `);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>cluster</p>\n<p>Windows</p>\n<p>socket</p>\n<p>8270%</p>\n<p><strong>Class: Worker</strong><br>Workerpublic<br>cluster.workersWorker<br>cluster.workerWorker</p>\n<p><strong>Event: disconnect</strong><br> cluster.on(disconnect) ,</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cluster.fork().on(&#x27;disconnect&#x27;, () =&gt; &#123;</span><br><span class=\"line\">  // Worker has disconnected</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><strong>Event: error</strong><br> child_process.fork()error<br>process.on(error)</p>\n<p><strong>Event: exit</strong></p>\n<ul>\n<li>code <number> .</number></li>\n<li>signal <string> killSIGHUP.<br>cluster.on(exit)<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const worker = cluster.fork();</span><br><span class=\"line\">worker.on(&#x27;exit&#x27;, (code, signal) =&gt; &#123;</span><br><span class=\"line\">  if (signal) &#123;</span><br><span class=\"line\">    console.log(`worker was killed by signal: $&#123;signal&#125;`);</span><br><span class=\"line\">  &#125; else if (code !== 0) &#123;</span><br><span class=\"line\">    console.log(`worker exited with error code: $&#123;code&#125;`);</span><br><span class=\"line\">  &#125; else &#123;</span><br><span class=\"line\">    console.log(&#x27;worker success!&#x27;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></string></li>\n</ul>\n<p><strong>Event: listening</strong><br>address <Object><br>cluster.on(listening)<br></Object></p>\n<p><strong>Event: message</strong><br>message <Object><br>handle <undefined> | <Object><br>cluster.on(message)<br>process.on(message)</Object></undefined></Object></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const cluster = require(&#x27;cluster&#x27;);</span><br><span class=\"line\">const http = require(&#x27;http&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">if (cluster.isMaster) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  //  http </span><br><span class=\"line\">  let numReqs = 0;</span><br><span class=\"line\">  setInterval(() =&gt; &#123;</span><br><span class=\"line\">    console.log(`numReqs = $&#123;numReqs&#125;`);</span><br><span class=\"line\">  &#125;, 1000);</span><br><span class=\"line\"></span><br><span class=\"line\">  // </span><br><span class=\"line\">  function messageHandler(msg) &#123;</span><br><span class=\"line\">    if (msg.cmd &amp;&amp; msg.cmd === &#x27;notifyRequest&#x27;) &#123;</span><br><span class=\"line\">      numReqs += 1;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  //  worker  notifyRequest </span><br><span class=\"line\">  const numCPUs = require(&#x27;os&#x27;).cpus().length;</span><br><span class=\"line\">  for (let i = 0; i &lt; numCPUs; i++) &#123;</span><br><span class=\"line\">    cluster.fork();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  for (const id in cluster.workers) &#123;</span><br><span class=\"line\">    cluster.workers[id].on(&#x27;message&#x27;, messageHandler);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125; else &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  // Worker http</span><br><span class=\"line\">  http.Server((req, res) =&gt; &#123;</span><br><span class=\"line\">    res.writeHead(200);</span><br><span class=\"line\">    res.end(&#x27;hello world\\n&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">    //  master </span><br><span class=\"line\">    process.send(&#123; cmd: &#x27;notifyRequest&#x27; &#125;);</span><br><span class=\"line\">  &#125;).listen(8000);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Event: online</strong><br>cluster.on(online)<br></p>\n<p><strong>worker.disconnect()</strong><br>Returns: <Worker>  worker <br>serverserver closeIPC</Worker></p>\n<p>.disconnect()</p>\n<p>.exitedAfterDisconnect </p>\n<p>serverIPC</p>\n<p>disconnectprocess.disconnect</p>\n<p><strong>worker.exitedAfterDisconnect</strong><br><boolean><br> .kill()  .disconnect() undefined<br>worker.exitedAfterDisconnect<br><em>worker.suicide</em></boolean></p>\n<p><strong>worker.id</strong><br><number><br>id<br>idcluster.workers</number></p>\n<p><strong>worker.isConnected()</strong><br>IPCtruefalse<br>disconnect </p>\n<p><strong>worker.isDead()</strong><br>true false</p>\n<p><strong>worker.kill([signal=SIGTERM])</strong><br>signal <string> kill<br>killworker.processsignalIPC0<br>.exitedAfterDisconnect<br>worker.destroy()<br>process.kill() kill</string></p>\n<p><strong>worker.process</strong><br><ChildProcess><br>child_process.fork().process process<br>process disconnect.exitedAfterDisconnecttrue process.exit(0)</ChildProcess></p>\n<p><strong>worker.send(message[, sendHandle][, callback])</strong><br>handle<br>ChildProcess.send()<br>process.send()</p>\n<p><strong>Event: disconnect</strong><br>worker &lt;cluster.Worker&gt;<br>IPCkillworker.disconnect()<br>disconnect  exit</p>\n<p><strong>Event: exit</strong><br>worker &lt;cluster.Worker&gt;<br>code <number> .<br>signal <string> kill ( SIGHUP)<br>clusterexit<br>.fork()</string></number></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cluster.on(&#x27;exit&#x27;, (worker, code, signal) =&gt; &#123;</span><br><span class=\"line\">  console.log(&#x27;worker %d died (%s). restarting...&#x27;,</span><br><span class=\"line\">              worker.process.pid, signal || code);</span><br><span class=\"line\">  cluster.fork();</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><strong>Event: fork</strong><br>worker &lt;cluster.Worker&gt;<br>forkclusterfork timeout</p>\n<p><strong>Event: listening</strong><br>worker &lt;cluster.Worker&gt;<br>address <Object><br>listen()serverlistening  cluster listening<br>workeraddress  addressport  addressType<br>addressType :</Object></p>\n<ul>\n<li>4 (TCPv4)</li>\n<li>6 (TCPv6)</li>\n<li>-1 (unix domain socket)</li>\n<li>udp4 or udp6 (UDP v4 or v6)</li>\n</ul>\n<p><strong>Event: message</strong><br>worker &lt;cluster.Worker&gt;<br>message <Object><br>handle <undefined> | <Object><br>cluster</Object></undefined></Object></p>\n<p><strong>Event: online</strong><br>worker &lt;cluster.Worker&gt;<br>onlineonline fork  online</p>\n<p><strong>Event: setup</strong><br>settings <Object><br> .setupMaster() <br>settings  setupMaster()  cluster.settings  tick  .setupMaster() <br> cluster.settings</Object></p>\n<p><strong>cluster.disconnect([callback])</strong><br>callback <Function> handle<br>cluster.workers .disconnect()<br>handle<br><br></Function></p>\n<p><strong>cluster.fork([env])</strong><br>env <Object> Key/value<br>return &lt;cluster.Worker&gt;<br><br></Object></p>\n<p><strong>cluster.isMaster</strong><br><boolean><br> trueprocess.env.NODE_UNIQUE_IDprocess.env.NODE_UNIQUE_IDisMastertrue</boolean></p>\n<p><strong>cluster.isWorker</strong><br><boolean><br> truecluster.isMaster</boolean></p>\n<p><strong>cluster.schedulingPolicy</strong><br> cluster.SCHED_RRcluster.SCHED_NONE cluster.setupMaster()</p>\n<p><strong>cluster.settings</strong><br><Object><br>execArgv <Array> Node.js (Default=process.execArgv)<br>exec <string> worker (Default=process.argv[1])<br>args <Array> worker(Default=process.argv.slice(2))<br>silent <boolean> stdio(Default=false)<br>stdio <Array> forkstdio clusterIPCipcsilent<br>uid <number> user ( setuid(2).)<br>gid <number> group ( setgid(2).)<br>inspectPort <number> | <function> Sets inspector port of worker. This can be a number, or a function that takes no arguments and returns a number. By default each worker gets its own port, incremented from the masters process.debugPort.<br>.setupMaster() ( .fork())settings<br></function></number></number></number></Array></boolean></Array></string></Array></Object></p>\n<p><strong>cluster.setupMaster([settings])</strong><br>settings <Object>  cluster.settings<br>fork cluster.settings<br><em></em><br>:</Object></p>\n<ul>\n<li> .fork()</li>\n<li> .setupMaster().fork()env</li>\n<li>cluster.setupMaster()<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const cluster = require(&#x27;cluster&#x27;);</span><br><span class=\"line\">cluster.setupMaster(&#123;</span><br><span class=\"line\">  exec: &#x27;worker.js&#x27;,</span><br><span class=\"line\">  args: [&#x27;--use&#x27;, &#x27;https&#x27;],</span><br><span class=\"line\">  silent: true</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">cluster.fork(); // https worker</span><br><span class=\"line\">cluster.setupMaster(&#123;</span><br><span class=\"line\">  exec: &#x27;worker.js&#x27;,</span><br><span class=\"line\">  args: [&#x27;--use&#x27;, &#x27;http&#x27;]</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">cluster.fork(); // http worker</span><br></pre></td></tr></table></figure></li>\n</ul>\n<p><strong>cluster.worker</strong><br><Object><br></Object></p>\n<p><strong>cluster.workers</strong><br><Object><br>idkey</Object></p>\n<p>cluster.workers cluster.workersdisconnect  exit</p>\n"},{"title":"nvmnode","date":"2022-12-16T05:21:49.000Z","tags":null,"_content":"\n###### \nnodenode[](https://nodejs.org/zh-cn/)node\n\n###### nvm--node\n**nvmnodenode**\n1nvm\n[nvm](https://github.com/coreybutler/nvm-windows/releases)\n![nvm](images/nvm-download.png)\ngithub\n\n2nvm\n*nvm*\n\ncmdnvm\n![](images/nvm-install.png)\n\n3\nnvmsetting.txt\n![](images/nvm-setting.png)\n```\nnode_mirror: https://npm.taobao.org/mirrors/node/\nnpm_mirror: https://npm.taobao.org/mirrors/npm/\n```\n![](images/nvm-setting-content.png)\n\n4nvm\n- node\n```javascript\nnvm install [--version]\n// eg: nvm install 18.12\n```\n- /node\n```javascript\nnvm use [--version]\n// eg: nvm use 18.12\n```\n- node\n```javascript\nnvm uninstall [--version]\n// eg: nvm uninstall 18.12\n```\n- node\n```javascript\nnvm ls\n```\n\n###### \n1nvmnode\nnvmnodejs\n\n2nvm usenode\n\n\n3nvmnodevscodenodenode\nem...nvmnodegitgitnvmnvmgit*nvmnodegit*","source":"nodejs/install-diff-version-node-by-nvm.md","raw":"---\ntitle: nvmnode\ndate: 2022-12-16 13:21:49\ntags:\n---\n\n###### \nnodenode[](https://nodejs.org/zh-cn/)node\n\n###### nvm--node\n**nvmnodenode**\n1nvm\n[nvm](https://github.com/coreybutler/nvm-windows/releases)\n![nvm](images/nvm-download.png)\ngithub\n\n2nvm\n*nvm*\n\ncmdnvm\n![](images/nvm-install.png)\n\n3\nnvmsetting.txt\n![](images/nvm-setting.png)\n```\nnode_mirror: https://npm.taobao.org/mirrors/node/\nnpm_mirror: https://npm.taobao.org/mirrors/npm/\n```\n![](images/nvm-setting-content.png)\n\n4nvm\n- node\n```javascript\nnvm install [--version]\n// eg: nvm install 18.12\n```\n- /node\n```javascript\nnvm use [--version]\n// eg: nvm use 18.12\n```\n- node\n```javascript\nnvm uninstall [--version]\n// eg: nvm uninstall 18.12\n```\n- node\n```javascript\nnvm ls\n```\n\n###### \n1nvmnode\nnvmnodejs\n\n2nvm usenode\n\n\n3nvmnodevscodenodenode\nem...nvmnodegitgitnvmnvmgit*nvmnodegit*","updated":"2022-12-16T06:57:06.867Z","path":"nodejs/install-diff-version-node-by-nvm.html","comments":1,"layout":"page","_id":"clchh4gwq000kcktt4w2nfl2r","content":"<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>nodenode<a href=\"https://nodejs.org/zh-cn/\"></a>node</p>\n<h6 id=\"nvmnode\"><a href=\"#nvmnode\" class=\"headerlink\" title=\"nvmnode\"></a>nvmnode</h6><p><strong>nvmnodenode</strong><br>1nvm<br><a href=\"https://github.com/coreybutler/nvm-windows/releases\">nvm</a><br><img src=\"/nodejs/images/nvm-download.png\" alt=\"nvm\"><br>github</p>\n<p>2nvm<br><em>nvm</em></p>\n<p>cmdnvm<br><img src=\"/nodejs/images/nvm-install.png\" alt=\"\"></p>\n<p>3<br>nvmsetting.txt<br><img src=\"/nodejs/images/nvm-setting.png\" alt=\"\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">node_mirror: https://npm.taobao.org/mirrors/node/</span><br><span class=\"line\">npm_mirror: https://npm.taobao.org/mirrors/npm/</span><br></pre></td></tr></table></figure>\n<p><img src=\"/nodejs/images/nvm-setting-content.png\" alt=\"\"></p>\n<p>4nvm</p>\n<ul>\n<li>node<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm install [--version]</span><br><span class=\"line\"><span class=\"comment\">// eg: nvm install 18.12</span></span><br></pre></td></tr></table></figure></li>\n<li>/node<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm use [--version]</span><br><span class=\"line\"><span class=\"comment\">// eg: nvm use 18.12</span></span><br></pre></td></tr></table></figure></li>\n<li>node<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm uninstall [--version]</span><br><span class=\"line\"><span class=\"comment\">// eg: nvm uninstall 18.12</span></span><br></pre></td></tr></table></figure></li>\n<li>node<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm ls</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>1nvmnode<br>nvmnodejs</p>\n<p>2nvm usenode<br></p>\n<p>3nvmnodevscodenodenode<br>emnvmnodegitgitnvmnvmgit<em>nvmnodegit</em></p>\n","site":{"data":{}},"excerpt":"","more":"<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>nodenode<a href=\"https://nodejs.org/zh-cn/\"></a>node</p>\n<h6 id=\"nvmnode\"><a href=\"#nvmnode\" class=\"headerlink\" title=\"nvmnode\"></a>nvmnode</h6><p><strong>nvmnodenode</strong><br>1nvm<br><a href=\"https://github.com/coreybutler/nvm-windows/releases\">nvm</a><br><img src=\"/nodejs/images/nvm-download.png\" alt=\"nvm\"><br>github</p>\n<p>2nvm<br><em>nvm</em></p>\n<p>cmdnvm<br><img src=\"/nodejs/images/nvm-install.png\" alt=\"\"></p>\n<p>3<br>nvmsetting.txt<br><img src=\"/nodejs/images/nvm-setting.png\" alt=\"\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">node_mirror: https://npm.taobao.org/mirrors/node/</span><br><span class=\"line\">npm_mirror: https://npm.taobao.org/mirrors/npm/</span><br></pre></td></tr></table></figure>\n<p><img src=\"/nodejs/images/nvm-setting-content.png\" alt=\"\"></p>\n<p>4nvm</p>\n<ul>\n<li>node<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm install [--version]</span><br><span class=\"line\"><span class=\"comment\">// eg: nvm install 18.12</span></span><br></pre></td></tr></table></figure></li>\n<li>/node<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm use [--version]</span><br><span class=\"line\"><span class=\"comment\">// eg: nvm use 18.12</span></span><br></pre></td></tr></table></figure></li>\n<li>node<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm uninstall [--version]</span><br><span class=\"line\"><span class=\"comment\">// eg: nvm uninstall 18.12</span></span><br></pre></td></tr></table></figure></li>\n<li>node<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm ls</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>1nvmnode<br>nvmnodejs</p>\n<p>2nvm usenode<br></p>\n<p>3nvmnodevscodenodenode<br>emnvmnodegitgitnvmnvmgit<em>nvmnodegit</em></p>\n"},{"title":"nodejs(5)","date":"2023-01-03T10:04:15.000Z","tags":["node","","console ()"],"_content":"\nnode [options] [V8 options] [script.js | -e \"script\" | -] [--] [arguments]\n\nnode debug [script.js | -e \"script\" | <host>:<port>] \n\nnode --v8-options\n\n [REPL]\n\n###### \n-v, --version\n node \n\n-h, --help\n node  \n\n-e, --eval \"script\"\n JavaScript   REPL  script \n*windowscmdjavascriptpowershellgit bash*\n\n-p, --print \"script\"\n -e \n\n-c, --check\n\n\n-i, --interactive\n REPL stdin \n\n-r, --require module\n\n require()  module  node \n\n--inspect[=[host:]port]\n127.0.0.1:9229\nV8Chrome DevToolsIDENode.js tcpNode.js[Chrome Debugging Protocol][]\n\n--inspect-brk[=[host:]port]\n127.0.0.1:9229\n\n--inspect-port=[host:]port\nSIGUSR1127.0.0.1\n\n--no-deprecation\n\n\n--trace-deprecation\n\n\n--throw-deprecation\n\n\n--pending-deprecation\n\nNote: Pending deprecations are generally identical to a runtime deprecation with the notable exception that they are turned off by default and will not be emitted unless either the --pending-deprecation command line flag, or the NODE_PENDING_DEPRECATION=1 environment variable, is set. Pending deprecations are used to provide a kind of selective \"early warning\" mechanism that developers may leverage to detect deprecated API usage.\n--PendingNODE_Pending_deprecation=1API\n\n--no-warnings\n\n\n--expose-http2\nEnable the experimental 'http2' module.http2\n\n--abort-on-uncaught-exception\nAborting instead of exiting causes a core file to be generated for post-mortem analysis using a debugger (such as lldb, gdb, and mdb)\n((lldbgdbmdb))\n\n--trace-warnings\n\n\n--redirect-warnings=file\nWrite process warnings to the given file instead of printing to stderr. The file will be created if it does not exist, and will be appended to if it does. If an error occurs while attempting to write the warning to the file, the warning will be written to stderr instead.\n(stderr;stderr)\n\n--trace-sync-io\n I/O \n\n--force-async-hooks-checks\nEnables runtime checks for async_hooks. These can also be enabled dynamically by enabling one of the async_hooks hooks.\n(async_hooksasync_hooks)\n\n--trace-events-enabled\nEnables the collection of trace event tracing information.\n()\n\n--trace-event-categories\nA comma separated list of categories that should be traced when trace event tracing is enabled using --trace-events-enabled.\n(trace-events-enabled)\n\n--zero-fill-buffers\n 0  [Buffer]  [SlowBuffer] \n\n--preserve-symlinks\n\n Node.js Node.js    moduleA  moduleB \n![symlinks](./images/symlinks.png)\n--preserve-symlinks  Node.js \n --preserve-symlinks   Node.js \n\n--track-heap-objects\n\n\n--prof-process\n V8  V8  --prof \n\n--v8-options\n V8 \nV8 -_\n--stack-trace-limit  --stack_trace_limit\n\n--tls-cipher-list=list\n TLS   Node.js \n\n--enable-fips\n FIPS   Node.js  ./configure --openssl-fips \n\n--force-fips\n FIPS    Node.js  ./configure --openssl-fips \n\n--openssl-config=file\n OpenSSL   Node.js  ./configure --openssl-fips  FIPS \n\n--use-openssl-ca, --use-bundled-ca\nUse OpenSSL's default CA store or use bundled Mozilla CA store as supplied by current Node.js version. The default store is selectable at build-time.\n\nUsing OpenSSL store allows for external modifications of the store. For most Linux and BSD distributions, this store is maintained by the distribution maintainers and system administrators. OpenSSL CA store location is dependent on configuration of the OpenSSL library but this can be altered at runtime using environment variables.\n\nThe bundled CA store, as supplied by Node.js, is a snapshot of Mozilla CA store that is fixed at release time. It is identical on all supported platforms.\n\nSee SSL_CERT_DIR and SSL_CERT_FILE.\n(OpenSSLCANode.jsMozilla CA\nOpenSSLLinuxBSDOpenSSL CAOpenSSL\nNode.jsCAMozilla CA\nSSL_CERT_DIRSSL_CERT_FILE)\n\n--icu-data-dir=file\n ICU   NODE_ICU_DATA\n\n-\nAlias for stdin, analogous to the use of - in other command line utilities, meaning that the script will be read from stdin, and the rest of the options are passed to that script.\n(stdin-stdin)\n\n--\nIndicate the end of node options. Pass the rest of the arguments to the script. If no script filename or eval/print script is supplied prior to this, then the next argument will be used as a script filename.\n(eval/print)\n\n###### \nNODE_DEBUG=module[,]\n ',' \n\nNODE_PATH=path[:]\n ':' \n Windows  ';' \n\nNODE_DISABLE_COLORS=1\n 1  REPL \n\nNODE_ICU_DATA=file\nICUIntl   small-icu \n\nNODE_NO_WARNINGS=1\nWhen set to 1, process warnings are silenced.\n(1)\n\nNODE_NO_HTTP2=1\nWhen set to 1, the http2 module is suppressed.\n(1http2)\n\nNODE_OPTIONS=options...\nA space-separated list of command line options.  options...  are interpreted as if they had been specified on the command line before the actual command line (so they can be overridden).  Node will exit with an error if an option that is not allowed in the environment is used, such as -p or a script file.\n(()-pNode)\nnode\n- --enable-fips\n- --force-fips\n- --icu-data-dir\n- --inspect-brk\n- --inspect-port\n- --inspect\n- --no-deprecation\n- --no-warnings\n- --openssl-config\n- --redirect-warnings\n- --require, -r\n- --throw-deprecation\n- --tls-cipher-list\n- --trace-deprecation\n- --trace-events-categories\n- --trace-events-enabled\n- --trace-sync-io\n- --trace-warnings\n- --track-heap-objects\n- --use-bundled-ca\n- --use-openssl-ca\n- --v8-pool-size\n- --zero-fill-buffers\nV8:\n- --abort-on-uncaught-exception\n- --max-old-space-size\n- --stack-trace-limit\n\nNODE_PENDING_DEPRECATION=1\nWhen set to 1, emit pending deprecation warnings.\n\nNote: Pending deprecations are generally identical to a runtime deprecation with the notable exception that they are turned off by default and will not be emitted unless either the --pending-deprecation command line flag, or the NODE_PENDING_DEPRECATION=1 environment variable, is set. Pending deprecations are used to provide a kind of selective \"early warning\" mechanism that developers may leverage to detect deprecated API usage.\n(1::--pending -deprecationNODE_PENDING_DEPRECATION=1API)\n\nNODE_PRESERVE_SYMLINKS=1\nWhen set to 1, instructs the module loader to preserve symbolic links when resolving and caching modules.\n(1)\n\nNODE_REPL_HISTORY=file\n REPL   ~/.node_repl_history \"\"  \" \" REPL \n\nNODE_EXTRA_CA_CERTS=file\n CA  VeriSign file   PEM   process.emitWarning() \n TLS  HTTPS  ca \n\nOPENSSL_CONF=file\nLoad an OpenSSL configuration file on startup. Among other uses, this can be used to enable FIPS-compliant crypto if Node.js is built with ./configure --openssl-fips.\nIf the [--openssl-config][] command line option is used, the environment variable is ignored.\n(OpenSSLNode.js./configure --openssl-fipsfips[--openssl-config][])\n\nSSL_CERT_DIR=dir\nIf --use-openssl-ca is enabled, this overrides and sets OpenSSL's directory containing trusted certificates.\nNote: Be aware that unless the child environment is explicitly set, this environment variable will be inherited by any child processes, and if they use OpenSSL, it may cause them to trust the same CAs as node.\n(--use-openssl-caOpenSSL:OpenSSLCA)\n\nSSL_CERT_FILE=file\nIf --use-openssl-ca is enabled, this overrides and sets OpenSSL's file containing trusted certificates.\nNote: Be aware that unless the child environment is explicitly set, this environment variable will be inherited by any child processes, and if they use OpenSSL, it may cause them to trust the same CAs as node.\n(--use-openssl-caOpenSSL:OpenSSLCA)\n\nNODE_REDIRECT_WARNINGS=file\nWhen set, process warnings will be emitted to the given file instead of printing to stderr. The file will be created if it does not exist, and will be appended to if it does. If an error occurs while attempting to write the warning to the file, the warning will be written to stderr instead. This is equivalent to using the --redirect-warnings=file command-line flag.\n(stderr;stderr--redirect-warnings=file)\n\nUV_THREADPOOL_SIZE=size\nSet the number of threads used in libuv's threadpool to size threads.\nAsynchronous system APIs are used by Node.js whenever possible, but where they do not exist, libuv's threadpool is used to create asynchronous node APIs based on synchronous system APIs. Node.js APIs that use the threadpool are:\n- all fs APIs, other than the file watcher APIs and those that are explicitly synchronous\n- crypto.pbkdf2()\n- crypto.randomBytes(), unless it is used without a callback\n- crypto.randomFill()\n- dns.lookup()\n- all zlib APIs, other than those that are explicitly synchronous\nBecause libuv's threadpool has a fixed size, it means that if for whatever reason any of these APIs takes a long time, other (seemingly unrelated) APIs that run in libuv's threadpool will experience degraded performance. In order to mitigate this issue, one potential solution is to increase the size of libuv's threadpool by setting the 'UV_THREADPOOL_SIZE' environment variable to a value greater than 4 (its current default value). For more information, see the [libuv threadpool documentation][]. [--openssl-config]: #cli_openssl_config_file [Buffer]: buffer.html#buffer_buffer [Chrome Debugging Protocol]: https://chromedevtools.github.io/debugger-protocol-viewer [REPL]: repl.html [SlowBuffer]: buffer.html#buffer_class_slowbuffer [debugger]: debugger.html [emit_warning]: process.html#process_process_emitwarning_warning_type_code_ctor [libuv threadpool documentation]: http://docs.libuv.org/en/latest/threadpool.html\n\nlibuv\nnode .jsapiapilibuvapiapiNode.js api:\n- fs apiapiapi\n- crypto.pbkdf2()\n- crypt.randombytes()\n- crypto.randomFill()\n- dns.lookup()\n- zlib api\nlibuvapilibuv()apiUV_THREADPOOL_SIZE4()libuv[libuv][][openssl-config]: #cli_openssl_config_file [Buffer]: Buffer .html#buffer_buffer [Chrome]:https://chromedevtools.github.io/debugger-protocol-viewer [REPL]: REPL .html [SlowBuffer]: Buffer .html#buffer_class_slowbuffer[]:debugger.html [emit_warning]: process.html#process_process_emitwarning_warning_type_code_ctor [libuv]:http://docs.libuv.org/en/latest/threadpool.html\n\n\n#### console ()\nconsole  Web  JavaScript \n\n-  Console  console.log()  console.error()  console.warn()  Node.js \n-  console  process.stdout  process.stderr  console  require('console')\n console  API Node.js    I/O\n\n```javascript\n//  console\nconsole.log('');\n// : '' stdout\nconsole.log('%s', '');\n// : '' stdout\nconsole.error(new Error(''));\n// : [Error: ] stderr\nconst name = '';\nconsole.warn(`${name}`);\n// : '' stderr\n\n//  Console \nconst out = getStreamSomehow();\nconst err = getStreamSomehow();\nconst myConsole = new console.Console(out, err);\nmyConsole.log('');\n// : '' out\nmyConsole.log('%s', '');\n// : '' out\nmyConsole.error(new Error(''));\n// : [Error: ] err\nconst name = '';\nmyConsole.warn(`${name}`);\n// : '' err\n```\n\n###### Console \nConsole  require('console').Console  console.Console \n```javascript\nconst { Console } = require('console');\nconst { Console } = console;\n```\n console  Console  process.stdout  process.stderr \n```javascript\nnew Console(process.stdout, process.stderr);\n```\n\nconsole.assert(value[, message][, ...args])\n value   AssertionError  message util.format() \n```javascript\nconsole.assert(true, 'does nothing');\n// \nconsole.assert(false, 'Whoops %s', 'didn\\'t work');\n// AssertionError: Whoops didn't work\n```\nNode.js  console.assert()  console.assert() \n console.assert()  message   Node.js v10.0.0 AssertionErrorv10.0.0 console.assert() Node \n Node.js  console  console.assert() \n*console.assert *\n```javascript\n'use strict';\n\n//  assert  console \nconst myConsole = Object.create(console, {\n  assert: {\n    value: function assert(assertion, message, ...args) {\n      try {\n        console.assert(assertion, message, ...args);\n      } catch (err) {\n        console.error(err.stack);\n      }\n    },\n    configurable: true,\n    enumerable: true,\n    writable: true,\n  },\n});\n\nmodule.exports = myConsole;\n\nconst console = require('./myConsole');\nconsole.assert(false, '');\nconsole.log('');\n```\n\nconsole.clear()\n stdout  TTY  console.clear()  TTY  stdout TTY\nconsole.clear()  Linuxconsole.clear()  clear shell  Windowsconsole.clear() Node.js\n\nconsole.count([label])\n- label <string>   'default'\n label  stdout  label  console.count() \n```javascript\n> console.count()\ndefault: 1\nundefined\n> console.count('default')\ndefault: 2\nundefined\n> console.count('abc')\nabc: 1\nundefined\n> console.count('xyz')\nxyz: 1\nundefined\n> console.count('abc')\nabc: 2\nundefined\n> console.count()\ndefault: 3\nundefined\n>\n```\n\nconsole.countReset([label='default'])\n- label <string>   'default'\n label \n\nconsole.debug(data[, ...args])\nconsole.debug()console.log()\n\nconsole.dir(obj[, options])\n obj  util.inspect()  stdout()\n obj  inspect() \n options \n- showHidden -  true symbol  false\n- depth -  util.inspect()    2  null \n- colors -  true ANSI   false  util.inspect() \n\nconsole.error([data][, ...args])\n stderr  printf(3)  util.format()\n %d util.inspect()   [util.format()](https://www.nodeapp.cn/util.html#util_util_format_format_args)\n\n\nconsole.group([...label])#\n...label <any>\n\n labels labels\n\nconsole.groupCollapsed()\nconsole.group().\n\nconsole.groupEnd()\n\n\nconsole.info([data][, ...args])\nconsole.info()  console.log() \n\nconsole.log([data][, ...args])\n stdout  printf(3)  util.format()\n\nconsole.time(label)\n  label   console.timeEnd()  label  stdout \n\nconsole.timeEnd(label)\n console.time()  stdout\n```javascript\nconsole.time('100-elements');\nfor (let i = 0; i < 100; i++) {}\nconsole.timeEnd('100-elements');\n//  100-elements: 225.438ms\n```\n js\n\nconsole.trace([message][, ...args])\n 'Trace :'  stderr  util.format() \n\nconsole.warn([data][, ...args])\nconsole.warn()  console.error() ","source":"nodejs/nodejs-note-12.md","raw":"---\ntitle: nodejs(5)\ndate: 2023-01-03 18:04:15\ntags: [node, , console ()]\n---\n\nnode [options] [V8 options] [script.js | -e \"script\" | -] [--] [arguments]\n\nnode debug [script.js | -e \"script\" | <host>:<port>] \n\nnode --v8-options\n\n [REPL]\n\n###### \n-v, --version\n node \n\n-h, --help\n node  \n\n-e, --eval \"script\"\n JavaScript   REPL  script \n*windowscmdjavascriptpowershellgit bash*\n\n-p, --print \"script\"\n -e \n\n-c, --check\n\n\n-i, --interactive\n REPL stdin \n\n-r, --require module\n\n require()  module  node \n\n--inspect[=[host:]port]\n127.0.0.1:9229\nV8Chrome DevToolsIDENode.js tcpNode.js[Chrome Debugging Protocol][]\n\n--inspect-brk[=[host:]port]\n127.0.0.1:9229\n\n--inspect-port=[host:]port\nSIGUSR1127.0.0.1\n\n--no-deprecation\n\n\n--trace-deprecation\n\n\n--throw-deprecation\n\n\n--pending-deprecation\n\nNote: Pending deprecations are generally identical to a runtime deprecation with the notable exception that they are turned off by default and will not be emitted unless either the --pending-deprecation command line flag, or the NODE_PENDING_DEPRECATION=1 environment variable, is set. Pending deprecations are used to provide a kind of selective \"early warning\" mechanism that developers may leverage to detect deprecated API usage.\n--PendingNODE_Pending_deprecation=1API\n\n--no-warnings\n\n\n--expose-http2\nEnable the experimental 'http2' module.http2\n\n--abort-on-uncaught-exception\nAborting instead of exiting causes a core file to be generated for post-mortem analysis using a debugger (such as lldb, gdb, and mdb)\n((lldbgdbmdb))\n\n--trace-warnings\n\n\n--redirect-warnings=file\nWrite process warnings to the given file instead of printing to stderr. The file will be created if it does not exist, and will be appended to if it does. If an error occurs while attempting to write the warning to the file, the warning will be written to stderr instead.\n(stderr;stderr)\n\n--trace-sync-io\n I/O \n\n--force-async-hooks-checks\nEnables runtime checks for async_hooks. These can also be enabled dynamically by enabling one of the async_hooks hooks.\n(async_hooksasync_hooks)\n\n--trace-events-enabled\nEnables the collection of trace event tracing information.\n()\n\n--trace-event-categories\nA comma separated list of categories that should be traced when trace event tracing is enabled using --trace-events-enabled.\n(trace-events-enabled)\n\n--zero-fill-buffers\n 0  [Buffer]  [SlowBuffer] \n\n--preserve-symlinks\n\n Node.js Node.js    moduleA  moduleB \n![symlinks](./images/symlinks.png)\n--preserve-symlinks  Node.js \n --preserve-symlinks   Node.js \n\n--track-heap-objects\n\n\n--prof-process\n V8  V8  --prof \n\n--v8-options\n V8 \nV8 -_\n--stack-trace-limit  --stack_trace_limit\n\n--tls-cipher-list=list\n TLS   Node.js \n\n--enable-fips\n FIPS   Node.js  ./configure --openssl-fips \n\n--force-fips\n FIPS    Node.js  ./configure --openssl-fips \n\n--openssl-config=file\n OpenSSL   Node.js  ./configure --openssl-fips  FIPS \n\n--use-openssl-ca, --use-bundled-ca\nUse OpenSSL's default CA store or use bundled Mozilla CA store as supplied by current Node.js version. The default store is selectable at build-time.\n\nUsing OpenSSL store allows for external modifications of the store. For most Linux and BSD distributions, this store is maintained by the distribution maintainers and system administrators. OpenSSL CA store location is dependent on configuration of the OpenSSL library but this can be altered at runtime using environment variables.\n\nThe bundled CA store, as supplied by Node.js, is a snapshot of Mozilla CA store that is fixed at release time. It is identical on all supported platforms.\n\nSee SSL_CERT_DIR and SSL_CERT_FILE.\n(OpenSSLCANode.jsMozilla CA\nOpenSSLLinuxBSDOpenSSL CAOpenSSL\nNode.jsCAMozilla CA\nSSL_CERT_DIRSSL_CERT_FILE)\n\n--icu-data-dir=file\n ICU   NODE_ICU_DATA\n\n-\nAlias for stdin, analogous to the use of - in other command line utilities, meaning that the script will be read from stdin, and the rest of the options are passed to that script.\n(stdin-stdin)\n\n--\nIndicate the end of node options. Pass the rest of the arguments to the script. If no script filename or eval/print script is supplied prior to this, then the next argument will be used as a script filename.\n(eval/print)\n\n###### \nNODE_DEBUG=module[,]\n ',' \n\nNODE_PATH=path[:]\n ':' \n Windows  ';' \n\nNODE_DISABLE_COLORS=1\n 1  REPL \n\nNODE_ICU_DATA=file\nICUIntl   small-icu \n\nNODE_NO_WARNINGS=1\nWhen set to 1, process warnings are silenced.\n(1)\n\nNODE_NO_HTTP2=1\nWhen set to 1, the http2 module is suppressed.\n(1http2)\n\nNODE_OPTIONS=options...\nA space-separated list of command line options.  options...  are interpreted as if they had been specified on the command line before the actual command line (so they can be overridden).  Node will exit with an error if an option that is not allowed in the environment is used, such as -p or a script file.\n(()-pNode)\nnode\n- --enable-fips\n- --force-fips\n- --icu-data-dir\n- --inspect-brk\n- --inspect-port\n- --inspect\n- --no-deprecation\n- --no-warnings\n- --openssl-config\n- --redirect-warnings\n- --require, -r\n- --throw-deprecation\n- --tls-cipher-list\n- --trace-deprecation\n- --trace-events-categories\n- --trace-events-enabled\n- --trace-sync-io\n- --trace-warnings\n- --track-heap-objects\n- --use-bundled-ca\n- --use-openssl-ca\n- --v8-pool-size\n- --zero-fill-buffers\nV8:\n- --abort-on-uncaught-exception\n- --max-old-space-size\n- --stack-trace-limit\n\nNODE_PENDING_DEPRECATION=1\nWhen set to 1, emit pending deprecation warnings.\n\nNote: Pending deprecations are generally identical to a runtime deprecation with the notable exception that they are turned off by default and will not be emitted unless either the --pending-deprecation command line flag, or the NODE_PENDING_DEPRECATION=1 environment variable, is set. Pending deprecations are used to provide a kind of selective \"early warning\" mechanism that developers may leverage to detect deprecated API usage.\n(1::--pending -deprecationNODE_PENDING_DEPRECATION=1API)\n\nNODE_PRESERVE_SYMLINKS=1\nWhen set to 1, instructs the module loader to preserve symbolic links when resolving and caching modules.\n(1)\n\nNODE_REPL_HISTORY=file\n REPL   ~/.node_repl_history \"\"  \" \" REPL \n\nNODE_EXTRA_CA_CERTS=file\n CA  VeriSign file   PEM   process.emitWarning() \n TLS  HTTPS  ca \n\nOPENSSL_CONF=file\nLoad an OpenSSL configuration file on startup. Among other uses, this can be used to enable FIPS-compliant crypto if Node.js is built with ./configure --openssl-fips.\nIf the [--openssl-config][] command line option is used, the environment variable is ignored.\n(OpenSSLNode.js./configure --openssl-fipsfips[--openssl-config][])\n\nSSL_CERT_DIR=dir\nIf --use-openssl-ca is enabled, this overrides and sets OpenSSL's directory containing trusted certificates.\nNote: Be aware that unless the child environment is explicitly set, this environment variable will be inherited by any child processes, and if they use OpenSSL, it may cause them to trust the same CAs as node.\n(--use-openssl-caOpenSSL:OpenSSLCA)\n\nSSL_CERT_FILE=file\nIf --use-openssl-ca is enabled, this overrides and sets OpenSSL's file containing trusted certificates.\nNote: Be aware that unless the child environment is explicitly set, this environment variable will be inherited by any child processes, and if they use OpenSSL, it may cause them to trust the same CAs as node.\n(--use-openssl-caOpenSSL:OpenSSLCA)\n\nNODE_REDIRECT_WARNINGS=file\nWhen set, process warnings will be emitted to the given file instead of printing to stderr. The file will be created if it does not exist, and will be appended to if it does. If an error occurs while attempting to write the warning to the file, the warning will be written to stderr instead. This is equivalent to using the --redirect-warnings=file command-line flag.\n(stderr;stderr--redirect-warnings=file)\n\nUV_THREADPOOL_SIZE=size\nSet the number of threads used in libuv's threadpool to size threads.\nAsynchronous system APIs are used by Node.js whenever possible, but where they do not exist, libuv's threadpool is used to create asynchronous node APIs based on synchronous system APIs. Node.js APIs that use the threadpool are:\n- all fs APIs, other than the file watcher APIs and those that are explicitly synchronous\n- crypto.pbkdf2()\n- crypto.randomBytes(), unless it is used without a callback\n- crypto.randomFill()\n- dns.lookup()\n- all zlib APIs, other than those that are explicitly synchronous\nBecause libuv's threadpool has a fixed size, it means that if for whatever reason any of these APIs takes a long time, other (seemingly unrelated) APIs that run in libuv's threadpool will experience degraded performance. In order to mitigate this issue, one potential solution is to increase the size of libuv's threadpool by setting the 'UV_THREADPOOL_SIZE' environment variable to a value greater than 4 (its current default value). For more information, see the [libuv threadpool documentation][]. [--openssl-config]: #cli_openssl_config_file [Buffer]: buffer.html#buffer_buffer [Chrome Debugging Protocol]: https://chromedevtools.github.io/debugger-protocol-viewer [REPL]: repl.html [SlowBuffer]: buffer.html#buffer_class_slowbuffer [debugger]: debugger.html [emit_warning]: process.html#process_process_emitwarning_warning_type_code_ctor [libuv threadpool documentation]: http://docs.libuv.org/en/latest/threadpool.html\n\nlibuv\nnode .jsapiapilibuvapiapiNode.js api:\n- fs apiapiapi\n- crypto.pbkdf2()\n- crypt.randombytes()\n- crypto.randomFill()\n- dns.lookup()\n- zlib api\nlibuvapilibuv()apiUV_THREADPOOL_SIZE4()libuv[libuv][][openssl-config]: #cli_openssl_config_file [Buffer]: Buffer .html#buffer_buffer [Chrome]:https://chromedevtools.github.io/debugger-protocol-viewer [REPL]: REPL .html [SlowBuffer]: Buffer .html#buffer_class_slowbuffer[]:debugger.html [emit_warning]: process.html#process_process_emitwarning_warning_type_code_ctor [libuv]:http://docs.libuv.org/en/latest/threadpool.html\n\n\n#### console ()\nconsole  Web  JavaScript \n\n-  Console  console.log()  console.error()  console.warn()  Node.js \n-  console  process.stdout  process.stderr  console  require('console')\n console  API Node.js    I/O\n\n```javascript\n//  console\nconsole.log('');\n// : '' stdout\nconsole.log('%s', '');\n// : '' stdout\nconsole.error(new Error(''));\n// : [Error: ] stderr\nconst name = '';\nconsole.warn(`${name}`);\n// : '' stderr\n\n//  Console \nconst out = getStreamSomehow();\nconst err = getStreamSomehow();\nconst myConsole = new console.Console(out, err);\nmyConsole.log('');\n// : '' out\nmyConsole.log('%s', '');\n// : '' out\nmyConsole.error(new Error(''));\n// : [Error: ] err\nconst name = '';\nmyConsole.warn(`${name}`);\n// : '' err\n```\n\n###### Console \nConsole  require('console').Console  console.Console \n```javascript\nconst { Console } = require('console');\nconst { Console } = console;\n```\n console  Console  process.stdout  process.stderr \n```javascript\nnew Console(process.stdout, process.stderr);\n```\n\nconsole.assert(value[, message][, ...args])\n value   AssertionError  message util.format() \n```javascript\nconsole.assert(true, 'does nothing');\n// \nconsole.assert(false, 'Whoops %s', 'didn\\'t work');\n// AssertionError: Whoops didn't work\n```\nNode.js  console.assert()  console.assert() \n console.assert()  message   Node.js v10.0.0 AssertionErrorv10.0.0 console.assert() Node \n Node.js  console  console.assert() \n*console.assert *\n```javascript\n'use strict';\n\n//  assert  console \nconst myConsole = Object.create(console, {\n  assert: {\n    value: function assert(assertion, message, ...args) {\n      try {\n        console.assert(assertion, message, ...args);\n      } catch (err) {\n        console.error(err.stack);\n      }\n    },\n    configurable: true,\n    enumerable: true,\n    writable: true,\n  },\n});\n\nmodule.exports = myConsole;\n\nconst console = require('./myConsole');\nconsole.assert(false, '');\nconsole.log('');\n```\n\nconsole.clear()\n stdout  TTY  console.clear()  TTY  stdout TTY\nconsole.clear()  Linuxconsole.clear()  clear shell  Windowsconsole.clear() Node.js\n\nconsole.count([label])\n- label <string>   'default'\n label  stdout  label  console.count() \n```javascript\n> console.count()\ndefault: 1\nundefined\n> console.count('default')\ndefault: 2\nundefined\n> console.count('abc')\nabc: 1\nundefined\n> console.count('xyz')\nxyz: 1\nundefined\n> console.count('abc')\nabc: 2\nundefined\n> console.count()\ndefault: 3\nundefined\n>\n```\n\nconsole.countReset([label='default'])\n- label <string>   'default'\n label \n\nconsole.debug(data[, ...args])\nconsole.debug()console.log()\n\nconsole.dir(obj[, options])\n obj  util.inspect()  stdout()\n obj  inspect() \n options \n- showHidden -  true symbol  false\n- depth -  util.inspect()    2  null \n- colors -  true ANSI   false  util.inspect() \n\nconsole.error([data][, ...args])\n stderr  printf(3)  util.format()\n %d util.inspect()   [util.format()](https://www.nodeapp.cn/util.html#util_util_format_format_args)\n\n\nconsole.group([...label])#\n...label <any>\n\n labels labels\n\nconsole.groupCollapsed()\nconsole.group().\n\nconsole.groupEnd()\n\n\nconsole.info([data][, ...args])\nconsole.info()  console.log() \n\nconsole.log([data][, ...args])\n stdout  printf(3)  util.format()\n\nconsole.time(label)\n  label   console.timeEnd()  label  stdout \n\nconsole.timeEnd(label)\n console.time()  stdout\n```javascript\nconsole.time('100-elements');\nfor (let i = 0; i < 100; i++) {}\nconsole.timeEnd('100-elements');\n//  100-elements: 225.438ms\n```\n js\n\nconsole.trace([message][, ...args])\n 'Trace :'  stderr  util.format() \n\nconsole.warn([data][, ...args])\nconsole.warn()  console.error() ","updated":"2023-01-04T07:34:36.290Z","path":"nodejs/nodejs-note-12.html","comments":1,"layout":"page","_id":"clchh4gwr000mcktt57fn9n9s","content":"<p>node [options] [V8 options] [script.js | -e script | -] [] [arguments]</p>\n<p>node debug [script.js | -e script | <host>:<port>] </port></host></p>\n<p>node v8-options</p>\n<p> [REPL]</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>-v, version<br> node </p>\n<p>-h, help<br> node  </p>\n<p>-e, eval script<br> JavaScript   REPL  script <br><em>windowscmdjavascriptpowershellgit bash</em></p>\n<p>-p, print script<br> -e </p>\n<p>-c, check<br></p>\n<p>-i, interactive<br> REPL stdin </p>\n<p>-r, require module<br><br> require()  module  node </p>\n<p>inspect[=[host:]port]<br>127.0.0.1:9229<br>V8Chrome DevToolsIDENode.js tcpNode.js[Chrome Debugging Protocol][]</p>\n<p>inspect-brk[=[host:]port]<br>127.0.0.1:9229</p>\n<p>inspect-port=[host:]port<br>SIGUSR1127.0.0.1</p>\n<p>no-deprecation<br></p>\n<p>trace-deprecation<br></p>\n<p>throw-deprecation<br></p>\n<p>pending-deprecation<br><br>Note: Pending deprecations are generally identical to a runtime deprecation with the notable exception that they are turned off by default and will not be emitted unless either the pending-deprecation command line flag, or the NODE_PENDING_DEPRECATION=1 environment variable, is set. Pending deprecations are used to provide a kind of selective early warning mechanism that developers may leverage to detect deprecated API usage.<br>PendingNODE_Pending_deprecation=1API</p>\n<p>no-warnings<br></p>\n<p>expose-http2<br>Enable the experimental http2 module.http2</p>\n<p>abort-on-uncaught-exception<br>Aborting instead of exiting causes a core file to be generated for post-mortem analysis using a debugger (such as lldb, gdb, and mdb)<br>((lldbgdbmdb))</p>\n<p>trace-warnings<br></p>\n<p>redirect-warnings=file<br>Write process warnings to the given file instead of printing to stderr. The file will be created if it does not exist, and will be appended to if it does. If an error occurs while attempting to write the warning to the file, the warning will be written to stderr instead.<br>(stderr;stderr)</p>\n<p>trace-sync-io<br> I/O </p>\n<p>force-async-hooks-checks<br>Enables runtime checks for async_hooks. These can also be enabled dynamically by enabling one of the async_hooks hooks.<br>(async_hooksasync_hooks)</p>\n<p>trace-events-enabled<br>Enables the collection of trace event tracing information.<br>()</p>\n<p>trace-event-categories<br>A comma separated list of categories that should be traced when trace event tracing is enabled using trace-events-enabled.<br>(trace-events-enabled)</p>\n<p>zero-fill-buffers<br> 0  [Buffer]  [SlowBuffer] </p>\n<p>preserve-symlinks<br><br> Node.js Node.js    moduleA  moduleB <br><img src=\"/nodejs/images/symlinks.png\" alt=\"symlinks\"><br>preserve-symlinks  Node.js <br> preserve-symlinks   Node.js </p>\n<p>track-heap-objects<br></p>\n<p>prof-process<br> V8  V8  prof </p>\n<p>v8-options<br> V8 <br>V8 -_<br>stack-trace-limit  stack_trace_limit</p>\n<p>tls-cipher-list=list<br> TLS   Node.js </p>\n<p>enable-fips<br> FIPS   Node.js  ./configure openssl-fips </p>\n<p>force-fips<br> FIPS    Node.js  ./configure openssl-fips </p>\n<p>openssl-config=file<br> OpenSSL   Node.js  ./configure openssl-fips  FIPS </p>\n<p>use-openssl-ca, use-bundled-ca<br>Use OpenSSLs default CA store or use bundled Mozilla CA store as supplied by current Node.js version. The default store is selectable at build-time.</p>\n<p>Using OpenSSL store allows for external modifications of the store. For most Linux and BSD distributions, this store is maintained by the distribution maintainers and system administrators. OpenSSL CA store location is dependent on configuration of the OpenSSL library but this can be altered at runtime using environment variables.</p>\n<p>The bundled CA store, as supplied by Node.js, is a snapshot of Mozilla CA store that is fixed at release time. It is identical on all supported platforms.</p>\n<p>See SSL_CERT_DIR and SSL_CERT_FILE.<br>(OpenSSLCANode.jsMozilla CA<br>OpenSSLLinuxBSDOpenSSL CAOpenSSL<br>Node.jsCAMozilla CA<br>SSL_CERT_DIRSSL_CERT_FILE)</p>\n<p>icu-data-dir=file<br> ICU   NODE_ICU_DATA</p>\n<p>-<br>Alias for stdin, analogous to the use of - in other command line utilities, meaning that the script will be read from stdin, and the rest of the options are passed to that script.<br>(stdin-stdin)</p>\n<p><br>Indicate the end of node options. Pass the rest of the arguments to the script. If no script filename or eval/print script is supplied prior to this, then the next argument will be used as a script filename.<br>(eval/print)</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>NODE_DEBUG=module[,]<br> , </p>\n<p>NODE_PATH=path[:]<br> : <br> Windows  ; </p>\n<p>NODE_DISABLE_COLORS=1<br> 1  REPL </p>\n<p>NODE_ICU_DATA=file<br>ICUIntl   small-icu </p>\n<p>NODE_NO_WARNINGS=1<br>When set to 1, process warnings are silenced.<br>(1)</p>\n<p>NODE_NO_HTTP2=1<br>When set to 1, the http2 module is suppressed.<br>(1http2)</p>\n<p>NODE_OPTIONS=options<br>A space-separated list of command line options.  options  are interpreted as if they had been specified on the command line before the actual command line (so they can be overridden).  Node will exit with an error if an option that is not allowed in the environment is used, such as -p or a script file.<br>(()-pNode)<br>node</p>\n<ul>\n<li>enable-fips</li>\n<li>force-fips</li>\n<li>icu-data-dir</li>\n<li>inspect-brk</li>\n<li>inspect-port</li>\n<li>inspect</li>\n<li>no-deprecation</li>\n<li>no-warnings</li>\n<li>openssl-config</li>\n<li>redirect-warnings</li>\n<li>require, -r</li>\n<li>throw-deprecation</li>\n<li>tls-cipher-list</li>\n<li>trace-deprecation</li>\n<li>trace-events-categories</li>\n<li>trace-events-enabled</li>\n<li>trace-sync-io</li>\n<li>trace-warnings</li>\n<li>track-heap-objects</li>\n<li>use-bundled-ca</li>\n<li>use-openssl-ca</li>\n<li>v8-pool-size</li>\n<li>zero-fill-buffers<br>V8:</li>\n<li>abort-on-uncaught-exception</li>\n<li>max-old-space-size</li>\n<li>stack-trace-limit</li>\n</ul>\n<p>NODE_PENDING_DEPRECATION=1<br>When set to 1, emit pending deprecation warnings.</p>\n<p>Note: Pending deprecations are generally identical to a runtime deprecation with the notable exception that they are turned off by default and will not be emitted unless either the pending-deprecation command line flag, or the NODE_PENDING_DEPRECATION=1 environment variable, is set. Pending deprecations are used to provide a kind of selective early warning mechanism that developers may leverage to detect deprecated API usage.<br>(1::pending -deprecationNODE_PENDING_DEPRECATION=1API)</p>\n<p>NODE_PRESERVE_SYMLINKS=1<br>When set to 1, instructs the module loader to preserve symbolic links when resolving and caching modules.<br>(1)</p>\n<p>NODE_REPL_HISTORY=file<br> REPL   ~/.node_repl_history     REPL </p>\n<p>NODE_EXTRA_CA_CERTS=file<br> CA  VeriSign file   PEM   process.emitWarning() <br> TLS  HTTPS  ca </p>\n<p>OPENSSL_CONF=file<br>Load an OpenSSL configuration file on startup. Among other uses, this can be used to enable FIPS-compliant crypto if Node.js is built with ./configure openssl-fips.<br>If the [openssl-config][] command line option is used, the environment variable is ignored.<br>(OpenSSLNode.js./configure openssl-fipsfips[openssl-config][])</p>\n<p>SSL_CERT_DIR=dir<br>If use-openssl-ca is enabled, this overrides and sets OpenSSLs directory containing trusted certificates.<br>Note: Be aware that unless the child environment is explicitly set, this environment variable will be inherited by any child processes, and if they use OpenSSL, it may cause them to trust the same CAs as node.<br>(use-openssl-caOpenSSL:OpenSSLCA)</p>\n<p>SSL_CERT_FILE=file<br>If use-openssl-ca is enabled, this overrides and sets OpenSSLs file containing trusted certificates.<br>Note: Be aware that unless the child environment is explicitly set, this environment variable will be inherited by any child processes, and if they use OpenSSL, it may cause them to trust the same CAs as node.<br>(use-openssl-caOpenSSL:OpenSSLCA)</p>\n<p>NODE_REDIRECT_WARNINGS=file<br>When set, process warnings will be emitted to the given file instead of printing to stderr. The file will be created if it does not exist, and will be appended to if it does. If an error occurs while attempting to write the warning to the file, the warning will be written to stderr instead. This is equivalent to using the redirect-warnings=file command-line flag.<br>(stderr;stderrredirect-warnings=file)</p>\n<p>UV_THREADPOOL_SIZE=size<br>Set the number of threads used in libuvs threadpool to size threads.<br>Asynchronous system APIs are used by Node.js whenever possible, but where they do not exist, libuvs threadpool is used to create asynchronous node APIs based on synchronous system APIs. Node.js APIs that use the threadpool are:</p>\n<ul>\n<li>all fs APIs, other than the file watcher APIs and those that are explicitly synchronous</li>\n<li>crypto.pbkdf2()</li>\n<li>crypto.randomBytes(), unless it is used without a callback</li>\n<li>crypto.randomFill()</li>\n<li>dns.lookup()</li>\n<li>all zlib APIs, other than those that are explicitly synchronous<br>Because libuvs threadpool has a fixed size, it means that if for whatever reason any of these APIs takes a long time, other (seemingly unrelated) APIs that run in libuvs threadpool will experience degraded performance. In order to mitigate this issue, one potential solution is to increase the size of libuvs threadpool by setting the UV_THREADPOOL_SIZE environment variable to a value greater than 4 (its current default value). For more information, see the [libuv threadpool documentation][]. [openssl-config]: #cli_openssl_config_file [Buffer]: buffer.html#buffer_buffer [Chrome Debugging Protocol]: <a href=\"https://chromedevtools.github.io/debugger-protocol-viewer\">https://chromedevtools.github.io/debugger-protocol-viewer</a> [REPL]: repl.html [SlowBuffer]: buffer.html#buffer_class_slowbuffer [debugger]: debugger.html [emit_warning]: process.html#process_process_emitwarning_warning_type_code_ctor [libuv threadpool documentation]: <a href=\"http://docs.libuv.org/en/latest/threadpool.html\">http://docs.libuv.org/en/latest/threadpool.html</a></li>\n</ul>\n<p>libuv<br>node .jsapiapilibuvapiapiNode.js api:</p>\n<ul>\n<li>fs apiapiapi</li>\n<li>crypto.pbkdf2()</li>\n<li>crypt.randombytes()</li>\n<li>crypto.randomFill()</li>\n<li>dns.lookup()</li>\n<li>zlib api<br>libuvapilibuv()apiUV_THREADPOOL_SIZE4()libuv[libuv][][openssl-config]: #cli_openssl_config_file [Buffer]: Buffer .html#buffer_buffer [Chrome]:<a href=\"https://chromedevtools.github.io/debugger-protocol-viewer\">https://chromedevtools.github.io/debugger-protocol-viewer</a> [REPL]: REPL .html [SlowBuffer]: Buffer .html#buffer_class_slowbuffer[]:debugger.html [emit_warning]: process.html#process_process_emitwarning_warning_type_code_ctor [libuv]:<a href=\"http://docs.libuv.org/en/latest/threadpool.html\">http://docs.libuv.org/en/latest/threadpool.html</a></li>\n</ul>\n<h4 id=\"console-\"><a href=\"#console-\" class=\"headerlink\" title=\"console ()\"></a>console ()</h4><p>console  Web  JavaScript <br></p>\n<ul>\n<li> Console  console.log()  console.error()  console.warn()  Node.js </li>\n<li> console  process.stdout  process.stderr  console  require(console)<br> console  API Node.js    I/O</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  console</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">// : &#x27;&#x27; stdout</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;%s&#x27;</span>, <span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">// : &#x27;&#x27; stdout</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.error(<span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">&#x27;&#x27;</span>));</span><br><span class=\"line\"><span class=\"comment\">// : [Error: ] stderr</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> name = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.warn(<span class=\"string\">`<span class=\"subst\">$&#123;name&#125;</span>`</span>);</span><br><span class=\"line\"><span class=\"comment\">// : &#x27;&#x27; stderr</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  Console </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> out = getStreamSomehow();</span><br><span class=\"line\"><span class=\"keyword\">const</span> err = getStreamSomehow();</span><br><span class=\"line\"><span class=\"keyword\">const</span> myConsole = <span class=\"keyword\">new</span> <span class=\"built_in\">console</span>.Console(out, err);</span><br><span class=\"line\">myConsole.log(<span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">// : &#x27;&#x27; out</span></span><br><span class=\"line\">myConsole.log(<span class=\"string\">&#x27;%s&#x27;</span>, <span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">// : &#x27;&#x27; out</span></span><br><span class=\"line\">myConsole.error(<span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">&#x27;&#x27;</span>));</span><br><span class=\"line\"><span class=\"comment\">// : [Error: ] err</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> name = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">myConsole.warn(<span class=\"string\">`<span class=\"subst\">$&#123;name&#125;</span>`</span>);</span><br><span class=\"line\"><span class=\"comment\">// : &#x27;&#x27; err</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"Console-\"><a href=\"#Console-\" class=\"headerlink\" title=\"Console \"></a>Console </h6><p>Console  require(console).Console  console.Console </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> &#123; Console &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;console&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; Console &#125; = <span class=\"built_in\">console</span>;</span><br></pre></td></tr></table></figure>\n<p> console  Console  process.stdout  process.stderr </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> Console(process.stdout, process.stderr);</span><br></pre></td></tr></table></figure>\n\n<p>console.assert(value[, message][, args])<br> value   AssertionError  message util.format() </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.assert(<span class=\"literal\">true</span>, <span class=\"string\">&#x27;does nothing&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.assert(<span class=\"literal\">false</span>, <span class=\"string\">&#x27;Whoops %s&#x27;</span>, <span class=\"string\">&#x27;didn\\&#x27;t work&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">// AssertionError: Whoops didn&#x27;t work</span></span><br></pre></td></tr></table></figure>\n<p>Node.js  console.assert()  console.assert() <br> console.assert()  message   Node.js v10.0.0 AssertionErrorv10.0.0 console.assert() Node <br> Node.js  console  console.assert() <br><em>console.assert </em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&#x27;use strict&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  assert  console </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> myConsole = <span class=\"built_in\">Object</span>.create(<span class=\"built_in\">console</span>, &#123;</span><br><span class=\"line\">  <span class=\"attr\">assert</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">value</span>: <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">assert</span>(<span class=\"params\">assertion, message, ...args</span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.assert(assertion, message, ...args);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">catch</span> (err) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.error(err.stack);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">configurable</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">enumerable</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">writable</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = myConsole;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"built_in\">console</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./myConsole&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.assert(<span class=\"literal\">false</span>, <span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<p>console.clear()<br> stdout  TTY  console.clear()  TTY  stdout TTY<br>console.clear()  Linuxconsole.clear()  clear shell  Windowsconsole.clear() Node.js</p>\n<p>console.count([label])</p>\n<ul>\n<li>label <string>   default<br> label  stdout  label  console.count() <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; <span class=\"built_in\">console</span>.count()</span><br><span class=\"line\"><span class=\"attr\">default</span>: <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"literal\">undefined</span></span><br><span class=\"line\">&gt; <span class=\"built_in\">console</span>.count(<span class=\"string\">&#x27;default&#x27;</span>)</span><br><span class=\"line\"><span class=\"attr\">default</span>: <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"literal\">undefined</span></span><br><span class=\"line\">&gt; <span class=\"built_in\">console</span>.count(<span class=\"string\">&#x27;abc&#x27;</span>)</span><br><span class=\"line\"><span class=\"attr\">abc</span>: <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"literal\">undefined</span></span><br><span class=\"line\">&gt; <span class=\"built_in\">console</span>.count(<span class=\"string\">&#x27;xyz&#x27;</span>)</span><br><span class=\"line\"><span class=\"attr\">xyz</span>: <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"literal\">undefined</span></span><br><span class=\"line\">&gt; <span class=\"built_in\">console</span>.count(<span class=\"string\">&#x27;abc&#x27;</span>)</span><br><span class=\"line\"><span class=\"attr\">abc</span>: <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"literal\">undefined</span></span><br><span class=\"line\">&gt; <span class=\"built_in\">console</span>.count()</span><br><span class=\"line\"><span class=\"attr\">default</span>: <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"literal\">undefined</span></span><br><span class=\"line\">&gt;</span><br></pre></td></tr></table></figure></string></li>\n</ul>\n<p>console.countReset([label=default])</p>\n<ul>\n<li>label <string>   default<br> label </string></li>\n</ul>\n<p>console.debug(data[, args])<br>console.debug()console.log()</p>\n<p>console.dir(obj[, options])<br> obj  util.inspect()  stdout()<br> obj  inspect() <br> options </p>\n<ul>\n<li>showHidden -  true symbol  false</li>\n<li>depth -  util.inspect()    2  null </li>\n<li>colors -  true ANSI   false  util.inspect() </li>\n</ul>\n<p>console.error([data][, args])<br> stderr  printf(3)  util.format()<br> %d util.inspect()   <a href=\"https://www.nodeapp.cn/util.html#util_util_format_format_args\">util.format()</a></p>\n<p>console.group([label])#<br>label <any><br><br> labels labels</any></p>\n<p>console.groupCollapsed()<br>console.group().</p>\n<p>console.groupEnd()<br></p>\n<p>console.info([data][, args])<br>console.info()  console.log() </p>\n<p>console.log([data][, args])<br> stdout  printf(3)  util.format()</p>\n<p>console.time(label)<br>  label   console.timeEnd()  label  stdout </p>\n<p>console.timeEnd(label)<br> console.time()  stdout</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.time(<span class=\"string\">&#x27;100-elements&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">100</span>; i++) &#123;&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.timeEnd(<span class=\"string\">&#x27;100-elements&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">//  100-elements: 225.438ms</span></span><br></pre></td></tr></table></figure>\n<p> js</p>\n<p>console.trace([message][, args])<br> Trace :  stderr  util.format() </p>\n<p>console.warn([data][, args])<br>console.warn()  console.error() </p>\n","site":{"data":{}},"excerpt":"","more":"<p>node [options] [V8 options] [script.js | -e script | -] [] [arguments]</p>\n<p>node debug [script.js | -e script | <host>:<port>] </port></host></p>\n<p>node v8-options</p>\n<p> [REPL]</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>-v, version<br> node </p>\n<p>-h, help<br> node  </p>\n<p>-e, eval script<br> JavaScript   REPL  script <br><em>windowscmdjavascriptpowershellgit bash</em></p>\n<p>-p, print script<br> -e </p>\n<p>-c, check<br></p>\n<p>-i, interactive<br> REPL stdin </p>\n<p>-r, require module<br><br> require()  module  node </p>\n<p>inspect[=[host:]port]<br>127.0.0.1:9229<br>V8Chrome DevToolsIDENode.js tcpNode.js[Chrome Debugging Protocol][]</p>\n<p>inspect-brk[=[host:]port]<br>127.0.0.1:9229</p>\n<p>inspect-port=[host:]port<br>SIGUSR1127.0.0.1</p>\n<p>no-deprecation<br></p>\n<p>trace-deprecation<br></p>\n<p>throw-deprecation<br></p>\n<p>pending-deprecation<br><br>Note: Pending deprecations are generally identical to a runtime deprecation with the notable exception that they are turned off by default and will not be emitted unless either the pending-deprecation command line flag, or the NODE_PENDING_DEPRECATION=1 environment variable, is set. Pending deprecations are used to provide a kind of selective early warning mechanism that developers may leverage to detect deprecated API usage.<br>PendingNODE_Pending_deprecation=1API</p>\n<p>no-warnings<br></p>\n<p>expose-http2<br>Enable the experimental http2 module.http2</p>\n<p>abort-on-uncaught-exception<br>Aborting instead of exiting causes a core file to be generated for post-mortem analysis using a debugger (such as lldb, gdb, and mdb)<br>((lldbgdbmdb))</p>\n<p>trace-warnings<br></p>\n<p>redirect-warnings=file<br>Write process warnings to the given file instead of printing to stderr. The file will be created if it does not exist, and will be appended to if it does. If an error occurs while attempting to write the warning to the file, the warning will be written to stderr instead.<br>(stderr;stderr)</p>\n<p>trace-sync-io<br> I/O </p>\n<p>force-async-hooks-checks<br>Enables runtime checks for async_hooks. These can also be enabled dynamically by enabling one of the async_hooks hooks.<br>(async_hooksasync_hooks)</p>\n<p>trace-events-enabled<br>Enables the collection of trace event tracing information.<br>()</p>\n<p>trace-event-categories<br>A comma separated list of categories that should be traced when trace event tracing is enabled using trace-events-enabled.<br>(trace-events-enabled)</p>\n<p>zero-fill-buffers<br> 0  [Buffer]  [SlowBuffer] </p>\n<p>preserve-symlinks<br><br> Node.js Node.js    moduleA  moduleB <br><img src=\"/nodejs/images/symlinks.png\" alt=\"symlinks\"><br>preserve-symlinks  Node.js <br> preserve-symlinks   Node.js </p>\n<p>track-heap-objects<br></p>\n<p>prof-process<br> V8  V8  prof </p>\n<p>v8-options<br> V8 <br>V8 -_<br>stack-trace-limit  stack_trace_limit</p>\n<p>tls-cipher-list=list<br> TLS   Node.js </p>\n<p>enable-fips<br> FIPS   Node.js  ./configure openssl-fips </p>\n<p>force-fips<br> FIPS    Node.js  ./configure openssl-fips </p>\n<p>openssl-config=file<br> OpenSSL   Node.js  ./configure openssl-fips  FIPS </p>\n<p>use-openssl-ca, use-bundled-ca<br>Use OpenSSLs default CA store or use bundled Mozilla CA store as supplied by current Node.js version. The default store is selectable at build-time.</p>\n<p>Using OpenSSL store allows for external modifications of the store. For most Linux and BSD distributions, this store is maintained by the distribution maintainers and system administrators. OpenSSL CA store location is dependent on configuration of the OpenSSL library but this can be altered at runtime using environment variables.</p>\n<p>The bundled CA store, as supplied by Node.js, is a snapshot of Mozilla CA store that is fixed at release time. It is identical on all supported platforms.</p>\n<p>See SSL_CERT_DIR and SSL_CERT_FILE.<br>(OpenSSLCANode.jsMozilla CA<br>OpenSSLLinuxBSDOpenSSL CAOpenSSL<br>Node.jsCAMozilla CA<br>SSL_CERT_DIRSSL_CERT_FILE)</p>\n<p>icu-data-dir=file<br> ICU   NODE_ICU_DATA</p>\n<p>-<br>Alias for stdin, analogous to the use of - in other command line utilities, meaning that the script will be read from stdin, and the rest of the options are passed to that script.<br>(stdin-stdin)</p>\n<p><br>Indicate the end of node options. Pass the rest of the arguments to the script. If no script filename or eval/print script is supplied prior to this, then the next argument will be used as a script filename.<br>(eval/print)</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>NODE_DEBUG=module[,]<br> , </p>\n<p>NODE_PATH=path[:]<br> : <br> Windows  ; </p>\n<p>NODE_DISABLE_COLORS=1<br> 1  REPL </p>\n<p>NODE_ICU_DATA=file<br>ICUIntl   small-icu </p>\n<p>NODE_NO_WARNINGS=1<br>When set to 1, process warnings are silenced.<br>(1)</p>\n<p>NODE_NO_HTTP2=1<br>When set to 1, the http2 module is suppressed.<br>(1http2)</p>\n<p>NODE_OPTIONS=options<br>A space-separated list of command line options.  options  are interpreted as if they had been specified on the command line before the actual command line (so they can be overridden).  Node will exit with an error if an option that is not allowed in the environment is used, such as -p or a script file.<br>(()-pNode)<br>node</p>\n<ul>\n<li>enable-fips</li>\n<li>force-fips</li>\n<li>icu-data-dir</li>\n<li>inspect-brk</li>\n<li>inspect-port</li>\n<li>inspect</li>\n<li>no-deprecation</li>\n<li>no-warnings</li>\n<li>openssl-config</li>\n<li>redirect-warnings</li>\n<li>require, -r</li>\n<li>throw-deprecation</li>\n<li>tls-cipher-list</li>\n<li>trace-deprecation</li>\n<li>trace-events-categories</li>\n<li>trace-events-enabled</li>\n<li>trace-sync-io</li>\n<li>trace-warnings</li>\n<li>track-heap-objects</li>\n<li>use-bundled-ca</li>\n<li>use-openssl-ca</li>\n<li>v8-pool-size</li>\n<li>zero-fill-buffers<br>V8:</li>\n<li>abort-on-uncaught-exception</li>\n<li>max-old-space-size</li>\n<li>stack-trace-limit</li>\n</ul>\n<p>NODE_PENDING_DEPRECATION=1<br>When set to 1, emit pending deprecation warnings.</p>\n<p>Note: Pending deprecations are generally identical to a runtime deprecation with the notable exception that they are turned off by default and will not be emitted unless either the pending-deprecation command line flag, or the NODE_PENDING_DEPRECATION=1 environment variable, is set. Pending deprecations are used to provide a kind of selective early warning mechanism that developers may leverage to detect deprecated API usage.<br>(1::pending -deprecationNODE_PENDING_DEPRECATION=1API)</p>\n<p>NODE_PRESERVE_SYMLINKS=1<br>When set to 1, instructs the module loader to preserve symbolic links when resolving and caching modules.<br>(1)</p>\n<p>NODE_REPL_HISTORY=file<br> REPL   ~/.node_repl_history     REPL </p>\n<p>NODE_EXTRA_CA_CERTS=file<br> CA  VeriSign file   PEM   process.emitWarning() <br> TLS  HTTPS  ca </p>\n<p>OPENSSL_CONF=file<br>Load an OpenSSL configuration file on startup. Among other uses, this can be used to enable FIPS-compliant crypto if Node.js is built with ./configure openssl-fips.<br>If the [openssl-config][] command line option is used, the environment variable is ignored.<br>(OpenSSLNode.js./configure openssl-fipsfips[openssl-config][])</p>\n<p>SSL_CERT_DIR=dir<br>If use-openssl-ca is enabled, this overrides and sets OpenSSLs directory containing trusted certificates.<br>Note: Be aware that unless the child environment is explicitly set, this environment variable will be inherited by any child processes, and if they use OpenSSL, it may cause them to trust the same CAs as node.<br>(use-openssl-caOpenSSL:OpenSSLCA)</p>\n<p>SSL_CERT_FILE=file<br>If use-openssl-ca is enabled, this overrides and sets OpenSSLs file containing trusted certificates.<br>Note: Be aware that unless the child environment is explicitly set, this environment variable will be inherited by any child processes, and if they use OpenSSL, it may cause them to trust the same CAs as node.<br>(use-openssl-caOpenSSL:OpenSSLCA)</p>\n<p>NODE_REDIRECT_WARNINGS=file<br>When set, process warnings will be emitted to the given file instead of printing to stderr. The file will be created if it does not exist, and will be appended to if it does. If an error occurs while attempting to write the warning to the file, the warning will be written to stderr instead. This is equivalent to using the redirect-warnings=file command-line flag.<br>(stderr;stderrredirect-warnings=file)</p>\n<p>UV_THREADPOOL_SIZE=size<br>Set the number of threads used in libuvs threadpool to size threads.<br>Asynchronous system APIs are used by Node.js whenever possible, but where they do not exist, libuvs threadpool is used to create asynchronous node APIs based on synchronous system APIs. Node.js APIs that use the threadpool are:</p>\n<ul>\n<li>all fs APIs, other than the file watcher APIs and those that are explicitly synchronous</li>\n<li>crypto.pbkdf2()</li>\n<li>crypto.randomBytes(), unless it is used without a callback</li>\n<li>crypto.randomFill()</li>\n<li>dns.lookup()</li>\n<li>all zlib APIs, other than those that are explicitly synchronous<br>Because libuvs threadpool has a fixed size, it means that if for whatever reason any of these APIs takes a long time, other (seemingly unrelated) APIs that run in libuvs threadpool will experience degraded performance. In order to mitigate this issue, one potential solution is to increase the size of libuvs threadpool by setting the UV_THREADPOOL_SIZE environment variable to a value greater than 4 (its current default value). For more information, see the [libuv threadpool documentation][]. [openssl-config]: #cli_openssl_config_file [Buffer]: buffer.html#buffer_buffer [Chrome Debugging Protocol]: <a href=\"https://chromedevtools.github.io/debugger-protocol-viewer\">https://chromedevtools.github.io/debugger-protocol-viewer</a> [REPL]: repl.html [SlowBuffer]: buffer.html#buffer_class_slowbuffer [debugger]: debugger.html [emit_warning]: process.html#process_process_emitwarning_warning_type_code_ctor [libuv threadpool documentation]: <a href=\"http://docs.libuv.org/en/latest/threadpool.html\">http://docs.libuv.org/en/latest/threadpool.html</a></li>\n</ul>\n<p>libuv<br>node .jsapiapilibuvapiapiNode.js api:</p>\n<ul>\n<li>fs apiapiapi</li>\n<li>crypto.pbkdf2()</li>\n<li>crypt.randombytes()</li>\n<li>crypto.randomFill()</li>\n<li>dns.lookup()</li>\n<li>zlib api<br>libuvapilibuv()apiUV_THREADPOOL_SIZE4()libuv[libuv][][openssl-config]: #cli_openssl_config_file [Buffer]: Buffer .html#buffer_buffer [Chrome]:<a href=\"https://chromedevtools.github.io/debugger-protocol-viewer\">https://chromedevtools.github.io/debugger-protocol-viewer</a> [REPL]: REPL .html [SlowBuffer]: Buffer .html#buffer_class_slowbuffer[]:debugger.html [emit_warning]: process.html#process_process_emitwarning_warning_type_code_ctor [libuv]:<a href=\"http://docs.libuv.org/en/latest/threadpool.html\">http://docs.libuv.org/en/latest/threadpool.html</a></li>\n</ul>\n<h4 id=\"console-\"><a href=\"#console-\" class=\"headerlink\" title=\"console ()\"></a>console ()</h4><p>console  Web  JavaScript <br></p>\n<ul>\n<li> Console  console.log()  console.error()  console.warn()  Node.js </li>\n<li> console  process.stdout  process.stderr  console  require(console)<br> console  API Node.js    I/O</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  console</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">// : &#x27;&#x27; stdout</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;%s&#x27;</span>, <span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">// : &#x27;&#x27; stdout</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.error(<span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">&#x27;&#x27;</span>));</span><br><span class=\"line\"><span class=\"comment\">// : [Error: ] stderr</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> name = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.warn(<span class=\"string\">`<span class=\"subst\">$&#123;name&#125;</span>`</span>);</span><br><span class=\"line\"><span class=\"comment\">// : &#x27;&#x27; stderr</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  Console </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> out = getStreamSomehow();</span><br><span class=\"line\"><span class=\"keyword\">const</span> err = getStreamSomehow();</span><br><span class=\"line\"><span class=\"keyword\">const</span> myConsole = <span class=\"keyword\">new</span> <span class=\"built_in\">console</span>.Console(out, err);</span><br><span class=\"line\">myConsole.log(<span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">// : &#x27;&#x27; out</span></span><br><span class=\"line\">myConsole.log(<span class=\"string\">&#x27;%s&#x27;</span>, <span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">// : &#x27;&#x27; out</span></span><br><span class=\"line\">myConsole.error(<span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">&#x27;&#x27;</span>));</span><br><span class=\"line\"><span class=\"comment\">// : [Error: ] err</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> name = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">myConsole.warn(<span class=\"string\">`<span class=\"subst\">$&#123;name&#125;</span>`</span>);</span><br><span class=\"line\"><span class=\"comment\">// : &#x27;&#x27; err</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"Console-\"><a href=\"#Console-\" class=\"headerlink\" title=\"Console \"></a>Console </h6><p>Console  require(console).Console  console.Console </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> &#123; Console &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;console&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; Console &#125; = <span class=\"built_in\">console</span>;</span><br></pre></td></tr></table></figure>\n<p> console  Console  process.stdout  process.stderr </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> Console(process.stdout, process.stderr);</span><br></pre></td></tr></table></figure>\n\n<p>console.assert(value[, message][, args])<br> value   AssertionError  message util.format() </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.assert(<span class=\"literal\">true</span>, <span class=\"string\">&#x27;does nothing&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.assert(<span class=\"literal\">false</span>, <span class=\"string\">&#x27;Whoops %s&#x27;</span>, <span class=\"string\">&#x27;didn\\&#x27;t work&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">// AssertionError: Whoops didn&#x27;t work</span></span><br></pre></td></tr></table></figure>\n<p>Node.js  console.assert()  console.assert() <br> console.assert()  message   Node.js v10.0.0 AssertionErrorv10.0.0 console.assert() Node <br> Node.js  console  console.assert() <br><em>console.assert </em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&#x27;use strict&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  assert  console </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> myConsole = <span class=\"built_in\">Object</span>.create(<span class=\"built_in\">console</span>, &#123;</span><br><span class=\"line\">  <span class=\"attr\">assert</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">value</span>: <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">assert</span>(<span class=\"params\">assertion, message, ...args</span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.assert(assertion, message, ...args);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">catch</span> (err) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.error(err.stack);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">configurable</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">enumerable</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">writable</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = myConsole;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"built_in\">console</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./myConsole&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.assert(<span class=\"literal\">false</span>, <span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<p>console.clear()<br> stdout  TTY  console.clear()  TTY  stdout TTY<br>console.clear()  Linuxconsole.clear()  clear shell  Windowsconsole.clear() Node.js</p>\n<p>console.count([label])</p>\n<ul>\n<li>label <string>   default<br> label  stdout  label  console.count() <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; <span class=\"built_in\">console</span>.count()</span><br><span class=\"line\"><span class=\"attr\">default</span>: <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"literal\">undefined</span></span><br><span class=\"line\">&gt; <span class=\"built_in\">console</span>.count(<span class=\"string\">&#x27;default&#x27;</span>)</span><br><span class=\"line\"><span class=\"attr\">default</span>: <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"literal\">undefined</span></span><br><span class=\"line\">&gt; <span class=\"built_in\">console</span>.count(<span class=\"string\">&#x27;abc&#x27;</span>)</span><br><span class=\"line\"><span class=\"attr\">abc</span>: <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"literal\">undefined</span></span><br><span class=\"line\">&gt; <span class=\"built_in\">console</span>.count(<span class=\"string\">&#x27;xyz&#x27;</span>)</span><br><span class=\"line\"><span class=\"attr\">xyz</span>: <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"literal\">undefined</span></span><br><span class=\"line\">&gt; <span class=\"built_in\">console</span>.count(<span class=\"string\">&#x27;abc&#x27;</span>)</span><br><span class=\"line\"><span class=\"attr\">abc</span>: <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"literal\">undefined</span></span><br><span class=\"line\">&gt; <span class=\"built_in\">console</span>.count()</span><br><span class=\"line\"><span class=\"attr\">default</span>: <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"literal\">undefined</span></span><br><span class=\"line\">&gt;</span><br></pre></td></tr></table></figure></string></li>\n</ul>\n<p>console.countReset([label=default])</p>\n<ul>\n<li>label <string>   default<br> label </string></li>\n</ul>\n<p>console.debug(data[, args])<br>console.debug()console.log()</p>\n<p>console.dir(obj[, options])<br> obj  util.inspect()  stdout()<br> obj  inspect() <br> options </p>\n<ul>\n<li>showHidden -  true symbol  false</li>\n<li>depth -  util.inspect()    2  null </li>\n<li>colors -  true ANSI   false  util.inspect() </li>\n</ul>\n<p>console.error([data][, args])<br> stderr  printf(3)  util.format()<br> %d util.inspect()   <a href=\"https://www.nodeapp.cn/util.html#util_util_format_format_args\">util.format()</a></p>\n<p>console.group([label])#<br>label <any><br><br> labels labels</any></p>\n<p>console.groupCollapsed()<br>console.group().</p>\n<p>console.groupEnd()<br></p>\n<p>console.info([data][, args])<br>console.info()  console.log() </p>\n<p>console.log([data][, args])<br> stdout  printf(3)  util.format()</p>\n<p>console.time(label)<br>  label   console.timeEnd()  label  stdout </p>\n<p>console.timeEnd(label)<br> console.time()  stdout</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.time(<span class=\"string\">&#x27;100-elements&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">100</span>; i++) &#123;&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.timeEnd(<span class=\"string\">&#x27;100-elements&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">//  100-elements: 225.438ms</span></span><br></pre></td></tr></table></figure>\n<p> js</p>\n<p>console.trace([message][, args])<br> Trace :  stderr  util.format() </p>\n<p>console.warn([data][, args])<br>console.warn()  console.error() </p>\n"},{"_content":"","source":"nodejs/nodejs-note-14.md","raw":"","date":"2023-01-04T08:07:35.798Z","updated":"2023-01-04T08:07:35.798Z","path":"nodejs/nodejs-note-14.html","title":"","comments":1,"layout":"page","_id":"clchh4gws000ockttehk8fubz","content":"","site":{"data":{}},"excerpt":"","more":""},{"_content":"","source":"nodejs/nodejs-note-15.md","raw":"","date":"2023-01-04T08:07:47.764Z","updated":"2023-01-04T08:07:47.764Z","path":"nodejs/nodejs-note-15.html","title":"","comments":1,"layout":"page","_id":"clchh4gws000qcktthcxfastz","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"nodejs(2)","date":"2022-11-19T13:10:12.000Z","tags":["node","docs"],"_content":"\n####  I/O \n- \n  - ![i/o](./images/async-experience.png)\n- \n  - ![i/o](./images/how-to-call-async.png)\n\n*I/OI/O*\nI/OI/OI/O\n![i/o](./images/jam.png)\nI/O\n\nI/OCPUI/OCPUI/OI/OI/O\n![i/o](./images/no-jam.png)\n\n*I/OI/OI/OI/OI/OI/O*\n\nI/OCPUCPUCPU\n\n- readI/OCPU\n![read](./images/read-loop.png)\n- selectread\n![select](./images/select-loop.png)\n*select10241024*\n- pollselect\n![poll](./images/poll-loop.png)\n- epollLinuxI/OI/OCPU\n![epoll](./images/epoll-loop.png)\n- kqueueepollFreeBSD\n\n###### Node  I/O\n1. \n   Nodewhile(true)TickTick\n2. \n   \n3. \n   I/OI/O\n![i/o](./images/async-progress.png)\n\n*I/ONodeI/O*\nWindowsIOCPI/OI/O\nI/O\nLinuxepoll\nFreeBSDkqueue\nSolarisEvent ports\n\nWindowsIOCP*nixlibuv\n\n######  I/O  API \n- \nsetTimeout()setInterval()Tick\n\nsetTimeout()1095CPU4\n\n![](./images/settimeout.png)\n- process.nextTick()\n```javascript\nprocess.nextTick = function(callback) { \n // on the way out, don't bother. \n // it won't get fired anyway \n if (process._exiting) return; \n if (tickDepth >= process.maxTickDepth) \n maxTickWarn(); \n var tock = { callback: callback }; \n if (process.domain) tock.domain = process.domain; \n nextTickQueue.push(tock); \n if (nextTickQueue.length) { \n process._needTickCallback(); \n } \n}; \n```\nprocess.nextTick()TickO(lg(n))nextTick()O(1)process.nextTick()\n- setImmediate()\nprocess.nextTick()setImmediate()process.nextTick()idlesetImmediate()checkidleI/OI/Ocheck\n\nprocess.nextTick()setImmediate()process.nextTick()setImmediate()\n```javascript\n// nextTick()\nprocess.nextTick(function () { \n console.log('nextTick1'); \n}); \nprocess.nextTick(function () { \n console.log('nextTick2'); \n}); \n// setImmediate()\nsetImmediate(function () { \n console.log('setImmediate1'); \n // \n process.nextTick(function () { \n console.log(''); \n }); \n}); \nsetImmediate(function () { \n console.log('setImmediate2'); \n}); \nconsole.log(''); \n// \n// \n// nextTick1 \n// nextTick2 \n// setImmediate1 \n// \n// setImmediate2 \n```\n\n#### \n\n- :\n- : \n\n###### \n- \nI/OCPUI/O\n\n- \n  - \n  - \n  - \n  - \n  - \n\n###### \n- /\n  - Nodeeventshttp://nodejs.org/docs/latest/api/events.html/NodeDOMpreventDefault()stopPropagation()stopImmediatePropagation() addListener/on()  once()  removeListener() removeAllListeners()emit()\n  - 10Nodeemitter.setMaxListeners(0)CPU EventEmittererrorerrorEventEmittererrorEventEmittererror\n  - events\n  - \n  - \n```javascript\nvar count = 0; \nvar results = {}; \nvar done = function (key, value) { \n results[key] = value; \n count++; \n if (count === 3) { \n // \n render(results); \n } \n}; \nfs.readFile(template_path, \"utf8\", function (err, template) { \n done(\"template\", template); \n}); \ndb.query(sql, function (err, data) { \n done(\"data\", data); \n}); \nl10n.get(function (err, resources) { \n done(\"resources\", resources); \n});\n```\n   - EventProxy\n```javascript\n// Trigger an event, firing all bound callbacks. Callbacks are passed the \n// same arguments as `trigger` is, apart from the event name. \n// Listening for `\"all\"` passes the true event name as the first argument \ntrigger : function(eventName) { \n var list, calls, ev, callback, args; \n var both = 2; \n if (!(calls = this._callbacks)) return this;\n while (both--) { \n ev = both ? eventName : 'all'; \n if (list = calls[ev]) { \n for (var i = 0, l = list.length; i < l; i++) { \n if (!(callback = list[i])) { \n list.splice(i, 1); i--; l--; \n } else { \n args = both ? Array.prototype.slice.call(arguments, 1) : arguments; \n callback[0].apply(callback[1] || this, args); \n } \n } \n } \n } \n return this; \n}\n```\n   - EventProxy\n- Promise/Deferred\n  -  Promises/A \n     -  Promise/DeferredPromiseDeferredPromises/APromises/A\n        - Promise3\n        - Promise\n        - Promise\n      - APIPromises/APromisethen()then()\n        - \n        - progress\n        - then()function\n        - then()Promise\n        - ![deferpromise](./images/defer-promise.png)\n  - Promise\n```javascript\nDeferred.prototype.all = function (promises) { \nvar count = promises.length; \n var that = this; \n var results = []; \n promises.forEach(function (promise, i) { \n promise.then(function (data) { \n count--; \n results[i] = data; \n if (count === 0) { \n that.resolve(results); \n } \n }, function (err) { \n that.reject(err); \n }); \n }); \n return this.promise; \n}; \n```\n        - Promise\n```javascript\npromise() \n .then(obj.api1) \n .then(obj.api2) \n .then(obj.api3) \n .then(obj.api4) \n .then(function (value4) { \n // Do something with value4 \n }, function (error) { \n // Handle any error from step1 through step4 \n }) \n .done(); \n\nvar Deferred = function () { \n this.promise = new Promise(); \n}; \n// \nDeferred.prototype.resolve = function (obj) { \n var promise = this.promise; \n var handler; \n while ((handler = promise.queue.shift())) { \n if (handler && handler.fulfilled) { \n var ret = handler.fulfilled(obj); \n if (ret && ret.isPromise) { \n ret.queue = promise.queue; \n this.promise = ret; \n return; \n } \n } \n } \n}; \n// \nDeferred.prototype.reject = function (err) { \n var promise = this.promise; \n var handler; \n while ((handler = promise.queue.shift())) { \n if (handler && handler.error) { \n var ret = handler.error(err); \n if (ret && ret.isPromise) { \n ret.queue = promise.queue; \n this.promise = ret;\n return; \n } \n } \n } \n}; \n// \nDeferred.prototype.callback = function () { \n var that = this; \n return function (err, file) { \n if (err) { \n return that.reject(err); \n } \n that.resolve(file); \n }; \n}; \nvar Promise = function () { \n // \n this.queue = []; \n this.isPromise = true; \n}; \nPromise.prototype.then = function (fulfilledHandler, errorHandler, progressHandler) { \n var handler = {}; \n if (typeof fulfilledHandler === 'function') { \n handler.fulfilled = fulfilledHandler; \n } \n if (typeof errorHandler === 'function') { \n handler.error = errorHandler; \n } \n this.queue.push(handler); \n return this; \n};\n```\n        - API Promise\n- \n  - Next\n    - nextConnect\n    - ![](./images/tail-trigger.png)\n    - Promise\n  - async\n    - \n```javascript\nasync.series([ \n function (callback) { \n fs.readFile('file1.txt', 'utf-8', callback); \n }, \n function (callback) { \n fs.readFile('file2.txt', 'utf-8', callback); \n } \n], function (err, results) { \n // results => [file1.txt, file2.txt] \n}); \n\nfs.readFile('file1.txt', 'utf-8', function (err, content) { \n if (err) { \n return callback(err); \n } \n fs.readFile('file2.txt ', 'utf-8', function (err, data) { \n if (err) { \n return callback(err); \n } \n callback(null, [content, data]); \n }); \n}); \n\n```\n    - \n```javascript\nasync.parallel([ \n function (callback) { \n fs.readFile('file1.txt', 'utf-8', callback); \n }, \n function (callback) { \n fs.readFile('file2.txt', 'utf-8', callback); \n } \n], function (err, results) { \n // results => [file1.txt, file2.txt] \n}); \n```\n    - \n      - series()series()asyncwaterfall()\n```javascript\nasync.waterfall([ \n function (callback) { \n fs.readFile('file1.txt', 'utf-8', function (err, content) { \n callback(err, content); \n }); \n }, \n function (arg1, callback) { \n // arg1 => file2.txt \n fs.readFile(arg1, 'utf-8', function (err, content) { \n callback(err, content); \n }); \n }, \n function(arg1, callback){ \n // arg1 => file3.txt \n fs.readFile(arg1, 'utf-8', function (err, content) { \n callback(err, content); \n }); \n } \n], function (err, result) { \n // result => file4.txt \n});\n```\n    - \n      - asyncauto()\n  - Step\n```javascript\nStep( \n function readFile1() { \n fs.readFile('file1.txt', 'utf-8', this); \n }, \n function readFile2(err, content) { \n fs.readFile('file2.txt', 'utf-8', this); \n }, \n function done(err, content) { \n console.log(content); \n } \n);\n```\n    - StepthisStepnext()\n    - \n      - thisparallel()Step\n      - parallel()Step\n    - : group()\n  - wind\n    - \n    - $await()\n    - \n      - Wind.Async.Binding.fromCallback\n      - Wind.Async.Binding.fromStandard\n\n###### \n- bagpipe\n  - \n  - \n  - \n  - \n```javascript\nvar Bagpipe = require('bagpipe'); \n// 10\nvar bagpipe = new Bagpipe(10); \nfor (var i = 0; i < 100; i++) { \n bagpipe.push(async, function () { \n // \n }); \n} \nbagpipe.on('full', function (length) { \n console.warn(':' + length); \n}); \n```\n      - \n      - \n\n   - asyncasyncparallelLimit()\n     - parallelLimit()parallel()\n     - parallelLimit()asyncqueue()","source":"nodejs/nodejs-note-2.md","raw":"---\ntitle: nodejs(2)\ndate: 2022-11-19 21:10:12\ntags: [node, docs]\n---\n\n####  I/O \n- \n  - ![i/o](./images/async-experience.png)\n- \n  - ![i/o](./images/how-to-call-async.png)\n\n*I/OI/O*\nI/OI/OI/O\n![i/o](./images/jam.png)\nI/O\n\nI/OCPUI/OCPUI/OI/OI/O\n![i/o](./images/no-jam.png)\n\n*I/OI/OI/OI/OI/OI/O*\n\nI/OCPUCPUCPU\n\n- readI/OCPU\n![read](./images/read-loop.png)\n- selectread\n![select](./images/select-loop.png)\n*select10241024*\n- pollselect\n![poll](./images/poll-loop.png)\n- epollLinuxI/OI/OCPU\n![epoll](./images/epoll-loop.png)\n- kqueueepollFreeBSD\n\n###### Node  I/O\n1. \n   Nodewhile(true)TickTick\n2. \n   \n3. \n   I/OI/O\n![i/o](./images/async-progress.png)\n\n*I/ONodeI/O*\nWindowsIOCPI/OI/O\nI/O\nLinuxepoll\nFreeBSDkqueue\nSolarisEvent ports\n\nWindowsIOCP*nixlibuv\n\n######  I/O  API \n- \nsetTimeout()setInterval()Tick\n\nsetTimeout()1095CPU4\n\n![](./images/settimeout.png)\n- process.nextTick()\n```javascript\nprocess.nextTick = function(callback) { \n // on the way out, don't bother. \n // it won't get fired anyway \n if (process._exiting) return; \n if (tickDepth >= process.maxTickDepth) \n maxTickWarn(); \n var tock = { callback: callback }; \n if (process.domain) tock.domain = process.domain; \n nextTickQueue.push(tock); \n if (nextTickQueue.length) { \n process._needTickCallback(); \n } \n}; \n```\nprocess.nextTick()TickO(lg(n))nextTick()O(1)process.nextTick()\n- setImmediate()\nprocess.nextTick()setImmediate()process.nextTick()idlesetImmediate()checkidleI/OI/Ocheck\n\nprocess.nextTick()setImmediate()process.nextTick()setImmediate()\n```javascript\n// nextTick()\nprocess.nextTick(function () { \n console.log('nextTick1'); \n}); \nprocess.nextTick(function () { \n console.log('nextTick2'); \n}); \n// setImmediate()\nsetImmediate(function () { \n console.log('setImmediate1'); \n // \n process.nextTick(function () { \n console.log(''); \n }); \n}); \nsetImmediate(function () { \n console.log('setImmediate2'); \n}); \nconsole.log(''); \n// \n// \n// nextTick1 \n// nextTick2 \n// setImmediate1 \n// \n// setImmediate2 \n```\n\n#### \n\n- :\n- : \n\n###### \n- \nI/OCPUI/O\n\n- \n  - \n  - \n  - \n  - \n  - \n\n###### \n- /\n  - Nodeeventshttp://nodejs.org/docs/latest/api/events.html/NodeDOMpreventDefault()stopPropagation()stopImmediatePropagation() addListener/on()  once()  removeListener() removeAllListeners()emit()\n  - 10Nodeemitter.setMaxListeners(0)CPU EventEmittererrorerrorEventEmittererrorEventEmittererror\n  - events\n  - \n  - \n```javascript\nvar count = 0; \nvar results = {}; \nvar done = function (key, value) { \n results[key] = value; \n count++; \n if (count === 3) { \n // \n render(results); \n } \n}; \nfs.readFile(template_path, \"utf8\", function (err, template) { \n done(\"template\", template); \n}); \ndb.query(sql, function (err, data) { \n done(\"data\", data); \n}); \nl10n.get(function (err, resources) { \n done(\"resources\", resources); \n});\n```\n   - EventProxy\n```javascript\n// Trigger an event, firing all bound callbacks. Callbacks are passed the \n// same arguments as `trigger` is, apart from the event name. \n// Listening for `\"all\"` passes the true event name as the first argument \ntrigger : function(eventName) { \n var list, calls, ev, callback, args; \n var both = 2; \n if (!(calls = this._callbacks)) return this;\n while (both--) { \n ev = both ? eventName : 'all'; \n if (list = calls[ev]) { \n for (var i = 0, l = list.length; i < l; i++) { \n if (!(callback = list[i])) { \n list.splice(i, 1); i--; l--; \n } else { \n args = both ? Array.prototype.slice.call(arguments, 1) : arguments; \n callback[0].apply(callback[1] || this, args); \n } \n } \n } \n } \n return this; \n}\n```\n   - EventProxy\n- Promise/Deferred\n  -  Promises/A \n     -  Promise/DeferredPromiseDeferredPromises/APromises/A\n        - Promise3\n        - Promise\n        - Promise\n      - APIPromises/APromisethen()then()\n        - \n        - progress\n        - then()function\n        - then()Promise\n        - ![deferpromise](./images/defer-promise.png)\n  - Promise\n```javascript\nDeferred.prototype.all = function (promises) { \nvar count = promises.length; \n var that = this; \n var results = []; \n promises.forEach(function (promise, i) { \n promise.then(function (data) { \n count--; \n results[i] = data; \n if (count === 0) { \n that.resolve(results); \n } \n }, function (err) { \n that.reject(err); \n }); \n }); \n return this.promise; \n}; \n```\n        - Promise\n```javascript\npromise() \n .then(obj.api1) \n .then(obj.api2) \n .then(obj.api3) \n .then(obj.api4) \n .then(function (value4) { \n // Do something with value4 \n }, function (error) { \n // Handle any error from step1 through step4 \n }) \n .done(); \n\nvar Deferred = function () { \n this.promise = new Promise(); \n}; \n// \nDeferred.prototype.resolve = function (obj) { \n var promise = this.promise; \n var handler; \n while ((handler = promise.queue.shift())) { \n if (handler && handler.fulfilled) { \n var ret = handler.fulfilled(obj); \n if (ret && ret.isPromise) { \n ret.queue = promise.queue; \n this.promise = ret; \n return; \n } \n } \n } \n}; \n// \nDeferred.prototype.reject = function (err) { \n var promise = this.promise; \n var handler; \n while ((handler = promise.queue.shift())) { \n if (handler && handler.error) { \n var ret = handler.error(err); \n if (ret && ret.isPromise) { \n ret.queue = promise.queue; \n this.promise = ret;\n return; \n } \n } \n } \n}; \n// \nDeferred.prototype.callback = function () { \n var that = this; \n return function (err, file) { \n if (err) { \n return that.reject(err); \n } \n that.resolve(file); \n }; \n}; \nvar Promise = function () { \n // \n this.queue = []; \n this.isPromise = true; \n}; \nPromise.prototype.then = function (fulfilledHandler, errorHandler, progressHandler) { \n var handler = {}; \n if (typeof fulfilledHandler === 'function') { \n handler.fulfilled = fulfilledHandler; \n } \n if (typeof errorHandler === 'function') { \n handler.error = errorHandler; \n } \n this.queue.push(handler); \n return this; \n};\n```\n        - API Promise\n- \n  - Next\n    - nextConnect\n    - ![](./images/tail-trigger.png)\n    - Promise\n  - async\n    - \n```javascript\nasync.series([ \n function (callback) { \n fs.readFile('file1.txt', 'utf-8', callback); \n }, \n function (callback) { \n fs.readFile('file2.txt', 'utf-8', callback); \n } \n], function (err, results) { \n // results => [file1.txt, file2.txt] \n}); \n\nfs.readFile('file1.txt', 'utf-8', function (err, content) { \n if (err) { \n return callback(err); \n } \n fs.readFile('file2.txt ', 'utf-8', function (err, data) { \n if (err) { \n return callback(err); \n } \n callback(null, [content, data]); \n }); \n}); \n\n```\n    - \n```javascript\nasync.parallel([ \n function (callback) { \n fs.readFile('file1.txt', 'utf-8', callback); \n }, \n function (callback) { \n fs.readFile('file2.txt', 'utf-8', callback); \n } \n], function (err, results) { \n // results => [file1.txt, file2.txt] \n}); \n```\n    - \n      - series()series()asyncwaterfall()\n```javascript\nasync.waterfall([ \n function (callback) { \n fs.readFile('file1.txt', 'utf-8', function (err, content) { \n callback(err, content); \n }); \n }, \n function (arg1, callback) { \n // arg1 => file2.txt \n fs.readFile(arg1, 'utf-8', function (err, content) { \n callback(err, content); \n }); \n }, \n function(arg1, callback){ \n // arg1 => file3.txt \n fs.readFile(arg1, 'utf-8', function (err, content) { \n callback(err, content); \n }); \n } \n], function (err, result) { \n // result => file4.txt \n});\n```\n    - \n      - asyncauto()\n  - Step\n```javascript\nStep( \n function readFile1() { \n fs.readFile('file1.txt', 'utf-8', this); \n }, \n function readFile2(err, content) { \n fs.readFile('file2.txt', 'utf-8', this); \n }, \n function done(err, content) { \n console.log(content); \n } \n);\n```\n    - StepthisStepnext()\n    - \n      - thisparallel()Step\n      - parallel()Step\n    - : group()\n  - wind\n    - \n    - $await()\n    - \n      - Wind.Async.Binding.fromCallback\n      - Wind.Async.Binding.fromStandard\n\n###### \n- bagpipe\n  - \n  - \n  - \n  - \n```javascript\nvar Bagpipe = require('bagpipe'); \n// 10\nvar bagpipe = new Bagpipe(10); \nfor (var i = 0; i < 100; i++) { \n bagpipe.push(async, function () { \n // \n }); \n} \nbagpipe.on('full', function (length) { \n console.warn(':' + length); \n}); \n```\n      - \n      - \n\n   - asyncasyncparallelLimit()\n     - parallelLimit()parallel()\n     - parallelLimit()asyncqueue()","updated":"2022-12-28T01:46:56.920Z","path":"nodejs/nodejs-note-2.html","comments":1,"layout":"page","_id":"clchh4gwt000scktt8ten6wa4","content":"<h4 id=\"-I-O\"><a href=\"#-I-O\" class=\"headerlink\" title=\" I/O\"></a> I/O</h4><ul>\n<li><ul>\n<li><img src=\"/nodejs/images/async-experience.png\" alt=\"i/o\"></li>\n</ul>\n</li>\n<li><ul>\n<li><img src=\"/nodejs/images/how-to-call-async.png\" alt=\"i/o\"></li>\n</ul>\n</li>\n</ul>\n<p><em>I/OI/O</em><br>I/OI/OI/O<br><img src=\"/nodejs/images/jam.png\" alt=\"i/o\"><br>I/O</p>\n<p>I/OCPUI/OCPUI/OI/OI/O<br><img src=\"/nodejs/images/no-jam.png\" alt=\"i/o\"></p>\n<p><em>I/OI/OI/OI/OI/OI/O</em></p>\n<p>I/OCPUCPUCPU<br></p>\n<ul>\n<li>readI/OCPU<br><img src=\"/nodejs/images/read-loop.png\" alt=\"read\"></li>\n<li>selectread<br><img src=\"/nodejs/images/select-loop.png\" alt=\"select\"></li>\n</ul>\n<p><em>select10241024</em></p>\n<ul>\n<li>pollselect<br><img src=\"/nodejs/images/poll-loop.png\" alt=\"poll\"></li>\n<li>epollLinuxI/OI/OCPU<br><img src=\"/nodejs/images/epoll-loop.png\" alt=\"epoll\"></li>\n<li>kqueueepollFreeBSD</li>\n</ul>\n<h6 id=\"Node--I-O\"><a href=\"#Node--I-O\" class=\"headerlink\" title=\"Node  I/O\"></a>Node  I/O</h6><ol>\n<li><br>Nodewhile(true)TickTick</li>\n<li><br></li>\n<li><br>I/OI/O<br><img src=\"/nodejs/images/async-progress.png\" alt=\"i/o\"></li>\n</ol>\n<p><em>I/ONodeI/O</em><br>WindowsIOCPI/OI/O<br>I/O<br>Linuxepoll<br>FreeBSDkqueue<br>SolarisEvent ports</p>\n<p>WindowsIOCP*nixlibuv</p>\n<h6 id=\"-I-O--API\"><a href=\"#-I-O--API\" class=\"headerlink\" title=\" I/O  API\"></a> I/O  API</h6><ul>\n<li><br>setTimeout()setInterval()Tick</li>\n</ul>\n<p>setTimeout()1095CPU4</p>\n<p><img src=\"/nodejs/images/settimeout.png\" alt=\"\"></p>\n<ul>\n<li>process.nextTick()<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">process.nextTick = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">callback</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// on the way out, don&#x27;t bother. </span></span><br><span class=\"line\"> <span class=\"comment\">// it won&#x27;t get fired anyway </span></span><br><span class=\"line\"> <span class=\"keyword\">if</span> (process._exiting) <span class=\"keyword\">return</span>; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (tickDepth &gt;= process.maxTickDepth) </span><br><span class=\"line\"> maxTickWarn(); </span><br><span class=\"line\"> <span class=\"keyword\">var</span> tock = &#123; <span class=\"attr\">callback</span>: callback &#125;; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (process.domain) tock.domain = process.domain; </span><br><span class=\"line\"> nextTickQueue.push(tock); </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (nextTickQueue.length) &#123; </span><br><span class=\"line\"> process._needTickCallback(); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\nprocess.nextTick()TickO(lg(n))nextTick()O(1)process.nextTick()</li>\n<li>setImmediate()<br>process.nextTick()setImmediate()process.nextTick()idlesetImmediate()checkidleI/OI/Ocheck</li>\n</ul>\n<p>process.nextTick()setImmediate()process.nextTick()setImmediate()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// nextTick()</span></span><br><span class=\"line\">process.nextTick(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;nextTick1&#x27;</span>); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">process.nextTick(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;nextTick2&#x27;</span>); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"><span class=\"comment\">// setImmediate()</span></span><br><span class=\"line\">setImmediate(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;setImmediate1&#x27;</span>); </span><br><span class=\"line\"> <span class=\"comment\">// </span></span><br><span class=\"line\"> process.nextTick(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;&#x27;</span>); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">setImmediate(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;setImmediate2&#x27;</span>); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;&#x27;</span>); </span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// nextTick1 </span></span><br><span class=\"line\"><span class=\"comment\">// nextTick2 </span></span><br><span class=\"line\"><span class=\"comment\">// setImmediate1 </span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// setImmediate2 </span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>:</li>\n<li>: </li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><br>I/OCPUI/O<br></li>\n<li><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li>/<ul>\n<li>Nodeevents<a href=\"http://nodejs.org/docs/latest/api/events.html%EF%BC%89%E6%98%AF%E5%8F%91%E5%B8%83/%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0%EF%BC%8CNode%E4%B8%AD%E9%83%A8%E5%88%86%E6%A8%A1%E5%9D%97%E9%83%BD%E7%BB%A7%E6%89%BF%E8%87%AA%E5%AE%83%EF%BC%8C%E8%BF%99%E4%B8%AA%E6%A8%A1%E5%9D%97%E6%AF%94%E5%89%8D%E7%AB%AF%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84%E5%A4%A7%E9%87%8FDOM%E4%BA%8B%E4%BB%B6%E7%AE%80%E5%8D%95%EF%BC%8C%E4%B8%8D%E5%AD%98%E5%9C%A8%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1%EF%BC%8C%E4%B9%9F%E4%B8%8D%E5%AD%98%E5%9C%A8preventDefault()%E3%80%81stopPropagation()%E5%92%8CstopImmediatePropagation()%E7%AD%89%E6%8E%A7%E5%88%B6%E4%BA%8B%E4%BB%B6%E4%BC%A0%E9%80%92%E7%9A%84%E6%96%B9%E6%B3%95%E3%80%82%E5%AE%83%E5%85%B7%E6%9C%89\">http://nodejs.org/docs/latest/api/events.html/NodeDOMpreventDefault()stopPropagation()stopImmediatePropagation()</a> addListener/on()  once()  removeListener() removeAllListeners()emit()</li>\n<li>10Nodeemitter.setMaxListeners(0)CPU EventEmittererrorerrorEventEmittererrorEventEmittererror</li>\n<li>events</li>\n<li></li>\n<li><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> count = <span class=\"number\">0</span>; </span><br><span class=\"line\"><span class=\"keyword\">var</span> results = &#123;&#125;; </span><br><span class=\"line\"><span class=\"keyword\">var</span> done = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key, value</span>) </span>&#123; </span><br><span class=\"line\"> results[key] = value; </span><br><span class=\"line\"> count++; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (count === <span class=\"number\">3</span>) &#123; </span><br><span class=\"line\"> <span class=\"comment\">// </span></span><br><span class=\"line\"> render(results); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">fs.readFile(template_path, <span class=\"string\">&quot;utf8&quot;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, template</span>) </span>&#123; </span><br><span class=\"line\"> done(<span class=\"string\">&quot;template&quot;</span>, template); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">db.query(sql, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, data</span>) </span>&#123; </span><br><span class=\"line\"> done(<span class=\"string\">&quot;data&quot;</span>, data); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">l10n.get(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, resources</span>) </span>&#123; </span><br><span class=\"line\"> done(<span class=\"string\">&quot;resources&quot;</span>, resources); </span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></li>\n<li>EventProxy<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Trigger an event, firing all bound callbacks. Callbacks are passed the </span></span><br><span class=\"line\"><span class=\"comment\">// same arguments as `trigger` is, apart from the event name. </span></span><br><span class=\"line\"><span class=\"comment\">// Listening for `&quot;all&quot;` passes the true event name as the first argument </span></span><br><span class=\"line\"><span class=\"attr\">trigger</span> : <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">eventName</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> list, calls, ev, callback, args; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> both = <span class=\"number\">2</span>; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (!(calls = <span class=\"built_in\">this</span>._callbacks)) <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\"> <span class=\"keyword\">while</span> (both--) &#123; </span><br><span class=\"line\"> ev = both ? eventName : <span class=\"string\">&#x27;all&#x27;</span>; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (list = calls[ev]) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>, l = list.length; i &lt; l; i++) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (!(callback = list[i])) &#123; </span><br><span class=\"line\"> list.splice(i, <span class=\"number\">1</span>); i--; l--; </span><br><span class=\"line\"> &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\"> args = both ? <span class=\"built_in\">Array</span>.prototype.slice.call(<span class=\"built_in\">arguments</span>, <span class=\"number\">1</span>) : <span class=\"built_in\">arguments</span>; </span><br><span class=\"line\"> callback[<span class=\"number\">0</span>].apply(callback[<span class=\"number\">1</span>] || <span class=\"built_in\">this</span>, args); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>; </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n<li>EventProxy</li>\n</ul>\n</li>\n<li>Promise/Deferred<ul>\n<li>Promises/A <ul>\n<li>Promise/DeferredPromiseDeferredPromises/APromises/A<ul>\n<li>Promise3</li>\n<li>Promise</li>\n<li>Promise</li>\n</ul>\n</li>\n<li>APIPromises/APromisethen()then()<ul>\n<li></li>\n<li>progress</li>\n<li>then()function</li>\n<li>then()Promise</li>\n<li><img src=\"/nodejs/images/defer-promise.png\" alt=\"deferpromise\"></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Promise<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Deferred.prototype.all = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">promises</span>) </span>&#123; </span><br><span class=\"line\"><span class=\"keyword\">var</span> count = promises.length; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> that = <span class=\"built_in\">this</span>; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> results = []; </span><br><span class=\"line\"> promises.forEach(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">promise, i</span>) </span>&#123; </span><br><span class=\"line\"> promise.then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">data</span>) </span>&#123; </span><br><span class=\"line\"> count--; </span><br><span class=\"line\"> results[i] = data; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (count === <span class=\"number\">0</span>) &#123; </span><br><span class=\"line\"> that.resolve(results); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125;, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err</span>) </span>&#123; </span><br><span class=\"line\"> that.reject(err); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.promise; </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n<pre><code>- Promise\n</code></pre>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">promise() </span><br><span class=\"line\"> .then(obj.api1) </span><br><span class=\"line\"> .then(obj.api2) </span><br><span class=\"line\"> .then(obj.api3) </span><br><span class=\"line\"> .then(obj.api4) </span><br><span class=\"line\"> .then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">value4</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// Do something with value4 </span></span><br><span class=\"line\"> &#125;, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">error</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// Handle any error from step1 through step4 </span></span><br><span class=\"line\"> &#125;) </span><br><span class=\"line\"> .done(); </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> Deferred = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">this</span>.promise = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">Deferred.prototype.resolve = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">obj</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> promise = <span class=\"built_in\">this</span>.promise; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> handler; </span><br><span class=\"line\"> <span class=\"keyword\">while</span> ((handler = promise.queue.shift())) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (handler &amp;&amp; handler.fulfilled) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> ret = handler.fulfilled(obj); </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (ret &amp;&amp; ret.isPromise) &#123; </span><br><span class=\"line\"> ret.queue = promise.queue; </span><br><span class=\"line\"> <span class=\"built_in\">this</span>.promise = ret; </span><br><span class=\"line\"> <span class=\"keyword\">return</span>; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">Deferred.prototype.reject = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> promise = <span class=\"built_in\">this</span>.promise; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> handler; </span><br><span class=\"line\"> <span class=\"keyword\">while</span> ((handler = promise.queue.shift())) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (handler &amp;&amp; handler.error) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> ret = handler.error(err); </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (ret &amp;&amp; ret.isPromise) &#123; </span><br><span class=\"line\"> ret.queue = promise.queue; </span><br><span class=\"line\"> <span class=\"built_in\">this</span>.promise = ret;</span><br><span class=\"line\"> <span class=\"keyword\">return</span>; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">Deferred.prototype.callback = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> that = <span class=\"built_in\">this</span>; </span><br><span class=\"line\"> <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, file</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (err) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">return</span> that.reject(err); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> that.resolve(file); </span><br><span class=\"line\"> &#125;; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"><span class=\"keyword\">var</span> <span class=\"built_in\">Promise</span> = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// </span></span><br><span class=\"line\"> <span class=\"built_in\">this</span>.queue = []; </span><br><span class=\"line\"> <span class=\"built_in\">this</span>.isPromise = <span class=\"literal\">true</span>; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"><span class=\"built_in\">Promise</span>.prototype.then = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">fulfilledHandler, errorHandler, progressHandler</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> handler = &#123;&#125;; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> fulfilledHandler === <span class=\"string\">&#x27;function&#x27;</span>) &#123; </span><br><span class=\"line\"> handler.fulfilled = fulfilledHandler; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> errorHandler === <span class=\"string\">&#x27;function&#x27;</span>) &#123; </span><br><span class=\"line\"> handler.error = errorHandler; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> <span class=\"built_in\">this</span>.queue.push(handler); </span><br><span class=\"line\"> <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>; </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<pre><code>- API Promise\n</code></pre>\n</li>\n</ul>\n</li>\n<li><ul>\n<li>Next<ul>\n<li>nextConnect</li>\n<li><img src=\"/nodejs/images/tail-trigger.png\" alt=\"\"></li>\n<li>Promise</li>\n</ul>\n</li>\n<li>async<ul>\n<li><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span>.series([ </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file1.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, callback); </span><br><span class=\"line\"> &#125;, </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file2.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, callback); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">], <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, results</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// results =&gt; [file1.txt, file2.txt] </span></span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br><span class=\"line\">fs.readFile(<span class=\"string\">&#x27;file1.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, content</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (err) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">return</span> callback(err); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file2.txt &#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, data</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (err) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">return</span> callback(err); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> callback(<span class=\"literal\">null</span>, [content, data]); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n<li><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span>.parallel([ </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file1.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, callback); </span><br><span class=\"line\"> &#125;, </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file2.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, callback); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">], <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, results</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// results =&gt; [file1.txt, file2.txt] </span></span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure></li>\n<li><ul>\n<li>series()series()asyncwaterfall()<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span>.waterfall([ </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file1.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, content</span>) </span>&#123; </span><br><span class=\"line\"> callback(err, content); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125;, </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">arg1, callback</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// arg1 =&gt; file2.txt </span></span><br><span class=\"line\"> fs.readFile(arg1, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, content</span>) </span>&#123; </span><br><span class=\"line\"> callback(err, content); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125;, </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">arg1, callback</span>)</span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// arg1 =&gt; file3.txt </span></span><br><span class=\"line\"> fs.readFile(arg1, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, content</span>) </span>&#123; </span><br><span class=\"line\"> callback(err, content); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">], <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, result</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// result =&gt; file4.txt </span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li><ul>\n<li>asyncauto()</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Step<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Step( </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">readFile1</span>(<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file1.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"built_in\">this</span>); </span><br><span class=\"line\"> &#125;, </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">readFile2</span>(<span class=\"params\">err, content</span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file2.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"built_in\">this</span>); </span><br><span class=\"line\"> &#125;, </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">done</span>(<span class=\"params\">err, content</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(content); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n<ul>\n<li>StepthisStepnext()</li>\n<li><ul>\n<li>thisparallel()Step</li>\n<li>parallel()Step</li>\n</ul>\n</li>\n<li>: group()</li>\n</ul>\n</li>\n<li>wind<ul>\n<li></li>\n<li>$await()</li>\n<li><ul>\n<li>Wind.Async.Binding.fromCallback</li>\n<li>Wind.Async.Binding.fromStandard</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><p>bagpipe</p>\n<ul>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> Bagpipe = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;bagpipe&#x27;</span>); </span><br><span class=\"line\"><span class=\"comment\">// 10</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> bagpipe = <span class=\"keyword\">new</span> Bagpipe(<span class=\"number\">10</span>); </span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">100</span>; i++) &#123; </span><br><span class=\"line\"> bagpipe.push(<span class=\"keyword\">async</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// </span></span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125; </span><br><span class=\"line\">bagpipe.on(<span class=\"string\">&#x27;full&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">length</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.warn(<span class=\"string\">&#x27;:&#x27;</span> + length); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\n<ul>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li><p>asyncasyncparallelLimit()</p>\n<ul>\n<li>parallelLimit()parallel()</li>\n<li>parallelLimit()asyncqueue()</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"-I-O\"><a href=\"#-I-O\" class=\"headerlink\" title=\" I/O\"></a> I/O</h4><ul>\n<li><ul>\n<li><img src=\"/nodejs/images/async-experience.png\" alt=\"i/o\"></li>\n</ul>\n</li>\n<li><ul>\n<li><img src=\"/nodejs/images/how-to-call-async.png\" alt=\"i/o\"></li>\n</ul>\n</li>\n</ul>\n<p><em>I/OI/O</em><br>I/OI/OI/O<br><img src=\"/nodejs/images/jam.png\" alt=\"i/o\"><br>I/O</p>\n<p>I/OCPUI/OCPUI/OI/OI/O<br><img src=\"/nodejs/images/no-jam.png\" alt=\"i/o\"></p>\n<p><em>I/OI/OI/OI/OI/OI/O</em></p>\n<p>I/OCPUCPUCPU<br></p>\n<ul>\n<li>readI/OCPU<br><img src=\"/nodejs/images/read-loop.png\" alt=\"read\"></li>\n<li>selectread<br><img src=\"/nodejs/images/select-loop.png\" alt=\"select\"></li>\n</ul>\n<p><em>select10241024</em></p>\n<ul>\n<li>pollselect<br><img src=\"/nodejs/images/poll-loop.png\" alt=\"poll\"></li>\n<li>epollLinuxI/OI/OCPU<br><img src=\"/nodejs/images/epoll-loop.png\" alt=\"epoll\"></li>\n<li>kqueueepollFreeBSD</li>\n</ul>\n<h6 id=\"Node--I-O\"><a href=\"#Node--I-O\" class=\"headerlink\" title=\"Node  I/O\"></a>Node  I/O</h6><ol>\n<li><br>Nodewhile(true)TickTick</li>\n<li><br></li>\n<li><br>I/OI/O<br><img src=\"/nodejs/images/async-progress.png\" alt=\"i/o\"></li>\n</ol>\n<p><em>I/ONodeI/O</em><br>WindowsIOCPI/OI/O<br>I/O<br>Linuxepoll<br>FreeBSDkqueue<br>SolarisEvent ports</p>\n<p>WindowsIOCP*nixlibuv</p>\n<h6 id=\"-I-O--API\"><a href=\"#-I-O--API\" class=\"headerlink\" title=\" I/O  API\"></a> I/O  API</h6><ul>\n<li><br>setTimeout()setInterval()Tick</li>\n</ul>\n<p>setTimeout()1095CPU4</p>\n<p><img src=\"/nodejs/images/settimeout.png\" alt=\"\"></p>\n<ul>\n<li>process.nextTick()<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">process.nextTick = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">callback</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// on the way out, don&#x27;t bother. </span></span><br><span class=\"line\"> <span class=\"comment\">// it won&#x27;t get fired anyway </span></span><br><span class=\"line\"> <span class=\"keyword\">if</span> (process._exiting) <span class=\"keyword\">return</span>; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (tickDepth &gt;= process.maxTickDepth) </span><br><span class=\"line\"> maxTickWarn(); </span><br><span class=\"line\"> <span class=\"keyword\">var</span> tock = &#123; <span class=\"attr\">callback</span>: callback &#125;; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (process.domain) tock.domain = process.domain; </span><br><span class=\"line\"> nextTickQueue.push(tock); </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (nextTickQueue.length) &#123; </span><br><span class=\"line\"> process._needTickCallback(); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\nprocess.nextTick()TickO(lg(n))nextTick()O(1)process.nextTick()</li>\n<li>setImmediate()<br>process.nextTick()setImmediate()process.nextTick()idlesetImmediate()checkidleI/OI/Ocheck</li>\n</ul>\n<p>process.nextTick()setImmediate()process.nextTick()setImmediate()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// nextTick()</span></span><br><span class=\"line\">process.nextTick(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;nextTick1&#x27;</span>); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">process.nextTick(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;nextTick2&#x27;</span>); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"><span class=\"comment\">// setImmediate()</span></span><br><span class=\"line\">setImmediate(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;setImmediate1&#x27;</span>); </span><br><span class=\"line\"> <span class=\"comment\">// </span></span><br><span class=\"line\"> process.nextTick(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;&#x27;</span>); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">setImmediate(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;setImmediate2&#x27;</span>); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;&#x27;</span>); </span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// nextTick1 </span></span><br><span class=\"line\"><span class=\"comment\">// nextTick2 </span></span><br><span class=\"line\"><span class=\"comment\">// setImmediate1 </span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// setImmediate2 </span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>:</li>\n<li>: </li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><br>I/OCPUI/O<br></li>\n<li><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li>/<ul>\n<li>Nodeevents<a href=\"http://nodejs.org/docs/latest/api/events.html%EF%BC%89%E6%98%AF%E5%8F%91%E5%B8%83/%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0%EF%BC%8CNode%E4%B8%AD%E9%83%A8%E5%88%86%E6%A8%A1%E5%9D%97%E9%83%BD%E7%BB%A7%E6%89%BF%E8%87%AA%E5%AE%83%EF%BC%8C%E8%BF%99%E4%B8%AA%E6%A8%A1%E5%9D%97%E6%AF%94%E5%89%8D%E7%AB%AF%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84%E5%A4%A7%E9%87%8FDOM%E4%BA%8B%E4%BB%B6%E7%AE%80%E5%8D%95%EF%BC%8C%E4%B8%8D%E5%AD%98%E5%9C%A8%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1%EF%BC%8C%E4%B9%9F%E4%B8%8D%E5%AD%98%E5%9C%A8preventDefault()%E3%80%81stopPropagation()%E5%92%8CstopImmediatePropagation()%E7%AD%89%E6%8E%A7%E5%88%B6%E4%BA%8B%E4%BB%B6%E4%BC%A0%E9%80%92%E7%9A%84%E6%96%B9%E6%B3%95%E3%80%82%E5%AE%83%E5%85%B7%E6%9C%89\">http://nodejs.org/docs/latest/api/events.html/NodeDOMpreventDefault()stopPropagation()stopImmediatePropagation()</a> addListener/on()  once()  removeListener() removeAllListeners()emit()</li>\n<li>10Nodeemitter.setMaxListeners(0)CPU EventEmittererrorerrorEventEmittererrorEventEmittererror</li>\n<li>events</li>\n<li></li>\n<li><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> count = <span class=\"number\">0</span>; </span><br><span class=\"line\"><span class=\"keyword\">var</span> results = &#123;&#125;; </span><br><span class=\"line\"><span class=\"keyword\">var</span> done = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">key, value</span>) </span>&#123; </span><br><span class=\"line\"> results[key] = value; </span><br><span class=\"line\"> count++; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (count === <span class=\"number\">3</span>) &#123; </span><br><span class=\"line\"> <span class=\"comment\">// </span></span><br><span class=\"line\"> render(results); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">fs.readFile(template_path, <span class=\"string\">&quot;utf8&quot;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, template</span>) </span>&#123; </span><br><span class=\"line\"> done(<span class=\"string\">&quot;template&quot;</span>, template); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">db.query(sql, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, data</span>) </span>&#123; </span><br><span class=\"line\"> done(<span class=\"string\">&quot;data&quot;</span>, data); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">l10n.get(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, resources</span>) </span>&#123; </span><br><span class=\"line\"> done(<span class=\"string\">&quot;resources&quot;</span>, resources); </span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></li>\n<li>EventProxy<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Trigger an event, firing all bound callbacks. Callbacks are passed the </span></span><br><span class=\"line\"><span class=\"comment\">// same arguments as `trigger` is, apart from the event name. </span></span><br><span class=\"line\"><span class=\"comment\">// Listening for `&quot;all&quot;` passes the true event name as the first argument </span></span><br><span class=\"line\"><span class=\"attr\">trigger</span> : <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">eventName</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> list, calls, ev, callback, args; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> both = <span class=\"number\">2</span>; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (!(calls = <span class=\"built_in\">this</span>._callbacks)) <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\"> <span class=\"keyword\">while</span> (both--) &#123; </span><br><span class=\"line\"> ev = both ? eventName : <span class=\"string\">&#x27;all&#x27;</span>; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (list = calls[ev]) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>, l = list.length; i &lt; l; i++) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (!(callback = list[i])) &#123; </span><br><span class=\"line\"> list.splice(i, <span class=\"number\">1</span>); i--; l--; </span><br><span class=\"line\"> &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\"> args = both ? <span class=\"built_in\">Array</span>.prototype.slice.call(<span class=\"built_in\">arguments</span>, <span class=\"number\">1</span>) : <span class=\"built_in\">arguments</span>; </span><br><span class=\"line\"> callback[<span class=\"number\">0</span>].apply(callback[<span class=\"number\">1</span>] || <span class=\"built_in\">this</span>, args); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>; </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n<li>EventProxy</li>\n</ul>\n</li>\n<li>Promise/Deferred<ul>\n<li>Promises/A <ul>\n<li>Promise/DeferredPromiseDeferredPromises/APromises/A<ul>\n<li>Promise3</li>\n<li>Promise</li>\n<li>Promise</li>\n</ul>\n</li>\n<li>APIPromises/APromisethen()then()<ul>\n<li></li>\n<li>progress</li>\n<li>then()function</li>\n<li>then()Promise</li>\n<li><img src=\"/nodejs/images/defer-promise.png\" alt=\"deferpromise\"></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Promise<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Deferred.prototype.all = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">promises</span>) </span>&#123; </span><br><span class=\"line\"><span class=\"keyword\">var</span> count = promises.length; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> that = <span class=\"built_in\">this</span>; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> results = []; </span><br><span class=\"line\"> promises.forEach(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">promise, i</span>) </span>&#123; </span><br><span class=\"line\"> promise.then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">data</span>) </span>&#123; </span><br><span class=\"line\"> count--; </span><br><span class=\"line\"> results[i] = data; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (count === <span class=\"number\">0</span>) &#123; </span><br><span class=\"line\"> that.resolve(results); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125;, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err</span>) </span>&#123; </span><br><span class=\"line\"> that.reject(err); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.promise; </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n<pre><code>- Promise\n</code></pre>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">promise() </span><br><span class=\"line\"> .then(obj.api1) </span><br><span class=\"line\"> .then(obj.api2) </span><br><span class=\"line\"> .then(obj.api3) </span><br><span class=\"line\"> .then(obj.api4) </span><br><span class=\"line\"> .then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">value4</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// Do something with value4 </span></span><br><span class=\"line\"> &#125;, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">error</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// Handle any error from step1 through step4 </span></span><br><span class=\"line\"> &#125;) </span><br><span class=\"line\"> .done(); </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> Deferred = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">this</span>.promise = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">Deferred.prototype.resolve = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">obj</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> promise = <span class=\"built_in\">this</span>.promise; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> handler; </span><br><span class=\"line\"> <span class=\"keyword\">while</span> ((handler = promise.queue.shift())) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (handler &amp;&amp; handler.fulfilled) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> ret = handler.fulfilled(obj); </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (ret &amp;&amp; ret.isPromise) &#123; </span><br><span class=\"line\"> ret.queue = promise.queue; </span><br><span class=\"line\"> <span class=\"built_in\">this</span>.promise = ret; </span><br><span class=\"line\"> <span class=\"keyword\">return</span>; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">Deferred.prototype.reject = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> promise = <span class=\"built_in\">this</span>.promise; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> handler; </span><br><span class=\"line\"> <span class=\"keyword\">while</span> ((handler = promise.queue.shift())) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (handler &amp;&amp; handler.error) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> ret = handler.error(err); </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (ret &amp;&amp; ret.isPromise) &#123; </span><br><span class=\"line\"> ret.queue = promise.queue; </span><br><span class=\"line\"> <span class=\"built_in\">this</span>.promise = ret;</span><br><span class=\"line\"> <span class=\"keyword\">return</span>; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">Deferred.prototype.callback = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> that = <span class=\"built_in\">this</span>; </span><br><span class=\"line\"> <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, file</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (err) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">return</span> that.reject(err); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> that.resolve(file); </span><br><span class=\"line\"> &#125;; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"><span class=\"keyword\">var</span> <span class=\"built_in\">Promise</span> = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// </span></span><br><span class=\"line\"> <span class=\"built_in\">this</span>.queue = []; </span><br><span class=\"line\"> <span class=\"built_in\">this</span>.isPromise = <span class=\"literal\">true</span>; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"><span class=\"built_in\">Promise</span>.prototype.then = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">fulfilledHandler, errorHandler, progressHandler</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">var</span> handler = &#123;&#125;; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> fulfilledHandler === <span class=\"string\">&#x27;function&#x27;</span>) &#123; </span><br><span class=\"line\"> handler.fulfilled = fulfilledHandler; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> errorHandler === <span class=\"string\">&#x27;function&#x27;</span>) &#123; </span><br><span class=\"line\"> handler.error = errorHandler; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> <span class=\"built_in\">this</span>.queue.push(handler); </span><br><span class=\"line\"> <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>; </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<pre><code>- API Promise\n</code></pre>\n</li>\n</ul>\n</li>\n<li><ul>\n<li>Next<ul>\n<li>nextConnect</li>\n<li><img src=\"/nodejs/images/tail-trigger.png\" alt=\"\"></li>\n<li>Promise</li>\n</ul>\n</li>\n<li>async<ul>\n<li><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span>.series([ </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file1.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, callback); </span><br><span class=\"line\"> &#125;, </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file2.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, callback); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">], <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, results</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// results =&gt; [file1.txt, file2.txt] </span></span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br><span class=\"line\">fs.readFile(<span class=\"string\">&#x27;file1.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, content</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (err) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">return</span> callback(err); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file2.txt &#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, data</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"keyword\">if</span> (err) &#123; </span><br><span class=\"line\"> <span class=\"keyword\">return</span> callback(err); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> callback(<span class=\"literal\">null</span>, [content, data]); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n<li><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span>.parallel([ </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file1.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, callback); </span><br><span class=\"line\"> &#125;, </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file2.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, callback); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">], <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, results</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// results =&gt; [file1.txt, file2.txt] </span></span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure></li>\n<li><ul>\n<li>series()series()asyncwaterfall()<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span>.waterfall([ </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file1.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, content</span>) </span>&#123; </span><br><span class=\"line\"> callback(err, content); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125;, </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">arg1, callback</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// arg1 =&gt; file2.txt </span></span><br><span class=\"line\"> fs.readFile(arg1, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, content</span>) </span>&#123; </span><br><span class=\"line\"> callback(err, content); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125;, </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">arg1, callback</span>)</span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// arg1 =&gt; file3.txt </span></span><br><span class=\"line\"> fs.readFile(arg1, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, content</span>) </span>&#123; </span><br><span class=\"line\"> callback(err, content); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">], <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, result</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// result =&gt; file4.txt </span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li><ul>\n<li>asyncauto()</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Step<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Step( </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">readFile1</span>(<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file1.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"built_in\">this</span>); </span><br><span class=\"line\"> &#125;, </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">readFile2</span>(<span class=\"params\">err, content</span>) </span>&#123; </span><br><span class=\"line\"> fs.readFile(<span class=\"string\">&#x27;file2.txt&#x27;</span>, <span class=\"string\">&#x27;utf-8&#x27;</span>, <span class=\"built_in\">this</span>); </span><br><span class=\"line\"> &#125;, </span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">done</span>(<span class=\"params\">err, content</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(content); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n<ul>\n<li>StepthisStepnext()</li>\n<li><ul>\n<li>thisparallel()Step</li>\n<li>parallel()Step</li>\n</ul>\n</li>\n<li>: group()</li>\n</ul>\n</li>\n<li>wind<ul>\n<li></li>\n<li>$await()</li>\n<li><ul>\n<li>Wind.Async.Binding.fromCallback</li>\n<li>Wind.Async.Binding.fromStandard</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><p>bagpipe</p>\n<ul>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> Bagpipe = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;bagpipe&#x27;</span>); </span><br><span class=\"line\"><span class=\"comment\">// 10</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> bagpipe = <span class=\"keyword\">new</span> Bagpipe(<span class=\"number\">10</span>); </span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">100</span>; i++) &#123; </span><br><span class=\"line\"> bagpipe.push(<span class=\"keyword\">async</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"comment\">// </span></span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125; </span><br><span class=\"line\">bagpipe.on(<span class=\"string\">&#x27;full&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">length</span>) </span>&#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.warn(<span class=\"string\">&#x27;:&#x27;</span> + length); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\n<ul>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li><p>asyncasyncparallelLimit()</p>\n<ul>\n<li>parallelLimit()parallel()</li>\n<li>parallelLimit()asyncqueue()</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"},{"title":"nodejs(5)","date":"2022-12-26T13:26:47.000Z","tags":["node","docs"],"_content":"\n#### \n\n###### \n**\n\n- \n- \n- MVC\n\n**\nmockNode\n\n**\nJavaScriptCommonJShttp://wiki.commonjs.org/wiki/Unit_Testing/1.0Node\n```\nvar assert = require('assert'); \nassert.equal(Math.max(1, 100), 100); \n```\n:\n- ok()\n- equal()\n- notEqual()\n- deepEqual()\n- notDeepEqual()\n- strictEqual()===\n- notStrictEqual()!==\n- throws()\nNodeassert\n- doesNotThrow()\n- ifError()nullundefined0''false\n\n**\n\n\n\nTDDBDD:\n- TDDBDD\n- TDDBDD\n\nmochaBDD\n```\ndescribe('Array', function(){ \n before(function(){ \n // ... \n }); \n describe('#indexOf()', function(){ \n it('should return -1 when not present', function(){ \n [1,2,3].indexOf(4).should.equal(-1); \n }); \n }); \n}); \n```\nBDDdescribeitdescribeitbeforeafterbeforeEachafterEach4describebeforeafterdescribebeforeEachafterEachdescribeit\n![](./images/test.png)\nmochaTDD\n```\nsuite('Array', function(){ \n setup(function(){ \n // ... \n }); \n suite('#indexOf()', function(){ \n test('should return -1 when not present', function(){ \n assert.equal(-1, [1,2,3].indexOf(4)); \n }); \n }); \n});\n```\nTDDsuitetestsuitetestsetupteardownBDDbeforeafter\n![](./images/test-1.png)\n\n\nmochamocha --reporters\ndotspecjsonhtml-covmocha -R <reporter>jsonhtml-cov\n\n\nNode\n- \n```\nit('fs.readFile should be ok', function (done) { \n fs.readFile('file_path', 'utf-8', function (err, data) { \n should.not.exist(err); \n done(); \n }); \n}); \n```\nit()titlefnfn.lengthdone()\n- \nmocha\n```\nit('async test', function (done) { \n // \n setTimeout(done, 10000); \n}); \n```\nmocha2000mocha -t <ms>itthis.timeout(ms)\n```\nit('should take less than 500ms', function (done) { \n this.timeout(500); \n setTimeout(done, 300); \n}); \n```\ndescribethis.timeout(ms)\n```\ndescribe('a suite of tests', function(){ \n this.timeout(500); \n it('should take less than 500ms', function (done) { \n setTimeout(done, 300); \n }); \n it('should take less than 500ms as well', function (done) { \n setTimeout(done, 200); \n }); \n}); \n```\n\n**\n\n\njscovernpm install jscover -g\n\njscover:\n- JavaJava\n- \nblanketJavaScript\n\nblanketjscoverblanketrequirerequire\n\njscover--require\nmocha --require blanket -R html-cov > coverage.html \n\nscriptsscriptspattern\n```\n\"scripts\": { \n \"blanket\": { \n \"pattern\": \"eventproxy/lib\" \n } \n}, \n```\nrequire\n\nblanket\n\n*mock*\nmock\n\nmockmuk\n```\nvar fs = require('fs'); \nvar muk = require('muk'); \nbefore(function () { \n muk(fs, 'readFileSync', function(path, encoding) { \n throw new Error(\"mock readFileSync error\"); \n }); \n}); \n// it(); \nafter(function () { \n muk.restore(); \n}); \n\nvar fs = require('fs'); \nvar muk = require('muk'); \nbeforeEach(function () { \n muk(fs, 'readFileSync', function(path, encoding) { \n throw new Error(\"mock readFileSync error\"); \n }); \n}); \n// it(); \n// it(); \nafterEach(function () { \n muk.restore(); \n}); \n```\nmuk.restore()\n\n\n```\nfs.readFile = function (filename, encoding, callback) { \n process.nextTick(function () { \n callback(new Error(\"mock readFile error\")); \n }); \n};\n```\n\n**\nexportsrewire\nrewirerequire\n```\nvar limit = function (num) { \n return num < 0 ? 0 : num; \n}; \n\nit('limit should return success', function () { \n var lib = rewire('../lib/index.js'); \n var litmit = lib.__get__('limit'); \n litmit(10).should.be.equal(10); \n}); \n```\nrewire__set__()__get__()eval()\n\n###### \n**\nNode*nixMakefile\n\n**\ntravis-ci\n\n###### \n\n\n**\n\n\nbenchmark\n```\nvar Benchmark = require('benchmark'); \nvar suite = new Benchmark.Suite(); \nvar arr = [0, 1, 2, 3, 5, 6]; \nsuite.add('nativeMap', function () { \n return arr.map(callback); \n}).add('customMap', function () { \n var ret = []; \n for (var i = 0; i < arr.length; i++) { \n ret.push(callback(arr[i])); \n } \n return ret; \n}).on('cycle', function (event) { \n console.log(String(event.target)); \n}).on('complete', function() { \n console.log('Fastest is ' + this.filter('fastest').pluck('name')); \n}).run(); \n```\n\n###### \n\n\nabsiegehttp_loadab\n```\n$ ab -c 10 -t 3 http://localhost:8001/ \nThis is ApacheBench, Version 2.3 <$Revision: 655654 $> \nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/ \nLicensed to The Apache Software Foundation, http://www.apache.org/ \nBenchmarking localhost (be patient) \nCompleted 5000 requests \nCompleted 10000 requests \nFinished 11573 requests \nServer Software: \nServer Hostname: localhost \nServer Port: 8001 \nDocument Path: / \nDocument Length: 10240 bytes \nConcurrency Level: 10 \nTime taken for tests: 3.000 seconds \nComplete requests: 11573 \nFailed requests: 0 \nWrite errors: 0 \nTotal transferred: 119375495 bytes \nHTML transferred: 118507520 bytes \nRequests per second: 3857.60 [#/sec] (mean) \nTime per request: 2.592 [ms] (mean) \nTime per request: 0.259 [ms] (mean, across all concurrent requests) \nTransfer rate: 38858.59 [Kbytes/sec] received \nConnection Times (ms) \n min mean[+/-sd] median max \nConnect: 0 0 0.3 0 31 \nProcessing: 1 2 1.9 2 35 \nWaiting: 0 2 1.9 2 35 \nTotal: 1 3 2.0 2 35 \nPercentage of the requests served within a certain time (ms) \n 50% 2\n 66% 3 \n 75% 3 \n 80% 3 \n 90% 3\n 95% 3 \n 98% 5 \n 99% 6 \n 100% 35 (longes % t request)\n```\n\n:\n- Document Path/\n- Document Length10KB\n- Concurrency Levelc1010\n- Time taken for testst\n- Complete requests\n- Failed requests\n- Write errors\n- Total transferred\n- HTML transferredHTTP\n- Requests per secondRPSQPS\n- Time per request\n- Transfer rate\n- Connection Times\n\n###### \nBDDBenchmark Driven Development:\n(1) \n(2) /\n(3) \n(4) \n(5)(2)\n![](./images/test-2.png)\n\n####   \n###### \n\n- \n  - WebCommonJS\n- \nNodemake*nixGruntGruntNodeNode\nMakefile\n  - Makefile*nixWindowsMakefileRubyRakefileGemfileMakefile\nGrunt\n  - MakefileantrakeNodeMakefileGrunt\n  - GruntNodeWindows*nix\n  - GruntNPMJavaMavenMakefile\n  - MakefileMakefilebashGrunt\n  - Gruntgrunt-contrib-NPMGrunt3gruntgrunt-initgrunt-cli-g\n\n- \n\n\n- \n\n\n###### \n**\nstagepre-releaseproduct\n\n**\nnohup&nohup node app.js &\n\n###### \nWeb\n- \n- \n- \n- \n\n**\nNodeNginxCDN\n![](./images/product.png)\n\n**\n\n\n**\n**\n\n###### \n**\nWebHTTP\nConnect\n```\nvar app = connect(); \n// \nconnect.logger.format('home', ':remote-addr :response-time - [:date] \":method :url \nHTTP/:http-version\" :status :res[content-length] \":referrer\" \":user-agent\" :res[content-length]'); \napp.use(connect.logger({ \n format: 'home', \n stream: fs.createWriteStream(__dirname + '/logs/access.log') \n}));\n```\n\n**\nbug\nNodeconsole:\n- console.log\n- console.info\n- console.warn\n- console.error\nconsoleloginfoprocess.stdoutwarnerrorprocess.stderrinfoerrorlogwarn\n\nconsoleConsoleconsole\n```\nvar info = fs.createWriteStream(logdir + '/info.log', {flags: 'a', mode: '0666'}); \nvar error = fs.createWriteStream(logdir + '/error.log', {flags: 'a', mode: '0666'}); \nvar logger = new console.Console(info, error); \nlogger.log('Hello world!'); \nlogger.error('segment fault');\n```\nNode\n\n###### \n\n\n\nConsole_stdout_stderr\n\n###### \n\n**\n\n- \n,QPSQPS\n- \n\n\n- \nWeb\n- \n\n\n- \n\n\n- CPU\nCPUCPUIOWait\nCPU70%35%70%\n- CPU load\nCPU loadCPUCPUCPU31515\n- I/O\nI/OI/ONodeI/OI/O\n- \n\n- \n\n- DNS\nDNSDNSDNSDNS\n\n**\n- IM\n- \n\n: Nodenodemailer\n```\nvar nodemailer = require(\"nodemailer\"); \n// SMTP\nvar smtpTransport = nodemailer.createTransport(\"SMTP\", { \n service: \"Gmail\", \n auth: { \n user: \"gmail.user@gmail.com\", \n pass: \"userpass\" \n } \n}); \n// \nvar mailOptions = { \n from: \"Fred Foo  <foo@bar.com>\", // \n to: \"bar@bar.com, baz@bar.com\", // \n subject: \"Hello \", // \n text: \"Hello world \", // \n html: \"<b>Hello world </b>\" // HTML\n} \n// \nsmtpTransport.sendMail(mailOptions, function (err, response) { \n if (err) { \n console.log(err); \n } else { \n console.log(\"Message sent: \" + response.message); \n } \n});\n```\n\n\n\n###### \n- \n![](./images/product-1.png)\n- \n- ","source":"nodejs/nodejs-note-5.md","raw":"---\ntitle: nodejs(5)\ndate: 2022-12-26 21:26:47\ntags: [node, docs]\n---\n\n#### \n\n###### \n**\n\n- \n- \n- MVC\n\n**\nmockNode\n\n**\nJavaScriptCommonJShttp://wiki.commonjs.org/wiki/Unit_Testing/1.0Node\n```\nvar assert = require('assert'); \nassert.equal(Math.max(1, 100), 100); \n```\n:\n- ok()\n- equal()\n- notEqual()\n- deepEqual()\n- notDeepEqual()\n- strictEqual()===\n- notStrictEqual()!==\n- throws()\nNodeassert\n- doesNotThrow()\n- ifError()nullundefined0''false\n\n**\n\n\n\nTDDBDD:\n- TDDBDD\n- TDDBDD\n\nmochaBDD\n```\ndescribe('Array', function(){ \n before(function(){ \n // ... \n }); \n describe('#indexOf()', function(){ \n it('should return -1 when not present', function(){ \n [1,2,3].indexOf(4).should.equal(-1); \n }); \n }); \n}); \n```\nBDDdescribeitdescribeitbeforeafterbeforeEachafterEach4describebeforeafterdescribebeforeEachafterEachdescribeit\n![](./images/test.png)\nmochaTDD\n```\nsuite('Array', function(){ \n setup(function(){ \n // ... \n }); \n suite('#indexOf()', function(){ \n test('should return -1 when not present', function(){ \n assert.equal(-1, [1,2,3].indexOf(4)); \n }); \n }); \n});\n```\nTDDsuitetestsuitetestsetupteardownBDDbeforeafter\n![](./images/test-1.png)\n\n\nmochamocha --reporters\ndotspecjsonhtml-covmocha -R <reporter>jsonhtml-cov\n\n\nNode\n- \n```\nit('fs.readFile should be ok', function (done) { \n fs.readFile('file_path', 'utf-8', function (err, data) { \n should.not.exist(err); \n done(); \n }); \n}); \n```\nit()titlefnfn.lengthdone()\n- \nmocha\n```\nit('async test', function (done) { \n // \n setTimeout(done, 10000); \n}); \n```\nmocha2000mocha -t <ms>itthis.timeout(ms)\n```\nit('should take less than 500ms', function (done) { \n this.timeout(500); \n setTimeout(done, 300); \n}); \n```\ndescribethis.timeout(ms)\n```\ndescribe('a suite of tests', function(){ \n this.timeout(500); \n it('should take less than 500ms', function (done) { \n setTimeout(done, 300); \n }); \n it('should take less than 500ms as well', function (done) { \n setTimeout(done, 200); \n }); \n}); \n```\n\n**\n\n\njscovernpm install jscover -g\n\njscover:\n- JavaJava\n- \nblanketJavaScript\n\nblanketjscoverblanketrequirerequire\n\njscover--require\nmocha --require blanket -R html-cov > coverage.html \n\nscriptsscriptspattern\n```\n\"scripts\": { \n \"blanket\": { \n \"pattern\": \"eventproxy/lib\" \n } \n}, \n```\nrequire\n\nblanket\n\n*mock*\nmock\n\nmockmuk\n```\nvar fs = require('fs'); \nvar muk = require('muk'); \nbefore(function () { \n muk(fs, 'readFileSync', function(path, encoding) { \n throw new Error(\"mock readFileSync error\"); \n }); \n}); \n// it(); \nafter(function () { \n muk.restore(); \n}); \n\nvar fs = require('fs'); \nvar muk = require('muk'); \nbeforeEach(function () { \n muk(fs, 'readFileSync', function(path, encoding) { \n throw new Error(\"mock readFileSync error\"); \n }); \n}); \n// it(); \n// it(); \nafterEach(function () { \n muk.restore(); \n}); \n```\nmuk.restore()\n\n\n```\nfs.readFile = function (filename, encoding, callback) { \n process.nextTick(function () { \n callback(new Error(\"mock readFile error\")); \n }); \n};\n```\n\n**\nexportsrewire\nrewirerequire\n```\nvar limit = function (num) { \n return num < 0 ? 0 : num; \n}; \n\nit('limit should return success', function () { \n var lib = rewire('../lib/index.js'); \n var litmit = lib.__get__('limit'); \n litmit(10).should.be.equal(10); \n}); \n```\nrewire__set__()__get__()eval()\n\n###### \n**\nNode*nixMakefile\n\n**\ntravis-ci\n\n###### \n\n\n**\n\n\nbenchmark\n```\nvar Benchmark = require('benchmark'); \nvar suite = new Benchmark.Suite(); \nvar arr = [0, 1, 2, 3, 5, 6]; \nsuite.add('nativeMap', function () { \n return arr.map(callback); \n}).add('customMap', function () { \n var ret = []; \n for (var i = 0; i < arr.length; i++) { \n ret.push(callback(arr[i])); \n } \n return ret; \n}).on('cycle', function (event) { \n console.log(String(event.target)); \n}).on('complete', function() { \n console.log('Fastest is ' + this.filter('fastest').pluck('name')); \n}).run(); \n```\n\n###### \n\n\nabsiegehttp_loadab\n```\n$ ab -c 10 -t 3 http://localhost:8001/ \nThis is ApacheBench, Version 2.3 <$Revision: 655654 $> \nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/ \nLicensed to The Apache Software Foundation, http://www.apache.org/ \nBenchmarking localhost (be patient) \nCompleted 5000 requests \nCompleted 10000 requests \nFinished 11573 requests \nServer Software: \nServer Hostname: localhost \nServer Port: 8001 \nDocument Path: / \nDocument Length: 10240 bytes \nConcurrency Level: 10 \nTime taken for tests: 3.000 seconds \nComplete requests: 11573 \nFailed requests: 0 \nWrite errors: 0 \nTotal transferred: 119375495 bytes \nHTML transferred: 118507520 bytes \nRequests per second: 3857.60 [#/sec] (mean) \nTime per request: 2.592 [ms] (mean) \nTime per request: 0.259 [ms] (mean, across all concurrent requests) \nTransfer rate: 38858.59 [Kbytes/sec] received \nConnection Times (ms) \n min mean[+/-sd] median max \nConnect: 0 0 0.3 0 31 \nProcessing: 1 2 1.9 2 35 \nWaiting: 0 2 1.9 2 35 \nTotal: 1 3 2.0 2 35 \nPercentage of the requests served within a certain time (ms) \n 50% 2\n 66% 3 \n 75% 3 \n 80% 3 \n 90% 3\n 95% 3 \n 98% 5 \n 99% 6 \n 100% 35 (longes % t request)\n```\n\n:\n- Document Path/\n- Document Length10KB\n- Concurrency Levelc1010\n- Time taken for testst\n- Complete requests\n- Failed requests\n- Write errors\n- Total transferred\n- HTML transferredHTTP\n- Requests per secondRPSQPS\n- Time per request\n- Transfer rate\n- Connection Times\n\n###### \nBDDBenchmark Driven Development:\n(1) \n(2) /\n(3) \n(4) \n(5)(2)\n![](./images/test-2.png)\n\n####   \n###### \n\n- \n  - WebCommonJS\n- \nNodemake*nixGruntGruntNodeNode\nMakefile\n  - Makefile*nixWindowsMakefileRubyRakefileGemfileMakefile\nGrunt\n  - MakefileantrakeNodeMakefileGrunt\n  - GruntNodeWindows*nix\n  - GruntNPMJavaMavenMakefile\n  - MakefileMakefilebashGrunt\n  - Gruntgrunt-contrib-NPMGrunt3gruntgrunt-initgrunt-cli-g\n\n- \n\n\n- \n\n\n###### \n**\nstagepre-releaseproduct\n\n**\nnohup&nohup node app.js &\n\n###### \nWeb\n- \n- \n- \n- \n\n**\nNodeNginxCDN\n![](./images/product.png)\n\n**\n\n\n**\n**\n\n###### \n**\nWebHTTP\nConnect\n```\nvar app = connect(); \n// \nconnect.logger.format('home', ':remote-addr :response-time - [:date] \":method :url \nHTTP/:http-version\" :status :res[content-length] \":referrer\" \":user-agent\" :res[content-length]'); \napp.use(connect.logger({ \n format: 'home', \n stream: fs.createWriteStream(__dirname + '/logs/access.log') \n}));\n```\n\n**\nbug\nNodeconsole:\n- console.log\n- console.info\n- console.warn\n- console.error\nconsoleloginfoprocess.stdoutwarnerrorprocess.stderrinfoerrorlogwarn\n\nconsoleConsoleconsole\n```\nvar info = fs.createWriteStream(logdir + '/info.log', {flags: 'a', mode: '0666'}); \nvar error = fs.createWriteStream(logdir + '/error.log', {flags: 'a', mode: '0666'}); \nvar logger = new console.Console(info, error); \nlogger.log('Hello world!'); \nlogger.error('segment fault');\n```\nNode\n\n###### \n\n\n\nConsole_stdout_stderr\n\n###### \n\n**\n\n- \n,QPSQPS\n- \n\n\n- \nWeb\n- \n\n\n- \n\n\n- CPU\nCPUCPUIOWait\nCPU70%35%70%\n- CPU load\nCPU loadCPUCPUCPU31515\n- I/O\nI/OI/ONodeI/OI/O\n- \n\n- \n\n- DNS\nDNSDNSDNSDNS\n\n**\n- IM\n- \n\n: Nodenodemailer\n```\nvar nodemailer = require(\"nodemailer\"); \n// SMTP\nvar smtpTransport = nodemailer.createTransport(\"SMTP\", { \n service: \"Gmail\", \n auth: { \n user: \"gmail.user@gmail.com\", \n pass: \"userpass\" \n } \n}); \n// \nvar mailOptions = { \n from: \"Fred Foo  <foo@bar.com>\", // \n to: \"bar@bar.com, baz@bar.com\", // \n subject: \"Hello \", // \n text: \"Hello world \", // \n html: \"<b>Hello world </b>\" // HTML\n} \n// \nsmtpTransport.sendMail(mailOptions, function (err, response) { \n if (err) { \n console.log(err); \n } else { \n console.log(\"Message sent: \" + response.message); \n } \n});\n```\n\n\n\n###### \n- \n![](./images/product-1.png)\n- \n- ","updated":"2023-01-04T08:09:32.366Z","path":"nodejs/nodejs-note-5.html","comments":1,"layout":"page","_id":"clchh4gwu000ucktt1ojz2lbi","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br></p>\n<ul>\n<li></li>\n<li></li>\n<li>MVC</li>\n</ul>\n<p><em></em><br>mockNode</p>\n<p><em></em><br>JavaScriptCommonJS<a href=\"http://wiki.commonjs.org/wiki/Unit_Testing/1.0%EF%BC%89%EF%BC%8CNode%E5%AE%9E%E7%8E%B0%E4%BA%86%E8%A7%84%E8%8C%83%E4%B8%AD%E7%9A%84%E6%96%AD%E8%A8%80%E9%83%A8%E5%88%86%E3%80%82\">http://wiki.commonjs.org/wiki/Unit_Testing/1.0Node</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var assert = require(&#x27;assert&#x27;); </span><br><span class=\"line\">assert.equal(Math.max(1, 100), 100); </span><br></pre></td></tr></table></figure>\n<p>:</p>\n<ul>\n<li>ok()</li>\n<li>equal()</li>\n<li>notEqual()</li>\n<li>deepEqual()</li>\n<li>notDeepEqual()</li>\n<li>strictEqual()===</li>\n<li>notStrictEqual()!==</li>\n<li>throws()<br>Nodeassert</li>\n<li>doesNotThrow()</li>\n<li>ifError()nullundefined0false</li>\n</ul>\n<p><em></em><br></p>\n<p><br>TDDBDD:</p>\n<ul>\n<li>TDDBDD</li>\n<li>TDDBDD</li>\n</ul>\n<p>mochaBDD</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">describe(&#x27;Array&#x27;, function()&#123; </span><br><span class=\"line\"> before(function()&#123; </span><br><span class=\"line\"> // ... </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> describe(&#x27;#indexOf()&#x27;, function()&#123; </span><br><span class=\"line\"> it(&#x27;should return -1 when not present&#x27;, function()&#123; </span><br><span class=\"line\"> [1,2,3].indexOf(4).should.equal(-1); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\n<p>BDDdescribeitdescribeitbeforeafterbeforeEachafterEach4describebeforeafterdescribebeforeEachafterEachdescribeit<br><img src=\"/nodejs/images/test.png\" alt=\"\"><br>mochaTDD</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">suite(&#x27;Array&#x27;, function()&#123; </span><br><span class=\"line\"> setup(function()&#123; </span><br><span class=\"line\"> // ... </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> suite(&#x27;#indexOf()&#x27;, function()&#123; </span><br><span class=\"line\"> test(&#x27;should return -1 when not present&#x27;, function()&#123; </span><br><span class=\"line\"> assert.equal(-1, [1,2,3].indexOf(4)); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>TDDsuitetestsuitetestsetupteardownBDDbeforeafter<br><img src=\"/nodejs/images/test-1.png\" alt=\"\"></p>\n<p><br>mochamocha reporters<br>dotspecjsonhtml-covmocha -R <reporter>jsonhtml-cov</reporter></p>\n<p><br>Node</p>\n<ul>\n<li><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">it(&#x27;fs.readFile should be ok&#x27;, function (done) &#123; </span><br><span class=\"line\"> fs.readFile(&#x27;file_path&#x27;, &#x27;utf-8&#x27;, function (err, data) &#123; </span><br><span class=\"line\"> should.not.exist(err); </span><br><span class=\"line\"> done(); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\nit()titlefnfn.lengthdone()</li>\n<li><br>mocha<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">it(&#x27;async test&#x27;, function (done) &#123; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> setTimeout(done, 10000); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\nmocha2000mocha -t <ms>itthis.timeout(ms)<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">it(&#x27;should take less than 500ms&#x27;, function (done) &#123; </span><br><span class=\"line\"> this.timeout(500); </span><br><span class=\"line\"> setTimeout(done, 300); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\ndescribethis.timeout(ms)<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">describe(&#x27;a suite of tests&#x27;, function()&#123; </span><br><span class=\"line\"> this.timeout(500); </span><br><span class=\"line\"> it(&#x27;should take less than 500ms&#x27;, function (done) &#123; </span><br><span class=\"line\"> setTimeout(done, 300); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> it(&#x27;should take less than 500ms as well&#x27;, function (done) &#123; </span><br><span class=\"line\"> setTimeout(done, 200); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure></ms></li>\n</ul>\n<p><em></em><br></p>\n<p>jscovernpm install jscover -g</p>\n<p>jscover:</p>\n<ul>\n<li>JavaJava</li>\n<li><br>blanketJavaScript</li>\n</ul>\n<p>blanketjscoverblanketrequirerequire</p>\n<p>jscoverrequire<br>mocha require blanket -R html-cov &gt; coverage.html </p>\n<p>scriptsscriptspattern</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;scripts&quot;: &#123; </span><br><span class=\"line\"> &quot;blanket&quot;: &#123; </span><br><span class=\"line\"> &quot;pattern&quot;: &quot;eventproxy/lib&quot; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;, </span><br></pre></td></tr></table></figure>\n<p>require</p>\n<p>blanket</p>\n<p><em>mock</em><br>mock</p>\n<p>mockmuk</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var muk = require(&#x27;muk&#x27;); </span><br><span class=\"line\">before(function () &#123; </span><br><span class=\"line\"> muk(fs, &#x27;readFileSync&#x27;, function(path, encoding) &#123; </span><br><span class=\"line\"> throw new Error(&quot;mock readFileSync error&quot;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">// it(); </span><br><span class=\"line\">after(function () &#123; </span><br><span class=\"line\"> muk.restore(); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var muk = require(&#x27;muk&#x27;); </span><br><span class=\"line\">beforeEach(function () &#123; </span><br><span class=\"line\"> muk(fs, &#x27;readFileSync&#x27;, function(path, encoding) &#123; </span><br><span class=\"line\"> throw new Error(&quot;mock readFileSync error&quot;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">// it(); </span><br><span class=\"line\">// it(); </span><br><span class=\"line\">afterEach(function () &#123; </span><br><span class=\"line\"> muk.restore(); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\n<p>muk.restore()</p>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fs.readFile = function (filename, encoding, callback) &#123; </span><br><span class=\"line\"> process.nextTick(function () &#123; </span><br><span class=\"line\"> callback(new Error(&quot;mock readFile error&quot;)); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><em></em><br>exportsrewire<br>rewirerequire</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var limit = function (num) &#123; </span><br><span class=\"line\"> return num &lt; 0 ? 0 : num; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"></span><br><span class=\"line\">it(&#x27;limit should return success&#x27;, function () &#123; </span><br><span class=\"line\"> var lib = rewire(&#x27;../lib/index.js&#x27;); </span><br><span class=\"line\"> var litmit = lib.__get__(&#x27;limit&#x27;); </span><br><span class=\"line\"> litmit(10).should.be.equal(10); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\n<p>rewire__set__()__get__()eval()</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br>Node*nixMakefile</p>\n<p><em></em><br>travis-ci</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p><em></em><br></p>\n<p>benchmark</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var Benchmark = require(&#x27;benchmark&#x27;); </span><br><span class=\"line\">var suite = new Benchmark.Suite(); </span><br><span class=\"line\">var arr = [0, 1, 2, 3, 5, 6]; </span><br><span class=\"line\">suite.add(&#x27;nativeMap&#x27;, function () &#123; </span><br><span class=\"line\"> return arr.map(callback); </span><br><span class=\"line\">&#125;).add(&#x27;customMap&#x27;, function () &#123; </span><br><span class=\"line\"> var ret = []; </span><br><span class=\"line\"> for (var i = 0; i &lt; arr.length; i++) &#123; </span><br><span class=\"line\"> ret.push(callback(arr[i])); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> return ret; </span><br><span class=\"line\">&#125;).on(&#x27;cycle&#x27;, function (event) &#123; </span><br><span class=\"line\"> console.log(String(event.target)); </span><br><span class=\"line\">&#125;).on(&#x27;complete&#x27;, function() &#123; </span><br><span class=\"line\"> console.log(&#x27;Fastest is &#x27; + this.filter(&#x27;fastest&#x27;).pluck(&#x27;name&#x27;)); </span><br><span class=\"line\">&#125;).run(); </span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p>absiegehttp_loadab</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ab -c 10 -t 3 http://localhost:8001/ </span><br><span class=\"line\">This is ApacheBench, Version 2.3 &lt;$Revision: 655654 $&gt; </span><br><span class=\"line\">Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/ </span><br><span class=\"line\">Licensed to The Apache Software Foundation, http://www.apache.org/ </span><br><span class=\"line\">Benchmarking localhost (be patient) </span><br><span class=\"line\">Completed 5000 requests </span><br><span class=\"line\">Completed 10000 requests </span><br><span class=\"line\">Finished 11573 requests </span><br><span class=\"line\">Server Software: </span><br><span class=\"line\">Server Hostname: localhost </span><br><span class=\"line\">Server Port: 8001 </span><br><span class=\"line\">Document Path: / </span><br><span class=\"line\">Document Length: 10240 bytes </span><br><span class=\"line\">Concurrency Level: 10 </span><br><span class=\"line\">Time taken for tests: 3.000 seconds </span><br><span class=\"line\">Complete requests: 11573 </span><br><span class=\"line\">Failed requests: 0 </span><br><span class=\"line\">Write errors: 0 </span><br><span class=\"line\">Total transferred: 119375495 bytes </span><br><span class=\"line\">HTML transferred: 118507520 bytes </span><br><span class=\"line\">Requests per second: 3857.60 [#/sec] (mean) </span><br><span class=\"line\">Time per request: 2.592 [ms] (mean) </span><br><span class=\"line\">Time per request: 0.259 [ms] (mean, across all concurrent requests) </span><br><span class=\"line\">Transfer rate: 38858.59 [Kbytes/sec] received </span><br><span class=\"line\">Connection Times (ms) </span><br><span class=\"line\"> min mean[+/-sd] median max </span><br><span class=\"line\">Connect: 0 0 0.3 0 31 </span><br><span class=\"line\">Processing: 1 2 1.9 2 35 </span><br><span class=\"line\">Waiting: 0 2 1.9 2 35 </span><br><span class=\"line\">Total: 1 3 2.0 2 35 </span><br><span class=\"line\">Percentage of the requests served within a certain time (ms) </span><br><span class=\"line\"> 50% 2</span><br><span class=\"line\"> 66% 3 </span><br><span class=\"line\"> 75% 3 </span><br><span class=\"line\"> 80% 3 </span><br><span class=\"line\"> 90% 3</span><br><span class=\"line\"> 95% 3 </span><br><span class=\"line\"> 98% 5 </span><br><span class=\"line\"> 99% 6 </span><br><span class=\"line\"> 100% 35 (longes % t request)</span><br></pre></td></tr></table></figure>\n\n<p>:</p>\n<ul>\n<li>Document Path/</li>\n<li>Document Length10KB</li>\n<li>Concurrency Levelc1010</li>\n<li>Time taken for testst</li>\n<li>Complete requests</li>\n<li>Failed requests</li>\n<li>Write errors</li>\n<li>Total transferred</li>\n<li>HTML transferredHTTP</li>\n<li>Requests per secondRPSQPS</li>\n<li>Time per request</li>\n<li>Transfer rate</li>\n<li>Connection Times</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>BDDBenchmark Driven Development:<br>(1) <br>(2) /<br>(3) <br>(4) <br>(5)(2)<br><img src=\"/nodejs/images/test-2.png\" alt=\"\"></p>\n<h4 id=\"--\"><a href=\"#--\" class=\"headerlink\" title=\"  \"></a>  </h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<ul>\n<li><p></p>\n<ul>\n<li>WebCommonJS</li>\n</ul>\n</li>\n<li><p><br>Nodemake*nixGruntGruntNodeNode<br>Makefile</p>\n<ul>\n<li>Makefile*nixWindowsMakefileRubyRakefileGemfileMakefile<br>Grunt</li>\n<li>MakefileantrakeNodeMakefileGrunt</li>\n<li>GruntNodeWindows*nix</li>\n<li>GruntNPMJavaMavenMakefile</li>\n<li>MakefileMakefilebashGrunt</li>\n<li>Gruntgrunt-contrib-NPMGrunt3gruntgrunt-initgrunt-cli-g</li>\n</ul>\n</li>\n<li><p><br></p>\n</li>\n<li><p><br></p>\n</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br>stagepre-releaseproduct</p>\n<p><em></em><br>nohup&amp;nohup node app.js &amp;</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>Web</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p><em></em><br>NodeNginxCDN<br><img src=\"/nodejs/images/product.png\" alt=\"\"></p>\n<p><em></em><br></p>\n<p><em></em><br><em></em></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br>WebHTTP<br>Connect</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var app = connect(); </span><br><span class=\"line\">// </span><br><span class=\"line\">connect.logger.format(&#x27;home&#x27;, &#x27;:remote-addr :response-time - [:date] &quot;:method :url </span><br><span class=\"line\">HTTP/:http-version&quot; :status :res[content-length] &quot;:referrer&quot; &quot;:user-agent&quot; :res[content-length]&#x27;); </span><br><span class=\"line\">app.use(connect.logger(&#123; </span><br><span class=\"line\"> format: &#x27;home&#x27;, </span><br><span class=\"line\"> stream: fs.createWriteStream(__dirname + &#x27;/logs/access.log&#x27;) </span><br><span class=\"line\">&#125;));</span><br></pre></td></tr></table></figure>\n\n<p><em></em><br>bug<br>Nodeconsole:</p>\n<ul>\n<li>console.log</li>\n<li>console.info</li>\n<li>console.warn</li>\n<li>console.error<br>consoleloginfoprocess.stdoutwarnerrorprocess.stderrinfoerrorlogwarn</li>\n</ul>\n<p>consoleConsoleconsole</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var info = fs.createWriteStream(logdir + &#x27;/info.log&#x27;, &#123;flags: &#x27;a&#x27;, mode: &#x27;0666&#x27;&#125;); </span><br><span class=\"line\">var error = fs.createWriteStream(logdir + &#x27;/error.log&#x27;, &#123;flags: &#x27;a&#x27;, mode: &#x27;0666&#x27;&#125;); </span><br><span class=\"line\">var logger = new console.Console(info, error); </span><br><span class=\"line\">logger.log(&#x27;Hello world!&#x27;); </span><br><span class=\"line\">logger.error(&#x27;segment fault&#x27;);</span><br></pre></td></tr></table></figure>\n<p>Node</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p><br>Console_stdout_stderr</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br></p>\n<ul>\n<li><br>,QPSQPS</li>\n<li><br><br></li>\n<li><br>Web</li>\n<li><br><br></li>\n<li><br><br></li>\n<li>CPU<br>CPUCPUIOWait<br>CPU70%35%70%</li>\n<li>CPU load<br>CPU loadCPUCPUCPU31515</li>\n<li>I/O<br>I/OI/ONodeI/OI/O</li>\n<li><br></li>\n<li><br></li>\n<li>DNS<br>DNSDNSDNSDNS</li>\n</ul>\n<p><em></em><br>- IM</p>\n<ul>\n<li></li>\n</ul>\n<p>: Nodenodemailer</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var nodemailer = require(&quot;nodemailer&quot;); </span><br><span class=\"line\">// SMTP</span><br><span class=\"line\">var smtpTransport = nodemailer.createTransport(&quot;SMTP&quot;, &#123; </span><br><span class=\"line\"> service: &quot;Gmail&quot;, </span><br><span class=\"line\"> auth: &#123; </span><br><span class=\"line\"> user: &quot;gmail.user@gmail.com&quot;, </span><br><span class=\"line\"> pass: &quot;userpass&quot; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">// </span><br><span class=\"line\">var mailOptions = &#123; </span><br><span class=\"line\"> from: &quot;Fred Foo  &lt;foo@bar.com&gt;&quot;, // </span><br><span class=\"line\"> to: &quot;bar@bar.com, baz@bar.com&quot;, // </span><br><span class=\"line\"> subject: &quot;Hello &quot;, // </span><br><span class=\"line\"> text: &quot;Hello world &quot;, // </span><br><span class=\"line\"> html: &quot;&lt;b&gt;Hello world &lt;/b&gt;&quot; // HTML</span><br><span class=\"line\">&#125; </span><br><span class=\"line\">// </span><br><span class=\"line\">smtpTransport.sendMail(mailOptions, function (err, response) &#123; </span><br><span class=\"line\"> if (err) &#123; </span><br><span class=\"line\"> console.log(err); </span><br><span class=\"line\"> &#125; else &#123; </span><br><span class=\"line\"> console.log(&quot;Message sent: &quot; + response.message); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><br><img src=\"/nodejs/images/product-1.png\" alt=\"\"></li>\n<li></li>\n<li></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br></p>\n<ul>\n<li></li>\n<li></li>\n<li>MVC</li>\n</ul>\n<p><em></em><br>mockNode</p>\n<p><em></em><br>JavaScriptCommonJS<a href=\"http://wiki.commonjs.org/wiki/Unit_Testing/1.0%EF%BC%89%EF%BC%8CNode%E5%AE%9E%E7%8E%B0%E4%BA%86%E8%A7%84%E8%8C%83%E4%B8%AD%E7%9A%84%E6%96%AD%E8%A8%80%E9%83%A8%E5%88%86%E3%80%82\">http://wiki.commonjs.org/wiki/Unit_Testing/1.0Node</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var assert = require(&#x27;assert&#x27;); </span><br><span class=\"line\">assert.equal(Math.max(1, 100), 100); </span><br></pre></td></tr></table></figure>\n<p>:</p>\n<ul>\n<li>ok()</li>\n<li>equal()</li>\n<li>notEqual()</li>\n<li>deepEqual()</li>\n<li>notDeepEqual()</li>\n<li>strictEqual()===</li>\n<li>notStrictEqual()!==</li>\n<li>throws()<br>Nodeassert</li>\n<li>doesNotThrow()</li>\n<li>ifError()nullundefined0false</li>\n</ul>\n<p><em></em><br></p>\n<p><br>TDDBDD:</p>\n<ul>\n<li>TDDBDD</li>\n<li>TDDBDD</li>\n</ul>\n<p>mochaBDD</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">describe(&#x27;Array&#x27;, function()&#123; </span><br><span class=\"line\"> before(function()&#123; </span><br><span class=\"line\"> // ... </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> describe(&#x27;#indexOf()&#x27;, function()&#123; </span><br><span class=\"line\"> it(&#x27;should return -1 when not present&#x27;, function()&#123; </span><br><span class=\"line\"> [1,2,3].indexOf(4).should.equal(-1); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\n<p>BDDdescribeitdescribeitbeforeafterbeforeEachafterEach4describebeforeafterdescribebeforeEachafterEachdescribeit<br><img src=\"/nodejs/images/test.png\" alt=\"\"><br>mochaTDD</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">suite(&#x27;Array&#x27;, function()&#123; </span><br><span class=\"line\"> setup(function()&#123; </span><br><span class=\"line\"> // ... </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> suite(&#x27;#indexOf()&#x27;, function()&#123; </span><br><span class=\"line\"> test(&#x27;should return -1 when not present&#x27;, function()&#123; </span><br><span class=\"line\"> assert.equal(-1, [1,2,3].indexOf(4)); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>TDDsuitetestsuitetestsetupteardownBDDbeforeafter<br><img src=\"/nodejs/images/test-1.png\" alt=\"\"></p>\n<p><br>mochamocha reporters<br>dotspecjsonhtml-covmocha -R <reporter>jsonhtml-cov</reporter></p>\n<p><br>Node</p>\n<ul>\n<li><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">it(&#x27;fs.readFile should be ok&#x27;, function (done) &#123; </span><br><span class=\"line\"> fs.readFile(&#x27;file_path&#x27;, &#x27;utf-8&#x27;, function (err, data) &#123; </span><br><span class=\"line\"> should.not.exist(err); </span><br><span class=\"line\"> done(); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\nit()titlefnfn.lengthdone()</li>\n<li><br>mocha<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">it(&#x27;async test&#x27;, function (done) &#123; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> setTimeout(done, 10000); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\nmocha2000mocha -t <ms>itthis.timeout(ms)<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">it(&#x27;should take less than 500ms&#x27;, function (done) &#123; </span><br><span class=\"line\"> this.timeout(500); </span><br><span class=\"line\"> setTimeout(done, 300); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\ndescribethis.timeout(ms)<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">describe(&#x27;a suite of tests&#x27;, function()&#123; </span><br><span class=\"line\"> this.timeout(500); </span><br><span class=\"line\"> it(&#x27;should take less than 500ms&#x27;, function (done) &#123; </span><br><span class=\"line\"> setTimeout(done, 300); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> it(&#x27;should take less than 500ms as well&#x27;, function (done) &#123; </span><br><span class=\"line\"> setTimeout(done, 200); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure></ms></li>\n</ul>\n<p><em></em><br></p>\n<p>jscovernpm install jscover -g</p>\n<p>jscover:</p>\n<ul>\n<li>JavaJava</li>\n<li><br>blanketJavaScript</li>\n</ul>\n<p>blanketjscoverblanketrequirerequire</p>\n<p>jscoverrequire<br>mocha require blanket -R html-cov &gt; coverage.html </p>\n<p>scriptsscriptspattern</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;scripts&quot;: &#123; </span><br><span class=\"line\"> &quot;blanket&quot;: &#123; </span><br><span class=\"line\"> &quot;pattern&quot;: &quot;eventproxy/lib&quot; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;, </span><br></pre></td></tr></table></figure>\n<p>require</p>\n<p>blanket</p>\n<p><em>mock</em><br>mock</p>\n<p>mockmuk</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var muk = require(&#x27;muk&#x27;); </span><br><span class=\"line\">before(function () &#123; </span><br><span class=\"line\"> muk(fs, &#x27;readFileSync&#x27;, function(path, encoding) &#123; </span><br><span class=\"line\"> throw new Error(&quot;mock readFileSync error&quot;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">// it(); </span><br><span class=\"line\">after(function () &#123; </span><br><span class=\"line\"> muk.restore(); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var muk = require(&#x27;muk&#x27;); </span><br><span class=\"line\">beforeEach(function () &#123; </span><br><span class=\"line\"> muk(fs, &#x27;readFileSync&#x27;, function(path, encoding) &#123; </span><br><span class=\"line\"> throw new Error(&quot;mock readFileSync error&quot;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">// it(); </span><br><span class=\"line\">// it(); </span><br><span class=\"line\">afterEach(function () &#123; </span><br><span class=\"line\"> muk.restore(); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\n<p>muk.restore()</p>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fs.readFile = function (filename, encoding, callback) &#123; </span><br><span class=\"line\"> process.nextTick(function () &#123; </span><br><span class=\"line\"> callback(new Error(&quot;mock readFile error&quot;)); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><em></em><br>exportsrewire<br>rewirerequire</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var limit = function (num) &#123; </span><br><span class=\"line\"> return num &lt; 0 ? 0 : num; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"></span><br><span class=\"line\">it(&#x27;limit should return success&#x27;, function () &#123; </span><br><span class=\"line\"> var lib = rewire(&#x27;../lib/index.js&#x27;); </span><br><span class=\"line\"> var litmit = lib.__get__(&#x27;limit&#x27;); </span><br><span class=\"line\"> litmit(10).should.be.equal(10); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\n<p>rewire__set__()__get__()eval()</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br>Node*nixMakefile</p>\n<p><em></em><br>travis-ci</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p><em></em><br></p>\n<p>benchmark</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var Benchmark = require(&#x27;benchmark&#x27;); </span><br><span class=\"line\">var suite = new Benchmark.Suite(); </span><br><span class=\"line\">var arr = [0, 1, 2, 3, 5, 6]; </span><br><span class=\"line\">suite.add(&#x27;nativeMap&#x27;, function () &#123; </span><br><span class=\"line\"> return arr.map(callback); </span><br><span class=\"line\">&#125;).add(&#x27;customMap&#x27;, function () &#123; </span><br><span class=\"line\"> var ret = []; </span><br><span class=\"line\"> for (var i = 0; i &lt; arr.length; i++) &#123; </span><br><span class=\"line\"> ret.push(callback(arr[i])); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> return ret; </span><br><span class=\"line\">&#125;).on(&#x27;cycle&#x27;, function (event) &#123; </span><br><span class=\"line\"> console.log(String(event.target)); </span><br><span class=\"line\">&#125;).on(&#x27;complete&#x27;, function() &#123; </span><br><span class=\"line\"> console.log(&#x27;Fastest is &#x27; + this.filter(&#x27;fastest&#x27;).pluck(&#x27;name&#x27;)); </span><br><span class=\"line\">&#125;).run(); </span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p>absiegehttp_loadab</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ab -c 10 -t 3 http://localhost:8001/ </span><br><span class=\"line\">This is ApacheBench, Version 2.3 &lt;$Revision: 655654 $&gt; </span><br><span class=\"line\">Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/ </span><br><span class=\"line\">Licensed to The Apache Software Foundation, http://www.apache.org/ </span><br><span class=\"line\">Benchmarking localhost (be patient) </span><br><span class=\"line\">Completed 5000 requests </span><br><span class=\"line\">Completed 10000 requests </span><br><span class=\"line\">Finished 11573 requests </span><br><span class=\"line\">Server Software: </span><br><span class=\"line\">Server Hostname: localhost </span><br><span class=\"line\">Server Port: 8001 </span><br><span class=\"line\">Document Path: / </span><br><span class=\"line\">Document Length: 10240 bytes </span><br><span class=\"line\">Concurrency Level: 10 </span><br><span class=\"line\">Time taken for tests: 3.000 seconds </span><br><span class=\"line\">Complete requests: 11573 </span><br><span class=\"line\">Failed requests: 0 </span><br><span class=\"line\">Write errors: 0 </span><br><span class=\"line\">Total transferred: 119375495 bytes </span><br><span class=\"line\">HTML transferred: 118507520 bytes </span><br><span class=\"line\">Requests per second: 3857.60 [#/sec] (mean) </span><br><span class=\"line\">Time per request: 2.592 [ms] (mean) </span><br><span class=\"line\">Time per request: 0.259 [ms] (mean, across all concurrent requests) </span><br><span class=\"line\">Transfer rate: 38858.59 [Kbytes/sec] received </span><br><span class=\"line\">Connection Times (ms) </span><br><span class=\"line\"> min mean[+/-sd] median max </span><br><span class=\"line\">Connect: 0 0 0.3 0 31 </span><br><span class=\"line\">Processing: 1 2 1.9 2 35 </span><br><span class=\"line\">Waiting: 0 2 1.9 2 35 </span><br><span class=\"line\">Total: 1 3 2.0 2 35 </span><br><span class=\"line\">Percentage of the requests served within a certain time (ms) </span><br><span class=\"line\"> 50% 2</span><br><span class=\"line\"> 66% 3 </span><br><span class=\"line\"> 75% 3 </span><br><span class=\"line\"> 80% 3 </span><br><span class=\"line\"> 90% 3</span><br><span class=\"line\"> 95% 3 </span><br><span class=\"line\"> 98% 5 </span><br><span class=\"line\"> 99% 6 </span><br><span class=\"line\"> 100% 35 (longes % t request)</span><br></pre></td></tr></table></figure>\n\n<p>:</p>\n<ul>\n<li>Document Path/</li>\n<li>Document Length10KB</li>\n<li>Concurrency Levelc1010</li>\n<li>Time taken for testst</li>\n<li>Complete requests</li>\n<li>Failed requests</li>\n<li>Write errors</li>\n<li>Total transferred</li>\n<li>HTML transferredHTTP</li>\n<li>Requests per secondRPSQPS</li>\n<li>Time per request</li>\n<li>Transfer rate</li>\n<li>Connection Times</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>BDDBenchmark Driven Development:<br>(1) <br>(2) /<br>(3) <br>(4) <br>(5)(2)<br><img src=\"/nodejs/images/test-2.png\" alt=\"\"></p>\n<h4 id=\"--\"><a href=\"#--\" class=\"headerlink\" title=\"  \"></a>  </h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<ul>\n<li><p></p>\n<ul>\n<li>WebCommonJS</li>\n</ul>\n</li>\n<li><p><br>Nodemake*nixGruntGruntNodeNode<br>Makefile</p>\n<ul>\n<li>Makefile*nixWindowsMakefileRubyRakefileGemfileMakefile<br>Grunt</li>\n<li>MakefileantrakeNodeMakefileGrunt</li>\n<li>GruntNodeWindows*nix</li>\n<li>GruntNPMJavaMavenMakefile</li>\n<li>MakefileMakefilebashGrunt</li>\n<li>Gruntgrunt-contrib-NPMGrunt3gruntgrunt-initgrunt-cli-g</li>\n</ul>\n</li>\n<li><p><br></p>\n</li>\n<li><p><br></p>\n</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br>stagepre-releaseproduct</p>\n<p><em></em><br>nohup&amp;nohup node app.js &amp;</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>Web</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p><em></em><br>NodeNginxCDN<br><img src=\"/nodejs/images/product.png\" alt=\"\"></p>\n<p><em></em><br></p>\n<p><em></em><br><em></em></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br>WebHTTP<br>Connect</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var app = connect(); </span><br><span class=\"line\">// </span><br><span class=\"line\">connect.logger.format(&#x27;home&#x27;, &#x27;:remote-addr :response-time - [:date] &quot;:method :url </span><br><span class=\"line\">HTTP/:http-version&quot; :status :res[content-length] &quot;:referrer&quot; &quot;:user-agent&quot; :res[content-length]&#x27;); </span><br><span class=\"line\">app.use(connect.logger(&#123; </span><br><span class=\"line\"> format: &#x27;home&#x27;, </span><br><span class=\"line\"> stream: fs.createWriteStream(__dirname + &#x27;/logs/access.log&#x27;) </span><br><span class=\"line\">&#125;));</span><br></pre></td></tr></table></figure>\n\n<p><em></em><br>bug<br>Nodeconsole:</p>\n<ul>\n<li>console.log</li>\n<li>console.info</li>\n<li>console.warn</li>\n<li>console.error<br>consoleloginfoprocess.stdoutwarnerrorprocess.stderrinfoerrorlogwarn</li>\n</ul>\n<p>consoleConsoleconsole</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var info = fs.createWriteStream(logdir + &#x27;/info.log&#x27;, &#123;flags: &#x27;a&#x27;, mode: &#x27;0666&#x27;&#125;); </span><br><span class=\"line\">var error = fs.createWriteStream(logdir + &#x27;/error.log&#x27;, &#123;flags: &#x27;a&#x27;, mode: &#x27;0666&#x27;&#125;); </span><br><span class=\"line\">var logger = new console.Console(info, error); </span><br><span class=\"line\">logger.log(&#x27;Hello world!&#x27;); </span><br><span class=\"line\">logger.error(&#x27;segment fault&#x27;);</span><br></pre></td></tr></table></figure>\n<p>Node</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p><br>Console_stdout_stderr</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br></p>\n<ul>\n<li><br>,QPSQPS</li>\n<li><br><br></li>\n<li><br>Web</li>\n<li><br><br></li>\n<li><br><br></li>\n<li>CPU<br>CPUCPUIOWait<br>CPU70%35%70%</li>\n<li>CPU load<br>CPU loadCPUCPUCPU31515</li>\n<li>I/O<br>I/OI/ONodeI/OI/O</li>\n<li><br></li>\n<li><br></li>\n<li>DNS<br>DNSDNSDNSDNS</li>\n</ul>\n<p><em></em><br>- IM</p>\n<ul>\n<li></li>\n</ul>\n<p>: Nodenodemailer</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var nodemailer = require(&quot;nodemailer&quot;); </span><br><span class=\"line\">// SMTP</span><br><span class=\"line\">var smtpTransport = nodemailer.createTransport(&quot;SMTP&quot;, &#123; </span><br><span class=\"line\"> service: &quot;Gmail&quot;, </span><br><span class=\"line\"> auth: &#123; </span><br><span class=\"line\"> user: &quot;gmail.user@gmail.com&quot;, </span><br><span class=\"line\"> pass: &quot;userpass&quot; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">// </span><br><span class=\"line\">var mailOptions = &#123; </span><br><span class=\"line\"> from: &quot;Fred Foo  &lt;foo@bar.com&gt;&quot;, // </span><br><span class=\"line\"> to: &quot;bar@bar.com, baz@bar.com&quot;, // </span><br><span class=\"line\"> subject: &quot;Hello &quot;, // </span><br><span class=\"line\"> text: &quot;Hello world &quot;, // </span><br><span class=\"line\"> html: &quot;&lt;b&gt;Hello world &lt;/b&gt;&quot; // HTML</span><br><span class=\"line\">&#125; </span><br><span class=\"line\">// </span><br><span class=\"line\">smtpTransport.sendMail(mailOptions, function (err, response) &#123; </span><br><span class=\"line\"> if (err) &#123; </span><br><span class=\"line\"> console.log(err); </span><br><span class=\"line\"> &#125; else &#123; </span><br><span class=\"line\"> console.log(&quot;Message sent: &quot; + response.message); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><br><img src=\"/nodejs/images/product-1.png\" alt=\"\"></li>\n<li></li>\n<li></li>\n</ul>\n"},{"title":"nodejs(4)","date":"2022-12-25T11:56:24.000Z","tags":["node","docs"],"_content":"\n#### Web\n\n###### cookie\nCookieSet-Cookie\nSet-Cookie: name=value; Path=/; Expires=Sun, 23-Apr-23 09:01:35 GMT; Domain=.domain.com; \nname=valueCookie:\n- pathCookieCookie\n- ExpiresMax-AgeCookieCookieCookieExpiresUTCCookieMax-AgeCookieMax-AgeCookie\n- HttpOnlydocument.cookieCookieHttpOnlydocument.cookieHTTPCookie\n- SecureSecuretrueHTTPHTTPSCookieHTTPSHTTP\n\nYSlow:\n- Cookie\n- \n- DNS\n\n###### Session\nSession\n\n:\n- Cookie\nSessionSessionConnectconnect_uidTomcatjsessionidCookie\n```\nvar sessions = {}; \nvar key = 'session_id'; \nvar EXPIRES = 20 * 60 * 1000; \nvar generate = function () { \n var session = {}; \n session.id = (new Date()).getTime() + Math.random(); \n session.cookie = { \n expire: (new Date()).getTime() + EXPIRES \n }; \n sessions[session.id] = session; \n return session; \n}; \n```\n- \n\n:\n- Node\n- \n- Node\n\n###### \n\n- Expires Cache-Control \n-  ETags\n- Ajax \n\n![](./images/cache.png)\n\n:\n- \n- \n\nETagEntity Tag\nETagIf-None-Match/ETag\n```\nvar handle = function (req, res) { \n fs.readFile(filename, function(err, file) { \n var hash = getHash(file); \n var noneMatch = req.headers['if-none-match']; \n if (hash === noneMatch) { \n res.writeHead(304, \"Not Modified\"); \n res.end(); \n } else { \n res.setHeader(\"ETag\", hash); \n res.writeHead(200, \"Ok\"); \n res.end(file); \n } \n }); \n}; \n```\n\nHTTP1.0Expires:\n```\nvar handle = function (req, res) { \n fs.readFile(filename, function(err, file) { \n var expires = new Date(); \n expires.setTime(expires.getTime() + 10 * 365 * 24 * 60 * 60 * 1000); \n res.setHeader(\"Expires\", expires.toUTCString()); \n res.writeHead(200, \"Ok\"); \n res.end(file); \n }); \n}; \n```\nExpiresGMT\n\nExpiresCache-Control\n```\nvar handle = function (req, res) { \n fs.readFile(filename, function(err, file) { \n res.setHeader(\"Cache-Control\", \"max-age=\" + 10 * 365 * 24 * 60 * 60 * 1000); \n res.writeHead(200, \"Ok\"); \n res.end(file); \n }); \n};\n```\nCache-ControlCache-Controlpublicprivateno-cacheno-store\n\nHTTP1.0max-ageExpiresCache-Controlmax-ageExpires\n\n:\n- Webhttp://url.com/?v=20130501\n- hashhttp://url.com/?hash=afadfadwe\n\n###### Basic\nHTTPSBasic\n\n###### \nPOST\nTransfer-EncodingContent-Length\n```\nvar hasBody = function(req) { \n return 'transfer-encoding' in req.headers || 'content-length' in req.headers; \n}; \n```\nHTTP_Parserdata\n```\nfunction (req, res) { \n if (hasBody(req)) { \n var buffers = []; \n req.on('data', function (chunk) { \n buffers.push(chunk); \n }); \n req.on('end', function () { \n req.rawBody = Buffer.concat(buffers).toString(); \n handle(req, res); \n }); \n } else { \n handle(req, res); \n } \n} \n```\nBufferBufferreq.rawBody\n\n\n```\nvar handle = function (req, res) { \n if (req.headers['content-type'] === 'application/x-www-form-urlencoded') { \n req.body = querystring.parse(req.rawBody); \n } \n todo(req, res); \n}; \n\n\nvar mime = function (req) { \n var str = req.headers['content-type'] || ''; \n return str.split(';')[0]; \n};\n\nvar handle = function (req, res) { \n if (mime(req) === 'application/json') { \n try { \n req.body = JSON.parse(req.rawBody); \n } catch (e) { \n // Bad request \n res.writeHead(400); \n res.end('Invalid JSON'); \n return; \n } \n } \n todo(req, res); \n}; \n```\n\nXMLXMLJSONxml2js\n```\nvar xml2js = require('xml2js'); \nvar handle = function (req, res) { \n if (mime(req) === 'application/xml') { \n xml2js.parseString(req.rawBody, function (err, xml) { \n if (err) { \n // Bad request \n res.writeHead(400); \n res.end('Invalid XML'); \n return; \n } \n req.body = xml; \n todo(req, res); \n }); \n } \n};\n```\n\n**\n\n```\nfunction (req, res) { \n if (hasBody(req)) { \n var done = function () { \n handle(req, res); \n }; \n if (mime(req) === 'application/json') { \n parseJSON(req, done); \n } else if (mime(req) === 'application/xml') { \n parseXML(req, done); \n } else if (mime(req) === 'multipart/form-data') { \n parseMultipart(req, done); \n } \n } else { \n handle(req, res); \n } \n} \n```\n\nformidable\n```\nvar formidable = require('formidable'); \nfunction (req, res) { \n if (hasBody(req)) { \n if (mime(req) === 'multipart/form-data') { \n var form = new formidable.IncomingForm(); \n form.parse(req, function(err, fields, files) { \n req.body = fields; \n req.files = files; \n handle(req, res); \n }); \n } \n } else { \n handle(req, res); \n } \n} \n```\n\n###### \n\n\n- 400\n- Node\n\n```\nvar bytes = 1024; \nfunction (req, res) { \n var received = 0, \n var len = req.headers['content-length'] ? parseInt(req.headers['content-length'], 10) : null; \n // \n if (len && len > bytes) { \n res.writeHead(413); \n res.end(); \n return; \n }\n  // limit \n req.on('data', function (chunk) { \n received += chunk.length; \n if (received > bytes) { \n // end() \n req.destroy(); \n } \n }); \n handle(req, res); \n}; \n```\n\nCSRF \nCSRFCross-Site Request Forgery\n\nCSRF\n```\nvar generateRandom = function(len) { \n return crypto.randomBytes(Math.ceil(len * 3 / 4)) \n .toString('base64') \n .slice(0, len); \n};\n```\n\n###### \n\n- \n- \n\nMVC\nMVC\n- Controller\n- Model\n- View\n\n![MVC](./images/mvc.png)\n\n- URL\n- \n- \n\nURL\n\n\nURL\n\nURL\n- \n- \n\nPHPMVCCodeIgniterNodeURL\n\n*RESTful*\nRESTRepresentational State TransferRESTRESTfulURL\n\nRESTfulMVCMVCRESTfulHTTPURL\n\n###### \n![](./images/middle.png)\n\n**\n```\nvar handle = function (req, res, stack) { \n var next = function (err) { \n if (err) { \n return handle500(err, req, res, stack); \n } \n // stack\n var middleware = stack.shift(); \n if (middleware) { \n // next()\n try { \n middleware(req, res, next); \n } catch (ex) { \n next(err); \n } \n } \n }; \n // \n next(); \n}; \n```\n\n**\n\n- jsperf.com\n- \n- HTTPGET\n\n\n\n###### \n**\n- MIME: Content-TypeMIME\nMIMEMultipurpose Internet Mail ExtensionsMIMEJSONapplication/jsonXMLapplication/xmlPDFapplication/pdf\nMIMEmime\n```\nvar mime = require('mime'); \nmime.lookup('/path/to/file.txt'); // => 'text/plain' \nmime.lookup('file.txt'); // => 'text/plain' \nmime.lookup('.TXT'); // => 'text/plain' \nmime.lookup('htm'); // => 'text/html' \n```\nMIMEContent-Type\nContent-Type: text/javascript; charset=utf-8 \n- \nContent-DispositioninlineattachmentContent-Disposition\n- JSON\n- \n\n**\n\n```\nvar cache = {}; \nvar VIEW_FOLDER = '/path/to/wwwroot/views'; \nres.render = function (viewname, data) { \n if (!cache[viewname]) { \n var text; \n try { \n text = fs.readFileSync(path.join(VIEW_FOLDER, viewname), 'utf8'); \n } catch (e) { \n  res.writeHead(500, {'Content-Type': 'text/html'}); \n res.end(''); \n return; \n } \n cache[viewname] = complie(text); \n } \n var complied = cache[viewname]; \n res.writeHead(200, {'Content-Type': 'text/html'}); \n var html = complied(data); \n res.end(html); \n};\n```\n\n**Bigpipe**\nBigpipepagelet\n\nBigpipe\n- \n- \n- \n![bigpipe](./images/bigpipe.png)\n```\nvar cache = {}; \nvar layout = 'layout.html'; \napp.get('/profile', function (req, res) { \n if (!cache[layout]) { \n cache[layout] = fs.readFileSync(path.join(VIEW_FOLDER, layout), 'utf8'); \n } \n res.writeHead(200, {'Content-Type': 'text/html'}); \n res.write(render(complie(cache[layout]))); \n // TODO \n}); \n\n\napp.get('/profile', function (req, res) { \n if (!cache[layout]) { \n cache[layout] = fs.readFileSync(path.join(VIEW_FOLDER, layout), 'utf8'); \n } \n res.writeHead(200, {'Content-Type': 'text/html'}); \n res.write(render(complie(cache[layout]))); \n ep.all('users', 'articles', function () { \n res.end(); \n }); \n ep.fail(function (err) { \n res.end(); \n }); \n db.getData('sql1', function (err, data) { \n data = err ? {} : data; \n res.write('<script>bigpipe.set(\"articles\", ' + JSON.stringify(data) + ');</script>'; \n }); \n db.getData('sql2', function (err, data) { \n data = err ? {} : data; \n res.write('<script>bigpipe.set(\"copyright\", ' + JSON.stringify(data) + ');</script>'; \n }); \n});\n\n\nvar Bigpipe = function () { \n this.callbacks = {}; \n}; \nBigpipe.prototype.ready = function (key, callback) { \n if (!this.callbacks[key]) { \n this.callbacks[key] = []; \n } \n this.callbacks[key].push(callback); \n}; \nBigpipe.prototype.set = function (key, data) { \n var callbacks = this.callbacks[key] || []; \n for (var i = 0; i < callbacks.length; i++) { \n callbacks[i].call(this, data); \n } \n};\n```\nBigpipe\n\n#### \n\n###### \n**\n\nNQPS1/N\n\n**\n100100\nprefork\nMQPSM/N\n\n**\nCPUCPUCPU\n1/LQPSM * L/N\n\n**\nCPU\n\n###### \nCPUCPUNodechild_processchild_process.fork()\n```\n// worker.js\nvar http = require('http'); \nhttp.createServer(function (req, res) { \n res.writeHead(200, {'Content-Type': 'text/plain'}); \n res.end('Hello World\\n'); \n}).listen(Math.round((1 + Math.random()) * 1000), '127.0.0.1'); \n\nvar fork = require('child_process').fork; \nvar cpus = require('os').cpus(); \nfor (var i = 0; i < cpus.length; i++) { \n fork('./worker.js'); \n} \n```\n![](./images/master-slave.png)\nMaster-Worker\n\n*fork()V83010 MBNodefork()CPUfork()*\n\n**\nchild_processNodechild_process4\n- spawn()\n- exec()spawn()\n\n- execFile()\n- fork()spawn()NodeJavaScript\n\nspawn()exec()execFile()timeout\nexec()execFile()exec()execFile()\n\n```\nvar cp = require('child_process'); \ncp.spawn('node', ['worker.js']); \ncp.exec('node worker.js', function (err, stdout, stderr) { \n // some code \n}); \ncp.execFile('worker.js', function (err, stdout, stderr) { \n // some code \n}); \ncp.fork('./worker.js');\n```\n![fork](./images/fork.png)\n\n**\nfork()APIIPCIPCmessagesend()\n- \nIPCInter-Process CommunicationsocketDomain SocketNodeIPCpipe\n![pipe](./images/pipe.png)\nIPCNODE_CHANNEL_FDIPCIPC\n![pipe](./images/pipe-1.png)\n\n**\n\n\nchild.send(message, [sendHandle]) \nsocketsocketUDP\n```\nvar child = require('child_process').fork('child.js'); \n// Open up the server object and send the handle \nvar server = require('net').createServer(); \nserver.on('connection', function (socket) { \n socket.end('handled by parent\\n'); \n}); \nserver.listen(1337, function () { \n child.send('server', server); \n}); \n\nprocess.on('message', function (m, server) { \n if (m === 'server') { \n server.on('connection', function (socket) { \n socket.end('handled by child\\n'); \n }); \n } \n});\n```\n![pipe](./images/pipe-2.png)\n\n![pipe](./images/pipe-3.png)\n\n\nsend()\n- net.SocketTCP\n- net.ServerTCPTCP\n- net.NativeC++TCPIPC\n- dgram.SocketUDP\n- dgram.NativeC++UDP\nsend()IPChandlemessagemessage\n{ \n cmd: 'NODE_HANDLE', \n type: 'net.Server', \n msg: message \n} \n\nIPCJSON.parse()messagemessage.cmdNODE_internalMessagemessage.cmdNODE_HANDLEmessage.type\n![pipe](./images/pipe-4.png)\n\nNode\n\n\n\n\n###### \n\n**\nmessageNode\n- error\n- exitnullkill()\n- closeexit\n- disconnectdisconnect()IPC\n\nkill -l\n\n**\n```\n// master.js \nvar fork = require('child_process').fork; \nvar cpus = require('os').cpus(); \nvar server = require('net').createServer(); \nserver.listen(1337); \nvar workers = {}; \nvar createWorker = function () { \n var worker = fork(__dirname + '/worker.js'); \n // \n worker.on('exit', function () { \n console.log('Worker ' + worker.pid + ' exited.'); \n delete workers[worker.pid]; \n createWorker(); \n }); \n // \n worker.send('server', server); \n workers[worker.pid] = worker; \n console.log('Create worker. pid: ' + worker.pid); \n}; \nfor (var i = 0; i < cpus.length; i++) { \n createWorker(); \n} \n// \nprocess.on('exit', function () { \n for (var pid in workers) { \n workers[pid].kill(); \n } \n});\n\n// worker.js \nvar http = require('http'); \nvar server = http.createServer(function (req, res) { \n res.writeHead(200, {'Content-Type': 'text/plain'}); \n res.end('handled by child, pid is ' + process.pid + '\\n'); \n}); \nvar worker; \nprocess.on('message', function (m, tcp) { \n if (m === 'server') { \n worker = tcp; \n worker.on('connection', function (socket) { \n  server.emit('connection', socket); \n }); \n } \n}); \nprocess.on('uncaughtException', function () { \n // \n worker.close(function () { \n // \n process.exit(1); \n }); \n}); \n```\n**\n```\n// \nvar limit = 10; \n// \nvar during = 60000; \nvar restart = []; \nvar isTooFrequently = function () { \n // \n var time = Date.now(); \n var length = restart.push(time); \n if (length > limit) { \n // 10\n restart = restart.slice(limit * -1); \n } \n // 10\n return restart.length >= limit && restart[restart.length - 1] - restart[0] < during; \n}; \nvar workers = {}; \nvar createWorker = function () { \n // \n if (isTooFrequently()) { \n // giveup\n process.emit('giveup', length, during); \n return; \n } \n var worker = fork(__dirname + '/worker.js'); \n worker.on('exit', function () { \n console.log('Worker ' + worker.pid + ' exited.'); \n delete workers[worker.pid]; \n }); \n // \n worker.on('message', function (message) { \n if (message.act === 'suicide') { \n createWorker(); \n } \n }); \n // \n worker.send('server', server); \n workers[worker.pid] = worker; \n console.log('Create worker. pid: ' + worker.pid); \n}; \n```\n\n**\nCPU,\n\nNode\n\nNodeCPUI/OCPUI/OCPU\n\n  Node v0.11Round-RobinNi = (i + 1) mod n\n\n**\n- \n\n\n\n![](./images/loop.png)\n- \n\n![](./images/loop-1.png)\nTCPUDP\n\n###### Cluster \n```\n// cluster.js \nvar cluster = require('cluster'); \ncluster.setupMaster({ \n exec: \"worker.js\" \n}); \nvar cpus = require('os').cpus(); \nfor (var i = 0; i < cpus.length; i++) { \n cluster.fork(); \n} \n\nvar cluster = require('cluster'); \nvar http = require('http'); \nvar numCPUs = require('os').cpus().length; \nif (cluster.isMaster) { \n // Fork workers \n for (var i = 0; i < numCPUs; i++) { \n cluster.fork(); \n } \n cluster.on('exit', function(worker, code, signal) { \n console.log('worker ' + worker.process.pid + ' died'); \n }); \n} else { \n // Workers can share any TCP connection \n // In this case its a HTTP server \n http.createServer(function(req, res) { \n res.writeHead(200); \n res.end(\"hello world\\n\"); \n }).listen(8000); \n}\n```\n\nNODE_UNIQUE_ID\n```\ncluster.isWorker = ('NODE_UNIQUE_ID' in process.env); \ncluster.isMaster = (cluster.isWorker === false); \n```\ncluster.isMastercluster.isWorkercluster.setupMaster()API\n\ncluster.setupMaster()cluster.fork()\n\n*Cluster *\nclusterchild_processnet\n\n*Cluster *\n- fork\n- onlineonline\n- listeninglisten()Socketlistening\n- disconnectIPC\n- exit\n- setupcluster.setupMaster()","source":"nodejs/nodejs-note-4.md","raw":"---\ntitle: nodejs(4)\ndate: 2022-12-25 19:56:24\ntags: [node, docs]\n---\n\n#### Web\n\n###### cookie\nCookieSet-Cookie\nSet-Cookie: name=value; Path=/; Expires=Sun, 23-Apr-23 09:01:35 GMT; Domain=.domain.com; \nname=valueCookie:\n- pathCookieCookie\n- ExpiresMax-AgeCookieCookieCookieExpiresUTCCookieMax-AgeCookieMax-AgeCookie\n- HttpOnlydocument.cookieCookieHttpOnlydocument.cookieHTTPCookie\n- SecureSecuretrueHTTPHTTPSCookieHTTPSHTTP\n\nYSlow:\n- Cookie\n- \n- DNS\n\n###### Session\nSession\n\n:\n- Cookie\nSessionSessionConnectconnect_uidTomcatjsessionidCookie\n```\nvar sessions = {}; \nvar key = 'session_id'; \nvar EXPIRES = 20 * 60 * 1000; \nvar generate = function () { \n var session = {}; \n session.id = (new Date()).getTime() + Math.random(); \n session.cookie = { \n expire: (new Date()).getTime() + EXPIRES \n }; \n sessions[session.id] = session; \n return session; \n}; \n```\n- \n\n:\n- Node\n- \n- Node\n\n###### \n\n- Expires Cache-Control \n-  ETags\n- Ajax \n\n![](./images/cache.png)\n\n:\n- \n- \n\nETagEntity Tag\nETagIf-None-Match/ETag\n```\nvar handle = function (req, res) { \n fs.readFile(filename, function(err, file) { \n var hash = getHash(file); \n var noneMatch = req.headers['if-none-match']; \n if (hash === noneMatch) { \n res.writeHead(304, \"Not Modified\"); \n res.end(); \n } else { \n res.setHeader(\"ETag\", hash); \n res.writeHead(200, \"Ok\"); \n res.end(file); \n } \n }); \n}; \n```\n\nHTTP1.0Expires:\n```\nvar handle = function (req, res) { \n fs.readFile(filename, function(err, file) { \n var expires = new Date(); \n expires.setTime(expires.getTime() + 10 * 365 * 24 * 60 * 60 * 1000); \n res.setHeader(\"Expires\", expires.toUTCString()); \n res.writeHead(200, \"Ok\"); \n res.end(file); \n }); \n}; \n```\nExpiresGMT\n\nExpiresCache-Control\n```\nvar handle = function (req, res) { \n fs.readFile(filename, function(err, file) { \n res.setHeader(\"Cache-Control\", \"max-age=\" + 10 * 365 * 24 * 60 * 60 * 1000); \n res.writeHead(200, \"Ok\"); \n res.end(file); \n }); \n};\n```\nCache-ControlCache-Controlpublicprivateno-cacheno-store\n\nHTTP1.0max-ageExpiresCache-Controlmax-ageExpires\n\n:\n- Webhttp://url.com/?v=20130501\n- hashhttp://url.com/?hash=afadfadwe\n\n###### Basic\nHTTPSBasic\n\n###### \nPOST\nTransfer-EncodingContent-Length\n```\nvar hasBody = function(req) { \n return 'transfer-encoding' in req.headers || 'content-length' in req.headers; \n}; \n```\nHTTP_Parserdata\n```\nfunction (req, res) { \n if (hasBody(req)) { \n var buffers = []; \n req.on('data', function (chunk) { \n buffers.push(chunk); \n }); \n req.on('end', function () { \n req.rawBody = Buffer.concat(buffers).toString(); \n handle(req, res); \n }); \n } else { \n handle(req, res); \n } \n} \n```\nBufferBufferreq.rawBody\n\n\n```\nvar handle = function (req, res) { \n if (req.headers['content-type'] === 'application/x-www-form-urlencoded') { \n req.body = querystring.parse(req.rawBody); \n } \n todo(req, res); \n}; \n\n\nvar mime = function (req) { \n var str = req.headers['content-type'] || ''; \n return str.split(';')[0]; \n};\n\nvar handle = function (req, res) { \n if (mime(req) === 'application/json') { \n try { \n req.body = JSON.parse(req.rawBody); \n } catch (e) { \n // Bad request \n res.writeHead(400); \n res.end('Invalid JSON'); \n return; \n } \n } \n todo(req, res); \n}; \n```\n\nXMLXMLJSONxml2js\n```\nvar xml2js = require('xml2js'); \nvar handle = function (req, res) { \n if (mime(req) === 'application/xml') { \n xml2js.parseString(req.rawBody, function (err, xml) { \n if (err) { \n // Bad request \n res.writeHead(400); \n res.end('Invalid XML'); \n return; \n } \n req.body = xml; \n todo(req, res); \n }); \n } \n};\n```\n\n**\n\n```\nfunction (req, res) { \n if (hasBody(req)) { \n var done = function () { \n handle(req, res); \n }; \n if (mime(req) === 'application/json') { \n parseJSON(req, done); \n } else if (mime(req) === 'application/xml') { \n parseXML(req, done); \n } else if (mime(req) === 'multipart/form-data') { \n parseMultipart(req, done); \n } \n } else { \n handle(req, res); \n } \n} \n```\n\nformidable\n```\nvar formidable = require('formidable'); \nfunction (req, res) { \n if (hasBody(req)) { \n if (mime(req) === 'multipart/form-data') { \n var form = new formidable.IncomingForm(); \n form.parse(req, function(err, fields, files) { \n req.body = fields; \n req.files = files; \n handle(req, res); \n }); \n } \n } else { \n handle(req, res); \n } \n} \n```\n\n###### \n\n\n- 400\n- Node\n\n```\nvar bytes = 1024; \nfunction (req, res) { \n var received = 0, \n var len = req.headers['content-length'] ? parseInt(req.headers['content-length'], 10) : null; \n // \n if (len && len > bytes) { \n res.writeHead(413); \n res.end(); \n return; \n }\n  // limit \n req.on('data', function (chunk) { \n received += chunk.length; \n if (received > bytes) { \n // end() \n req.destroy(); \n } \n }); \n handle(req, res); \n}; \n```\n\nCSRF \nCSRFCross-Site Request Forgery\n\nCSRF\n```\nvar generateRandom = function(len) { \n return crypto.randomBytes(Math.ceil(len * 3 / 4)) \n .toString('base64') \n .slice(0, len); \n};\n```\n\n###### \n\n- \n- \n\nMVC\nMVC\n- Controller\n- Model\n- View\n\n![MVC](./images/mvc.png)\n\n- URL\n- \n- \n\nURL\n\n\nURL\n\nURL\n- \n- \n\nPHPMVCCodeIgniterNodeURL\n\n*RESTful*\nRESTRepresentational State TransferRESTRESTfulURL\n\nRESTfulMVCMVCRESTfulHTTPURL\n\n###### \n![](./images/middle.png)\n\n**\n```\nvar handle = function (req, res, stack) { \n var next = function (err) { \n if (err) { \n return handle500(err, req, res, stack); \n } \n // stack\n var middleware = stack.shift(); \n if (middleware) { \n // next()\n try { \n middleware(req, res, next); \n } catch (ex) { \n next(err); \n } \n } \n }; \n // \n next(); \n}; \n```\n\n**\n\n- jsperf.com\n- \n- HTTPGET\n\n\n\n###### \n**\n- MIME: Content-TypeMIME\nMIMEMultipurpose Internet Mail ExtensionsMIMEJSONapplication/jsonXMLapplication/xmlPDFapplication/pdf\nMIMEmime\n```\nvar mime = require('mime'); \nmime.lookup('/path/to/file.txt'); // => 'text/plain' \nmime.lookup('file.txt'); // => 'text/plain' \nmime.lookup('.TXT'); // => 'text/plain' \nmime.lookup('htm'); // => 'text/html' \n```\nMIMEContent-Type\nContent-Type: text/javascript; charset=utf-8 \n- \nContent-DispositioninlineattachmentContent-Disposition\n- JSON\n- \n\n**\n\n```\nvar cache = {}; \nvar VIEW_FOLDER = '/path/to/wwwroot/views'; \nres.render = function (viewname, data) { \n if (!cache[viewname]) { \n var text; \n try { \n text = fs.readFileSync(path.join(VIEW_FOLDER, viewname), 'utf8'); \n } catch (e) { \n  res.writeHead(500, {'Content-Type': 'text/html'}); \n res.end(''); \n return; \n } \n cache[viewname] = complie(text); \n } \n var complied = cache[viewname]; \n res.writeHead(200, {'Content-Type': 'text/html'}); \n var html = complied(data); \n res.end(html); \n};\n```\n\n**Bigpipe**\nBigpipepagelet\n\nBigpipe\n- \n- \n- \n![bigpipe](./images/bigpipe.png)\n```\nvar cache = {}; \nvar layout = 'layout.html'; \napp.get('/profile', function (req, res) { \n if (!cache[layout]) { \n cache[layout] = fs.readFileSync(path.join(VIEW_FOLDER, layout), 'utf8'); \n } \n res.writeHead(200, {'Content-Type': 'text/html'}); \n res.write(render(complie(cache[layout]))); \n // TODO \n}); \n\n\napp.get('/profile', function (req, res) { \n if (!cache[layout]) { \n cache[layout] = fs.readFileSync(path.join(VIEW_FOLDER, layout), 'utf8'); \n } \n res.writeHead(200, {'Content-Type': 'text/html'}); \n res.write(render(complie(cache[layout]))); \n ep.all('users', 'articles', function () { \n res.end(); \n }); \n ep.fail(function (err) { \n res.end(); \n }); \n db.getData('sql1', function (err, data) { \n data = err ? {} : data; \n res.write('<script>bigpipe.set(\"articles\", ' + JSON.stringify(data) + ');</script>'; \n }); \n db.getData('sql2', function (err, data) { \n data = err ? {} : data; \n res.write('<script>bigpipe.set(\"copyright\", ' + JSON.stringify(data) + ');</script>'; \n }); \n});\n\n\nvar Bigpipe = function () { \n this.callbacks = {}; \n}; \nBigpipe.prototype.ready = function (key, callback) { \n if (!this.callbacks[key]) { \n this.callbacks[key] = []; \n } \n this.callbacks[key].push(callback); \n}; \nBigpipe.prototype.set = function (key, data) { \n var callbacks = this.callbacks[key] || []; \n for (var i = 0; i < callbacks.length; i++) { \n callbacks[i].call(this, data); \n } \n};\n```\nBigpipe\n\n#### \n\n###### \n**\n\nNQPS1/N\n\n**\n100100\nprefork\nMQPSM/N\n\n**\nCPUCPUCPU\n1/LQPSM * L/N\n\n**\nCPU\n\n###### \nCPUCPUNodechild_processchild_process.fork()\n```\n// worker.js\nvar http = require('http'); \nhttp.createServer(function (req, res) { \n res.writeHead(200, {'Content-Type': 'text/plain'}); \n res.end('Hello World\\n'); \n}).listen(Math.round((1 + Math.random()) * 1000), '127.0.0.1'); \n\nvar fork = require('child_process').fork; \nvar cpus = require('os').cpus(); \nfor (var i = 0; i < cpus.length; i++) { \n fork('./worker.js'); \n} \n```\n![](./images/master-slave.png)\nMaster-Worker\n\n*fork()V83010 MBNodefork()CPUfork()*\n\n**\nchild_processNodechild_process4\n- spawn()\n- exec()spawn()\n\n- execFile()\n- fork()spawn()NodeJavaScript\n\nspawn()exec()execFile()timeout\nexec()execFile()exec()execFile()\n\n```\nvar cp = require('child_process'); \ncp.spawn('node', ['worker.js']); \ncp.exec('node worker.js', function (err, stdout, stderr) { \n // some code \n}); \ncp.execFile('worker.js', function (err, stdout, stderr) { \n // some code \n}); \ncp.fork('./worker.js');\n```\n![fork](./images/fork.png)\n\n**\nfork()APIIPCIPCmessagesend()\n- \nIPCInter-Process CommunicationsocketDomain SocketNodeIPCpipe\n![pipe](./images/pipe.png)\nIPCNODE_CHANNEL_FDIPCIPC\n![pipe](./images/pipe-1.png)\n\n**\n\n\nchild.send(message, [sendHandle]) \nsocketsocketUDP\n```\nvar child = require('child_process').fork('child.js'); \n// Open up the server object and send the handle \nvar server = require('net').createServer(); \nserver.on('connection', function (socket) { \n socket.end('handled by parent\\n'); \n}); \nserver.listen(1337, function () { \n child.send('server', server); \n}); \n\nprocess.on('message', function (m, server) { \n if (m === 'server') { \n server.on('connection', function (socket) { \n socket.end('handled by child\\n'); \n }); \n } \n});\n```\n![pipe](./images/pipe-2.png)\n\n![pipe](./images/pipe-3.png)\n\n\nsend()\n- net.SocketTCP\n- net.ServerTCPTCP\n- net.NativeC++TCPIPC\n- dgram.SocketUDP\n- dgram.NativeC++UDP\nsend()IPChandlemessagemessage\n{ \n cmd: 'NODE_HANDLE', \n type: 'net.Server', \n msg: message \n} \n\nIPCJSON.parse()messagemessage.cmdNODE_internalMessagemessage.cmdNODE_HANDLEmessage.type\n![pipe](./images/pipe-4.png)\n\nNode\n\n\n\n\n###### \n\n**\nmessageNode\n- error\n- exitnullkill()\n- closeexit\n- disconnectdisconnect()IPC\n\nkill -l\n\n**\n```\n// master.js \nvar fork = require('child_process').fork; \nvar cpus = require('os').cpus(); \nvar server = require('net').createServer(); \nserver.listen(1337); \nvar workers = {}; \nvar createWorker = function () { \n var worker = fork(__dirname + '/worker.js'); \n // \n worker.on('exit', function () { \n console.log('Worker ' + worker.pid + ' exited.'); \n delete workers[worker.pid]; \n createWorker(); \n }); \n // \n worker.send('server', server); \n workers[worker.pid] = worker; \n console.log('Create worker. pid: ' + worker.pid); \n}; \nfor (var i = 0; i < cpus.length; i++) { \n createWorker(); \n} \n// \nprocess.on('exit', function () { \n for (var pid in workers) { \n workers[pid].kill(); \n } \n});\n\n// worker.js \nvar http = require('http'); \nvar server = http.createServer(function (req, res) { \n res.writeHead(200, {'Content-Type': 'text/plain'}); \n res.end('handled by child, pid is ' + process.pid + '\\n'); \n}); \nvar worker; \nprocess.on('message', function (m, tcp) { \n if (m === 'server') { \n worker = tcp; \n worker.on('connection', function (socket) { \n  server.emit('connection', socket); \n }); \n } \n}); \nprocess.on('uncaughtException', function () { \n // \n worker.close(function () { \n // \n process.exit(1); \n }); \n}); \n```\n**\n```\n// \nvar limit = 10; \n// \nvar during = 60000; \nvar restart = []; \nvar isTooFrequently = function () { \n // \n var time = Date.now(); \n var length = restart.push(time); \n if (length > limit) { \n // 10\n restart = restart.slice(limit * -1); \n } \n // 10\n return restart.length >= limit && restart[restart.length - 1] - restart[0] < during; \n}; \nvar workers = {}; \nvar createWorker = function () { \n // \n if (isTooFrequently()) { \n // giveup\n process.emit('giveup', length, during); \n return; \n } \n var worker = fork(__dirname + '/worker.js'); \n worker.on('exit', function () { \n console.log('Worker ' + worker.pid + ' exited.'); \n delete workers[worker.pid]; \n }); \n // \n worker.on('message', function (message) { \n if (message.act === 'suicide') { \n createWorker(); \n } \n }); \n // \n worker.send('server', server); \n workers[worker.pid] = worker; \n console.log('Create worker. pid: ' + worker.pid); \n}; \n```\n\n**\nCPU,\n\nNode\n\nNodeCPUI/OCPUI/OCPU\n\n  Node v0.11Round-RobinNi = (i + 1) mod n\n\n**\n- \n\n\n\n![](./images/loop.png)\n- \n\n![](./images/loop-1.png)\nTCPUDP\n\n###### Cluster \n```\n// cluster.js \nvar cluster = require('cluster'); \ncluster.setupMaster({ \n exec: \"worker.js\" \n}); \nvar cpus = require('os').cpus(); \nfor (var i = 0; i < cpus.length; i++) { \n cluster.fork(); \n} \n\nvar cluster = require('cluster'); \nvar http = require('http'); \nvar numCPUs = require('os').cpus().length; \nif (cluster.isMaster) { \n // Fork workers \n for (var i = 0; i < numCPUs; i++) { \n cluster.fork(); \n } \n cluster.on('exit', function(worker, code, signal) { \n console.log('worker ' + worker.process.pid + ' died'); \n }); \n} else { \n // Workers can share any TCP connection \n // In this case its a HTTP server \n http.createServer(function(req, res) { \n res.writeHead(200); \n res.end(\"hello world\\n\"); \n }).listen(8000); \n}\n```\n\nNODE_UNIQUE_ID\n```\ncluster.isWorker = ('NODE_UNIQUE_ID' in process.env); \ncluster.isMaster = (cluster.isWorker === false); \n```\ncluster.isMastercluster.isWorkercluster.setupMaster()API\n\ncluster.setupMaster()cluster.fork()\n\n*Cluster *\nclusterchild_processnet\n\n*Cluster *\n- fork\n- onlineonline\n- listeninglisten()Socketlistening\n- disconnectIPC\n- exit\n- setupcluster.setupMaster()","updated":"2022-12-28T01:46:56.926Z","path":"nodejs/nodejs-note-4.html","comments":1,"layout":"page","_id":"clchh4gwu000wckttdfkmh585","content":"<h4 id=\"Web\"><a href=\"#Web\" class=\"headerlink\" title=\"Web\"></a>Web</h4><h6 id=\"cookie\"><a href=\"#cookie\" class=\"headerlink\" title=\"cookie\"></a>cookie</h6><p>CookieSet-Cookie<br>Set-Cookie: name=value; Path=/; Expires=Sun, 23-Apr-23 09:01:35 GMT; Domain=.domain.com;<br>name=valueCookie:</p>\n<ul>\n<li>pathCookieCookie</li>\n<li>ExpiresMax-AgeCookieCookieCookieExpiresUTCCookieMax-AgeCookieMax-AgeCookie</li>\n<li>HttpOnlydocument.cookieCookieHttpOnlydocument.cookieHTTPCookie</li>\n<li>SecureSecuretrueHTTPHTTPSCookieHTTPSHTTP</li>\n</ul>\n<p>YSlow:</p>\n<ul>\n<li>Cookie</li>\n<li></li>\n<li>DNS</li>\n</ul>\n<h6 id=\"Session\"><a href=\"#Session\" class=\"headerlink\" title=\"Session\"></a>Session</h6><p>Session</p>\n<p>:</p>\n<ul>\n<li>Cookie<br>SessionSessionConnectconnect_uidTomcatjsessionidCookie<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var sessions = &#123;&#125;; </span><br><span class=\"line\">var key = &#x27;session_id&#x27;; </span><br><span class=\"line\">var EXPIRES = 20 * 60 * 1000; </span><br><span class=\"line\">var generate = function () &#123; </span><br><span class=\"line\"> var session = &#123;&#125;; </span><br><span class=\"line\"> session.id = (new Date()).getTime() + Math.random(); </span><br><span class=\"line\"> session.cookie = &#123; </span><br><span class=\"line\"> expire: (new Date()).getTime() + EXPIRES </span><br><span class=\"line\"> &#125;; </span><br><span class=\"line\"> sessions[session.id] = session; </span><br><span class=\"line\"> return session; </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure></li>\n<li></li>\n</ul>\n<p>:</p>\n<ul>\n<li>Node</li>\n<li></li>\n<li>Node</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<ul>\n<li>Expires Cache-Control </li>\n<li> ETags</li>\n<li>Ajax </li>\n</ul>\n<p><img src=\"/nodejs/images/cache.png\" alt=\"\"></p>\n<p>:</p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p>ETagEntity Tag<br>ETagIf-None-Match/ETag</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var handle = function (req, res) &#123; </span><br><span class=\"line\"> fs.readFile(filename, function(err, file) &#123; </span><br><span class=\"line\"> var hash = getHash(file); </span><br><span class=\"line\"> var noneMatch = req.headers[&#x27;if-none-match&#x27;]; </span><br><span class=\"line\"> if (hash === noneMatch) &#123; </span><br><span class=\"line\"> res.writeHead(304, &quot;Not Modified&quot;); </span><br><span class=\"line\"> res.end(); </span><br><span class=\"line\"> &#125; else &#123; </span><br><span class=\"line\"> res.setHeader(&quot;ETag&quot;, hash); </span><br><span class=\"line\"> res.writeHead(200, &quot;Ok&quot;); </span><br><span class=\"line\"> res.end(file); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n\n<p>HTTP1.0Expires:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var handle = function (req, res) &#123; </span><br><span class=\"line\"> fs.readFile(filename, function(err, file) &#123; </span><br><span class=\"line\"> var expires = new Date(); </span><br><span class=\"line\"> expires.setTime(expires.getTime() + 10 * 365 * 24 * 60 * 60 * 1000); </span><br><span class=\"line\"> res.setHeader(&quot;Expires&quot;, expires.toUTCString()); </span><br><span class=\"line\"> res.writeHead(200, &quot;Ok&quot;); </span><br><span class=\"line\"> res.end(file); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n<p>ExpiresGMT</p>\n<p>ExpiresCache-Control</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var handle = function (req, res) &#123; </span><br><span class=\"line\"> fs.readFile(filename, function(err, file) &#123; </span><br><span class=\"line\"> res.setHeader(&quot;Cache-Control&quot;, &quot;max-age=&quot; + 10 * 365 * 24 * 60 * 60 * 1000); </span><br><span class=\"line\"> res.writeHead(200, &quot;Ok&quot;); </span><br><span class=\"line\"> res.end(file); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>Cache-ControlCache-Controlpublicprivateno-cacheno-store</p>\n<p>HTTP1.0max-ageExpiresCache-Controlmax-ageExpires</p>\n<p>:</p>\n<ul>\n<li>Web<a href=\"http://url.com/?v=20130501%E3%80%82\">http://url.com/?v=20130501</a></li>\n<li>hash<a href=\"http://url.com/?hash=afadfadwe\">http://url.com/?hash=afadfadwe</a></li>\n</ul>\n<h6 id=\"Basic\"><a href=\"#Basic\" class=\"headerlink\" title=\"Basic\"></a>Basic</h6><p>HTTPSBasic</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>POST<br>Transfer-EncodingContent-Length</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var hasBody = function(req) &#123; </span><br><span class=\"line\"> return &#x27;transfer-encoding&#x27; in req.headers || &#x27;content-length&#x27; in req.headers; </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n<p>HTTP_Parserdata</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function (req, res) &#123; </span><br><span class=\"line\"> if (hasBody(req)) &#123; </span><br><span class=\"line\"> var buffers = []; </span><br><span class=\"line\"> req.on(&#x27;data&#x27;, function (chunk) &#123; </span><br><span class=\"line\"> buffers.push(chunk); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> req.on(&#x27;end&#x27;, function () &#123; </span><br><span class=\"line\"> req.rawBody = Buffer.concat(buffers).toString(); </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125; else &#123; </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125; </span><br></pre></td></tr></table></figure>\n<p>BufferBufferreq.rawBody</p>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var handle = function (req, res) &#123; </span><br><span class=\"line\"> if (req.headers[&#x27;content-type&#x27;] === &#x27;application/x-www-form-urlencoded&#x27;) &#123; </span><br><span class=\"line\"> req.body = querystring.parse(req.rawBody); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> todo(req, res); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">var mime = function (req) &#123; </span><br><span class=\"line\"> var str = req.headers[&#x27;content-type&#x27;] || &#x27;&#x27;; </span><br><span class=\"line\"> return str.split(&#x27;;&#x27;)[0]; </span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">var handle = function (req, res) &#123; </span><br><span class=\"line\"> if (mime(req) === &#x27;application/json&#x27;) &#123; </span><br><span class=\"line\"> try &#123; </span><br><span class=\"line\"> req.body = JSON.parse(req.rawBody); </span><br><span class=\"line\"> &#125; catch (e) &#123; </span><br><span class=\"line\"> // Bad request </span><br><span class=\"line\"> res.writeHead(400); </span><br><span class=\"line\"> res.end(&#x27;Invalid JSON&#x27;); </span><br><span class=\"line\"> return; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> todo(req, res); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n\n<p>XMLXMLJSONxml2js</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var xml2js = require(&#x27;xml2js&#x27;); </span><br><span class=\"line\">var handle = function (req, res) &#123; </span><br><span class=\"line\"> if (mime(req) === &#x27;application/xml&#x27;) &#123; </span><br><span class=\"line\"> xml2js.parseString(req.rawBody, function (err, xml) &#123; </span><br><span class=\"line\"> if (err) &#123; </span><br><span class=\"line\"> // Bad request </span><br><span class=\"line\"> res.writeHead(400); </span><br><span class=\"line\"> res.end(&#x27;Invalid XML&#x27;); </span><br><span class=\"line\"> return; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> req.body = xml; </span><br><span class=\"line\"> todo(req, res); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><em></em></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function (req, res) &#123; </span><br><span class=\"line\"> if (hasBody(req)) &#123; </span><br><span class=\"line\"> var done = function () &#123; </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\"> &#125;; </span><br><span class=\"line\"> if (mime(req) === &#x27;application/json&#x27;) &#123; </span><br><span class=\"line\"> parseJSON(req, done); </span><br><span class=\"line\"> &#125; else if (mime(req) === &#x27;application/xml&#x27;) &#123; </span><br><span class=\"line\"> parseXML(req, done); </span><br><span class=\"line\"> &#125; else if (mime(req) === &#x27;multipart/form-data&#x27;) &#123; </span><br><span class=\"line\"> parseMultipart(req, done); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; else &#123; </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125; </span><br></pre></td></tr></table></figure>\n\n<p>formidable</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var formidable = require(&#x27;formidable&#x27;); </span><br><span class=\"line\">function (req, res) &#123; </span><br><span class=\"line\"> if (hasBody(req)) &#123; </span><br><span class=\"line\"> if (mime(req) === &#x27;multipart/form-data&#x27;) &#123; </span><br><span class=\"line\"> var form = new formidable.IncomingForm(); </span><br><span class=\"line\"> form.parse(req, function(err, fields, files) &#123; </span><br><span class=\"line\"> req.body = fields; </span><br><span class=\"line\"> req.files = files; </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; else &#123; </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125; </span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><br></p>\n<ul>\n<li>400</li>\n<li>Node</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var bytes = 1024; </span><br><span class=\"line\">function (req, res) &#123; </span><br><span class=\"line\"> var received = 0, </span><br><span class=\"line\"> var len = req.headers[&#x27;content-length&#x27;] ? parseInt(req.headers[&#x27;content-length&#x27;], 10) : null; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> if (len &amp;&amp; len &gt; bytes) &#123; </span><br><span class=\"line\"> res.writeHead(413); </span><br><span class=\"line\"> res.end(); </span><br><span class=\"line\"> return; </span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">  // limit </span><br><span class=\"line\"> req.on(&#x27;data&#x27;, function (chunk) &#123; </span><br><span class=\"line\"> received += chunk.length; </span><br><span class=\"line\"> if (received &gt; bytes) &#123; </span><br><span class=\"line\"> // end() </span><br><span class=\"line\"> req.destroy(); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n\n<p>CSRF<br>CSRFCross-Site Request Forgery</p>\n<p>CSRF</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var generateRandom = function(len) &#123; </span><br><span class=\"line\"> return crypto.randomBytes(Math.ceil(len * 3 / 4)) </span><br><span class=\"line\"> .toString(&#x27;base64&#x27;) </span><br><span class=\"line\"> .slice(0, len); </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p>MVC<br>MVC</p>\n<ul>\n<li>Controller</li>\n<li>Model</li>\n<li>View</li>\n</ul>\n<p><img src=\"/nodejs/images/mvc.png\" alt=\"MVC\"><br></p>\n<ul>\n<li>URL</li>\n<li></li>\n<li></li>\n</ul>\n<p>URL<br><br><br>URL</p>\n<p>URL</p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p>PHPMVCCodeIgniterNodeURL</p>\n<p><em>RESTful</em><br>RESTRepresentational State TransferRESTRESTfulURL</p>\n<p>RESTfulMVCMVCRESTfulHTTPURL</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><img src=\"/nodejs/images/middle.png\" alt=\"\"></p>\n<p><em></em></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var handle = function (req, res, stack) &#123; </span><br><span class=\"line\"> var next = function (err) &#123; </span><br><span class=\"line\"> if (err) &#123; </span><br><span class=\"line\"> return handle500(err, req, res, stack); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> // stack</span><br><span class=\"line\"> var middleware = stack.shift(); </span><br><span class=\"line\"> if (middleware) &#123; </span><br><span class=\"line\"> // next()</span><br><span class=\"line\"> try &#123; </span><br><span class=\"line\"> middleware(req, res, next); </span><br><span class=\"line\"> &#125; catch (ex) &#123; </span><br><span class=\"line\"> next(err); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125;; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> next(); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n\n<p><em></em><br></p>\n<ul>\n<li>jsperf.com</li>\n<li></li>\n<li>HTTPGET</li>\n</ul>\n<p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em></p>\n<ul>\n<li>MIME: Content-TypeMIME<br>MIMEMultipurpose Internet Mail ExtensionsMIMEJSONapplication/jsonXMLapplication/xmlPDFapplication/pdf<br>MIMEmime<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var mime = require(&#x27;mime&#x27;); </span><br><span class=\"line\">mime.lookup(&#x27;/path/to/file.txt&#x27;); // =&gt; &#x27;text/plain&#x27; </span><br><span class=\"line\">mime.lookup(&#x27;file.txt&#x27;); // =&gt; &#x27;text/plain&#x27; </span><br><span class=\"line\">mime.lookup(&#x27;.TXT&#x27;); // =&gt; &#x27;text/plain&#x27; </span><br><span class=\"line\">mime.lookup(&#x27;htm&#x27;); // =&gt; &#x27;text/html&#x27; </span><br></pre></td></tr></table></figure>\nMIMEContent-Type<br>Content-Type: text/javascript; charset=utf-8 </li>\n<li><br>Content-DispositioninlineattachmentContent-Disposition</li>\n<li>JSON</li>\n<li></li>\n</ul>\n<p><em></em><br></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var cache = &#123;&#125;; </span><br><span class=\"line\">var VIEW_FOLDER = &#x27;/path/to/wwwroot/views&#x27;; </span><br><span class=\"line\">res.render = function (viewname, data) &#123; </span><br><span class=\"line\"> if (!cache[viewname]) &#123; </span><br><span class=\"line\"> var text; </span><br><span class=\"line\"> try &#123; </span><br><span class=\"line\"> text = fs.readFileSync(path.join(VIEW_FOLDER, viewname), &#x27;utf8&#x27;); </span><br><span class=\"line\"> &#125; catch (e) &#123; </span><br><span class=\"line\">  res.writeHead(500, &#123;&#x27;Content-Type&#x27;: &#x27;text/html&#x27;&#125;); </span><br><span class=\"line\"> res.end(&#x27;&#x27;); </span><br><span class=\"line\"> return; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> cache[viewname] = complie(text); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> var complied = cache[viewname]; </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/html&#x27;&#125;); </span><br><span class=\"line\"> var html = complied(data); </span><br><span class=\"line\"> res.end(html); </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Bigpipe</strong><br>Bigpipepagelet</p>\n<p>Bigpipe</p>\n<ul>\n<li></li>\n<li></li>\n<li><br><img src=\"/nodejs/images/bigpipe.png\" alt=\"bigpipe\"><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var cache = &#123;&#125;; </span><br><span class=\"line\">var layout = &#x27;layout.html&#x27;; </span><br><span class=\"line\">app.get(&#x27;/profile&#x27;, function (req, res) &#123; </span><br><span class=\"line\"> if (!cache[layout]) &#123; </span><br><span class=\"line\"> cache[layout] = fs.readFileSync(path.join(VIEW_FOLDER, layout), &#x27;utf8&#x27;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/html&#x27;&#125;); </span><br><span class=\"line\"> res.write(render(complie(cache[layout]))); </span><br><span class=\"line\"> // TODO </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">app.get(&#x27;/profile&#x27;, function (req, res) &#123; </span><br><span class=\"line\"> if (!cache[layout]) &#123; </span><br><span class=\"line\"> cache[layout] = fs.readFileSync(path.join(VIEW_FOLDER, layout), &#x27;utf8&#x27;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/html&#x27;&#125;); </span><br><span class=\"line\"> res.write(render(complie(cache[layout]))); </span><br><span class=\"line\"> ep.all(&#x27;users&#x27;, &#x27;articles&#x27;, function () &#123; </span><br><span class=\"line\"> res.end(); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> ep.fail(function (err) &#123; </span><br><span class=\"line\"> res.end(); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> db.getData(&#x27;sql1&#x27;, function (err, data) &#123; </span><br><span class=\"line\"> data = err ? &#123;&#125; : data; </span><br><span class=\"line\"> res.write(&#x27;&lt;script&gt;bigpipe.set(&quot;articles&quot;, &#x27; + JSON.stringify(data) + &#x27;);&lt;/script&gt;&#x27;; </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> db.getData(&#x27;sql2&#x27;, function (err, data) &#123; </span><br><span class=\"line\"> data = err ? &#123;&#125; : data; </span><br><span class=\"line\"> res.write(&#x27;&lt;script&gt;bigpipe.set(&quot;copyright&quot;, &#x27; + JSON.stringify(data) + &#x27;);&lt;/script&gt;&#x27;; </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">var Bigpipe = function () &#123; </span><br><span class=\"line\"> this.callbacks = &#123;&#125;; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">Bigpipe.prototype.ready = function (key, callback) &#123; </span><br><span class=\"line\"> if (!this.callbacks[key]) &#123; </span><br><span class=\"line\"> this.callbacks[key] = []; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> this.callbacks[key].push(callback); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">Bigpipe.prototype.set = function (key, data) &#123; </span><br><span class=\"line\"> var callbacks = this.callbacks[key] || []; </span><br><span class=\"line\"> for (var i = 0; i &lt; callbacks.length; i++) &#123; </span><br><span class=\"line\"> callbacks[i].call(this, data); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\nBigpipe</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br><br>NQPS1/N</p>\n<p><em></em><br>100100<br>prefork<br>MQPSM/N</p>\n<p><em></em><br>CPUCPUCPU<br>1/LQPSM * L/N</p>\n<p><em></em><br>CPU</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>CPUCPUNodechild_processchild_process.fork()</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// worker.js</span><br><span class=\"line\">var http = require(&#x27;http&#x27;); </span><br><span class=\"line\">http.createServer(function (req, res) &#123; </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/plain&#x27;&#125;); </span><br><span class=\"line\"> res.end(&#x27;Hello World\\n&#x27;); </span><br><span class=\"line\">&#125;).listen(Math.round((1 + Math.random()) * 1000), &#x27;127.0.0.1&#x27;); </span><br><span class=\"line\"></span><br><span class=\"line\">var fork = require(&#x27;child_process&#x27;).fork; </span><br><span class=\"line\">var cpus = require(&#x27;os&#x27;).cpus(); </span><br><span class=\"line\">for (var i = 0; i &lt; cpus.length; i++) &#123; </span><br><span class=\"line\"> fork(&#x27;./worker.js&#x27;); </span><br><span class=\"line\">&#125; </span><br></pre></td></tr></table></figure>\n<p><img src=\"/nodejs/images/master-slave.png\" alt=\"\"><br>Master-Worker</p>\n<p><em>fork()V83010 MBNodefork()CPUfork()</em></p>\n<p><em></em><br>child_processNodechild_process4</p>\n<ul>\n<li>spawn()</li>\n<li>exec()spawn()<br></li>\n<li>execFile()</li>\n<li>fork()spawn()NodeJavaScript<br><br>spawn()exec()execFile()timeout<br>exec()execFile()exec()execFile()</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var cp = require(&#x27;child_process&#x27;); </span><br><span class=\"line\">cp.spawn(&#x27;node&#x27;, [&#x27;worker.js&#x27;]); </span><br><span class=\"line\">cp.exec(&#x27;node worker.js&#x27;, function (err, stdout, stderr) &#123; </span><br><span class=\"line\"> // some code </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">cp.execFile(&#x27;worker.js&#x27;, function (err, stdout, stderr) &#123; </span><br><span class=\"line\"> // some code </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">cp.fork(&#x27;./worker.js&#x27;);</span><br></pre></td></tr></table></figure>\n<p><img src=\"/nodejs/images/fork.png\" alt=\"fork\"></p>\n<p><em></em><br>fork()APIIPCIPCmessagesend()</p>\n<ul>\n<li><br>IPCInter-Process CommunicationsocketDomain SocketNodeIPCpipe<br><img src=\"/nodejs/images/pipe.png\" alt=\"pipe\"><br>IPCNODE_CHANNEL_FDIPCIPC<br><img src=\"/nodejs/images/pipe-1.png\" alt=\"pipe\"></li>\n</ul>\n<p><em></em><br></p>\n<p>child.send(message, [sendHandle])<br>socketsocketUDP</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var child = require(&#x27;child_process&#x27;).fork(&#x27;child.js&#x27;); </span><br><span class=\"line\">// Open up the server object and send the handle </span><br><span class=\"line\">var server = require(&#x27;net&#x27;).createServer(); </span><br><span class=\"line\">server.on(&#x27;connection&#x27;, function (socket) &#123; </span><br><span class=\"line\"> socket.end(&#x27;handled by parent\\n&#x27;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">server.listen(1337, function () &#123; </span><br><span class=\"line\"> child.send(&#x27;server&#x27;, server); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br><span class=\"line\">process.on(&#x27;message&#x27;, function (m, server) &#123; </span><br><span class=\"line\"> if (m === &#x27;server&#x27;) &#123; </span><br><span class=\"line\"> server.on(&#x27;connection&#x27;, function (socket) &#123; </span><br><span class=\"line\"> socket.end(&#x27;handled by child\\n&#x27;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p><img src=\"/nodejs/images/pipe-2.png\" alt=\"pipe\"><br><br><img src=\"/nodejs/images/pipe-3.png\" alt=\"pipe\"></p>\n<p><br>send()</p>\n<ul>\n<li>net.SocketTCP</li>\n<li>net.ServerTCPTCP</li>\n<li>net.NativeC++TCPIPC</li>\n<li>dgram.SocketUDP</li>\n<li>dgram.NativeC++UDP<br>send()IPChandlemessagemessage<br>{<br>cmd: NODE_HANDLE,<br>type: net.Server,<br>msg: message<br>} </li>\n</ul>\n<p>IPCJSON.parse()messagemessage.cmdNODE_internalMessagemessage.cmdNODE_HANDLEmessage.type<br><img src=\"/nodejs/images/pipe-4.png\" alt=\"pipe\"></p>\n<p>Node</p>\n<p><br></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br>messageNode</p>\n<ul>\n<li>error</li>\n<li>exitnullkill()</li>\n<li>closeexit</li>\n<li>disconnectdisconnect()IPC</li>\n</ul>\n<p>kill -l</p>\n<p><em></em></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// master.js </span><br><span class=\"line\">var fork = require(&#x27;child_process&#x27;).fork; </span><br><span class=\"line\">var cpus = require(&#x27;os&#x27;).cpus(); </span><br><span class=\"line\">var server = require(&#x27;net&#x27;).createServer(); </span><br><span class=\"line\">server.listen(1337); </span><br><span class=\"line\">var workers = &#123;&#125;; </span><br><span class=\"line\">var createWorker = function () &#123; </span><br><span class=\"line\"> var worker = fork(__dirname + &#x27;/worker.js&#x27;); </span><br><span class=\"line\"> // </span><br><span class=\"line\"> worker.on(&#x27;exit&#x27;, function () &#123; </span><br><span class=\"line\"> console.log(&#x27;Worker &#x27; + worker.pid + &#x27; exited.&#x27;); </span><br><span class=\"line\"> delete workers[worker.pid]; </span><br><span class=\"line\"> createWorker(); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> // </span><br><span class=\"line\"> worker.send(&#x27;server&#x27;, server); </span><br><span class=\"line\"> workers[worker.pid] = worker; </span><br><span class=\"line\"> console.log(&#x27;Create worker. pid: &#x27; + worker.pid); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">for (var i = 0; i &lt; cpus.length; i++) &#123; </span><br><span class=\"line\"> createWorker(); </span><br><span class=\"line\">&#125; </span><br><span class=\"line\">// </span><br><span class=\"line\">process.on(&#x27;exit&#x27;, function () &#123; </span><br><span class=\"line\"> for (var pid in workers) &#123; </span><br><span class=\"line\"> workers[pid].kill(); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">// worker.js </span><br><span class=\"line\">var http = require(&#x27;http&#x27;); </span><br><span class=\"line\">var server = http.createServer(function (req, res) &#123; </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/plain&#x27;&#125;); </span><br><span class=\"line\"> res.end(&#x27;handled by child, pid is &#x27; + process.pid + &#x27;\\n&#x27;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">var worker; </span><br><span class=\"line\">process.on(&#x27;message&#x27;, function (m, tcp) &#123; </span><br><span class=\"line\"> if (m === &#x27;server&#x27;) &#123; </span><br><span class=\"line\"> worker = tcp; </span><br><span class=\"line\"> worker.on(&#x27;connection&#x27;, function (socket) &#123; </span><br><span class=\"line\">  server.emit(&#x27;connection&#x27;, socket); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">process.on(&#x27;uncaughtException&#x27;, function () &#123; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> worker.close(function () &#123; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> process.exit(1); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\n<p><em></em></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// </span><br><span class=\"line\">var limit = 10; </span><br><span class=\"line\">// </span><br><span class=\"line\">var during = 60000; </span><br><span class=\"line\">var restart = []; </span><br><span class=\"line\">var isTooFrequently = function () &#123; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> var time = Date.now(); </span><br><span class=\"line\"> var length = restart.push(time); </span><br><span class=\"line\"> if (length &gt; limit) &#123; </span><br><span class=\"line\"> // 10</span><br><span class=\"line\"> restart = restart.slice(limit * -1); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> // 10</span><br><span class=\"line\"> return restart.length &gt;= limit &amp;&amp; restart[restart.length - 1] - restart[0] &lt; during; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">var workers = &#123;&#125;; </span><br><span class=\"line\">var createWorker = function () &#123; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> if (isTooFrequently()) &#123; </span><br><span class=\"line\"> // giveup</span><br><span class=\"line\"> process.emit(&#x27;giveup&#x27;, length, during); </span><br><span class=\"line\"> return; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> var worker = fork(__dirname + &#x27;/worker.js&#x27;); </span><br><span class=\"line\"> worker.on(&#x27;exit&#x27;, function () &#123; </span><br><span class=\"line\"> console.log(&#x27;Worker &#x27; + worker.pid + &#x27; exited.&#x27;); </span><br><span class=\"line\"> delete workers[worker.pid]; </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> // </span><br><span class=\"line\"> worker.on(&#x27;message&#x27;, function (message) &#123; </span><br><span class=\"line\"> if (message.act === &#x27;suicide&#x27;) &#123; </span><br><span class=\"line\"> createWorker(); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> // </span><br><span class=\"line\"> worker.send(&#x27;server&#x27;, server); </span><br><span class=\"line\"> workers[worker.pid] = worker; </span><br><span class=\"line\"> console.log(&#x27;Create worker. pid: &#x27; + worker.pid); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n\n<p><em></em><br>CPU,</p>\n<p>Node</p>\n<p>NodeCPUI/OCPUI/OCPU</p>\n<p>  Node v0.11Round-RobinNi = (i + 1) mod n</p>\n<p><em></em></p>\n<ul>\n<li><br><br><br><br><img src=\"/nodejs/images/loop.png\" alt=\"\"></li>\n<li><br><br><img src=\"/nodejs/images/loop-1.png\" alt=\"\"><br>TCPUDP</li>\n</ul>\n<h6 id=\"Cluster-\"><a href=\"#Cluster-\" class=\"headerlink\" title=\"Cluster \"></a>Cluster </h6><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// cluster.js </span><br><span class=\"line\">var cluster = require(&#x27;cluster&#x27;); </span><br><span class=\"line\">cluster.setupMaster(&#123; </span><br><span class=\"line\"> exec: &quot;worker.js&quot; </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">var cpus = require(&#x27;os&#x27;).cpus(); </span><br><span class=\"line\">for (var i = 0; i &lt; cpus.length; i++) &#123; </span><br><span class=\"line\"> cluster.fork(); </span><br><span class=\"line\">&#125; </span><br><span class=\"line\"></span><br><span class=\"line\">var cluster = require(&#x27;cluster&#x27;); </span><br><span class=\"line\">var http = require(&#x27;http&#x27;); </span><br><span class=\"line\">var numCPUs = require(&#x27;os&#x27;).cpus().length; </span><br><span class=\"line\">if (cluster.isMaster) &#123; </span><br><span class=\"line\"> // Fork workers </span><br><span class=\"line\"> for (var i = 0; i &lt; numCPUs; i++) &#123; </span><br><span class=\"line\"> cluster.fork(); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> cluster.on(&#x27;exit&#x27;, function(worker, code, signal) &#123; </span><br><span class=\"line\"> console.log(&#x27;worker &#x27; + worker.process.pid + &#x27; died&#x27;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125; else &#123; </span><br><span class=\"line\"> // Workers can share any TCP connection </span><br><span class=\"line\"> // In this case its a HTTP server </span><br><span class=\"line\"> http.createServer(function(req, res) &#123; </span><br><span class=\"line\"> res.writeHead(200); </span><br><span class=\"line\"> res.end(&quot;hello world\\n&quot;); </span><br><span class=\"line\"> &#125;).listen(8000); </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>NODE_UNIQUE_ID</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cluster.isWorker = (&#x27;NODE_UNIQUE_ID&#x27; in process.env); </span><br><span class=\"line\">cluster.isMaster = (cluster.isWorker === false); </span><br></pre></td></tr></table></figure>\n<p>cluster.isMastercluster.isWorkercluster.setupMaster()API</p>\n<p>cluster.setupMaster()cluster.fork()</p>\n<p><em>Cluster </em><br>clusterchild_processnet</p>\n<p><em>Cluster </em></p>\n<ul>\n<li>fork</li>\n<li>onlineonline</li>\n<li>listeninglisten()Socketlistening</li>\n<li>disconnectIPC</li>\n<li>exit</li>\n<li>setupcluster.setupMaster()</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"Web\"><a href=\"#Web\" class=\"headerlink\" title=\"Web\"></a>Web</h4><h6 id=\"cookie\"><a href=\"#cookie\" class=\"headerlink\" title=\"cookie\"></a>cookie</h6><p>CookieSet-Cookie<br>Set-Cookie: name=value; Path=/; Expires=Sun, 23-Apr-23 09:01:35 GMT; Domain=.domain.com;<br>name=valueCookie:</p>\n<ul>\n<li>pathCookieCookie</li>\n<li>ExpiresMax-AgeCookieCookieCookieExpiresUTCCookieMax-AgeCookieMax-AgeCookie</li>\n<li>HttpOnlydocument.cookieCookieHttpOnlydocument.cookieHTTPCookie</li>\n<li>SecureSecuretrueHTTPHTTPSCookieHTTPSHTTP</li>\n</ul>\n<p>YSlow:</p>\n<ul>\n<li>Cookie</li>\n<li></li>\n<li>DNS</li>\n</ul>\n<h6 id=\"Session\"><a href=\"#Session\" class=\"headerlink\" title=\"Session\"></a>Session</h6><p>Session</p>\n<p>:</p>\n<ul>\n<li>Cookie<br>SessionSessionConnectconnect_uidTomcatjsessionidCookie<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var sessions = &#123;&#125;; </span><br><span class=\"line\">var key = &#x27;session_id&#x27;; </span><br><span class=\"line\">var EXPIRES = 20 * 60 * 1000; </span><br><span class=\"line\">var generate = function () &#123; </span><br><span class=\"line\"> var session = &#123;&#125;; </span><br><span class=\"line\"> session.id = (new Date()).getTime() + Math.random(); </span><br><span class=\"line\"> session.cookie = &#123; </span><br><span class=\"line\"> expire: (new Date()).getTime() + EXPIRES </span><br><span class=\"line\"> &#125;; </span><br><span class=\"line\"> sessions[session.id] = session; </span><br><span class=\"line\"> return session; </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure></li>\n<li></li>\n</ul>\n<p>:</p>\n<ul>\n<li>Node</li>\n<li></li>\n<li>Node</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<ul>\n<li>Expires Cache-Control </li>\n<li> ETags</li>\n<li>Ajax </li>\n</ul>\n<p><img src=\"/nodejs/images/cache.png\" alt=\"\"></p>\n<p>:</p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p>ETagEntity Tag<br>ETagIf-None-Match/ETag</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var handle = function (req, res) &#123; </span><br><span class=\"line\"> fs.readFile(filename, function(err, file) &#123; </span><br><span class=\"line\"> var hash = getHash(file); </span><br><span class=\"line\"> var noneMatch = req.headers[&#x27;if-none-match&#x27;]; </span><br><span class=\"line\"> if (hash === noneMatch) &#123; </span><br><span class=\"line\"> res.writeHead(304, &quot;Not Modified&quot;); </span><br><span class=\"line\"> res.end(); </span><br><span class=\"line\"> &#125; else &#123; </span><br><span class=\"line\"> res.setHeader(&quot;ETag&quot;, hash); </span><br><span class=\"line\"> res.writeHead(200, &quot;Ok&quot;); </span><br><span class=\"line\"> res.end(file); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n\n<p>HTTP1.0Expires:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var handle = function (req, res) &#123; </span><br><span class=\"line\"> fs.readFile(filename, function(err, file) &#123; </span><br><span class=\"line\"> var expires = new Date(); </span><br><span class=\"line\"> expires.setTime(expires.getTime() + 10 * 365 * 24 * 60 * 60 * 1000); </span><br><span class=\"line\"> res.setHeader(&quot;Expires&quot;, expires.toUTCString()); </span><br><span class=\"line\"> res.writeHead(200, &quot;Ok&quot;); </span><br><span class=\"line\"> res.end(file); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n<p>ExpiresGMT</p>\n<p>ExpiresCache-Control</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var handle = function (req, res) &#123; </span><br><span class=\"line\"> fs.readFile(filename, function(err, file) &#123; </span><br><span class=\"line\"> res.setHeader(&quot;Cache-Control&quot;, &quot;max-age=&quot; + 10 * 365 * 24 * 60 * 60 * 1000); </span><br><span class=\"line\"> res.writeHead(200, &quot;Ok&quot;); </span><br><span class=\"line\"> res.end(file); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>Cache-ControlCache-Controlpublicprivateno-cacheno-store</p>\n<p>HTTP1.0max-ageExpiresCache-Controlmax-ageExpires</p>\n<p>:</p>\n<ul>\n<li>Web<a href=\"http://url.com/?v=20130501%E3%80%82\">http://url.com/?v=20130501</a></li>\n<li>hash<a href=\"http://url.com/?hash=afadfadwe\">http://url.com/?hash=afadfadwe</a></li>\n</ul>\n<h6 id=\"Basic\"><a href=\"#Basic\" class=\"headerlink\" title=\"Basic\"></a>Basic</h6><p>HTTPSBasic</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>POST<br>Transfer-EncodingContent-Length</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var hasBody = function(req) &#123; </span><br><span class=\"line\"> return &#x27;transfer-encoding&#x27; in req.headers || &#x27;content-length&#x27; in req.headers; </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n<p>HTTP_Parserdata</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function (req, res) &#123; </span><br><span class=\"line\"> if (hasBody(req)) &#123; </span><br><span class=\"line\"> var buffers = []; </span><br><span class=\"line\"> req.on(&#x27;data&#x27;, function (chunk) &#123; </span><br><span class=\"line\"> buffers.push(chunk); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> req.on(&#x27;end&#x27;, function () &#123; </span><br><span class=\"line\"> req.rawBody = Buffer.concat(buffers).toString(); </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125; else &#123; </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125; </span><br></pre></td></tr></table></figure>\n<p>BufferBufferreq.rawBody</p>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var handle = function (req, res) &#123; </span><br><span class=\"line\"> if (req.headers[&#x27;content-type&#x27;] === &#x27;application/x-www-form-urlencoded&#x27;) &#123; </span><br><span class=\"line\"> req.body = querystring.parse(req.rawBody); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> todo(req, res); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">var mime = function (req) &#123; </span><br><span class=\"line\"> var str = req.headers[&#x27;content-type&#x27;] || &#x27;&#x27;; </span><br><span class=\"line\"> return str.split(&#x27;;&#x27;)[0]; </span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">var handle = function (req, res) &#123; </span><br><span class=\"line\"> if (mime(req) === &#x27;application/json&#x27;) &#123; </span><br><span class=\"line\"> try &#123; </span><br><span class=\"line\"> req.body = JSON.parse(req.rawBody); </span><br><span class=\"line\"> &#125; catch (e) &#123; </span><br><span class=\"line\"> // Bad request </span><br><span class=\"line\"> res.writeHead(400); </span><br><span class=\"line\"> res.end(&#x27;Invalid JSON&#x27;); </span><br><span class=\"line\"> return; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> todo(req, res); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n\n<p>XMLXMLJSONxml2js</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var xml2js = require(&#x27;xml2js&#x27;); </span><br><span class=\"line\">var handle = function (req, res) &#123; </span><br><span class=\"line\"> if (mime(req) === &#x27;application/xml&#x27;) &#123; </span><br><span class=\"line\"> xml2js.parseString(req.rawBody, function (err, xml) &#123; </span><br><span class=\"line\"> if (err) &#123; </span><br><span class=\"line\"> // Bad request </span><br><span class=\"line\"> res.writeHead(400); </span><br><span class=\"line\"> res.end(&#x27;Invalid XML&#x27;); </span><br><span class=\"line\"> return; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> req.body = xml; </span><br><span class=\"line\"> todo(req, res); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><em></em></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function (req, res) &#123; </span><br><span class=\"line\"> if (hasBody(req)) &#123; </span><br><span class=\"line\"> var done = function () &#123; </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\"> &#125;; </span><br><span class=\"line\"> if (mime(req) === &#x27;application/json&#x27;) &#123; </span><br><span class=\"line\"> parseJSON(req, done); </span><br><span class=\"line\"> &#125; else if (mime(req) === &#x27;application/xml&#x27;) &#123; </span><br><span class=\"line\"> parseXML(req, done); </span><br><span class=\"line\"> &#125; else if (mime(req) === &#x27;multipart/form-data&#x27;) &#123; </span><br><span class=\"line\"> parseMultipart(req, done); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; else &#123; </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125; </span><br></pre></td></tr></table></figure>\n\n<p>formidable</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var formidable = require(&#x27;formidable&#x27;); </span><br><span class=\"line\">function (req, res) &#123; </span><br><span class=\"line\"> if (hasBody(req)) &#123; </span><br><span class=\"line\"> if (mime(req) === &#x27;multipart/form-data&#x27;) &#123; </span><br><span class=\"line\"> var form = new formidable.IncomingForm(); </span><br><span class=\"line\"> form.parse(req, function(err, fields, files) &#123; </span><br><span class=\"line\"> req.body = fields; </span><br><span class=\"line\"> req.files = files; </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; else &#123; </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125; </span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><br></p>\n<ul>\n<li>400</li>\n<li>Node</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var bytes = 1024; </span><br><span class=\"line\">function (req, res) &#123; </span><br><span class=\"line\"> var received = 0, </span><br><span class=\"line\"> var len = req.headers[&#x27;content-length&#x27;] ? parseInt(req.headers[&#x27;content-length&#x27;], 10) : null; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> if (len &amp;&amp; len &gt; bytes) &#123; </span><br><span class=\"line\"> res.writeHead(413); </span><br><span class=\"line\"> res.end(); </span><br><span class=\"line\"> return; </span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">  // limit </span><br><span class=\"line\"> req.on(&#x27;data&#x27;, function (chunk) &#123; </span><br><span class=\"line\"> received += chunk.length; </span><br><span class=\"line\"> if (received &gt; bytes) &#123; </span><br><span class=\"line\"> // end() </span><br><span class=\"line\"> req.destroy(); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> handle(req, res); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n\n<p>CSRF<br>CSRFCross-Site Request Forgery</p>\n<p>CSRF</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var generateRandom = function(len) &#123; </span><br><span class=\"line\"> return crypto.randomBytes(Math.ceil(len * 3 / 4)) </span><br><span class=\"line\"> .toString(&#x27;base64&#x27;) </span><br><span class=\"line\"> .slice(0, len); </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p>MVC<br>MVC</p>\n<ul>\n<li>Controller</li>\n<li>Model</li>\n<li>View</li>\n</ul>\n<p><img src=\"/nodejs/images/mvc.png\" alt=\"MVC\"><br></p>\n<ul>\n<li>URL</li>\n<li></li>\n<li></li>\n</ul>\n<p>URL<br><br><br>URL</p>\n<p>URL</p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p>PHPMVCCodeIgniterNodeURL</p>\n<p><em>RESTful</em><br>RESTRepresentational State TransferRESTRESTfulURL</p>\n<p>RESTfulMVCMVCRESTfulHTTPURL</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><img src=\"/nodejs/images/middle.png\" alt=\"\"></p>\n<p><em></em></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var handle = function (req, res, stack) &#123; </span><br><span class=\"line\"> var next = function (err) &#123; </span><br><span class=\"line\"> if (err) &#123; </span><br><span class=\"line\"> return handle500(err, req, res, stack); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> // stack</span><br><span class=\"line\"> var middleware = stack.shift(); </span><br><span class=\"line\"> if (middleware) &#123; </span><br><span class=\"line\"> // next()</span><br><span class=\"line\"> try &#123; </span><br><span class=\"line\"> middleware(req, res, next); </span><br><span class=\"line\"> &#125; catch (ex) &#123; </span><br><span class=\"line\"> next(err); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125;; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> next(); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n\n<p><em></em><br></p>\n<ul>\n<li>jsperf.com</li>\n<li></li>\n<li>HTTPGET</li>\n</ul>\n<p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em></p>\n<ul>\n<li>MIME: Content-TypeMIME<br>MIMEMultipurpose Internet Mail ExtensionsMIMEJSONapplication/jsonXMLapplication/xmlPDFapplication/pdf<br>MIMEmime<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var mime = require(&#x27;mime&#x27;); </span><br><span class=\"line\">mime.lookup(&#x27;/path/to/file.txt&#x27;); // =&gt; &#x27;text/plain&#x27; </span><br><span class=\"line\">mime.lookup(&#x27;file.txt&#x27;); // =&gt; &#x27;text/plain&#x27; </span><br><span class=\"line\">mime.lookup(&#x27;.TXT&#x27;); // =&gt; &#x27;text/plain&#x27; </span><br><span class=\"line\">mime.lookup(&#x27;htm&#x27;); // =&gt; &#x27;text/html&#x27; </span><br></pre></td></tr></table></figure>\nMIMEContent-Type<br>Content-Type: text/javascript; charset=utf-8 </li>\n<li><br>Content-DispositioninlineattachmentContent-Disposition</li>\n<li>JSON</li>\n<li></li>\n</ul>\n<p><em></em><br></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var cache = &#123;&#125;; </span><br><span class=\"line\">var VIEW_FOLDER = &#x27;/path/to/wwwroot/views&#x27;; </span><br><span class=\"line\">res.render = function (viewname, data) &#123; </span><br><span class=\"line\"> if (!cache[viewname]) &#123; </span><br><span class=\"line\"> var text; </span><br><span class=\"line\"> try &#123; </span><br><span class=\"line\"> text = fs.readFileSync(path.join(VIEW_FOLDER, viewname), &#x27;utf8&#x27;); </span><br><span class=\"line\"> &#125; catch (e) &#123; </span><br><span class=\"line\">  res.writeHead(500, &#123;&#x27;Content-Type&#x27;: &#x27;text/html&#x27;&#125;); </span><br><span class=\"line\"> res.end(&#x27;&#x27;); </span><br><span class=\"line\"> return; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> cache[viewname] = complie(text); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> var complied = cache[viewname]; </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/html&#x27;&#125;); </span><br><span class=\"line\"> var html = complied(data); </span><br><span class=\"line\"> res.end(html); </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Bigpipe</strong><br>Bigpipepagelet</p>\n<p>Bigpipe</p>\n<ul>\n<li></li>\n<li></li>\n<li><br><img src=\"/nodejs/images/bigpipe.png\" alt=\"bigpipe\"><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var cache = &#123;&#125;; </span><br><span class=\"line\">var layout = &#x27;layout.html&#x27;; </span><br><span class=\"line\">app.get(&#x27;/profile&#x27;, function (req, res) &#123; </span><br><span class=\"line\"> if (!cache[layout]) &#123; </span><br><span class=\"line\"> cache[layout] = fs.readFileSync(path.join(VIEW_FOLDER, layout), &#x27;utf8&#x27;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/html&#x27;&#125;); </span><br><span class=\"line\"> res.write(render(complie(cache[layout]))); </span><br><span class=\"line\"> // TODO </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">app.get(&#x27;/profile&#x27;, function (req, res) &#123; </span><br><span class=\"line\"> if (!cache[layout]) &#123; </span><br><span class=\"line\"> cache[layout] = fs.readFileSync(path.join(VIEW_FOLDER, layout), &#x27;utf8&#x27;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/html&#x27;&#125;); </span><br><span class=\"line\"> res.write(render(complie(cache[layout]))); </span><br><span class=\"line\"> ep.all(&#x27;users&#x27;, &#x27;articles&#x27;, function () &#123; </span><br><span class=\"line\"> res.end(); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> ep.fail(function (err) &#123; </span><br><span class=\"line\"> res.end(); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> db.getData(&#x27;sql1&#x27;, function (err, data) &#123; </span><br><span class=\"line\"> data = err ? &#123;&#125; : data; </span><br><span class=\"line\"> res.write(&#x27;&lt;script&gt;bigpipe.set(&quot;articles&quot;, &#x27; + JSON.stringify(data) + &#x27;);&lt;/script&gt;&#x27;; </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> db.getData(&#x27;sql2&#x27;, function (err, data) &#123; </span><br><span class=\"line\"> data = err ? &#123;&#125; : data; </span><br><span class=\"line\"> res.write(&#x27;&lt;script&gt;bigpipe.set(&quot;copyright&quot;, &#x27; + JSON.stringify(data) + &#x27;);&lt;/script&gt;&#x27;; </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">var Bigpipe = function () &#123; </span><br><span class=\"line\"> this.callbacks = &#123;&#125;; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">Bigpipe.prototype.ready = function (key, callback) &#123; </span><br><span class=\"line\"> if (!this.callbacks[key]) &#123; </span><br><span class=\"line\"> this.callbacks[key] = []; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> this.callbacks[key].push(callback); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">Bigpipe.prototype.set = function (key, data) &#123; </span><br><span class=\"line\"> var callbacks = this.callbacks[key] || []; </span><br><span class=\"line\"> for (var i = 0; i &lt; callbacks.length; i++) &#123; </span><br><span class=\"line\"> callbacks[i].call(this, data); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\nBigpipe</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br><br>NQPS1/N</p>\n<p><em></em><br>100100<br>prefork<br>MQPSM/N</p>\n<p><em></em><br>CPUCPUCPU<br>1/LQPSM * L/N</p>\n<p><em></em><br>CPU</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>CPUCPUNodechild_processchild_process.fork()</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// worker.js</span><br><span class=\"line\">var http = require(&#x27;http&#x27;); </span><br><span class=\"line\">http.createServer(function (req, res) &#123; </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/plain&#x27;&#125;); </span><br><span class=\"line\"> res.end(&#x27;Hello World\\n&#x27;); </span><br><span class=\"line\">&#125;).listen(Math.round((1 + Math.random()) * 1000), &#x27;127.0.0.1&#x27;); </span><br><span class=\"line\"></span><br><span class=\"line\">var fork = require(&#x27;child_process&#x27;).fork; </span><br><span class=\"line\">var cpus = require(&#x27;os&#x27;).cpus(); </span><br><span class=\"line\">for (var i = 0; i &lt; cpus.length; i++) &#123; </span><br><span class=\"line\"> fork(&#x27;./worker.js&#x27;); </span><br><span class=\"line\">&#125; </span><br></pre></td></tr></table></figure>\n<p><img src=\"/nodejs/images/master-slave.png\" alt=\"\"><br>Master-Worker</p>\n<p><em>fork()V83010 MBNodefork()CPUfork()</em></p>\n<p><em></em><br>child_processNodechild_process4</p>\n<ul>\n<li>spawn()</li>\n<li>exec()spawn()<br></li>\n<li>execFile()</li>\n<li>fork()spawn()NodeJavaScript<br><br>spawn()exec()execFile()timeout<br>exec()execFile()exec()execFile()</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var cp = require(&#x27;child_process&#x27;); </span><br><span class=\"line\">cp.spawn(&#x27;node&#x27;, [&#x27;worker.js&#x27;]); </span><br><span class=\"line\">cp.exec(&#x27;node worker.js&#x27;, function (err, stdout, stderr) &#123; </span><br><span class=\"line\"> // some code </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">cp.execFile(&#x27;worker.js&#x27;, function (err, stdout, stderr) &#123; </span><br><span class=\"line\"> // some code </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">cp.fork(&#x27;./worker.js&#x27;);</span><br></pre></td></tr></table></figure>\n<p><img src=\"/nodejs/images/fork.png\" alt=\"fork\"></p>\n<p><em></em><br>fork()APIIPCIPCmessagesend()</p>\n<ul>\n<li><br>IPCInter-Process CommunicationsocketDomain SocketNodeIPCpipe<br><img src=\"/nodejs/images/pipe.png\" alt=\"pipe\"><br>IPCNODE_CHANNEL_FDIPCIPC<br><img src=\"/nodejs/images/pipe-1.png\" alt=\"pipe\"></li>\n</ul>\n<p><em></em><br></p>\n<p>child.send(message, [sendHandle])<br>socketsocketUDP</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var child = require(&#x27;child_process&#x27;).fork(&#x27;child.js&#x27;); </span><br><span class=\"line\">// Open up the server object and send the handle </span><br><span class=\"line\">var server = require(&#x27;net&#x27;).createServer(); </span><br><span class=\"line\">server.on(&#x27;connection&#x27;, function (socket) &#123; </span><br><span class=\"line\"> socket.end(&#x27;handled by parent\\n&#x27;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">server.listen(1337, function () &#123; </span><br><span class=\"line\"> child.send(&#x27;server&#x27;, server); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br><span class=\"line\">process.on(&#x27;message&#x27;, function (m, server) &#123; </span><br><span class=\"line\"> if (m === &#x27;server&#x27;) &#123; </span><br><span class=\"line\"> server.on(&#x27;connection&#x27;, function (socket) &#123; </span><br><span class=\"line\"> socket.end(&#x27;handled by child\\n&#x27;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p><img src=\"/nodejs/images/pipe-2.png\" alt=\"pipe\"><br><br><img src=\"/nodejs/images/pipe-3.png\" alt=\"pipe\"></p>\n<p><br>send()</p>\n<ul>\n<li>net.SocketTCP</li>\n<li>net.ServerTCPTCP</li>\n<li>net.NativeC++TCPIPC</li>\n<li>dgram.SocketUDP</li>\n<li>dgram.NativeC++UDP<br>send()IPChandlemessagemessage<br>{<br>cmd: NODE_HANDLE,<br>type: net.Server,<br>msg: message<br>} </li>\n</ul>\n<p>IPCJSON.parse()messagemessage.cmdNODE_internalMessagemessage.cmdNODE_HANDLEmessage.type<br><img src=\"/nodejs/images/pipe-4.png\" alt=\"pipe\"></p>\n<p>Node</p>\n<p><br></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br>messageNode</p>\n<ul>\n<li>error</li>\n<li>exitnullkill()</li>\n<li>closeexit</li>\n<li>disconnectdisconnect()IPC</li>\n</ul>\n<p>kill -l</p>\n<p><em></em></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// master.js </span><br><span class=\"line\">var fork = require(&#x27;child_process&#x27;).fork; </span><br><span class=\"line\">var cpus = require(&#x27;os&#x27;).cpus(); </span><br><span class=\"line\">var server = require(&#x27;net&#x27;).createServer(); </span><br><span class=\"line\">server.listen(1337); </span><br><span class=\"line\">var workers = &#123;&#125;; </span><br><span class=\"line\">var createWorker = function () &#123; </span><br><span class=\"line\"> var worker = fork(__dirname + &#x27;/worker.js&#x27;); </span><br><span class=\"line\"> // </span><br><span class=\"line\"> worker.on(&#x27;exit&#x27;, function () &#123; </span><br><span class=\"line\"> console.log(&#x27;Worker &#x27; + worker.pid + &#x27; exited.&#x27;); </span><br><span class=\"line\"> delete workers[worker.pid]; </span><br><span class=\"line\"> createWorker(); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> // </span><br><span class=\"line\"> worker.send(&#x27;server&#x27;, server); </span><br><span class=\"line\"> workers[worker.pid] = worker; </span><br><span class=\"line\"> console.log(&#x27;Create worker. pid: &#x27; + worker.pid); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">for (var i = 0; i &lt; cpus.length; i++) &#123; </span><br><span class=\"line\"> createWorker(); </span><br><span class=\"line\">&#125; </span><br><span class=\"line\">// </span><br><span class=\"line\">process.on(&#x27;exit&#x27;, function () &#123; </span><br><span class=\"line\"> for (var pid in workers) &#123; </span><br><span class=\"line\"> workers[pid].kill(); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">// worker.js </span><br><span class=\"line\">var http = require(&#x27;http&#x27;); </span><br><span class=\"line\">var server = http.createServer(function (req, res) &#123; </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/plain&#x27;&#125;); </span><br><span class=\"line\"> res.end(&#x27;handled by child, pid is &#x27; + process.pid + &#x27;\\n&#x27;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">var worker; </span><br><span class=\"line\">process.on(&#x27;message&#x27;, function (m, tcp) &#123; </span><br><span class=\"line\"> if (m === &#x27;server&#x27;) &#123; </span><br><span class=\"line\"> worker = tcp; </span><br><span class=\"line\"> worker.on(&#x27;connection&#x27;, function (socket) &#123; </span><br><span class=\"line\">  server.emit(&#x27;connection&#x27;, socket); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">process.on(&#x27;uncaughtException&#x27;, function () &#123; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> worker.close(function () &#123; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> process.exit(1); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\n<p><em></em></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// </span><br><span class=\"line\">var limit = 10; </span><br><span class=\"line\">// </span><br><span class=\"line\">var during = 60000; </span><br><span class=\"line\">var restart = []; </span><br><span class=\"line\">var isTooFrequently = function () &#123; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> var time = Date.now(); </span><br><span class=\"line\"> var length = restart.push(time); </span><br><span class=\"line\"> if (length &gt; limit) &#123; </span><br><span class=\"line\"> // 10</span><br><span class=\"line\"> restart = restart.slice(limit * -1); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> // 10</span><br><span class=\"line\"> return restart.length &gt;= limit &amp;&amp; restart[restart.length - 1] - restart[0] &lt; during; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">var workers = &#123;&#125;; </span><br><span class=\"line\">var createWorker = function () &#123; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> if (isTooFrequently()) &#123; </span><br><span class=\"line\"> // giveup</span><br><span class=\"line\"> process.emit(&#x27;giveup&#x27;, length, during); </span><br><span class=\"line\"> return; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> var worker = fork(__dirname + &#x27;/worker.js&#x27;); </span><br><span class=\"line\"> worker.on(&#x27;exit&#x27;, function () &#123; </span><br><span class=\"line\"> console.log(&#x27;Worker &#x27; + worker.pid + &#x27; exited.&#x27;); </span><br><span class=\"line\"> delete workers[worker.pid]; </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> // </span><br><span class=\"line\"> worker.on(&#x27;message&#x27;, function (message) &#123; </span><br><span class=\"line\"> if (message.act === &#x27;suicide&#x27;) &#123; </span><br><span class=\"line\"> createWorker(); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> // </span><br><span class=\"line\"> worker.send(&#x27;server&#x27;, server); </span><br><span class=\"line\"> workers[worker.pid] = worker; </span><br><span class=\"line\"> console.log(&#x27;Create worker. pid: &#x27; + worker.pid); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n\n<p><em></em><br>CPU,</p>\n<p>Node</p>\n<p>NodeCPUI/OCPUI/OCPU</p>\n<p>  Node v0.11Round-RobinNi = (i + 1) mod n</p>\n<p><em></em></p>\n<ul>\n<li><br><br><br><br><img src=\"/nodejs/images/loop.png\" alt=\"\"></li>\n<li><br><br><img src=\"/nodejs/images/loop-1.png\" alt=\"\"><br>TCPUDP</li>\n</ul>\n<h6 id=\"Cluster-\"><a href=\"#Cluster-\" class=\"headerlink\" title=\"Cluster \"></a>Cluster </h6><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// cluster.js </span><br><span class=\"line\">var cluster = require(&#x27;cluster&#x27;); </span><br><span class=\"line\">cluster.setupMaster(&#123; </span><br><span class=\"line\"> exec: &quot;worker.js&quot; </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">var cpus = require(&#x27;os&#x27;).cpus(); </span><br><span class=\"line\">for (var i = 0; i &lt; cpus.length; i++) &#123; </span><br><span class=\"line\"> cluster.fork(); </span><br><span class=\"line\">&#125; </span><br><span class=\"line\"></span><br><span class=\"line\">var cluster = require(&#x27;cluster&#x27;); </span><br><span class=\"line\">var http = require(&#x27;http&#x27;); </span><br><span class=\"line\">var numCPUs = require(&#x27;os&#x27;).cpus().length; </span><br><span class=\"line\">if (cluster.isMaster) &#123; </span><br><span class=\"line\"> // Fork workers </span><br><span class=\"line\"> for (var i = 0; i &lt; numCPUs; i++) &#123; </span><br><span class=\"line\"> cluster.fork(); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> cluster.on(&#x27;exit&#x27;, function(worker, code, signal) &#123; </span><br><span class=\"line\"> console.log(&#x27;worker &#x27; + worker.process.pid + &#x27; died&#x27;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125; else &#123; </span><br><span class=\"line\"> // Workers can share any TCP connection </span><br><span class=\"line\"> // In this case its a HTTP server </span><br><span class=\"line\"> http.createServer(function(req, res) &#123; </span><br><span class=\"line\"> res.writeHead(200); </span><br><span class=\"line\"> res.end(&quot;hello world\\n&quot;); </span><br><span class=\"line\"> &#125;).listen(8000); </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>NODE_UNIQUE_ID</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cluster.isWorker = (&#x27;NODE_UNIQUE_ID&#x27; in process.env); </span><br><span class=\"line\">cluster.isMaster = (cluster.isWorker === false); </span><br></pre></td></tr></table></figure>\n<p>cluster.isMastercluster.isWorkercluster.setupMaster()API</p>\n<p>cluster.setupMaster()cluster.fork()</p>\n<p><em>Cluster </em><br>clusterchild_processnet</p>\n<p><em>Cluster </em></p>\n<ul>\n<li>fork</li>\n<li>onlineonline</li>\n<li>listeninglisten()Socketlistening</li>\n<li>disconnectIPC</li>\n<li>exit</li>\n<li>setupcluster.setupMaster()</li>\n</ul>\n"},{"title":"nodejs(2)","date":"2022-10-19T11:12:12.000Z","tags":["node","assert","asyncHooks"],"_content":"\n#### nodejs\n\n###### assert-\n**\n\n*assert.deepEqual(a, b[, message])*\n == \n\n\n*assert.deepStrictEqual(a, b[, message])*\nassert.deepEqual === \n\n*assert.doesNotThrow(block[, error][, message])*\nblockerrorAssertionError\n\n*assert.equal(actual, expected[, message])*\n == actualexpected\n\n*assert.fail(message)*\n*assert.fail(actual, expected[, message[, operator[, stackStartFunction]]])*\nAssertionError message  actual  + operator  + expected   actual  expected  operator  '!='  message   stackStartFunction \n\n*assert.ifError(value)*\nvaluevaluevalue\n\n*assert.notDeepEqual(actual, expected[, message])*\nassert.deepEqual()\n\n*assert.notDeepStrictEqual(actual, expected[, message])*\nassert.deepStrictEqual()\n\n*assert.notEqual(actual, expected[, message])*\n != \n\n*assert.notStrictEqual(actual, expected[, message])*\n!==\n\n*assert.ok(value[, message])*\n value   assert.equal(!!value, true, message)\n\n\n###### (Async Hooks)\nError handling()\n--abort on uncaught\n**If any AsyncHook callbacks throw, the application will print the stack trace and exit. The exit path does follow that of an uncaught exception, but all 'uncaughtException' listeners are removed, thus forcing the process to exit. The 'exit' callbacks will still be called unless the application is run with --abort-on-uncaught-exception, in which case a stack trace will be printed and the application exits, leaving a core file.**\n\nPrinting in AsyncHook callbacks()\n console.log\n fs.writeSync(1, msg).\n```javascript\nconst fs = require('fs');\nconst util = require('util');\n\nfunction debug(...args) {\n  // use a function like this one when debugging inside an AsyncHooks callback\n  fs.writeSync(1, `${util.format(...args)}\\n`);\n}\n```\n**Because printing to the console is an asynchronous operation, console.log() will cause AsyncHook callbacks to be called. Using console.log() or similar asynchronous operations inside an AsyncHook callback function will cause an infinite recursion. An easy solution to this when debugging is to use a synchronous logging operation such as fs.writeFileSync(file, msg, flag). This will print to the file and will not invoke AsyncHook recursively because it is synchronous.**\n\n*asyncHook.enable()*\n\n\n*asyncHook.disable()*\n\n\n*init(asyncId, type, triggerAsyncId, resource)*\nasyncId: number\ntype: string\ntriggerAsyncId: numberID\nresource: object\n\n\n```javascript\nrequire('net').createServer().listen(function() { this.close(); });\n// OR\nclearTimeout(setTimeout(() => {}, 10));\n```\nID\n\n*type*\n```\nFSEVENTWRAP, FSREQWRAP, GETADDRINFOREQWRAP, GETNAMEINFOREQWRAP, HTTPPARSER,\nJSSTREAM, PIPECONNECTWRAP, PIPEWRAP, PROCESSWRAP, QUERYWRAP, SHUTDOWNWRAP,\nSIGNALWRAP, STATWATCHER, TCPCONNECTWRAP, TCPSERVER, TCPWRAP, TIMERWRAP, TTYWRAP,\nUDPSENDWRAP, UDPWRAP, WRITEWRAP, ZLIB, SSLCONNECTION, PBKDF2REQUEST,\nRANDOMBYTESREQUEST, TLSWRAP, Timeout, Immediate, TickObject, PROMISE\n```\ntypetype package name\n\n*triggerAsyncId*\ninittriggerAsyncId\n```javascript\nasync_hooks.createHook({\n  init(asyncId, type, triggerAsyncId) {\n    const eid = async_hooks.executionAsyncId();\n    fs.writeSync(\n      1, `${type}(${asyncId}): trigger: ${triggerAsyncId} execution: ${eid}\\n`);\n  }\n}).enable();\n\nrequire('net').createServer((conn) => {}).listen(8080);\n```\n\n*resource*\n\n\n```javascript\nlet indent = 0;\nasync_hooks.createHook({\n  init(asyncId, type, triggerAsyncId) {\n    const eid = async_hooks.executionAsyncId();\n    const indentStr = ' '.repeat(indent);\n    fs.writeSync(\n      1,\n      `${indentStr}${type}(${asyncId}):` +\n      ` trigger: ${triggerAsyncId} execution: ${eid}\\n`);\n  },\n  before(asyncId) {\n    const indentStr = ' '.repeat(indent);\n    fs.writeSync(1, `${indentStr}before:  ${asyncId}\\n`);\n    indent += 2;\n  },\n  after(asyncId) {\n    indent -= 2;\n    const indentStr = ' '.repeat(indent);\n    fs.writeSync(1, `${indentStr}after:   ${asyncId}\\n`);\n  },\n  destroy(asyncId) {\n    const indentStr = ' '.repeat(indent);\n    fs.writeSync(1, `${indentStr}destroy: ${asyncId}\\n`);\n  },\n}).enable();\n\nrequire('net').createServer(() => {}).listen(8080, () => {\n  // Let's wait 10ms before logging the server started.\n  setTimeout(() => {\n    console.log('>>>', async_hooks.executionAsyncId());\n  }, 10);\n});\n\n\n// \nTCPSERVERWRAP(2): trigger: 1 execution: 1\nTickObject(3): trigger: 2 execution: 1\nbefore:  3\n  Timeout(4): trigger: 3 execution: 3\n  TIMERWRAP(5): trigger: 3 execution: 3\nafter:   3\ndestroy: 3\nbefore:  5\n  before:  4\n    TTYWRAP(6): trigger: 4 execution: 4\n    SIGNALWRAP(7): trigger: 4 execution: 4\n    TTYWRAP(8): trigger: 4 execution: 4\n>>> 4\n    TickObject(9): trigger: 4 execution: 4\n  after:   4\nafter:   5\nbefore:  9\nafter:   9\ndestroy: 4\ndestroy: 9\ndestroy: 5\n```\n\n*before(asyncId)*\n TCP  before  asyncId \n\n*after(asyncId)*\n before \ncallbackafter'uncaughtException' \n\n*destroy(asyncId)*\nasyncId   API emitDestroy() \nresourceinitdestroy???\n\n*promiseResolve(asyncId)*\n Promise  resolve  promise \npromiseresolverejectpromisePromise\n\n*async_hooks.executionAsyncResource()*\nexecutionAsyncResource()  API  Node.js  \n\n*async_hooks.executionAsyncId()*\nasyncId\n```javascript\nconst async_hooks = require('async_hooks');\n\nconsole.log(async_hooks.executionAsyncId());  // 1 - bootstrap\nfs.open(path, 'r', (err, fd) => {\n  console.log(async_hooks.executionAsyncId());  // 6 - open()\n});\n```\nexecutionAsyncId()  ID  triggerAsyncId() \n```javascript\nconst server = net.createServer(function onConnection(conn) {\n  // Returns the ID of the server, not of the new connection, because the\n  // onConnection callback runs in the execution scope of the server's\n  // MakeCallback().\n  async_hooks.executionAsyncId();\n\n}).listen(port, function onListening() {\n  // Returns the ID of a TickObject (i.e. process.nextTick()) because all\n  // callbacks passed to .listen() are wrapped in a nextTick().\n  async_hooks.executionAsyncId();\n});\n```\n\n*async_hooks.triggerAsyncId()*\nId\npromise  triggerAsyncId\n```javascript\nconst server = net.createServer((conn) => {\n  // The resource that caused (or triggered) this callback to be called\n  // was that of the new connection. Thus the return value of triggerAsyncId()\n  // is the asyncId of \"conn\".\n  async_hooks.triggerAsyncId();\n\n}).listen(port, () => {\n  // Even though all callbacks passed to .listen() are wrapped in a nextTick()\n  // the callback itself exists because the call to the server's .listen()\n  // was made. So the return value would be the ID of the server.\n  async_hooks.triggerAsyncId();\n});\n```\n\n*async_hooks.asyncWrapProviders*\nidmapasync_hooks.init\n process.binding('async_wrap').Providers\n\n*Promise *\n V8  promise  API  promise  asyncId  promise  async/await  promise  id\n```javascript\nimport { executionAsyncId, triggerAsyncId } from 'node:async_hooks';\n\nPromise.resolve(1729).then(() => {\n  console.log(`eid ${executionAsyncId()} tid ${triggerAsyncId()}`);\n});\n// produces:\n// eid 1 tid 0\n```\n```javascript\nimport { createHook, executionAsyncId, triggerAsyncId } from 'node:async_hooks';\ncreateHook({ init() {} }).enable(); // forces PromiseHooks to be enabled.\nPromise.resolve(1729).then(() => {\n  console.log(`eid ${executionAsyncId()} tid ${triggerAsyncId()}`);\n});\n// produces:\n// eid 7 tid 6\n```\n\n###### AsyncResource\nAsyncResource\n```javascript\nimport { AsyncResource, executionAsyncId } from 'node:async_hooks';\n\n// AsyncResource() is meant to be extended. Instantiating a\n// new AsyncResource() also triggers init. If triggerAsyncId is omitted then\n// async_hook.executionAsyncId() is used.\nconst asyncResource = new AsyncResource(\n  type, { triggerAsyncId: executionAsyncId(), requireManualDestroy: false }\n);\n\n// Run a function in the execution context of the resource. This will\n// * establish the context of the resource\n// * trigger the AsyncHooks before callbacks\n// * call the provided function `fn` with the supplied arguments\n// * trigger the AsyncHooks after callbacks\n// * restore the original execution context\nasyncResource.runInAsyncScope(fn, thisArg, ...args);\n\n// Call AsyncHooks destroy callbacks.\nasyncResource.emitDestroy();\n\n// Return the unique ID assigned to the AsyncResource instance.\nasyncResource.asyncId();\n\n// Return the trigger ID for the AsyncResource instance.\nasyncResource.triggerAsyncId();\n```\n\n###### AsyncLocalStorage \n\n\n###### \nhttps://www.jianshu.com/p/4a568dac41ed","source":"nodejs/nodejs-note-6.md","raw":"---\ntitle: nodejs(2)\ndate: 2022-10-19 19:12:12\ntags: [node, assert, asyncHooks]\n---\n\n#### nodejs\n\n###### assert-\n**\n\n*assert.deepEqual(a, b[, message])*\n == \n\n\n*assert.deepStrictEqual(a, b[, message])*\nassert.deepEqual === \n\n*assert.doesNotThrow(block[, error][, message])*\nblockerrorAssertionError\n\n*assert.equal(actual, expected[, message])*\n == actualexpected\n\n*assert.fail(message)*\n*assert.fail(actual, expected[, message[, operator[, stackStartFunction]]])*\nAssertionError message  actual  + operator  + expected   actual  expected  operator  '!='  message   stackStartFunction \n\n*assert.ifError(value)*\nvaluevaluevalue\n\n*assert.notDeepEqual(actual, expected[, message])*\nassert.deepEqual()\n\n*assert.notDeepStrictEqual(actual, expected[, message])*\nassert.deepStrictEqual()\n\n*assert.notEqual(actual, expected[, message])*\n != \n\n*assert.notStrictEqual(actual, expected[, message])*\n!==\n\n*assert.ok(value[, message])*\n value   assert.equal(!!value, true, message)\n\n\n###### (Async Hooks)\nError handling()\n--abort on uncaught\n**If any AsyncHook callbacks throw, the application will print the stack trace and exit. The exit path does follow that of an uncaught exception, but all 'uncaughtException' listeners are removed, thus forcing the process to exit. The 'exit' callbacks will still be called unless the application is run with --abort-on-uncaught-exception, in which case a stack trace will be printed and the application exits, leaving a core file.**\n\nPrinting in AsyncHook callbacks()\n console.log\n fs.writeSync(1, msg).\n```javascript\nconst fs = require('fs');\nconst util = require('util');\n\nfunction debug(...args) {\n  // use a function like this one when debugging inside an AsyncHooks callback\n  fs.writeSync(1, `${util.format(...args)}\\n`);\n}\n```\n**Because printing to the console is an asynchronous operation, console.log() will cause AsyncHook callbacks to be called. Using console.log() or similar asynchronous operations inside an AsyncHook callback function will cause an infinite recursion. An easy solution to this when debugging is to use a synchronous logging operation such as fs.writeFileSync(file, msg, flag). This will print to the file and will not invoke AsyncHook recursively because it is synchronous.**\n\n*asyncHook.enable()*\n\n\n*asyncHook.disable()*\n\n\n*init(asyncId, type, triggerAsyncId, resource)*\nasyncId: number\ntype: string\ntriggerAsyncId: numberID\nresource: object\n\n\n```javascript\nrequire('net').createServer().listen(function() { this.close(); });\n// OR\nclearTimeout(setTimeout(() => {}, 10));\n```\nID\n\n*type*\n```\nFSEVENTWRAP, FSREQWRAP, GETADDRINFOREQWRAP, GETNAMEINFOREQWRAP, HTTPPARSER,\nJSSTREAM, PIPECONNECTWRAP, PIPEWRAP, PROCESSWRAP, QUERYWRAP, SHUTDOWNWRAP,\nSIGNALWRAP, STATWATCHER, TCPCONNECTWRAP, TCPSERVER, TCPWRAP, TIMERWRAP, TTYWRAP,\nUDPSENDWRAP, UDPWRAP, WRITEWRAP, ZLIB, SSLCONNECTION, PBKDF2REQUEST,\nRANDOMBYTESREQUEST, TLSWRAP, Timeout, Immediate, TickObject, PROMISE\n```\ntypetype package name\n\n*triggerAsyncId*\ninittriggerAsyncId\n```javascript\nasync_hooks.createHook({\n  init(asyncId, type, triggerAsyncId) {\n    const eid = async_hooks.executionAsyncId();\n    fs.writeSync(\n      1, `${type}(${asyncId}): trigger: ${triggerAsyncId} execution: ${eid}\\n`);\n  }\n}).enable();\n\nrequire('net').createServer((conn) => {}).listen(8080);\n```\n\n*resource*\n\n\n```javascript\nlet indent = 0;\nasync_hooks.createHook({\n  init(asyncId, type, triggerAsyncId) {\n    const eid = async_hooks.executionAsyncId();\n    const indentStr = ' '.repeat(indent);\n    fs.writeSync(\n      1,\n      `${indentStr}${type}(${asyncId}):` +\n      ` trigger: ${triggerAsyncId} execution: ${eid}\\n`);\n  },\n  before(asyncId) {\n    const indentStr = ' '.repeat(indent);\n    fs.writeSync(1, `${indentStr}before:  ${asyncId}\\n`);\n    indent += 2;\n  },\n  after(asyncId) {\n    indent -= 2;\n    const indentStr = ' '.repeat(indent);\n    fs.writeSync(1, `${indentStr}after:   ${asyncId}\\n`);\n  },\n  destroy(asyncId) {\n    const indentStr = ' '.repeat(indent);\n    fs.writeSync(1, `${indentStr}destroy: ${asyncId}\\n`);\n  },\n}).enable();\n\nrequire('net').createServer(() => {}).listen(8080, () => {\n  // Let's wait 10ms before logging the server started.\n  setTimeout(() => {\n    console.log('>>>', async_hooks.executionAsyncId());\n  }, 10);\n});\n\n\n// \nTCPSERVERWRAP(2): trigger: 1 execution: 1\nTickObject(3): trigger: 2 execution: 1\nbefore:  3\n  Timeout(4): trigger: 3 execution: 3\n  TIMERWRAP(5): trigger: 3 execution: 3\nafter:   3\ndestroy: 3\nbefore:  5\n  before:  4\n    TTYWRAP(6): trigger: 4 execution: 4\n    SIGNALWRAP(7): trigger: 4 execution: 4\n    TTYWRAP(8): trigger: 4 execution: 4\n>>> 4\n    TickObject(9): trigger: 4 execution: 4\n  after:   4\nafter:   5\nbefore:  9\nafter:   9\ndestroy: 4\ndestroy: 9\ndestroy: 5\n```\n\n*before(asyncId)*\n TCP  before  asyncId \n\n*after(asyncId)*\n before \ncallbackafter'uncaughtException' \n\n*destroy(asyncId)*\nasyncId   API emitDestroy() \nresourceinitdestroy???\n\n*promiseResolve(asyncId)*\n Promise  resolve  promise \npromiseresolverejectpromisePromise\n\n*async_hooks.executionAsyncResource()*\nexecutionAsyncResource()  API  Node.js  \n\n*async_hooks.executionAsyncId()*\nasyncId\n```javascript\nconst async_hooks = require('async_hooks');\n\nconsole.log(async_hooks.executionAsyncId());  // 1 - bootstrap\nfs.open(path, 'r', (err, fd) => {\n  console.log(async_hooks.executionAsyncId());  // 6 - open()\n});\n```\nexecutionAsyncId()  ID  triggerAsyncId() \n```javascript\nconst server = net.createServer(function onConnection(conn) {\n  // Returns the ID of the server, not of the new connection, because the\n  // onConnection callback runs in the execution scope of the server's\n  // MakeCallback().\n  async_hooks.executionAsyncId();\n\n}).listen(port, function onListening() {\n  // Returns the ID of a TickObject (i.e. process.nextTick()) because all\n  // callbacks passed to .listen() are wrapped in a nextTick().\n  async_hooks.executionAsyncId();\n});\n```\n\n*async_hooks.triggerAsyncId()*\nId\npromise  triggerAsyncId\n```javascript\nconst server = net.createServer((conn) => {\n  // The resource that caused (or triggered) this callback to be called\n  // was that of the new connection. Thus the return value of triggerAsyncId()\n  // is the asyncId of \"conn\".\n  async_hooks.triggerAsyncId();\n\n}).listen(port, () => {\n  // Even though all callbacks passed to .listen() are wrapped in a nextTick()\n  // the callback itself exists because the call to the server's .listen()\n  // was made. So the return value would be the ID of the server.\n  async_hooks.triggerAsyncId();\n});\n```\n\n*async_hooks.asyncWrapProviders*\nidmapasync_hooks.init\n process.binding('async_wrap').Providers\n\n*Promise *\n V8  promise  API  promise  asyncId  promise  async/await  promise  id\n```javascript\nimport { executionAsyncId, triggerAsyncId } from 'node:async_hooks';\n\nPromise.resolve(1729).then(() => {\n  console.log(`eid ${executionAsyncId()} tid ${triggerAsyncId()}`);\n});\n// produces:\n// eid 1 tid 0\n```\n```javascript\nimport { createHook, executionAsyncId, triggerAsyncId } from 'node:async_hooks';\ncreateHook({ init() {} }).enable(); // forces PromiseHooks to be enabled.\nPromise.resolve(1729).then(() => {\n  console.log(`eid ${executionAsyncId()} tid ${triggerAsyncId()}`);\n});\n// produces:\n// eid 7 tid 6\n```\n\n###### AsyncResource\nAsyncResource\n```javascript\nimport { AsyncResource, executionAsyncId } from 'node:async_hooks';\n\n// AsyncResource() is meant to be extended. Instantiating a\n// new AsyncResource() also triggers init. If triggerAsyncId is omitted then\n// async_hook.executionAsyncId() is used.\nconst asyncResource = new AsyncResource(\n  type, { triggerAsyncId: executionAsyncId(), requireManualDestroy: false }\n);\n\n// Run a function in the execution context of the resource. This will\n// * establish the context of the resource\n// * trigger the AsyncHooks before callbacks\n// * call the provided function `fn` with the supplied arguments\n// * trigger the AsyncHooks after callbacks\n// * restore the original execution context\nasyncResource.runInAsyncScope(fn, thisArg, ...args);\n\n// Call AsyncHooks destroy callbacks.\nasyncResource.emitDestroy();\n\n// Return the unique ID assigned to the AsyncResource instance.\nasyncResource.asyncId();\n\n// Return the trigger ID for the AsyncResource instance.\nasyncResource.triggerAsyncId();\n```\n\n###### AsyncLocalStorage \n\n\n###### \nhttps://www.jianshu.com/p/4a568dac41ed","updated":"2022-11-01T03:28:15.463Z","path":"nodejs/nodejs-note-6.html","comments":1,"layout":"page","_id":"clchh4gwv000ycktt2z1l1pot","content":"<h4 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h4><h6 id=\"assert-\"><a href=\"#assert-\" class=\"headerlink\" title=\"assert-\"></a>assert-</h6><p><em></em></p>\n<p><em>assert.deepEqual(a, b[, message])</em><br> == <br></p>\n<p><em>assert.deepStrictEqual(a, b[, message])</em><br>assert.deepEqual === </p>\n<p><em>assert.doesNotThrow(block[, error][, message])</em><br>blockerrorAssertionError</p>\n<p><em>assert.equal(actual, expected[, message])</em><br> == actualexpected</p>\n<p><em>assert.fail(message)</em><br><em>assert.fail(actual, expected[, message[, operator[, stackStartFunction]]])</em><br>AssertionError message  actual  + operator  + expected   actual  expected  operator  !=  message   stackStartFunction </p>\n<p><em>assert.ifError(value)</em><br>valuevaluevalue</p>\n<p><em>assert.notDeepEqual(actual, expected[, message])</em><br>assert.deepEqual()</p>\n<p><em>assert.notDeepStrictEqual(actual, expected[, message])</em><br>assert.deepStrictEqual()</p>\n<p><em>assert.notEqual(actual, expected[, message])</em><br> != </p>\n<p><em>assert.notStrictEqual(actual, expected[, message])</em><br>!==</p>\n<p><em>assert.ok(value[, message])</em><br> value   assert.equal(!!value, true, message)</p>\n<h6 id=\"-Async-Hooks\"><a href=\"#-Async-Hooks\" class=\"headerlink\" title=\"(Async Hooks)\"></a>(Async Hooks)</h6><p>Error handling()<br>abort on uncaught<br><strong>If any AsyncHook callbacks throw, the application will print the stack trace and exit. The exit path does follow that of an uncaught exception, but all uncaughtException listeners are removed, thus forcing the process to exit. The exit callbacks will still be called unless the application is run with abort-on-uncaught-exception, in which case a stack trace will be printed and the application exits, leaving a core file.</strong></p>\n<p>Printing in AsyncHook callbacks()<br> console.log<br> fs.writeSync(1, msg).</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> fs = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;fs&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> util = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;util&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">debug</span>(<span class=\"params\">...args</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// use a function like this one when debugging inside an AsyncHooks callback</span></span><br><span class=\"line\">  fs.writeSync(<span class=\"number\">1</span>, <span class=\"string\">`<span class=\"subst\">$&#123;util.format(...args)&#125;</span>\\n`</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><strong>Because printing to the console is an asynchronous operation, console.log() will cause AsyncHook callbacks to be called. Using console.log() or similar asynchronous operations inside an AsyncHook callback function will cause an infinite recursion. An easy solution to this when debugging is to use a synchronous logging operation such as fs.writeFileSync(file, msg, flag). This will print to the file and will not invoke AsyncHook recursively because it is synchronous.</strong></p>\n<p><em>asyncHook.enable()</em><br></p>\n<p><em>asyncHook.disable()</em><br></p>\n<p><em>init(asyncId, type, triggerAsyncId, resource)</em><br>asyncId: number<br>type: string<br>triggerAsyncId: numberID<br>resource: object<br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">&#x27;net&#x27;</span>).createServer().listen(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; <span class=\"built_in\">this</span>.close(); &#125;);</span><br><span class=\"line\"><span class=\"comment\">// OR</span></span><br><span class=\"line\"><span class=\"built_in\">clearTimeout</span>(<span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;&#125;, <span class=\"number\">10</span>));</span><br></pre></td></tr></table></figure>\n<p>ID</p>\n<p><em>type</em></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FSEVENTWRAP, FSREQWRAP, GETADDRINFOREQWRAP, GETNAMEINFOREQWRAP, HTTPPARSER,</span><br><span class=\"line\">JSSTREAM, PIPECONNECTWRAP, PIPEWRAP, PROCESSWRAP, QUERYWRAP, SHUTDOWNWRAP,</span><br><span class=\"line\">SIGNALWRAP, STATWATCHER, TCPCONNECTWRAP, TCPSERVER, TCPWRAP, TIMERWRAP, TTYWRAP,</span><br><span class=\"line\">UDPSENDWRAP, UDPWRAP, WRITEWRAP, ZLIB, SSLCONNECTION, PBKDF2REQUEST,</span><br><span class=\"line\">RANDOMBYTESREQUEST, TLSWRAP, Timeout, Immediate, TickObject, PROMISE</span><br></pre></td></tr></table></figure>\n<p>typetype package name</p>\n<p><em>triggerAsyncId</em><br>inittriggerAsyncId</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">async_hooks.createHook(&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">init</span>(<span class=\"params\">asyncId, type, triggerAsyncId</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> eid = async_hooks.executionAsyncId();</span><br><span class=\"line\">    fs.writeSync(</span><br><span class=\"line\">      <span class=\"number\">1</span>, <span class=\"string\">`<span class=\"subst\">$&#123;type&#125;</span>(<span class=\"subst\">$&#123;asyncId&#125;</span>): trigger: <span class=\"subst\">$&#123;triggerAsyncId&#125;</span> execution: <span class=\"subst\">$&#123;eid&#125;</span>\\n`</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;).enable();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">&#x27;net&#x27;</span>).createServer(<span class=\"function\">(<span class=\"params\">conn</span>) =&gt;</span> &#123;&#125;).listen(<span class=\"number\">8080</span>);</span><br></pre></td></tr></table></figure>\n\n<p><em>resource</em><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> indent = <span class=\"number\">0</span>;</span><br><span class=\"line\">async_hooks.createHook(&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">init</span>(<span class=\"params\">asyncId, type, triggerAsyncId</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> eid = async_hooks.executionAsyncId();</span><br><span class=\"line\">    <span class=\"keyword\">const</span> indentStr = <span class=\"string\">&#x27; &#x27;</span>.repeat(indent);</span><br><span class=\"line\">    fs.writeSync(</span><br><span class=\"line\">      <span class=\"number\">1</span>,</span><br><span class=\"line\">      <span class=\"string\">`<span class=\"subst\">$&#123;indentStr&#125;</span><span class=\"subst\">$&#123;type&#125;</span>(<span class=\"subst\">$&#123;asyncId&#125;</span>):`</span> +</span><br><span class=\"line\">      <span class=\"string\">` trigger: <span class=\"subst\">$&#123;triggerAsyncId&#125;</span> execution: <span class=\"subst\">$&#123;eid&#125;</span>\\n`</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">before</span>(<span class=\"params\">asyncId</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> indentStr = <span class=\"string\">&#x27; &#x27;</span>.repeat(indent);</span><br><span class=\"line\">    fs.writeSync(<span class=\"number\">1</span>, <span class=\"string\">`<span class=\"subst\">$&#123;indentStr&#125;</span>before:  <span class=\"subst\">$&#123;asyncId&#125;</span>\\n`</span>);</span><br><span class=\"line\">    indent += <span class=\"number\">2</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">after</span>(<span class=\"params\">asyncId</span>)</span> &#123;</span><br><span class=\"line\">    indent -= <span class=\"number\">2</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> indentStr = <span class=\"string\">&#x27; &#x27;</span>.repeat(indent);</span><br><span class=\"line\">    fs.writeSync(<span class=\"number\">1</span>, <span class=\"string\">`<span class=\"subst\">$&#123;indentStr&#125;</span>after:   <span class=\"subst\">$&#123;asyncId&#125;</span>\\n`</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">destroy</span>(<span class=\"params\">asyncId</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> indentStr = <span class=\"string\">&#x27; &#x27;</span>.repeat(indent);</span><br><span class=\"line\">    fs.writeSync(<span class=\"number\">1</span>, <span class=\"string\">`<span class=\"subst\">$&#123;indentStr&#125;</span>destroy: <span class=\"subst\">$&#123;asyncId&#125;</span>\\n`</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;).enable();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">&#x27;net&#x27;</span>).createServer(<span class=\"function\">() =&gt;</span> &#123;&#125;).listen(<span class=\"number\">8080</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// Let&#x27;s wait 10ms before logging the server started.</span></span><br><span class=\"line\">  <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;&gt;&gt;&gt;&#x27;</span>, async_hooks.executionAsyncId());</span><br><span class=\"line\">  &#125;, <span class=\"number\">10</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">TCPSERVERWRAP(<span class=\"number\">2</span>): trigger: <span class=\"number\">1</span> execution: <span class=\"number\">1</span></span><br><span class=\"line\">TickObject(<span class=\"number\">3</span>): trigger: <span class=\"number\">2</span> execution: <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attr\">before</span>:  <span class=\"number\">3</span></span><br><span class=\"line\">  Timeout(<span class=\"number\">4</span>): trigger: <span class=\"number\">3</span> execution: <span class=\"number\">3</span></span><br><span class=\"line\">  TIMERWRAP(<span class=\"number\">5</span>): trigger: <span class=\"number\">3</span> execution: <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"attr\">after</span>:   <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"attr\">destroy</span>: <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"attr\">before</span>:  <span class=\"number\">5</span></span><br><span class=\"line\">  <span class=\"attr\">before</span>:  <span class=\"number\">4</span></span><br><span class=\"line\">    TTYWRAP(<span class=\"number\">6</span>): trigger: <span class=\"number\">4</span> execution: <span class=\"number\">4</span></span><br><span class=\"line\">    SIGNALWRAP(<span class=\"number\">7</span>): trigger: <span class=\"number\">4</span> execution: <span class=\"number\">4</span></span><br><span class=\"line\">    TTYWRAP(<span class=\"number\">8</span>): trigger: <span class=\"number\">4</span> execution: <span class=\"number\">4</span></span><br><span class=\"line\">&gt;&gt;&gt; <span class=\"number\">4</span></span><br><span class=\"line\">    TickObject(<span class=\"number\">9</span>): trigger: <span class=\"number\">4</span> execution: <span class=\"number\">4</span></span><br><span class=\"line\">  <span class=\"attr\">after</span>:   <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"attr\">after</span>:   <span class=\"number\">5</span></span><br><span class=\"line\"><span class=\"attr\">before</span>:  <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"attr\">after</span>:   <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"attr\">destroy</span>: <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"attr\">destroy</span>: <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"attr\">destroy</span>: <span class=\"number\">5</span></span><br></pre></td></tr></table></figure>\n\n<p><em>before(asyncId)</em><br> TCP  before  asyncId </p>\n<p><em>after(asyncId)</em><br> before <br>callbackafteruncaughtException </p>\n<p><em>destroy(asyncId)</em><br>asyncId   API emitDestroy() <br>resourceinitdestroy???</p>\n<p><em>promiseResolve(asyncId)</em><br> Promise  resolve  promise <br>promiseresolverejectpromisePromise</p>\n<p><em>async_hooks.executionAsyncResource()</em><br>executionAsyncResource()  API  Node.js  </p>\n<p><em>async_hooks.executionAsyncId()</em><br>asyncId</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> async_hooks = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;async_hooks&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(async_hooks.executionAsyncId());  <span class=\"comment\">// 1 - bootstrap</span></span><br><span class=\"line\">fs.open(path, <span class=\"string\">&#x27;r&#x27;</span>, <span class=\"function\">(<span class=\"params\">err, fd</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(async_hooks.executionAsyncId());  <span class=\"comment\">// 6 - open()</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>executionAsyncId()  ID  triggerAsyncId() </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> server = net.createServer(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">onConnection</span>(<span class=\"params\">conn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// Returns the ID of the server, not of the new connection, because the</span></span><br><span class=\"line\">  <span class=\"comment\">// onConnection callback runs in the execution scope of the server&#x27;s</span></span><br><span class=\"line\">  <span class=\"comment\">// MakeCallback().</span></span><br><span class=\"line\">  async_hooks.executionAsyncId();</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;).listen(port, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">onListening</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// Returns the ID of a TickObject (i.e. process.nextTick()) because all</span></span><br><span class=\"line\">  <span class=\"comment\">// callbacks passed to .listen() are wrapped in a nextTick().</span></span><br><span class=\"line\">  async_hooks.executionAsyncId();</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><em>async_hooks.triggerAsyncId()</em><br>Id<br>promise  triggerAsyncId</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> server = net.createServer(<span class=\"function\">(<span class=\"params\">conn</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// The resource that caused (or triggered) this callback to be called</span></span><br><span class=\"line\">  <span class=\"comment\">// was that of the new connection. Thus the return value of triggerAsyncId()</span></span><br><span class=\"line\">  <span class=\"comment\">// is the asyncId of &quot;conn&quot;.</span></span><br><span class=\"line\">  async_hooks.triggerAsyncId();</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;).listen(port, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// Even though all callbacks passed to .listen() are wrapped in a nextTick()</span></span><br><span class=\"line\">  <span class=\"comment\">// the callback itself exists because the call to the server&#x27;s .listen()</span></span><br><span class=\"line\">  <span class=\"comment\">// was made. So the return value would be the ID of the server.</span></span><br><span class=\"line\">  async_hooks.triggerAsyncId();</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><em>async_hooks.asyncWrapProviders</em><br>idmapasync_hooks.init<br> process.binding(async_wrap).Providers</p>\n<p><em>Promise </em><br> V8  promise  API  promise  asyncId  promise  async/await  promise  id</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; executionAsyncId, triggerAsyncId &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;node:async_hooks&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">Promise</span>.resolve(<span class=\"number\">1729</span>).then(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`eid <span class=\"subst\">$&#123;executionAsyncId()&#125;</span> tid <span class=\"subst\">$&#123;triggerAsyncId()&#125;</span>`</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">// produces:</span></span><br><span class=\"line\"><span class=\"comment\">// eid 1 tid 0</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createHook, executionAsyncId, triggerAsyncId &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;node:async_hooks&#x27;</span>;</span><br><span class=\"line\">createHook(&#123; <span class=\"function\"><span class=\"title\">init</span>(<span class=\"params\"></span>)</span> &#123;&#125; &#125;).enable(); <span class=\"comment\">// forces PromiseHooks to be enabled.</span></span><br><span class=\"line\"><span class=\"built_in\">Promise</span>.resolve(<span class=\"number\">1729</span>).then(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`eid <span class=\"subst\">$&#123;executionAsyncId()&#125;</span> tid <span class=\"subst\">$&#123;triggerAsyncId()&#125;</span>`</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">// produces:</span></span><br><span class=\"line\"><span class=\"comment\">// eid 7 tid 6</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"AsyncResource\"><a href=\"#AsyncResource\" class=\"headerlink\" title=\"AsyncResource\"></a>AsyncResource</h6><p>AsyncResource</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; AsyncResource, executionAsyncId &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;node:async_hooks&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// AsyncResource() is meant to be extended. Instantiating a</span></span><br><span class=\"line\"><span class=\"comment\">// new AsyncResource() also triggers init. If triggerAsyncId is omitted then</span></span><br><span class=\"line\"><span class=\"comment\">// async_hook.executionAsyncId() is used.</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> asyncResource = <span class=\"keyword\">new</span> AsyncResource(</span><br><span class=\"line\">  type, &#123; <span class=\"attr\">triggerAsyncId</span>: executionAsyncId(), <span class=\"attr\">requireManualDestroy</span>: <span class=\"literal\">false</span> &#125;</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Run a function in the execution context of the resource. This will</span></span><br><span class=\"line\"><span class=\"comment\">// * establish the context of the resource</span></span><br><span class=\"line\"><span class=\"comment\">// * trigger the AsyncHooks before callbacks</span></span><br><span class=\"line\"><span class=\"comment\">// * call the provided function `fn` with the supplied arguments</span></span><br><span class=\"line\"><span class=\"comment\">// * trigger the AsyncHooks after callbacks</span></span><br><span class=\"line\"><span class=\"comment\">// * restore the original execution context</span></span><br><span class=\"line\">asyncResource.runInAsyncScope(fn, thisArg, ...args);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Call AsyncHooks destroy callbacks.</span></span><br><span class=\"line\">asyncResource.emitDestroy();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Return the unique ID assigned to the AsyncResource instance.</span></span><br><span class=\"line\">asyncResource.asyncId();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Return the trigger ID for the AsyncResource instance.</span></span><br><span class=\"line\">asyncResource.triggerAsyncId();</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"AsyncLocalStorage-\"><a href=\"#AsyncLocalStorage-\" class=\"headerlink\" title=\"AsyncLocalStorage \"></a>AsyncLocalStorage </h6><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><a href=\"https://www.jianshu.com/p/4a568dac41ed\">https://www.jianshu.com/p/4a568dac41ed</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h4><h6 id=\"assert-\"><a href=\"#assert-\" class=\"headerlink\" title=\"assert-\"></a>assert-</h6><p><em></em></p>\n<p><em>assert.deepEqual(a, b[, message])</em><br> == <br></p>\n<p><em>assert.deepStrictEqual(a, b[, message])</em><br>assert.deepEqual === </p>\n<p><em>assert.doesNotThrow(block[, error][, message])</em><br>blockerrorAssertionError</p>\n<p><em>assert.equal(actual, expected[, message])</em><br> == actualexpected</p>\n<p><em>assert.fail(message)</em><br><em>assert.fail(actual, expected[, message[, operator[, stackStartFunction]]])</em><br>AssertionError message  actual  + operator  + expected   actual  expected  operator  !=  message   stackStartFunction </p>\n<p><em>assert.ifError(value)</em><br>valuevaluevalue</p>\n<p><em>assert.notDeepEqual(actual, expected[, message])</em><br>assert.deepEqual()</p>\n<p><em>assert.notDeepStrictEqual(actual, expected[, message])</em><br>assert.deepStrictEqual()</p>\n<p><em>assert.notEqual(actual, expected[, message])</em><br> != </p>\n<p><em>assert.notStrictEqual(actual, expected[, message])</em><br>!==</p>\n<p><em>assert.ok(value[, message])</em><br> value   assert.equal(!!value, true, message)</p>\n<h6 id=\"-Async-Hooks\"><a href=\"#-Async-Hooks\" class=\"headerlink\" title=\"(Async Hooks)\"></a>(Async Hooks)</h6><p>Error handling()<br>abort on uncaught<br><strong>If any AsyncHook callbacks throw, the application will print the stack trace and exit. The exit path does follow that of an uncaught exception, but all uncaughtException listeners are removed, thus forcing the process to exit. The exit callbacks will still be called unless the application is run with abort-on-uncaught-exception, in which case a stack trace will be printed and the application exits, leaving a core file.</strong></p>\n<p>Printing in AsyncHook callbacks()<br> console.log<br> fs.writeSync(1, msg).</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> fs = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;fs&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> util = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;util&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">debug</span>(<span class=\"params\">...args</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// use a function like this one when debugging inside an AsyncHooks callback</span></span><br><span class=\"line\">  fs.writeSync(<span class=\"number\">1</span>, <span class=\"string\">`<span class=\"subst\">$&#123;util.format(...args)&#125;</span>\\n`</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><strong>Because printing to the console is an asynchronous operation, console.log() will cause AsyncHook callbacks to be called. Using console.log() or similar asynchronous operations inside an AsyncHook callback function will cause an infinite recursion. An easy solution to this when debugging is to use a synchronous logging operation such as fs.writeFileSync(file, msg, flag). This will print to the file and will not invoke AsyncHook recursively because it is synchronous.</strong></p>\n<p><em>asyncHook.enable()</em><br></p>\n<p><em>asyncHook.disable()</em><br></p>\n<p><em>init(asyncId, type, triggerAsyncId, resource)</em><br>asyncId: number<br>type: string<br>triggerAsyncId: numberID<br>resource: object<br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">&#x27;net&#x27;</span>).createServer().listen(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; <span class=\"built_in\">this</span>.close(); &#125;);</span><br><span class=\"line\"><span class=\"comment\">// OR</span></span><br><span class=\"line\"><span class=\"built_in\">clearTimeout</span>(<span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;&#125;, <span class=\"number\">10</span>));</span><br></pre></td></tr></table></figure>\n<p>ID</p>\n<p><em>type</em></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FSEVENTWRAP, FSREQWRAP, GETADDRINFOREQWRAP, GETNAMEINFOREQWRAP, HTTPPARSER,</span><br><span class=\"line\">JSSTREAM, PIPECONNECTWRAP, PIPEWRAP, PROCESSWRAP, QUERYWRAP, SHUTDOWNWRAP,</span><br><span class=\"line\">SIGNALWRAP, STATWATCHER, TCPCONNECTWRAP, TCPSERVER, TCPWRAP, TIMERWRAP, TTYWRAP,</span><br><span class=\"line\">UDPSENDWRAP, UDPWRAP, WRITEWRAP, ZLIB, SSLCONNECTION, PBKDF2REQUEST,</span><br><span class=\"line\">RANDOMBYTESREQUEST, TLSWRAP, Timeout, Immediate, TickObject, PROMISE</span><br></pre></td></tr></table></figure>\n<p>typetype package name</p>\n<p><em>triggerAsyncId</em><br>inittriggerAsyncId</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">async_hooks.createHook(&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">init</span>(<span class=\"params\">asyncId, type, triggerAsyncId</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> eid = async_hooks.executionAsyncId();</span><br><span class=\"line\">    fs.writeSync(</span><br><span class=\"line\">      <span class=\"number\">1</span>, <span class=\"string\">`<span class=\"subst\">$&#123;type&#125;</span>(<span class=\"subst\">$&#123;asyncId&#125;</span>): trigger: <span class=\"subst\">$&#123;triggerAsyncId&#125;</span> execution: <span class=\"subst\">$&#123;eid&#125;</span>\\n`</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;).enable();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">&#x27;net&#x27;</span>).createServer(<span class=\"function\">(<span class=\"params\">conn</span>) =&gt;</span> &#123;&#125;).listen(<span class=\"number\">8080</span>);</span><br></pre></td></tr></table></figure>\n\n<p><em>resource</em><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> indent = <span class=\"number\">0</span>;</span><br><span class=\"line\">async_hooks.createHook(&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">init</span>(<span class=\"params\">asyncId, type, triggerAsyncId</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> eid = async_hooks.executionAsyncId();</span><br><span class=\"line\">    <span class=\"keyword\">const</span> indentStr = <span class=\"string\">&#x27; &#x27;</span>.repeat(indent);</span><br><span class=\"line\">    fs.writeSync(</span><br><span class=\"line\">      <span class=\"number\">1</span>,</span><br><span class=\"line\">      <span class=\"string\">`<span class=\"subst\">$&#123;indentStr&#125;</span><span class=\"subst\">$&#123;type&#125;</span>(<span class=\"subst\">$&#123;asyncId&#125;</span>):`</span> +</span><br><span class=\"line\">      <span class=\"string\">` trigger: <span class=\"subst\">$&#123;triggerAsyncId&#125;</span> execution: <span class=\"subst\">$&#123;eid&#125;</span>\\n`</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">before</span>(<span class=\"params\">asyncId</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> indentStr = <span class=\"string\">&#x27; &#x27;</span>.repeat(indent);</span><br><span class=\"line\">    fs.writeSync(<span class=\"number\">1</span>, <span class=\"string\">`<span class=\"subst\">$&#123;indentStr&#125;</span>before:  <span class=\"subst\">$&#123;asyncId&#125;</span>\\n`</span>);</span><br><span class=\"line\">    indent += <span class=\"number\">2</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">after</span>(<span class=\"params\">asyncId</span>)</span> &#123;</span><br><span class=\"line\">    indent -= <span class=\"number\">2</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> indentStr = <span class=\"string\">&#x27; &#x27;</span>.repeat(indent);</span><br><span class=\"line\">    fs.writeSync(<span class=\"number\">1</span>, <span class=\"string\">`<span class=\"subst\">$&#123;indentStr&#125;</span>after:   <span class=\"subst\">$&#123;asyncId&#125;</span>\\n`</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">destroy</span>(<span class=\"params\">asyncId</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> indentStr = <span class=\"string\">&#x27; &#x27;</span>.repeat(indent);</span><br><span class=\"line\">    fs.writeSync(<span class=\"number\">1</span>, <span class=\"string\">`<span class=\"subst\">$&#123;indentStr&#125;</span>destroy: <span class=\"subst\">$&#123;asyncId&#125;</span>\\n`</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;).enable();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">&#x27;net&#x27;</span>).createServer(<span class=\"function\">() =&gt;</span> &#123;&#125;).listen(<span class=\"number\">8080</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// Let&#x27;s wait 10ms before logging the server started.</span></span><br><span class=\"line\">  <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;&gt;&gt;&gt;&#x27;</span>, async_hooks.executionAsyncId());</span><br><span class=\"line\">  &#125;, <span class=\"number\">10</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">TCPSERVERWRAP(<span class=\"number\">2</span>): trigger: <span class=\"number\">1</span> execution: <span class=\"number\">1</span></span><br><span class=\"line\">TickObject(<span class=\"number\">3</span>): trigger: <span class=\"number\">2</span> execution: <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attr\">before</span>:  <span class=\"number\">3</span></span><br><span class=\"line\">  Timeout(<span class=\"number\">4</span>): trigger: <span class=\"number\">3</span> execution: <span class=\"number\">3</span></span><br><span class=\"line\">  TIMERWRAP(<span class=\"number\">5</span>): trigger: <span class=\"number\">3</span> execution: <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"attr\">after</span>:   <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"attr\">destroy</span>: <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"attr\">before</span>:  <span class=\"number\">5</span></span><br><span class=\"line\">  <span class=\"attr\">before</span>:  <span class=\"number\">4</span></span><br><span class=\"line\">    TTYWRAP(<span class=\"number\">6</span>): trigger: <span class=\"number\">4</span> execution: <span class=\"number\">4</span></span><br><span class=\"line\">    SIGNALWRAP(<span class=\"number\">7</span>): trigger: <span class=\"number\">4</span> execution: <span class=\"number\">4</span></span><br><span class=\"line\">    TTYWRAP(<span class=\"number\">8</span>): trigger: <span class=\"number\">4</span> execution: <span class=\"number\">4</span></span><br><span class=\"line\">&gt;&gt;&gt; <span class=\"number\">4</span></span><br><span class=\"line\">    TickObject(<span class=\"number\">9</span>): trigger: <span class=\"number\">4</span> execution: <span class=\"number\">4</span></span><br><span class=\"line\">  <span class=\"attr\">after</span>:   <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"attr\">after</span>:   <span class=\"number\">5</span></span><br><span class=\"line\"><span class=\"attr\">before</span>:  <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"attr\">after</span>:   <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"attr\">destroy</span>: <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"attr\">destroy</span>: <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"attr\">destroy</span>: <span class=\"number\">5</span></span><br></pre></td></tr></table></figure>\n\n<p><em>before(asyncId)</em><br> TCP  before  asyncId </p>\n<p><em>after(asyncId)</em><br> before <br>callbackafteruncaughtException </p>\n<p><em>destroy(asyncId)</em><br>asyncId   API emitDestroy() <br>resourceinitdestroy???</p>\n<p><em>promiseResolve(asyncId)</em><br> Promise  resolve  promise <br>promiseresolverejectpromisePromise</p>\n<p><em>async_hooks.executionAsyncResource()</em><br>executionAsyncResource()  API  Node.js  </p>\n<p><em>async_hooks.executionAsyncId()</em><br>asyncId</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> async_hooks = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;async_hooks&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(async_hooks.executionAsyncId());  <span class=\"comment\">// 1 - bootstrap</span></span><br><span class=\"line\">fs.open(path, <span class=\"string\">&#x27;r&#x27;</span>, <span class=\"function\">(<span class=\"params\">err, fd</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(async_hooks.executionAsyncId());  <span class=\"comment\">// 6 - open()</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>executionAsyncId()  ID  triggerAsyncId() </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> server = net.createServer(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">onConnection</span>(<span class=\"params\">conn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// Returns the ID of the server, not of the new connection, because the</span></span><br><span class=\"line\">  <span class=\"comment\">// onConnection callback runs in the execution scope of the server&#x27;s</span></span><br><span class=\"line\">  <span class=\"comment\">// MakeCallback().</span></span><br><span class=\"line\">  async_hooks.executionAsyncId();</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;).listen(port, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">onListening</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// Returns the ID of a TickObject (i.e. process.nextTick()) because all</span></span><br><span class=\"line\">  <span class=\"comment\">// callbacks passed to .listen() are wrapped in a nextTick().</span></span><br><span class=\"line\">  async_hooks.executionAsyncId();</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><em>async_hooks.triggerAsyncId()</em><br>Id<br>promise  triggerAsyncId</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> server = net.createServer(<span class=\"function\">(<span class=\"params\">conn</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// The resource that caused (or triggered) this callback to be called</span></span><br><span class=\"line\">  <span class=\"comment\">// was that of the new connection. Thus the return value of triggerAsyncId()</span></span><br><span class=\"line\">  <span class=\"comment\">// is the asyncId of &quot;conn&quot;.</span></span><br><span class=\"line\">  async_hooks.triggerAsyncId();</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;).listen(port, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// Even though all callbacks passed to .listen() are wrapped in a nextTick()</span></span><br><span class=\"line\">  <span class=\"comment\">// the callback itself exists because the call to the server&#x27;s .listen()</span></span><br><span class=\"line\">  <span class=\"comment\">// was made. So the return value would be the ID of the server.</span></span><br><span class=\"line\">  async_hooks.triggerAsyncId();</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><em>async_hooks.asyncWrapProviders</em><br>idmapasync_hooks.init<br> process.binding(async_wrap).Providers</p>\n<p><em>Promise </em><br> V8  promise  API  promise  asyncId  promise  async/await  promise  id</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; executionAsyncId, triggerAsyncId &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;node:async_hooks&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">Promise</span>.resolve(<span class=\"number\">1729</span>).then(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`eid <span class=\"subst\">$&#123;executionAsyncId()&#125;</span> tid <span class=\"subst\">$&#123;triggerAsyncId()&#125;</span>`</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">// produces:</span></span><br><span class=\"line\"><span class=\"comment\">// eid 1 tid 0</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createHook, executionAsyncId, triggerAsyncId &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;node:async_hooks&#x27;</span>;</span><br><span class=\"line\">createHook(&#123; <span class=\"function\"><span class=\"title\">init</span>(<span class=\"params\"></span>)</span> &#123;&#125; &#125;).enable(); <span class=\"comment\">// forces PromiseHooks to be enabled.</span></span><br><span class=\"line\"><span class=\"built_in\">Promise</span>.resolve(<span class=\"number\">1729</span>).then(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`eid <span class=\"subst\">$&#123;executionAsyncId()&#125;</span> tid <span class=\"subst\">$&#123;triggerAsyncId()&#125;</span>`</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">// produces:</span></span><br><span class=\"line\"><span class=\"comment\">// eid 7 tid 6</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"AsyncResource\"><a href=\"#AsyncResource\" class=\"headerlink\" title=\"AsyncResource\"></a>AsyncResource</h6><p>AsyncResource</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; AsyncResource, executionAsyncId &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;node:async_hooks&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// AsyncResource() is meant to be extended. Instantiating a</span></span><br><span class=\"line\"><span class=\"comment\">// new AsyncResource() also triggers init. If triggerAsyncId is omitted then</span></span><br><span class=\"line\"><span class=\"comment\">// async_hook.executionAsyncId() is used.</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> asyncResource = <span class=\"keyword\">new</span> AsyncResource(</span><br><span class=\"line\">  type, &#123; <span class=\"attr\">triggerAsyncId</span>: executionAsyncId(), <span class=\"attr\">requireManualDestroy</span>: <span class=\"literal\">false</span> &#125;</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Run a function in the execution context of the resource. This will</span></span><br><span class=\"line\"><span class=\"comment\">// * establish the context of the resource</span></span><br><span class=\"line\"><span class=\"comment\">// * trigger the AsyncHooks before callbacks</span></span><br><span class=\"line\"><span class=\"comment\">// * call the provided function `fn` with the supplied arguments</span></span><br><span class=\"line\"><span class=\"comment\">// * trigger the AsyncHooks after callbacks</span></span><br><span class=\"line\"><span class=\"comment\">// * restore the original execution context</span></span><br><span class=\"line\">asyncResource.runInAsyncScope(fn, thisArg, ...args);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Call AsyncHooks destroy callbacks.</span></span><br><span class=\"line\">asyncResource.emitDestroy();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Return the unique ID assigned to the AsyncResource instance.</span></span><br><span class=\"line\">asyncResource.asyncId();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Return the trigger ID for the AsyncResource instance.</span></span><br><span class=\"line\">asyncResource.triggerAsyncId();</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"AsyncLocalStorage-\"><a href=\"#AsyncLocalStorage-\" class=\"headerlink\" title=\"AsyncLocalStorage \"></a>AsyncLocalStorage </h6><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><a href=\"https://www.jianshu.com/p/4a568dac41ed\">https://www.jianshu.com/p/4a568dac41ed</a></p>\n"},{"title":"nodejs(3)","date":"2022-11-26T12:36:45.000Z","tags":["node","docs"],"_content":"\n#### \n- V8 \n  - V8JavaScript\n  - V8V8V8V8\n  - Node--max-old-space-size--max-new-space-size\n\n- V8 \n  - V8\n    - V8\n    - V8V8\n    - V8--max-old-space-size-max-new-space-sizeV8\n    - 64321.4 GB0.7 GB\n    - 643232 MB16 MB\n  - Scavenge\n    - ScavengeScavengeCheney\n    - CheneysemispacesemispacesemispaceFromToFromFromToFromTosemispace\n    - ScavengeFromToFromToFromToScavengeTo\n    - ![](./images/v8-promot.png)\n    - ![](./images/v8-promot2.png)\n  - Mark-Sweep & Mark-Compact\n    - V8Mark-SweepMark-CompactMark-SweepScavengeMark-SweepScavengeMark-Sweep\n    - Mark-Sweep\n    - Mark-CompactMark-CompactMark-Sweep\n    - ![](./images/sweep-compact.png)\n    - ![](./images/collect-diff.png)\n    - V8Mark-SweepMark-Compact\n  - Incremental Marking\n    - 3stop-the-worldV8V8full \n    - V8incremental markingJavaScript\n    - ![](./images/increase-target.png)\n  - \n    - --trace_gc\n    - Node--profV8\n###### \n- \n  - \n  - \n  - \n- \n  - closure\n- : process.memoryUsage()ostotalmem()freemem()\n  - \n    - \n```javascript\n$ node \n> process.memoryUsage() \n{ rss: 13852672, \n heapTotal: 6131200, \n heapUsed: 2757120 } \n```\n    - rssresident set sizerssswapfilesystemrssheapTotalheapUsedV8heapTotalheapUsed3\n  - 2. \n    - process.memoryUsage()ostotalmem()freemem()\n\n- : V8\n  - BufferV8\n```\nvar useMem = function () { \n var size = 200 * 1024 * 1024; \n var buffer = new Buffer(size); \n for (var i = 0; i < size; i++) { \n buffer[i] = 0; \n } \n return buffer; \n}; \n```\n###### \nNode\n\n\n  - \n    - Node\n    - \n  - \n    - \n      - \n      - LRUhttps://github.com/isaacs/node-lru-cache\n    - \n      - \n        - (1) \n        - (2) \n        - Redishttps://github.com/mranney/node_redis\n        - Memcachedhttps://github.com/3rd-Eden/node-memcached\n  - \n    - \n    - \n  - \n\n###### \n\n- v8-profiler\n- node-heapdump\n```\nvar leakArray = []; \nvar leak = function () { \n leakArray.push(\"leak\" + Math.random()); \n}; \nhttp.createServer(function (req, res) { \n leak(); \n res.writeHead(200, {'Content-Type': 'text/plain'}); \n res.end('Hello World\\n'); \n}).listen(1337); \nconsole.log('Server running at http://127.0.0.1:1337/'); \n```\n- node-mtrace\n- dtrace\n- node-memwatch\n```\nvar memwatch = require('memwatch'); \nmemwatch.on('leak', function (info) { \n console.log('leak:'); \n console.log(info); \n}); \nmemwatch.on('stats', function (stats) { \n console.log('stats:') \n console.log(stats); \n}); \nvar http = require('http'); \nvar leakArray = []; \nvar leak = function () { \n leakArray.push(\"leak\" + Math.random()); \n}; \nhttp.createServer(function (req, res) { \n leak(); \n res.writeHead(200, {'Content-Type': 'text/plain'}); \n res.end('Hello World\\n'); \n}).listen(1337); \nconsole.log('Server running at http://127.0.0.1:1337/'); \n```\n  - stats\n    - stats\n```\nstats: \n{ num_full_gc: 4, // \n num_inc_gc: 23, // \n heap_compactions: 4, // \n usage_trend: 0, // \n estimated_base: 7152944, // \n current_base: 7152944, // \n min: 6720776, // \n max: 7152944 } // \nnum_full_gcnum_inc_gc\n```\n  - leak\n    - 5node-memwatchleak\n  - \n```\nvar memwatch = require('memwatch'); \nvar leakArray = []; \nvar leak = function () { \n leakArray.push(\"leak\" + Math.random()); \n}; \n// Take first snapshot \nvar hd = new memwatch.HeapDiff(); \nfor (var i = 0; i < 10000; i++) { \n leak(); \n} \n// Take the second snapshot and compute the diff \nvar diff = hd.end(); \nconsole.log(JSON.stringify(diff, null, 2));\n```\n\n###### \nstreamstreamNodestreamEventEmitter\n\nV8fs.readFile()fs.writeFile()fs.createReadStream()fs.createWriteStream()\n```\nvar reader = fs.createReadStream('in.txt'); \nvar writer = fs.createWriteStream('out.txt'); \nreader.pipe(writer); \n```\n\n#### Buffer\nBufferArray\n\n- \n  - BufferJavaScriptC++C++JavaScript\n  - ![buffer](./images/buffer.png)\n  - BufferNodeglobalBufferrequire()\n- Buffer\n  - Buffer160255\n  - 025602552552560~255\n```\nbuf[20] = -100; \nconsole.log(buf[20]); // 156 \nbuf[21] = 300; \nconsole.log(buf[21]); // 44 \nbuf[22] = 3.1415; \nconsole.log(buf[22]); // 3 \n```\n- Buffer\n  - BufferV8NodeC++\n  - NodeC++JavaScript\n  - Nodeslab,\n    - full\n    - partial\n    - empty\n  - Node8 KBBuffer,8 KBslabJavaScript\n    - Buffer\n      - Buffer8 KBNodeBufferpoolslab\n      - ![buffer](./images/buffer-1.png)\n      - Bufferslabslab\n      - ![buffer](./images/buffer-2.png)\n      - slabslabslab\n      - ![buffer](./images/buffer-3.png)\n      - slabBufferBufferslab8 KB1Buffer8 KB\n    - Buffer\n      - 8 KBBufferSlowBufferslabslabBuffer\n\n###### Buffer \nBuffer,:\n- ASCII\n- UTF-8\n- UTF-16LE/UCS-2\n- Base64\n- Binary\n- Hex\n\n- Buffer\n  - Buffernew Buffer(str, [encoding]);\n  - BufferencodingUTF-8\n  - Buffer\n- Buffer\n  - BufferBuffertoString()Bufferbuf.toString([encoding], [start], [end]) \n  - encodingUTF-8startend3Buffer\n- Buffer\n  - BufferisEncoding()Buffer.isEncoding(encoding)\n  - GBKGB2312BIG-5\n  - Nodeiconviconv-liteWindows 125ISO-8859IBM/DOSMacintoshKOI8Latin1US-ASCIIGBKGB2312\n\n###### Buffer \n```\nvar fs = require('fs'); \nvar rs = fs.createReadStream('test.md'); \nvar data = ''; \nrs.on(\"data\", function (chunk){ \n data += chunk; \n}); \nrs.on(\"end\", function () { \n console.log(data); \n}); \n```\n- Buffer\n- setEncoding()string_decoder()\n  - setEncodingdataBuffer\n  - string_decoderUTF-8Base64UCS-2/UTF-16LE3setEncoding()\n- Buffer\n```\nvar chunks = []; \nvar size = 0; \nres.on('data', function (chunk) { \n chunks.push(chunk); \n size += chunk.length; \n}); \nres.on('end', function () { \n   var buf = Buffer.concat(chunks, size); \n var str = iconv.decode(buf, 'utf8'); \n console.log(str); \n});\n```\n  - BufferBuffer.concat()Buffer\n  - Buffer.concat()BufferBuffer\n```\nBuffer.concat = function(list, length) { \n if (!Array.isArray(list)) { \n throw new Error('Usage: Buffer.concat(list, [length])'); \n } \n if (list.length === 0) { \n return new Buffer(0); \n } else if (list.length === 1) { \n return list[0]; \n } \n if (typeof length !== 'number') { \n length = 0; \n for (var i = 0; i < list.length; i++) { \n var buf = list[i]; \n length += buf.length; \n } \n } \n var buffer = new Buffer(length); \n var pos = 0; \n for (var i = 0; i < list.length; i++) { \n var buf = list[i]; \n buf.copy(buffer, pos); \n pos += buf.length; \n } \n return buffer; \n}; \n```\n###### Buffer \nBufferCPUNodeWebBufferBuffer\n- \n  - highWaterMark\n    - highWaterMark\n      - highWaterMarkBuffer\n      - highWaterMark\n    - highWaterMark\n\n#### \nNodenetdgramhttphttps4TCPUDPHTTPHTTPS\n\n-  TCP \n  - TCP\n    - TCPOSITCPHTTPSMTPIMAP\n    - ![](./images/net-1.png)\n    - TCP3\n    - ![](./images/net-2.png)\n  - TCP\n```\nvar net = require('net'); \nvar server = net.createServer(function (socket) { \n // \n socket.on('data', function (data) { \n socket.write(\"\"); \n }); \n socket.on('end', function () { \n console.log(''); \n }); \n socket.write(\"Node.js\\n\"); \n}); \nserver.listen(8124, function () { \n console.log('server bound'); \n});\n```\n  - TCP\n    - \n      - listeningserver.listen()Domain Socketserver.listen(port,listeningListener)listen()\n      - connectionnet.create\u0002Server()\n      - closeserver.close()\n      - errorerror\n    - \n      - datawrite()datawrite()\n      - endFIN\n      - connect\n      - drainwrite()\n      - error\n      - close\n      - timeout\n    - TCPNagleNagleNagle\n    - NodeTCPNaglesocket.setNoDelay(true)Naglewrite()\n    - write()datawrite()dataNagledata\n######  UDP \nUDPTCPUDPTCPUDPTCPTCPUDPUDPUDPDNS\n- UDP\n  - UDPUDP\n  - var dgram = require('dgram'); var socket = dgram.createSocket(\"udp4\");\n- UDP\n  - UDPdgram.bind(port, [address])\n```\nvar dgram = require(\"dgram\"); \nvar server = dgram.createSocket(\"udp4\"); \nserver.on(\"message\", function (msg, rinfo) { \n console.log(\"server got: \" + msg + \" from \" + \n rinfo.address + \":\" + rinfo.port); \n}); \nserver.on(\"listening\", function () { \n var address = server.address();\n console.log(\"server listening \" + \n address.address + \":\" + address.port); \n}); \nserver.bind(41234);\n```\n- UDP\n```\nvar dgram = require('dgram'); \nvar message = new Buffer(\"Node.js\"); \nvar client = dgram.createSocket(\"udp4\"); \nclient.send(message, 0, message.length, 41234, \"localhost\", function(err, bytes) { \n client.close(); \n}); \n\nsocket.send(buf, offset, length, port, address, [callback])\n// BufferBufferBuffer\n```\n- UDP\n  - UDPTCPEventEmitterStream\n    - messageUDPBuffer\n    - listeningUDP\n    - closeclose()messagemessage\n    - error\n\n######  HTTP \n- HTTP\n  - HTTP\n    - HTTPHyperText Transfer Protocol\n    - HTTPTCPHTTPB/SWebHTTP\n    - HTTPW3CIETFRFCHTTPRFC 2616\n  -  HTTP\n```\n$ curl -v http://127.0.0.1:1337 \n* About to connect() to 127.0.0.1 port 1337 (#0) \n* Trying 127.0.0.1... \n* connected \n* Connected to 127.0.0.1 (127.0.0.1) port 1337 (#0) \n> GET / HTTP/1.1 \n> User-Agent: curl/7.24.0 (x86_64-apple-darwin12.0) libcurl/7.24.0 OpenSSL/0.9.8r zlib/1.2.5 \n> Host: 127.0.0.1:1337 \n> Accept: */* \n> \n< HTTP/1.1 200 OK \n< Content-Type: text/plain \n< Date: Sat, 06 Apr 2013 08:01:44 GMT \n< Connection: keep-alive \n< Transfer-Encoding: chunked \n< \nHello World\n* Connection #0 to host 127.0.0.1 left intact \n* Closing connection #0\n```\n    - HTTPHTTPHTTP\n  - http\n    - NodeHTTPTCPnetHTTPTCPkeepaliveTCPTCPconnectionHTTPrequest\n    - ![http](./images/net-3.png)\n    - httpServerRequestServerResponsehttphttp_parserrequest\n    - ![http](./images/net-4.png)\n      - HTTP\n        - connectionHTTPTCPkeep-aliveconnection\n        - requestTCPhttpHTTPHTTPHTTPres.end()TCP\n        - closeTCPserver.close()server.close()\n        - checkContinueExpect: 100-continuecheckContinue100 Continue400 Bad Requestrequest100 Continuerequest\n        - connectCONNECTCONNECTHTTP\n        - upgradeUpgradeWebSocket\n        - clientErrorerror\n###### HTTP\nhttpAPIhttp.request(options, connect)HTTP\n```\nvar options = { \n hostname: '127.0.0.1', \n port: 1334, \n path: '/', \n method: 'GET' \n}; \nvar req = http.request(options, function(res) { \n console.log('STATUS: ' + res.statusCode); \n console.log('HEADERS: ' + JSON.stringify(res.headers)); \n res.setEncoding('utf8'); \n res.on('data', function (chunk) { \n console.log(chunk); \n }); \n}); \nreq.end();\n```\nHTTP:\n- hostIPlocalhost\n- hostname\n- port80\n- localAddress\n- socketPathDomain\n- methodHTTPGET\n- path/\n- headers\n- authBasicAuthorization\n\n\n- HTTP\n  - HTTPClientRequestresponseClientRequestresponseClientResponse\n```\nfunction(res) { \n console.log('STATUS: ' + res.statusCode); \n console.log('HEADERS: ' + JSON.stringify(res.headers)); \n res.setEncoding('utf8'); \n res.on('data', function (chunk) { \n console.log(chunk); \n }); \n}\n```\n- HTTP \n  - httpClientRequestTCPkeepaliveTCPhttphttp.globalAgenthost + portClientRequestHTTP5\n  - ![http](./images/http.png)\n  - HTTP10HTTP5\n  - ClientRequestHTTPoptionsagent5\n```\nvar agent = new http.Agent({ \n maxSockets: 10 \n}); \nvar options = { \n hostname: '127.0.0.1', \n port: 1334, \n path: '/', \n method: 'GET', \n agent: agent \n}; \n```\n  - agentfalse\n- HTTP\n  - responserequest\n  - socket\n  - connectCONNECT200\n  - upgradeUpgrade101 Switching Protocols\n  - continueExpect: 100-continue100 Continue\n\n######  WebSocket \n- WebSocketNode\n- WebSocketNode\n\nwebsockethttp\n- TCP\n- WebSocketHTTP\n- \n\n```\nvar socket = new WebSocket('ws://127.0.0.1:12010/updates'); \nsocket.onopen = function () { \n setInterval(function() { \n if (socket.bufferedAmount == 0) \n socket.send(getUpdateData()); \n }, 50); \n}; \nsocket.onmessage = function (event) { \n // TODOevent.data \n};\n```\n\nWebSocketCometCometlong-pollingiframeres.end()Comet\n\n- WebSocket\n```\nGET /chat HTTP/1.1 \nHost: server.example.com \nUpgrade: websocket \nConnection: Upgrade \nSec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ== \nSec-WebSocket-Protocol: chat, superchat \nSec-WebSocket-Version: 13 \n```\n  - Upgrade/ConnectionWebSocketSec-WebSocket-Key\n  - Sec-WebSocket-KeyBase64258EAFA5-E914-47DA-95CA-C5AB0DC85B11dGhlIHNhbXBsZSBub25jZQ==258EAFA5-E914-47DA-95CA-C5AB0DC85B11sha1Base64\n  - \n```\nHTTP/1.1 101 Switching Protocols \nUpgrade: websocket \nConnection: Upgrade \nSec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK+xOo= \nSec-WebSocket-Protocol: chat\n```\n\n###### WebSocket\n![websocket](./images/websocket.png)\n```\nWebSocket.prototype.setSocket = function (socket) { \n this.socket = socket; \n this.socket.on('data', this.receiver); \n}; \n\nWebSocket.prototype.send = function (data) { \n this._send(data); \n}; \n```\n  - \n  - ![websocket](./images/websocket-1.png)\n  - finfin10\n  - rsv1rsv2rsv31310\n  - opcode401501289ping10pongpingpongpingpong\n  - masked110\n  - payload length77+167+640~1251261612764\n  - masking keymasked132\n  - payload data8\n\nnodewebsocket\n- \n- JavaScriptWebSocketAPI\n\n###### \nNode3cryptotlshttpscryptotlsnetTLS/SSLTCPhttpshttp\n  - TLS/SSL\n    - \n      - TLS/SSL/\n      - ![TLS/SSL](./images/tls-ssl.png)\n      - NodeopensslTLS/SSLopenssl\n```\n# \n// \n$ openssl genrsa -out server.key 1024 \n// \n$ openssl genrsa -out client.key 1024\n\n#\n$ openssl rsa -in server.key -pubout -out server.pem \n$ openssl rsa -in client.key -pubout -out client.pem \n```\n      - TLS/SSL\n    - \n      - CACertificate AuthorityCACA\n      - CACA\n```\n$ openssl genrsa -out ca.key 1024 \n$ openssl req -new -key ca.key -out ca.csr \n$ openssl x509 -req -in ca.csr -signkey ca.key -out ca.crt\n```\n      - ![CA](./images/ca.png)\n      - ![CA](./images/ca-1.png)\n\n###### TLS\n- \n```\nvar tls = require('tls'); \nvar fs = require('fs'); \nvar options = { \n key: fs.readFileSync('./keys/server.key'), \n cert: fs.readFileSync('./keys/server.crt'), \n requestCert: true, \n ca: [ fs.readFileSync('./keys/ca.crt') ] \n}; \nvar server = tls.createServer(options, function (stream) { \n console.log('server connected', stream.authorized ? 'authorized' : 'unauthorized'); \n stream.write(\"welcome!\\n\"); \n stream.setEncoding('utf8'); \n stream.pipe(stream); \n}); \nserver.listen(8000, function() {\n  console.log('server bound'); \n}); \n\n# \n$ openssl s_client -connect 127.0.0.1:8000\n```\n- TLS\n```\n// \n$ openssl genrsa -out client.key 1024 \n// CSR \n$ openssl req -new -key client.key -out client.csr \n// \n$ openssl x509 -req -CA ca.crt -CAkey ca.key -CAcreateserial -in client.csr -out client.crt\n\nvar tls = require('tls'); \nvar fs = require('fs'); \nvar options = { \n key: fs.readFileSync('./keys/client.key'), \n cert: fs.readFileSync('./keys/client.crt'), \n ca: [ fs.readFileSync('./keys/ca.crt') ] \n}; \nvar stream = tls.connect(8000, options, function () { \n console.log('client connected', stream.authorized ? 'authorized' : 'unauthorized'); \n process.stdin.pipe(stream); \n}); \nstream.setEncoding('utf8'); \nstream.on('data', function(data) { \n console.log(data); \n}); \nstream.on('end', function() { \n server.close(); \n}); \n```\n\n###### HTTPS\n- HTTPS\n```\nvar https = require('https'); \nvar fs = require('fs'); \nvar options = { \n key: fs.readFileSync('./keys/server.key'), \n cert: fs.readFileSync('./keys/server.crt') \n}; \nhttps.createServer(options, function (req, res) { \n res.writeHead(200); \n res.end(\"hello world\\n\"); \n}).listen(8000);\n\n$ curl https://localhost:8000/ \ncurl: (60) SSL certificate problem, verify that the CA cert is OK. Details: \nerror:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed \nMore details here: http://curl.haxx.se/docs/sslcerts.html \ncurl performs SSL certificate verification by default, using a \"bundle\" \n of Certificate Authority (CA) public keys (CA certs). If the default \n bundle file isn't adequate, you can specify an alternate file \n using the --cacert option. \nIf this HTTPS server uses a certificate signed by a CA represented in \n the bundle, the certificate verification probably failed due to a \n problem with the certificate (it might be expired, or the name might \n not match the domain name in the URL). \nIf you'd like to turn off curl's verification of the certificate, use \n the -k (or --insecure) option.\n```\ncurl\n  - -kcurl\n  - curl--cacertCA\n```\n$ curl -k https://localhost:8000/ \nhello world\n\n$ curl --cacert keys/ca.crt https://localhost:8000/ \nhello world \n```\n- HTTPS\n```\nvar https = require('https'); \nvar fs = require('fs'); \nvar options = { \n hostname: 'localhost', \n port: 8000, \n path: '/', \n method: 'GET', \n key: fs.readFileSync('./keys/client.key'), \n cert: fs.readFileSync('./keys/client.crt'), \n ca: [fs.readFileSync('./keys/ca.crt')] \n}; \noptions.agent = new https.Agent(options); \nvar req = https.request(options, function(res) { \n res.setEncoding('utf-8'); \n res.on('data', function(d) { \n console.log(d); \n }); \n}); \nreq.end(); \nreq.on('error', function(e) { \n console.log(e); \n}); \n```\nca: [Error: UNABLE_TO_VERIFY_LEAF_SIGNATURE] \nrejectUnauthorizedfalsecurl-k\n\n\n\n??? send()onmessage()send()\nonmessage()send()\n","source":"nodejs/nodejs-note-3.md","raw":"---\ntitle: nodejs(3)\ndate: 2022-11-26 20:36:45\ntags: [node, docs]\n---\n\n#### \n- V8 \n  - V8JavaScript\n  - V8V8V8V8\n  - Node--max-old-space-size--max-new-space-size\n\n- V8 \n  - V8\n    - V8\n    - V8V8\n    - V8--max-old-space-size-max-new-space-sizeV8\n    - 64321.4 GB0.7 GB\n    - 643232 MB16 MB\n  - Scavenge\n    - ScavengeScavengeCheney\n    - CheneysemispacesemispacesemispaceFromToFromFromToFromTosemispace\n    - ScavengeFromToFromToFromToScavengeTo\n    - ![](./images/v8-promot.png)\n    - ![](./images/v8-promot2.png)\n  - Mark-Sweep & Mark-Compact\n    - V8Mark-SweepMark-CompactMark-SweepScavengeMark-SweepScavengeMark-Sweep\n    - Mark-Sweep\n    - Mark-CompactMark-CompactMark-Sweep\n    - ![](./images/sweep-compact.png)\n    - ![](./images/collect-diff.png)\n    - V8Mark-SweepMark-Compact\n  - Incremental Marking\n    - 3stop-the-worldV8V8full \n    - V8incremental markingJavaScript\n    - ![](./images/increase-target.png)\n  - \n    - --trace_gc\n    - Node--profV8\n###### \n- \n  - \n  - \n  - \n- \n  - closure\n- : process.memoryUsage()ostotalmem()freemem()\n  - \n    - \n```javascript\n$ node \n> process.memoryUsage() \n{ rss: 13852672, \n heapTotal: 6131200, \n heapUsed: 2757120 } \n```\n    - rssresident set sizerssswapfilesystemrssheapTotalheapUsedV8heapTotalheapUsed3\n  - 2. \n    - process.memoryUsage()ostotalmem()freemem()\n\n- : V8\n  - BufferV8\n```\nvar useMem = function () { \n var size = 200 * 1024 * 1024; \n var buffer = new Buffer(size); \n for (var i = 0; i < size; i++) { \n buffer[i] = 0; \n } \n return buffer; \n}; \n```\n###### \nNode\n\n\n  - \n    - Node\n    - \n  - \n    - \n      - \n      - LRUhttps://github.com/isaacs/node-lru-cache\n    - \n      - \n        - (1) \n        - (2) \n        - Redishttps://github.com/mranney/node_redis\n        - Memcachedhttps://github.com/3rd-Eden/node-memcached\n  - \n    - \n    - \n  - \n\n###### \n\n- v8-profiler\n- node-heapdump\n```\nvar leakArray = []; \nvar leak = function () { \n leakArray.push(\"leak\" + Math.random()); \n}; \nhttp.createServer(function (req, res) { \n leak(); \n res.writeHead(200, {'Content-Type': 'text/plain'}); \n res.end('Hello World\\n'); \n}).listen(1337); \nconsole.log('Server running at http://127.0.0.1:1337/'); \n```\n- node-mtrace\n- dtrace\n- node-memwatch\n```\nvar memwatch = require('memwatch'); \nmemwatch.on('leak', function (info) { \n console.log('leak:'); \n console.log(info); \n}); \nmemwatch.on('stats', function (stats) { \n console.log('stats:') \n console.log(stats); \n}); \nvar http = require('http'); \nvar leakArray = []; \nvar leak = function () { \n leakArray.push(\"leak\" + Math.random()); \n}; \nhttp.createServer(function (req, res) { \n leak(); \n res.writeHead(200, {'Content-Type': 'text/plain'}); \n res.end('Hello World\\n'); \n}).listen(1337); \nconsole.log('Server running at http://127.0.0.1:1337/'); \n```\n  - stats\n    - stats\n```\nstats: \n{ num_full_gc: 4, // \n num_inc_gc: 23, // \n heap_compactions: 4, // \n usage_trend: 0, // \n estimated_base: 7152944, // \n current_base: 7152944, // \n min: 6720776, // \n max: 7152944 } // \nnum_full_gcnum_inc_gc\n```\n  - leak\n    - 5node-memwatchleak\n  - \n```\nvar memwatch = require('memwatch'); \nvar leakArray = []; \nvar leak = function () { \n leakArray.push(\"leak\" + Math.random()); \n}; \n// Take first snapshot \nvar hd = new memwatch.HeapDiff(); \nfor (var i = 0; i < 10000; i++) { \n leak(); \n} \n// Take the second snapshot and compute the diff \nvar diff = hd.end(); \nconsole.log(JSON.stringify(diff, null, 2));\n```\n\n###### \nstreamstreamNodestreamEventEmitter\n\nV8fs.readFile()fs.writeFile()fs.createReadStream()fs.createWriteStream()\n```\nvar reader = fs.createReadStream('in.txt'); \nvar writer = fs.createWriteStream('out.txt'); \nreader.pipe(writer); \n```\n\n#### Buffer\nBufferArray\n\n- \n  - BufferJavaScriptC++C++JavaScript\n  - ![buffer](./images/buffer.png)\n  - BufferNodeglobalBufferrequire()\n- Buffer\n  - Buffer160255\n  - 025602552552560~255\n```\nbuf[20] = -100; \nconsole.log(buf[20]); // 156 \nbuf[21] = 300; \nconsole.log(buf[21]); // 44 \nbuf[22] = 3.1415; \nconsole.log(buf[22]); // 3 \n```\n- Buffer\n  - BufferV8NodeC++\n  - NodeC++JavaScript\n  - Nodeslab,\n    - full\n    - partial\n    - empty\n  - Node8 KBBuffer,8 KBslabJavaScript\n    - Buffer\n      - Buffer8 KBNodeBufferpoolslab\n      - ![buffer](./images/buffer-1.png)\n      - Bufferslabslab\n      - ![buffer](./images/buffer-2.png)\n      - slabslabslab\n      - ![buffer](./images/buffer-3.png)\n      - slabBufferBufferslab8 KB1Buffer8 KB\n    - Buffer\n      - 8 KBBufferSlowBufferslabslabBuffer\n\n###### Buffer \nBuffer,:\n- ASCII\n- UTF-8\n- UTF-16LE/UCS-2\n- Base64\n- Binary\n- Hex\n\n- Buffer\n  - Buffernew Buffer(str, [encoding]);\n  - BufferencodingUTF-8\n  - Buffer\n- Buffer\n  - BufferBuffertoString()Bufferbuf.toString([encoding], [start], [end]) \n  - encodingUTF-8startend3Buffer\n- Buffer\n  - BufferisEncoding()Buffer.isEncoding(encoding)\n  - GBKGB2312BIG-5\n  - Nodeiconviconv-liteWindows 125ISO-8859IBM/DOSMacintoshKOI8Latin1US-ASCIIGBKGB2312\n\n###### Buffer \n```\nvar fs = require('fs'); \nvar rs = fs.createReadStream('test.md'); \nvar data = ''; \nrs.on(\"data\", function (chunk){ \n data += chunk; \n}); \nrs.on(\"end\", function () { \n console.log(data); \n}); \n```\n- Buffer\n- setEncoding()string_decoder()\n  - setEncodingdataBuffer\n  - string_decoderUTF-8Base64UCS-2/UTF-16LE3setEncoding()\n- Buffer\n```\nvar chunks = []; \nvar size = 0; \nres.on('data', function (chunk) { \n chunks.push(chunk); \n size += chunk.length; \n}); \nres.on('end', function () { \n   var buf = Buffer.concat(chunks, size); \n var str = iconv.decode(buf, 'utf8'); \n console.log(str); \n});\n```\n  - BufferBuffer.concat()Buffer\n  - Buffer.concat()BufferBuffer\n```\nBuffer.concat = function(list, length) { \n if (!Array.isArray(list)) { \n throw new Error('Usage: Buffer.concat(list, [length])'); \n } \n if (list.length === 0) { \n return new Buffer(0); \n } else if (list.length === 1) { \n return list[0]; \n } \n if (typeof length !== 'number') { \n length = 0; \n for (var i = 0; i < list.length; i++) { \n var buf = list[i]; \n length += buf.length; \n } \n } \n var buffer = new Buffer(length); \n var pos = 0; \n for (var i = 0; i < list.length; i++) { \n var buf = list[i]; \n buf.copy(buffer, pos); \n pos += buf.length; \n } \n return buffer; \n}; \n```\n###### Buffer \nBufferCPUNodeWebBufferBuffer\n- \n  - highWaterMark\n    - highWaterMark\n      - highWaterMarkBuffer\n      - highWaterMark\n    - highWaterMark\n\n#### \nNodenetdgramhttphttps4TCPUDPHTTPHTTPS\n\n-  TCP \n  - TCP\n    - TCPOSITCPHTTPSMTPIMAP\n    - ![](./images/net-1.png)\n    - TCP3\n    - ![](./images/net-2.png)\n  - TCP\n```\nvar net = require('net'); \nvar server = net.createServer(function (socket) { \n // \n socket.on('data', function (data) { \n socket.write(\"\"); \n }); \n socket.on('end', function () { \n console.log(''); \n }); \n socket.write(\"Node.js\\n\"); \n}); \nserver.listen(8124, function () { \n console.log('server bound'); \n});\n```\n  - TCP\n    - \n      - listeningserver.listen()Domain Socketserver.listen(port,listeningListener)listen()\n      - connectionnet.create\u0002Server()\n      - closeserver.close()\n      - errorerror\n    - \n      - datawrite()datawrite()\n      - endFIN\n      - connect\n      - drainwrite()\n      - error\n      - close\n      - timeout\n    - TCPNagleNagleNagle\n    - NodeTCPNaglesocket.setNoDelay(true)Naglewrite()\n    - write()datawrite()dataNagledata\n######  UDP \nUDPTCPUDPTCPUDPTCPTCPUDPUDPUDPDNS\n- UDP\n  - UDPUDP\n  - var dgram = require('dgram'); var socket = dgram.createSocket(\"udp4\");\n- UDP\n  - UDPdgram.bind(port, [address])\n```\nvar dgram = require(\"dgram\"); \nvar server = dgram.createSocket(\"udp4\"); \nserver.on(\"message\", function (msg, rinfo) { \n console.log(\"server got: \" + msg + \" from \" + \n rinfo.address + \":\" + rinfo.port); \n}); \nserver.on(\"listening\", function () { \n var address = server.address();\n console.log(\"server listening \" + \n address.address + \":\" + address.port); \n}); \nserver.bind(41234);\n```\n- UDP\n```\nvar dgram = require('dgram'); \nvar message = new Buffer(\"Node.js\"); \nvar client = dgram.createSocket(\"udp4\"); \nclient.send(message, 0, message.length, 41234, \"localhost\", function(err, bytes) { \n client.close(); \n}); \n\nsocket.send(buf, offset, length, port, address, [callback])\n// BufferBufferBuffer\n```\n- UDP\n  - UDPTCPEventEmitterStream\n    - messageUDPBuffer\n    - listeningUDP\n    - closeclose()messagemessage\n    - error\n\n######  HTTP \n- HTTP\n  - HTTP\n    - HTTPHyperText Transfer Protocol\n    - HTTPTCPHTTPB/SWebHTTP\n    - HTTPW3CIETFRFCHTTPRFC 2616\n  -  HTTP\n```\n$ curl -v http://127.0.0.1:1337 \n* About to connect() to 127.0.0.1 port 1337 (#0) \n* Trying 127.0.0.1... \n* connected \n* Connected to 127.0.0.1 (127.0.0.1) port 1337 (#0) \n> GET / HTTP/1.1 \n> User-Agent: curl/7.24.0 (x86_64-apple-darwin12.0) libcurl/7.24.0 OpenSSL/0.9.8r zlib/1.2.5 \n> Host: 127.0.0.1:1337 \n> Accept: */* \n> \n< HTTP/1.1 200 OK \n< Content-Type: text/plain \n< Date: Sat, 06 Apr 2013 08:01:44 GMT \n< Connection: keep-alive \n< Transfer-Encoding: chunked \n< \nHello World\n* Connection #0 to host 127.0.0.1 left intact \n* Closing connection #0\n```\n    - HTTPHTTPHTTP\n  - http\n    - NodeHTTPTCPnetHTTPTCPkeepaliveTCPTCPconnectionHTTPrequest\n    - ![http](./images/net-3.png)\n    - httpServerRequestServerResponsehttphttp_parserrequest\n    - ![http](./images/net-4.png)\n      - HTTP\n        - connectionHTTPTCPkeep-aliveconnection\n        - requestTCPhttpHTTPHTTPHTTPres.end()TCP\n        - closeTCPserver.close()server.close()\n        - checkContinueExpect: 100-continuecheckContinue100 Continue400 Bad Requestrequest100 Continuerequest\n        - connectCONNECTCONNECTHTTP\n        - upgradeUpgradeWebSocket\n        - clientErrorerror\n###### HTTP\nhttpAPIhttp.request(options, connect)HTTP\n```\nvar options = { \n hostname: '127.0.0.1', \n port: 1334, \n path: '/', \n method: 'GET' \n}; \nvar req = http.request(options, function(res) { \n console.log('STATUS: ' + res.statusCode); \n console.log('HEADERS: ' + JSON.stringify(res.headers)); \n res.setEncoding('utf8'); \n res.on('data', function (chunk) { \n console.log(chunk); \n }); \n}); \nreq.end();\n```\nHTTP:\n- hostIPlocalhost\n- hostname\n- port80\n- localAddress\n- socketPathDomain\n- methodHTTPGET\n- path/\n- headers\n- authBasicAuthorization\n\n\n- HTTP\n  - HTTPClientRequestresponseClientRequestresponseClientResponse\n```\nfunction(res) { \n console.log('STATUS: ' + res.statusCode); \n console.log('HEADERS: ' + JSON.stringify(res.headers)); \n res.setEncoding('utf8'); \n res.on('data', function (chunk) { \n console.log(chunk); \n }); \n}\n```\n- HTTP \n  - httpClientRequestTCPkeepaliveTCPhttphttp.globalAgenthost + portClientRequestHTTP5\n  - ![http](./images/http.png)\n  - HTTP10HTTP5\n  - ClientRequestHTTPoptionsagent5\n```\nvar agent = new http.Agent({ \n maxSockets: 10 \n}); \nvar options = { \n hostname: '127.0.0.1', \n port: 1334, \n path: '/', \n method: 'GET', \n agent: agent \n}; \n```\n  - agentfalse\n- HTTP\n  - responserequest\n  - socket\n  - connectCONNECT200\n  - upgradeUpgrade101 Switching Protocols\n  - continueExpect: 100-continue100 Continue\n\n######  WebSocket \n- WebSocketNode\n- WebSocketNode\n\nwebsockethttp\n- TCP\n- WebSocketHTTP\n- \n\n```\nvar socket = new WebSocket('ws://127.0.0.1:12010/updates'); \nsocket.onopen = function () { \n setInterval(function() { \n if (socket.bufferedAmount == 0) \n socket.send(getUpdateData()); \n }, 50); \n}; \nsocket.onmessage = function (event) { \n // TODOevent.data \n};\n```\n\nWebSocketCometCometlong-pollingiframeres.end()Comet\n\n- WebSocket\n```\nGET /chat HTTP/1.1 \nHost: server.example.com \nUpgrade: websocket \nConnection: Upgrade \nSec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ== \nSec-WebSocket-Protocol: chat, superchat \nSec-WebSocket-Version: 13 \n```\n  - Upgrade/ConnectionWebSocketSec-WebSocket-Key\n  - Sec-WebSocket-KeyBase64258EAFA5-E914-47DA-95CA-C5AB0DC85B11dGhlIHNhbXBsZSBub25jZQ==258EAFA5-E914-47DA-95CA-C5AB0DC85B11sha1Base64\n  - \n```\nHTTP/1.1 101 Switching Protocols \nUpgrade: websocket \nConnection: Upgrade \nSec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK+xOo= \nSec-WebSocket-Protocol: chat\n```\n\n###### WebSocket\n![websocket](./images/websocket.png)\n```\nWebSocket.prototype.setSocket = function (socket) { \n this.socket = socket; \n this.socket.on('data', this.receiver); \n}; \n\nWebSocket.prototype.send = function (data) { \n this._send(data); \n}; \n```\n  - \n  - ![websocket](./images/websocket-1.png)\n  - finfin10\n  - rsv1rsv2rsv31310\n  - opcode401501289ping10pongpingpongpingpong\n  - masked110\n  - payload length77+167+640~1251261612764\n  - masking keymasked132\n  - payload data8\n\nnodewebsocket\n- \n- JavaScriptWebSocketAPI\n\n###### \nNode3cryptotlshttpscryptotlsnetTLS/SSLTCPhttpshttp\n  - TLS/SSL\n    - \n      - TLS/SSL/\n      - ![TLS/SSL](./images/tls-ssl.png)\n      - NodeopensslTLS/SSLopenssl\n```\n# \n// \n$ openssl genrsa -out server.key 1024 \n// \n$ openssl genrsa -out client.key 1024\n\n#\n$ openssl rsa -in server.key -pubout -out server.pem \n$ openssl rsa -in client.key -pubout -out client.pem \n```\n      - TLS/SSL\n    - \n      - CACertificate AuthorityCACA\n      - CACA\n```\n$ openssl genrsa -out ca.key 1024 \n$ openssl req -new -key ca.key -out ca.csr \n$ openssl x509 -req -in ca.csr -signkey ca.key -out ca.crt\n```\n      - ![CA](./images/ca.png)\n      - ![CA](./images/ca-1.png)\n\n###### TLS\n- \n```\nvar tls = require('tls'); \nvar fs = require('fs'); \nvar options = { \n key: fs.readFileSync('./keys/server.key'), \n cert: fs.readFileSync('./keys/server.crt'), \n requestCert: true, \n ca: [ fs.readFileSync('./keys/ca.crt') ] \n}; \nvar server = tls.createServer(options, function (stream) { \n console.log('server connected', stream.authorized ? 'authorized' : 'unauthorized'); \n stream.write(\"welcome!\\n\"); \n stream.setEncoding('utf8'); \n stream.pipe(stream); \n}); \nserver.listen(8000, function() {\n  console.log('server bound'); \n}); \n\n# \n$ openssl s_client -connect 127.0.0.1:8000\n```\n- TLS\n```\n// \n$ openssl genrsa -out client.key 1024 \n// CSR \n$ openssl req -new -key client.key -out client.csr \n// \n$ openssl x509 -req -CA ca.crt -CAkey ca.key -CAcreateserial -in client.csr -out client.crt\n\nvar tls = require('tls'); \nvar fs = require('fs'); \nvar options = { \n key: fs.readFileSync('./keys/client.key'), \n cert: fs.readFileSync('./keys/client.crt'), \n ca: [ fs.readFileSync('./keys/ca.crt') ] \n}; \nvar stream = tls.connect(8000, options, function () { \n console.log('client connected', stream.authorized ? 'authorized' : 'unauthorized'); \n process.stdin.pipe(stream); \n}); \nstream.setEncoding('utf8'); \nstream.on('data', function(data) { \n console.log(data); \n}); \nstream.on('end', function() { \n server.close(); \n}); \n```\n\n###### HTTPS\n- HTTPS\n```\nvar https = require('https'); \nvar fs = require('fs'); \nvar options = { \n key: fs.readFileSync('./keys/server.key'), \n cert: fs.readFileSync('./keys/server.crt') \n}; \nhttps.createServer(options, function (req, res) { \n res.writeHead(200); \n res.end(\"hello world\\n\"); \n}).listen(8000);\n\n$ curl https://localhost:8000/ \ncurl: (60) SSL certificate problem, verify that the CA cert is OK. Details: \nerror:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed \nMore details here: http://curl.haxx.se/docs/sslcerts.html \ncurl performs SSL certificate verification by default, using a \"bundle\" \n of Certificate Authority (CA) public keys (CA certs). If the default \n bundle file isn't adequate, you can specify an alternate file \n using the --cacert option. \nIf this HTTPS server uses a certificate signed by a CA represented in \n the bundle, the certificate verification probably failed due to a \n problem with the certificate (it might be expired, or the name might \n not match the domain name in the URL). \nIf you'd like to turn off curl's verification of the certificate, use \n the -k (or --insecure) option.\n```\ncurl\n  - -kcurl\n  - curl--cacertCA\n```\n$ curl -k https://localhost:8000/ \nhello world\n\n$ curl --cacert keys/ca.crt https://localhost:8000/ \nhello world \n```\n- HTTPS\n```\nvar https = require('https'); \nvar fs = require('fs'); \nvar options = { \n hostname: 'localhost', \n port: 8000, \n path: '/', \n method: 'GET', \n key: fs.readFileSync('./keys/client.key'), \n cert: fs.readFileSync('./keys/client.crt'), \n ca: [fs.readFileSync('./keys/ca.crt')] \n}; \noptions.agent = new https.Agent(options); \nvar req = https.request(options, function(res) { \n res.setEncoding('utf-8'); \n res.on('data', function(d) { \n console.log(d); \n }); \n}); \nreq.end(); \nreq.on('error', function(e) { \n console.log(e); \n}); \n```\nca: [Error: UNABLE_TO_VERIFY_LEAF_SIGNATURE] \nrejectUnauthorizedfalsecurl-k\n\n\n\n??? send()onmessage()send()\nonmessage()send()\n","updated":"2022-12-28T01:46:56.923Z","path":"nodejs/nodejs-note-3.html","comments":1,"layout":"page","_id":"clchh4gww0010cktt1zc5c3b2","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><p>V8 </p>\n<ul>\n<li>V8JavaScript</li>\n<li>V8V8V8V8</li>\n<li>Nodemax-old-space-sizemax-new-space-size</li>\n</ul>\n</li>\n<li><p>V8 </p>\n<ul>\n<li>V8<ul>\n<li>V8</li>\n<li>V8V8</li>\n<li>V8max-old-space-size-max-new-space-sizeV8</li>\n<li>64321.4 GB0.7 GB</li>\n<li>643232 MB16 MB</li>\n</ul>\n</li>\n<li>Scavenge<ul>\n<li>ScavengeScavengeCheney</li>\n<li>CheneysemispacesemispacesemispaceFromToFromFromToFromTosemispace</li>\n<li>ScavengeFromToFromToFromToScavengeTo</li>\n<li><img src=\"/nodejs/images/v8-promot.png\" alt=\"\"></li>\n<li><img src=\"/nodejs/images/v8-promot2.png\" alt=\"\"></li>\n</ul>\n</li>\n<li>Mark-Sweep &amp; Mark-Compact<ul>\n<li>V8Mark-SweepMark-CompactMark-SweepScavengeMark-SweepScavengeMark-Sweep</li>\n<li>Mark-Sweep</li>\n<li>Mark-CompactMark-CompactMark-Sweep</li>\n<li><img src=\"/nodejs/images/sweep-compact.png\" alt=\"\"></li>\n<li><img src=\"/nodejs/images/collect-diff.png\" alt=\"\"></li>\n<li>V8Mark-SweepMark-Compact</li>\n</ul>\n</li>\n<li>Incremental Marking<ul>\n<li>3stop-the-worldV8V8full </li>\n<li>V8incremental markingJavaScript</li>\n<li><img src=\"/nodejs/images/increase-target.png\" alt=\"\"></li>\n</ul>\n</li>\n<li><ul>\n<li>trace_gc</li>\n<li>NodeprofV8<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li><p></p>\n<ul>\n<li>closure</li>\n</ul>\n</li>\n<li><p>: process.memoryUsage()ostotalmem()freemem()</p>\n<ul>\n<li><ul>\n<li><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ node </span><br><span class=\"line\">&gt; process.memoryUsage() </span><br><span class=\"line\">&#123; <span class=\"attr\">rss</span>: <span class=\"number\">13852672</span>, </span><br><span class=\"line\"> <span class=\"attr\">heapTotal</span>: <span class=\"number\">6131200</span>, </span><br><span class=\"line\"> <span class=\"attr\">heapUsed</span>: <span class=\"number\">2757120</span> &#125; </span><br></pre></td></tr></table></figure></li>\n<li>rssresident set sizerssswapfilesystemrssheapTotalheapUsedV8heapTotalheapUsed3</li>\n</ul>\n</li>\n<li><ol start=\"2\">\n<li></li>\n</ol>\n<ul>\n<li>process.memoryUsage()ostotalmem()freemem()</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>: V8</p>\n<ul>\n<li>BufferV8<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var useMem = function () &#123; </span><br><span class=\"line\"> var size = 200 * 1024 * 1024; </span><br><span class=\"line\"> var buffer = new Buffer(size); </span><br><span class=\"line\"> for (var i = 0; i &lt; size; i++) &#123; </span><br><span class=\"line\"> buffer[i] = 0; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> return buffer; </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6>Node</li>\n</ul>\n</li>\n</ul>\n<p></p>\n<ul>\n<li><ul>\n<li>Node</li>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li><ul>\n<li></li>\n<li>LRU<a href=\"https://github.com/isaacs/node-lru-cache\">https://github.com/isaacs/node-lru-cache</a></li>\n</ul>\n</li>\n<li><ul>\n<li><ul>\n<li>(1) </li>\n<li>(2) </li>\n<li>Redis<a href=\"https://github.com/mranney/node_redis%E3%80%82\">https://github.com/mranney/node_redis</a></li>\n<li>Memcached<a href=\"https://github.com/3rd-Eden/node-memcached%E3%80%82\">https://github.com/3rd-Eden/node-memcached</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><ul>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li></li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<ul>\n<li>v8-profiler</li>\n<li>node-heapdump<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var leakArray = []; </span><br><span class=\"line\">var leak = function () &#123; </span><br><span class=\"line\"> leakArray.push(&quot;leak&quot; + Math.random()); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">http.createServer(function (req, res) &#123; </span><br><span class=\"line\"> leak(); </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/plain&#x27;&#125;); </span><br><span class=\"line\"> res.end(&#x27;Hello World\\n&#x27;); </span><br><span class=\"line\">&#125;).listen(1337); </span><br><span class=\"line\">console.log(&#x27;Server running at http://127.0.0.1:1337/&#x27;); </span><br></pre></td></tr></table></figure></li>\n<li>node-mtrace</li>\n<li>dtrace</li>\n<li>node-memwatch<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var memwatch = require(&#x27;memwatch&#x27;); </span><br><span class=\"line\">memwatch.on(&#x27;leak&#x27;, function (info) &#123; </span><br><span class=\"line\"> console.log(&#x27;leak:&#x27;); </span><br><span class=\"line\"> console.log(info); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">memwatch.on(&#x27;stats&#x27;, function (stats) &#123; </span><br><span class=\"line\"> console.log(&#x27;stats:&#x27;) </span><br><span class=\"line\"> console.log(stats); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">var http = require(&#x27;http&#x27;); </span><br><span class=\"line\">var leakArray = []; </span><br><span class=\"line\">var leak = function () &#123; </span><br><span class=\"line\"> leakArray.push(&quot;leak&quot; + Math.random()); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">http.createServer(function (req, res) &#123; </span><br><span class=\"line\"> leak(); </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/plain&#x27;&#125;); </span><br><span class=\"line\"> res.end(&#x27;Hello World\\n&#x27;); </span><br><span class=\"line\">&#125;).listen(1337); </span><br><span class=\"line\">console.log(&#x27;Server running at http://127.0.0.1:1337/&#x27;); </span><br></pre></td></tr></table></figure>\n<ul>\n<li>stats<ul>\n<li>stats<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">stats: </span><br><span class=\"line\">&#123; num_full_gc: 4, // </span><br><span class=\"line\"> num_inc_gc: 23, // </span><br><span class=\"line\"> heap_compactions: 4, // </span><br><span class=\"line\"> usage_trend: 0, // </span><br><span class=\"line\"> estimated_base: 7152944, // </span><br><span class=\"line\"> current_base: 7152944, // </span><br><span class=\"line\"> min: 6720776, // </span><br><span class=\"line\"> max: 7152944 &#125; // </span><br><span class=\"line\">num_full_gcnum_inc_gc</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>leak<ul>\n<li>5node-memwatchleak</li>\n</ul>\n</li>\n<li><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var memwatch = require(&#x27;memwatch&#x27;); </span><br><span class=\"line\">var leakArray = []; </span><br><span class=\"line\">var leak = function () &#123; </span><br><span class=\"line\"> leakArray.push(&quot;leak&quot; + Math.random()); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">// Take first snapshot </span><br><span class=\"line\">var hd = new memwatch.HeapDiff(); </span><br><span class=\"line\">for (var i = 0; i &lt; 10000; i++) &#123; </span><br><span class=\"line\"> leak(); </span><br><span class=\"line\">&#125; </span><br><span class=\"line\">// Take the second snapshot and compute the diff </span><br><span class=\"line\">var diff = hd.end(); </span><br><span class=\"line\">console.log(JSON.stringify(diff, null, 2));</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>streamstreamNodestreamEventEmitter</p>\n<p>V8fs.readFile()fs.writeFile()fs.createReadStream()fs.createWriteStream()</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var reader = fs.createReadStream(&#x27;in.txt&#x27;); </span><br><span class=\"line\">var writer = fs.createWriteStream(&#x27;out.txt&#x27;); </span><br><span class=\"line\">reader.pipe(writer); </span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Buffer\"><a href=\"#Buffer\" class=\"headerlink\" title=\"Buffer\"></a>Buffer</h4><p>BufferArray</p>\n<ul>\n<li><ul>\n<li>BufferJavaScriptC++C++JavaScript</li>\n<li><img src=\"/nodejs/images/buffer.png\" alt=\"buffer\"></li>\n<li>BufferNodeglobalBufferrequire()</li>\n</ul>\n</li>\n<li>Buffer<ul>\n<li>Buffer160255</li>\n<li>025602552552560~255<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">buf[20] = -100; </span><br><span class=\"line\">console.log(buf[20]); // 156 </span><br><span class=\"line\">buf[21] = 300; </span><br><span class=\"line\">console.log(buf[21]); // 44 </span><br><span class=\"line\">buf[22] = 3.1415; </span><br><span class=\"line\">console.log(buf[22]); // 3 </span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>Buffer<ul>\n<li>BufferV8NodeC++</li>\n<li>NodeC++JavaScript</li>\n<li>Nodeslab,<ul>\n<li>full</li>\n<li>partial</li>\n<li>empty</li>\n</ul>\n</li>\n<li>Node8 KBBuffer,8 KBslabJavaScript<ul>\n<li>Buffer<ul>\n<li>Buffer8 KBNodeBufferpoolslab</li>\n<li><img src=\"/nodejs/images/buffer-1.png\" alt=\"buffer\"></li>\n<li>Bufferslabslab</li>\n<li><img src=\"/nodejs/images/buffer-2.png\" alt=\"buffer\"></li>\n<li>slabslabslab</li>\n<li><img src=\"/nodejs/images/buffer-3.png\" alt=\"buffer\"></li>\n<li>slabBufferBufferslab8 KB1Buffer8 KB</li>\n</ul>\n</li>\n<li>Buffer<ul>\n<li>8 KBBufferSlowBufferslabslabBuffer</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"Buffer-\"><a href=\"#Buffer-\" class=\"headerlink\" title=\"Buffer \"></a>Buffer </h6><p>Buffer,:</p>\n<ul>\n<li><p>ASCII</p>\n</li>\n<li><p>UTF-8</p>\n</li>\n<li><p>UTF-16LE/UCS-2</p>\n</li>\n<li><p>Base64</p>\n</li>\n<li><p>Binary</p>\n</li>\n<li><p>Hex</p>\n</li>\n<li><p>Buffer</p>\n<ul>\n<li>Buffernew Buffer(str, [encoding]);</li>\n<li>BufferencodingUTF-8</li>\n<li>Buffer</li>\n</ul>\n</li>\n<li><p>Buffer</p>\n<ul>\n<li>BufferBuffertoString()Bufferbuf.toString([encoding], [start], [end]) </li>\n<li>encodingUTF-8startend3Buffer</li>\n</ul>\n</li>\n<li><p>Buffer</p>\n<ul>\n<li>BufferisEncoding()Buffer.isEncoding(encoding)</li>\n<li>GBKGB2312BIG-5</li>\n<li>Nodeiconviconv-liteWindows 125ISO-8859IBM/DOSMacintoshKOI8Latin1US-ASCIIGBKGB2312</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"Buffer-\"><a href=\"#Buffer-\" class=\"headerlink\" title=\"Buffer \"></a>Buffer </h6><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var rs = fs.createReadStream(&#x27;test.md&#x27;); </span><br><span class=\"line\">var data = &#x27;&#x27;; </span><br><span class=\"line\">rs.on(&quot;data&quot;, function (chunk)&#123; </span><br><span class=\"line\"> data += chunk; </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">rs.on(&quot;end&quot;, function () &#123; </span><br><span class=\"line\"> console.log(data); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\n<ul>\n<li>Buffer</li>\n<li>setEncoding()string_decoder()<ul>\n<li>setEncodingdataBuffer</li>\n<li>string_decoderUTF-8Base64UCS-2/UTF-16LE3setEncoding()</li>\n</ul>\n</li>\n<li>Buffer<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var chunks = []; </span><br><span class=\"line\">var size = 0; </span><br><span class=\"line\">res.on(&#x27;data&#x27;, function (chunk) &#123; </span><br><span class=\"line\"> chunks.push(chunk); </span><br><span class=\"line\"> size += chunk.length; </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">res.on(&#x27;end&#x27;, function () &#123; </span><br><span class=\"line\">   var buf = Buffer.concat(chunks, size); </span><br><span class=\"line\"> var str = iconv.decode(buf, &#x27;utf8&#x27;); </span><br><span class=\"line\"> console.log(str); </span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<ul>\n<li>BufferBuffer.concat()Buffer</li>\n<li>Buffer.concat()BufferBuffer<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Buffer.concat = function(list, length) &#123; </span><br><span class=\"line\"> if (!Array.isArray(list)) &#123; </span><br><span class=\"line\"> throw new Error(&#x27;Usage: Buffer.concat(list, [length])&#x27;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> if (list.length === 0) &#123; </span><br><span class=\"line\"> return new Buffer(0); </span><br><span class=\"line\"> &#125; else if (list.length === 1) &#123; </span><br><span class=\"line\"> return list[0]; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> if (typeof length !== &#x27;number&#x27;) &#123; </span><br><span class=\"line\"> length = 0; </span><br><span class=\"line\"> for (var i = 0; i &lt; list.length; i++) &#123; </span><br><span class=\"line\"> var buf = list[i]; </span><br><span class=\"line\"> length += buf.length; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> var buffer = new Buffer(length); </span><br><span class=\"line\"> var pos = 0; </span><br><span class=\"line\"> for (var i = 0; i &lt; list.length; i++) &#123; </span><br><span class=\"line\"> var buf = list[i]; </span><br><span class=\"line\"> buf.copy(buffer, pos); </span><br><span class=\"line\"> pos += buf.length; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> return buffer; </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n<h6 id=\"Buffer-\"><a href=\"#Buffer-\" class=\"headerlink\" title=\"Buffer \"></a>Buffer </h6>BufferCPUNodeWebBufferBuffer</li>\n</ul>\n</li>\n<li><ul>\n<li>highWaterMark<ul>\n<li>highWaterMark<ul>\n<li>highWaterMarkBuffer</li>\n<li>highWaterMark</li>\n</ul>\n</li>\n<li>highWaterMark</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Nodenetdgramhttphttps4TCPUDPHTTPHTTPS</p>\n<ul>\n<li> TCP <ul>\n<li>TCP<ul>\n<li>TCPOSITCPHTTPSMTPIMAP</li>\n<li><img src=\"/nodejs/images/net-1.png\" alt=\"\"></li>\n<li>TCP3</li>\n<li><img src=\"/nodejs/images/net-2.png\" alt=\"\"></li>\n</ul>\n</li>\n<li>TCP<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var net = require(&#x27;net&#x27;); </span><br><span class=\"line\">var server = net.createServer(function (socket) &#123; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> socket.on(&#x27;data&#x27;, function (data) &#123; </span><br><span class=\"line\"> socket.write(&quot;&quot;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> socket.on(&#x27;end&#x27;, function () &#123; </span><br><span class=\"line\"> console.log(&#x27;&#x27;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> socket.write(&quot;Node.js\\n&quot;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">server.listen(8124, function () &#123; </span><br><span class=\"line\"> console.log(&#x27;server bound&#x27;); </span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></li>\n<li>TCP<ul>\n<li><ul>\n<li>listeningserver.listen()Domain Socketserver.listen(port,listeningListener)listen()</li>\n<li>connectionnet.create\u0002Server()</li>\n<li>closeserver.close()</li>\n<li>errorerror</li>\n</ul>\n</li>\n<li><ul>\n<li>datawrite()datawrite()</li>\n<li>endFIN</li>\n<li>connect</li>\n<li>drainwrite()</li>\n<li>error</li>\n<li>close</li>\n<li>timeout</li>\n</ul>\n</li>\n<li>TCPNagleNagleNagle</li>\n<li>NodeTCPNaglesocket.setNoDelay(true)Naglewrite()</li>\n<li>write()datawrite()dataNagledata<h6 id=\"-UDP-\"><a href=\"#-UDP-\" class=\"headerlink\" title=\" UDP \"></a> UDP </h6>UDPTCPUDPTCPUDPTCPTCPUDPUDPUDPDNS</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>UDP<ul>\n<li>UDPUDP</li>\n<li>var dgram = require(dgram); var socket = dgram.createSocket(udp4);</li>\n</ul>\n</li>\n<li>UDP<ul>\n<li>UDPdgram.bind(port, [address])<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var dgram = require(&quot;dgram&quot;); </span><br><span class=\"line\">var server = dgram.createSocket(&quot;udp4&quot;); </span><br><span class=\"line\">server.on(&quot;message&quot;, function (msg, rinfo) &#123; </span><br><span class=\"line\"> console.log(&quot;server got: &quot; + msg + &quot; from &quot; + </span><br><span class=\"line\"> rinfo.address + &quot;:&quot; + rinfo.port); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">server.on(&quot;listening&quot;, function () &#123; </span><br><span class=\"line\"> var address = server.address();</span><br><span class=\"line\"> console.log(&quot;server listening &quot; + </span><br><span class=\"line\"> address.address + &quot;:&quot; + address.port); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">server.bind(41234);</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>UDP<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var dgram = require(&#x27;dgram&#x27;); </span><br><span class=\"line\">var message = new Buffer(&quot;Node.js&quot;); </span><br><span class=\"line\">var client = dgram.createSocket(&quot;udp4&quot;); </span><br><span class=\"line\">client.send(message, 0, message.length, 41234, &quot;localhost&quot;, function(err, bytes) &#123; </span><br><span class=\"line\"> client.close(); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br><span class=\"line\">socket.send(buf, offset, length, port, address, [callback])</span><br><span class=\"line\">// BufferBufferBuffer</span><br></pre></td></tr></table></figure></li>\n<li>UDP<ul>\n<li>UDPTCPEventEmitterStream<ul>\n<li>messageUDPBuffer</li>\n<li>listeningUDP</li>\n<li>closeclose()messagemessage</li>\n<li>error</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"-HTTP-\"><a href=\"#-HTTP-\" class=\"headerlink\" title=\" HTTP \"></a> HTTP </h6><ul>\n<li>HTTP<ul>\n<li>HTTP<ul>\n<li>HTTPHyperText Transfer Protocol</li>\n<li>HTTPTCPHTTPB/SWebHTTP</li>\n<li>HTTPW3CIETFRFCHTTPRFC 2616</li>\n</ul>\n</li>\n<li> HTTP<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ curl -v http://127.0.0.1:1337 </span><br><span class=\"line\">* About to connect() to 127.0.0.1 port 1337 (#0) </span><br><span class=\"line\">* Trying 127.0.0.1... </span><br><span class=\"line\">* connected </span><br><span class=\"line\">* Connected to 127.0.0.1 (127.0.0.1) port 1337 (#0) </span><br><span class=\"line\">&gt; GET / HTTP/1.1 </span><br><span class=\"line\">&gt; User-Agent: curl/7.24.0 (x86_64-apple-darwin12.0) libcurl/7.24.0 OpenSSL/0.9.8r zlib/1.2.5 </span><br><span class=\"line\">&gt; Host: 127.0.0.1:1337 </span><br><span class=\"line\">&gt; Accept: */* </span><br><span class=\"line\">&gt; </span><br><span class=\"line\">&lt; HTTP/1.1 200 OK </span><br><span class=\"line\">&lt; Content-Type: text/plain </span><br><span class=\"line\">&lt; Date: Sat, 06 Apr 2013 08:01:44 GMT </span><br><span class=\"line\">&lt; Connection: keep-alive </span><br><span class=\"line\">&lt; Transfer-Encoding: chunked </span><br><span class=\"line\">&lt; </span><br><span class=\"line\">Hello World</span><br><span class=\"line\">* Connection #0 to host 127.0.0.1 left intact </span><br><span class=\"line\">* Closing connection #0</span><br></pre></td></tr></table></figure></li>\n<li>HTTPHTTPHTTP</li>\n<li>http<ul>\n<li>NodeHTTPTCPnetHTTPTCPkeepaliveTCPTCPconnectionHTTPrequest</li>\n<li><img src=\"/nodejs/images/net-3.png\" alt=\"http\"></li>\n<li>httpServerRequestServerResponsehttphttp_parserrequest</li>\n<li><img src=\"/nodejs/images/net-4.png\" alt=\"http\"><ul>\n<li>HTTP<ul>\n<li>connectionHTTPTCPkeep-aliveconnection</li>\n<li>requestTCPhttpHTTPHTTPHTTPres.end()TCP</li>\n<li>closeTCPserver.close()server.close()</li>\n<li>checkContinueExpect: 100-continuecheckContinue100 Continue400 Bad Requestrequest100 Continuerequest</li>\n<li>connectCONNECTCONNECTHTTP</li>\n<li>upgradeUpgradeWebSocket</li>\n<li>clientErrorerror<h6 id=\"HTTP\"><a href=\"#HTTP\" class=\"headerlink\" title=\"HTTP\"></a>HTTP</h6>httpAPIhttp.request(options, connect)HTTP<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var options = &#123; </span><br><span class=\"line\"> hostname: &#x27;127.0.0.1&#x27;, </span><br><span class=\"line\"> port: 1334, </span><br><span class=\"line\"> path: &#x27;/&#x27;, </span><br><span class=\"line\"> method: &#x27;GET&#x27; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">var req = http.request(options, function(res) &#123; </span><br><span class=\"line\"> console.log(&#x27;STATUS: &#x27; + res.statusCode); </span><br><span class=\"line\"> console.log(&#x27;HEADERS: &#x27; + JSON.stringify(res.headers)); </span><br><span class=\"line\"> res.setEncoding(&#x27;utf8&#x27;); </span><br><span class=\"line\"> res.on(&#x27;data&#x27;, function (chunk) &#123; </span><br><span class=\"line\"> console.log(chunk); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">req.end();</span><br></pre></td></tr></table></figure>\nHTTP:</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>hostIPlocalhost</li>\n<li>hostname</li>\n<li>port80</li>\n<li>localAddress</li>\n<li>socketPathDomain</li>\n<li>methodHTTPGET</li>\n<li>path/</li>\n<li>headers</li>\n<li>authBasicAuthorization</li>\n</ul>\n<ul>\n<li>HTTP<ul>\n<li>HTTPClientRequestresponseClientRequestresponseClientResponse<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function(res) &#123; </span><br><span class=\"line\"> console.log(&#x27;STATUS: &#x27; + res.statusCode); </span><br><span class=\"line\"> console.log(&#x27;HEADERS: &#x27; + JSON.stringify(res.headers)); </span><br><span class=\"line\"> res.setEncoding(&#x27;utf8&#x27;); </span><br><span class=\"line\"> res.on(&#x27;data&#x27;, function (chunk) &#123; </span><br><span class=\"line\"> console.log(chunk); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>HTTP <ul>\n<li>httpClientRequestTCPkeepaliveTCPhttphttp.globalAgenthost + portClientRequestHTTP5</li>\n<li><img src=\"./images/http.png\" alt=\"http\"></li>\n<li>HTTP10HTTP5</li>\n<li>ClientRequestHTTPoptionsagent5<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var agent = new http.Agent(&#123; </span><br><span class=\"line\"> maxSockets: 10 </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">var options = &#123; </span><br><span class=\"line\"> hostname: &#x27;127.0.0.1&#x27;, </span><br><span class=\"line\"> port: 1334, </span><br><span class=\"line\"> path: &#x27;/&#x27;, </span><br><span class=\"line\"> method: &#x27;GET&#x27;, </span><br><span class=\"line\"> agent: agent </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure></li>\n<li>agentfalse</li>\n</ul>\n</li>\n<li>HTTP<ul>\n<li>responserequest</li>\n<li>socket</li>\n<li>connectCONNECT200</li>\n<li>upgradeUpgrade101 Switching Protocols</li>\n<li>continueExpect: 100-continue100 Continue</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"-WebSocket-\"><a href=\"#-WebSocket-\" class=\"headerlink\" title=\" WebSocket \"></a> WebSocket </h6><ul>\n<li>WebSocketNode</li>\n<li>WebSocketNode</li>\n</ul>\n<p>websockethttp</p>\n<ul>\n<li>TCP</li>\n<li>WebSocketHTTP</li>\n<li></li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var socket = new WebSocket(&#x27;ws://127.0.0.1:12010/updates&#x27;); </span><br><span class=\"line\">socket.onopen = function () &#123; </span><br><span class=\"line\"> setInterval(function() &#123; </span><br><span class=\"line\"> if (socket.bufferedAmount == 0) </span><br><span class=\"line\"> socket.send(getUpdateData()); </span><br><span class=\"line\"> &#125;, 50); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">socket.onmessage = function (event) &#123; </span><br><span class=\"line\"> // TODOevent.data </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>WebSocketCometCometlong-pollingiframeres.end()Comet</p>\n<ul>\n<li>WebSocket<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET /chat HTTP/1.1 </span><br><span class=\"line\">Host: server.example.com </span><br><span class=\"line\">Upgrade: websocket </span><br><span class=\"line\">Connection: Upgrade </span><br><span class=\"line\">Sec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ== </span><br><span class=\"line\">Sec-WebSocket-Protocol: chat, superchat </span><br><span class=\"line\">Sec-WebSocket-Version: 13 </span><br></pre></td></tr></table></figure>\n<ul>\n<li>Upgrade/ConnectionWebSocketSec-WebSocket-Key</li>\n<li>Sec-WebSocket-KeyBase64258EAFA5-E914-47DA-95CA-C5AB0DC85B11dGhlIHNhbXBsZSBub25jZQ==258EAFA5-E914-47DA-95CA-C5AB0DC85B11sha1Base64</li>\n<li><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HTTP/1.1 101 Switching Protocols </span><br><span class=\"line\">Upgrade: websocket </span><br><span class=\"line\">Connection: Upgrade </span><br><span class=\"line\">Sec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK+xOo= </span><br><span class=\"line\">Sec-WebSocket-Protocol: chat</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n</ul>\n<h6 id=\"WebSocket\"><a href=\"#WebSocket\" class=\"headerlink\" title=\"WebSocket\"></a>WebSocket</h6><p><img src=\"/nodejs/images/websocket.png\" alt=\"websocket\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">WebSocket.prototype.setSocket = function (socket) &#123; </span><br><span class=\"line\"> this.socket = socket; </span><br><span class=\"line\"> this.socket.on(&#x27;data&#x27;, this.receiver); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"></span><br><span class=\"line\">WebSocket.prototype.send = function (data) &#123; </span><br><span class=\"line\"> this._send(data); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n<ul>\n<li></li>\n<li><img src=\"/nodejs/images/websocket-1.png\" alt=\"websocket\"></li>\n<li>finfin10</li>\n<li>rsv1rsv2rsv31310</li>\n<li>opcode401501289ping10pongpingpongpingpong</li>\n<li>masked110</li>\n<li>payload length77+167+640~1251261612764</li>\n<li>masking keymasked132</li>\n<li>payload data8</li>\n</ul>\n<p>nodewebsocket</p>\n<ul>\n<li></li>\n<li>JavaScriptWebSocketAPI</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>Node3cryptotlshttpscryptotlsnetTLS/SSLTCPhttpshttp</p>\n<ul>\n<li>TLS/SSL<ul>\n<li><ul>\n<li>TLS/SSL/</li>\n<li><img src=\"/nodejs/images/tls-ssl.png\" alt=\"TLS/SSL\"></li>\n<li>NodeopensslTLS/SSLopenssl<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># </span><br><span class=\"line\">// </span><br><span class=\"line\">$ openssl genrsa -out server.key 1024 </span><br><span class=\"line\">// </span><br><span class=\"line\">$ openssl genrsa -out client.key 1024</span><br><span class=\"line\"></span><br><span class=\"line\">#</span><br><span class=\"line\">$ openssl rsa -in server.key -pubout -out server.pem </span><br><span class=\"line\">$ openssl rsa -in client.key -pubout -out client.pem </span><br></pre></td></tr></table></figure></li>\n<li>TLS/SSL</li>\n</ul>\n</li>\n<li><ul>\n<li>CACertificate AuthorityCACA</li>\n<li>CACA<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ openssl genrsa -out ca.key 1024 </span><br><span class=\"line\">$ openssl req -new -key ca.key -out ca.csr </span><br><span class=\"line\">$ openssl x509 -req -in ca.csr -signkey ca.key -out ca.crt</span><br></pre></td></tr></table></figure></li>\n<li><img src=\"/nodejs/images/ca.png\" alt=\"CA\"></li>\n<li><img src=\"/nodejs/images/ca-1.png\" alt=\"CA\"></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"TLS\"><a href=\"#TLS\" class=\"headerlink\" title=\"TLS\"></a>TLS</h6><ul>\n<li><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var tls = require(&#x27;tls&#x27;); </span><br><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var options = &#123; </span><br><span class=\"line\"> key: fs.readFileSync(&#x27;./keys/server.key&#x27;), </span><br><span class=\"line\"> cert: fs.readFileSync(&#x27;./keys/server.crt&#x27;), </span><br><span class=\"line\"> requestCert: true, </span><br><span class=\"line\"> ca: [ fs.readFileSync(&#x27;./keys/ca.crt&#x27;) ] </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">var server = tls.createServer(options, function (stream) &#123; </span><br><span class=\"line\"> console.log(&#x27;server connected&#x27;, stream.authorized ? &#x27;authorized&#x27; : &#x27;unauthorized&#x27;); </span><br><span class=\"line\"> stream.write(&quot;welcome!\\n&quot;); </span><br><span class=\"line\"> stream.setEncoding(&#x27;utf8&#x27;); </span><br><span class=\"line\"> stream.pipe(stream); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">server.listen(8000, function() &#123;</span><br><span class=\"line\">  console.log(&#x27;server bound&#x27;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ openssl s_client -connect 127.0.0.1:8000</span><br></pre></td></tr></table></figure></li>\n<li>TLS<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// </span><br><span class=\"line\">$ openssl genrsa -out client.key 1024 </span><br><span class=\"line\">// CSR </span><br><span class=\"line\">$ openssl req -new -key client.key -out client.csr </span><br><span class=\"line\">// </span><br><span class=\"line\">$ openssl x509 -req -CA ca.crt -CAkey ca.key -CAcreateserial -in client.csr -out client.crt</span><br><span class=\"line\"></span><br><span class=\"line\">var tls = require(&#x27;tls&#x27;); </span><br><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var options = &#123; </span><br><span class=\"line\"> key: fs.readFileSync(&#x27;./keys/client.key&#x27;), </span><br><span class=\"line\"> cert: fs.readFileSync(&#x27;./keys/client.crt&#x27;), </span><br><span class=\"line\"> ca: [ fs.readFileSync(&#x27;./keys/ca.crt&#x27;) ] </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">var stream = tls.connect(8000, options, function () &#123; </span><br><span class=\"line\"> console.log(&#x27;client connected&#x27;, stream.authorized ? &#x27;authorized&#x27; : &#x27;unauthorized&#x27;); </span><br><span class=\"line\"> process.stdin.pipe(stream); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">stream.setEncoding(&#x27;utf8&#x27;); </span><br><span class=\"line\">stream.on(&#x27;data&#x27;, function(data) &#123; </span><br><span class=\"line\"> console.log(data); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">stream.on(&#x27;end&#x27;, function() &#123; </span><br><span class=\"line\"> server.close(); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure></li>\n</ul>\n<h6 id=\"HTTPS\"><a href=\"#HTTPS\" class=\"headerlink\" title=\"HTTPS\"></a>HTTPS</h6><ul>\n<li>HTTPS<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var https = require(&#x27;https&#x27;); </span><br><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var options = &#123; </span><br><span class=\"line\"> key: fs.readFileSync(&#x27;./keys/server.key&#x27;), </span><br><span class=\"line\"> cert: fs.readFileSync(&#x27;./keys/server.crt&#x27;) </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">https.createServer(options, function (req, res) &#123; </span><br><span class=\"line\"> res.writeHead(200); </span><br><span class=\"line\"> res.end(&quot;hello world\\n&quot;); </span><br><span class=\"line\">&#125;).listen(8000);</span><br><span class=\"line\"></span><br><span class=\"line\">$ curl https://localhost:8000/ </span><br><span class=\"line\">curl: (60) SSL certificate problem, verify that the CA cert is OK. Details: </span><br><span class=\"line\">error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed </span><br><span class=\"line\">More details here: http://curl.haxx.se/docs/sslcerts.html </span><br><span class=\"line\">curl performs SSL certificate verification by default, using a &quot;bundle&quot; </span><br><span class=\"line\"> of Certificate Authority (CA) public keys (CA certs). If the default </span><br><span class=\"line\"> bundle file isn&#x27;t adequate, you can specify an alternate file </span><br><span class=\"line\"> using the --cacert option. </span><br><span class=\"line\">If this HTTPS server uses a certificate signed by a CA represented in </span><br><span class=\"line\"> the bundle, the certificate verification probably failed due to a </span><br><span class=\"line\"> problem with the certificate (it might be expired, or the name might </span><br><span class=\"line\"> not match the domain name in the URL). </span><br><span class=\"line\">If you&#x27;d like to turn off curl&#x27;s verification of the certificate, use </span><br><span class=\"line\"> the -k (or --insecure) option.</span><br></pre></td></tr></table></figure>\ncurl<ul>\n<li>-kcurl</li>\n<li>curlcacertCA<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ curl -k https://localhost:8000/ </span><br><span class=\"line\">hello world</span><br><span class=\"line\"></span><br><span class=\"line\">$ curl --cacert keys/ca.crt https://localhost:8000/ </span><br><span class=\"line\">hello world </span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>HTTPS<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var https = require(&#x27;https&#x27;); </span><br><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var options = &#123; </span><br><span class=\"line\"> hostname: &#x27;localhost&#x27;, </span><br><span class=\"line\"> port: 8000, </span><br><span class=\"line\"> path: &#x27;/&#x27;, </span><br><span class=\"line\"> method: &#x27;GET&#x27;, </span><br><span class=\"line\"> key: fs.readFileSync(&#x27;./keys/client.key&#x27;), </span><br><span class=\"line\"> cert: fs.readFileSync(&#x27;./keys/client.crt&#x27;), </span><br><span class=\"line\"> ca: [fs.readFileSync(&#x27;./keys/ca.crt&#x27;)] </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">options.agent = new https.Agent(options); </span><br><span class=\"line\">var req = https.request(options, function(res) &#123; </span><br><span class=\"line\"> res.setEncoding(&#x27;utf-8&#x27;); </span><br><span class=\"line\"> res.on(&#x27;data&#x27;, function(d) &#123; </span><br><span class=\"line\"> console.log(d); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">req.end(); </span><br><span class=\"line\">req.on(&#x27;error&#x27;, function(e) &#123; </span><br><span class=\"line\"> console.log(e); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\nca: [Error: UNABLE_TO_VERIFY_LEAF_SIGNATURE]<br>rejectUnauthorizedfalsecurl-k</li>\n</ul>\n<p>??? send()onmessage()send()<br>onmessage()send()<br></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><p>V8 </p>\n<ul>\n<li>V8JavaScript</li>\n<li>V8V8V8V8</li>\n<li>Nodemax-old-space-sizemax-new-space-size</li>\n</ul>\n</li>\n<li><p>V8 </p>\n<ul>\n<li>V8<ul>\n<li>V8</li>\n<li>V8V8</li>\n<li>V8max-old-space-size-max-new-space-sizeV8</li>\n<li>64321.4 GB0.7 GB</li>\n<li>643232 MB16 MB</li>\n</ul>\n</li>\n<li>Scavenge<ul>\n<li>ScavengeScavengeCheney</li>\n<li>CheneysemispacesemispacesemispaceFromToFromFromToFromTosemispace</li>\n<li>ScavengeFromToFromToFromToScavengeTo</li>\n<li><img src=\"/nodejs/images/v8-promot.png\" alt=\"\"></li>\n<li><img src=\"/nodejs/images/v8-promot2.png\" alt=\"\"></li>\n</ul>\n</li>\n<li>Mark-Sweep &amp; Mark-Compact<ul>\n<li>V8Mark-SweepMark-CompactMark-SweepScavengeMark-SweepScavengeMark-Sweep</li>\n<li>Mark-Sweep</li>\n<li>Mark-CompactMark-CompactMark-Sweep</li>\n<li><img src=\"/nodejs/images/sweep-compact.png\" alt=\"\"></li>\n<li><img src=\"/nodejs/images/collect-diff.png\" alt=\"\"></li>\n<li>V8Mark-SweepMark-Compact</li>\n</ul>\n</li>\n<li>Incremental Marking<ul>\n<li>3stop-the-worldV8V8full </li>\n<li>V8incremental markingJavaScript</li>\n<li><img src=\"/nodejs/images/increase-target.png\" alt=\"\"></li>\n</ul>\n</li>\n<li><ul>\n<li>trace_gc</li>\n<li>NodeprofV8<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li><p></p>\n<ul>\n<li>closure</li>\n</ul>\n</li>\n<li><p>: process.memoryUsage()ostotalmem()freemem()</p>\n<ul>\n<li><ul>\n<li><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ node </span><br><span class=\"line\">&gt; process.memoryUsage() </span><br><span class=\"line\">&#123; <span class=\"attr\">rss</span>: <span class=\"number\">13852672</span>, </span><br><span class=\"line\"> <span class=\"attr\">heapTotal</span>: <span class=\"number\">6131200</span>, </span><br><span class=\"line\"> <span class=\"attr\">heapUsed</span>: <span class=\"number\">2757120</span> &#125; </span><br></pre></td></tr></table></figure></li>\n<li>rssresident set sizerssswapfilesystemrssheapTotalheapUsedV8heapTotalheapUsed3</li>\n</ul>\n</li>\n<li><ol start=\"2\">\n<li></li>\n</ol>\n<ul>\n<li>process.memoryUsage()ostotalmem()freemem()</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>: V8</p>\n<ul>\n<li>BufferV8<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var useMem = function () &#123; </span><br><span class=\"line\"> var size = 200 * 1024 * 1024; </span><br><span class=\"line\"> var buffer = new Buffer(size); </span><br><span class=\"line\"> for (var i = 0; i &lt; size; i++) &#123; </span><br><span class=\"line\"> buffer[i] = 0; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> return buffer; </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6>Node</li>\n</ul>\n</li>\n</ul>\n<p></p>\n<ul>\n<li><ul>\n<li>Node</li>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li><ul>\n<li></li>\n<li>LRU<a href=\"https://github.com/isaacs/node-lru-cache\">https://github.com/isaacs/node-lru-cache</a></li>\n</ul>\n</li>\n<li><ul>\n<li><ul>\n<li>(1) </li>\n<li>(2) </li>\n<li>Redis<a href=\"https://github.com/mranney/node_redis%E3%80%82\">https://github.com/mranney/node_redis</a></li>\n<li>Memcached<a href=\"https://github.com/3rd-Eden/node-memcached%E3%80%82\">https://github.com/3rd-Eden/node-memcached</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><ul>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li></li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<ul>\n<li>v8-profiler</li>\n<li>node-heapdump<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var leakArray = []; </span><br><span class=\"line\">var leak = function () &#123; </span><br><span class=\"line\"> leakArray.push(&quot;leak&quot; + Math.random()); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">http.createServer(function (req, res) &#123; </span><br><span class=\"line\"> leak(); </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/plain&#x27;&#125;); </span><br><span class=\"line\"> res.end(&#x27;Hello World\\n&#x27;); </span><br><span class=\"line\">&#125;).listen(1337); </span><br><span class=\"line\">console.log(&#x27;Server running at http://127.0.0.1:1337/&#x27;); </span><br></pre></td></tr></table></figure></li>\n<li>node-mtrace</li>\n<li>dtrace</li>\n<li>node-memwatch<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var memwatch = require(&#x27;memwatch&#x27;); </span><br><span class=\"line\">memwatch.on(&#x27;leak&#x27;, function (info) &#123; </span><br><span class=\"line\"> console.log(&#x27;leak:&#x27;); </span><br><span class=\"line\"> console.log(info); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">memwatch.on(&#x27;stats&#x27;, function (stats) &#123; </span><br><span class=\"line\"> console.log(&#x27;stats:&#x27;) </span><br><span class=\"line\"> console.log(stats); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">var http = require(&#x27;http&#x27;); </span><br><span class=\"line\">var leakArray = []; </span><br><span class=\"line\">var leak = function () &#123; </span><br><span class=\"line\"> leakArray.push(&quot;leak&quot; + Math.random()); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">http.createServer(function (req, res) &#123; </span><br><span class=\"line\"> leak(); </span><br><span class=\"line\"> res.writeHead(200, &#123;&#x27;Content-Type&#x27;: &#x27;text/plain&#x27;&#125;); </span><br><span class=\"line\"> res.end(&#x27;Hello World\\n&#x27;); </span><br><span class=\"line\">&#125;).listen(1337); </span><br><span class=\"line\">console.log(&#x27;Server running at http://127.0.0.1:1337/&#x27;); </span><br></pre></td></tr></table></figure>\n<ul>\n<li>stats<ul>\n<li>stats<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">stats: </span><br><span class=\"line\">&#123; num_full_gc: 4, // </span><br><span class=\"line\"> num_inc_gc: 23, // </span><br><span class=\"line\"> heap_compactions: 4, // </span><br><span class=\"line\"> usage_trend: 0, // </span><br><span class=\"line\"> estimated_base: 7152944, // </span><br><span class=\"line\"> current_base: 7152944, // </span><br><span class=\"line\"> min: 6720776, // </span><br><span class=\"line\"> max: 7152944 &#125; // </span><br><span class=\"line\">num_full_gcnum_inc_gc</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>leak<ul>\n<li>5node-memwatchleak</li>\n</ul>\n</li>\n<li><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var memwatch = require(&#x27;memwatch&#x27;); </span><br><span class=\"line\">var leakArray = []; </span><br><span class=\"line\">var leak = function () &#123; </span><br><span class=\"line\"> leakArray.push(&quot;leak&quot; + Math.random()); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">// Take first snapshot </span><br><span class=\"line\">var hd = new memwatch.HeapDiff(); </span><br><span class=\"line\">for (var i = 0; i &lt; 10000; i++) &#123; </span><br><span class=\"line\"> leak(); </span><br><span class=\"line\">&#125; </span><br><span class=\"line\">// Take the second snapshot and compute the diff </span><br><span class=\"line\">var diff = hd.end(); </span><br><span class=\"line\">console.log(JSON.stringify(diff, null, 2));</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>streamstreamNodestreamEventEmitter</p>\n<p>V8fs.readFile()fs.writeFile()fs.createReadStream()fs.createWriteStream()</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var reader = fs.createReadStream(&#x27;in.txt&#x27;); </span><br><span class=\"line\">var writer = fs.createWriteStream(&#x27;out.txt&#x27;); </span><br><span class=\"line\">reader.pipe(writer); </span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Buffer\"><a href=\"#Buffer\" class=\"headerlink\" title=\"Buffer\"></a>Buffer</h4><p>BufferArray</p>\n<ul>\n<li><ul>\n<li>BufferJavaScriptC++C++JavaScript</li>\n<li><img src=\"/nodejs/images/buffer.png\" alt=\"buffer\"></li>\n<li>BufferNodeglobalBufferrequire()</li>\n</ul>\n</li>\n<li>Buffer<ul>\n<li>Buffer160255</li>\n<li>025602552552560~255<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">buf[20] = -100; </span><br><span class=\"line\">console.log(buf[20]); // 156 </span><br><span class=\"line\">buf[21] = 300; </span><br><span class=\"line\">console.log(buf[21]); // 44 </span><br><span class=\"line\">buf[22] = 3.1415; </span><br><span class=\"line\">console.log(buf[22]); // 3 </span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>Buffer<ul>\n<li>BufferV8NodeC++</li>\n<li>NodeC++JavaScript</li>\n<li>Nodeslab,<ul>\n<li>full</li>\n<li>partial</li>\n<li>empty</li>\n</ul>\n</li>\n<li>Node8 KBBuffer,8 KBslabJavaScript<ul>\n<li>Buffer<ul>\n<li>Buffer8 KBNodeBufferpoolslab</li>\n<li><img src=\"/nodejs/images/buffer-1.png\" alt=\"buffer\"></li>\n<li>Bufferslabslab</li>\n<li><img src=\"/nodejs/images/buffer-2.png\" alt=\"buffer\"></li>\n<li>slabslabslab</li>\n<li><img src=\"/nodejs/images/buffer-3.png\" alt=\"buffer\"></li>\n<li>slabBufferBufferslab8 KB1Buffer8 KB</li>\n</ul>\n</li>\n<li>Buffer<ul>\n<li>8 KBBufferSlowBufferslabslabBuffer</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"Buffer-\"><a href=\"#Buffer-\" class=\"headerlink\" title=\"Buffer \"></a>Buffer </h6><p>Buffer,:</p>\n<ul>\n<li><p>ASCII</p>\n</li>\n<li><p>UTF-8</p>\n</li>\n<li><p>UTF-16LE/UCS-2</p>\n</li>\n<li><p>Base64</p>\n</li>\n<li><p>Binary</p>\n</li>\n<li><p>Hex</p>\n</li>\n<li><p>Buffer</p>\n<ul>\n<li>Buffernew Buffer(str, [encoding]);</li>\n<li>BufferencodingUTF-8</li>\n<li>Buffer</li>\n</ul>\n</li>\n<li><p>Buffer</p>\n<ul>\n<li>BufferBuffertoString()Bufferbuf.toString([encoding], [start], [end]) </li>\n<li>encodingUTF-8startend3Buffer</li>\n</ul>\n</li>\n<li><p>Buffer</p>\n<ul>\n<li>BufferisEncoding()Buffer.isEncoding(encoding)</li>\n<li>GBKGB2312BIG-5</li>\n<li>Nodeiconviconv-liteWindows 125ISO-8859IBM/DOSMacintoshKOI8Latin1US-ASCIIGBKGB2312</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"Buffer-\"><a href=\"#Buffer-\" class=\"headerlink\" title=\"Buffer \"></a>Buffer </h6><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var rs = fs.createReadStream(&#x27;test.md&#x27;); </span><br><span class=\"line\">var data = &#x27;&#x27;; </span><br><span class=\"line\">rs.on(&quot;data&quot;, function (chunk)&#123; </span><br><span class=\"line\"> data += chunk; </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">rs.on(&quot;end&quot;, function () &#123; </span><br><span class=\"line\"> console.log(data); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\n<ul>\n<li>Buffer</li>\n<li>setEncoding()string_decoder()<ul>\n<li>setEncodingdataBuffer</li>\n<li>string_decoderUTF-8Base64UCS-2/UTF-16LE3setEncoding()</li>\n</ul>\n</li>\n<li>Buffer<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var chunks = []; </span><br><span class=\"line\">var size = 0; </span><br><span class=\"line\">res.on(&#x27;data&#x27;, function (chunk) &#123; </span><br><span class=\"line\"> chunks.push(chunk); </span><br><span class=\"line\"> size += chunk.length; </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">res.on(&#x27;end&#x27;, function () &#123; </span><br><span class=\"line\">   var buf = Buffer.concat(chunks, size); </span><br><span class=\"line\"> var str = iconv.decode(buf, &#x27;utf8&#x27;); </span><br><span class=\"line\"> console.log(str); </span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<ul>\n<li>BufferBuffer.concat()Buffer</li>\n<li>Buffer.concat()BufferBuffer<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Buffer.concat = function(list, length) &#123; </span><br><span class=\"line\"> if (!Array.isArray(list)) &#123; </span><br><span class=\"line\"> throw new Error(&#x27;Usage: Buffer.concat(list, [length])&#x27;); </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> if (list.length === 0) &#123; </span><br><span class=\"line\"> return new Buffer(0); </span><br><span class=\"line\"> &#125; else if (list.length === 1) &#123; </span><br><span class=\"line\"> return list[0]; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> if (typeof length !== &#x27;number&#x27;) &#123; </span><br><span class=\"line\"> length = 0; </span><br><span class=\"line\"> for (var i = 0; i &lt; list.length; i++) &#123; </span><br><span class=\"line\"> var buf = list[i]; </span><br><span class=\"line\"> length += buf.length; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> var buffer = new Buffer(length); </span><br><span class=\"line\"> var pos = 0; </span><br><span class=\"line\"> for (var i = 0; i &lt; list.length; i++) &#123; </span><br><span class=\"line\"> var buf = list[i]; </span><br><span class=\"line\"> buf.copy(buffer, pos); </span><br><span class=\"line\"> pos += buf.length; </span><br><span class=\"line\"> &#125; </span><br><span class=\"line\"> return buffer; </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n<h6 id=\"Buffer-\"><a href=\"#Buffer-\" class=\"headerlink\" title=\"Buffer \"></a>Buffer </h6>BufferCPUNodeWebBufferBuffer</li>\n</ul>\n</li>\n<li><ul>\n<li>highWaterMark<ul>\n<li>highWaterMark<ul>\n<li>highWaterMarkBuffer</li>\n<li>highWaterMark</li>\n</ul>\n</li>\n<li>highWaterMark</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>Nodenetdgramhttphttps4TCPUDPHTTPHTTPS</p>\n<ul>\n<li> TCP <ul>\n<li>TCP<ul>\n<li>TCPOSITCPHTTPSMTPIMAP</li>\n<li><img src=\"/nodejs/images/net-1.png\" alt=\"\"></li>\n<li>TCP3</li>\n<li><img src=\"/nodejs/images/net-2.png\" alt=\"\"></li>\n</ul>\n</li>\n<li>TCP<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var net = require(&#x27;net&#x27;); </span><br><span class=\"line\">var server = net.createServer(function (socket) &#123; </span><br><span class=\"line\"> // </span><br><span class=\"line\"> socket.on(&#x27;data&#x27;, function (data) &#123; </span><br><span class=\"line\"> socket.write(&quot;&quot;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> socket.on(&#x27;end&#x27;, function () &#123; </span><br><span class=\"line\"> console.log(&#x27;&#x27;); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\"> socket.write(&quot;Node.js\\n&quot;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">server.listen(8124, function () &#123; </span><br><span class=\"line\"> console.log(&#x27;server bound&#x27;); </span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></li>\n<li>TCP<ul>\n<li><ul>\n<li>listeningserver.listen()Domain Socketserver.listen(port,listeningListener)listen()</li>\n<li>connectionnet.create\u0002Server()</li>\n<li>closeserver.close()</li>\n<li>errorerror</li>\n</ul>\n</li>\n<li><ul>\n<li>datawrite()datawrite()</li>\n<li>endFIN</li>\n<li>connect</li>\n<li>drainwrite()</li>\n<li>error</li>\n<li>close</li>\n<li>timeout</li>\n</ul>\n</li>\n<li>TCPNagleNagleNagle</li>\n<li>NodeTCPNaglesocket.setNoDelay(true)Naglewrite()</li>\n<li>write()datawrite()dataNagledata<h6 id=\"-UDP-\"><a href=\"#-UDP-\" class=\"headerlink\" title=\" UDP \"></a> UDP </h6>UDPTCPUDPTCPUDPTCPTCPUDPUDPUDPDNS</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>UDP<ul>\n<li>UDPUDP</li>\n<li>var dgram = require(dgram); var socket = dgram.createSocket(udp4);</li>\n</ul>\n</li>\n<li>UDP<ul>\n<li>UDPdgram.bind(port, [address])<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var dgram = require(&quot;dgram&quot;); </span><br><span class=\"line\">var server = dgram.createSocket(&quot;udp4&quot;); </span><br><span class=\"line\">server.on(&quot;message&quot;, function (msg, rinfo) &#123; </span><br><span class=\"line\"> console.log(&quot;server got: &quot; + msg + &quot; from &quot; + </span><br><span class=\"line\"> rinfo.address + &quot;:&quot; + rinfo.port); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">server.on(&quot;listening&quot;, function () &#123; </span><br><span class=\"line\"> var address = server.address();</span><br><span class=\"line\"> console.log(&quot;server listening &quot; + </span><br><span class=\"line\"> address.address + &quot;:&quot; + address.port); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">server.bind(41234);</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>UDP<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var dgram = require(&#x27;dgram&#x27;); </span><br><span class=\"line\">var message = new Buffer(&quot;Node.js&quot;); </span><br><span class=\"line\">var client = dgram.createSocket(&quot;udp4&quot;); </span><br><span class=\"line\">client.send(message, 0, message.length, 41234, &quot;localhost&quot;, function(err, bytes) &#123; </span><br><span class=\"line\"> client.close(); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br><span class=\"line\">socket.send(buf, offset, length, port, address, [callback])</span><br><span class=\"line\">// BufferBufferBuffer</span><br></pre></td></tr></table></figure></li>\n<li>UDP<ul>\n<li>UDPTCPEventEmitterStream<ul>\n<li>messageUDPBuffer</li>\n<li>listeningUDP</li>\n<li>closeclose()messagemessage</li>\n<li>error</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"-HTTP-\"><a href=\"#-HTTP-\" class=\"headerlink\" title=\" HTTP \"></a> HTTP </h6><ul>\n<li>HTTP<ul>\n<li>HTTP<ul>\n<li>HTTPHyperText Transfer Protocol</li>\n<li>HTTPTCPHTTPB/SWebHTTP</li>\n<li>HTTPW3CIETFRFCHTTPRFC 2616</li>\n</ul>\n</li>\n<li> HTTP<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ curl -v http://127.0.0.1:1337 </span><br><span class=\"line\">* About to connect() to 127.0.0.1 port 1337 (#0) </span><br><span class=\"line\">* Trying 127.0.0.1... </span><br><span class=\"line\">* connected </span><br><span class=\"line\">* Connected to 127.0.0.1 (127.0.0.1) port 1337 (#0) </span><br><span class=\"line\">&gt; GET / HTTP/1.1 </span><br><span class=\"line\">&gt; User-Agent: curl/7.24.0 (x86_64-apple-darwin12.0) libcurl/7.24.0 OpenSSL/0.9.8r zlib/1.2.5 </span><br><span class=\"line\">&gt; Host: 127.0.0.1:1337 </span><br><span class=\"line\">&gt; Accept: */* </span><br><span class=\"line\">&gt; </span><br><span class=\"line\">&lt; HTTP/1.1 200 OK </span><br><span class=\"line\">&lt; Content-Type: text/plain </span><br><span class=\"line\">&lt; Date: Sat, 06 Apr 2013 08:01:44 GMT </span><br><span class=\"line\">&lt; Connection: keep-alive </span><br><span class=\"line\">&lt; Transfer-Encoding: chunked </span><br><span class=\"line\">&lt; </span><br><span class=\"line\">Hello World</span><br><span class=\"line\">* Connection #0 to host 127.0.0.1 left intact </span><br><span class=\"line\">* Closing connection #0</span><br></pre></td></tr></table></figure></li>\n<li>HTTPHTTPHTTP</li>\n<li>http<ul>\n<li>NodeHTTPTCPnetHTTPTCPkeepaliveTCPTCPconnectionHTTPrequest</li>\n<li><img src=\"/nodejs/images/net-3.png\" alt=\"http\"></li>\n<li>httpServerRequestServerResponsehttphttp_parserrequest</li>\n<li><img src=\"/nodejs/images/net-4.png\" alt=\"http\"><ul>\n<li>HTTP<ul>\n<li>connectionHTTPTCPkeep-aliveconnection</li>\n<li>requestTCPhttpHTTPHTTPHTTPres.end()TCP</li>\n<li>closeTCPserver.close()server.close()</li>\n<li>checkContinueExpect: 100-continuecheckContinue100 Continue400 Bad Requestrequest100 Continuerequest</li>\n<li>connectCONNECTCONNECTHTTP</li>\n<li>upgradeUpgradeWebSocket</li>\n<li>clientErrorerror<h6 id=\"HTTP\"><a href=\"#HTTP\" class=\"headerlink\" title=\"HTTP\"></a>HTTP</h6>httpAPIhttp.request(options, connect)HTTP<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var options = &#123; </span><br><span class=\"line\"> hostname: &#x27;127.0.0.1&#x27;, </span><br><span class=\"line\"> port: 1334, </span><br><span class=\"line\"> path: &#x27;/&#x27;, </span><br><span class=\"line\"> method: &#x27;GET&#x27; </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">var req = http.request(options, function(res) &#123; </span><br><span class=\"line\"> console.log(&#x27;STATUS: &#x27; + res.statusCode); </span><br><span class=\"line\"> console.log(&#x27;HEADERS: &#x27; + JSON.stringify(res.headers)); </span><br><span class=\"line\"> res.setEncoding(&#x27;utf8&#x27;); </span><br><span class=\"line\"> res.on(&#x27;data&#x27;, function (chunk) &#123; </span><br><span class=\"line\"> console.log(chunk); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">req.end();</span><br></pre></td></tr></table></figure>\nHTTP:</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>hostIPlocalhost</li>\n<li>hostname</li>\n<li>port80</li>\n<li>localAddress</li>\n<li>socketPathDomain</li>\n<li>methodHTTPGET</li>\n<li>path/</li>\n<li>headers</li>\n<li>authBasicAuthorization</li>\n</ul>\n<ul>\n<li>HTTP<ul>\n<li>HTTPClientRequestresponseClientRequestresponseClientResponse<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function(res) &#123; </span><br><span class=\"line\"> console.log(&#x27;STATUS: &#x27; + res.statusCode); </span><br><span class=\"line\"> console.log(&#x27;HEADERS: &#x27; + JSON.stringify(res.headers)); </span><br><span class=\"line\"> res.setEncoding(&#x27;utf8&#x27;); </span><br><span class=\"line\"> res.on(&#x27;data&#x27;, function (chunk) &#123; </span><br><span class=\"line\"> console.log(chunk); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>HTTP <ul>\n<li>httpClientRequestTCPkeepaliveTCPhttphttp.globalAgenthost + portClientRequestHTTP5</li>\n<li><img src=\"./images/http.png\" alt=\"http\"></li>\n<li>HTTP10HTTP5</li>\n<li>ClientRequestHTTPoptionsagent5<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var agent = new http.Agent(&#123; </span><br><span class=\"line\"> maxSockets: 10 </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">var options = &#123; </span><br><span class=\"line\"> hostname: &#x27;127.0.0.1&#x27;, </span><br><span class=\"line\"> port: 1334, </span><br><span class=\"line\"> path: &#x27;/&#x27;, </span><br><span class=\"line\"> method: &#x27;GET&#x27;, </span><br><span class=\"line\"> agent: agent </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure></li>\n<li>agentfalse</li>\n</ul>\n</li>\n<li>HTTP<ul>\n<li>responserequest</li>\n<li>socket</li>\n<li>connectCONNECT200</li>\n<li>upgradeUpgrade101 Switching Protocols</li>\n<li>continueExpect: 100-continue100 Continue</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"-WebSocket-\"><a href=\"#-WebSocket-\" class=\"headerlink\" title=\" WebSocket \"></a> WebSocket </h6><ul>\n<li>WebSocketNode</li>\n<li>WebSocketNode</li>\n</ul>\n<p>websockethttp</p>\n<ul>\n<li>TCP</li>\n<li>WebSocketHTTP</li>\n<li></li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var socket = new WebSocket(&#x27;ws://127.0.0.1:12010/updates&#x27;); </span><br><span class=\"line\">socket.onopen = function () &#123; </span><br><span class=\"line\"> setInterval(function() &#123; </span><br><span class=\"line\"> if (socket.bufferedAmount == 0) </span><br><span class=\"line\"> socket.send(getUpdateData()); </span><br><span class=\"line\"> &#125;, 50); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">socket.onmessage = function (event) &#123; </span><br><span class=\"line\"> // TODOevent.data </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>WebSocketCometCometlong-pollingiframeres.end()Comet</p>\n<ul>\n<li>WebSocket<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET /chat HTTP/1.1 </span><br><span class=\"line\">Host: server.example.com </span><br><span class=\"line\">Upgrade: websocket </span><br><span class=\"line\">Connection: Upgrade </span><br><span class=\"line\">Sec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ== </span><br><span class=\"line\">Sec-WebSocket-Protocol: chat, superchat </span><br><span class=\"line\">Sec-WebSocket-Version: 13 </span><br></pre></td></tr></table></figure>\n<ul>\n<li>Upgrade/ConnectionWebSocketSec-WebSocket-Key</li>\n<li>Sec-WebSocket-KeyBase64258EAFA5-E914-47DA-95CA-C5AB0DC85B11dGhlIHNhbXBsZSBub25jZQ==258EAFA5-E914-47DA-95CA-C5AB0DC85B11sha1Base64</li>\n<li><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HTTP/1.1 101 Switching Protocols </span><br><span class=\"line\">Upgrade: websocket </span><br><span class=\"line\">Connection: Upgrade </span><br><span class=\"line\">Sec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK+xOo= </span><br><span class=\"line\">Sec-WebSocket-Protocol: chat</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n</ul>\n<h6 id=\"WebSocket\"><a href=\"#WebSocket\" class=\"headerlink\" title=\"WebSocket\"></a>WebSocket</h6><p><img src=\"/nodejs/images/websocket.png\" alt=\"websocket\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">WebSocket.prototype.setSocket = function (socket) &#123; </span><br><span class=\"line\"> this.socket = socket; </span><br><span class=\"line\"> this.socket.on(&#x27;data&#x27;, this.receiver); </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"></span><br><span class=\"line\">WebSocket.prototype.send = function (data) &#123; </span><br><span class=\"line\"> this._send(data); </span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n<ul>\n<li></li>\n<li><img src=\"/nodejs/images/websocket-1.png\" alt=\"websocket\"></li>\n<li>finfin10</li>\n<li>rsv1rsv2rsv31310</li>\n<li>opcode401501289ping10pongpingpongpingpong</li>\n<li>masked110</li>\n<li>payload length77+167+640~1251261612764</li>\n<li>masking keymasked132</li>\n<li>payload data8</li>\n</ul>\n<p>nodewebsocket</p>\n<ul>\n<li></li>\n<li>JavaScriptWebSocketAPI</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>Node3cryptotlshttpscryptotlsnetTLS/SSLTCPhttpshttp</p>\n<ul>\n<li>TLS/SSL<ul>\n<li><ul>\n<li>TLS/SSL/</li>\n<li><img src=\"/nodejs/images/tls-ssl.png\" alt=\"TLS/SSL\"></li>\n<li>NodeopensslTLS/SSLopenssl<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># </span><br><span class=\"line\">// </span><br><span class=\"line\">$ openssl genrsa -out server.key 1024 </span><br><span class=\"line\">// </span><br><span class=\"line\">$ openssl genrsa -out client.key 1024</span><br><span class=\"line\"></span><br><span class=\"line\">#</span><br><span class=\"line\">$ openssl rsa -in server.key -pubout -out server.pem </span><br><span class=\"line\">$ openssl rsa -in client.key -pubout -out client.pem </span><br></pre></td></tr></table></figure></li>\n<li>TLS/SSL</li>\n</ul>\n</li>\n<li><ul>\n<li>CACertificate AuthorityCACA</li>\n<li>CACA<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ openssl genrsa -out ca.key 1024 </span><br><span class=\"line\">$ openssl req -new -key ca.key -out ca.csr </span><br><span class=\"line\">$ openssl x509 -req -in ca.csr -signkey ca.key -out ca.crt</span><br></pre></td></tr></table></figure></li>\n<li><img src=\"/nodejs/images/ca.png\" alt=\"CA\"></li>\n<li><img src=\"/nodejs/images/ca-1.png\" alt=\"CA\"></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"TLS\"><a href=\"#TLS\" class=\"headerlink\" title=\"TLS\"></a>TLS</h6><ul>\n<li><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var tls = require(&#x27;tls&#x27;); </span><br><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var options = &#123; </span><br><span class=\"line\"> key: fs.readFileSync(&#x27;./keys/server.key&#x27;), </span><br><span class=\"line\"> cert: fs.readFileSync(&#x27;./keys/server.crt&#x27;), </span><br><span class=\"line\"> requestCert: true, </span><br><span class=\"line\"> ca: [ fs.readFileSync(&#x27;./keys/ca.crt&#x27;) ] </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">var server = tls.createServer(options, function (stream) &#123; </span><br><span class=\"line\"> console.log(&#x27;server connected&#x27;, stream.authorized ? &#x27;authorized&#x27; : &#x27;unauthorized&#x27;); </span><br><span class=\"line\"> stream.write(&quot;welcome!\\n&quot;); </span><br><span class=\"line\"> stream.setEncoding(&#x27;utf8&#x27;); </span><br><span class=\"line\"> stream.pipe(stream); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">server.listen(8000, function() &#123;</span><br><span class=\"line\">  console.log(&#x27;server bound&#x27;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"></span><br><span class=\"line\"># </span><br><span class=\"line\">$ openssl s_client -connect 127.0.0.1:8000</span><br></pre></td></tr></table></figure></li>\n<li>TLS<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// </span><br><span class=\"line\">$ openssl genrsa -out client.key 1024 </span><br><span class=\"line\">// CSR </span><br><span class=\"line\">$ openssl req -new -key client.key -out client.csr </span><br><span class=\"line\">// </span><br><span class=\"line\">$ openssl x509 -req -CA ca.crt -CAkey ca.key -CAcreateserial -in client.csr -out client.crt</span><br><span class=\"line\"></span><br><span class=\"line\">var tls = require(&#x27;tls&#x27;); </span><br><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var options = &#123; </span><br><span class=\"line\"> key: fs.readFileSync(&#x27;./keys/client.key&#x27;), </span><br><span class=\"line\"> cert: fs.readFileSync(&#x27;./keys/client.crt&#x27;), </span><br><span class=\"line\"> ca: [ fs.readFileSync(&#x27;./keys/ca.crt&#x27;) ] </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">var stream = tls.connect(8000, options, function () &#123; </span><br><span class=\"line\"> console.log(&#x27;client connected&#x27;, stream.authorized ? &#x27;authorized&#x27; : &#x27;unauthorized&#x27;); </span><br><span class=\"line\"> process.stdin.pipe(stream); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">stream.setEncoding(&#x27;utf8&#x27;); </span><br><span class=\"line\">stream.on(&#x27;data&#x27;, function(data) &#123; </span><br><span class=\"line\"> console.log(data); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">stream.on(&#x27;end&#x27;, function() &#123; </span><br><span class=\"line\"> server.close(); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure></li>\n</ul>\n<h6 id=\"HTTPS\"><a href=\"#HTTPS\" class=\"headerlink\" title=\"HTTPS\"></a>HTTPS</h6><ul>\n<li>HTTPS<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var https = require(&#x27;https&#x27;); </span><br><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var options = &#123; </span><br><span class=\"line\"> key: fs.readFileSync(&#x27;./keys/server.key&#x27;), </span><br><span class=\"line\"> cert: fs.readFileSync(&#x27;./keys/server.crt&#x27;) </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">https.createServer(options, function (req, res) &#123; </span><br><span class=\"line\"> res.writeHead(200); </span><br><span class=\"line\"> res.end(&quot;hello world\\n&quot;); </span><br><span class=\"line\">&#125;).listen(8000);</span><br><span class=\"line\"></span><br><span class=\"line\">$ curl https://localhost:8000/ </span><br><span class=\"line\">curl: (60) SSL certificate problem, verify that the CA cert is OK. Details: </span><br><span class=\"line\">error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed </span><br><span class=\"line\">More details here: http://curl.haxx.se/docs/sslcerts.html </span><br><span class=\"line\">curl performs SSL certificate verification by default, using a &quot;bundle&quot; </span><br><span class=\"line\"> of Certificate Authority (CA) public keys (CA certs). If the default </span><br><span class=\"line\"> bundle file isn&#x27;t adequate, you can specify an alternate file </span><br><span class=\"line\"> using the --cacert option. </span><br><span class=\"line\">If this HTTPS server uses a certificate signed by a CA represented in </span><br><span class=\"line\"> the bundle, the certificate verification probably failed due to a </span><br><span class=\"line\"> problem with the certificate (it might be expired, or the name might </span><br><span class=\"line\"> not match the domain name in the URL). </span><br><span class=\"line\">If you&#x27;d like to turn off curl&#x27;s verification of the certificate, use </span><br><span class=\"line\"> the -k (or --insecure) option.</span><br></pre></td></tr></table></figure>\ncurl<ul>\n<li>-kcurl</li>\n<li>curlcacertCA<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ curl -k https://localhost:8000/ </span><br><span class=\"line\">hello world</span><br><span class=\"line\"></span><br><span class=\"line\">$ curl --cacert keys/ca.crt https://localhost:8000/ </span><br><span class=\"line\">hello world </span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>HTTPS<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var https = require(&#x27;https&#x27;); </span><br><span class=\"line\">var fs = require(&#x27;fs&#x27;); </span><br><span class=\"line\">var options = &#123; </span><br><span class=\"line\"> hostname: &#x27;localhost&#x27;, </span><br><span class=\"line\"> port: 8000, </span><br><span class=\"line\"> path: &#x27;/&#x27;, </span><br><span class=\"line\"> method: &#x27;GET&#x27;, </span><br><span class=\"line\"> key: fs.readFileSync(&#x27;./keys/client.key&#x27;), </span><br><span class=\"line\"> cert: fs.readFileSync(&#x27;./keys/client.crt&#x27;), </span><br><span class=\"line\"> ca: [fs.readFileSync(&#x27;./keys/ca.crt&#x27;)] </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\">options.agent = new https.Agent(options); </span><br><span class=\"line\">var req = https.request(options, function(res) &#123; </span><br><span class=\"line\"> res.setEncoding(&#x27;utf-8&#x27;); </span><br><span class=\"line\"> res.on(&#x27;data&#x27;, function(d) &#123; </span><br><span class=\"line\"> console.log(d); </span><br><span class=\"line\"> &#125;); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\">req.end(); </span><br><span class=\"line\">req.on(&#x27;error&#x27;, function(e) &#123; </span><br><span class=\"line\"> console.log(e); </span><br><span class=\"line\">&#125;); </span><br></pre></td></tr></table></figure>\nca: [Error: UNABLE_TO_VERIFY_LEAF_SIGNATURE]<br>rejectUnauthorizedfalsecurl-k</li>\n</ul>\n<p>??? send()onmessage()send()<br>onmessage()send()<br></p>\n"},{"title":"nodejs(3)","date":"2022-12-28T04:18:33.000Z","tags":["node","buffer"],"_content":"\n###### Buffer()\n\n**buf.entries()**\n buf  [index, byte] \n```\nconst buf = Buffer.from('buffer');\nfor (const pair of buf.entries()) {\n  console.log(pair);\n}\n// :\n// [ 0, 0 ]\n// [ 1, 0 ]\n// [ 2, 0 ]\n// [ 3, 0 ]\n// [ 4, 0 ]\n// [ 5, 0 ]\n// [ 6, 0 ]\n// [ 7, 0 ]\n// [ 8, 0 ]\n// [ 9, 0 ]\n```\n\n**buf.equals(otherBuffer)**\n buf  otherBuffer  true false\n```\nconst buf1 = Buffer.from('ABC');\nconst buf2 = Buffer.from('414243', 'hex');\nconst buf3 = Buffer.from('ABCD');\n\nconsole.log(buf1.equals(buf2));\n// : true\n\nconsole.log(buf1.equals(buf3));\n// : false\n```\n\n**buf.fill(value[, offset[, end]][, encoding])**\nvalue <string> | <Buffer> | <integer>  buf \noffset <integer>  buf : 0\nend <integer>  buf : buf.length\nencoding <string>  value : 'utf8'\n: <Buffer> buf \n offset  end buf  Buffer \n```\nconst b = Buffer.allocUnsafe(50).fill('h');\nconsole.log(b.toString());\n// : hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh\n```\nvalue  uint32 \n fill()  buf \n```\nconsole.log(Buffer.allocUnsafe(3).fill('\\u0222'));\n// : <Buffer c8 a2 c8>\n\nconst buf = Buffer.allocUnsafe(5);\nconsole.log(buf.fill('a'));\n// Prints: <Buffer 61 61 61 61 61>\nconsole.log(buf.fill('aazz', 'hex'));\n// Prints: <Buffer aa aa aa aa aa>\nconsole.log(buf.fill('zz', 'hex'));\n// Prints: <Buffer aa aa aa aa aa>\n```\n\n**buf.includes(value[, byteOffset][, encoding])**\nvalue <string> | <Buffer> | <integer> \nbyteOffset <integer> buf : 0\nencoding <string>  value  : 'utf8'\n: <boolean>  buf  value true false\n buf.indexOf() !== -1\n\n**buf.indexOf(value[, byteOffset][, encoding])**\nvalue <string> | <Buffer> | <Uint8Array> | <integer> \nbyteOffset <integer> buf : 0\nencoding <string>  value  : 'utf8'\n: <integer> buf  value  buf  value  -1\n value \n-  value  encoding \n- Buffer  Uint8Array value  Buffer buf.slice()\n- ,  value  0  255 \n\n value    Buffer  TypeError   value   byte  0255\n\n byteOffset    NaN  0,  {}, [], null or undefined   buffer  String#indexOf() \n\n value  Buffer byteOffset  buf.length byteOffset value  byteOffset  buf.length buf.length\n```\nconst b = Buffer.from('abcdef');\n\nconsole.log(b.indexOf(99.9));\nconsole.log(b.indexOf(256 + 99));\n// \n// 2 99  'c'\n\nconsole.log(b.indexOf('b', undefined));\nconsole.log(b.indexOf('b', {}));\nconsole.log(b.indexOf('b', null));\nconsole.log(b.indexOf('b', []));\n//  byteOffset NaN  0\n// 1 buffer\n```\n\n**buf.keys()**\n buf \n\n**buf.lastIndexOf(value[, byteOffset][, encoding])**\nvalue <string> | <Buffer> | <Uint8Array> | <integer> \nbyteOffset <integer> buf  : buf.length- 1\nencoding <string>  value  : 'utf8'\n: <integer> buf  value  buf  value  -1\n buf.indexOf()  buf \n\n value    Buffer  TypeError   value   byte  0255\n\n byteOffset    NaN or 0, like {}, [], null or undefined   buffer  String#lastIndexOf() \n\n value  Buffer byteOffset\n\n```\nconst b = Buffer.from('abcdef');\n\nconsole.log(b.lastIndexOf(99.9));\nconsole.log(b.lastIndexOf(256 + 99));\n// \n// 2 99  'c'\n\nconsole.log(b.lastIndexOf('b', undefined));\nconsole.log(b.lastIndexOf('b', {}));\n//  byteOffset NaN\n// -1 buffer\n\nconsole.log(b.lastIndexOf('b', null));\nconsole.log(b.lastIndexOf('b', []));\n//  byteOffset 0\n// -1 0\n```\n\n**buf.length**\n buf   buf \n```\nconst buf = Buffer.alloc(1234);\n\n// : 1234\nconsole.log(buf.length);\n\nbuf.write('some string', 0, 'ascii');\n\n// : 1234\nconsole.log(buf.length);\n```\n length  length   Buffer  length  buf.slice()  Buffer\n```\nlet buf = Buffer.allocUnsafe(10);\n\nbuf.write('abcdefghj', 0, 'ascii');\n\nconsole.log(buf.length);\n// : 10\n\nbuf = buf.slice(0, 5);\n\nconsole.log(buf.length);\n// : 5\n```\n\n**buf.readDoubleBE(offset[, noAssert])buf.readDoubleLE(offset[, noAssert])**\noffset <integer> 0 <= offset <= buf.length - 8\nnoAssert <boolean>  offset : false\n: <number>\nreadDoubleBE() readDoubleLE()  buf  offset 64\n\n noAssert  true  offset  buf \n```\nconst buf = Buffer.from([1, 2, 3, 4, 5, 6, 7, 8]);\n\nconsole.log(buf.readDoubleBE());\n// : 8.20788039913184e-304\n\nconsole.log(buf.readDoubleLE());\n// : 5.447603722011605e-270\n\nconsole.log(buf.readDoubleLE(1));\n// : RangeError: Index out of range\n\nconsole.log(buf.readDoubleLE(1, true));\n// :  buffer \n// \n```\n\n**buf.readFloatBE(offset[, noAssert])buf.readFloatLE(offset[, noAssert])**\noffset <integer> 0 <= offset <= buf.length - 4\nnoAssert <boolean>  offset : false\n: <number>\nreadFloatBE() readFloatLE()  buf  offset 32\n\n noAssert  true  offset  buf \n```\nconst buf = Buffer.from([1, 2, 3, 4]);\n\nconsole.log(buf.readFloatBE());\n// : 2.387939260590663e-38\n\nconsole.log(buf.readFloatLE());\n// : 1.539989614439558e-36\n\nconsole.log(buf.readFloatLE(1));\n// : RangeError: Index out of range\n\nconsole.log(buf.readFloatLE(1, true));\n// :  buffer \n// \n```\n\n**buf.readInt8(offset[, noAssert])**\noffset <integer> 0 <= offset <= buf.length - 1\nnoAssert <boolean>  offset : false\n: <integer>\n buf  offset 8\n\n noAssert  true  offset  buf \n\n Buffer \n\n**buf.readInt16BE(offset[, noAssert])buf.readInt16LE(offset[, noAssert])**\noffset <integer> 0 <= offset <= buf.length - 2\nnoAssert <boolean>  offset : false\n: <integer>\nreadInt16BE() readInt16LE()  buf  offset 16\n\n noAssert  true  offset  buf \n\n Buffer \n\n**buf.readInt32BE(offset[, noAssert])buf.readInt32LE(offset[, noAssert])**\noffset <integer> 0 <= offset <= buf.length - 4\nnoAssert <boolean>  offset : false\n: <integer>\nreadInt32BE() readInt32LE()  buf  offset 32\n\n noAssert  true  offset  buf \n\n Buffer \n\n**buf.readIntBE(offset, byteLength[, noAssert])buf.readIntLE(offset, byteLength[, noAssert])**\noffset <integer> 0 <= offset <= buf.length - byteLength\nbyteLength <integer> 0 < byteLength <= 6\nnoAssert <boolean>  offset  byteLength  : false\n: <integer>\n buf  offset  byteLength  48\n\n noAssert  true  offset  buf \n\n**buf.readUInt8(offset[, noAssert])**\noffset <integer> 0 <= offset <= buf.length - 1\nnoAssert <boolean>  offset : false\n: <integer>\n buf  offset 8\n\n noAssert  true  offset  buf \n\n**buf.readUInt16BE(offset[, noAssert])buf.readUInt16LE(offset[, noAssert])**\noffset <integer> 0 <= offset <= buf.length - 2\nnoAssert <boolean>  offset : false\n: <integer>\nreadUInt16BE() readUInt16LE()  buf  offset 16\n\n noAssert  true  offset  buf \n\n**buf.readUInt32BE(offset[, noAssert])buf.readUInt32LE(offset[, noAssert])**\noffset <integer> 0 <= offset <= buf.length - 4\nnoAssert <boolean>  offset : false\n: <integer>\nreadUInt32BE() readUInt32LE()  buf  offset 32\n\n noAssert  true  offset  buf \n\n**buf.readUIntBE(offset, byteLength[, noAssert])buf.readUIntLE(offset, byteLength[, noAssert])**\noffset <integer> 0 <= offset <= buf.length - byteLength\nbyteLength <integer> 0 < byteLength <= 6\nnoAssert <boolean>  offset  byteLength  : false\n: <integer>\n buf  offset  byteLength  48\n\n noAssert  true  offset  buf \n\n**buf.slice([start[, end]])**\nstart <integer>  Buffer  : 0\nend <integer>  Buffer  : buf.length\n: <Buffer>\n Buffer start  end \n\nbuf.lengthbuf.length\n\n* Buffer  Buffer *\n\n* buf *\n```\nconst buf1 = Buffer.allocUnsafe(26);\n\nfor (let i = 0; i < 26; i++) {\n  // 97  'a'  ASCII  \n  buf1[i] = i + 97;\n}\n\nconst buf2 = buf1.slice(0, 3);\n\nconsole.log(buf2.toString('ascii', 0, buf2.length));\n// : abc\n\nbuf1[0] = 33;\n\nconsole.log(buf2.toString('ascii', 0, buf2.length));\n// : !bc\n\n\nconst buf = Buffer.from('buffer');\n\nconsole.log(buf.slice(-6, -1).toString());\n// : buffe\n// ( buf.slice(0, 5))\n\nconsole.log(buf.slice(-6, -2).toString());\n// : buff\n// ( buf.slice(0, 4))\n\nconsole.log(buf.slice(-5, -2).toString());\n// : uff\n// ( buf.slice(1, 4))\n```\n\n**buf.swap16()**\n buf 16  buf.length 2 RangeError \n```\nconst buf1 = Buffer.from([0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8]);\n\n// : <Buffer 01 02 03 04 05 06 07 08>\nconsole.log(buf1);\n\nbuf1.swap16();\n\n// : <Buffer 02 01 04 03 06 05 08 07>\nconsole.log(buf1);\n\n\nconst buf2 = Buffer.from([0x1, 0x2, 0x3]);\n\n// : RangeError: Buffer size must be a multiple of 16-bits\nbuf2.swap16();\n```\n**buf.swap32()**\n buf 32  buf.length 4 RangeError \n```\nconst buf1 = Buffer.from([0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8]);\n\n// : <Buffer 01 02 03 04 05 06 07 08>\nconsole.log(buf1);\n\nbuf1.swap32();\n\n// : <Buffer 04 03 02 01 08 07 06 05>\nconsole.log(buf1);\n\n\nconst buf2 = Buffer.from([0x1, 0x2, 0x3]);\n\n// : RangeError: Buffer size must be a multiple of 32-bits\nbuf2.swap32();\n```\n\n**buf.swap64()**\n buf 64  buf.length 8 RangeError \n*JavaScript 64 64*\n\n**buf.toJSON()**\n buf  JSON   Buffer JSON.stringify() \n```\nconst buf = Buffer.from([0x1, 0x2, 0x3, 0x4, 0x5]);\nconst json = JSON.stringify(buf);\n\n// : {\"type\":\"Buffer\",\"data\":[1,2,3,4,5]}\nconsole.log(json);\n\nconst copy = JSON.parse(json, (key, value) => {\n  return value && value.type === 'Buffer' ?\n    Buffer.from(value.data) :\n    value;\n});\n\n// : <Buffer 01 02 03 04 05>\nconsole.log(copy);\n```\n\n**buf.toString([encoding[, start[, end]]])**\nencoding <string> : 'utf8'\nstart <integer> : 0\nend <integer>  : buf.length\n: <string>\n encoding  buf  start  end  buf \n\nUTF-16buffer.constants.MAX_STRING_LENGTH\n\n**buf.values()**\n buf   Buffer  for..of \n\n**buf.write(string[, offset[, length]][, encoding])**\nstring <string>  buf \noffset <integer>  string : 0\nlength <integer> : buf.length - offset\nencoding <string> string : 'utf8'\n: <integer> \n encoding  string  buf  offset  length   buf  string  \n\n**buf.writeDoubleBE(value, offset[, noAssert])buf.writeDoubleLE(value, offset[, noAssert])**\nwriteDoubleBE() writeDoubleLE()  value  buf  offset  value 64  value 64\n\n**buf.writeFloatBE(value, offset[, noAssert])buf.writeFloatLE(value, offset[, noAssert])**\nwriteFloatBE() writeFloatLE()  value  buf  offset  value 32  value 32\n\n**buf.writeInt8(value, offset[, noAssert])**\n value  buf  offset  value 8  value 8\n\n**buf.writeInt16BE(value, offset[, noAssert])buf.writeInt16LE(value, offset[, noAssert])**\nwriteInt16BE() writeInt16LE()  value  buf  offset  value 16  value 16\n\n**buf.writeInt32BE(value, offset[, noAssert])buf.writeInt32LE(value, offset[, noAssert])**\nwriteInt32BE() writeInt32LE()  value  buf  offset  value 32  value 32\n\n**buf.writeIntBE(value, offset, byteLength[, noAssert])buf.writeIntLE(value, offset, byteLength[, noAssert])**\n value  byteLength  buf  offset  48  value \n\n**buf.writeUInt8(value, offset[, noAssert])**\n value  buf  offset  value 8  value 8\n\n**buf.writeUInt16BE(value, offset[, noAssert])buf.writeUInt16LE(value, offset[, noAssert])**\nwriteUInt16BE() writeUInt16LE()  value  buf  offset  value 16  value 16\n\n**buf.writeUInt32BE(value, offset[, noAssert])buf.writeUInt32LE(value, offset[, noAssert])**\nwriteUInt32BE() writeUInt32LE()  value  buf  offset  value 32  value 32\n\n**buf.writeUIntBE(value, offset, byteLength[, noAssert])buf.writeUIntLE(value, offset, byteLength[, noAssert])**\n value  byteLength  buf  offset  48  value \n\n**buffer.INSPECT_MAX_BYTES**\n buf.inspect()    util.inspect()  buf.inspect() \n\n require('buffer')  buffer  Buffer  Buffer 50\n\n**buffer.kMaxLength**\n Buffer \n require('buffer')  buffer  Buffer  Buffer \n\n**buffer.transcode(source, fromEnc, toEnc)**\nsource <Buffer> | <Uint8Array>  Buffer  Uint8Array \nfromEnc <string> \ntoEnc <string> \n Buffer  Uint8Array  Buffer\n fromEnc  toEnc  fromEnc  toEnc\n\n```\nconst buffer = require('buffer');\n\nconst newBuf = buffer.transcode(Buffer.from(''), 'utf8', 'ascii');\nconsole.log(newBuf.toString('ascii'));\n// : '?'\n```\n US-ASCII  Buffer  ? \n\n**Buffer Constants**\nbuffer.constantsrequire('buffer')bufferBufferBuffer\n- buffer.constants.MAX_LENGTH\n  - Buffer32(2^30)-1 (~1GB) 64(2^31)-1 (~2GB)buffer.kMaxLength\n- buffer.constants.MAX_STRING_LENGTH\n  - stringstringUTF-16JS","source":"nodejs/nodejs-note-8.md","raw":"---\ntitle: nodejs(3)\ndate: 2022-12-28 12:18:33\ntags: [node, buffer]\n---\n\n###### Buffer()\n\n**buf.entries()**\n buf  [index, byte] \n```\nconst buf = Buffer.from('buffer');\nfor (const pair of buf.entries()) {\n  console.log(pair);\n}\n// :\n// [ 0, 0 ]\n// [ 1, 0 ]\n// [ 2, 0 ]\n// [ 3, 0 ]\n// [ 4, 0 ]\n// [ 5, 0 ]\n// [ 6, 0 ]\n// [ 7, 0 ]\n// [ 8, 0 ]\n// [ 9, 0 ]\n```\n\n**buf.equals(otherBuffer)**\n buf  otherBuffer  true false\n```\nconst buf1 = Buffer.from('ABC');\nconst buf2 = Buffer.from('414243', 'hex');\nconst buf3 = Buffer.from('ABCD');\n\nconsole.log(buf1.equals(buf2));\n// : true\n\nconsole.log(buf1.equals(buf3));\n// : false\n```\n\n**buf.fill(value[, offset[, end]][, encoding])**\nvalue <string> | <Buffer> | <integer>  buf \noffset <integer>  buf : 0\nend <integer>  buf : buf.length\nencoding <string>  value : 'utf8'\n: <Buffer> buf \n offset  end buf  Buffer \n```\nconst b = Buffer.allocUnsafe(50).fill('h');\nconsole.log(b.toString());\n// : hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh\n```\nvalue  uint32 \n fill()  buf \n```\nconsole.log(Buffer.allocUnsafe(3).fill('\\u0222'));\n// : <Buffer c8 a2 c8>\n\nconst buf = Buffer.allocUnsafe(5);\nconsole.log(buf.fill('a'));\n// Prints: <Buffer 61 61 61 61 61>\nconsole.log(buf.fill('aazz', 'hex'));\n// Prints: <Buffer aa aa aa aa aa>\nconsole.log(buf.fill('zz', 'hex'));\n// Prints: <Buffer aa aa aa aa aa>\n```\n\n**buf.includes(value[, byteOffset][, encoding])**\nvalue <string> | <Buffer> | <integer> \nbyteOffset <integer> buf : 0\nencoding <string>  value  : 'utf8'\n: <boolean>  buf  value true false\n buf.indexOf() !== -1\n\n**buf.indexOf(value[, byteOffset][, encoding])**\nvalue <string> | <Buffer> | <Uint8Array> | <integer> \nbyteOffset <integer> buf : 0\nencoding <string>  value  : 'utf8'\n: <integer> buf  value  buf  value  -1\n value \n-  value  encoding \n- Buffer  Uint8Array value  Buffer buf.slice()\n- ,  value  0  255 \n\n value    Buffer  TypeError   value   byte  0255\n\n byteOffset    NaN  0,  {}, [], null or undefined   buffer  String#indexOf() \n\n value  Buffer byteOffset  buf.length byteOffset value  byteOffset  buf.length buf.length\n```\nconst b = Buffer.from('abcdef');\n\nconsole.log(b.indexOf(99.9));\nconsole.log(b.indexOf(256 + 99));\n// \n// 2 99  'c'\n\nconsole.log(b.indexOf('b', undefined));\nconsole.log(b.indexOf('b', {}));\nconsole.log(b.indexOf('b', null));\nconsole.log(b.indexOf('b', []));\n//  byteOffset NaN  0\n// 1 buffer\n```\n\n**buf.keys()**\n buf \n\n**buf.lastIndexOf(value[, byteOffset][, encoding])**\nvalue <string> | <Buffer> | <Uint8Array> | <integer> \nbyteOffset <integer> buf  : buf.length- 1\nencoding <string>  value  : 'utf8'\n: <integer> buf  value  buf  value  -1\n buf.indexOf()  buf \n\n value    Buffer  TypeError   value   byte  0255\n\n byteOffset    NaN or 0, like {}, [], null or undefined   buffer  String#lastIndexOf() \n\n value  Buffer byteOffset\n\n```\nconst b = Buffer.from('abcdef');\n\nconsole.log(b.lastIndexOf(99.9));\nconsole.log(b.lastIndexOf(256 + 99));\n// \n// 2 99  'c'\n\nconsole.log(b.lastIndexOf('b', undefined));\nconsole.log(b.lastIndexOf('b', {}));\n//  byteOffset NaN\n// -1 buffer\n\nconsole.log(b.lastIndexOf('b', null));\nconsole.log(b.lastIndexOf('b', []));\n//  byteOffset 0\n// -1 0\n```\n\n**buf.length**\n buf   buf \n```\nconst buf = Buffer.alloc(1234);\n\n// : 1234\nconsole.log(buf.length);\n\nbuf.write('some string', 0, 'ascii');\n\n// : 1234\nconsole.log(buf.length);\n```\n length  length   Buffer  length  buf.slice()  Buffer\n```\nlet buf = Buffer.allocUnsafe(10);\n\nbuf.write('abcdefghj', 0, 'ascii');\n\nconsole.log(buf.length);\n// : 10\n\nbuf = buf.slice(0, 5);\n\nconsole.log(buf.length);\n// : 5\n```\n\n**buf.readDoubleBE(offset[, noAssert])buf.readDoubleLE(offset[, noAssert])**\noffset <integer> 0 <= offset <= buf.length - 8\nnoAssert <boolean>  offset : false\n: <number>\nreadDoubleBE() readDoubleLE()  buf  offset 64\n\n noAssert  true  offset  buf \n```\nconst buf = Buffer.from([1, 2, 3, 4, 5, 6, 7, 8]);\n\nconsole.log(buf.readDoubleBE());\n// : 8.20788039913184e-304\n\nconsole.log(buf.readDoubleLE());\n// : 5.447603722011605e-270\n\nconsole.log(buf.readDoubleLE(1));\n// : RangeError: Index out of range\n\nconsole.log(buf.readDoubleLE(1, true));\n// :  buffer \n// \n```\n\n**buf.readFloatBE(offset[, noAssert])buf.readFloatLE(offset[, noAssert])**\noffset <integer> 0 <= offset <= buf.length - 4\nnoAssert <boolean>  offset : false\n: <number>\nreadFloatBE() readFloatLE()  buf  offset 32\n\n noAssert  true  offset  buf \n```\nconst buf = Buffer.from([1, 2, 3, 4]);\n\nconsole.log(buf.readFloatBE());\n// : 2.387939260590663e-38\n\nconsole.log(buf.readFloatLE());\n// : 1.539989614439558e-36\n\nconsole.log(buf.readFloatLE(1));\n// : RangeError: Index out of range\n\nconsole.log(buf.readFloatLE(1, true));\n// :  buffer \n// \n```\n\n**buf.readInt8(offset[, noAssert])**\noffset <integer> 0 <= offset <= buf.length - 1\nnoAssert <boolean>  offset : false\n: <integer>\n buf  offset 8\n\n noAssert  true  offset  buf \n\n Buffer \n\n**buf.readInt16BE(offset[, noAssert])buf.readInt16LE(offset[, noAssert])**\noffset <integer> 0 <= offset <= buf.length - 2\nnoAssert <boolean>  offset : false\n: <integer>\nreadInt16BE() readInt16LE()  buf  offset 16\n\n noAssert  true  offset  buf \n\n Buffer \n\n**buf.readInt32BE(offset[, noAssert])buf.readInt32LE(offset[, noAssert])**\noffset <integer> 0 <= offset <= buf.length - 4\nnoAssert <boolean>  offset : false\n: <integer>\nreadInt32BE() readInt32LE()  buf  offset 32\n\n noAssert  true  offset  buf \n\n Buffer \n\n**buf.readIntBE(offset, byteLength[, noAssert])buf.readIntLE(offset, byteLength[, noAssert])**\noffset <integer> 0 <= offset <= buf.length - byteLength\nbyteLength <integer> 0 < byteLength <= 6\nnoAssert <boolean>  offset  byteLength  : false\n: <integer>\n buf  offset  byteLength  48\n\n noAssert  true  offset  buf \n\n**buf.readUInt8(offset[, noAssert])**\noffset <integer> 0 <= offset <= buf.length - 1\nnoAssert <boolean>  offset : false\n: <integer>\n buf  offset 8\n\n noAssert  true  offset  buf \n\n**buf.readUInt16BE(offset[, noAssert])buf.readUInt16LE(offset[, noAssert])**\noffset <integer> 0 <= offset <= buf.length - 2\nnoAssert <boolean>  offset : false\n: <integer>\nreadUInt16BE() readUInt16LE()  buf  offset 16\n\n noAssert  true  offset  buf \n\n**buf.readUInt32BE(offset[, noAssert])buf.readUInt32LE(offset[, noAssert])**\noffset <integer> 0 <= offset <= buf.length - 4\nnoAssert <boolean>  offset : false\n: <integer>\nreadUInt32BE() readUInt32LE()  buf  offset 32\n\n noAssert  true  offset  buf \n\n**buf.readUIntBE(offset, byteLength[, noAssert])buf.readUIntLE(offset, byteLength[, noAssert])**\noffset <integer> 0 <= offset <= buf.length - byteLength\nbyteLength <integer> 0 < byteLength <= 6\nnoAssert <boolean>  offset  byteLength  : false\n: <integer>\n buf  offset  byteLength  48\n\n noAssert  true  offset  buf \n\n**buf.slice([start[, end]])**\nstart <integer>  Buffer  : 0\nend <integer>  Buffer  : buf.length\n: <Buffer>\n Buffer start  end \n\nbuf.lengthbuf.length\n\n* Buffer  Buffer *\n\n* buf *\n```\nconst buf1 = Buffer.allocUnsafe(26);\n\nfor (let i = 0; i < 26; i++) {\n  // 97  'a'  ASCII  \n  buf1[i] = i + 97;\n}\n\nconst buf2 = buf1.slice(0, 3);\n\nconsole.log(buf2.toString('ascii', 0, buf2.length));\n// : abc\n\nbuf1[0] = 33;\n\nconsole.log(buf2.toString('ascii', 0, buf2.length));\n// : !bc\n\n\nconst buf = Buffer.from('buffer');\n\nconsole.log(buf.slice(-6, -1).toString());\n// : buffe\n// ( buf.slice(0, 5))\n\nconsole.log(buf.slice(-6, -2).toString());\n// : buff\n// ( buf.slice(0, 4))\n\nconsole.log(buf.slice(-5, -2).toString());\n// : uff\n// ( buf.slice(1, 4))\n```\n\n**buf.swap16()**\n buf 16  buf.length 2 RangeError \n```\nconst buf1 = Buffer.from([0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8]);\n\n// : <Buffer 01 02 03 04 05 06 07 08>\nconsole.log(buf1);\n\nbuf1.swap16();\n\n// : <Buffer 02 01 04 03 06 05 08 07>\nconsole.log(buf1);\n\n\nconst buf2 = Buffer.from([0x1, 0x2, 0x3]);\n\n// : RangeError: Buffer size must be a multiple of 16-bits\nbuf2.swap16();\n```\n**buf.swap32()**\n buf 32  buf.length 4 RangeError \n```\nconst buf1 = Buffer.from([0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8]);\n\n// : <Buffer 01 02 03 04 05 06 07 08>\nconsole.log(buf1);\n\nbuf1.swap32();\n\n// : <Buffer 04 03 02 01 08 07 06 05>\nconsole.log(buf1);\n\n\nconst buf2 = Buffer.from([0x1, 0x2, 0x3]);\n\n// : RangeError: Buffer size must be a multiple of 32-bits\nbuf2.swap32();\n```\n\n**buf.swap64()**\n buf 64  buf.length 8 RangeError \n*JavaScript 64 64*\n\n**buf.toJSON()**\n buf  JSON   Buffer JSON.stringify() \n```\nconst buf = Buffer.from([0x1, 0x2, 0x3, 0x4, 0x5]);\nconst json = JSON.stringify(buf);\n\n// : {\"type\":\"Buffer\",\"data\":[1,2,3,4,5]}\nconsole.log(json);\n\nconst copy = JSON.parse(json, (key, value) => {\n  return value && value.type === 'Buffer' ?\n    Buffer.from(value.data) :\n    value;\n});\n\n// : <Buffer 01 02 03 04 05>\nconsole.log(copy);\n```\n\n**buf.toString([encoding[, start[, end]]])**\nencoding <string> : 'utf8'\nstart <integer> : 0\nend <integer>  : buf.length\n: <string>\n encoding  buf  start  end  buf \n\nUTF-16buffer.constants.MAX_STRING_LENGTH\n\n**buf.values()**\n buf   Buffer  for..of \n\n**buf.write(string[, offset[, length]][, encoding])**\nstring <string>  buf \noffset <integer>  string : 0\nlength <integer> : buf.length - offset\nencoding <string> string : 'utf8'\n: <integer> \n encoding  string  buf  offset  length   buf  string  \n\n**buf.writeDoubleBE(value, offset[, noAssert])buf.writeDoubleLE(value, offset[, noAssert])**\nwriteDoubleBE() writeDoubleLE()  value  buf  offset  value 64  value 64\n\n**buf.writeFloatBE(value, offset[, noAssert])buf.writeFloatLE(value, offset[, noAssert])**\nwriteFloatBE() writeFloatLE()  value  buf  offset  value 32  value 32\n\n**buf.writeInt8(value, offset[, noAssert])**\n value  buf  offset  value 8  value 8\n\n**buf.writeInt16BE(value, offset[, noAssert])buf.writeInt16LE(value, offset[, noAssert])**\nwriteInt16BE() writeInt16LE()  value  buf  offset  value 16  value 16\n\n**buf.writeInt32BE(value, offset[, noAssert])buf.writeInt32LE(value, offset[, noAssert])**\nwriteInt32BE() writeInt32LE()  value  buf  offset  value 32  value 32\n\n**buf.writeIntBE(value, offset, byteLength[, noAssert])buf.writeIntLE(value, offset, byteLength[, noAssert])**\n value  byteLength  buf  offset  48  value \n\n**buf.writeUInt8(value, offset[, noAssert])**\n value  buf  offset  value 8  value 8\n\n**buf.writeUInt16BE(value, offset[, noAssert])buf.writeUInt16LE(value, offset[, noAssert])**\nwriteUInt16BE() writeUInt16LE()  value  buf  offset  value 16  value 16\n\n**buf.writeUInt32BE(value, offset[, noAssert])buf.writeUInt32LE(value, offset[, noAssert])**\nwriteUInt32BE() writeUInt32LE()  value  buf  offset  value 32  value 32\n\n**buf.writeUIntBE(value, offset, byteLength[, noAssert])buf.writeUIntLE(value, offset, byteLength[, noAssert])**\n value  byteLength  buf  offset  48  value \n\n**buffer.INSPECT_MAX_BYTES**\n buf.inspect()    util.inspect()  buf.inspect() \n\n require('buffer')  buffer  Buffer  Buffer 50\n\n**buffer.kMaxLength**\n Buffer \n require('buffer')  buffer  Buffer  Buffer \n\n**buffer.transcode(source, fromEnc, toEnc)**\nsource <Buffer> | <Uint8Array>  Buffer  Uint8Array \nfromEnc <string> \ntoEnc <string> \n Buffer  Uint8Array  Buffer\n fromEnc  toEnc  fromEnc  toEnc\n\n```\nconst buffer = require('buffer');\n\nconst newBuf = buffer.transcode(Buffer.from(''), 'utf8', 'ascii');\nconsole.log(newBuf.toString('ascii'));\n// : '?'\n```\n US-ASCII  Buffer  ? \n\n**Buffer Constants**\nbuffer.constantsrequire('buffer')bufferBufferBuffer\n- buffer.constants.MAX_LENGTH\n  - Buffer32(2^30)-1 (~1GB) 64(2^31)-1 (~2GB)buffer.kMaxLength\n- buffer.constants.MAX_STRING_LENGTH\n  - stringstringUTF-16JS","updated":"2022-12-28T09:11:41.079Z","path":"nodejs/nodejs-note-8.html","comments":1,"layout":"page","_id":"clchh4gww0012cktth0td3u8d","content":"<h6 id=\"Buffer-\"><a href=\"#Buffer-\" class=\"headerlink\" title=\"Buffer()\"></a>Buffer()</h6><p><strong>buf.entries()</strong><br> buf  [index, byte] </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buf = Buffer.from(&#x27;buffer&#x27;);</span><br><span class=\"line\">for (const pair of buf.entries()) &#123;</span><br><span class=\"line\">  console.log(pair);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">// :</span><br><span class=\"line\">// [ 0, 0 ]</span><br><span class=\"line\">// [ 1, 0 ]</span><br><span class=\"line\">// [ 2, 0 ]</span><br><span class=\"line\">// [ 3, 0 ]</span><br><span class=\"line\">// [ 4, 0 ]</span><br><span class=\"line\">// [ 5, 0 ]</span><br><span class=\"line\">// [ 6, 0 ]</span><br><span class=\"line\">// [ 7, 0 ]</span><br><span class=\"line\">// [ 8, 0 ]</span><br><span class=\"line\">// [ 9, 0 ]</span><br></pre></td></tr></table></figure>\n\n<p><strong>buf.equals(otherBuffer)</strong><br> buf  otherBuffer  true false</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buf1 = Buffer.from(&#x27;ABC&#x27;);</span><br><span class=\"line\">const buf2 = Buffer.from(&#x27;414243&#x27;, &#x27;hex&#x27;);</span><br><span class=\"line\">const buf3 = Buffer.from(&#x27;ABCD&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf1.equals(buf2));</span><br><span class=\"line\">// : true</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf1.equals(buf3));</span><br><span class=\"line\">// : false</span><br></pre></td></tr></table></figure>\n\n<p><strong>buf.fill(value[, offset[, end]][, encoding])</strong><br>value <string> | <Buffer> | <integer>  buf <br>offset <integer>  buf : 0<br>end <integer>  buf : buf.length<br>encoding <string>  value : utf8<br>: <Buffer> buf <br> offset  end buf  Buffer </Buffer></string></integer></integer></integer></Buffer></string></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const b = Buffer.allocUnsafe(50).fill(&#x27;h&#x27;);</span><br><span class=\"line\">console.log(b.toString());</span><br><span class=\"line\">// : hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh</span><br></pre></td></tr></table></figure>\n<p>value  uint32 <br> fill()  buf </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">console.log(Buffer.allocUnsafe(3).fill(&#x27;\\u0222&#x27;));</span><br><span class=\"line\">// : &lt;Buffer c8 a2 c8&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">const buf = Buffer.allocUnsafe(5);</span><br><span class=\"line\">console.log(buf.fill(&#x27;a&#x27;));</span><br><span class=\"line\">// Prints: &lt;Buffer 61 61 61 61 61&gt;</span><br><span class=\"line\">console.log(buf.fill(&#x27;aazz&#x27;, &#x27;hex&#x27;));</span><br><span class=\"line\">// Prints: &lt;Buffer aa aa aa aa aa&gt;</span><br><span class=\"line\">console.log(buf.fill(&#x27;zz&#x27;, &#x27;hex&#x27;));</span><br><span class=\"line\">// Prints: &lt;Buffer aa aa aa aa aa&gt;</span><br></pre></td></tr></table></figure>\n\n<p><strong>buf.includes(value[, byteOffset][, encoding])</strong><br>value <string> | <Buffer> | <integer> <br>byteOffset <integer> buf : 0<br>encoding <string>  value  : utf8<br>: <boolean>  buf  value true false<br> buf.indexOf() !== -1</boolean></string></integer></integer></Buffer></string></p>\n<p><strong>buf.indexOf(value[, byteOffset][, encoding])</strong><br>value <string> | <Buffer> | <Uint8Array> | <integer> <br>byteOffset <integer> buf : 0<br>encoding <string>  value  : utf8<br>: <integer> buf  value  buf  value  -1<br> value </integer></string></integer></integer></Uint8Array></Buffer></string></p>\n<ul>\n<li> value  encoding </li>\n<li>Buffer  Uint8Array value  Buffer buf.slice()</li>\n<li>,  value  0  255 </li>\n</ul>\n<p> value    Buffer  TypeError   value   byte  0255</p>\n<p> byteOffset    NaN  0,  {}, [], null or undefined   buffer  String#indexOf() </p>\n<p> value  Buffer byteOffset  buf.length byteOffset value  byteOffset  buf.length buf.length</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const b = Buffer.from(&#x27;abcdef&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(b.indexOf(99.9));</span><br><span class=\"line\">console.log(b.indexOf(256 + 99));</span><br><span class=\"line\">// </span><br><span class=\"line\">// 2 99  &#x27;c&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(b.indexOf(&#x27;b&#x27;, undefined));</span><br><span class=\"line\">console.log(b.indexOf(&#x27;b&#x27;, &#123;&#125;));</span><br><span class=\"line\">console.log(b.indexOf(&#x27;b&#x27;, null));</span><br><span class=\"line\">console.log(b.indexOf(&#x27;b&#x27;, []));</span><br><span class=\"line\">//  byteOffset NaN  0</span><br><span class=\"line\">// 1 buffer</span><br></pre></td></tr></table></figure>\n\n<p><strong>buf.keys()</strong><br> buf </p>\n<p><strong>buf.lastIndexOf(value[, byteOffset][, encoding])</strong><br>value <string> | <Buffer> | <Uint8Array> | <integer> <br>byteOffset <integer> buf  : buf.length- 1<br>encoding <string>  value  : utf8<br>: <integer> buf  value  buf  value  -1<br> buf.indexOf()  buf </integer></string></integer></integer></Uint8Array></Buffer></string></p>\n<p> value    Buffer  TypeError   value   byte  0255</p>\n<p> byteOffset    NaN or 0, like {}, [], null or undefined   buffer  String#lastIndexOf() </p>\n<p> value  Buffer byteOffset</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const b = Buffer.from(&#x27;abcdef&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(b.lastIndexOf(99.9));</span><br><span class=\"line\">console.log(b.lastIndexOf(256 + 99));</span><br><span class=\"line\">// </span><br><span class=\"line\">// 2 99  &#x27;c&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(b.lastIndexOf(&#x27;b&#x27;, undefined));</span><br><span class=\"line\">console.log(b.lastIndexOf(&#x27;b&#x27;, &#123;&#125;));</span><br><span class=\"line\">//  byteOffset NaN</span><br><span class=\"line\">// -1 buffer</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(b.lastIndexOf(&#x27;b&#x27;, null));</span><br><span class=\"line\">console.log(b.lastIndexOf(&#x27;b&#x27;, []));</span><br><span class=\"line\">//  byteOffset 0</span><br><span class=\"line\">// -1 0</span><br></pre></td></tr></table></figure>\n\n<p><strong>buf.length</strong><br> buf   buf </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buf = Buffer.alloc(1234);</span><br><span class=\"line\"></span><br><span class=\"line\">// : 1234</span><br><span class=\"line\">console.log(buf.length);</span><br><span class=\"line\"></span><br><span class=\"line\">buf.write(&#x27;some string&#x27;, 0, &#x27;ascii&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">// : 1234</span><br><span class=\"line\">console.log(buf.length);</span><br></pre></td></tr></table></figure>\n<p> length  length   Buffer  length  buf.slice()  Buffer</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let buf = Buffer.allocUnsafe(10);</span><br><span class=\"line\"></span><br><span class=\"line\">buf.write(&#x27;abcdefghj&#x27;, 0, &#x27;ascii&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.length);</span><br><span class=\"line\">// : 10</span><br><span class=\"line\"></span><br><span class=\"line\">buf = buf.slice(0, 5);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.length);</span><br><span class=\"line\">// : 5</span><br></pre></td></tr></table></figure>\n\n<p><strong>buf.readDoubleBE(offset[, noAssert])buf.readDoubleLE(offset[, noAssert])</strong><br>offset <integer> 0 &lt;= offset &lt;= buf.length - 8<br>noAssert <boolean>  offset : false<br>: <number><br>readDoubleBE() readDoubleLE()  buf  offset 64</number></boolean></integer></p>\n<p> noAssert  true  offset  buf </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buf = Buffer.from([1, 2, 3, 4, 5, 6, 7, 8]);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.readDoubleBE());</span><br><span class=\"line\">// : 8.20788039913184e-304</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.readDoubleLE());</span><br><span class=\"line\">// : 5.447603722011605e-270</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.readDoubleLE(1));</span><br><span class=\"line\">// : RangeError: Index out of range</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.readDoubleLE(1, true));</span><br><span class=\"line\">// :  buffer </span><br><span class=\"line\">// </span><br></pre></td></tr></table></figure>\n\n<p><strong>buf.readFloatBE(offset[, noAssert])buf.readFloatLE(offset[, noAssert])</strong><br>offset <integer> 0 &lt;= offset &lt;= buf.length - 4<br>noAssert <boolean>  offset : false<br>: <number><br>readFloatBE() readFloatLE()  buf  offset 32</number></boolean></integer></p>\n<p> noAssert  true  offset  buf </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buf = Buffer.from([1, 2, 3, 4]);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.readFloatBE());</span><br><span class=\"line\">// : 2.387939260590663e-38</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.readFloatLE());</span><br><span class=\"line\">// : 1.539989614439558e-36</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.readFloatLE(1));</span><br><span class=\"line\">// : RangeError: Index out of range</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.readFloatLE(1, true));</span><br><span class=\"line\">// :  buffer </span><br><span class=\"line\">// </span><br></pre></td></tr></table></figure>\n\n<p><strong>buf.readInt8(offset[, noAssert])</strong><br>offset <integer> 0 &lt;= offset &lt;= buf.length - 1<br>noAssert <boolean>  offset : false<br>: <integer><br> buf  offset 8</integer></boolean></integer></p>\n<p> noAssert  true  offset  buf </p>\n<p> Buffer </p>\n<p><strong>buf.readInt16BE(offset[, noAssert])buf.readInt16LE(offset[, noAssert])</strong><br>offset <integer> 0 &lt;= offset &lt;= buf.length - 2<br>noAssert <boolean>  offset : false<br>: <integer><br>readInt16BE() readInt16LE()  buf  offset 16</integer></boolean></integer></p>\n<p> noAssert  true  offset  buf </p>\n<p> Buffer </p>\n<p><strong>buf.readInt32BE(offset[, noAssert])buf.readInt32LE(offset[, noAssert])</strong><br>offset <integer> 0 &lt;= offset &lt;= buf.length - 4<br>noAssert <boolean>  offset : false<br>: <integer><br>readInt32BE() readInt32LE()  buf  offset 32</integer></boolean></integer></p>\n<p> noAssert  true  offset  buf </p>\n<p> Buffer </p>\n<p><strong>buf.readIntBE(offset, byteLength[, noAssert])buf.readIntLE(offset, byteLength[, noAssert])</strong><br>offset <integer> 0 &lt;= offset &lt;= buf.length - byteLength<br>byteLength <integer> 0 &lt; byteLength &lt;= 6<br>noAssert <boolean>  offset  byteLength  : false<br>: <integer><br> buf  offset  byteLength  48</integer></boolean></integer></integer></p>\n<p> noAssert  true  offset  buf </p>\n<p><strong>buf.readUInt8(offset[, noAssert])</strong><br>offset <integer> 0 &lt;= offset &lt;= buf.length - 1<br>noAssert <boolean>  offset : false<br>: <integer><br> buf  offset 8</integer></boolean></integer></p>\n<p> noAssert  true  offset  buf </p>\n<p><strong>buf.readUInt16BE(offset[, noAssert])buf.readUInt16LE(offset[, noAssert])</strong><br>offset <integer> 0 &lt;= offset &lt;= buf.length - 2<br>noAssert <boolean>  offset : false<br>: <integer><br>readUInt16BE() readUInt16LE()  buf  offset 16</integer></boolean></integer></p>\n<p> noAssert  true  offset  buf </p>\n<p><strong>buf.readUInt32BE(offset[, noAssert])buf.readUInt32LE(offset[, noAssert])</strong><br>offset <integer> 0 &lt;= offset &lt;= buf.length - 4<br>noAssert <boolean>  offset : false<br>: <integer><br>readUInt32BE() readUInt32LE()  buf  offset 32</integer></boolean></integer></p>\n<p> noAssert  true  offset  buf </p>\n<p><strong>buf.readUIntBE(offset, byteLength[, noAssert])buf.readUIntLE(offset, byteLength[, noAssert])</strong><br>offset <integer> 0 &lt;= offset &lt;= buf.length - byteLength<br>byteLength <integer> 0 &lt; byteLength &lt;= 6<br>noAssert <boolean>  offset  byteLength  : false<br>: <integer><br> buf  offset  byteLength  48</integer></boolean></integer></integer></p>\n<p> noAssert  true  offset  buf </p>\n<p><strong>buf.slice([start[, end]])</strong><br>start <integer>  Buffer  : 0<br>end <integer>  Buffer  : buf.length<br>: <Buffer><br> Buffer start  end </Buffer></integer></integer></p>\n<p>buf.lengthbuf.length</p>\n<p><em> Buffer  Buffer </em></p>\n<p><em> buf </em></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buf1 = Buffer.allocUnsafe(26);</span><br><span class=\"line\"></span><br><span class=\"line\">for (let i = 0; i &lt; 26; i++) &#123;</span><br><span class=\"line\">  // 97  &#x27;a&#x27;  ASCII  </span><br><span class=\"line\">  buf1[i] = i + 97;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const buf2 = buf1.slice(0, 3);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf2.toString(&#x27;ascii&#x27;, 0, buf2.length));</span><br><span class=\"line\">// : abc</span><br><span class=\"line\"></span><br><span class=\"line\">buf1[0] = 33;</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf2.toString(&#x27;ascii&#x27;, 0, buf2.length));</span><br><span class=\"line\">// : !bc</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">const buf = Buffer.from(&#x27;buffer&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.slice(-6, -1).toString());</span><br><span class=\"line\">// : buffe</span><br><span class=\"line\">// ( buf.slice(0, 5))</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.slice(-6, -2).toString());</span><br><span class=\"line\">// : buff</span><br><span class=\"line\">// ( buf.slice(0, 4))</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.slice(-5, -2).toString());</span><br><span class=\"line\">// : uff</span><br><span class=\"line\">// ( buf.slice(1, 4))</span><br></pre></td></tr></table></figure>\n\n<p><strong>buf.swap16()</strong><br> buf 16  buf.length 2 RangeError </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buf1 = Buffer.from([0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8]);</span><br><span class=\"line\"></span><br><span class=\"line\">// : &lt;Buffer 01 02 03 04 05 06 07 08&gt;</span><br><span class=\"line\">console.log(buf1);</span><br><span class=\"line\"></span><br><span class=\"line\">buf1.swap16();</span><br><span class=\"line\"></span><br><span class=\"line\">// : &lt;Buffer 02 01 04 03 06 05 08 07&gt;</span><br><span class=\"line\">console.log(buf1);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">const buf2 = Buffer.from([0x1, 0x2, 0x3]);</span><br><span class=\"line\"></span><br><span class=\"line\">// : RangeError: Buffer size must be a multiple of 16-bits</span><br><span class=\"line\">buf2.swap16();</span><br></pre></td></tr></table></figure>\n<p><strong>buf.swap32()</strong><br> buf 32  buf.length 4 RangeError </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buf1 = Buffer.from([0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8]);</span><br><span class=\"line\"></span><br><span class=\"line\">// : &lt;Buffer 01 02 03 04 05 06 07 08&gt;</span><br><span class=\"line\">console.log(buf1);</span><br><span class=\"line\"></span><br><span class=\"line\">buf1.swap32();</span><br><span class=\"line\"></span><br><span class=\"line\">// : &lt;Buffer 04 03 02 01 08 07 06 05&gt;</span><br><span class=\"line\">console.log(buf1);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">const buf2 = Buffer.from([0x1, 0x2, 0x3]);</span><br><span class=\"line\"></span><br><span class=\"line\">// : RangeError: Buffer size must be a multiple of 32-bits</span><br><span class=\"line\">buf2.swap32();</span><br></pre></td></tr></table></figure>\n\n<p><strong>buf.swap64()</strong><br> buf 64  buf.length 8 RangeError <br><em>JavaScript 64 64</em></p>\n<p><strong>buf.toJSON()</strong><br> buf  JSON   Buffer JSON.stringify() </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buf = Buffer.from([0x1, 0x2, 0x3, 0x4, 0x5]);</span><br><span class=\"line\">const json = JSON.stringify(buf);</span><br><span class=\"line\"></span><br><span class=\"line\">// : &#123;&quot;type&quot;:&quot;Buffer&quot;,&quot;data&quot;:[1,2,3,4,5]&#125;</span><br><span class=\"line\">console.log(json);</span><br><span class=\"line\"></span><br><span class=\"line\">const copy = JSON.parse(json, (key, value) =&gt; &#123;</span><br><span class=\"line\">  return value &amp;&amp; value.type === &#x27;Buffer&#x27; ?</span><br><span class=\"line\">    Buffer.from(value.data) :</span><br><span class=\"line\">    value;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">// : &lt;Buffer 01 02 03 04 05&gt;</span><br><span class=\"line\">console.log(copy);</span><br></pre></td></tr></table></figure>\n\n<p><strong>buf.toString([encoding[, start[, end]]])</strong><br>encoding <string> : utf8<br>start <integer> : 0<br>end <integer>  : buf.length<br>: <string><br> encoding  buf  start  end  buf </string></integer></integer></string></p>\n<p>UTF-16buffer.constants.MAX_STRING_LENGTH</p>\n<p><strong>buf.values()</strong><br> buf   Buffer  for..of </p>\n<p><strong>buf.write(string[, offset[, length]][, encoding])</strong><br>string <string>  buf <br>offset <integer>  string : 0<br>length <integer> : buf.length - offset<br>encoding <string> string : utf8<br>: <integer> <br> encoding  string  buf  offset  length   buf  string  </integer></string></integer></integer></string></p>\n<p><strong>buf.writeDoubleBE(value, offset[, noAssert])buf.writeDoubleLE(value, offset[, noAssert])</strong><br>writeDoubleBE() writeDoubleLE()  value  buf  offset  value 64  value 64</p>\n<p><strong>buf.writeFloatBE(value, offset[, noAssert])buf.writeFloatLE(value, offset[, noAssert])</strong><br>writeFloatBE() writeFloatLE()  value  buf  offset  value 32  value 32</p>\n<p><strong>buf.writeInt8(value, offset[, noAssert])</strong><br> value  buf  offset  value 8  value 8</p>\n<p><strong>buf.writeInt16BE(value, offset[, noAssert])buf.writeInt16LE(value, offset[, noAssert])</strong><br>writeInt16BE() writeInt16LE()  value  buf  offset  value 16  value 16</p>\n<p><strong>buf.writeInt32BE(value, offset[, noAssert])buf.writeInt32LE(value, offset[, noAssert])</strong><br>writeInt32BE() writeInt32LE()  value  buf  offset  value 32  value 32</p>\n<p><strong>buf.writeIntBE(value, offset, byteLength[, noAssert])buf.writeIntLE(value, offset, byteLength[, noAssert])</strong><br> value  byteLength  buf  offset  48  value </p>\n<p><strong>buf.writeUInt8(value, offset[, noAssert])</strong><br> value  buf  offset  value 8  value 8</p>\n<p><strong>buf.writeUInt16BE(value, offset[, noAssert])buf.writeUInt16LE(value, offset[, noAssert])</strong><br>writeUInt16BE() writeUInt16LE()  value  buf  offset  value 16  value 16</p>\n<p><strong>buf.writeUInt32BE(value, offset[, noAssert])buf.writeUInt32LE(value, offset[, noAssert])</strong><br>writeUInt32BE() writeUInt32LE()  value  buf  offset  value 32  value 32</p>\n<p><strong>buf.writeUIntBE(value, offset, byteLength[, noAssert])buf.writeUIntLE(value, offset, byteLength[, noAssert])</strong><br> value  byteLength  buf  offset  48  value </p>\n<p><strong>buffer.INSPECT_MAX_BYTES</strong><br> buf.inspect()    util.inspect()  buf.inspect() </p>\n<p> require(buffer)  buffer  Buffer  Buffer 50</p>\n<p><strong>buffer.kMaxLength</strong><br> Buffer <br> require(buffer)  buffer  Buffer  Buffer </p>\n<p><strong>buffer.transcode(source, fromEnc, toEnc)</strong><br>source <Buffer> | <Uint8Array>  Buffer  Uint8Array <br>fromEnc <string> <br>toEnc <string> <br> Buffer  Uint8Array  Buffer<br> fromEnc  toEnc  fromEnc  toEnc<br></string></string></Uint8Array></Buffer></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buffer = require(&#x27;buffer&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">const newBuf = buffer.transcode(Buffer.from(&#x27;&#x27;), &#x27;utf8&#x27;, &#x27;ascii&#x27;);</span><br><span class=\"line\">console.log(newBuf.toString(&#x27;ascii&#x27;));</span><br><span class=\"line\">// : &#x27;?&#x27;</span><br></pre></td></tr></table></figure>\n<p> US-ASCII  Buffer  ? </p>\n<p><strong>Buffer Constants</strong><br>buffer.constantsrequire(buffer)bufferBufferBuffer</p>\n<ul>\n<li>buffer.constants.MAX_LENGTH<ul>\n<li>Buffer32(2^30)-1 (<del>1GB) 64(2^31)-1 (</del>2GB)buffer.kMaxLength</li>\n</ul>\n</li>\n<li>buffer.constants.MAX_STRING_LENGTH<ul>\n<li>stringstringUTF-16JS</li>\n</ul>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h6 id=\"Buffer-\"><a href=\"#Buffer-\" class=\"headerlink\" title=\"Buffer()\"></a>Buffer()</h6><p><strong>buf.entries()</strong><br> buf  [index, byte] </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buf = Buffer.from(&#x27;buffer&#x27;);</span><br><span class=\"line\">for (const pair of buf.entries()) &#123;</span><br><span class=\"line\">  console.log(pair);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">// :</span><br><span class=\"line\">// [ 0, 0 ]</span><br><span class=\"line\">// [ 1, 0 ]</span><br><span class=\"line\">// [ 2, 0 ]</span><br><span class=\"line\">// [ 3, 0 ]</span><br><span class=\"line\">// [ 4, 0 ]</span><br><span class=\"line\">// [ 5, 0 ]</span><br><span class=\"line\">// [ 6, 0 ]</span><br><span class=\"line\">// [ 7, 0 ]</span><br><span class=\"line\">// [ 8, 0 ]</span><br><span class=\"line\">// [ 9, 0 ]</span><br></pre></td></tr></table></figure>\n\n<p><strong>buf.equals(otherBuffer)</strong><br> buf  otherBuffer  true false</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buf1 = Buffer.from(&#x27;ABC&#x27;);</span><br><span class=\"line\">const buf2 = Buffer.from(&#x27;414243&#x27;, &#x27;hex&#x27;);</span><br><span class=\"line\">const buf3 = Buffer.from(&#x27;ABCD&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf1.equals(buf2));</span><br><span class=\"line\">// : true</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf1.equals(buf3));</span><br><span class=\"line\">// : false</span><br></pre></td></tr></table></figure>\n\n<p><strong>buf.fill(value[, offset[, end]][, encoding])</strong><br>value <string> | <Buffer> | <integer>  buf <br>offset <integer>  buf : 0<br>end <integer>  buf : buf.length<br>encoding <string>  value : utf8<br>: <Buffer> buf <br> offset  end buf  Buffer </Buffer></string></integer></integer></integer></Buffer></string></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const b = Buffer.allocUnsafe(50).fill(&#x27;h&#x27;);</span><br><span class=\"line\">console.log(b.toString());</span><br><span class=\"line\">// : hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh</span><br></pre></td></tr></table></figure>\n<p>value  uint32 <br> fill()  buf </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">console.log(Buffer.allocUnsafe(3).fill(&#x27;\\u0222&#x27;));</span><br><span class=\"line\">// : &lt;Buffer c8 a2 c8&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">const buf = Buffer.allocUnsafe(5);</span><br><span class=\"line\">console.log(buf.fill(&#x27;a&#x27;));</span><br><span class=\"line\">// Prints: &lt;Buffer 61 61 61 61 61&gt;</span><br><span class=\"line\">console.log(buf.fill(&#x27;aazz&#x27;, &#x27;hex&#x27;));</span><br><span class=\"line\">// Prints: &lt;Buffer aa aa aa aa aa&gt;</span><br><span class=\"line\">console.log(buf.fill(&#x27;zz&#x27;, &#x27;hex&#x27;));</span><br><span class=\"line\">// Prints: &lt;Buffer aa aa aa aa aa&gt;</span><br></pre></td></tr></table></figure>\n\n<p><strong>buf.includes(value[, byteOffset][, encoding])</strong><br>value <string> | <Buffer> | <integer> <br>byteOffset <integer> buf : 0<br>encoding <string>  value  : utf8<br>: <boolean>  buf  value true false<br> buf.indexOf() !== -1</boolean></string></integer></integer></Buffer></string></p>\n<p><strong>buf.indexOf(value[, byteOffset][, encoding])</strong><br>value <string> | <Buffer> | <Uint8Array> | <integer> <br>byteOffset <integer> buf : 0<br>encoding <string>  value  : utf8<br>: <integer> buf  value  buf  value  -1<br> value </integer></string></integer></integer></Uint8Array></Buffer></string></p>\n<ul>\n<li> value  encoding </li>\n<li>Buffer  Uint8Array value  Buffer buf.slice()</li>\n<li>,  value  0  255 </li>\n</ul>\n<p> value    Buffer  TypeError   value   byte  0255</p>\n<p> byteOffset    NaN  0,  {}, [], null or undefined   buffer  String#indexOf() </p>\n<p> value  Buffer byteOffset  buf.length byteOffset value  byteOffset  buf.length buf.length</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const b = Buffer.from(&#x27;abcdef&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(b.indexOf(99.9));</span><br><span class=\"line\">console.log(b.indexOf(256 + 99));</span><br><span class=\"line\">// </span><br><span class=\"line\">// 2 99  &#x27;c&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(b.indexOf(&#x27;b&#x27;, undefined));</span><br><span class=\"line\">console.log(b.indexOf(&#x27;b&#x27;, &#123;&#125;));</span><br><span class=\"line\">console.log(b.indexOf(&#x27;b&#x27;, null));</span><br><span class=\"line\">console.log(b.indexOf(&#x27;b&#x27;, []));</span><br><span class=\"line\">//  byteOffset NaN  0</span><br><span class=\"line\">// 1 buffer</span><br></pre></td></tr></table></figure>\n\n<p><strong>buf.keys()</strong><br> buf </p>\n<p><strong>buf.lastIndexOf(value[, byteOffset][, encoding])</strong><br>value <string> | <Buffer> | <Uint8Array> | <integer> <br>byteOffset <integer> buf  : buf.length- 1<br>encoding <string>  value  : utf8<br>: <integer> buf  value  buf  value  -1<br> buf.indexOf()  buf </integer></string></integer></integer></Uint8Array></Buffer></string></p>\n<p> value    Buffer  TypeError   value   byte  0255</p>\n<p> byteOffset    NaN or 0, like {}, [], null or undefined   buffer  String#lastIndexOf() </p>\n<p> value  Buffer byteOffset</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const b = Buffer.from(&#x27;abcdef&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(b.lastIndexOf(99.9));</span><br><span class=\"line\">console.log(b.lastIndexOf(256 + 99));</span><br><span class=\"line\">// </span><br><span class=\"line\">// 2 99  &#x27;c&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(b.lastIndexOf(&#x27;b&#x27;, undefined));</span><br><span class=\"line\">console.log(b.lastIndexOf(&#x27;b&#x27;, &#123;&#125;));</span><br><span class=\"line\">//  byteOffset NaN</span><br><span class=\"line\">// -1 buffer</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(b.lastIndexOf(&#x27;b&#x27;, null));</span><br><span class=\"line\">console.log(b.lastIndexOf(&#x27;b&#x27;, []));</span><br><span class=\"line\">//  byteOffset 0</span><br><span class=\"line\">// -1 0</span><br></pre></td></tr></table></figure>\n\n<p><strong>buf.length</strong><br> buf   buf </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buf = Buffer.alloc(1234);</span><br><span class=\"line\"></span><br><span class=\"line\">// : 1234</span><br><span class=\"line\">console.log(buf.length);</span><br><span class=\"line\"></span><br><span class=\"line\">buf.write(&#x27;some string&#x27;, 0, &#x27;ascii&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">// : 1234</span><br><span class=\"line\">console.log(buf.length);</span><br></pre></td></tr></table></figure>\n<p> length  length   Buffer  length  buf.slice()  Buffer</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let buf = Buffer.allocUnsafe(10);</span><br><span class=\"line\"></span><br><span class=\"line\">buf.write(&#x27;abcdefghj&#x27;, 0, &#x27;ascii&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.length);</span><br><span class=\"line\">// : 10</span><br><span class=\"line\"></span><br><span class=\"line\">buf = buf.slice(0, 5);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.length);</span><br><span class=\"line\">// : 5</span><br></pre></td></tr></table></figure>\n\n<p><strong>buf.readDoubleBE(offset[, noAssert])buf.readDoubleLE(offset[, noAssert])</strong><br>offset <integer> 0 &lt;= offset &lt;= buf.length - 8<br>noAssert <boolean>  offset : false<br>: <number><br>readDoubleBE() readDoubleLE()  buf  offset 64</number></boolean></integer></p>\n<p> noAssert  true  offset  buf </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buf = Buffer.from([1, 2, 3, 4, 5, 6, 7, 8]);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.readDoubleBE());</span><br><span class=\"line\">// : 8.20788039913184e-304</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.readDoubleLE());</span><br><span class=\"line\">// : 5.447603722011605e-270</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.readDoubleLE(1));</span><br><span class=\"line\">// : RangeError: Index out of range</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.readDoubleLE(1, true));</span><br><span class=\"line\">// :  buffer </span><br><span class=\"line\">// </span><br></pre></td></tr></table></figure>\n\n<p><strong>buf.readFloatBE(offset[, noAssert])buf.readFloatLE(offset[, noAssert])</strong><br>offset <integer> 0 &lt;= offset &lt;= buf.length - 4<br>noAssert <boolean>  offset : false<br>: <number><br>readFloatBE() readFloatLE()  buf  offset 32</number></boolean></integer></p>\n<p> noAssert  true  offset  buf </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buf = Buffer.from([1, 2, 3, 4]);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.readFloatBE());</span><br><span class=\"line\">// : 2.387939260590663e-38</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.readFloatLE());</span><br><span class=\"line\">// : 1.539989614439558e-36</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.readFloatLE(1));</span><br><span class=\"line\">// : RangeError: Index out of range</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.readFloatLE(1, true));</span><br><span class=\"line\">// :  buffer </span><br><span class=\"line\">// </span><br></pre></td></tr></table></figure>\n\n<p><strong>buf.readInt8(offset[, noAssert])</strong><br>offset <integer> 0 &lt;= offset &lt;= buf.length - 1<br>noAssert <boolean>  offset : false<br>: <integer><br> buf  offset 8</integer></boolean></integer></p>\n<p> noAssert  true  offset  buf </p>\n<p> Buffer </p>\n<p><strong>buf.readInt16BE(offset[, noAssert])buf.readInt16LE(offset[, noAssert])</strong><br>offset <integer> 0 &lt;= offset &lt;= buf.length - 2<br>noAssert <boolean>  offset : false<br>: <integer><br>readInt16BE() readInt16LE()  buf  offset 16</integer></boolean></integer></p>\n<p> noAssert  true  offset  buf </p>\n<p> Buffer </p>\n<p><strong>buf.readInt32BE(offset[, noAssert])buf.readInt32LE(offset[, noAssert])</strong><br>offset <integer> 0 &lt;= offset &lt;= buf.length - 4<br>noAssert <boolean>  offset : false<br>: <integer><br>readInt32BE() readInt32LE()  buf  offset 32</integer></boolean></integer></p>\n<p> noAssert  true  offset  buf </p>\n<p> Buffer </p>\n<p><strong>buf.readIntBE(offset, byteLength[, noAssert])buf.readIntLE(offset, byteLength[, noAssert])</strong><br>offset <integer> 0 &lt;= offset &lt;= buf.length - byteLength<br>byteLength <integer> 0 &lt; byteLength &lt;= 6<br>noAssert <boolean>  offset  byteLength  : false<br>: <integer><br> buf  offset  byteLength  48</integer></boolean></integer></integer></p>\n<p> noAssert  true  offset  buf </p>\n<p><strong>buf.readUInt8(offset[, noAssert])</strong><br>offset <integer> 0 &lt;= offset &lt;= buf.length - 1<br>noAssert <boolean>  offset : false<br>: <integer><br> buf  offset 8</integer></boolean></integer></p>\n<p> noAssert  true  offset  buf </p>\n<p><strong>buf.readUInt16BE(offset[, noAssert])buf.readUInt16LE(offset[, noAssert])</strong><br>offset <integer> 0 &lt;= offset &lt;= buf.length - 2<br>noAssert <boolean>  offset : false<br>: <integer><br>readUInt16BE() readUInt16LE()  buf  offset 16</integer></boolean></integer></p>\n<p> noAssert  true  offset  buf </p>\n<p><strong>buf.readUInt32BE(offset[, noAssert])buf.readUInt32LE(offset[, noAssert])</strong><br>offset <integer> 0 &lt;= offset &lt;= buf.length - 4<br>noAssert <boolean>  offset : false<br>: <integer><br>readUInt32BE() readUInt32LE()  buf  offset 32</integer></boolean></integer></p>\n<p> noAssert  true  offset  buf </p>\n<p><strong>buf.readUIntBE(offset, byteLength[, noAssert])buf.readUIntLE(offset, byteLength[, noAssert])</strong><br>offset <integer> 0 &lt;= offset &lt;= buf.length - byteLength<br>byteLength <integer> 0 &lt; byteLength &lt;= 6<br>noAssert <boolean>  offset  byteLength  : false<br>: <integer><br> buf  offset  byteLength  48</integer></boolean></integer></integer></p>\n<p> noAssert  true  offset  buf </p>\n<p><strong>buf.slice([start[, end]])</strong><br>start <integer>  Buffer  : 0<br>end <integer>  Buffer  : buf.length<br>: <Buffer><br> Buffer start  end </Buffer></integer></integer></p>\n<p>buf.lengthbuf.length</p>\n<p><em> Buffer  Buffer </em></p>\n<p><em> buf </em></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buf1 = Buffer.allocUnsafe(26);</span><br><span class=\"line\"></span><br><span class=\"line\">for (let i = 0; i &lt; 26; i++) &#123;</span><br><span class=\"line\">  // 97  &#x27;a&#x27;  ASCII  </span><br><span class=\"line\">  buf1[i] = i + 97;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const buf2 = buf1.slice(0, 3);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf2.toString(&#x27;ascii&#x27;, 0, buf2.length));</span><br><span class=\"line\">// : abc</span><br><span class=\"line\"></span><br><span class=\"line\">buf1[0] = 33;</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf2.toString(&#x27;ascii&#x27;, 0, buf2.length));</span><br><span class=\"line\">// : !bc</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">const buf = Buffer.from(&#x27;buffer&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.slice(-6, -1).toString());</span><br><span class=\"line\">// : buffe</span><br><span class=\"line\">// ( buf.slice(0, 5))</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.slice(-6, -2).toString());</span><br><span class=\"line\">// : buff</span><br><span class=\"line\">// ( buf.slice(0, 4))</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.slice(-5, -2).toString());</span><br><span class=\"line\">// : uff</span><br><span class=\"line\">// ( buf.slice(1, 4))</span><br></pre></td></tr></table></figure>\n\n<p><strong>buf.swap16()</strong><br> buf 16  buf.length 2 RangeError </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buf1 = Buffer.from([0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8]);</span><br><span class=\"line\"></span><br><span class=\"line\">// : &lt;Buffer 01 02 03 04 05 06 07 08&gt;</span><br><span class=\"line\">console.log(buf1);</span><br><span class=\"line\"></span><br><span class=\"line\">buf1.swap16();</span><br><span class=\"line\"></span><br><span class=\"line\">// : &lt;Buffer 02 01 04 03 06 05 08 07&gt;</span><br><span class=\"line\">console.log(buf1);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">const buf2 = Buffer.from([0x1, 0x2, 0x3]);</span><br><span class=\"line\"></span><br><span class=\"line\">// : RangeError: Buffer size must be a multiple of 16-bits</span><br><span class=\"line\">buf2.swap16();</span><br></pre></td></tr></table></figure>\n<p><strong>buf.swap32()</strong><br> buf 32  buf.length 4 RangeError </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buf1 = Buffer.from([0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8]);</span><br><span class=\"line\"></span><br><span class=\"line\">// : &lt;Buffer 01 02 03 04 05 06 07 08&gt;</span><br><span class=\"line\">console.log(buf1);</span><br><span class=\"line\"></span><br><span class=\"line\">buf1.swap32();</span><br><span class=\"line\"></span><br><span class=\"line\">// : &lt;Buffer 04 03 02 01 08 07 06 05&gt;</span><br><span class=\"line\">console.log(buf1);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">const buf2 = Buffer.from([0x1, 0x2, 0x3]);</span><br><span class=\"line\"></span><br><span class=\"line\">// : RangeError: Buffer size must be a multiple of 32-bits</span><br><span class=\"line\">buf2.swap32();</span><br></pre></td></tr></table></figure>\n\n<p><strong>buf.swap64()</strong><br> buf 64  buf.length 8 RangeError <br><em>JavaScript 64 64</em></p>\n<p><strong>buf.toJSON()</strong><br> buf  JSON   Buffer JSON.stringify() </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buf = Buffer.from([0x1, 0x2, 0x3, 0x4, 0x5]);</span><br><span class=\"line\">const json = JSON.stringify(buf);</span><br><span class=\"line\"></span><br><span class=\"line\">// : &#123;&quot;type&quot;:&quot;Buffer&quot;,&quot;data&quot;:[1,2,3,4,5]&#125;</span><br><span class=\"line\">console.log(json);</span><br><span class=\"line\"></span><br><span class=\"line\">const copy = JSON.parse(json, (key, value) =&gt; &#123;</span><br><span class=\"line\">  return value &amp;&amp; value.type === &#x27;Buffer&#x27; ?</span><br><span class=\"line\">    Buffer.from(value.data) :</span><br><span class=\"line\">    value;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">// : &lt;Buffer 01 02 03 04 05&gt;</span><br><span class=\"line\">console.log(copy);</span><br></pre></td></tr></table></figure>\n\n<p><strong>buf.toString([encoding[, start[, end]]])</strong><br>encoding <string> : utf8<br>start <integer> : 0<br>end <integer>  : buf.length<br>: <string><br> encoding  buf  start  end  buf </string></integer></integer></string></p>\n<p>UTF-16buffer.constants.MAX_STRING_LENGTH</p>\n<p><strong>buf.values()</strong><br> buf   Buffer  for..of </p>\n<p><strong>buf.write(string[, offset[, length]][, encoding])</strong><br>string <string>  buf <br>offset <integer>  string : 0<br>length <integer> : buf.length - offset<br>encoding <string> string : utf8<br>: <integer> <br> encoding  string  buf  offset  length   buf  string  </integer></string></integer></integer></string></p>\n<p><strong>buf.writeDoubleBE(value, offset[, noAssert])buf.writeDoubleLE(value, offset[, noAssert])</strong><br>writeDoubleBE() writeDoubleLE()  value  buf  offset  value 64  value 64</p>\n<p><strong>buf.writeFloatBE(value, offset[, noAssert])buf.writeFloatLE(value, offset[, noAssert])</strong><br>writeFloatBE() writeFloatLE()  value  buf  offset  value 32  value 32</p>\n<p><strong>buf.writeInt8(value, offset[, noAssert])</strong><br> value  buf  offset  value 8  value 8</p>\n<p><strong>buf.writeInt16BE(value, offset[, noAssert])buf.writeInt16LE(value, offset[, noAssert])</strong><br>writeInt16BE() writeInt16LE()  value  buf  offset  value 16  value 16</p>\n<p><strong>buf.writeInt32BE(value, offset[, noAssert])buf.writeInt32LE(value, offset[, noAssert])</strong><br>writeInt32BE() writeInt32LE()  value  buf  offset  value 32  value 32</p>\n<p><strong>buf.writeIntBE(value, offset, byteLength[, noAssert])buf.writeIntLE(value, offset, byteLength[, noAssert])</strong><br> value  byteLength  buf  offset  48  value </p>\n<p><strong>buf.writeUInt8(value, offset[, noAssert])</strong><br> value  buf  offset  value 8  value 8</p>\n<p><strong>buf.writeUInt16BE(value, offset[, noAssert])buf.writeUInt16LE(value, offset[, noAssert])</strong><br>writeUInt16BE() writeUInt16LE()  value  buf  offset  value 16  value 16</p>\n<p><strong>buf.writeUInt32BE(value, offset[, noAssert])buf.writeUInt32LE(value, offset[, noAssert])</strong><br>writeUInt32BE() writeUInt32LE()  value  buf  offset  value 32  value 32</p>\n<p><strong>buf.writeUIntBE(value, offset, byteLength[, noAssert])buf.writeUIntLE(value, offset, byteLength[, noAssert])</strong><br> value  byteLength  buf  offset  48  value </p>\n<p><strong>buffer.INSPECT_MAX_BYTES</strong><br> buf.inspect()    util.inspect()  buf.inspect() </p>\n<p> require(buffer)  buffer  Buffer  Buffer 50</p>\n<p><strong>buffer.kMaxLength</strong><br> Buffer <br> require(buffer)  buffer  Buffer  Buffer </p>\n<p><strong>buffer.transcode(source, fromEnc, toEnc)</strong><br>source <Buffer> | <Uint8Array>  Buffer  Uint8Array <br>fromEnc <string> <br>toEnc <string> <br> Buffer  Uint8Array  Buffer<br> fromEnc  toEnc  fromEnc  toEnc<br></string></string></Uint8Array></Buffer></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buffer = require(&#x27;buffer&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">const newBuf = buffer.transcode(Buffer.from(&#x27;&#x27;), &#x27;utf8&#x27;, &#x27;ascii&#x27;);</span><br><span class=\"line\">console.log(newBuf.toString(&#x27;ascii&#x27;));</span><br><span class=\"line\">// : &#x27;?&#x27;</span><br></pre></td></tr></table></figure>\n<p> US-ASCII  Buffer  ? </p>\n<p><strong>Buffer Constants</strong><br>buffer.constantsrequire(buffer)bufferBufferBuffer</p>\n<ul>\n<li>buffer.constants.MAX_LENGTH<ul>\n<li>Buffer32(2^30)-1 (<del>1GB) 64(2^31)-1 (</del>2GB)buffer.kMaxLength</li>\n</ul>\n</li>\n<li>buffer.constants.MAX_STRING_LENGTH<ul>\n<li>stringstringUTF-16JS</li>\n</ul>\n</li>\n</ul>\n"},{"title":"nodejs(3)","date":"2022-12-28T09:12:45.000Z","tags":["node","C++ "],"_content":"\nNode.js  C++  require()  Node.js  Node.js   Node.js  JavaScript  C/C++ \n\n API \n- V8Node.js  JavaScript  C++  V8  V8  API  v8.h Node.js  deps/v8/include/v8.h [V8 ](https://v8docs.nodesource.com/)\n- [libuv](https://github.com/libuv/libuv) Node.js  C   POSIX socket libuv  POSIX   libuv  libuv  I/O \n-  Node.js Node.js  C++ API  node::ObjectWrap \n- Node.js  OpenSSL  Node.js  deps/   V8  OpenSSL  Node.js \n\n1.  hello.cc \n```\n// hello.cc\n#include <node.h>\n\nnamespace demo {\n\nusing v8::FunctionCallbackInfo;\nusing v8::Isolate;\nusing v8::Local;\nusing v8::Object;\nusing v8::String;\nusing v8::Value;\n\nvoid Method(const FunctionCallbackInfo<Value>& args) {\n  Isolate* isolate = args.GetIsolate();\n  args.GetReturnValue().Set(String::NewFromUtf8(isolate, \"world\"));\n}\n\nvoid init(Local<Object> exports) {\n  NODE_SET_METHOD(exports, \"hello\", Method);\n}\n\nNODE_MODULE(NODE_GYP_MODULE_NAME, init)\n\n}  // namespace demo\n```\n Node.js \n```\nvoid Initialize(Local<Object> exports);\nNODE_MODULE(NODE_GYP_MODULE_NAME, Initialize)\n```\nNODE_MODULE  node.h\n\nmodule_name  .node \n\n hello.cc  init addon\n\n****\n\n addon.node   binding.gyp  JSON   node-gyp Node.js \n```\n{\n  \"targets\": [\n    {\n      \"target_name\": \"addon\",\n      \"sources\": [ \"hello.cc\" ]\n    }\n  ]\n}\n```\n\n npm install  Node.js npm  node-gyp \n\n Node.js  require()  addon.node \n```\n// hello.js\nconst addon = require('./build/Release/addon');\n\nconsole.log(addon.hello());\n// : 'world'\n```\n\n* ./build/Debug/  bindings *\n\n bindings  try-catch \n```\ntry {\n  return require('./build/Release/addon.node');\n} catch (err) {\n  return require('./build/Debug/addon.node');\n}\n```\n\n** Node.js **\nNode.js  V8  #include <...>  #include <v8.h> node-gyp  \n-  node-gyp  Node.js   Node.js   Node.js  Node.js \n\n- node-gyp  Node.js  --nodedir  \n\n** require() **\n .node .dll  .so require()  .node \n\n require() .node Node.js  Node.js  JavaScript   addon.node  addon.js  require('addon')  addon.js ","source":"nodejs/nodejs-note-9.md","raw":"---\ntitle: nodejs(3)\ndate: 2022-12-28 17:12:45\ntags: [node, C++ ]\n---\n\nNode.js  C++  require()  Node.js  Node.js   Node.js  JavaScript  C/C++ \n\n API \n- V8Node.js  JavaScript  C++  V8  V8  API  v8.h Node.js  deps/v8/include/v8.h [V8 ](https://v8docs.nodesource.com/)\n- [libuv](https://github.com/libuv/libuv) Node.js  C   POSIX socket libuv  POSIX   libuv  libuv  I/O \n-  Node.js Node.js  C++ API  node::ObjectWrap \n- Node.js  OpenSSL  Node.js  deps/   V8  OpenSSL  Node.js \n\n1.  hello.cc \n```\n// hello.cc\n#include <node.h>\n\nnamespace demo {\n\nusing v8::FunctionCallbackInfo;\nusing v8::Isolate;\nusing v8::Local;\nusing v8::Object;\nusing v8::String;\nusing v8::Value;\n\nvoid Method(const FunctionCallbackInfo<Value>& args) {\n  Isolate* isolate = args.GetIsolate();\n  args.GetReturnValue().Set(String::NewFromUtf8(isolate, \"world\"));\n}\n\nvoid init(Local<Object> exports) {\n  NODE_SET_METHOD(exports, \"hello\", Method);\n}\n\nNODE_MODULE(NODE_GYP_MODULE_NAME, init)\n\n}  // namespace demo\n```\n Node.js \n```\nvoid Initialize(Local<Object> exports);\nNODE_MODULE(NODE_GYP_MODULE_NAME, Initialize)\n```\nNODE_MODULE  node.h\n\nmodule_name  .node \n\n hello.cc  init addon\n\n****\n\n addon.node   binding.gyp  JSON   node-gyp Node.js \n```\n{\n  \"targets\": [\n    {\n      \"target_name\": \"addon\",\n      \"sources\": [ \"hello.cc\" ]\n    }\n  ]\n}\n```\n\n npm install  Node.js npm  node-gyp \n\n Node.js  require()  addon.node \n```\n// hello.js\nconst addon = require('./build/Release/addon');\n\nconsole.log(addon.hello());\n// : 'world'\n```\n\n* ./build/Debug/  bindings *\n\n bindings  try-catch \n```\ntry {\n  return require('./build/Release/addon.node');\n} catch (err) {\n  return require('./build/Debug/addon.node');\n}\n```\n\n** Node.js **\nNode.js  V8  #include <...>  #include <v8.h> node-gyp  \n-  node-gyp  Node.js   Node.js   Node.js  Node.js \n\n- node-gyp  Node.js  --nodedir  \n\n** require() **\n .node .dll  .so require()  .node \n\n require() .node Node.js  Node.js  JavaScript   addon.node  addon.js  require('addon')  addon.js ","updated":"2022-12-29T03:06:48.248Z","path":"nodejs/nodejs-note-9.html","comments":1,"layout":"page","_id":"clchh4gwx0014cktt7a69ek3m","content":"<p>Node.js  C++  require()  Node.js  Node.js   Node.js  JavaScript  C/C++ </p>\n<p> API </p>\n<ul>\n<li>V8Node.js  JavaScript  C++  V8  V8  API  v8.h Node.js  deps/v8/include/v8.h <a href=\"https://v8docs.nodesource.com/\">V8 </a></li>\n<li><a href=\"https://github.com/libuv/libuv\">libuv</a> Node.js  C   POSIX socket libuv  POSIX   libuv  libuv  I/O </li>\n<li> Node.js Node.js  C++ API  node::ObjectWrap </li>\n<li>Node.js  OpenSSL  Node.js  deps/   V8  OpenSSL  Node.js </li>\n</ul>\n<ol>\n<li> hello.cc <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// hello.cc</span><br><span class=\"line\">#include &lt;node.h&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">namespace demo &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">using v8::FunctionCallbackInfo;</span><br><span class=\"line\">using v8::Isolate;</span><br><span class=\"line\">using v8::Local;</span><br><span class=\"line\">using v8::Object;</span><br><span class=\"line\">using v8::String;</span><br><span class=\"line\">using v8::Value;</span><br><span class=\"line\"></span><br><span class=\"line\">void Method(const FunctionCallbackInfo&lt;Value&gt;&amp; args) &#123;</span><br><span class=\"line\">  Isolate* isolate = args.GetIsolate();</span><br><span class=\"line\">  args.GetReturnValue().Set(String::NewFromUtf8(isolate, &quot;world&quot;));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">void init(Local&lt;Object&gt; exports) &#123;</span><br><span class=\"line\">  NODE_SET_METHOD(exports, &quot;hello&quot;, Method);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">NODE_MODULE(NODE_GYP_MODULE_NAME, init)</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;  // namespace demo</span><br></pre></td></tr></table></figure>\n Node.js <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">void Initialize(Local&lt;Object&gt; exports);</span><br><span class=\"line\">NODE_MODULE(NODE_GYP_MODULE_NAME, Initialize)</span><br></pre></td></tr></table></figure>\nNODE_MODULE  node.h</li>\n</ol>\n<p>module_name  .node </p>\n<p> hello.cc  init addon</p>\n<p><strong></strong></p>\n<p> addon.node   binding.gyp  JSON   node-gyp Node.js </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;targets&quot;: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      &quot;target_name&quot;: &quot;addon&quot;,</span><br><span class=\"line\">      &quot;sources&quot;: [ &quot;hello.cc&quot; ]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p> npm install  Node.js npm  node-gyp </p>\n<p> Node.js  require()  addon.node </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// hello.js</span><br><span class=\"line\">const addon = require(&#x27;./build/Release/addon&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(addon.hello());</span><br><span class=\"line\">// : &#x27;world&#x27;</span><br></pre></td></tr></table></figure>\n\n<p><em> ./build/Debug/  bindings </em></p>\n<p> bindings  try-catch </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">try &#123;</span><br><span class=\"line\">  return require(&#x27;./build/Release/addon.node&#x27;);</span><br><span class=\"line\">&#125; catch (err) &#123;</span><br><span class=\"line\">  return require(&#x27;./build/Debug/addon.node&#x27;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong> Node.js </strong><br>Node.js  V8  #include &lt;&gt;  #include &lt;v8.h&gt; node-gyp  </p>\n<ul>\n<li><p> node-gyp  Node.js   Node.js   Node.js  Node.js </p>\n</li>\n<li><p>node-gyp  Node.js  nodedir  </p>\n</li>\n</ul>\n<p><strong> require() </strong><br> .node .dll  .so require()  .node </p>\n<p> require() .node Node.js  Node.js  JavaScript   addon.node  addon.js  require(addon)  addon.js </p>\n","site":{"data":{}},"excerpt":"","more":"<p>Node.js  C++  require()  Node.js  Node.js   Node.js  JavaScript  C/C++ </p>\n<p> API </p>\n<ul>\n<li>V8Node.js  JavaScript  C++  V8  V8  API  v8.h Node.js  deps/v8/include/v8.h <a href=\"https://v8docs.nodesource.com/\">V8 </a></li>\n<li><a href=\"https://github.com/libuv/libuv\">libuv</a> Node.js  C   POSIX socket libuv  POSIX   libuv  libuv  I/O </li>\n<li> Node.js Node.js  C++ API  node::ObjectWrap </li>\n<li>Node.js  OpenSSL  Node.js  deps/   V8  OpenSSL  Node.js </li>\n</ul>\n<ol>\n<li> hello.cc <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// hello.cc</span><br><span class=\"line\">#include &lt;node.h&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">namespace demo &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">using v8::FunctionCallbackInfo;</span><br><span class=\"line\">using v8::Isolate;</span><br><span class=\"line\">using v8::Local;</span><br><span class=\"line\">using v8::Object;</span><br><span class=\"line\">using v8::String;</span><br><span class=\"line\">using v8::Value;</span><br><span class=\"line\"></span><br><span class=\"line\">void Method(const FunctionCallbackInfo&lt;Value&gt;&amp; args) &#123;</span><br><span class=\"line\">  Isolate* isolate = args.GetIsolate();</span><br><span class=\"line\">  args.GetReturnValue().Set(String::NewFromUtf8(isolate, &quot;world&quot;));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">void init(Local&lt;Object&gt; exports) &#123;</span><br><span class=\"line\">  NODE_SET_METHOD(exports, &quot;hello&quot;, Method);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">NODE_MODULE(NODE_GYP_MODULE_NAME, init)</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;  // namespace demo</span><br></pre></td></tr></table></figure>\n Node.js <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">void Initialize(Local&lt;Object&gt; exports);</span><br><span class=\"line\">NODE_MODULE(NODE_GYP_MODULE_NAME, Initialize)</span><br></pre></td></tr></table></figure>\nNODE_MODULE  node.h</li>\n</ol>\n<p>module_name  .node </p>\n<p> hello.cc  init addon</p>\n<p><strong></strong></p>\n<p> addon.node   binding.gyp  JSON   node-gyp Node.js </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;targets&quot;: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      &quot;target_name&quot;: &quot;addon&quot;,</span><br><span class=\"line\">      &quot;sources&quot;: [ &quot;hello.cc&quot; ]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p> npm install  Node.js npm  node-gyp </p>\n<p> Node.js  require()  addon.node </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// hello.js</span><br><span class=\"line\">const addon = require(&#x27;./build/Release/addon&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(addon.hello());</span><br><span class=\"line\">// : &#x27;world&#x27;</span><br></pre></td></tr></table></figure>\n\n<p><em> ./build/Debug/  bindings </em></p>\n<p> bindings  try-catch </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">try &#123;</span><br><span class=\"line\">  return require(&#x27;./build/Release/addon.node&#x27;);</span><br><span class=\"line\">&#125; catch (err) &#123;</span><br><span class=\"line\">  return require(&#x27;./build/Debug/addon.node&#x27;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong> Node.js </strong><br>Node.js  V8  #include &lt;&gt;  #include &lt;v8.h&gt; node-gyp  </p>\n<ul>\n<li><p> node-gyp  Node.js   Node.js   Node.js  Node.js </p>\n</li>\n<li><p>node-gyp  Node.js  nodedir  </p>\n</li>\n</ul>\n<p><strong> require() </strong><br> .node .dll  .so require()  .node </p>\n<p> require() .node Node.js  Node.js  JavaScript   addon.node  addon.js  require(addon)  addon.js </p>\n"},{"title":"nodejs(2)","date":"2022-10-19T11:12:12.000Z","tags":["node","buffer"],"_content":"\n###### Buffer()\nES6TypedArray???JavaScript \nBuffer  Node.js API  TCP \n\nTypedArray  ES6 Buffer  Node.js  Uint8Array API\n\n*Buffer  Buffer  V8  Buffer Buffer  Node.js  require('buffer').Buffer*\n```javascript\n//  10 0  Buffer\nconst buf1 = Buffer.alloc(10);\n\n//  10 0x1  Buffer \nconst buf2 = Buffer.alloc(10, 1);\n\n//  10 Buffer\n//  Buffer.alloc() \n//  Buffer \n//  fill()  write() \nconst buf3 = Buffer.allocUnsafe(10);\n\n//  [0x1, 0x2, 0x3]  Buffer\nconst buf4 = Buffer.from([1, 2, 3]);\n\n//  UTF-8  [0x74, 0xc3, 0xa9, 0x73, 0x74]  Buffer\nconst buf5 = Buffer.from('tst');\n\n//  Latin-1  [0x74, 0xe9, 0x73, 0x74]  Buffer\nconst buf6 = Buffer.from('tst', 'latin1');\n```\n\n*Buffer.from(), Buffer.alloc(), and Buffer.allocUnsafe()*\nnodejs v6uffer  Buffer  Buffer\n- nodejs 8.0.0Buffer8.0.0buffer\n-   Buffer Buffer\n-  ArrayBuffer  SharedArrayBuffer ArrayBuffer  Buffer\n\nnew Buffer()Buffer.from(), Buffer.alloc(), and Buffer.allocUnsafe()\n\n- Buffer.from(array) **** Buffer\n- [Buffer.from(arrayBuffer[, byteOffset [, length]])]Buffer.from(arrayBuffer) ** ArrayBuffer ** Buffer\n- Buffer.from(buffer) ** Buffer ** Buffer\n- Buffer.from(string[, encoding]) **** Buffer\n- [Buffer.alloc(size[, fill[, encoding]])]Buffer.alloc() ** Buffer **  Buffer.allocUnsafe(size)  Buffer ****\n- Buffer.allocUnsafe(size)  Buffer.allocUnsafeSlow(size)  size  Buffer buf.fill(0) \n* size  Buffer.poolSize  Buffer.allocUnsafe()  Buffer *****\n\n*--zero-fill-buffers*\nbuffer**0**\nbuffer Buffer  --zero-fill-buffers \n\n*buffer.allocUnsafe()buffer.allocUnsafeSlow()*\nbuffer.allocUnsafe()buffer.allocUnsafeSlow()buffer**(0)**\n\n*buffer*\nBuffer  UTF-8  UCS2  Base64   Buffer  JavaScript \n```javascript\nconst buf = Buffer.from('hello world', 'ascii');\nconsole.log(buf.toString('hex'));\n//  68656c6c6f20776f726c64\n\nconsole.log(buf.toString('base64'));\n//  aGVsbG8gd29ybGQ=\n```\n\nnodejs\n- ascii -  7  ASCII \n- utf8 -  Unicode  UTF-8\n- utf16le - 2  4  Unicode U+10000  U+10FFFF\n- ucs2 - 'utf16le' \n- base64 - Base64  Buffer  RFC4648  5 URL \n- latin1 -  Buffer  IANA  RFC1345  63  Latin-1  C0/C1 \n- binary - 'latin1' \n- hex - \n\n**** WHATWG   'latin1'  ISO-8859-1  win-1252  http.get()  WHATWG  win-1252  'latin1' \n\n*Buffer  TypedArray*\nBuffer  Uint8Array \n Buffer  TypedArray \n- Buffer  TypedArray \n- Buffer  new Uint32Array(Buffer.from([1, 2, 3, 4]))  [1, 2, 3, 4]  Uint32Array [0x1020304]  [0x4030201]  Uint32Array \n```javascript\nconst arr = new Uint16Array(2);\n\narr[0] = 5000;\narr[1] = 4000;\n\n//  `arr` \nconst buf1 = Buffer.from(arr);\n\n//  `arr` \nconst buf2 = Buffer.from(arr.buffer);\n\n// : <Buffer 88 a0>\nconsole.log(buf1);\n\n// : <Buffer 88 13 a0 0f>\nconsole.log(buf2);\n\narr[1] = 6000;\n\n// : <Buffer 88 a0>\nconsole.log(buf1);\n\n// : <Buffer 88 13 70 17>\nconsole.log(buf2);\n```\n* TypedArray  .buffer  Buffer  byteOffset  length  ArrayBuffer *\n```javascript\nconst arr = new Uint16Array(20);\nconst buf = Buffer.from(arr.buffer, 0, 16);\n\n// : 16\nconsole.log(buf.length);\n```\n\nBuffer  ECMAScript 2015 (ES6)  for..of \n\n```javascript\nconst buf = Buffer.from([1, 2, 3]);\n\n// :\n//   1\n//   2\n//   3\nfor (const b of buf) {\n  console.log(b);\n}\n```\nbuf.values() buf.keys()  buf.entries() \n\n*Buffer*\nBuffer  \n\n**Buffer.allocUnsafe(size)**\n size  Buffer   size  buffer.constants.MAX_LENGTH  0 RangeError   size  0 0  Buffer\n Buffer   Buffer   buf.fill(0)  Buffer 0\n\n```javascript\nconst buf = Buffer.allocUnsafe(10);\nconsole.log(buf);\n// : (): <Buffer 00 00 00 00 00 00 00 00 00 00>\n\nbuf.fill(0);\n\n// : <Buffer 00 00 00 00 00 00 00 00 00 00>\nconsole.log(buf);\n```\n size  TypeError \n\nBuffer  Buffer.poolSize  Buffer   Buffer.allocUnsafe()  Buffer  new Buffer(size)   size  Buffer.poolSize >> 1 Buffer.poolSize 2\n\n Buffer.alloc(size, fill)  Buffer.allocUnsafe(size).fill(fill)  *Buffer.alloc(size, fill)  Buffer  size  Buffer.poolSize  Buffer.allocUnsafe(size).fill(fill)  Buffer   Buffer.allocUnsafe() *\n\n**Buffer.allocUnsafeSlow(size)**\n Buffer.allocUnsafe()  Buffer  4KB  Buffer   Buffer  \n\n Buffer.allocUnsafeSlow()  Buffer \n```javascript\n// \nconst store = [];\n\nsocket.on('readable', () => {\n  const data = socket.read();\n\n  // \n  const sb = Buffer.allocUnsafeSlow(10);\n\n  // \n  data.copy(sb, 0, 0, 10);\n\n  store.push(sb);\n});\n```\n*Buffer.allocUnsafeSlow() *\n\n**Buffer.byteLength(string[, encoding])**\n  String.prototype.length \n\n  'base64'  'hex'   non-Base64/Hex-encoded  (e.g. )   Buffer \n\n string  Buffer/DataView/TypedArray/ArrayBuffer/SharedArrayBuffer \n\n**Buffer.compare(buf1, buf2)**\n buf1  buf2  Buffer   buf1.compare(buf2) \n```javascript\nconst buf1 = Buffer.from('1234');\nconst buf2 = Buffer.from('0123');\nconst arr = [buf1, buf2];\n\nconsole.log(arr.sort(Buffer.compare));\n// : [ <Buffer 30 31 32 33>, <Buffer 31 32 33 34> ]\n// (: [buf2, buf1])\n```\n\n**Buffer.concat(list[, totalLength])**\n list  Buffer  Buffer \n\n list  totalLength  0  0  Buffer \n\n* totalLength  list  Buffer   totalLength *\n* totalLengthtotalLength  list  Buffer  totalLength totalLength *\n\n```javascript\nconst buf1 = Buffer.alloc(10);\nconst buf2 = Buffer.alloc(14);\nconst buf3 = Buffer.alloc(18);\nconst totalLength = buf1.length + buf2.length + buf3.length;\n\nconsole.log(totalLength);\n// : 42\n\nconst bufA = Buffer.concat([buf1, buf2, buf3], totalLength);\nconsole.log(bufA);\n// : <Buffer 00 00 00 00 ...>\n\nconsole.log(bufA.length);\n// : 42\n```\n\n**Buffer.from(array)**\n array  TypeError \n**Buffer.from(arrayBuffer[, byteOffset[, length]])**\narrayBuffer <ArrayBuffer> | <SharedArrayBuffer> ArrayBuffer  SharedArrayBuffer  TypedArray  .buffer \nbyteOffset <integer>  0\nlength <integer>  arrayBuffer.length - byteOffset\n\n ArrayBuffer  TypedArray  .buffer  Buffer  TypedArray \n\n```javascript\nconst arr = new Uint16Array(2);\n\narr[0] = 5000;\narr[1] = 4000;\n\nconst buf = Buffer.from(arr.buffer);\n//  `arr` \n\nconsole.log(buf);\n// : <Buffer 88 13 a0 0f>\n\narr[1] = 6000;\n//  Uint16Array  Buffer\n\nconsole.log(buf);\n// : <Buffer 88 13 70 17>\n```\n byteOffset  length  Buffer  arrayBuffer \n```javascript\nconst ab = new ArrayBuffer(10);\nconst buff = Buffer.from(ab, 0, 2);\nconsole.log(buff.length);\n// : 2\n```\n arrayBuffer  ArrayBuffer  SharedArrayBuffer TypeError \n\n**Buffer.from(buffer)**\n buffer  Buffer \n```javascript\nconst buf1 = Buffer.from('buffer');\nconst buf2 = Buffer.from(buf1);\nbuf1[0] = 0x61;\nconsole.log(buf1.toString());\n// : auffer\n\nconsole.log(buf2.toString());\n// : buffer\n```\n\n**Buffer.from(string[, encoding])**\n JavaScript  string  Buffer  encoding  string \n```javascript\nconst buf1 = Buffer.from('this is a tst');\n\nconsole.log(buf1.toString());\n// : this is a tst\n\nconsole.log(buf1.toString('ascii'));\n// : this is a tC)st\n\nconst buf2 = Buffer.from('7468697320697320612074c3a97374', 'hex');\n\nconsole.log(buf2.toString());\n// : this is a tst\n```\n\n**Class Method: Buffer.from(object[, offsetOrEncoding[, length]])**\nobject <Object>  Symbol.toPrimitive  valueOf() \noffsetOrEncoding <number> | <string>  object.valueOf()  object[Symbol.toPrimitive]() \nlength <number>  object.valueOf()  object[Symbol.toPrimitive]() \n valueOf()  object Buffer.from(object.valueOf(), offsetOrEncoding, length)\n```\nconst buf = Buffer.from(new String('this is a test'));\n// <Buffer 74 68 69 73 20 69 73 20 61 20 74 65 73 74>\n```\n Symbol.toPrimitive   Buffer.from(object[Symbol.toPrimitive](), offsetOrEncoding, length)\n```\nclass Foo {\n  [Symbol.toPrimitive]() {\n    return 'this is a test';\n  }\n}\n\nconst buf = Buffer.from(new Foo(), 'utf8');\n// <Buffer 74 68 69 73 20 69 73 20 61 20 74 65 73 74>\n```\n\n**Buffer.isBuffer(obj)**\n obj  Buffer  true  false \n**Buffer.isEncoding(encoding)**\n encoding  true false \n**Buffer.poolSize**\n Buffer  8192\n\n**buf[index]**\n [index]  buf  index   0x00  0xFF 0  255\n\n Uint8Array UInt8Array  undefined\n```\nconst str = 'Node.js';\nconst buf = Buffer.allocUnsafe(str.length);\n\nfor (let i = 0; i < str.length; i++) {\n  buf[i] = str.charCodeAt(i);\n}\n\nconsole.log(buf.toString('ascii'));\n// : Node.js\n```\n\n**buf.buffer**\nbuffer  Buffer  ArrayBuffer \n```\nconst arrayBuffer = new ArrayBuffer(16);\nconst buffer = Buffer.from(arrayBuffer);\n\nconsole.log(buffer.buffer === arrayBuffer);\n// : true\n```\n\n**buf.compare(target[, targetStart[, targetEnd[, sourceStart[, sourceEnd]]]])**\ntarget <Buffer> | <Uint8Array>  Buffer  Uint8Array\ntargetStart <integer> target  : 0\ntargetEnd <integer> target  : target.length\nsourceStart <integer> buf  : 0\nsourceEnd <integer> buf  : buf.length\n: <integer>\n buf  target buf  target   Buffer \n\n target  buf  0 \n target  buf  1 \n target  buf  -1 \n\n```\nconst buf1 = Buffer.from('ABC');\nconst buf2 = Buffer.from('BCD');\nconst buf3 = Buffer.from('ABCD');\n\nconsole.log(buf1.compare(buf1));\n// : 0\n\nconsole.log(buf1.compare(buf2));\n// : -1\n\nconsole.log(buf1.compare(buf3));\n// : -1\n\nconsole.log(buf2.compare(buf1));\n// : 1\n\nconsole.log(buf2.compare(buf3));\n// : 1\n\nconsole.log([buf1, buf2, buf3].sort(Buffer.compare));\n// : [ <Buffer 41 42 43>, <Buffer 41 42 43 44>, <Buffer 42 43 44> ]\n// (: [buf1, buf3, buf2])\n```\n targetStart  targetEnd  sourceStart  sourceEnd  target  buf \n```\nconst buf1 = Buffer.from([1, 2, 3, 4, 5, 6, 7, 8, 9]);\nconst buf2 = Buffer.from([5, 6, 7, 8, 9, 1, 2, 3, 4]);\n\nconsole.log(buf1.compare(buf2, 5, 9, 0, 4));\n// : 0\n\nconsole.log(buf1.compare(buf2, 0, 6, 4));\n// : -1\n\nconsole.log(buf1.compare(buf2, 5, 6, 5));\n// : 1\n```\n targetStart < 0  sourceStart < 0  targetEnd > target.byteLength  sourceEnd > source.byteLength RangeError \n\n**buf.copy(target[, targetStart[, sourceStart[, sourceEnd]]])**\ntarget <Buffer> | <Uint8Array>  Buffer  Uint8Array\ntargetStart <integer> target  : 0\nsourceStart <integer> buf  : 0\nsourceEnd <integer> buf  : buf.length\n: <integer> \n buf  target  target  buf \n```\nconst buf1 = Buffer.allocUnsafe(26);\nconst buf2 = Buffer.allocUnsafe(26).fill('!');\n\nfor (let i = 0; i < 26; i++) {\n  // 97  'a'  ASCII \n  buf1[i] = i + 97;\n}\n\nbuf1.copy(buf2, 8, 16, 20);\n\nconsole.log(buf2.toString('ascii', 0, 25));\n// : !!!!!!!!qrst!!!!!!!!!!!!!\n\n//  Buffer  Buffer \nconst buf = Buffer.allocUnsafe(26);\n\nfor (let i = 0; i < 26; i++) {\n  // 97  'a'  ASCII \n  buf[i] = i + 97;\n}\n\nbuf.copy(buf, 0, 4, 10);\n\nconsole.log(buf.toString());\n// : efghijghijklmnopqrstuvwxyz\n```\n","source":"nodejs/nodejs-note-7.md","raw":"---\ntitle: nodejs(2)\ndate: 2022-10-19 19:12:12\ntags: [node, buffer]\n---\n\n###### Buffer()\nES6TypedArray???JavaScript \nBuffer  Node.js API  TCP \n\nTypedArray  ES6 Buffer  Node.js  Uint8Array API\n\n*Buffer  Buffer  V8  Buffer Buffer  Node.js  require('buffer').Buffer*\n```javascript\n//  10 0  Buffer\nconst buf1 = Buffer.alloc(10);\n\n//  10 0x1  Buffer \nconst buf2 = Buffer.alloc(10, 1);\n\n//  10 Buffer\n//  Buffer.alloc() \n//  Buffer \n//  fill()  write() \nconst buf3 = Buffer.allocUnsafe(10);\n\n//  [0x1, 0x2, 0x3]  Buffer\nconst buf4 = Buffer.from([1, 2, 3]);\n\n//  UTF-8  [0x74, 0xc3, 0xa9, 0x73, 0x74]  Buffer\nconst buf5 = Buffer.from('tst');\n\n//  Latin-1  [0x74, 0xe9, 0x73, 0x74]  Buffer\nconst buf6 = Buffer.from('tst', 'latin1');\n```\n\n*Buffer.from(), Buffer.alloc(), and Buffer.allocUnsafe()*\nnodejs v6uffer  Buffer  Buffer\n- nodejs 8.0.0Buffer8.0.0buffer\n-   Buffer Buffer\n-  ArrayBuffer  SharedArrayBuffer ArrayBuffer  Buffer\n\nnew Buffer()Buffer.from(), Buffer.alloc(), and Buffer.allocUnsafe()\n\n- Buffer.from(array) **** Buffer\n- [Buffer.from(arrayBuffer[, byteOffset [, length]])]Buffer.from(arrayBuffer) ** ArrayBuffer ** Buffer\n- Buffer.from(buffer) ** Buffer ** Buffer\n- Buffer.from(string[, encoding]) **** Buffer\n- [Buffer.alloc(size[, fill[, encoding]])]Buffer.alloc() ** Buffer **  Buffer.allocUnsafe(size)  Buffer ****\n- Buffer.allocUnsafe(size)  Buffer.allocUnsafeSlow(size)  size  Buffer buf.fill(0) \n* size  Buffer.poolSize  Buffer.allocUnsafe()  Buffer *****\n\n*--zero-fill-buffers*\nbuffer**0**\nbuffer Buffer  --zero-fill-buffers \n\n*buffer.allocUnsafe()buffer.allocUnsafeSlow()*\nbuffer.allocUnsafe()buffer.allocUnsafeSlow()buffer**(0)**\n\n*buffer*\nBuffer  UTF-8  UCS2  Base64   Buffer  JavaScript \n```javascript\nconst buf = Buffer.from('hello world', 'ascii');\nconsole.log(buf.toString('hex'));\n//  68656c6c6f20776f726c64\n\nconsole.log(buf.toString('base64'));\n//  aGVsbG8gd29ybGQ=\n```\n\nnodejs\n- ascii -  7  ASCII \n- utf8 -  Unicode  UTF-8\n- utf16le - 2  4  Unicode U+10000  U+10FFFF\n- ucs2 - 'utf16le' \n- base64 - Base64  Buffer  RFC4648  5 URL \n- latin1 -  Buffer  IANA  RFC1345  63  Latin-1  C0/C1 \n- binary - 'latin1' \n- hex - \n\n**** WHATWG   'latin1'  ISO-8859-1  win-1252  http.get()  WHATWG  win-1252  'latin1' \n\n*Buffer  TypedArray*\nBuffer  Uint8Array \n Buffer  TypedArray \n- Buffer  TypedArray \n- Buffer  new Uint32Array(Buffer.from([1, 2, 3, 4]))  [1, 2, 3, 4]  Uint32Array [0x1020304]  [0x4030201]  Uint32Array \n```javascript\nconst arr = new Uint16Array(2);\n\narr[0] = 5000;\narr[1] = 4000;\n\n//  `arr` \nconst buf1 = Buffer.from(arr);\n\n//  `arr` \nconst buf2 = Buffer.from(arr.buffer);\n\n// : <Buffer 88 a0>\nconsole.log(buf1);\n\n// : <Buffer 88 13 a0 0f>\nconsole.log(buf2);\n\narr[1] = 6000;\n\n// : <Buffer 88 a0>\nconsole.log(buf1);\n\n// : <Buffer 88 13 70 17>\nconsole.log(buf2);\n```\n* TypedArray  .buffer  Buffer  byteOffset  length  ArrayBuffer *\n```javascript\nconst arr = new Uint16Array(20);\nconst buf = Buffer.from(arr.buffer, 0, 16);\n\n// : 16\nconsole.log(buf.length);\n```\n\nBuffer  ECMAScript 2015 (ES6)  for..of \n\n```javascript\nconst buf = Buffer.from([1, 2, 3]);\n\n// :\n//   1\n//   2\n//   3\nfor (const b of buf) {\n  console.log(b);\n}\n```\nbuf.values() buf.keys()  buf.entries() \n\n*Buffer*\nBuffer  \n\n**Buffer.allocUnsafe(size)**\n size  Buffer   size  buffer.constants.MAX_LENGTH  0 RangeError   size  0 0  Buffer\n Buffer   Buffer   buf.fill(0)  Buffer 0\n\n```javascript\nconst buf = Buffer.allocUnsafe(10);\nconsole.log(buf);\n// : (): <Buffer 00 00 00 00 00 00 00 00 00 00>\n\nbuf.fill(0);\n\n// : <Buffer 00 00 00 00 00 00 00 00 00 00>\nconsole.log(buf);\n```\n size  TypeError \n\nBuffer  Buffer.poolSize  Buffer   Buffer.allocUnsafe()  Buffer  new Buffer(size)   size  Buffer.poolSize >> 1 Buffer.poolSize 2\n\n Buffer.alloc(size, fill)  Buffer.allocUnsafe(size).fill(fill)  *Buffer.alloc(size, fill)  Buffer  size  Buffer.poolSize  Buffer.allocUnsafe(size).fill(fill)  Buffer   Buffer.allocUnsafe() *\n\n**Buffer.allocUnsafeSlow(size)**\n Buffer.allocUnsafe()  Buffer  4KB  Buffer   Buffer  \n\n Buffer.allocUnsafeSlow()  Buffer \n```javascript\n// \nconst store = [];\n\nsocket.on('readable', () => {\n  const data = socket.read();\n\n  // \n  const sb = Buffer.allocUnsafeSlow(10);\n\n  // \n  data.copy(sb, 0, 0, 10);\n\n  store.push(sb);\n});\n```\n*Buffer.allocUnsafeSlow() *\n\n**Buffer.byteLength(string[, encoding])**\n  String.prototype.length \n\n  'base64'  'hex'   non-Base64/Hex-encoded  (e.g. )   Buffer \n\n string  Buffer/DataView/TypedArray/ArrayBuffer/SharedArrayBuffer \n\n**Buffer.compare(buf1, buf2)**\n buf1  buf2  Buffer   buf1.compare(buf2) \n```javascript\nconst buf1 = Buffer.from('1234');\nconst buf2 = Buffer.from('0123');\nconst arr = [buf1, buf2];\n\nconsole.log(arr.sort(Buffer.compare));\n// : [ <Buffer 30 31 32 33>, <Buffer 31 32 33 34> ]\n// (: [buf2, buf1])\n```\n\n**Buffer.concat(list[, totalLength])**\n list  Buffer  Buffer \n\n list  totalLength  0  0  Buffer \n\n* totalLength  list  Buffer   totalLength *\n* totalLengthtotalLength  list  Buffer  totalLength totalLength *\n\n```javascript\nconst buf1 = Buffer.alloc(10);\nconst buf2 = Buffer.alloc(14);\nconst buf3 = Buffer.alloc(18);\nconst totalLength = buf1.length + buf2.length + buf3.length;\n\nconsole.log(totalLength);\n// : 42\n\nconst bufA = Buffer.concat([buf1, buf2, buf3], totalLength);\nconsole.log(bufA);\n// : <Buffer 00 00 00 00 ...>\n\nconsole.log(bufA.length);\n// : 42\n```\n\n**Buffer.from(array)**\n array  TypeError \n**Buffer.from(arrayBuffer[, byteOffset[, length]])**\narrayBuffer <ArrayBuffer> | <SharedArrayBuffer> ArrayBuffer  SharedArrayBuffer  TypedArray  .buffer \nbyteOffset <integer>  0\nlength <integer>  arrayBuffer.length - byteOffset\n\n ArrayBuffer  TypedArray  .buffer  Buffer  TypedArray \n\n```javascript\nconst arr = new Uint16Array(2);\n\narr[0] = 5000;\narr[1] = 4000;\n\nconst buf = Buffer.from(arr.buffer);\n//  `arr` \n\nconsole.log(buf);\n// : <Buffer 88 13 a0 0f>\n\narr[1] = 6000;\n//  Uint16Array  Buffer\n\nconsole.log(buf);\n// : <Buffer 88 13 70 17>\n```\n byteOffset  length  Buffer  arrayBuffer \n```javascript\nconst ab = new ArrayBuffer(10);\nconst buff = Buffer.from(ab, 0, 2);\nconsole.log(buff.length);\n// : 2\n```\n arrayBuffer  ArrayBuffer  SharedArrayBuffer TypeError \n\n**Buffer.from(buffer)**\n buffer  Buffer \n```javascript\nconst buf1 = Buffer.from('buffer');\nconst buf2 = Buffer.from(buf1);\nbuf1[0] = 0x61;\nconsole.log(buf1.toString());\n// : auffer\n\nconsole.log(buf2.toString());\n// : buffer\n```\n\n**Buffer.from(string[, encoding])**\n JavaScript  string  Buffer  encoding  string \n```javascript\nconst buf1 = Buffer.from('this is a tst');\n\nconsole.log(buf1.toString());\n// : this is a tst\n\nconsole.log(buf1.toString('ascii'));\n// : this is a tC)st\n\nconst buf2 = Buffer.from('7468697320697320612074c3a97374', 'hex');\n\nconsole.log(buf2.toString());\n// : this is a tst\n```\n\n**Class Method: Buffer.from(object[, offsetOrEncoding[, length]])**\nobject <Object>  Symbol.toPrimitive  valueOf() \noffsetOrEncoding <number> | <string>  object.valueOf()  object[Symbol.toPrimitive]() \nlength <number>  object.valueOf()  object[Symbol.toPrimitive]() \n valueOf()  object Buffer.from(object.valueOf(), offsetOrEncoding, length)\n```\nconst buf = Buffer.from(new String('this is a test'));\n// <Buffer 74 68 69 73 20 69 73 20 61 20 74 65 73 74>\n```\n Symbol.toPrimitive   Buffer.from(object[Symbol.toPrimitive](), offsetOrEncoding, length)\n```\nclass Foo {\n  [Symbol.toPrimitive]() {\n    return 'this is a test';\n  }\n}\n\nconst buf = Buffer.from(new Foo(), 'utf8');\n// <Buffer 74 68 69 73 20 69 73 20 61 20 74 65 73 74>\n```\n\n**Buffer.isBuffer(obj)**\n obj  Buffer  true  false \n**Buffer.isEncoding(encoding)**\n encoding  true false \n**Buffer.poolSize**\n Buffer  8192\n\n**buf[index]**\n [index]  buf  index   0x00  0xFF 0  255\n\n Uint8Array UInt8Array  undefined\n```\nconst str = 'Node.js';\nconst buf = Buffer.allocUnsafe(str.length);\n\nfor (let i = 0; i < str.length; i++) {\n  buf[i] = str.charCodeAt(i);\n}\n\nconsole.log(buf.toString('ascii'));\n// : Node.js\n```\n\n**buf.buffer**\nbuffer  Buffer  ArrayBuffer \n```\nconst arrayBuffer = new ArrayBuffer(16);\nconst buffer = Buffer.from(arrayBuffer);\n\nconsole.log(buffer.buffer === arrayBuffer);\n// : true\n```\n\n**buf.compare(target[, targetStart[, targetEnd[, sourceStart[, sourceEnd]]]])**\ntarget <Buffer> | <Uint8Array>  Buffer  Uint8Array\ntargetStart <integer> target  : 0\ntargetEnd <integer> target  : target.length\nsourceStart <integer> buf  : 0\nsourceEnd <integer> buf  : buf.length\n: <integer>\n buf  target buf  target   Buffer \n\n target  buf  0 \n target  buf  1 \n target  buf  -1 \n\n```\nconst buf1 = Buffer.from('ABC');\nconst buf2 = Buffer.from('BCD');\nconst buf3 = Buffer.from('ABCD');\n\nconsole.log(buf1.compare(buf1));\n// : 0\n\nconsole.log(buf1.compare(buf2));\n// : -1\n\nconsole.log(buf1.compare(buf3));\n// : -1\n\nconsole.log(buf2.compare(buf1));\n// : 1\n\nconsole.log(buf2.compare(buf3));\n// : 1\n\nconsole.log([buf1, buf2, buf3].sort(Buffer.compare));\n// : [ <Buffer 41 42 43>, <Buffer 41 42 43 44>, <Buffer 42 43 44> ]\n// (: [buf1, buf3, buf2])\n```\n targetStart  targetEnd  sourceStart  sourceEnd  target  buf \n```\nconst buf1 = Buffer.from([1, 2, 3, 4, 5, 6, 7, 8, 9]);\nconst buf2 = Buffer.from([5, 6, 7, 8, 9, 1, 2, 3, 4]);\n\nconsole.log(buf1.compare(buf2, 5, 9, 0, 4));\n// : 0\n\nconsole.log(buf1.compare(buf2, 0, 6, 4));\n// : -1\n\nconsole.log(buf1.compare(buf2, 5, 6, 5));\n// : 1\n```\n targetStart < 0  sourceStart < 0  targetEnd > target.byteLength  sourceEnd > source.byteLength RangeError \n\n**buf.copy(target[, targetStart[, sourceStart[, sourceEnd]]])**\ntarget <Buffer> | <Uint8Array>  Buffer  Uint8Array\ntargetStart <integer> target  : 0\nsourceStart <integer> buf  : 0\nsourceEnd <integer> buf  : buf.length\n: <integer> \n buf  target  target  buf \n```\nconst buf1 = Buffer.allocUnsafe(26);\nconst buf2 = Buffer.allocUnsafe(26).fill('!');\n\nfor (let i = 0; i < 26; i++) {\n  // 97  'a'  ASCII \n  buf1[i] = i + 97;\n}\n\nbuf1.copy(buf2, 8, 16, 20);\n\nconsole.log(buf2.toString('ascii', 0, 25));\n// : !!!!!!!!qrst!!!!!!!!!!!!!\n\n//  Buffer  Buffer \nconst buf = Buffer.allocUnsafe(26);\n\nfor (let i = 0; i < 26; i++) {\n  // 97  'a'  ASCII \n  buf[i] = i + 97;\n}\n\nbuf.copy(buf, 0, 4, 10);\n\nconsole.log(buf.toString());\n// : efghijghijklmnopqrstuvwxyz\n```\n","updated":"2022-12-28T09:10:43.846Z","path":"nodejs/nodejs-note-7.html","comments":1,"layout":"page","_id":"clchh4gwy0016cktt61wk9ec0","content":"<h6 id=\"Buffer-\"><a href=\"#Buffer-\" class=\"headerlink\" title=\"Buffer()\"></a>Buffer()</h6><p>ES6TypedArray???JavaScript <br>Buffer  Node.js API  TCP </p>\n<p>TypedArray  ES6 Buffer  Node.js  Uint8Array API</p>\n<p><em>Buffer  Buffer  V8  Buffer Buffer  Node.js  require(buffer).Buffer</em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  10 0  Buffer</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf1 = Buffer.alloc(<span class=\"number\">10</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  10 0x1  Buffer </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf2 = Buffer.alloc(<span class=\"number\">10</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  10 Buffer</span></span><br><span class=\"line\"><span class=\"comment\">//  Buffer.alloc() </span></span><br><span class=\"line\"><span class=\"comment\">//  Buffer </span></span><br><span class=\"line\"><span class=\"comment\">//  fill()  write() </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf3 = Buffer.allocUnsafe(<span class=\"number\">10</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  [0x1, 0x2, 0x3]  Buffer</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf4 = Buffer.from([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>]);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  UTF-8  [0x74, 0xc3, 0xa9, 0x73, 0x74]  Buffer</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf5 = Buffer.from(<span class=\"string\">&#x27;tst&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  Latin-1  [0x74, 0xe9, 0x73, 0x74]  Buffer</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf6 = Buffer.from(<span class=\"string\">&#x27;tst&#x27;</span>, <span class=\"string\">&#x27;latin1&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<p><em>Buffer.from(), Buffer.alloc(), and Buffer.allocUnsafe()</em><br>nodejs v6uffer  Buffer  Buffer</p>\n<ul>\n<li>nodejs 8.0.0Buffer8.0.0buffer</li>\n<li>  Buffer Buffer</li>\n<li> ArrayBuffer  SharedArrayBuffer ArrayBuffer  Buffer</li>\n</ul>\n<p>new Buffer()Buffer.from(), Buffer.alloc(), and Buffer.allocUnsafe()</p>\n<ul>\n<li>Buffer.from(array) <strong></strong> Buffer</li>\n<li>[Buffer.from(arrayBuffer[, byteOffset [, length]])]Buffer.from(arrayBuffer) <strong> ArrayBuffer </strong> Buffer</li>\n<li>Buffer.from(buffer) <strong> Buffer </strong> Buffer</li>\n<li>Buffer.from(string[, encoding]) <strong></strong> Buffer</li>\n<li>[Buffer.alloc(size[, fill[, encoding]])]Buffer.alloc() <strong> Buffer </strong>  Buffer.allocUnsafe(size)  Buffer <strong></strong></li>\n<li>Buffer.allocUnsafe(size)  Buffer.allocUnsafeSlow(size)  size  Buffer buf.fill(0) </li>\n</ul>\n<p><em> size  Buffer.poolSize  Buffer.allocUnsafe()  Buffer <strong></strong></em></p>\n<p><em>zero-fill-buffers</em><br>buffer<strong>0</strong><br>buffer Buffer  zero-fill-buffers </p>\n<p><em>buffer.allocUnsafe()buffer.allocUnsafeSlow()</em><br>buffer.allocUnsafe()buffer.allocUnsafeSlow()buffer**(0)**</p>\n<p><em>buffer</em><br>Buffer  UTF-8  UCS2  Base64   Buffer  JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> buf = Buffer.from(<span class=\"string\">&#x27;hello world&#x27;</span>, <span class=\"string\">&#x27;ascii&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf.toString(<span class=\"string\">&#x27;hex&#x27;</span>));</span><br><span class=\"line\"><span class=\"comment\">//  68656c6c6f20776f726c64</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf.toString(<span class=\"string\">&#x27;base64&#x27;</span>));</span><br><span class=\"line\"><span class=\"comment\">//  aGVsbG8gd29ybGQ=</span></span><br></pre></td></tr></table></figure>\n\n<p>nodejs</p>\n<ul>\n<li>ascii -  7  ASCII </li>\n<li>utf8 -  Unicode  UTF-8</li>\n<li>utf16le - 2  4  Unicode U+10000  U+10FFFF</li>\n<li>ucs2 - utf16le </li>\n<li>base64 - Base64  Buffer  RFC4648  5 URL </li>\n<li>latin1 -  Buffer  IANA  RFC1345  63  Latin-1  C0/C1 </li>\n<li>binary - latin1 </li>\n<li>hex - </li>\n</ul>\n<p><strong></strong> WHATWG   latin1  ISO-8859-1  win-1252  http.get()  WHATWG  win-1252  latin1 </p>\n<p><em>Buffer  TypedArray</em><br>Buffer  Uint8Array <br> Buffer  TypedArray </p>\n<ul>\n<li>Buffer  TypedArray </li>\n<li>Buffer  new Uint32Array(Buffer.from([1, 2, 3, 4]))  [1, 2, 3, 4]  Uint32Array [0x1020304]  [0x4030201]  Uint32Array <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = <span class=\"keyword\">new</span> <span class=\"built_in\">Uint16Array</span>(<span class=\"number\">2</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">arr[<span class=\"number\">0</span>] = <span class=\"number\">5000</span>;</span><br><span class=\"line\">arr[<span class=\"number\">1</span>] = <span class=\"number\">4000</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  `arr` </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf1 = Buffer.from(arr);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  `arr` </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf2 = Buffer.from(arr.buffer);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// : &lt;Buffer 88 a0&gt;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf1);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// : &lt;Buffer 88 13 a0 0f&gt;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf2);</span><br><span class=\"line\"></span><br><span class=\"line\">arr[<span class=\"number\">1</span>] = <span class=\"number\">6000</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// : &lt;Buffer 88 a0&gt;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf1);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// : &lt;Buffer 88 13 70 17&gt;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf2);</span><br></pre></td></tr></table></figure></li>\n</ul>\n<p><em> TypedArray  .buffer  Buffer  byteOffset  length  ArrayBuffer </em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = <span class=\"keyword\">new</span> <span class=\"built_in\">Uint16Array</span>(<span class=\"number\">20</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> buf = Buffer.from(arr.buffer, <span class=\"number\">0</span>, <span class=\"number\">16</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// : 16</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf.length);</span><br></pre></td></tr></table></figure>\n\n<p>Buffer  ECMAScript 2015 (ES6)  for..of </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> buf = Buffer.from([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>]);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// :</span></span><br><span class=\"line\"><span class=\"comment\">//   1</span></span><br><span class=\"line\"><span class=\"comment\">//   2</span></span><br><span class=\"line\"><span class=\"comment\">//   3</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> b <span class=\"keyword\">of</span> buf) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(b);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>buf.values() buf.keys()  buf.entries() </p>\n<p><em>Buffer</em><br>Buffer  </p>\n<p><strong>Buffer.allocUnsafe(size)</strong><br> size  Buffer   size  buffer.constants.MAX_LENGTH  0 RangeError   size  0 0  Buffer<br> Buffer   Buffer   buf.fill(0)  Buffer 0</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> buf = Buffer.allocUnsafe(<span class=\"number\">10</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf);</span><br><span class=\"line\"><span class=\"comment\">// : (): &lt;Buffer 00 00 00 00 00 00 00 00 00 00&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">buf.fill(<span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// : &lt;Buffer 00 00 00 00 00 00 00 00 00 00&gt;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf);</span><br></pre></td></tr></table></figure>\n<p> size  TypeError </p>\n<p>Buffer  Buffer.poolSize  Buffer   Buffer.allocUnsafe()  Buffer  new Buffer(size)   size  Buffer.poolSize &gt;&gt; 1 Buffer.poolSize 2</p>\n<p> Buffer.alloc(size, fill)  Buffer.allocUnsafe(size).fill(fill)  <em>Buffer.alloc(size, fill)  Buffer  size  Buffer.poolSize  Buffer.allocUnsafe(size).fill(fill)  Buffer   Buffer.allocUnsafe() </em></p>\n<p><strong>Buffer.allocUnsafeSlow(size)</strong><br> Buffer.allocUnsafe()  Buffer  4KB  Buffer   Buffer  </p>\n<p> Buffer.allocUnsafeSlow()  Buffer </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> store = [];</span><br><span class=\"line\"></span><br><span class=\"line\">socket.on(<span class=\"string\">&#x27;readable&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> data = socket.read();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> sb = Buffer.allocUnsafeSlow(<span class=\"number\">10</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  data.copy(sb, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">10</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  store.push(sb);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p><em>Buffer.allocUnsafeSlow() </em></p>\n<p><strong>Buffer.byteLength(string[, encoding])</strong><br>  String.prototype.length </p>\n<p>  base64  hex   non-Base64/Hex-encoded  (e.g. )   Buffer </p>\n<p> string  Buffer/DataView/TypedArray/ArrayBuffer/SharedArrayBuffer </p>\n<p><strong>Buffer.compare(buf1, buf2)</strong><br> buf1  buf2  Buffer   buf1.compare(buf2) </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> buf1 = Buffer.from(<span class=\"string\">&#x27;1234&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> buf2 = Buffer.from(<span class=\"string\">&#x27;0123&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> arr = [buf1, buf2];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr.sort(Buffer.compare));</span><br><span class=\"line\"><span class=\"comment\">// : [ &lt;Buffer 30 31 32 33&gt;, &lt;Buffer 31 32 33 34&gt; ]</span></span><br><span class=\"line\"><span class=\"comment\">// (: [buf2, buf1])</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Buffer.concat(list[, totalLength])</strong><br> list  Buffer  Buffer </p>\n<p> list  totalLength  0  0  Buffer </p>\n<p><em> totalLength  list  Buffer   totalLength </em><br><em> totalLengthtotalLength  list  Buffer  totalLength totalLength </em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> buf1 = Buffer.alloc(<span class=\"number\">10</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> buf2 = Buffer.alloc(<span class=\"number\">14</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> buf3 = Buffer.alloc(<span class=\"number\">18</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> totalLength = buf1.length + buf2.length + buf3.length;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(totalLength);</span><br><span class=\"line\"><span class=\"comment\">// : 42</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> bufA = Buffer.concat([buf1, buf2, buf3], totalLength);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(bufA);</span><br><span class=\"line\"><span class=\"comment\">// : &lt;Buffer 00 00 00 00 ...&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(bufA.length);</span><br><span class=\"line\"><span class=\"comment\">// : 42</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Buffer.from(array)</strong><br> array  TypeError <br><strong>Buffer.from(arrayBuffer[, byteOffset[, length]])</strong><br>arrayBuffer <ArrayBuffer> | <SharedArrayBuffer> ArrayBuffer  SharedArrayBuffer  TypedArray  .buffer <br>byteOffset <integer>  0<br>length <integer>  arrayBuffer.length - byteOffset</integer></integer></SharedArrayBuffer></ArrayBuffer></p>\n<p> ArrayBuffer  TypedArray  .buffer  Buffer  TypedArray </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = <span class=\"keyword\">new</span> <span class=\"built_in\">Uint16Array</span>(<span class=\"number\">2</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">arr[<span class=\"number\">0</span>] = <span class=\"number\">5000</span>;</span><br><span class=\"line\">arr[<span class=\"number\">1</span>] = <span class=\"number\">4000</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf = Buffer.from(arr.buffer);</span><br><span class=\"line\"><span class=\"comment\">//  `arr` </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf);</span><br><span class=\"line\"><span class=\"comment\">// : &lt;Buffer 88 13 a0 0f&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">arr[<span class=\"number\">1</span>] = <span class=\"number\">6000</span>;</span><br><span class=\"line\"><span class=\"comment\">//  Uint16Array  Buffer</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf);</span><br><span class=\"line\"><span class=\"comment\">// : &lt;Buffer 88 13 70 17&gt;</span></span><br></pre></td></tr></table></figure>\n<p> byteOffset  length  Buffer  arrayBuffer </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> ab = <span class=\"keyword\">new</span> <span class=\"built_in\">ArrayBuffer</span>(<span class=\"number\">10</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> buff = Buffer.from(ab, <span class=\"number\">0</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buff.length);</span><br><span class=\"line\"><span class=\"comment\">// : 2</span></span><br></pre></td></tr></table></figure>\n<p> arrayBuffer  ArrayBuffer  SharedArrayBuffer TypeError </p>\n<p><strong>Buffer.from(buffer)</strong><br> buffer  Buffer </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> buf1 = Buffer.from(<span class=\"string\">&#x27;buffer&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> buf2 = Buffer.from(buf1);</span><br><span class=\"line\">buf1[<span class=\"number\">0</span>] = <span class=\"number\">0x61</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf1.toString());</span><br><span class=\"line\"><span class=\"comment\">// : auffer</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf2.toString());</span><br><span class=\"line\"><span class=\"comment\">// : buffer</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Buffer.from(string[, encoding])</strong><br> JavaScript  string  Buffer  encoding  string </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> buf1 = Buffer.from(<span class=\"string\">&#x27;this is a tst&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf1.toString());</span><br><span class=\"line\"><span class=\"comment\">// : this is a tst</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf1.toString(<span class=\"string\">&#x27;ascii&#x27;</span>));</span><br><span class=\"line\"><span class=\"comment\">// : this is a tC)st</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf2 = Buffer.from(<span class=\"string\">&#x27;7468697320697320612074c3a97374&#x27;</span>, <span class=\"string\">&#x27;hex&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf2.toString());</span><br><span class=\"line\"><span class=\"comment\">// : this is a tst</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Class Method: Buffer.from(object[, offsetOrEncoding[, length]])</strong><br>object <Object>  Symbol.toPrimitive  valueOf() <br>offsetOrEncoding <number> | <string>  object.valueOf()  object<a href>Symbol.toPrimitive</a> <br>length <number>  object.valueOf()  object<a href>Symbol.toPrimitive</a> <br> valueOf()  object Buffer.from(object.valueOf(), offsetOrEncoding, length)</number></string></number></Object></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buf = Buffer.from(new String(&#x27;this is a test&#x27;));</span><br><span class=\"line\">// &lt;Buffer 74 68 69 73 20 69 73 20 61 20 74 65 73 74&gt;</span><br></pre></td></tr></table></figure>\n<p> Symbol.toPrimitive   Buffer.from(object<a href>Symbol.toPrimitive</a>, offsetOrEncoding, length)</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Foo &#123;</span><br><span class=\"line\">  [Symbol.toPrimitive]() &#123;</span><br><span class=\"line\">    return &#x27;this is a test&#x27;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const buf = Buffer.from(new Foo(), &#x27;utf8&#x27;);</span><br><span class=\"line\">// &lt;Buffer 74 68 69 73 20 69 73 20 61 20 74 65 73 74&gt;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Buffer.isBuffer(obj)</strong><br> obj  Buffer  true  false<br><strong>Buffer.isEncoding(encoding)</strong><br> encoding  true false <br><strong>Buffer.poolSize</strong><br> Buffer  8192</p>\n<p><strong>buf[index]</strong><br> [index]  buf  index   0x00  0xFF 0  255</p>\n<p> Uint8Array UInt8Array  undefined</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const str = &#x27;Node.js&#x27;;</span><br><span class=\"line\">const buf = Buffer.allocUnsafe(str.length);</span><br><span class=\"line\"></span><br><span class=\"line\">for (let i = 0; i &lt; str.length; i++) &#123;</span><br><span class=\"line\">  buf[i] = str.charCodeAt(i);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.toString(&#x27;ascii&#x27;));</span><br><span class=\"line\">// : Node.js</span><br></pre></td></tr></table></figure>\n\n<p><strong>buf.buffer</strong><br>buffer  Buffer  ArrayBuffer </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const arrayBuffer = new ArrayBuffer(16);</span><br><span class=\"line\">const buffer = Buffer.from(arrayBuffer);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buffer.buffer === arrayBuffer);</span><br><span class=\"line\">// : true</span><br></pre></td></tr></table></figure>\n\n<p><strong>buf.compare(target[, targetStart[, targetEnd[, sourceStart[, sourceEnd]]]])</strong><br>target <Buffer> | <Uint8Array>  Buffer  Uint8Array<br>targetStart <integer> target  : 0<br>targetEnd <integer> target  : target.length<br>sourceStart <integer> buf  : 0<br>sourceEnd <integer> buf  : buf.length<br>: <integer><br> buf  target buf  target   Buffer </integer></integer></integer></integer></integer></Uint8Array></Buffer></p>\n<p> target  buf  0 <br> target  buf  1 <br> target  buf  -1 </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buf1 = Buffer.from(&#x27;ABC&#x27;);</span><br><span class=\"line\">const buf2 = Buffer.from(&#x27;BCD&#x27;);</span><br><span class=\"line\">const buf3 = Buffer.from(&#x27;ABCD&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf1.compare(buf1));</span><br><span class=\"line\">// : 0</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf1.compare(buf2));</span><br><span class=\"line\">// : -1</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf1.compare(buf3));</span><br><span class=\"line\">// : -1</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf2.compare(buf1));</span><br><span class=\"line\">// : 1</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf2.compare(buf3));</span><br><span class=\"line\">// : 1</span><br><span class=\"line\"></span><br><span class=\"line\">console.log([buf1, buf2, buf3].sort(Buffer.compare));</span><br><span class=\"line\">// : [ &lt;Buffer 41 42 43&gt;, &lt;Buffer 41 42 43 44&gt;, &lt;Buffer 42 43 44&gt; ]</span><br><span class=\"line\">// (: [buf1, buf3, buf2])</span><br></pre></td></tr></table></figure>\n<p> targetStart  targetEnd  sourceStart  sourceEnd  target  buf </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buf1 = Buffer.from([1, 2, 3, 4, 5, 6, 7, 8, 9]);</span><br><span class=\"line\">const buf2 = Buffer.from([5, 6, 7, 8, 9, 1, 2, 3, 4]);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf1.compare(buf2, 5, 9, 0, 4));</span><br><span class=\"line\">// : 0</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf1.compare(buf2, 0, 6, 4));</span><br><span class=\"line\">// : -1</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf1.compare(buf2, 5, 6, 5));</span><br><span class=\"line\">// : 1</span><br></pre></td></tr></table></figure>\n<p> targetStart &lt; 0  sourceStart &lt; 0  targetEnd &gt; target.byteLength  sourceEnd &gt; source.byteLength RangeError </p>\n<p><strong>buf.copy(target[, targetStart[, sourceStart[, sourceEnd]]])</strong><br>target <Buffer> | <Uint8Array>  Buffer  Uint8Array<br>targetStart <integer> target  : 0<br>sourceStart <integer> buf  : 0<br>sourceEnd <integer> buf  : buf.length<br>: <integer> <br> buf  target  target  buf </integer></integer></integer></integer></Uint8Array></Buffer></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buf1 = Buffer.allocUnsafe(26);</span><br><span class=\"line\">const buf2 = Buffer.allocUnsafe(26).fill(&#x27;!&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">for (let i = 0; i &lt; 26; i++) &#123;</span><br><span class=\"line\">  // 97  &#x27;a&#x27;  ASCII </span><br><span class=\"line\">  buf1[i] = i + 97;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">buf1.copy(buf2, 8, 16, 20);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf2.toString(&#x27;ascii&#x27;, 0, 25));</span><br><span class=\"line\">// : !!!!!!!!qrst!!!!!!!!!!!!!</span><br><span class=\"line\"></span><br><span class=\"line\">//  Buffer  Buffer </span><br><span class=\"line\">const buf = Buffer.allocUnsafe(26);</span><br><span class=\"line\"></span><br><span class=\"line\">for (let i = 0; i &lt; 26; i++) &#123;</span><br><span class=\"line\">  // 97  &#x27;a&#x27;  ASCII </span><br><span class=\"line\">  buf[i] = i + 97;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">buf.copy(buf, 0, 4, 10);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.toString());</span><br><span class=\"line\">// : efghijghijklmnopqrstuvwxyz</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h6 id=\"Buffer-\"><a href=\"#Buffer-\" class=\"headerlink\" title=\"Buffer()\"></a>Buffer()</h6><p>ES6TypedArray???JavaScript <br>Buffer  Node.js API  TCP </p>\n<p>TypedArray  ES6 Buffer  Node.js  Uint8Array API</p>\n<p><em>Buffer  Buffer  V8  Buffer Buffer  Node.js  require(buffer).Buffer</em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  10 0  Buffer</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf1 = Buffer.alloc(<span class=\"number\">10</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  10 0x1  Buffer </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf2 = Buffer.alloc(<span class=\"number\">10</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  10 Buffer</span></span><br><span class=\"line\"><span class=\"comment\">//  Buffer.alloc() </span></span><br><span class=\"line\"><span class=\"comment\">//  Buffer </span></span><br><span class=\"line\"><span class=\"comment\">//  fill()  write() </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf3 = Buffer.allocUnsafe(<span class=\"number\">10</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  [0x1, 0x2, 0x3]  Buffer</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf4 = Buffer.from([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>]);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  UTF-8  [0x74, 0xc3, 0xa9, 0x73, 0x74]  Buffer</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf5 = Buffer.from(<span class=\"string\">&#x27;tst&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  Latin-1  [0x74, 0xe9, 0x73, 0x74]  Buffer</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf6 = Buffer.from(<span class=\"string\">&#x27;tst&#x27;</span>, <span class=\"string\">&#x27;latin1&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<p><em>Buffer.from(), Buffer.alloc(), and Buffer.allocUnsafe()</em><br>nodejs v6uffer  Buffer  Buffer</p>\n<ul>\n<li>nodejs 8.0.0Buffer8.0.0buffer</li>\n<li>  Buffer Buffer</li>\n<li> ArrayBuffer  SharedArrayBuffer ArrayBuffer  Buffer</li>\n</ul>\n<p>new Buffer()Buffer.from(), Buffer.alloc(), and Buffer.allocUnsafe()</p>\n<ul>\n<li>Buffer.from(array) <strong></strong> Buffer</li>\n<li>[Buffer.from(arrayBuffer[, byteOffset [, length]])]Buffer.from(arrayBuffer) <strong> ArrayBuffer </strong> Buffer</li>\n<li>Buffer.from(buffer) <strong> Buffer </strong> Buffer</li>\n<li>Buffer.from(string[, encoding]) <strong></strong> Buffer</li>\n<li>[Buffer.alloc(size[, fill[, encoding]])]Buffer.alloc() <strong> Buffer </strong>  Buffer.allocUnsafe(size)  Buffer <strong></strong></li>\n<li>Buffer.allocUnsafe(size)  Buffer.allocUnsafeSlow(size)  size  Buffer buf.fill(0) </li>\n</ul>\n<p><em> size  Buffer.poolSize  Buffer.allocUnsafe()  Buffer <strong></strong></em></p>\n<p><em>zero-fill-buffers</em><br>buffer<strong>0</strong><br>buffer Buffer  zero-fill-buffers </p>\n<p><em>buffer.allocUnsafe()buffer.allocUnsafeSlow()</em><br>buffer.allocUnsafe()buffer.allocUnsafeSlow()buffer**(0)**</p>\n<p><em>buffer</em><br>Buffer  UTF-8  UCS2  Base64   Buffer  JavaScript </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> buf = Buffer.from(<span class=\"string\">&#x27;hello world&#x27;</span>, <span class=\"string\">&#x27;ascii&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf.toString(<span class=\"string\">&#x27;hex&#x27;</span>));</span><br><span class=\"line\"><span class=\"comment\">//  68656c6c6f20776f726c64</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf.toString(<span class=\"string\">&#x27;base64&#x27;</span>));</span><br><span class=\"line\"><span class=\"comment\">//  aGVsbG8gd29ybGQ=</span></span><br></pre></td></tr></table></figure>\n\n<p>nodejs</p>\n<ul>\n<li>ascii -  7  ASCII </li>\n<li>utf8 -  Unicode  UTF-8</li>\n<li>utf16le - 2  4  Unicode U+10000  U+10FFFF</li>\n<li>ucs2 - utf16le </li>\n<li>base64 - Base64  Buffer  RFC4648  5 URL </li>\n<li>latin1 -  Buffer  IANA  RFC1345  63  Latin-1  C0/C1 </li>\n<li>binary - latin1 </li>\n<li>hex - </li>\n</ul>\n<p><strong></strong> WHATWG   latin1  ISO-8859-1  win-1252  http.get()  WHATWG  win-1252  latin1 </p>\n<p><em>Buffer  TypedArray</em><br>Buffer  Uint8Array <br> Buffer  TypedArray </p>\n<ul>\n<li>Buffer  TypedArray </li>\n<li>Buffer  new Uint32Array(Buffer.from([1, 2, 3, 4]))  [1, 2, 3, 4]  Uint32Array [0x1020304]  [0x4030201]  Uint32Array <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = <span class=\"keyword\">new</span> <span class=\"built_in\">Uint16Array</span>(<span class=\"number\">2</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">arr[<span class=\"number\">0</span>] = <span class=\"number\">5000</span>;</span><br><span class=\"line\">arr[<span class=\"number\">1</span>] = <span class=\"number\">4000</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  `arr` </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf1 = Buffer.from(arr);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  `arr` </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf2 = Buffer.from(arr.buffer);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// : &lt;Buffer 88 a0&gt;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf1);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// : &lt;Buffer 88 13 a0 0f&gt;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf2);</span><br><span class=\"line\"></span><br><span class=\"line\">arr[<span class=\"number\">1</span>] = <span class=\"number\">6000</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// : &lt;Buffer 88 a0&gt;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf1);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// : &lt;Buffer 88 13 70 17&gt;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf2);</span><br></pre></td></tr></table></figure></li>\n</ul>\n<p><em> TypedArray  .buffer  Buffer  byteOffset  length  ArrayBuffer </em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = <span class=\"keyword\">new</span> <span class=\"built_in\">Uint16Array</span>(<span class=\"number\">20</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> buf = Buffer.from(arr.buffer, <span class=\"number\">0</span>, <span class=\"number\">16</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// : 16</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf.length);</span><br></pre></td></tr></table></figure>\n\n<p>Buffer  ECMAScript 2015 (ES6)  for..of </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> buf = Buffer.from([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>]);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// :</span></span><br><span class=\"line\"><span class=\"comment\">//   1</span></span><br><span class=\"line\"><span class=\"comment\">//   2</span></span><br><span class=\"line\"><span class=\"comment\">//   3</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> b <span class=\"keyword\">of</span> buf) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(b);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>buf.values() buf.keys()  buf.entries() </p>\n<p><em>Buffer</em><br>Buffer  </p>\n<p><strong>Buffer.allocUnsafe(size)</strong><br> size  Buffer   size  buffer.constants.MAX_LENGTH  0 RangeError   size  0 0  Buffer<br> Buffer   Buffer   buf.fill(0)  Buffer 0</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> buf = Buffer.allocUnsafe(<span class=\"number\">10</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf);</span><br><span class=\"line\"><span class=\"comment\">// : (): &lt;Buffer 00 00 00 00 00 00 00 00 00 00&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">buf.fill(<span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// : &lt;Buffer 00 00 00 00 00 00 00 00 00 00&gt;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf);</span><br></pre></td></tr></table></figure>\n<p> size  TypeError </p>\n<p>Buffer  Buffer.poolSize  Buffer   Buffer.allocUnsafe()  Buffer  new Buffer(size)   size  Buffer.poolSize &gt;&gt; 1 Buffer.poolSize 2</p>\n<p> Buffer.alloc(size, fill)  Buffer.allocUnsafe(size).fill(fill)  <em>Buffer.alloc(size, fill)  Buffer  size  Buffer.poolSize  Buffer.allocUnsafe(size).fill(fill)  Buffer   Buffer.allocUnsafe() </em></p>\n<p><strong>Buffer.allocUnsafeSlow(size)</strong><br> Buffer.allocUnsafe()  Buffer  4KB  Buffer   Buffer  </p>\n<p> Buffer.allocUnsafeSlow()  Buffer </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> store = [];</span><br><span class=\"line\"></span><br><span class=\"line\">socket.on(<span class=\"string\">&#x27;readable&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> data = socket.read();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> sb = Buffer.allocUnsafeSlow(<span class=\"number\">10</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  data.copy(sb, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">10</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  store.push(sb);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p><em>Buffer.allocUnsafeSlow() </em></p>\n<p><strong>Buffer.byteLength(string[, encoding])</strong><br>  String.prototype.length </p>\n<p>  base64  hex   non-Base64/Hex-encoded  (e.g. )   Buffer </p>\n<p> string  Buffer/DataView/TypedArray/ArrayBuffer/SharedArrayBuffer </p>\n<p><strong>Buffer.compare(buf1, buf2)</strong><br> buf1  buf2  Buffer   buf1.compare(buf2) </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> buf1 = Buffer.from(<span class=\"string\">&#x27;1234&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> buf2 = Buffer.from(<span class=\"string\">&#x27;0123&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> arr = [buf1, buf2];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr.sort(Buffer.compare));</span><br><span class=\"line\"><span class=\"comment\">// : [ &lt;Buffer 30 31 32 33&gt;, &lt;Buffer 31 32 33 34&gt; ]</span></span><br><span class=\"line\"><span class=\"comment\">// (: [buf2, buf1])</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Buffer.concat(list[, totalLength])</strong><br> list  Buffer  Buffer </p>\n<p> list  totalLength  0  0  Buffer </p>\n<p><em> totalLength  list  Buffer   totalLength </em><br><em> totalLengthtotalLength  list  Buffer  totalLength totalLength </em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> buf1 = Buffer.alloc(<span class=\"number\">10</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> buf2 = Buffer.alloc(<span class=\"number\">14</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> buf3 = Buffer.alloc(<span class=\"number\">18</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> totalLength = buf1.length + buf2.length + buf3.length;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(totalLength);</span><br><span class=\"line\"><span class=\"comment\">// : 42</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> bufA = Buffer.concat([buf1, buf2, buf3], totalLength);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(bufA);</span><br><span class=\"line\"><span class=\"comment\">// : &lt;Buffer 00 00 00 00 ...&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(bufA.length);</span><br><span class=\"line\"><span class=\"comment\">// : 42</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Buffer.from(array)</strong><br> array  TypeError <br><strong>Buffer.from(arrayBuffer[, byteOffset[, length]])</strong><br>arrayBuffer <ArrayBuffer> | <SharedArrayBuffer> ArrayBuffer  SharedArrayBuffer  TypedArray  .buffer <br>byteOffset <integer>  0<br>length <integer>  arrayBuffer.length - byteOffset</integer></integer></SharedArrayBuffer></ArrayBuffer></p>\n<p> ArrayBuffer  TypedArray  .buffer  Buffer  TypedArray </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = <span class=\"keyword\">new</span> <span class=\"built_in\">Uint16Array</span>(<span class=\"number\">2</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">arr[<span class=\"number\">0</span>] = <span class=\"number\">5000</span>;</span><br><span class=\"line\">arr[<span class=\"number\">1</span>] = <span class=\"number\">4000</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf = Buffer.from(arr.buffer);</span><br><span class=\"line\"><span class=\"comment\">//  `arr` </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf);</span><br><span class=\"line\"><span class=\"comment\">// : &lt;Buffer 88 13 a0 0f&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">arr[<span class=\"number\">1</span>] = <span class=\"number\">6000</span>;</span><br><span class=\"line\"><span class=\"comment\">//  Uint16Array  Buffer</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf);</span><br><span class=\"line\"><span class=\"comment\">// : &lt;Buffer 88 13 70 17&gt;</span></span><br></pre></td></tr></table></figure>\n<p> byteOffset  length  Buffer  arrayBuffer </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> ab = <span class=\"keyword\">new</span> <span class=\"built_in\">ArrayBuffer</span>(<span class=\"number\">10</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> buff = Buffer.from(ab, <span class=\"number\">0</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buff.length);</span><br><span class=\"line\"><span class=\"comment\">// : 2</span></span><br></pre></td></tr></table></figure>\n<p> arrayBuffer  ArrayBuffer  SharedArrayBuffer TypeError </p>\n<p><strong>Buffer.from(buffer)</strong><br> buffer  Buffer </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> buf1 = Buffer.from(<span class=\"string\">&#x27;buffer&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> buf2 = Buffer.from(buf1);</span><br><span class=\"line\">buf1[<span class=\"number\">0</span>] = <span class=\"number\">0x61</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf1.toString());</span><br><span class=\"line\"><span class=\"comment\">// : auffer</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf2.toString());</span><br><span class=\"line\"><span class=\"comment\">// : buffer</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Buffer.from(string[, encoding])</strong><br> JavaScript  string  Buffer  encoding  string </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> buf1 = Buffer.from(<span class=\"string\">&#x27;this is a tst&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf1.toString());</span><br><span class=\"line\"><span class=\"comment\">// : this is a tst</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf1.toString(<span class=\"string\">&#x27;ascii&#x27;</span>));</span><br><span class=\"line\"><span class=\"comment\">// : this is a tC)st</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> buf2 = Buffer.from(<span class=\"string\">&#x27;7468697320697320612074c3a97374&#x27;</span>, <span class=\"string\">&#x27;hex&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(buf2.toString());</span><br><span class=\"line\"><span class=\"comment\">// : this is a tst</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Class Method: Buffer.from(object[, offsetOrEncoding[, length]])</strong><br>object <Object>  Symbol.toPrimitive  valueOf() <br>offsetOrEncoding <number> | <string>  object.valueOf()  object<a href>Symbol.toPrimitive</a> <br>length <number>  object.valueOf()  object<a href>Symbol.toPrimitive</a> <br> valueOf()  object Buffer.from(object.valueOf(), offsetOrEncoding, length)</number></string></number></Object></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buf = Buffer.from(new String(&#x27;this is a test&#x27;));</span><br><span class=\"line\">// &lt;Buffer 74 68 69 73 20 69 73 20 61 20 74 65 73 74&gt;</span><br></pre></td></tr></table></figure>\n<p> Symbol.toPrimitive   Buffer.from(object<a href>Symbol.toPrimitive</a>, offsetOrEncoding, length)</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Foo &#123;</span><br><span class=\"line\">  [Symbol.toPrimitive]() &#123;</span><br><span class=\"line\">    return &#x27;this is a test&#x27;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const buf = Buffer.from(new Foo(), &#x27;utf8&#x27;);</span><br><span class=\"line\">// &lt;Buffer 74 68 69 73 20 69 73 20 61 20 74 65 73 74&gt;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Buffer.isBuffer(obj)</strong><br> obj  Buffer  true  false<br><strong>Buffer.isEncoding(encoding)</strong><br> encoding  true false <br><strong>Buffer.poolSize</strong><br> Buffer  8192</p>\n<p><strong>buf[index]</strong><br> [index]  buf  index   0x00  0xFF 0  255</p>\n<p> Uint8Array UInt8Array  undefined</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const str = &#x27;Node.js&#x27;;</span><br><span class=\"line\">const buf = Buffer.allocUnsafe(str.length);</span><br><span class=\"line\"></span><br><span class=\"line\">for (let i = 0; i &lt; str.length; i++) &#123;</span><br><span class=\"line\">  buf[i] = str.charCodeAt(i);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.toString(&#x27;ascii&#x27;));</span><br><span class=\"line\">// : Node.js</span><br></pre></td></tr></table></figure>\n\n<p><strong>buf.buffer</strong><br>buffer  Buffer  ArrayBuffer </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const arrayBuffer = new ArrayBuffer(16);</span><br><span class=\"line\">const buffer = Buffer.from(arrayBuffer);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buffer.buffer === arrayBuffer);</span><br><span class=\"line\">// : true</span><br></pre></td></tr></table></figure>\n\n<p><strong>buf.compare(target[, targetStart[, targetEnd[, sourceStart[, sourceEnd]]]])</strong><br>target <Buffer> | <Uint8Array>  Buffer  Uint8Array<br>targetStart <integer> target  : 0<br>targetEnd <integer> target  : target.length<br>sourceStart <integer> buf  : 0<br>sourceEnd <integer> buf  : buf.length<br>: <integer><br> buf  target buf  target   Buffer </integer></integer></integer></integer></integer></Uint8Array></Buffer></p>\n<p> target  buf  0 <br> target  buf  1 <br> target  buf  -1 </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buf1 = Buffer.from(&#x27;ABC&#x27;);</span><br><span class=\"line\">const buf2 = Buffer.from(&#x27;BCD&#x27;);</span><br><span class=\"line\">const buf3 = Buffer.from(&#x27;ABCD&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf1.compare(buf1));</span><br><span class=\"line\">// : 0</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf1.compare(buf2));</span><br><span class=\"line\">// : -1</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf1.compare(buf3));</span><br><span class=\"line\">// : -1</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf2.compare(buf1));</span><br><span class=\"line\">// : 1</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf2.compare(buf3));</span><br><span class=\"line\">// : 1</span><br><span class=\"line\"></span><br><span class=\"line\">console.log([buf1, buf2, buf3].sort(Buffer.compare));</span><br><span class=\"line\">// : [ &lt;Buffer 41 42 43&gt;, &lt;Buffer 41 42 43 44&gt;, &lt;Buffer 42 43 44&gt; ]</span><br><span class=\"line\">// (: [buf1, buf3, buf2])</span><br></pre></td></tr></table></figure>\n<p> targetStart  targetEnd  sourceStart  sourceEnd  target  buf </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buf1 = Buffer.from([1, 2, 3, 4, 5, 6, 7, 8, 9]);</span><br><span class=\"line\">const buf2 = Buffer.from([5, 6, 7, 8, 9, 1, 2, 3, 4]);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf1.compare(buf2, 5, 9, 0, 4));</span><br><span class=\"line\">// : 0</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf1.compare(buf2, 0, 6, 4));</span><br><span class=\"line\">// : -1</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf1.compare(buf2, 5, 6, 5));</span><br><span class=\"line\">// : 1</span><br></pre></td></tr></table></figure>\n<p> targetStart &lt; 0  sourceStart &lt; 0  targetEnd &gt; target.byteLength  sourceEnd &gt; source.byteLength RangeError </p>\n<p><strong>buf.copy(target[, targetStart[, sourceStart[, sourceEnd]]])</strong><br>target <Buffer> | <Uint8Array>  Buffer  Uint8Array<br>targetStart <integer> target  : 0<br>sourceStart <integer> buf  : 0<br>sourceEnd <integer> buf  : buf.length<br>: <integer> <br> buf  target  target  buf </integer></integer></integer></integer></Uint8Array></Buffer></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const buf1 = Buffer.allocUnsafe(26);</span><br><span class=\"line\">const buf2 = Buffer.allocUnsafe(26).fill(&#x27;!&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">for (let i = 0; i &lt; 26; i++) &#123;</span><br><span class=\"line\">  // 97  &#x27;a&#x27;  ASCII </span><br><span class=\"line\">  buf1[i] = i + 97;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">buf1.copy(buf2, 8, 16, 20);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf2.toString(&#x27;ascii&#x27;, 0, 25));</span><br><span class=\"line\">// : !!!!!!!!qrst!!!!!!!!!!!!!</span><br><span class=\"line\"></span><br><span class=\"line\">//  Buffer  Buffer </span><br><span class=\"line\">const buf = Buffer.allocUnsafe(26);</span><br><span class=\"line\"></span><br><span class=\"line\">for (let i = 0; i &lt; 26; i++) &#123;</span><br><span class=\"line\">  // 97  &#x27;a&#x27;  ASCII </span><br><span class=\"line\">  buf[i] = i + 97;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">buf.copy(buf, 0, 4, 10);</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(buf.toString());</span><br><span class=\"line\">// : efghijghijklmnopqrstuvwxyz</span><br></pre></td></tr></table></figure>\n"},{"_content":"// console()\n// const fs = require('fs');\n// const { Console } = require('console');\n// const output = fs.createWriteStream('./stdout.log');\n// const errorOutput = fs.createWriteStream('./stderr.log');\n// // \n// const logger = new Console(output, errorOutput);\n// //  console \n// // const count = 5;\n// // logger.log('count: %d', count);\n// // // stdout.log : count 5\n// // logger.error(new Error(`error: ${count}`));\n// // logger.warn('test warn');\n\n// console.assert(true, 'does nothing');\n// // \n// console.assert(false, 'Whoops %s', \"didn't work\");\n// Assertion failed: Whoops didn't work\n\n// const crypto = require('crypto');\n\n// const secret = 'abcdefg';\n// const hash = crypto\n//   .createHmac('sha256', secret)\n//   .update('I love cupcakes')\n//   .digest('hex');\n// console.log(hash);\n// c0fa1bc00531bd78ef38c628449c5102aeabd49b5dc3a2a516ea6ea959d6658e\n\n// const cert = require('crypto').Certificate();\n// const spkac = getSpkacSomehow();\n// const challenge = cert.exportChallenge(spkac);\n// console.log(challenge.toString('utf8'));\n\n// const crypto = require('crypto');\n// const cipher = crypto.createCipher('aes192', 'a password');\n\n// let encrypted = '';\n// cipher.on('readable', () => {\n//   const data = cipher.read();\n//   if (data) encrypted += data.toString('hex');\n// });\n// cipher.on('end', () => {\n//   console.log(encrypted);\n//   // Prints: ca981be48e90867604588e75d04feabb63cc007a8f8ad89b10616ed84d815504\n// });\n\n// cipher.write('some clear text data');\n// cipher.end();\n\n// const crypto = require('crypto');\n// const fs = require('fs');\n// const cipher = crypto.createCipher('aes192', 'a password');\n\n// const input = fs.createReadStream('test.js');\n// const output = fs.createWriteStream('test.enc');\n\n// input.pipe(cipher).pipe(output);\n\nconst crypto = require('crypto');\nconst cipher = crypto.createCipher('aes192', 'a password');\n\nlet encrypted = cipher.update('some clear text data', 'utf8', 'hex');\nencrypted += cipher.final('hex');\nconsole.log(encrypted);\n// Prints: ca981be48e90867604588e75d04feabb63cc007a8f8ad89b10616ed84d815504\n","source":"nodejs/file/test.js","raw":"// console()\n// const fs = require('fs');\n// const { Console } = require('console');\n// const output = fs.createWriteStream('./stdout.log');\n// const errorOutput = fs.createWriteStream('./stderr.log');\n// // \n// const logger = new Console(output, errorOutput);\n// //  console \n// // const count = 5;\n// // logger.log('count: %d', count);\n// // // stdout.log : count 5\n// // logger.error(new Error(`error: ${count}`));\n// // logger.warn('test warn');\n\n// console.assert(true, 'does nothing');\n// // \n// console.assert(false, 'Whoops %s', \"didn't work\");\n// Assertion failed: Whoops didn't work\n\n// const crypto = require('crypto');\n\n// const secret = 'abcdefg';\n// const hash = crypto\n//   .createHmac('sha256', secret)\n//   .update('I love cupcakes')\n//   .digest('hex');\n// console.log(hash);\n// c0fa1bc00531bd78ef38c628449c5102aeabd49b5dc3a2a516ea6ea959d6658e\n\n// const cert = require('crypto').Certificate();\n// const spkac = getSpkacSomehow();\n// const challenge = cert.exportChallenge(spkac);\n// console.log(challenge.toString('utf8'));\n\n// const crypto = require('crypto');\n// const cipher = crypto.createCipher('aes192', 'a password');\n\n// let encrypted = '';\n// cipher.on('readable', () => {\n//   const data = cipher.read();\n//   if (data) encrypted += data.toString('hex');\n// });\n// cipher.on('end', () => {\n//   console.log(encrypted);\n//   // Prints: ca981be48e90867604588e75d04feabb63cc007a8f8ad89b10616ed84d815504\n// });\n\n// cipher.write('some clear text data');\n// cipher.end();\n\n// const crypto = require('crypto');\n// const fs = require('fs');\n// const cipher = crypto.createCipher('aes192', 'a password');\n\n// const input = fs.createReadStream('test.js');\n// const output = fs.createWriteStream('test.enc');\n\n// input.pipe(cipher).pipe(output);\n\nconst crypto = require('crypto');\nconst cipher = crypto.createCipher('aes192', 'a password');\n\nlet encrypted = cipher.update('some clear text data', 'utf8', 'hex');\nencrypted += cipher.final('hex');\nconsole.log(encrypted);\n// Prints: ca981be48e90867604588e75d04feabb63cc007a8f8ad89b10616ed84d815504\n","date":"2023-01-04T09:17:09.617Z","updated":"2023-01-04T09:17:09.617Z","path":"nodejs/file/test.js","layout":"false","title":"","comments":1,"_id":"clchh4gwz0018ckttfanygbgb","content":"// console()\n// const fs = require('fs');\n// const { Console } = require('console');\n// const output = fs.createWriteStream('./stdout.log');\n// const errorOutput = fs.createWriteStream('./stderr.log');\n// // \n// const logger = new Console(output, errorOutput);\n// //  console \n// // const count = 5;\n// // logger.log('count: %d', count);\n// // // stdout.log : count 5\n// // logger.error(new Error(`error: ${count}`));\n// // logger.warn('test warn');\n\n// console.assert(true, 'does nothing');\n// // \n// console.assert(false, 'Whoops %s', \"didn't work\");\n// Assertion failed: Whoops didn't work\n\n// const crypto = require('crypto');\n\n// const secret = 'abcdefg';\n// const hash = crypto\n//   .createHmac('sha256', secret)\n//   .update('I love cupcakes')\n//   .digest('hex');\n// console.log(hash);\n// c0fa1bc00531bd78ef38c628449c5102aeabd49b5dc3a2a516ea6ea959d6658e\n\n// const cert = require('crypto').Certificate();\n// const spkac = getSpkacSomehow();\n// const challenge = cert.exportChallenge(spkac);\n// console.log(challenge.toString('utf8'));\n\n// const crypto = require('crypto');\n// const cipher = crypto.createCipher('aes192', 'a password');\n\n// let encrypted = '';\n// cipher.on('readable', () => {\n//   const data = cipher.read();\n//   if (data) encrypted += data.toString('hex');\n// });\n// cipher.on('end', () => {\n//   console.log(encrypted);\n//   // Prints: ca981be48e90867604588e75d04feabb63cc007a8f8ad89b10616ed84d815504\n// });\n\n// cipher.write('some clear text data');\n// cipher.end();\n\n// const crypto = require('crypto');\n// const fs = require('fs');\n// const cipher = crypto.createCipher('aes192', 'a password');\n\n// const input = fs.createReadStream('test.js');\n// const output = fs.createWriteStream('test.enc');\n\n// input.pipe(cipher).pipe(output);\n\nconst crypto = require('crypto');\nconst cipher = crypto.createCipher('aes192', 'a password');\n\nlet encrypted = cipher.update('some clear text data', 'utf8', 'hex');\nencrypted += cipher.final('hex');\nconsole.log(encrypted);\n// Prints: ca981be48e90867604588e75d04feabb63cc007a8f8ad89b10616ed84d815504\n","site":{"data":{}},"excerpt":"","more":"// console()\n// const fs = require('fs');\n// const { Console } = require('console');\n// const output = fs.createWriteStream('./stdout.log');\n// const errorOutput = fs.createWriteStream('./stderr.log');\n// // \n// const logger = new Console(output, errorOutput);\n// //  console \n// // const count = 5;\n// // logger.log('count: %d', count);\n// // // stdout.log : count 5\n// // logger.error(new Error(`error: ${count}`));\n// // logger.warn('test warn');\n\n// console.assert(true, 'does nothing');\n// // \n// console.assert(false, 'Whoops %s', \"didn't work\");\n// Assertion failed: Whoops didn't work\n\n// const crypto = require('crypto');\n\n// const secret = 'abcdefg';\n// const hash = crypto\n//   .createHmac('sha256', secret)\n//   .update('I love cupcakes')\n//   .digest('hex');\n// console.log(hash);\n// c0fa1bc00531bd78ef38c628449c5102aeabd49b5dc3a2a516ea6ea959d6658e\n\n// const cert = require('crypto').Certificate();\n// const spkac = getSpkacSomehow();\n// const challenge = cert.exportChallenge(spkac);\n// console.log(challenge.toString('utf8'));\n\n// const crypto = require('crypto');\n// const cipher = crypto.createCipher('aes192', 'a password');\n\n// let encrypted = '';\n// cipher.on('readable', () => {\n//   const data = cipher.read();\n//   if (data) encrypted += data.toString('hex');\n// });\n// cipher.on('end', () => {\n//   console.log(encrypted);\n//   // Prints: ca981be48e90867604588e75d04feabb63cc007a8f8ad89b10616ed84d815504\n// });\n\n// cipher.write('some clear text data');\n// cipher.end();\n\n// const crypto = require('crypto');\n// const fs = require('fs');\n// const cipher = crypto.createCipher('aes192', 'a password');\n\n// const input = fs.createReadStream('test.js');\n// const output = fs.createWriteStream('test.enc');\n\n// input.pipe(cipher).pipe(output);\n\nconst crypto = require('crypto');\nconst cipher = crypto.createCipher('aes192', 'a password');\n\nlet encrypted = cipher.update('some clear text data', 'utf8', 'hex');\nencrypted += cipher.final('hex');\nconsole.log(encrypted);\n// Prints: ca981be48e90867604588e75d04feabb63cc007a8f8ad89b10616ed84d815504\n"}],"Post":[{"title":"github(Personal_access_tokens)","date":"2022-06-30T03:23:56.000Z","_content":"\n#### github\n(1)[GitHub](https://github.com/)\n(2)setting -> Developer setting\n(3) Personal access tokens  Generate new token \n(4)token\n(5)**<font color=\"Red\">token</font>**","source":"_posts/12-create-github-tokens.md","raw":"---\ntitle: github(Personal_access_tokens)\ndate: 2022-06-30 11:23:56\ntags:\n---\n\n#### github\n(1)[GitHub](https://github.com/)\n(2)setting -> Developer setting\n(3) Personal access tokens  Generate new token \n(4)token\n(5)**<font color=\"Red\">token</font>**","slug":"12-create-github-tokens","published":1,"updated":"2022-06-30T05:18:19.719Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gwc0001ckttdakgd6cw","content":"<h4 id=\"github\"><a href=\"#github\" class=\"headerlink\" title=\"github\"></a>github</h4><p>(1)<a href=\"https://github.com/\">GitHub</a><br>(2)setting -&gt; Developer setting<br>(3) Personal access tokens  Generate new token <br>(4)token<br>(5)<strong><font color=\"Red\">token</font></strong></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"github\"><a href=\"#github\" class=\"headerlink\" title=\"github\"></a>github</h4><p>(1)<a href=\"https://github.com/\">GitHub</a><br>(2)setting -&gt; Developer setting<br>(3) Personal access tokens  Generate new token <br>(4)token<br>(5)<strong><font color=\"Red\">token</font></strong></p>\n"},{"title":"github","date":"2022-06-30T02:45:15.000Z","_content":"\n#### github?\n\ngithubpushGitHub\nusernamepassword\n\n(1)git pushGoogle\n```javascript\ngit push\n```\n---- \n```javascript\n$ git push\nfatal: unable to access 'https://github.com/sunjinkang/test_vue3_sql.git/': Failed to connect to github.com port 443: Timed out\n\n// --------\n$ git push\nfatal: unable to access 'https://github.com/sunjinkang/test_vue3_sql.git/': OpenSSL SSL_read: Connection was aborted, errno 10053\n```\n(2)GitHub\n![github_login]()\n **usernamegithubpasswordGitHub**\n---- GitHub\n```javascript\nLogon failed, use ctrl+c to cancel basic credential prompt.\nremote: Support for password authentication was removed on August 13, 2021. Please use a personal access token instead.\n```\n(3)\n![login_insert]\nusernamepassword**usernameGitHub<font color=\"Red\">passwordGitHub(Personal access tokens)(token[github](/2022/06/30/github-Personal-access-tokens-/))</font>**\n---- password\n```javascript\n$ git push\nLogon failed, use ctrl+c to cancel basic credential prompt.\nremote: Support for password authentication was removed on August 13, 2021. Please use a personal access token instead.\nremote: Please see https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/ for more information.\nfatal: Authentication failed for 'https://github.com/xxxxxxx.git/'\n```\n\nusernamepasswordpush","source":"_posts/11-github-push-insert-password.md","raw":"---\ntitle: github\ndate: 2022-06-30 10:45:15\ntags:\n---\n\n#### github?\n\ngithubpushGitHub\nusernamepassword\n\n(1)git pushGoogle\n```javascript\ngit push\n```\n---- \n```javascript\n$ git push\nfatal: unable to access 'https://github.com/sunjinkang/test_vue3_sql.git/': Failed to connect to github.com port 443: Timed out\n\n// --------\n$ git push\nfatal: unable to access 'https://github.com/sunjinkang/test_vue3_sql.git/': OpenSSL SSL_read: Connection was aborted, errno 10053\n```\n(2)GitHub\n![github_login]()\n **usernamegithubpasswordGitHub**\n---- GitHub\n```javascript\nLogon failed, use ctrl+c to cancel basic credential prompt.\nremote: Support for password authentication was removed on August 13, 2021. Please use a personal access token instead.\n```\n(3)\n![login_insert]\nusernamepassword**usernameGitHub<font color=\"Red\">passwordGitHub(Personal access tokens)(token[github](/2022/06/30/github-Personal-access-tokens-/))</font>**\n---- password\n```javascript\n$ git push\nLogon failed, use ctrl+c to cancel basic credential prompt.\nremote: Support for password authentication was removed on August 13, 2021. Please use a personal access token instead.\nremote: Please see https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/ for more information.\nfatal: Authentication failed for 'https://github.com/xxxxxxx.git/'\n```\n\nusernamepasswordpush","slug":"11-github-push-insert-password","published":1,"updated":"2022-06-30T05:22:12.389Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gwg0003cktt2wq64994","content":"<h4 id=\"github\"><a href=\"#github\" class=\"headerlink\" title=\"github?\"></a>github?</h4><p>githubpushGitHub<br>usernamepassword</p>\n<p>(1)git pushGoogle</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git push</span><br></pre></td></tr></table></figure>\n<p>- </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ git push</span><br><span class=\"line\"><span class=\"attr\">fatal</span>: unable to access <span class=\"string\">&#x27;https://github.com/sunjinkang/test_vue3_sql.git/&#x27;</span>: Failed to connect to github.com port <span class=\"number\">443</span>: Timed out</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// --------</span></span><br><span class=\"line\">$ git push</span><br><span class=\"line\"><span class=\"attr\">fatal</span>: unable to access <span class=\"string\">&#x27;https://github.com/sunjinkang/test_vue3_sql.git/&#x27;</span>: OpenSSL SSL_read: Connection was aborted, errno <span class=\"number\">10053</span></span><br></pre></td></tr></table></figure>\n<p>(2)GitHub<br><img src alt=\"github_login\"><br> <strong>usernamegithubpasswordGitHub</strong><br>- GitHub</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Logon failed, use ctrl+c to cancel basic credential prompt.</span><br><span class=\"line\"><span class=\"attr\">remote</span>: Support <span class=\"keyword\">for</span> password authentication was removed on August <span class=\"number\">13</span>, <span class=\"number\">2021.</span> Please use a personal access token instead.</span><br></pre></td></tr></table></figure>\n<p>(3)<br>![login_insert]<br>usernamepassword<strong>usernameGitHub<font color=\"Red\">passwordGitHub(Personal access tokens)(token<a href=\"/2022/06/30/github%E7%94%9F%E6%88%90%E4%BB%A4%E7%89%8C-Personal-access-tokens-%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4/\">github</a>)</font></strong><br>- password</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ git push</span><br><span class=\"line\">Logon failed, use ctrl+c to cancel basic credential prompt.</span><br><span class=\"line\"><span class=\"attr\">remote</span>: Support <span class=\"keyword\">for</span> password authentication was removed on August <span class=\"number\">13</span>, <span class=\"number\">2021.</span> Please use a personal access token instead.</span><br><span class=\"line\"><span class=\"attr\">remote</span>: Please see https:<span class=\"comment\">//github.blog/2020-12-15-token-authentication-requirements-for-git-operations/ for more information.</span></span><br><span class=\"line\">fatal: Authentication failed <span class=\"keyword\">for</span> <span class=\"string\">&#x27;https://github.com/xxxxxxx.git/&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p>usernamepasswordpush</p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"github\"><a href=\"#github\" class=\"headerlink\" title=\"github?\"></a>github?</h4><p>githubpushGitHub<br>usernamepassword</p>\n<p>(1)git pushGoogle</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git push</span><br></pre></td></tr></table></figure>\n<p>- </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ git push</span><br><span class=\"line\"><span class=\"attr\">fatal</span>: unable to access <span class=\"string\">&#x27;https://github.com/sunjinkang/test_vue3_sql.git/&#x27;</span>: Failed to connect to github.com port <span class=\"number\">443</span>: Timed out</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// --------</span></span><br><span class=\"line\">$ git push</span><br><span class=\"line\"><span class=\"attr\">fatal</span>: unable to access <span class=\"string\">&#x27;https://github.com/sunjinkang/test_vue3_sql.git/&#x27;</span>: OpenSSL SSL_read: Connection was aborted, errno <span class=\"number\">10053</span></span><br></pre></td></tr></table></figure>\n<p>(2)GitHub<br><img src alt=\"github_login\"><br> <strong>usernamegithubpasswordGitHub</strong><br>- GitHub</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Logon failed, use ctrl+c to cancel basic credential prompt.</span><br><span class=\"line\"><span class=\"attr\">remote</span>: Support <span class=\"keyword\">for</span> password authentication was removed on August <span class=\"number\">13</span>, <span class=\"number\">2021.</span> Please use a personal access token instead.</span><br></pre></td></tr></table></figure>\n<p>(3)<br>![login_insert]<br>usernamepassword<strong>usernameGitHub<font color=\"Red\">passwordGitHub(Personal access tokens)(token<a href=\"/2022/06/30/github%E7%94%9F%E6%88%90%E4%BB%A4%E7%89%8C-Personal-access-tokens-%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4/\">github</a>)</font></strong><br>- password</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ git push</span><br><span class=\"line\">Logon failed, use ctrl+c to cancel basic credential prompt.</span><br><span class=\"line\"><span class=\"attr\">remote</span>: Support <span class=\"keyword\">for</span> password authentication was removed on August <span class=\"number\">13</span>, <span class=\"number\">2021.</span> Please use a personal access token instead.</span><br><span class=\"line\"><span class=\"attr\">remote</span>: Please see https:<span class=\"comment\">//github.blog/2020-12-15-token-authentication-requirements-for-git-operations/ for more information.</span></span><br><span class=\"line\">fatal: Authentication failed <span class=\"keyword\">for</span> <span class=\"string\">&#x27;https://github.com/xxxxxxx.git/&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p>usernamepasswordpush</p>\n"},{"title":"Hello World","_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n\n### deploy\n(1)hexoError: Spawn failed\n.deploy_git -> _config.ymldeployrepositorySSH -> hexo cleanhexo generatehexo deploy\n","source":"_posts/1-hello-world.md","raw":"---\ntitle: Hello World\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n\n### deploy\n(1)hexoError: Spawn failed\n.deploy_git -> _config.ymldeployrepositorySSH -> hexo cleanhexo generatehexo deploy\n","slug":"1-hello-world","published":1,"date":"2022-01-05T09:20:43.363Z","updated":"2022-06-23T01:58:33.679Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gwi0005cktt5d7ld2xe","content":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n<h3 id=\"deploy\"><a href=\"#deploy\" class=\"headerlink\" title=\"deploy\"></a>deploy</h3><p>(1)hexoError: Spawn failed<br>.deploy_git -&gt; _config.ymldeployrepositorySSH -&gt; hexo cleanhexo generatehexo deploy</p>\n","site":{"data":{}},"excerpt":"","more":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n<h3 id=\"deploy\"><a href=\"#deploy\" class=\"headerlink\" title=\"deploy\"></a>deploy</h3><p>(1)hexoError: Spawn failed<br>.deploy_git -&gt; _config.ymldeployrepositorySSH -&gt; hexo cleanhexo generatehexo deploy</p>\n"},{"title":"meta","date":"2022-06-28T14:16:30.000Z","_content":"\n#### meta\n\n###### <meta>\nmetaHTMLhead[MDN](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/meta)\n>HTML <meta>  HTML meta-related(\\<base\\>,\\<link\\>,\\<script\\>,\\<style\\>  \\<title\\>\n\n###### meta\n(1)namemeta\n-- namecontentnamecontent\n---- name=\"author\"\n```\n<mate name=\"author\" content=\"xxx@mail.com\">\n```\n\n---- name=\"description\"\n```javascript\n//meta\n<meta name=\"description\" content=\" - / ()\">\n```\n\n---- name=\"keywords\"\n```javascript\n//meta\n<meta name=\"keyword\" content=\",,,C2C,,,,,,,,,,,,,,,,,,,,,,,,\">\n```\n\n---- name=\"viewport\"viewport\n```javascript\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n```\nwidthviewportdevice-width\ninitial-scaleviewport\nmaximum-scale\nminimum-scale\nuser-scalable\nminimal-ui\n\n---- name=\"robots\"\ncontent\nall\nnone\nindex\nfollow\n\n---- name=\"renderer\"360360\n```javascript\n<meta name=\"renderer\" content=\"webkit\"> //webkit\n<meta name=\"renderer\" content=\"ie-comp\"> //IE\n<meta name=\"renderer\" content=\"ie-stand\"> //IE\n```\ncontent\n\n\n---- name=\"spm-id\"\n```javascript\n// \n<meta name=\"spm-id\" content=\"a21bo\">\n```\n---- name=\"aplus-xplug\"\n```javascript\n// \n<meta name=\"aplus-xplug\" content=\"NONE\">\n```\n\n\n(2)http-equivmetahttp\n-- http-equivcontenthttp-equivcontent\n-- http-equivhttp\n---- http-equiv=\"X-UA-Compatible\"\n```javascript\n// \n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=10,chrome=1\">//IE\n```\nIE=10\nchrome=1IEGoogle Chrome Framechrome\nchromechrome\nIE8-IE11\nhttpmetametaWebHTTP\n\n---- http-equiv=\"content-type\"\n```javascript\n<meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8\">\n```\n\n---- http-equiv=\"x-dns-prefetch-control\"\nHTMLaDNShttpsa\n```javascript\n<meta http-equiv=\"x-dns-prefetch-control\" content=\"on\">\n```\n\n---- cache-controlPragmaExpireshttp headers  \n\n(3)charsetmeta\n(4)itempropmeta","source":"_posts/10-about-meta.md","raw":"---\ntitle: meta\ndate: 2022-06-28 22:16:30\ntags:\n---\n\n#### meta\n\n###### <meta>\nmetaHTMLhead[MDN](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/meta)\n>HTML <meta>  HTML meta-related(\\<base\\>,\\<link\\>,\\<script\\>,\\<style\\>  \\<title\\>\n\n###### meta\n(1)namemeta\n-- namecontentnamecontent\n---- name=\"author\"\n```\n<mate name=\"author\" content=\"xxx@mail.com\">\n```\n\n---- name=\"description\"\n```javascript\n//meta\n<meta name=\"description\" content=\" - / ()\">\n```\n\n---- name=\"keywords\"\n```javascript\n//meta\n<meta name=\"keyword\" content=\",,,C2C,,,,,,,,,,,,,,,,,,,,,,,,\">\n```\n\n---- name=\"viewport\"viewport\n```javascript\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n```\nwidthviewportdevice-width\ninitial-scaleviewport\nmaximum-scale\nminimum-scale\nuser-scalable\nminimal-ui\n\n---- name=\"robots\"\ncontent\nall\nnone\nindex\nfollow\n\n---- name=\"renderer\"360360\n```javascript\n<meta name=\"renderer\" content=\"webkit\"> //webkit\n<meta name=\"renderer\" content=\"ie-comp\"> //IE\n<meta name=\"renderer\" content=\"ie-stand\"> //IE\n```\ncontent\n\n\n---- name=\"spm-id\"\n```javascript\n// \n<meta name=\"spm-id\" content=\"a21bo\">\n```\n---- name=\"aplus-xplug\"\n```javascript\n// \n<meta name=\"aplus-xplug\" content=\"NONE\">\n```\n\n\n(2)http-equivmetahttp\n-- http-equivcontenthttp-equivcontent\n-- http-equivhttp\n---- http-equiv=\"X-UA-Compatible\"\n```javascript\n// \n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=10,chrome=1\">//IE\n```\nIE=10\nchrome=1IEGoogle Chrome Framechrome\nchromechrome\nIE8-IE11\nhttpmetametaWebHTTP\n\n---- http-equiv=\"content-type\"\n```javascript\n<meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8\">\n```\n\n---- http-equiv=\"x-dns-prefetch-control\"\nHTMLaDNShttpsa\n```javascript\n<meta http-equiv=\"x-dns-prefetch-control\" content=\"on\">\n```\n\n---- cache-controlPragmaExpireshttp headers  \n\n(3)charsetmeta\n(4)itempropmeta","slug":"10-about-meta","published":1,"updated":"2022-07-21T07:48:28.630Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gwj0007cktt32b69q0u","content":"<h4 id=\"meta\"><a href=\"#meta\" class=\"headerlink\" title=\"meta\"></a>meta</h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><meta></h6><p>metaHTMLhead<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/meta\">MDN</a></p>\n<blockquote>\n<p>HTML <meta>  HTML meta-related(&lt;base&gt;,&lt;link&gt;,&lt;script&gt;,&lt;style&gt;  &lt;title&gt;</p>\n</blockquote>\n<h6 id=\"meta\"><a href=\"#meta\" class=\"headerlink\" title=\"meta\"></a>meta</h6><p>(1)namemeta<br> namecontentnamecontent<br>- name=author</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;mate name=&quot;author&quot; content=&quot;xxx@mail.com&quot;&gt;</span><br></pre></td></tr></table></figure>\n\n<p>- name=description</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//meta</span></span><br><span class=\"line\">&lt;meta name=<span class=\"string\">&quot;description&quot;</span> content=<span class=\"string\">&quot; - / ()&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n\n<p>- name=keywords</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//meta</span></span><br><span class=\"line\">&lt;meta name=<span class=\"string\">&quot;keyword&quot;</span> content=<span class=\"string\">&quot;,,,C2C,,,,,,,,,,,,,,,,,,,,,,,,&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n\n<p>- name=viewportviewport</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;meta name=<span class=\"string\">&quot;viewport&quot;</span> content=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n<p>widthviewportdevice-width<br>initial-scaleviewport<br>maximum-scale<br>minimum-scale<br>user-scalable<br>minimal-ui</p>\n<p>- name=robots<br>content<br>all<br>none<br>index<br>follow</p>\n<p>- name=renderer360360</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;meta name=<span class=\"string\">&quot;renderer&quot;</span> content=<span class=\"string\">&quot;webkit&quot;</span>&gt; <span class=\"comment\">//webkit</span></span><br><span class=\"line\">&lt;meta name=&quot;renderer&quot; content=&quot;ie-comp&quot;&gt; //IE</span><br><span class=\"line\">&lt;meta name=&quot;renderer&quot; content=&quot;ie-stand&quot;&gt; //IE</span><br></pre></td></tr></table></figure>\n<p>content<br></p>\n<p>- name=spm-id</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">&lt;meta name=<span class=\"string\">&quot;spm-id&quot;</span> content=<span class=\"string\">&quot;a21bo&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n<p>- name=aplus-xplug</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">&lt;meta name=<span class=\"string\">&quot;aplus-xplug&quot;</span> content=<span class=\"string\">&quot;NONE&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n\n\n<p>(2)http-equivmetahttp<br> http-equivcontenthttp-equivcontent<br> http-equivhttp<br>- http-equiv=X-UA-Compatible</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">&lt;meta http-equiv=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> content=<span class=\"string\">&quot;IE=10,chrome=1&quot;</span>&gt;<span class=\"comment\">//IE</span></span><br></pre></td></tr></table></figure>\n<p>IE=10<br>chrome=1IEGoogle Chrome Framechrome<br>chromechrome<br>IE8-IE11<br>httpmetametaWebHTTP</p>\n<p>- http-equiv=content-type</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;meta http-equiv=<span class=\"string\">&quot;content-type&quot;</span> content=<span class=\"string\">&quot;text/html;charset=utf-8&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n\n<p>- http-equiv=x-dns-prefetch-control<br>HTMLaDNShttpsa</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;meta http-equiv=<span class=\"string\">&quot;x-dns-prefetch-control&quot;</span> content=<span class=\"string\">&quot;on&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n\n<p>- cache-controlPragmaExpireshttp headers  </p>\n<p>(3)charsetmeta<br>(4)itempropmeta</p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"meta\"><a href=\"#meta\" class=\"headerlink\" title=\"meta\"></a>meta</h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><meta></h6><p>metaHTMLhead<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/meta\">MDN</a></p>\n<blockquote>\n<p>HTML <meta>  HTML meta-related(&lt;base&gt;,&lt;link&gt;,&lt;script&gt;,&lt;style&gt;  &lt;title&gt;</p>\n</blockquote>\n<h6 id=\"meta\"><a href=\"#meta\" class=\"headerlink\" title=\"meta\"></a>meta</h6><p>(1)namemeta<br> namecontentnamecontent<br>- name=author</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;mate name=&quot;author&quot; content=&quot;xxx@mail.com&quot;&gt;</span><br></pre></td></tr></table></figure>\n\n<p>- name=description</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//meta</span></span><br><span class=\"line\">&lt;meta name=<span class=\"string\">&quot;description&quot;</span> content=<span class=\"string\">&quot; - / ()&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n\n<p>- name=keywords</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//meta</span></span><br><span class=\"line\">&lt;meta name=<span class=\"string\">&quot;keyword&quot;</span> content=<span class=\"string\">&quot;,,,C2C,,,,,,,,,,,,,,,,,,,,,,,,&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n\n<p>- name=viewportviewport</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;meta name=<span class=\"string\">&quot;viewport&quot;</span> content=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n<p>widthviewportdevice-width<br>initial-scaleviewport<br>maximum-scale<br>minimum-scale<br>user-scalable<br>minimal-ui</p>\n<p>- name=robots<br>content<br>all<br>none<br>index<br>follow</p>\n<p>- name=renderer360360</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;meta name=<span class=\"string\">&quot;renderer&quot;</span> content=<span class=\"string\">&quot;webkit&quot;</span>&gt; <span class=\"comment\">//webkit</span></span><br><span class=\"line\">&lt;meta name=&quot;renderer&quot; content=&quot;ie-comp&quot;&gt; //IE</span><br><span class=\"line\">&lt;meta name=&quot;renderer&quot; content=&quot;ie-stand&quot;&gt; //IE</span><br></pre></td></tr></table></figure>\n<p>content<br></p>\n<p>- name=spm-id</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">&lt;meta name=<span class=\"string\">&quot;spm-id&quot;</span> content=<span class=\"string\">&quot;a21bo&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n<p>- name=aplus-xplug</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">&lt;meta name=<span class=\"string\">&quot;aplus-xplug&quot;</span> content=<span class=\"string\">&quot;NONE&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n\n\n<p>(2)http-equivmetahttp<br> http-equivcontenthttp-equivcontent<br> http-equivhttp<br>- http-equiv=X-UA-Compatible</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">&lt;meta http-equiv=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> content=<span class=\"string\">&quot;IE=10,chrome=1&quot;</span>&gt;<span class=\"comment\">//IE</span></span><br></pre></td></tr></table></figure>\n<p>IE=10<br>chrome=1IEGoogle Chrome Framechrome<br>chromechrome<br>IE8-IE11<br>httpmetametaWebHTTP</p>\n<p>- http-equiv=content-type</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;meta http-equiv=<span class=\"string\">&quot;content-type&quot;</span> content=<span class=\"string\">&quot;text/html;charset=utf-8&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n\n<p>- http-equiv=x-dns-prefetch-control<br>HTMLaDNShttpsa</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;meta http-equiv=<span class=\"string\">&quot;x-dns-prefetch-control&quot;</span> content=<span class=\"string\">&quot;on&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n\n<p>- cache-controlPragmaExpireshttp headers  </p>\n<p>(3)charsetmeta<br>(4)itempropmeta</p>\n"},{"title":"-","date":"2022-07-12T02:37:56.000Z","_content":"\n#### (Progressive Enhancement)()\n\n\n#### (Graceful Degradation)()\n CSS3  hack \n\n\n\n\n#### \n\n\n\n IEMozilla  (poor, but passable) \n\n\n```javascript\n.transition { /**/\n  -webkit-transition: all .5s;\n     -moz-transition: all .5s;\n       -o-transition: all .5s;\n          transition: all .5s;\n}\n.transition { /**/\n          transition: all .5s;\n       -o-transition: all .5s;\n     -moz-transition: all .5s;\n  -webkit-transition: all .5s;\n}\n```\nCSS3-webkit-* / -moz-* / -o-*CSS3\n\n1CSS3CSS3\n2CSS3CSS3\n3CSS3CSS3\n4CSS3CSS3.\n\n3CSS3CSS3CSS3CSS33CSS3CSS3CSS3CSS3\n","source":"_posts/14-about-fe-theory.md","raw":"---\ntitle: -\ndate: 2022-07-12 10:37:56\ntags:\n---\n\n#### (Progressive Enhancement)()\n\n\n#### (Graceful Degradation)()\n CSS3  hack \n\n\n\n\n#### \n\n\n\n IEMozilla  (poor, but passable) \n\n\n```javascript\n.transition { /**/\n  -webkit-transition: all .5s;\n     -moz-transition: all .5s;\n       -o-transition: all .5s;\n          transition: all .5s;\n}\n.transition { /**/\n          transition: all .5s;\n       -o-transition: all .5s;\n     -moz-transition: all .5s;\n  -webkit-transition: all .5s;\n}\n```\nCSS3-webkit-* / -moz-* / -o-*CSS3\n\n1CSS3CSS3\n2CSS3CSS3\n3CSS3CSS3\n4CSS3CSS3.\n\n3CSS3CSS3CSS3CSS33CSS3CSS3CSS3CSS3\n","slug":"14-about-fe-theory","published":1,"updated":"2022-07-18T05:47:25.279Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gwk0009cktt08pugcq1","content":"<h4 id=\"-Progressive-Enhancement-\"><a href=\"#-Progressive-Enhancement-\" class=\"headerlink\" title=\"(Progressive Enhancement)()\"></a>(Progressive Enhancement)()</h4><p></p>\n<h4 id=\"-Graceful-Degradation-\"><a href=\"#-Graceful-Degradation-\" class=\"headerlink\" title=\"(Graceful Degradation)()\"></a>(Graceful Degradation)()</h4><p> CSS3  hack </p>\n<p><br></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br></p>\n<p> IEMozilla  (poor, but passable) </p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.transition &#123; <span class=\"comment\">/**/</span></span><br><span class=\"line\">  -webkit-transition: all .5s;</span><br><span class=\"line\">     -moz-transition: all .5s;</span><br><span class=\"line\">       -o-transition: all .5s;</span><br><span class=\"line\">          transition: all .5s;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.transition &#123; <span class=\"comment\">/**/</span></span><br><span class=\"line\">          <span class=\"attr\">transition</span>: all .5s;</span><br><span class=\"line\">       -o-transition: all .5s;</span><br><span class=\"line\">     -moz-transition: all .5s;</span><br><span class=\"line\">  -webkit-transition: all .5s;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>CSS3-webkit-* / -moz-* / -o-*CSS3</p>\n<p>1CSS3CSS3<br>2CSS3CSS3<br>3CSS3CSS3<br>4CSS3CSS3.</p>\n<p>3CSS3CSS3CSS3CSS33CSS3CSS3CSS3CSS3</p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"-Progressive-Enhancement-\"><a href=\"#-Progressive-Enhancement-\" class=\"headerlink\" title=\"(Progressive Enhancement)()\"></a>(Progressive Enhancement)()</h4><p></p>\n<h4 id=\"-Graceful-Degradation-\"><a href=\"#-Graceful-Degradation-\" class=\"headerlink\" title=\"(Graceful Degradation)()\"></a>(Graceful Degradation)()</h4><p> CSS3  hack </p>\n<p><br></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br></p>\n<p> IEMozilla  (poor, but passable) </p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.transition &#123; <span class=\"comment\">/**/</span></span><br><span class=\"line\">  -webkit-transition: all .5s;</span><br><span class=\"line\">     -moz-transition: all .5s;</span><br><span class=\"line\">       -o-transition: all .5s;</span><br><span class=\"line\">          transition: all .5s;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.transition &#123; <span class=\"comment\">/**/</span></span><br><span class=\"line\">          <span class=\"attr\">transition</span>: all .5s;</span><br><span class=\"line\">       -o-transition: all .5s;</span><br><span class=\"line\">     -moz-transition: all .5s;</span><br><span class=\"line\">  -webkit-transition: all .5s;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>CSS3-webkit-* / -moz-* / -o-*CSS3</p>\n<p>1CSS3CSS3<br>2CSS3CSS3<br>3CSS3CSS3<br>4CSS3CSS3.</p>\n<p>3CSS3CSS3CSS3CSS33CSS3CSS3CSS3CSS3</p>\n"},{"title":"","date":"2022-07-05T08:17:32.000Z","_content":"\n#### code spell checker\n[](https://streetsidesoftware.com/vscode-spell-checker/docs/configuration/#code-spell-checker)\n\n#### chrome\n[chrome status](https://chromestatus.com/features)\n\n#### == === if()\n[](https://dorey.github.io/JavaScript-Equality-Table/)\n\n#### css\n[](https://developer.mozilla.org/zh-CN/docs/Web/CSS/Cascade)\n\n#### Recoil\n[](https://recoiljs.org/)\n\n#### React\n[](https://reactjs.org/)\n\n#### vue\n[](https://vuejs.org/)\n\n#### VueUse--vuehooks\n[](https://vueuse.org/)\n\n#### HTML\n[](https://html.spec.whatwg.org/)\n\n#### testing-library/react\n[](https://testing-library.com/)\n\n#### nodejs\n[-](https://nodejs.org/dist/latest-v16.x/docs/api/documentation.html)\n[](https://www.nodeapp.cn/assert.html)\n\n#### ahooks\n[](https://ahooks.js.org/)","source":"_posts/13-document-location.md","raw":"---\ntitle: \ndate: 2022-07-05 16:17:32\ntags:\n---\n\n#### code spell checker\n[](https://streetsidesoftware.com/vscode-spell-checker/docs/configuration/#code-spell-checker)\n\n#### chrome\n[chrome status](https://chromestatus.com/features)\n\n#### == === if()\n[](https://dorey.github.io/JavaScript-Equality-Table/)\n\n#### css\n[](https://developer.mozilla.org/zh-CN/docs/Web/CSS/Cascade)\n\n#### Recoil\n[](https://recoiljs.org/)\n\n#### React\n[](https://reactjs.org/)\n\n#### vue\n[](https://vuejs.org/)\n\n#### VueUse--vuehooks\n[](https://vueuse.org/)\n\n#### HTML\n[](https://html.spec.whatwg.org/)\n\n#### testing-library/react\n[](https://testing-library.com/)\n\n#### nodejs\n[-](https://nodejs.org/dist/latest-v16.x/docs/api/documentation.html)\n[](https://www.nodeapp.cn/assert.html)\n\n#### ahooks\n[](https://ahooks.js.org/)","slug":"13-document-location","published":1,"updated":"2022-10-25T07:04:14.558Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gwl000bcktt6dd4dyly","content":"<h4 id=\"code-spell-checker\"><a href=\"#code-spell-checker\" class=\"headerlink\" title=\"code spell checker\"></a>code spell checker</h4><p><a href=\"https://streetsidesoftware.com/vscode-spell-checker/docs/configuration/#code-spell-checker\"></a></p>\n<h4 id=\"chrome\"><a href=\"#chrome\" class=\"headerlink\" title=\"chrome\"></a>chrome</h4><p><a href=\"https://chromestatus.com/features\">chrome status</a></p>\n<h4 id=\"--if-\"><a href=\"#--if-\" class=\"headerlink\" title=\"== === if()\"></a>== === if()</h4><p><a href=\"https://dorey.github.io/JavaScript-Equality-Table/\"></a></p>\n<h4 id=\"css\"><a href=\"#css\" class=\"headerlink\" title=\"css\"></a>css</h4><p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/Cascade\"></a></p>\n<h4 id=\"Recoil\"><a href=\"#Recoil\" class=\"headerlink\" title=\"Recoil\"></a>Recoil</h4><p><a href=\"https://recoiljs.org/\"></a></p>\n<h4 id=\"React\"><a href=\"#React\" class=\"headerlink\" title=\"React\"></a>React</h4><p><a href=\"https://reactjs.org/\"></a></p>\n<h4 id=\"vue\"><a href=\"#vue\" class=\"headerlink\" title=\"vue\"></a>vue</h4><p><a href=\"https://vuejs.org/\"></a></p>\n<h4 id=\"VueUsevuehooks\"><a href=\"#VueUsevuehooks\" class=\"headerlink\" title=\"VueUsevuehooks\"></a>VueUsevuehooks</h4><p><a href=\"https://vueuse.org/\"></a></p>\n<h4 id=\"HTML\"><a href=\"#HTML\" class=\"headerlink\" title=\"HTML\"></a>HTML</h4><p><a href=\"https://html.spec.whatwg.org/\"></a></p>\n<h4 id=\"testing-library-react\"><a href=\"#testing-library-react\" class=\"headerlink\" title=\"testing-library/react\"></a>testing-library/react</h4><p><a href=\"https://testing-library.com/\"></a></p>\n<h4 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h4><p><a href=\"https://nodejs.org/dist/latest-v16.x/docs/api/documentation.html\">-</a><br><a href=\"https://www.nodeapp.cn/assert.html\"></a></p>\n<h4 id=\"ahooks\"><a href=\"#ahooks\" class=\"headerlink\" title=\"ahooks\"></a>ahooks</h4><p><a href=\"https://ahooks.js.org/\"></a></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"code-spell-checker\"><a href=\"#code-spell-checker\" class=\"headerlink\" title=\"code spell checker\"></a>code spell checker</h4><p><a href=\"https://streetsidesoftware.com/vscode-spell-checker/docs/configuration/#code-spell-checker\"></a></p>\n<h4 id=\"chrome\"><a href=\"#chrome\" class=\"headerlink\" title=\"chrome\"></a>chrome</h4><p><a href=\"https://chromestatus.com/features\">chrome status</a></p>\n<h4 id=\"--if-\"><a href=\"#--if-\" class=\"headerlink\" title=\"== === if()\"></a>== === if()</h4><p><a href=\"https://dorey.github.io/JavaScript-Equality-Table/\"></a></p>\n<h4 id=\"css\"><a href=\"#css\" class=\"headerlink\" title=\"css\"></a>css</h4><p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/Cascade\"></a></p>\n<h4 id=\"Recoil\"><a href=\"#Recoil\" class=\"headerlink\" title=\"Recoil\"></a>Recoil</h4><p><a href=\"https://recoiljs.org/\"></a></p>\n<h4 id=\"React\"><a href=\"#React\" class=\"headerlink\" title=\"React\"></a>React</h4><p><a href=\"https://reactjs.org/\"></a></p>\n<h4 id=\"vue\"><a href=\"#vue\" class=\"headerlink\" title=\"vue\"></a>vue</h4><p><a href=\"https://vuejs.org/\"></a></p>\n<h4 id=\"VueUsevuehooks\"><a href=\"#VueUsevuehooks\" class=\"headerlink\" title=\"VueUsevuehooks\"></a>VueUsevuehooks</h4><p><a href=\"https://vueuse.org/\"></a></p>\n<h4 id=\"HTML\"><a href=\"#HTML\" class=\"headerlink\" title=\"HTML\"></a>HTML</h4><p><a href=\"https://html.spec.whatwg.org/\"></a></p>\n<h4 id=\"testing-library-react\"><a href=\"#testing-library-react\" class=\"headerlink\" title=\"testing-library/react\"></a>testing-library/react</h4><p><a href=\"https://testing-library.com/\"></a></p>\n<h4 id=\"nodejs\"><a href=\"#nodejs\" class=\"headerlink\" title=\"nodejs\"></a>nodejs</h4><p><a href=\"https://nodejs.org/dist/latest-v16.x/docs/api/documentation.html\">-</a><br><a href=\"https://www.nodeapp.cn/assert.html\"></a></p>\n<h4 id=\"ahooks\"><a href=\"#ahooks\" class=\"headerlink\" title=\"ahooks\"></a>ahooks</h4><p><a href=\"https://ahooks.js.org/\"></a></p>\n"},{"title":"js-","date":"2022-07-19T08:23:28.000Z","_content":"","source":"_posts/16-origin-type-and-reference-type.md","raw":"---\ntitle: js-\ndate: 2022-07-19 16:23:28\ntags:\n---\n","slug":"16-origin-type-and-reference-type","published":1,"updated":"2022-08-10T03:14:27.201Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gwm000dcktt2f5i0jp0","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"js-","date":"2022-07-19T07:59:15.000Z","_content":"\n ==  === \n== \n1==true'1'==truetrue\n===false\n1===true'1'===truefalse\n\n#### \n\n1\n**Number(-*/)NumberNumber**\n```javascript\n1 - true // 0, true1 1 - 1\n1 - false // 1, true0 1 - 0\n1 - null // 1, true0 1 - 0\n1 - undefined // NaN, undefined NaN\n2 * ['5'] // 10, ['5']'5',5\n```\n{% btn /2022/08/09/devan-operation/, , %}\n\n2\n**js**\n* String\n* NumberNumber\n* NumberNumber\n****\n\n```javascript\n123 + '123' // '123123' (1)\n123 + null //  123 (2)\n123 + true //  124 (2)\n123 + {}   //  '123[object Object]' (3)\n```\n\n#### \n1\nBoolean\n**nullundefined''NaN0falsebooleanfalsetrue{}[]**\n\n2 == 5\n** ===**\n* 1NaNfalse()\n```javascript\nNaN == NaN // false\n```\n* 2booleanBooleanNumber\n```javascript\ntrue == 1 // true\ntrue == '2' // false,true1'2'true\ntrue == ['1'] // true, true1['1']'1',3\ntrue == ['2'] // false, \nundefined == false // false, false04\nnull == false // false, \n```\n* StringNumberStringNumber\n```javascript\n123 == '123' // true, '123'123\n'' == 0 // true'' 0\n```\n* null == undefined truenullundefinedfalse\n```javascript\nnull == undefined  // true\nnull == '' // false\nnull == 0 // false\nnull == false // false\nundefined == '' // false\nundefined == 0 // false\nundefined == false // false\n```\n* ToPrimitive\n**ToPrimitive valueOf toStringTypeError**\n```javascript\n'[object Object]' == {} // true, toString \n'1,2,3' == [1,2,3] // true, [1,2,3]toString\n```\n\n#### \n![](convert-table.png)\n\n#### \nhttps://dorey.github.io/JavaScript-Equality-Table/\n\n{% btn /,, home %}","source":"_posts/15-js-transform.md","raw":"---\ntitle: js-\ndate: 2022-07-19 15:59:15\ntags:\n---\n\n ==  === \n== \n1==true'1'==truetrue\n===false\n1===true'1'===truefalse\n\n#### \n\n1\n**Number(-*/)NumberNumber**\n```javascript\n1 - true // 0, true1 1 - 1\n1 - false // 1, true0 1 - 0\n1 - null // 1, true0 1 - 0\n1 - undefined // NaN, undefined NaN\n2 * ['5'] // 10, ['5']'5',5\n```\n{% btn /2022/08/09/devan-operation/, , %}\n\n2\n**js**\n* String\n* NumberNumber\n* NumberNumber\n****\n\n```javascript\n123 + '123' // '123123' (1)\n123 + null //  123 (2)\n123 + true //  124 (2)\n123 + {}   //  '123[object Object]' (3)\n```\n\n#### \n1\nBoolean\n**nullundefined''NaN0falsebooleanfalsetrue{}[]**\n\n2 == 5\n** ===**\n* 1NaNfalse()\n```javascript\nNaN == NaN // false\n```\n* 2booleanBooleanNumber\n```javascript\ntrue == 1 // true\ntrue == '2' // false,true1'2'true\ntrue == ['1'] // true, true1['1']'1',3\ntrue == ['2'] // false, \nundefined == false // false, false04\nnull == false // false, \n```\n* StringNumberStringNumber\n```javascript\n123 == '123' // true, '123'123\n'' == 0 // true'' 0\n```\n* null == undefined truenullundefinedfalse\n```javascript\nnull == undefined  // true\nnull == '' // false\nnull == 0 // false\nnull == false // false\nundefined == '' // false\nundefined == 0 // false\nundefined == false // false\n```\n* ToPrimitive\n**ToPrimitive valueOf toStringTypeError**\n```javascript\n'[object Object]' == {} // true, toString \n'1,2,3' == [1,2,3] // true, [1,2,3]toString\n```\n\n#### \n![](convert-table.png)\n\n#### \nhttps://dorey.github.io/JavaScript-Equality-Table/\n\n{% btn /,, home %}","slug":"15-js-transform","published":1,"updated":"2022-08-10T03:11:17.050Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gwn000fckttde89euf3","content":"<p> ==  === <br>== <br>1==true1==truetrue<br>===false<br>1===true1===truefalse</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1<br><strong>Number(-*/)NumberNumber</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1</span> - <span class=\"literal\">true</span> <span class=\"comment\">// 0, true1 1 - 1</span></span><br><span class=\"line\"><span class=\"number\">1</span> - <span class=\"literal\">false</span> <span class=\"comment\">// 1, true0 1 - 0</span></span><br><span class=\"line\"><span class=\"number\">1</span> - <span class=\"literal\">null</span> <span class=\"comment\">// 1, true0 1 - 0</span></span><br><span class=\"line\"><span class=\"number\">1</span> - <span class=\"literal\">undefined</span> <span class=\"comment\">// NaN, undefined NaN</span></span><br><span class=\"line\"><span class=\"number\">2</span> * [<span class=\"string\">&#x27;5&#x27;</span>] <span class=\"comment\">// 10, [&#x27;5&#x27;]&#x27;5&#x27;,5</span></span><br></pre></td></tr></table></figure>\n<a class=\"btn\" href=\"/2022/08/09/devan-operation/\"></a>\n\n<p>2<br><strong>js</strong></p>\n<ul>\n<li>String</li>\n<li>NumberNumber</li>\n<li>NumberNumber</li>\n<li><em></em>*</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">123</span> + <span class=\"string\">&#x27;123&#x27;</span> <span class=\"comment\">// &#x27;123123&#x27; (1)</span></span><br><span class=\"line\"><span class=\"number\">123</span> + <span class=\"literal\">null</span> <span class=\"comment\">//  123 (2)</span></span><br><span class=\"line\"><span class=\"number\">123</span> + <span class=\"literal\">true</span> <span class=\"comment\">//  124 (2)</span></span><br><span class=\"line\"><span class=\"number\">123</span> + &#123;&#125;   <span class=\"comment\">//  &#x27;123[object Object]&#x27; (3)</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1<br>Boolean<br><strong>nullundefinedNaN0falsebooleanfalsetrue{}[]</strong></p>\n<p>2 == 5<br><strong> ===</strong></p>\n<ul>\n<li>1NaNfalse()<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"literal\">NaN</span> == <span class=\"literal\">NaN</span> <span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure></li>\n<li>2booleanBooleanNumber<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"literal\">true</span> == <span class=\"number\">1</span> <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"literal\">true</span> == <span class=\"string\">&#x27;2&#x27;</span> <span class=\"comment\">// false,true1&#x27;2&#x27;true</span></span><br><span class=\"line\"><span class=\"literal\">true</span> == [<span class=\"string\">&#x27;1&#x27;</span>] <span class=\"comment\">// true, true1[&#x27;1&#x27;]&#x27;1&#x27;,3</span></span><br><span class=\"line\"><span class=\"literal\">true</span> == [<span class=\"string\">&#x27;2&#x27;</span>] <span class=\"comment\">// false, </span></span><br><span class=\"line\"><span class=\"literal\">undefined</span> == <span class=\"literal\">false</span> <span class=\"comment\">// false, false04</span></span><br><span class=\"line\"><span class=\"literal\">null</span> == <span class=\"literal\">false</span> <span class=\"comment\">// false, </span></span><br></pre></td></tr></table></figure></li>\n<li>StringNumberStringNumber<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">123</span> == <span class=\"string\">&#x27;123&#x27;</span> <span class=\"comment\">// true, &#x27;123&#x27;123</span></span><br><span class=\"line\"><span class=\"string\">&#x27;&#x27;</span> == <span class=\"number\">0</span> <span class=\"comment\">// true&#x27;&#x27; 0</span></span><br></pre></td></tr></table></figure></li>\n<li>null == undefined truenullundefinedfalse<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"literal\">null</span> == <span class=\"literal\">undefined</span>  <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"literal\">null</span> == <span class=\"string\">&#x27;&#x27;</span> <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"literal\">null</span> == <span class=\"number\">0</span> <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"literal\">null</span> == <span class=\"literal\">false</span> <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"literal\">undefined</span> == <span class=\"string\">&#x27;&#x27;</span> <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"literal\">undefined</span> == <span class=\"number\">0</span> <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"literal\">undefined</span> == <span class=\"literal\">false</span> <span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure></li>\n<li>ToPrimitive</li>\n<li><em>ToPrimitive valueOf toStringTypeError</em>*<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&#x27;[object Object]&#x27;</span> == &#123;&#125; <span class=\"comment\">// true, toString </span></span><br><span class=\"line\"><span class=\"string\">&#x27;1,2,3&#x27;</span> == [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>] <span class=\"comment\">// true, [1,2,3]toString</span></span><br></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><img src=\"/2022/07/19/15-js-transform/convert-table.png\" alt=\"\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"https://dorey.github.io/JavaScript-Equality-Table/\">https://dorey.github.io/JavaScript-Equality-Table/</a></p>\n<a class=\"btn\" href=\"/\"><i class=\"fa fa-home\"></i></a>","site":{"data":{}},"excerpt":"","more":"<p> ==  === <br>== <br>1==true1==truetrue<br>===false<br>1===true1===truefalse</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1<br><strong>Number(-*/)NumberNumber</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1</span> - <span class=\"literal\">true</span> <span class=\"comment\">// 0, true1 1 - 1</span></span><br><span class=\"line\"><span class=\"number\">1</span> - <span class=\"literal\">false</span> <span class=\"comment\">// 1, true0 1 - 0</span></span><br><span class=\"line\"><span class=\"number\">1</span> - <span class=\"literal\">null</span> <span class=\"comment\">// 1, true0 1 - 0</span></span><br><span class=\"line\"><span class=\"number\">1</span> - <span class=\"literal\">undefined</span> <span class=\"comment\">// NaN, undefined NaN</span></span><br><span class=\"line\"><span class=\"number\">2</span> * [<span class=\"string\">&#x27;5&#x27;</span>] <span class=\"comment\">// 10, [&#x27;5&#x27;]&#x27;5&#x27;,5</span></span><br></pre></td></tr></table></figure>\n<a class=\"btn\" href=\"/2022/08/09/devan-operation/\"></a>\n\n<p>2<br><strong>js</strong></p>\n<ul>\n<li>String</li>\n<li>NumberNumber</li>\n<li>NumberNumber</li>\n<li><em></em>*</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">123</span> + <span class=\"string\">&#x27;123&#x27;</span> <span class=\"comment\">// &#x27;123123&#x27; (1)</span></span><br><span class=\"line\"><span class=\"number\">123</span> + <span class=\"literal\">null</span> <span class=\"comment\">//  123 (2)</span></span><br><span class=\"line\"><span class=\"number\">123</span> + <span class=\"literal\">true</span> <span class=\"comment\">//  124 (2)</span></span><br><span class=\"line\"><span class=\"number\">123</span> + &#123;&#125;   <span class=\"comment\">//  &#x27;123[object Object]&#x27; (3)</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1<br>Boolean<br><strong>nullundefinedNaN0falsebooleanfalsetrue{}[]</strong></p>\n<p>2 == 5<br><strong> ===</strong></p>\n<ul>\n<li>1NaNfalse()<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"literal\">NaN</span> == <span class=\"literal\">NaN</span> <span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure></li>\n<li>2booleanBooleanNumber<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"literal\">true</span> == <span class=\"number\">1</span> <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"literal\">true</span> == <span class=\"string\">&#x27;2&#x27;</span> <span class=\"comment\">// false,true1&#x27;2&#x27;true</span></span><br><span class=\"line\"><span class=\"literal\">true</span> == [<span class=\"string\">&#x27;1&#x27;</span>] <span class=\"comment\">// true, true1[&#x27;1&#x27;]&#x27;1&#x27;,3</span></span><br><span class=\"line\"><span class=\"literal\">true</span> == [<span class=\"string\">&#x27;2&#x27;</span>] <span class=\"comment\">// false, </span></span><br><span class=\"line\"><span class=\"literal\">undefined</span> == <span class=\"literal\">false</span> <span class=\"comment\">// false, false04</span></span><br><span class=\"line\"><span class=\"literal\">null</span> == <span class=\"literal\">false</span> <span class=\"comment\">// false, </span></span><br></pre></td></tr></table></figure></li>\n<li>StringNumberStringNumber<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">123</span> == <span class=\"string\">&#x27;123&#x27;</span> <span class=\"comment\">// true, &#x27;123&#x27;123</span></span><br><span class=\"line\"><span class=\"string\">&#x27;&#x27;</span> == <span class=\"number\">0</span> <span class=\"comment\">// true&#x27;&#x27; 0</span></span><br></pre></td></tr></table></figure></li>\n<li>null == undefined truenullundefinedfalse<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"literal\">null</span> == <span class=\"literal\">undefined</span>  <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"literal\">null</span> == <span class=\"string\">&#x27;&#x27;</span> <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"literal\">null</span> == <span class=\"number\">0</span> <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"literal\">null</span> == <span class=\"literal\">false</span> <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"literal\">undefined</span> == <span class=\"string\">&#x27;&#x27;</span> <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"literal\">undefined</span> == <span class=\"number\">0</span> <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"literal\">undefined</span> == <span class=\"literal\">false</span> <span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure></li>\n<li>ToPrimitive</li>\n<li><em>ToPrimitive valueOf toStringTypeError</em>*<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&#x27;[object Object]&#x27;</span> == &#123;&#125; <span class=\"comment\">// true, toString </span></span><br><span class=\"line\"><span class=\"string\">&#x27;1,2,3&#x27;</span> == [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>] <span class=\"comment\">// true, [1,2,3]toString</span></span><br></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><img src=\"/2022/07/19/15-js-transform/convert-table.png\" alt=\"\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"https://dorey.github.io/JavaScript-Equality-Table/\">https://dorey.github.io/JavaScript-Equality-Table/</a></p>\n<a class=\"btn\" href=\"/\"><i class=\"fa fa-home\"></i></a>"},{"title":"javascript DOM","date":"2022-07-31T05:42:45.000Z","_content":"\n#### JavaScript\n1DOM\nDOM\n\n0DOM(DOM Level 0)\nDOM0DOM\n\n1DMO(DOM Level 1)\nNetscapeW3C1998101DOM(DOM Level 1) \n\n2\n2.1 DHTML\nDHTMLDynamic HTML(HTML)DHTMLHTMLCSS.JavaScript:\n(1)HTML;\n(2)CSS;\n(3)JavaScript\n\n#### JavaScript\n\n1while\n```javascript\nwhile (condition){\n  statements;\n}\n```\ndo...while\n```javascript\ndo {\n  statements;\n} while (condition);\n```\n  2for\n```javascript\nfor (initial condition; test condition; alter condition){\n  statements;\n}\n```\n\n\n1\n(global variable)\n(local variable\n\n\nobjectproperty)(method) :\n-\n-\n\n\n1(user-defined object)\n\n\n2(native object)\nJavaScript( native object) \nArrayMathDate\n\n3(host object)\n(host object ) \ndocumentFormImageElement\n\n#### DOM\n1:DOM'D'\ndocument(DOMWebDOM\n\n2:DOM'O'\n\n\n3:DOM'M'\nDOMMModel()Map(DOM)JavaScript\n\n4\n(1)\n(2)\n(3)\n(4)CSS\n(5)\n-getElementById \n-getElementsByTagName *\n```javascript\nvar shopping = document.getElementById(\"purchases\") ;\nvar items = shopping.getElementsByTagName(\"*\") ;\n```\n-getElementsByClassName \n\nclass\n```javascript\nvar shopping = document.getElementById(\"purchases\");\nvar sales = shopping.getElementsByClassName(\"sale\");\n```\n\n5\n(1)getAttribute \n(2)setAttribute \n:setAttributeviewsource(setAttributeDOM:DOM:\n\n#### JavaScript\nDOMAPIDOMWeb1DOM\n1childNodes \n2nodeType 12\n3\n-nodeType1\n-nodeType2\n-nodeType3\n3nodeValue \n4firstChildlastChild\n\n#### \n1\n(graceful degradation)\n2javascript:\nHTTP(http://) FTPftp://)\njavascript:JavaScript\n```javascript\n<a href=\"javascript:popUp('http://www.example.com/');\">Example</a>\n```\n3CSS\n\n\n4javascript\n5\n(1)JavaScript\n(2)\nJavaScriptJavaScript\n\n\n\n6\n(1)DOM\n(2)\n\n/<script/>/</body/>\n(3)\n\n-Douglas CrockfordJSMin (http://www.crockford.com/javascript/jsmin.html)\n-YUI Compressor (http://developer.yahoo.com/yui/compressor)\n-Closure Compiler (http://closure-compiler.appspot.com/home)\n\n#### \n1document.write & innerHTML\n2DOM\n(1)createElement\n(1)appendChild\n(1)createTextNode\n(1)insertBefore\n3Ajax\n(1)XMLHttpRequest\n```javascript\nfunction getHTTPObject () {\n  if (typeof XMLHttpRequest == \"undefined\") xMLHttpRequest =function () {\n    try { return new Activexobject ( \"Msxm12.XMLHTTP.6.0\"); )catch (e) { }\n    try { return new ActivexObject (\"Msxm12.XMLHTTP.3.0\");)catch (e) { }\n    try { return new ActivexObject ( \"Msxm12.XMLHTTP\"); )catch (e) { }\n    return false;\n  }\n  return new XMLHttpRequest ( ) ;\n}\n```\n\nXHTML5\nXMLHTML5WebXHTML5XMLHTMLMIMEapplication/xhtml+xmlMIMEXHTMLHTML\n\n#### CSS-DOM\n1\n(1)\n(structural layer)HTMLXHTML\n(2)\n(presentation layer)CSSCSS\n(3)\n(behavior layer)JavaScriptDOM\n(4)\n-(X)HTML\n-CSS\n-DOM\n2style\nstyle<head>\nstyleHTMLstyle\n3DOM\n(1)\n(2)\n(3)\n4className\n\n#### HTML5\n1canvas\n2videoaudio\n\n\n1\n\n2\n\n3\n\n4\n__proto__es6\n","source":"_posts/17-about-dom.md","raw":"---\ntitle: javascript DOM\ndate: 2022-07-31 13:42:45\ntags:\n---\n\n#### JavaScript\n1DOM\nDOM\n\n0DOM(DOM Level 0)\nDOM0DOM\n\n1DMO(DOM Level 1)\nNetscapeW3C1998101DOM(DOM Level 1) \n\n2\n2.1 DHTML\nDHTMLDynamic HTML(HTML)DHTMLHTMLCSS.JavaScript:\n(1)HTML;\n(2)CSS;\n(3)JavaScript\n\n#### JavaScript\n\n1while\n```javascript\nwhile (condition){\n  statements;\n}\n```\ndo...while\n```javascript\ndo {\n  statements;\n} while (condition);\n```\n  2for\n```javascript\nfor (initial condition; test condition; alter condition){\n  statements;\n}\n```\n\n\n1\n(global variable)\n(local variable\n\n\nobjectproperty)(method) :\n-\n-\n\n\n1(user-defined object)\n\n\n2(native object)\nJavaScript( native object) \nArrayMathDate\n\n3(host object)\n(host object ) \ndocumentFormImageElement\n\n#### DOM\n1:DOM'D'\ndocument(DOMWebDOM\n\n2:DOM'O'\n\n\n3:DOM'M'\nDOMMModel()Map(DOM)JavaScript\n\n4\n(1)\n(2)\n(3)\n(4)CSS\n(5)\n-getElementById \n-getElementsByTagName *\n```javascript\nvar shopping = document.getElementById(\"purchases\") ;\nvar items = shopping.getElementsByTagName(\"*\") ;\n```\n-getElementsByClassName \n\nclass\n```javascript\nvar shopping = document.getElementById(\"purchases\");\nvar sales = shopping.getElementsByClassName(\"sale\");\n```\n\n5\n(1)getAttribute \n(2)setAttribute \n:setAttributeviewsource(setAttributeDOM:DOM:\n\n#### JavaScript\nDOMAPIDOMWeb1DOM\n1childNodes \n2nodeType 12\n3\n-nodeType1\n-nodeType2\n-nodeType3\n3nodeValue \n4firstChildlastChild\n\n#### \n1\n(graceful degradation)\n2javascript:\nHTTP(http://) FTPftp://)\njavascript:JavaScript\n```javascript\n<a href=\"javascript:popUp('http://www.example.com/');\">Example</a>\n```\n3CSS\n\n\n4javascript\n5\n(1)JavaScript\n(2)\nJavaScriptJavaScript\n\n\n\n6\n(1)DOM\n(2)\n\n/<script/>/</body/>\n(3)\n\n-Douglas CrockfordJSMin (http://www.crockford.com/javascript/jsmin.html)\n-YUI Compressor (http://developer.yahoo.com/yui/compressor)\n-Closure Compiler (http://closure-compiler.appspot.com/home)\n\n#### \n1document.write & innerHTML\n2DOM\n(1)createElement\n(1)appendChild\n(1)createTextNode\n(1)insertBefore\n3Ajax\n(1)XMLHttpRequest\n```javascript\nfunction getHTTPObject () {\n  if (typeof XMLHttpRequest == \"undefined\") xMLHttpRequest =function () {\n    try { return new Activexobject ( \"Msxm12.XMLHTTP.6.0\"); )catch (e) { }\n    try { return new ActivexObject (\"Msxm12.XMLHTTP.3.0\");)catch (e) { }\n    try { return new ActivexObject ( \"Msxm12.XMLHTTP\"); )catch (e) { }\n    return false;\n  }\n  return new XMLHttpRequest ( ) ;\n}\n```\n\nXHTML5\nXMLHTML5WebXHTML5XMLHTMLMIMEapplication/xhtml+xmlMIMEXHTMLHTML\n\n#### CSS-DOM\n1\n(1)\n(structural layer)HTMLXHTML\n(2)\n(presentation layer)CSSCSS\n(3)\n(behavior layer)JavaScriptDOM\n(4)\n-(X)HTML\n-CSS\n-DOM\n2style\nstyle<head>\nstyleHTMLstyle\n3DOM\n(1)\n(2)\n(3)\n4className\n\n#### HTML5\n1canvas\n2videoaudio\n\n\n1\n\n2\n\n3\n\n4\n__proto__es6\n","slug":"17-about-dom","published":1,"updated":"2022-08-30T10:54:33.610Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gwo000hckttflhn336g","content":"<h4 id=\"JavaScript\"><a href=\"#JavaScript\" class=\"headerlink\" title=\"JavaScript\"></a>JavaScript</h4><p>1DOM<br>DOM</p>\n<p>0DOM(DOM Level 0)<br>DOM0DOM</p>\n<p>1DMO(DOM Level 1)<br>NetscapeW3C1998101DOM(DOM Level 1) </p>\n<p>2<br>2.1 DHTML<br>DHTMLDynamic HTML(HTML)DHTMLHTMLCSS.JavaScript:<br>(1)HTML;<br>(2)CSS;<br>(3)JavaScript</p>\n<h4 id=\"JavaScript\"><a href=\"#JavaScript\" class=\"headerlink\" title=\"JavaScript\"></a>JavaScript</h4><p><br>1while</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">while</span> (condition)&#123;</span><br><span class=\"line\">  statements;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>dowhile</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">do</span> &#123;</span><br><span class=\"line\">  statements;</span><br><span class=\"line\">&#125; <span class=\"keyword\">while</span> (condition);</span><br></pre></td></tr></table></figure>\n<p>  2for</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (initial condition; test condition; alter condition)&#123;</span><br><span class=\"line\">  statements;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><br>1<br>(global variable)<br>(local variable</p>\n<p><br>objectproperty)(method) :<br>-<br>-<br></p>\n<p>1(user-defined object)<br></p>\n<p>2(native object)<br>JavaScript( native object)<br>ArrayMathDate</p>\n<p>3(host object)<br>(host object )<br>documentFormImageElement</p>\n<h4 id=\"DOM\"><a href=\"#DOM\" class=\"headerlink\" title=\"DOM\"></a>DOM</h4><p>1:DOMD<br>document(DOMWebDOM</p>\n<p>2:DOMO<br></p>\n<p>3:DOMM<br>DOMMModel()Map(DOM)JavaScript</p>\n<p>4<br>(1)<br>(2)<br>(3)<br>(4)CSS<br>(5)<br>-getElementById <br>-getElementsByTagName *</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> shopping = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&quot;purchases&quot;</span>) ;</span><br><span class=\"line\"><span class=\"keyword\">var</span> items = shopping.getElementsByTagName(<span class=\"string\">&quot;*&quot;</span>) ;</span><br></pre></td></tr></table></figure>\n<p>-getElementsByClassName <br><br>class</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> shopping = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&quot;purchases&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> sales = shopping.getElementsByClassName(<span class=\"string\">&quot;sale&quot;</span>);</span><br></pre></td></tr></table></figure>\n\n<p>5<br>(1)getAttribute <br>(2)setAttribute <br>:setAttributeviewsource(setAttributeDOM:DOM:</p>\n<h4 id=\"JavaScript\"><a href=\"#JavaScript\" class=\"headerlink\" title=\"JavaScript\"></a>JavaScript</h4><p>DOMAPIDOMWeb1DOM<br>1childNodes <br>2nodeType 12<br>3<br>-nodeType1<br>-nodeType2<br>-nodeType3<br>3nodeValue <br>4firstChildlastChild</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1<br>(graceful degradation)<br>2javascript:<br>HTTP(http://) FTPftp://)<br>javascript:JavaScript</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;a href=<span class=\"string\">&quot;javascript:popUp(&#x27;http://www.example.com/&#x27;);&quot;</span>&gt;Example&lt;/a&gt;</span><br></pre></td></tr></table></figure>\n<p>3CSS<br><br><br>4javascript<br>5<br>(1)JavaScript<br>(2)<br>JavaScriptJavaScript<br><br><br><br>6<br>(1)DOM<br>(2)<br><br>/<script>/&lt;/body/&gt;<br>(3)<br><br>-Douglas CrockfordJSMin (<a href=\"http://www.crockford.com/javascript/jsmin.html\">http://www.crockford.com/javascript/jsmin.html</a>)<br>-YUI Compressor (<a href=\"http://developer.yahoo.com/yui/compressor\">http://developer.yahoo.com/yui/compressor</a>)<br>-Closure Compiler (<a href=\"http://closure-compiler.appspot.com/home\">http://closure-compiler.appspot.com/home</a>)</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1document.write &amp; innerHTML<br>2DOM<br>(1)createElement<br>(1)appendChild<br>(1)createTextNode<br>(1)insertBefore<br>3Ajax<br>(1)XMLHttpRequest</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getHTTPObject</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> XMLHttpRequest == <span class=\"string\">&quot;undefined&quot;</span>) xMLHttpRequest =<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123; <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Activexobject ( <span class=\"string\">&quot;Msxm12.XMLHTTP.6.0&quot;</span>); )<span class=\"keyword\">catch</span> (e) &#123; &#125;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123; <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ActivexObject (<span class=\"string\">&quot;Msxm12.XMLHTTP.3.0&quot;</span>);)<span class=\"keyword\">catch</span> (e) &#123; &#125;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123; <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ActivexObject ( <span class=\"string\">&quot;Msxm12.XMLHTTP&quot;</span>); )<span class=\"keyword\">catch</span> (e) &#123; &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> XMLHttpRequest ( ) ;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>XHTML5<br>XMLHTML5WebXHTML5XMLHTMLMIMEapplication/xhtml+xmlMIMEXHTMLHTML</p>\n<h4 id=\"CSS-DOM\"><a href=\"#CSS-DOM\" class=\"headerlink\" title=\"CSS-DOM\"></a>CSS-DOM</h4><p>1<br>(1)<br>(structural layer)HTMLXHTML<br>(2)<br>(presentation layer)CSSCSS<br>(3)<br>(behavior layer)JavaScriptDOM<br>(4)<br>-(X)HTML<br>-CSS<br>-DOM<br>2style<br>style<head><br>styleHTMLstyle<br>3DOM<br>(1)<br>(2)<br>(3)<br>4className</p>\n<h4 id=\"HTML5\"><a href=\"#HTML5\" class=\"headerlink\" title=\"HTML5\"></a>HTML5</h4><p>1canvas<br>2videoaudio</p>\n<p><br>1<br><br>2<br><br>3<br><br>4<br>__proto__es6<br></p>\n</script></p>","site":{"data":{}},"excerpt":"","more":"<h4 id=\"JavaScript\"><a href=\"#JavaScript\" class=\"headerlink\" title=\"JavaScript\"></a>JavaScript</h4><p>1DOM<br>DOM</p>\n<p>0DOM(DOM Level 0)<br>DOM0DOM</p>\n<p>1DMO(DOM Level 1)<br>NetscapeW3C1998101DOM(DOM Level 1) </p>\n<p>2<br>2.1 DHTML<br>DHTMLDynamic HTML(HTML)DHTMLHTMLCSS.JavaScript:<br>(1)HTML;<br>(2)CSS;<br>(3)JavaScript</p>\n<h4 id=\"JavaScript\"><a href=\"#JavaScript\" class=\"headerlink\" title=\"JavaScript\"></a>JavaScript</h4><p><br>1while</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">while</span> (condition)&#123;</span><br><span class=\"line\">  statements;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>dowhile</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">do</span> &#123;</span><br><span class=\"line\">  statements;</span><br><span class=\"line\">&#125; <span class=\"keyword\">while</span> (condition);</span><br></pre></td></tr></table></figure>\n<p>  2for</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (initial condition; test condition; alter condition)&#123;</span><br><span class=\"line\">  statements;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><br>1<br>(global variable)<br>(local variable</p>\n<p><br>objectproperty)(method) :<br>-<br>-<br></p>\n<p>1(user-defined object)<br></p>\n<p>2(native object)<br>JavaScript( native object)<br>ArrayMathDate</p>\n<p>3(host object)<br>(host object )<br>documentFormImageElement</p>\n<h4 id=\"DOM\"><a href=\"#DOM\" class=\"headerlink\" title=\"DOM\"></a>DOM</h4><p>1:DOMD<br>document(DOMWebDOM</p>\n<p>2:DOMO<br></p>\n<p>3:DOMM<br>DOMMModel()Map(DOM)JavaScript</p>\n<p>4<br>(1)<br>(2)<br>(3)<br>(4)CSS<br>(5)<br>-getElementById <br>-getElementsByTagName *</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> shopping = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&quot;purchases&quot;</span>) ;</span><br><span class=\"line\"><span class=\"keyword\">var</span> items = shopping.getElementsByTagName(<span class=\"string\">&quot;*&quot;</span>) ;</span><br></pre></td></tr></table></figure>\n<p>-getElementsByClassName <br><br>class</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> shopping = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&quot;purchases&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> sales = shopping.getElementsByClassName(<span class=\"string\">&quot;sale&quot;</span>);</span><br></pre></td></tr></table></figure>\n\n<p>5<br>(1)getAttribute <br>(2)setAttribute <br>:setAttributeviewsource(setAttributeDOM:DOM:</p>\n<h4 id=\"JavaScript\"><a href=\"#JavaScript\" class=\"headerlink\" title=\"JavaScript\"></a>JavaScript</h4><p>DOMAPIDOMWeb1DOM<br>1childNodes <br>2nodeType 12<br>3<br>-nodeType1<br>-nodeType2<br>-nodeType3<br>3nodeValue <br>4firstChildlastChild</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1<br>(graceful degradation)<br>2javascript:<br>HTTP(http://) FTPftp://)<br>javascript:JavaScript</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;a href=<span class=\"string\">&quot;javascript:popUp(&#x27;http://www.example.com/&#x27;);&quot;</span>&gt;Example&lt;/a&gt;</span><br></pre></td></tr></table></figure>\n<p>3CSS<br><br><br>4javascript<br>5<br>(1)JavaScript<br>(2)<br>JavaScriptJavaScript<br><br><br><br>6<br>(1)DOM<br>(2)<br><br>/<script>/&lt;/body/&gt;<br>(3)<br><br>-Douglas CrockfordJSMin (<a href=\"http://www.crockford.com/javascript/jsmin.html\">http://www.crockford.com/javascript/jsmin.html</a>)<br>-YUI Compressor (<a href=\"http://developer.yahoo.com/yui/compressor\">http://developer.yahoo.com/yui/compressor</a>)<br>-Closure Compiler (<a href=\"http://closure-compiler.appspot.com/home\">http://closure-compiler.appspot.com/home</a>)</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1document.write &amp; innerHTML<br>2DOM<br>(1)createElement<br>(1)appendChild<br>(1)createTextNode<br>(1)insertBefore<br>3Ajax<br>(1)XMLHttpRequest</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getHTTPObject</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> XMLHttpRequest == <span class=\"string\">&quot;undefined&quot;</span>) xMLHttpRequest =<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123; <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Activexobject ( <span class=\"string\">&quot;Msxm12.XMLHTTP.6.0&quot;</span>); )<span class=\"keyword\">catch</span> (e) &#123; &#125;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123; <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ActivexObject (<span class=\"string\">&quot;Msxm12.XMLHTTP.3.0&quot;</span>);)<span class=\"keyword\">catch</span> (e) &#123; &#125;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123; <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ActivexObject ( <span class=\"string\">&quot;Msxm12.XMLHTTP&quot;</span>); )<span class=\"keyword\">catch</span> (e) &#123; &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> XMLHttpRequest ( ) ;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>XHTML5<br>XMLHTML5WebXHTML5XMLHTMLMIMEapplication/xhtml+xmlMIMEXHTMLHTML</p>\n<h4 id=\"CSS-DOM\"><a href=\"#CSS-DOM\" class=\"headerlink\" title=\"CSS-DOM\"></a>CSS-DOM</h4><p>1<br>(1)<br>(structural layer)HTMLXHTML<br>(2)<br>(presentation layer)CSSCSS<br>(3)<br>(behavior layer)JavaScriptDOM<br>(4)<br>-(X)HTML<br>-CSS<br>-DOM<br>2style<br>style<head><br>styleHTMLstyle<br>3DOM<br>(1)<br>(2)<br>(3)<br>4className</p>\n<h4 id=\"HTML5\"><a href=\"#HTML5\" class=\"headerlink\" title=\"HTML5\"></a>HTML5</h4><p>1canvas<br>2videoaudio</p>\n<p><br>1<br><br>2<br><br>3<br><br>4<br>__proto__es6<br></p>\n</script></p>"},{"title":"","date":"2022-08-04T02:57:14.000Z","_content":"\n#### \nArrayLikelength\n\n#### \n1length\n2\n3pushpop\n![document](document.png)\n\n#### \n1functionarguments\n2document.getElementsByTagNamedocument.getElementsByClassNamedocumentNodeList\n3file\n4\n\n#### \n1Array.isArray\n```javascript\n// fakeArray\n// array \nArray.isArray(fakeArray); // false\nArray.isArray(array); // true\n```\n2instanceof\n```javascript\n// fakeArray\n// array \nfakeArray instanceof Array; // false\narray instanceof Array; // true\n```\n\n#### \n1Array.prototype.slice.call()\n![Array.prototype.slice.call](prototype_call.png)\n2[].slice.call()\n![slice.call](slice_call.png)\n3Array.from()\n![array.from](array_from.png)\n","source":"_posts/18-fake-array.md","raw":"---\ntitle: \ndate: 2022-08-04 10:57:14\ntags:\n---\n\n#### \nArrayLikelength\n\n#### \n1length\n2\n3pushpop\n![document](document.png)\n\n#### \n1functionarguments\n2document.getElementsByTagNamedocument.getElementsByClassNamedocumentNodeList\n3file\n4\n\n#### \n1Array.isArray\n```javascript\n// fakeArray\n// array \nArray.isArray(fakeArray); // false\nArray.isArray(array); // true\n```\n2instanceof\n```javascript\n// fakeArray\n// array \nfakeArray instanceof Array; // false\narray instanceof Array; // true\n```\n\n#### \n1Array.prototype.slice.call()\n![Array.prototype.slice.call](prototype_call.png)\n2[].slice.call()\n![slice.call](slice_call.png)\n3Array.from()\n![array.from](array_from.png)\n","slug":"18-fake-array","published":1,"updated":"2022-08-04T07:17:36.091Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gwp000jcktt3n3i9ak4","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>ArrayLikelength</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1length<br>2<br>3pushpop<br><img src=\"/2022/08/04/18-fake-array/document.png\" alt=\"document\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1functionarguments<br>2document.getElementsByTagNamedocument.getElementsByClassNamedocumentNodeList<br>3file<br>4</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1Array.isArray</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// fakeArray</span></span><br><span class=\"line\"><span class=\"comment\">// array </span></span><br><span class=\"line\"><span class=\"built_in\">Array</span>.isArray(fakeArray); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"built_in\">Array</span>.isArray(array); <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n<p>2instanceof</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// fakeArray</span></span><br><span class=\"line\"><span class=\"comment\">// array </span></span><br><span class=\"line\">fakeArray <span class=\"keyword\">instanceof</span> <span class=\"built_in\">Array</span>; <span class=\"comment\">// false</span></span><br><span class=\"line\">array <span class=\"keyword\">instanceof</span> <span class=\"built_in\">Array</span>; <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1Array.prototype.slice.call()<br><img src=\"/2022/08/04/18-fake-array/prototype_call.png\" alt=\"Array.prototype.slice.call\"><br>2[].slice.call()<br><img src=\"/2022/08/04/18-fake-array/slice_call.png\" alt=\"slice.call\"><br>3Array.from()<br><img src=\"/2022/08/04/18-fake-array/array_from.png\" alt=\"array.from\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>ArrayLikelength</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1length<br>2<br>3pushpop<br><img src=\"/2022/08/04/18-fake-array/document.png\" alt=\"document\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1functionarguments<br>2document.getElementsByTagNamedocument.getElementsByClassNamedocumentNodeList<br>3file<br>4</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1Array.isArray</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// fakeArray</span></span><br><span class=\"line\"><span class=\"comment\">// array </span></span><br><span class=\"line\"><span class=\"built_in\">Array</span>.isArray(fakeArray); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"built_in\">Array</span>.isArray(array); <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n<p>2instanceof</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// fakeArray</span></span><br><span class=\"line\"><span class=\"comment\">// array </span></span><br><span class=\"line\">fakeArray <span class=\"keyword\">instanceof</span> <span class=\"built_in\">Array</span>; <span class=\"comment\">// false</span></span><br><span class=\"line\">array <span class=\"keyword\">instanceof</span> <span class=\"built_in\">Array</span>; <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1Array.prototype.slice.call()<br><img src=\"/2022/08/04/18-fake-array/prototype_call.png\" alt=\"Array.prototype.slice.call\"><br>2[].slice.call()<br><img src=\"/2022/08/04/18-fake-array/slice_call.png\" alt=\"slice.call\"><br>3Array.from()<br><img src=\"/2022/08/04/18-fake-array/array_from.png\" alt=\"array.from\"></p>\n"},{"title":"varconstlet","date":"2022-03-26T13:04:12.000Z","_content":"\n#### 1varwindowconstlet\n```javascript\nvar a = 100;\nconsole.log(a,window.a);    // 100 100\nlet b = 10;\nconsole.log(b,window.b);    // 10 undefined\nconst c = 1;\nconsole.log(c,window.c);    // 1 undefined\n```\nletconstScriptvarGlobalwindowGlobal[letconst](https://zhuanlan.zhihu.com/p/114128108)\n\n#### 2","source":"_posts/2-var-const-let.md","raw":"---\ntitle: varconstlet\ndate: 2022-03-26 21:04:12\ntags:\n---\n\n#### 1varwindowconstlet\n```javascript\nvar a = 100;\nconsole.log(a,window.a);    // 100 100\nlet b = 10;\nconsole.log(b,window.b);    // 10 undefined\nconst c = 1;\nconsole.log(c,window.c);    // 1 undefined\n```\nletconstScriptvarGlobalwindowGlobal[letconst](https://zhuanlan.zhihu.com/p/114128108)\n\n#### 2","slug":"2-var-const-let","published":1,"updated":"2022-08-10T03:16:09.107Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gwq000lcktt5j0mggzv","content":"<h4 id=\"1varwindowconstlet\"><a href=\"#1varwindowconstlet\" class=\"headerlink\" title=\"1varwindowconstlet\"></a>1varwindowconstlet</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">100</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(a,<span class=\"built_in\">window</span>.a);    <span class=\"comment\">// 100 100</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> b = <span class=\"number\">10</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(b,<span class=\"built_in\">window</span>.b);    <span class=\"comment\">// 10 undefined</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> c = <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(c,<span class=\"built_in\">window</span>.c);    <span class=\"comment\">// 1 undefined</span></span><br></pre></td></tr></table></figure>\n<p>letconstScriptvarGlobalwindowGlobal<a href=\"https://zhuanlan.zhihu.com/p/114128108\">letconst</a></p>\n<h4 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h4>","site":{"data":{}},"excerpt":"","more":"<h4 id=\"1varwindowconstlet\"><a href=\"#1varwindowconstlet\" class=\"headerlink\" title=\"1varwindowconstlet\"></a>1varwindowconstlet</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">100</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(a,<span class=\"built_in\">window</span>.a);    <span class=\"comment\">// 100 100</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> b = <span class=\"number\">10</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(b,<span class=\"built_in\">window</span>.b);    <span class=\"comment\">// 10 undefined</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> c = <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(c,<span class=\"built_in\">window</span>.c);    <span class=\"comment\">// 1 undefined</span></span><br></pre></td></tr></table></figure>\n<p>letconstScriptvarGlobalwindowGlobal<a href=\"https://zhuanlan.zhihu.com/p/114128108\">letconst</a></p>\n<h4 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h4>"},{"title":"Map ","date":"2022-08-04T06:07:12.000Z","_content":"\n#### Map?\nES6mapObject - map - Hash\n\n#### map\n```javascript\nconst map = new Map();\n```\nmap\n```javascript\nconst map = new Map();\nconst o = { p: 'string' };\n\nmap.set(o, 'text');\nmap.get(o); // text\n\nmap.has(o); // true\nmap.delete(o);\n```\nmap\n```javascript\nconst map = new Map([['name', 'Tom'], ['age', 12]]);\nmap.size; // 2\nmap.has('name'); // true\nmap.get('age'); // 12\n```\n\n##### \n\n```javascript\nmap.set(1, 'qw').set(1, 'sdf');\nmap.get(1); // sdf\n```\n\n#### map\n1size\nmap.size\nmap\nmap\n```javascript\nconst map = new Map();\nmap.size; // 0\nmap.set(1, 12);\nmap.size; // 1\n```\n\n2set()\nmap.set(key, value)\nmapmap\nmap\n```javascript\nconst map = new Map();\nmap.set(1, 12);\n```\n\n3get()\nmap.get(key)\nkeyvalue\nmapkeykeyundefined\n```javascript\nconst map = new Map();\nmap.set(1, 12);\nmap.get(1); // 12\nmap.get(2); // undefined\n```\n\n4has()\nmap.has(key)\nmapkey\ntrue/falsemapkeytruefalse\n```javascript\nconst map = new Map();\nmap.set(1, 12);\nmap.has(1); // true\nmap.has(2); // has\n```\n\n5delete()\nmap.delete(key)\nmapkeyvalue\ntrue/falsetruefalse\n```javascript\nconst map = new Map();\nmap.set(1, 12);\nmap.delete(1); // true\nmap.delete(2); // false\n```\n\n6clear()\nmap.clear()\nmap\nundefined\n```javascript\nconst map = new Map();\nmap.set(1, 12);\nmap.clear(); // undefined\n```\n\n#### map\n1keys()\n2values()\n3entries()\n4forEach()\n\nhttps://www.jianshu.com/p/93b5a5940de8","source":"_posts/19-about-map.md","raw":"---\ntitle: Map \ndate: 2022-08-04 14:07:12\ntags:\n---\n\n#### Map?\nES6mapObject - map - Hash\n\n#### map\n```javascript\nconst map = new Map();\n```\nmap\n```javascript\nconst map = new Map();\nconst o = { p: 'string' };\n\nmap.set(o, 'text');\nmap.get(o); // text\n\nmap.has(o); // true\nmap.delete(o);\n```\nmap\n```javascript\nconst map = new Map([['name', 'Tom'], ['age', 12]]);\nmap.size; // 2\nmap.has('name'); // true\nmap.get('age'); // 12\n```\n\n##### \n\n```javascript\nmap.set(1, 'qw').set(1, 'sdf');\nmap.get(1); // sdf\n```\n\n#### map\n1size\nmap.size\nmap\nmap\n```javascript\nconst map = new Map();\nmap.size; // 0\nmap.set(1, 12);\nmap.size; // 1\n```\n\n2set()\nmap.set(key, value)\nmapmap\nmap\n```javascript\nconst map = new Map();\nmap.set(1, 12);\n```\n\n3get()\nmap.get(key)\nkeyvalue\nmapkeykeyundefined\n```javascript\nconst map = new Map();\nmap.set(1, 12);\nmap.get(1); // 12\nmap.get(2); // undefined\n```\n\n4has()\nmap.has(key)\nmapkey\ntrue/falsemapkeytruefalse\n```javascript\nconst map = new Map();\nmap.set(1, 12);\nmap.has(1); // true\nmap.has(2); // has\n```\n\n5delete()\nmap.delete(key)\nmapkeyvalue\ntrue/falsetruefalse\n```javascript\nconst map = new Map();\nmap.set(1, 12);\nmap.delete(1); // true\nmap.delete(2); // false\n```\n\n6clear()\nmap.clear()\nmap\nundefined\n```javascript\nconst map = new Map();\nmap.set(1, 12);\nmap.clear(); // undefined\n```\n\n#### map\n1keys()\n2values()\n3entries()\n4forEach()\n\nhttps://www.jianshu.com/p/93b5a5940de8","slug":"19-about-map","published":1,"updated":"2022-08-04T07:31:23.549Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gwr000ncktt2g0h5b6p","content":"<h4 id=\"Map\"><a href=\"#Map\" class=\"headerlink\" title=\"Map?\"></a>Map?</h4><p>ES6mapObject - map - Hash</p>\n<h4 id=\"map\"><a href=\"#map\" class=\"headerlink\" title=\"map\"></a>map</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br></pre></td></tr></table></figure>\n<p>map</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\"><span class=\"keyword\">const</span> o = &#123; <span class=\"attr\">p</span>: <span class=\"string\">&#x27;string&#x27;</span> &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">map.set(o, <span class=\"string\">&#x27;text&#x27;</span>);</span><br><span class=\"line\">map.get(o); <span class=\"comment\">// text</span></span><br><span class=\"line\"></span><br><span class=\"line\">map.has(o); <span class=\"comment\">// true</span></span><br><span class=\"line\">map.delete(o);</span><br></pre></td></tr></table></figure>\n<p>map</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>([[<span class=\"string\">&#x27;name&#x27;</span>, <span class=\"string\">&#x27;Tom&#x27;</span>], [<span class=\"string\">&#x27;age&#x27;</span>, <span class=\"number\">12</span>]]);</span><br><span class=\"line\">map.size; <span class=\"comment\">// 2</span></span><br><span class=\"line\">map.has(<span class=\"string\">&#x27;name&#x27;</span>); <span class=\"comment\">// true</span></span><br><span class=\"line\">map.get(<span class=\"string\">&#x27;age&#x27;</span>); <span class=\"comment\">// 12</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"string\">&#x27;qw&#x27;</span>).set(<span class=\"number\">1</span>, <span class=\"string\">&#x27;sdf&#x27;</span>);</span><br><span class=\"line\">map.get(<span class=\"number\">1</span>); <span class=\"comment\">// sdf</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"map\"><a href=\"#map\" class=\"headerlink\" title=\"map\"></a>map</h4><p>1size<br>map.size<br>map<br>map</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.size; <span class=\"comment\">// 0</span></span><br><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"number\">12</span>);</span><br><span class=\"line\">map.size; <span class=\"comment\">// 1</span></span><br></pre></td></tr></table></figure>\n\n<p>2set()<br>map.set(key, value)<br>mapmap<br>map</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"number\">12</span>);</span><br></pre></td></tr></table></figure>\n\n<p>3get()<br>map.get(key)<br>keyvalue<br>mapkeykeyundefined</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"number\">12</span>);</span><br><span class=\"line\">map.get(<span class=\"number\">1</span>); <span class=\"comment\">// 12</span></span><br><span class=\"line\">map.get(<span class=\"number\">2</span>); <span class=\"comment\">// undefined</span></span><br></pre></td></tr></table></figure>\n\n<p>4has()<br>map.has(key)<br>mapkey<br>true/falsemapkeytruefalse</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"number\">12</span>);</span><br><span class=\"line\">map.has(<span class=\"number\">1</span>); <span class=\"comment\">// true</span></span><br><span class=\"line\">map.has(<span class=\"number\">2</span>); <span class=\"comment\">// has</span></span><br></pre></td></tr></table></figure>\n\n<p>5delete()<br>map.delete(key)<br>mapkeyvalue<br>true/falsetruefalse</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"number\">12</span>);</span><br><span class=\"line\">map.delete(<span class=\"number\">1</span>); <span class=\"comment\">// true</span></span><br><span class=\"line\">map.delete(<span class=\"number\">2</span>); <span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure>\n\n<p>6clear()<br>map.clear()<br>map<br>undefined</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"number\">12</span>);</span><br><span class=\"line\">map.clear(); <span class=\"comment\">// undefined</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"map\"><a href=\"#map\" class=\"headerlink\" title=\"map\"></a>map</h4><p>1keys()<br>2values()<br>3entries()<br>4forEach()</p>\n<p><a href=\"https://www.jianshu.com/p/93b5a5940de8\">https://www.jianshu.com/p/93b5a5940de8</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"Map\"><a href=\"#Map\" class=\"headerlink\" title=\"Map?\"></a>Map?</h4><p>ES6mapObject - map - Hash</p>\n<h4 id=\"map\"><a href=\"#map\" class=\"headerlink\" title=\"map\"></a>map</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br></pre></td></tr></table></figure>\n<p>map</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\"><span class=\"keyword\">const</span> o = &#123; <span class=\"attr\">p</span>: <span class=\"string\">&#x27;string&#x27;</span> &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">map.set(o, <span class=\"string\">&#x27;text&#x27;</span>);</span><br><span class=\"line\">map.get(o); <span class=\"comment\">// text</span></span><br><span class=\"line\"></span><br><span class=\"line\">map.has(o); <span class=\"comment\">// true</span></span><br><span class=\"line\">map.delete(o);</span><br></pre></td></tr></table></figure>\n<p>map</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>([[<span class=\"string\">&#x27;name&#x27;</span>, <span class=\"string\">&#x27;Tom&#x27;</span>], [<span class=\"string\">&#x27;age&#x27;</span>, <span class=\"number\">12</span>]]);</span><br><span class=\"line\">map.size; <span class=\"comment\">// 2</span></span><br><span class=\"line\">map.has(<span class=\"string\">&#x27;name&#x27;</span>); <span class=\"comment\">// true</span></span><br><span class=\"line\">map.get(<span class=\"string\">&#x27;age&#x27;</span>); <span class=\"comment\">// 12</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"string\">&#x27;qw&#x27;</span>).set(<span class=\"number\">1</span>, <span class=\"string\">&#x27;sdf&#x27;</span>);</span><br><span class=\"line\">map.get(<span class=\"number\">1</span>); <span class=\"comment\">// sdf</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"map\"><a href=\"#map\" class=\"headerlink\" title=\"map\"></a>map</h4><p>1size<br>map.size<br>map<br>map</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.size; <span class=\"comment\">// 0</span></span><br><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"number\">12</span>);</span><br><span class=\"line\">map.size; <span class=\"comment\">// 1</span></span><br></pre></td></tr></table></figure>\n\n<p>2set()<br>map.set(key, value)<br>mapmap<br>map</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"number\">12</span>);</span><br></pre></td></tr></table></figure>\n\n<p>3get()<br>map.get(key)<br>keyvalue<br>mapkeykeyundefined</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"number\">12</span>);</span><br><span class=\"line\">map.get(<span class=\"number\">1</span>); <span class=\"comment\">// 12</span></span><br><span class=\"line\">map.get(<span class=\"number\">2</span>); <span class=\"comment\">// undefined</span></span><br></pre></td></tr></table></figure>\n\n<p>4has()<br>map.has(key)<br>mapkey<br>true/falsemapkeytruefalse</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"number\">12</span>);</span><br><span class=\"line\">map.has(<span class=\"number\">1</span>); <span class=\"comment\">// true</span></span><br><span class=\"line\">map.has(<span class=\"number\">2</span>); <span class=\"comment\">// has</span></span><br></pre></td></tr></table></figure>\n\n<p>5delete()<br>map.delete(key)<br>mapkeyvalue<br>true/falsetruefalse</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"number\">12</span>);</span><br><span class=\"line\">map.delete(<span class=\"number\">1</span>); <span class=\"comment\">// true</span></span><br><span class=\"line\">map.delete(<span class=\"number\">2</span>); <span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure>\n\n<p>6clear()<br>map.clear()<br>map<br>undefined</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.set(<span class=\"number\">1</span>, <span class=\"number\">12</span>);</span><br><span class=\"line\">map.clear(); <span class=\"comment\">// undefined</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"map\"><a href=\"#map\" class=\"headerlink\" title=\"map\"></a>map</h4><p>1keys()<br>2values()<br>3entries()<br>4forEach()</p>\n<p><a href=\"https://www.jianshu.com/p/93b5a5940de8\">https://www.jianshu.com/p/93b5a5940de8</a></p>\n"},{"title":"vscode","date":"2022-08-05T02:33:23.000Z","_content":"\n#### vscode\nhttps://www.bookstack.cn/read/CN-VScode-Docs/README.md\n\n#### vscode\n\n```javascript\nnpm install -g yo generator-code\n```\nvscode\n```javascript\nyo code\n```","source":"_posts/20-create-vscode-plugin.md","raw":"---\ntitle: vscode\ndate: 2022-08-05 10:33:23\ntags:\n---\n\n#### vscode\nhttps://www.bookstack.cn/read/CN-VScode-Docs/README.md\n\n#### vscode\n\n```javascript\nnpm install -g yo generator-code\n```\nvscode\n```javascript\nyo code\n```","slug":"20-create-vscode-plugin","published":1,"updated":"2022-08-05T06:08:56.829Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gws000pcktth471g859","content":"<h4 id=\"vscode\"><a href=\"#vscode\" class=\"headerlink\" title=\"vscode\"></a>vscode</h4><p><a href=\"https://www.bookstack.cn/read/CN-VScode-Docs/README.md\">https://www.bookstack.cn/read/CN-VScode-Docs/README.md</a></p>\n<h4 id=\"vscode\"><a href=\"#vscode\" class=\"headerlink\" title=\"vscode\"></a>vscode</h4><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g yo generator-code</span><br></pre></td></tr></table></figure>\n<p>vscode</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yo code</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<h4 id=\"vscode\"><a href=\"#vscode\" class=\"headerlink\" title=\"vscode\"></a>vscode</h4><p><a href=\"https://www.bookstack.cn/read/CN-VScode-Docs/README.md\">https://www.bookstack.cn/read/CN-VScode-Docs/README.md</a></p>\n<h4 id=\"vscode\"><a href=\"#vscode\" class=\"headerlink\" title=\"vscode\"></a>vscode</h4><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g yo generator-code</span><br></pre></td></tr></table></figure>\n<p>vscode</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yo code</span><br></pre></td></tr></table></figure>"},{"title":"","date":"2022-08-09T05:43:57.000Z","_content":"\n'hello world'.length\n\n#### \n\n\n\n(String)(Number)(Boolean)(Null)(Undefined)Symbol\n(Object)(Array)(Function)\n StringNumberBooleanSymbol\n\n\n JavaScript JavaScript  Object \n\n#### \n\n\n###### \nnew\n```JavaScript\nvar string = new String('test_string');\nvar number = new Number(1);\n```\nnew\n```JavaScript\nvar string = new String('test_string');\nstring.name = 'for test';\nstring.sayHi = function(){\n    console.log('this is test string');\n}\nconsole.log(string.name); // for test\nstring.sayHi(); // this is test string\n```\n\n###### \n\n'test_string'.substring()'test_string'.indexOf()\n\n\n```JavaScript\n// \nvar string = 'test_string';\n// \nvar result = string.substring(4);\nconsole.log(result); // _string\n```\n\n1String\n2\n3\n```JavaScript\nvar string = 'test_string';\n// 1\nvar newString = new String(string);\n// 2\nvar result = newString.substring(4);\n// 3\nnewString = null;\n```\n\n\n\n\n\n\nnew\n#### \nvalueOf()toString()toString()valueOf()\ntoString()  valueOf() \n```JavaScript\nvar numberObj = new Number(64);\nvar stringObj = new String('64');\nconsole.log(typeof numberObj); // object\nconsole.log(typeof stringObj); // object\n// \nconsole.log(numberObj.valueOf()); // 64\nconsole.log(typeof numberObj.valueOf()); // number \nconsole.log(numberObj.toString()); // '64'\nconsole.log(typeof numberObj.toString()); // string \n\nconsole.log(stringObj.valueOf()); // '64'\nconsole.log(typeof stringObj.valueOf()); // string \nconsole.log(stringObj.toString()); // '64'\nconsole.log(typeof stringObj.toString()); // string \n```\ntoString()valueOf()symbol\n\nSymbol\n\n###### Symbol\nSymbol  ECMAScript 2015 \nSymbol\n```JavaScript\nlet sym1 = Symbol();\nlet sym2 = Symbol('sym');\n```\n\n1Symbolsymbol\n2new Symbol ECMAScript 6   new Booleannew Stringnew Number\n3symbolsymbolsymbol\n4SymbolObject()\n```JavaScript\n// 1\nSymbol('sym') === Symbol('sym'); // false\n// 2\nlet sym = new Symbol(); // TypeError: Symbol is not a constructor\n// 4\nlet sym2 = Symbol('sym');\ntypeof sym2; // 'symbol'\nlet sym2Obj = Object(sym2);\ntypeof sym2Obj; // 'object'\n```\n[symbol](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol)[Symbol.toPrimitive](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toPrimitive)\n\nSymbol.toPrimitive  Symbol  hint  hint  \"number\"\"string\"  \"default\" \n\n\n```JavaScript\n//  Symbol.toPrimitive \nvar obj1 = {};\nconsole.log(+obj1);     // NaN\nconsole.log(`${obj1}`); // \"[object Object]\"\nconsole.log(obj1 + \"\"); // \"[object Object]\"\n\n//  Symbol.toPrimitive \nvar obj2 = {\n  [Symbol.toPrimitive](hint) {\n    if (hint == \"number\") {\n      return 10;\n    }\n    if (hint == \"string\") {\n      return \"hello\";\n    }\n    return true;\n  }\n};\nconsole.log(+obj2);     // 10      -- hint  \"number\"\nconsole.log(`${obj2}`); // \"hello\" -- hint  \"string\"\nconsole.log(obj2 + \"\"); // \"true\"  -- hint  \"default\"\n```\n\nhint \n'number':\n'string':\n'default':\n\n#### \n\n1/[Symbol.toPrimitive/]/(hint/)\n2toString()\n3valueOf()\nvalueOf()toString()toString()\n```JavaScript\nvar obj = {\n  [Symbol.toPrimitive](hint) {\n    console.log(hint);\n    return 'symbol';\n  },\n  toString() {\n    return 'string';\n  },\n  valueOf() {\n    return 'valueOf';\n  }\n};\nconsole.log(String(obj)); // string symbol\nconsole.log(Number(obj)); // number NaN\n\nvar obj1 = {\n  toString() {\n    return 'string';\n  },\n  valueOf() {\n    return 'valueOf';\n  }\n};\nconsole.log(String(obj1)); // string\nconsole.log(Number(obj1)); // NaN\n\nvar obj2 = {\n  toString() {\n    return '1';\n  },\n};\nconsole.log(String(obj2)); // '1'\nconsole.log(Number(obj2)); // 1\n\nvar obj3 = {\n  valueOf() {\n    return '2';\n  }\n};\nconsole.log(Number(obj3)); // 2\nconsole.log(String(obj3)); // [object Object]\n```","source":"_posts/21-devan-operation.md","raw":"---\ntitle: \ndate: 2022-08-09 13:43:57\ntags:\n---\n\n'hello world'.length\n\n#### \n\n\n\n(String)(Number)(Boolean)(Null)(Undefined)Symbol\n(Object)(Array)(Function)\n StringNumberBooleanSymbol\n\n\n JavaScript JavaScript  Object \n\n#### \n\n\n###### \nnew\n```JavaScript\nvar string = new String('test_string');\nvar number = new Number(1);\n```\nnew\n```JavaScript\nvar string = new String('test_string');\nstring.name = 'for test';\nstring.sayHi = function(){\n    console.log('this is test string');\n}\nconsole.log(string.name); // for test\nstring.sayHi(); // this is test string\n```\n\n###### \n\n'test_string'.substring()'test_string'.indexOf()\n\n\n```JavaScript\n// \nvar string = 'test_string';\n// \nvar result = string.substring(4);\nconsole.log(result); // _string\n```\n\n1String\n2\n3\n```JavaScript\nvar string = 'test_string';\n// 1\nvar newString = new String(string);\n// 2\nvar result = newString.substring(4);\n// 3\nnewString = null;\n```\n\n\n\n\n\n\nnew\n#### \nvalueOf()toString()toString()valueOf()\ntoString()  valueOf() \n```JavaScript\nvar numberObj = new Number(64);\nvar stringObj = new String('64');\nconsole.log(typeof numberObj); // object\nconsole.log(typeof stringObj); // object\n// \nconsole.log(numberObj.valueOf()); // 64\nconsole.log(typeof numberObj.valueOf()); // number \nconsole.log(numberObj.toString()); // '64'\nconsole.log(typeof numberObj.toString()); // string \n\nconsole.log(stringObj.valueOf()); // '64'\nconsole.log(typeof stringObj.valueOf()); // string \nconsole.log(stringObj.toString()); // '64'\nconsole.log(typeof stringObj.toString()); // string \n```\ntoString()valueOf()symbol\n\nSymbol\n\n###### Symbol\nSymbol  ECMAScript 2015 \nSymbol\n```JavaScript\nlet sym1 = Symbol();\nlet sym2 = Symbol('sym');\n```\n\n1Symbolsymbol\n2new Symbol ECMAScript 6   new Booleannew Stringnew Number\n3symbolsymbolsymbol\n4SymbolObject()\n```JavaScript\n// 1\nSymbol('sym') === Symbol('sym'); // false\n// 2\nlet sym = new Symbol(); // TypeError: Symbol is not a constructor\n// 4\nlet sym2 = Symbol('sym');\ntypeof sym2; // 'symbol'\nlet sym2Obj = Object(sym2);\ntypeof sym2Obj; // 'object'\n```\n[symbol](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol)[Symbol.toPrimitive](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toPrimitive)\n\nSymbol.toPrimitive  Symbol  hint  hint  \"number\"\"string\"  \"default\" \n\n\n```JavaScript\n//  Symbol.toPrimitive \nvar obj1 = {};\nconsole.log(+obj1);     // NaN\nconsole.log(`${obj1}`); // \"[object Object]\"\nconsole.log(obj1 + \"\"); // \"[object Object]\"\n\n//  Symbol.toPrimitive \nvar obj2 = {\n  [Symbol.toPrimitive](hint) {\n    if (hint == \"number\") {\n      return 10;\n    }\n    if (hint == \"string\") {\n      return \"hello\";\n    }\n    return true;\n  }\n};\nconsole.log(+obj2);     // 10      -- hint  \"number\"\nconsole.log(`${obj2}`); // \"hello\" -- hint  \"string\"\nconsole.log(obj2 + \"\"); // \"true\"  -- hint  \"default\"\n```\n\nhint \n'number':\n'string':\n'default':\n\n#### \n\n1/[Symbol.toPrimitive/]/(hint/)\n2toString()\n3valueOf()\nvalueOf()toString()toString()\n```JavaScript\nvar obj = {\n  [Symbol.toPrimitive](hint) {\n    console.log(hint);\n    return 'symbol';\n  },\n  toString() {\n    return 'string';\n  },\n  valueOf() {\n    return 'valueOf';\n  }\n};\nconsole.log(String(obj)); // string symbol\nconsole.log(Number(obj)); // number NaN\n\nvar obj1 = {\n  toString() {\n    return 'string';\n  },\n  valueOf() {\n    return 'valueOf';\n  }\n};\nconsole.log(String(obj1)); // string\nconsole.log(Number(obj1)); // NaN\n\nvar obj2 = {\n  toString() {\n    return '1';\n  },\n};\nconsole.log(String(obj2)); // '1'\nconsole.log(Number(obj2)); // 1\n\nvar obj3 = {\n  valueOf() {\n    return '2';\n  }\n};\nconsole.log(Number(obj3)); // 2\nconsole.log(String(obj3)); // [object Object]\n```","slug":"21-devan-operation","published":1,"updated":"2022-08-18T07:29:53.069Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gwt000rcktt5qkp6b3l","content":"<p>hello world.length</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br></p>\n<p>(String)(Number)(Boolean)(Null)(Undefined)Symbol<br>(Object)(Array)(Function)<br> StringNumberBooleanSymbol</p>\n<p><br> JavaScript JavaScript  Object </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>new</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> string = <span class=\"keyword\">new</span> <span class=\"built_in\">String</span>(<span class=\"string\">&#x27;test_string&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> number = <span class=\"keyword\">new</span> <span class=\"built_in\">Number</span>(<span class=\"number\">1</span>);</span><br></pre></td></tr></table></figure>\n<p>new</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> string = <span class=\"keyword\">new</span> <span class=\"built_in\">String</span>(<span class=\"string\">&#x27;test_string&#x27;</span>);</span><br><span class=\"line\">string.name = <span class=\"string\">&#x27;for test&#x27;</span>;</span><br><span class=\"line\">string.sayHi = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;this is test string&#x27;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(string.name); <span class=\"comment\">// for test</span></span><br><span class=\"line\">string.sayHi(); <span class=\"comment\">// this is test string</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><br>test_string.substring()test_string.indexOf()</p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> string = <span class=\"string\">&#x27;test_string&#x27;</span>;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> result = string.substring(<span class=\"number\">4</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(result); <span class=\"comment\">// _string</span></span><br></pre></td></tr></table></figure>\n<p><br>1String<br>2<br>3</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> string = <span class=\"string\">&#x27;test_string&#x27;</span>;</span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> newString = <span class=\"keyword\">new</span> <span class=\"built_in\">String</span>(string);</span><br><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> result = newString.substring(<span class=\"number\">4</span>);</span><br><span class=\"line\"><span class=\"comment\">// 3</span></span><br><span class=\"line\">newString = <span class=\"literal\">null</span>;</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<p></p>\n<p>new</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>valueOf()toString()toString()valueOf()<br>toString()  valueOf() </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> numberObj = <span class=\"keyword\">new</span> <span class=\"built_in\">Number</span>(<span class=\"number\">64</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> stringObj = <span class=\"keyword\">new</span> <span class=\"built_in\">String</span>(<span class=\"string\">&#x27;64&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">typeof</span> numberObj); <span class=\"comment\">// object</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">typeof</span> stringObj); <span class=\"comment\">// object</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(numberObj.valueOf()); <span class=\"comment\">// 64</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">typeof</span> numberObj.valueOf()); <span class=\"comment\">// number </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(numberObj.toString()); <span class=\"comment\">// &#x27;64&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">typeof</span> numberObj.toString()); <span class=\"comment\">// string </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(stringObj.valueOf()); <span class=\"comment\">// &#x27;64&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">typeof</span> stringObj.valueOf()); <span class=\"comment\">// string </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(stringObj.toString()); <span class=\"comment\">// &#x27;64&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">typeof</span> stringObj.toString()); <span class=\"comment\">// string </span></span><br></pre></td></tr></table></figure>\n<p>toString()valueOf()symbol</p>\n<p>Symbol</p>\n<h6 id=\"Symbol\"><a href=\"#Symbol\" class=\"headerlink\" title=\"Symbol\"></a>Symbol</h6><p>Symbol  ECMAScript 2015 <br>Symbol</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> sym1 = <span class=\"built_in\">Symbol</span>();</span><br><span class=\"line\"><span class=\"keyword\">let</span> sym2 = <span class=\"built_in\">Symbol</span>(<span class=\"string\">&#x27;sym&#x27;</span>);</span><br></pre></td></tr></table></figure>\n<p><br>1Symbolsymbol<br>2new Symbol ECMAScript 6   new Booleannew Stringnew Number<br>3symbolsymbolsymbol<br>4SymbolObject()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"built_in\">Symbol</span>(<span class=\"string\">&#x27;sym&#x27;</span>) === <span class=\"built_in\">Symbol</span>(<span class=\"string\">&#x27;sym&#x27;</span>); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> sym = <span class=\"keyword\">new</span> <span class=\"built_in\">Symbol</span>(); <span class=\"comment\">// TypeError: Symbol is not a constructor</span></span><br><span class=\"line\"><span class=\"comment\">// 4</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> sym2 = <span class=\"built_in\">Symbol</span>(<span class=\"string\">&#x27;sym&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">typeof</span> sym2; <span class=\"comment\">// &#x27;symbol&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> sym2Obj = <span class=\"built_in\">Object</span>(sym2);</span><br><span class=\"line\"><span class=\"keyword\">typeof</span> sym2Obj; <span class=\"comment\">// &#x27;object&#x27;</span></span><br></pre></td></tr></table></figure>\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol\">symbol</a><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toPrimitive\">Symbol.toPrimitive</a></p>\n<p>Symbol.toPrimitive  Symbol  hint  hint  numberstring  default </p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  Symbol.toPrimitive </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj1 = &#123;&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(+obj1);     <span class=\"comment\">// NaN</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">`<span class=\"subst\">$&#123;obj1&#125;</span>`</span>); <span class=\"comment\">// &quot;[object Object]&quot;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj1 + <span class=\"string\">&quot;&quot;</span>); <span class=\"comment\">// &quot;[object Object]&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  Symbol.toPrimitive </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj2 = &#123;</span><br><span class=\"line\">  [<span class=\"built_in\">Symbol</span>.toPrimitive](hint) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (hint == <span class=\"string\">&quot;number&quot;</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"number\">10</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (hint == <span class=\"string\">&quot;string&quot;</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">&quot;hello&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(+obj2);     <span class=\"comment\">// 10      -- hint  &quot;number&quot;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">`<span class=\"subst\">$&#123;obj2&#125;</span>`</span>); <span class=\"comment\">// &quot;hello&quot; -- hint  &quot;string&quot;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj2 + <span class=\"string\">&quot;&quot;</span>); <span class=\"comment\">// &quot;true&quot;  -- hint  &quot;default&quot;</span></span><br></pre></td></tr></table></figure>\n<p><br>hint <br>number:<br>string:<br>default:</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>1/[Symbol.toPrimitive/]/(hint/)<br>2toString()<br>3valueOf()<br>valueOf()toString()toString()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">  [<span class=\"built_in\">Symbol</span>.toPrimitive](hint) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(hint);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;symbol&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;string&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">valueOf</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;valueOf&#x27;</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">String</span>(obj)); <span class=\"comment\">// string symbol</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Number</span>(obj)); <span class=\"comment\">// number NaN</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj1 = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;string&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">valueOf</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;valueOf&#x27;</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">String</span>(obj1)); <span class=\"comment\">// string</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Number</span>(obj1)); <span class=\"comment\">// NaN</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj2 = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;1&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">String</span>(obj2)); <span class=\"comment\">// &#x27;1&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Number</span>(obj2)); <span class=\"comment\">// 1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj3 = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">valueOf</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;2&#x27;</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Number</span>(obj3)); <span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">String</span>(obj3)); <span class=\"comment\">// [object Object]</span></span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<p>hello world.length</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br></p>\n<p>(String)(Number)(Boolean)(Null)(Undefined)Symbol<br>(Object)(Array)(Function)<br> StringNumberBooleanSymbol</p>\n<p><br> JavaScript JavaScript  Object </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>new</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> string = <span class=\"keyword\">new</span> <span class=\"built_in\">String</span>(<span class=\"string\">&#x27;test_string&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> number = <span class=\"keyword\">new</span> <span class=\"built_in\">Number</span>(<span class=\"number\">1</span>);</span><br></pre></td></tr></table></figure>\n<p>new</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> string = <span class=\"keyword\">new</span> <span class=\"built_in\">String</span>(<span class=\"string\">&#x27;test_string&#x27;</span>);</span><br><span class=\"line\">string.name = <span class=\"string\">&#x27;for test&#x27;</span>;</span><br><span class=\"line\">string.sayHi = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;this is test string&#x27;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(string.name); <span class=\"comment\">// for test</span></span><br><span class=\"line\">string.sayHi(); <span class=\"comment\">// this is test string</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><br>test_string.substring()test_string.indexOf()</p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> string = <span class=\"string\">&#x27;test_string&#x27;</span>;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> result = string.substring(<span class=\"number\">4</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(result); <span class=\"comment\">// _string</span></span><br></pre></td></tr></table></figure>\n<p><br>1String<br>2<br>3</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> string = <span class=\"string\">&#x27;test_string&#x27;</span>;</span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> newString = <span class=\"keyword\">new</span> <span class=\"built_in\">String</span>(string);</span><br><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> result = newString.substring(<span class=\"number\">4</span>);</span><br><span class=\"line\"><span class=\"comment\">// 3</span></span><br><span class=\"line\">newString = <span class=\"literal\">null</span>;</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<p></p>\n<p>new</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>valueOf()toString()toString()valueOf()<br>toString()  valueOf() </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> numberObj = <span class=\"keyword\">new</span> <span class=\"built_in\">Number</span>(<span class=\"number\">64</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> stringObj = <span class=\"keyword\">new</span> <span class=\"built_in\">String</span>(<span class=\"string\">&#x27;64&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">typeof</span> numberObj); <span class=\"comment\">// object</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">typeof</span> stringObj); <span class=\"comment\">// object</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(numberObj.valueOf()); <span class=\"comment\">// 64</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">typeof</span> numberObj.valueOf()); <span class=\"comment\">// number </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(numberObj.toString()); <span class=\"comment\">// &#x27;64&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">typeof</span> numberObj.toString()); <span class=\"comment\">// string </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(stringObj.valueOf()); <span class=\"comment\">// &#x27;64&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">typeof</span> stringObj.valueOf()); <span class=\"comment\">// string </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(stringObj.toString()); <span class=\"comment\">// &#x27;64&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">typeof</span> stringObj.toString()); <span class=\"comment\">// string </span></span><br></pre></td></tr></table></figure>\n<p>toString()valueOf()symbol</p>\n<p>Symbol</p>\n<h6 id=\"Symbol\"><a href=\"#Symbol\" class=\"headerlink\" title=\"Symbol\"></a>Symbol</h6><p>Symbol  ECMAScript 2015 <br>Symbol</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> sym1 = <span class=\"built_in\">Symbol</span>();</span><br><span class=\"line\"><span class=\"keyword\">let</span> sym2 = <span class=\"built_in\">Symbol</span>(<span class=\"string\">&#x27;sym&#x27;</span>);</span><br></pre></td></tr></table></figure>\n<p><br>1Symbolsymbol<br>2new Symbol ECMAScript 6   new Booleannew Stringnew Number<br>3symbolsymbolsymbol<br>4SymbolObject()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"built_in\">Symbol</span>(<span class=\"string\">&#x27;sym&#x27;</span>) === <span class=\"built_in\">Symbol</span>(<span class=\"string\">&#x27;sym&#x27;</span>); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> sym = <span class=\"keyword\">new</span> <span class=\"built_in\">Symbol</span>(); <span class=\"comment\">// TypeError: Symbol is not a constructor</span></span><br><span class=\"line\"><span class=\"comment\">// 4</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> sym2 = <span class=\"built_in\">Symbol</span>(<span class=\"string\">&#x27;sym&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">typeof</span> sym2; <span class=\"comment\">// &#x27;symbol&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> sym2Obj = <span class=\"built_in\">Object</span>(sym2);</span><br><span class=\"line\"><span class=\"keyword\">typeof</span> sym2Obj; <span class=\"comment\">// &#x27;object&#x27;</span></span><br></pre></td></tr></table></figure>\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol\">symbol</a><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toPrimitive\">Symbol.toPrimitive</a></p>\n<p>Symbol.toPrimitive  Symbol  hint  hint  numberstring  default </p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  Symbol.toPrimitive </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj1 = &#123;&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(+obj1);     <span class=\"comment\">// NaN</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">`<span class=\"subst\">$&#123;obj1&#125;</span>`</span>); <span class=\"comment\">// &quot;[object Object]&quot;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj1 + <span class=\"string\">&quot;&quot;</span>); <span class=\"comment\">// &quot;[object Object]&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  Symbol.toPrimitive </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj2 = &#123;</span><br><span class=\"line\">  [<span class=\"built_in\">Symbol</span>.toPrimitive](hint) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (hint == <span class=\"string\">&quot;number&quot;</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"number\">10</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (hint == <span class=\"string\">&quot;string&quot;</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">&quot;hello&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(+obj2);     <span class=\"comment\">// 10      -- hint  &quot;number&quot;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">`<span class=\"subst\">$&#123;obj2&#125;</span>`</span>); <span class=\"comment\">// &quot;hello&quot; -- hint  &quot;string&quot;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj2 + <span class=\"string\">&quot;&quot;</span>); <span class=\"comment\">// &quot;true&quot;  -- hint  &quot;default&quot;</span></span><br></pre></td></tr></table></figure>\n<p><br>hint <br>number:<br>string:<br>default:</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>1/[Symbol.toPrimitive/]/(hint/)<br>2toString()<br>3valueOf()<br>valueOf()toString()toString()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">  [<span class=\"built_in\">Symbol</span>.toPrimitive](hint) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(hint);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;symbol&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;string&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">valueOf</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;valueOf&#x27;</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">String</span>(obj)); <span class=\"comment\">// string symbol</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Number</span>(obj)); <span class=\"comment\">// number NaN</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj1 = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;string&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">valueOf</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;valueOf&#x27;</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">String</span>(obj1)); <span class=\"comment\">// string</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Number</span>(obj1)); <span class=\"comment\">// NaN</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj2 = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;1&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">String</span>(obj2)); <span class=\"comment\">// &#x27;1&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Number</span>(obj2)); <span class=\"comment\">// 1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj3 = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">valueOf</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;2&#x27;</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Number</span>(obj3)); <span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">String</span>(obj3)); <span class=\"comment\">// [object Object]</span></span><br></pre></td></tr></table></figure>"},{"title":"JavaScript(2)","date":"2022-09-04T13:29:09.000Z","_content":"\n#### \n\n\n###### \n(1)(Simple Factory):\n![simple-factory1](simple-factory1.png)\n![simple-factory2](simple-factory2.png)\n\n(2)\n![create-pop](create-pop.png)\n\n,\n\n###### \n\n![safe-model-class](safe-model-class.png)\n![safe-factory-model](safe-factory-model.png)\n\n###### \n(Abstract Factory):\n\n(1)\n\n![abstract-car](abstract-car.png)\ncarprototype, car getPrice()getSpeed(),\n\n\n(2)\n![abstract-factory1](abstract-factory1.png)\n![abstract-factory2](abstract-factory2.png)\n()newnew,CarBusTruck\n![abstract-factory3](abstract-factory3.png)\n\n###### \n(Builder):\n\n()()\n\n![human](human.png)\n![name](name.png)\n![work](work.png)\n![person](person.png)\n\n\n\n\n****\n\n###### \n(Prototype):\n\n,\n![prototype-model](prototype-model.png)\n\n\n(1)\nnew\n![prototype-inherit1](prototype-inherit1.png)\n![prototype-inherit2](prototype-inherit2.png)\n\n****\n\n###### \n(Singleton):\n\n(1)\nnamespace\n:\n\n(2)\n![static-param](static-param.png)\n\n(3)\n![lazy-single-instance](lazy-single-instance.png)","source":"_posts/24-about-design-model1.md","raw":"---\ntitle: JavaScript(2)\ndate: 2022-09-04 21:29:09\ntags:\n---\n\n#### \n\n\n###### \n(1)(Simple Factory):\n![simple-factory1](simple-factory1.png)\n![simple-factory2](simple-factory2.png)\n\n(2)\n![create-pop](create-pop.png)\n\n,\n\n###### \n\n![safe-model-class](safe-model-class.png)\n![safe-factory-model](safe-factory-model.png)\n\n###### \n(Abstract Factory):\n\n(1)\n\n![abstract-car](abstract-car.png)\ncarprototype, car getPrice()getSpeed(),\n\n\n(2)\n![abstract-factory1](abstract-factory1.png)\n![abstract-factory2](abstract-factory2.png)\n()newnew,CarBusTruck\n![abstract-factory3](abstract-factory3.png)\n\n###### \n(Builder):\n\n()()\n\n![human](human.png)\n![name](name.png)\n![work](work.png)\n![person](person.png)\n\n\n\n\n****\n\n###### \n(Prototype):\n\n,\n![prototype-model](prototype-model.png)\n\n\n(1)\nnew\n![prototype-inherit1](prototype-inherit1.png)\n![prototype-inherit2](prototype-inherit2.png)\n\n****\n\n###### \n(Singleton):\n\n(1)\nnamespace\n:\n\n(2)\n![static-param](static-param.png)\n\n(3)\n![lazy-single-instance](lazy-single-instance.png)","slug":"24-about-design-model1","published":1,"updated":"2022-09-22T09:16:30.022Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gwt000tcktt1jfgchng","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(1)(Simple Factory):<br><img src=\"/2022/09/04/24-about-design-model1/simple-factory1.png\" alt=\"simple-factory1\"><br><img src=\"/2022/09/04/24-about-design-model1/simple-factory2.png\" alt=\"simple-factory2\"></p>\n<p>(2)<br><img src=\"/2022/09/04/24-about-design-model1/create-pop.png\" alt=\"create-pop\"></p>\n<p>,</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><br><img src=\"/2022/09/04/24-about-design-model1/safe-model-class.png\" alt=\"safe-model-class\"><br><img src=\"/2022/09/04/24-about-design-model1/safe-factory-model.png\" alt=\"safe-factory-model\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Abstract Factory):</p>\n<p>(1)<br><br><img src=\"/2022/09/04/24-about-design-model1/abstract-car.png\" alt=\"abstract-car\"><br>carprototype, car getPrice()getSpeed(),<br></p>\n<p>(2)<br><img src=\"/2022/09/04/24-about-design-model1/abstract-factory1.png\" alt=\"abstract-factory1\"><br><img src=\"/2022/09/04/24-about-design-model1/abstract-factory2.png\" alt=\"abstract-factory2\"><br>()newnew,CarBusTruck<br><img src=\"/2022/09/04/24-about-design-model1/abstract-factory3.png\" alt=\"abstract-factory3\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Builder):</p>\n<p>()()<br><br><img src=\"/2022/09/04/24-about-design-model1/human.png\" alt=\"human\"><br><img src=\"/2022/09/04/24-about-design-model1/name.png\" alt=\"name\"><br><img src=\"/2022/09/04/24-about-design-model1/work.png\" alt=\"work\"><br><img src=\"/2022/09/04/24-about-design-model1/person.png\" alt=\"person\"></p>\n<p><br></p>\n<p><strong></strong></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Prototype):</p>\n<p>,<br><img src=\"/2022/09/04/24-about-design-model1/prototype-model.png\" alt=\"prototype-model\"><br></p>\n<p>(1)<br>new<br><img src=\"/2022/09/04/24-about-design-model1/prototype-inherit1.png\" alt=\"prototype-inherit1\"><br><img src=\"/2022/09/04/24-about-design-model1/prototype-inherit2.png\" alt=\"prototype-inherit2\"></p>\n<p><strong></strong></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Singleton):</p>\n<p>(1)<br>namespace<br>:</p>\n<p>(2)<br><img src=\"/2022/09/04/24-about-design-model1/static-param.png\" alt=\"static-param\"></p>\n<p>(3)<br><img src=\"/2022/09/04/24-about-design-model1/lazy-single-instance.png\" alt=\"lazy-single-instance\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(1)(Simple Factory):<br><img src=\"/2022/09/04/24-about-design-model1/simple-factory1.png\" alt=\"simple-factory1\"><br><img src=\"/2022/09/04/24-about-design-model1/simple-factory2.png\" alt=\"simple-factory2\"></p>\n<p>(2)<br><img src=\"/2022/09/04/24-about-design-model1/create-pop.png\" alt=\"create-pop\"></p>\n<p>,</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><br><img src=\"/2022/09/04/24-about-design-model1/safe-model-class.png\" alt=\"safe-model-class\"><br><img src=\"/2022/09/04/24-about-design-model1/safe-factory-model.png\" alt=\"safe-factory-model\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Abstract Factory):</p>\n<p>(1)<br><br><img src=\"/2022/09/04/24-about-design-model1/abstract-car.png\" alt=\"abstract-car\"><br>carprototype, car getPrice()getSpeed(),<br></p>\n<p>(2)<br><img src=\"/2022/09/04/24-about-design-model1/abstract-factory1.png\" alt=\"abstract-factory1\"><br><img src=\"/2022/09/04/24-about-design-model1/abstract-factory2.png\" alt=\"abstract-factory2\"><br>()newnew,CarBusTruck<br><img src=\"/2022/09/04/24-about-design-model1/abstract-factory3.png\" alt=\"abstract-factory3\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Builder):</p>\n<p>()()<br><br><img src=\"/2022/09/04/24-about-design-model1/human.png\" alt=\"human\"><br><img src=\"/2022/09/04/24-about-design-model1/name.png\" alt=\"name\"><br><img src=\"/2022/09/04/24-about-design-model1/work.png\" alt=\"work\"><br><img src=\"/2022/09/04/24-about-design-model1/person.png\" alt=\"person\"></p>\n<p><br></p>\n<p><strong></strong></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Prototype):</p>\n<p>,<br><img src=\"/2022/09/04/24-about-design-model1/prototype-model.png\" alt=\"prototype-model\"><br></p>\n<p>(1)<br>new<br><img src=\"/2022/09/04/24-about-design-model1/prototype-inherit1.png\" alt=\"prototype-inherit1\"><br><img src=\"/2022/09/04/24-about-design-model1/prototype-inherit2.png\" alt=\"prototype-inherit2\"></p>\n<p><strong></strong></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Singleton):</p>\n<p>(1)<br>namespace<br>:</p>\n<p>(2)<br><img src=\"/2022/09/04/24-about-design-model1/static-param.png\" alt=\"static-param\"></p>\n<p>(3)<br><img src=\"/2022/09/04/24-about-design-model1/lazy-single-instance.png\" alt=\"lazy-single-instance\"></p>\n"},{"title":"-Symbol","date":"2022-08-19T05:37:24.000Z","_content":"\n#### Symbol?\n\n\n\n#### \n\n#### Symbol\n\n#### Symbol\n","source":"_posts/22-about-symbol.md","raw":"---\ntitle: -Symbol\ndate: 2022-08-19 13:37:24\ntags:\n---\n\n#### Symbol?\n\n\n\n#### \n\n#### Symbol\n\n#### Symbol\n","slug":"22-about-symbol","published":1,"updated":"2022-08-19T05:42:42.437Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gwu000vckttft2p3qvq","content":"<h4 id=\"Symbol\"><a href=\"#Symbol\" class=\"headerlink\" title=\"Symbol?\"></a>Symbol?</h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"Symbol\"><a href=\"#Symbol\" class=\"headerlink\" title=\"Symbol\"></a>Symbol</h4><h4 id=\"Symbol\"><a href=\"#Symbol\" class=\"headerlink\" title=\"Symbol\"></a>Symbol</h4>","site":{"data":{}},"excerpt":"","more":"<h4 id=\"Symbol\"><a href=\"#Symbol\" class=\"headerlink\" title=\"Symbol?\"></a>Symbol?</h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"Symbol\"><a href=\"#Symbol\" class=\"headerlink\" title=\"Symbol\"></a>Symbol</h4><h4 id=\"Symbol\"><a href=\"#Symbol\" class=\"headerlink\" title=\"Symbol\"></a>Symbol</h4>"},{"title":"JavaScript(1)","date":"2022-08-20T06:47:46.000Z","_content":"\n#### \n\n))\n\n1(prototype)(****)\n(1)\n```javascript\nBook.prototype.display = function() {\n  // ....\n}\n```\n(2)\n```javascript\nBook.prototype = {\n  display = function() {}\n}\n```\n\n2this(prototype)\n(1)thisthis\n(2)prototypeprototype\n\n3constructor\nconstructorprototype prototype thisconstructorconstructor\n![prototype](prototype.png)\n\n4\n(1)\nJavaScript,\n(2)\n thisthis\n(3)()\nthis,\n![public-and-private](public-and-private.png)\n\n5 prototype\n(1)new,\n(2) prototype: prototype thisprototype\n![static-and-public](static-and-public.png)\nnew this prototypeprototype isChineseBookthis Book.isChinese prototype prototypeprototype\n\n6\n\n\n7\nnewthis,new this\n![safe-model](safe-model.png)\n\n\n1 - \n![class-inherit](class-inherit.png)\n2\n,,prototype_proto_\n,\n\n(1)instanceof\ninstanceof prototype\n**instanceof() subClass superClass superClasssubClass prototypeSubClass.prototypesuperClass**\n\n(2)\nprototype,\nprototype,\n\n2 - \n![constructor-inherit](constructor-inherit.png)\nSuperClass.call(thisid); callsuperClassthisprototype\n\n3 - \n(1)prototype,\n![combination-inherit](combination-inherit.png)\n\n(2)\n\n\n4 - \n![prototype-inherit](prototype-inherit.png)\n\n![test-prototype-inherit](test-prototype-inherit.png)\n\n5 - \n![parasitic-inherit](parasitic-inherit.png)\n,\n\n6 - \n\n\n\n![parasitic-inherit-change](parasitic-inherit-change.png)\n\n![parasitic-combination-inherit](parasitic-combination-inherit.png)\n\n![how-to-inherit](how-to-inherit.png)\n\n** prototype.**\n\n\n(extend)\n![multiple-inherit](multiple-inherit.png)\n\n\n\n![multiple-status](multiple-status.png)","source":"_posts/23-about-design-model.md","raw":"---\ntitle: JavaScript(1)\ndate: 2022-08-20 14:47:46\ntags:\n---\n\n#### \n\n))\n\n1(prototype)(****)\n(1)\n```javascript\nBook.prototype.display = function() {\n  // ....\n}\n```\n(2)\n```javascript\nBook.prototype = {\n  display = function() {}\n}\n```\n\n2this(prototype)\n(1)thisthis\n(2)prototypeprototype\n\n3constructor\nconstructorprototype prototype thisconstructorconstructor\n![prototype](prototype.png)\n\n4\n(1)\nJavaScript,\n(2)\n thisthis\n(3)()\nthis,\n![public-and-private](public-and-private.png)\n\n5 prototype\n(1)new,\n(2) prototype: prototype thisprototype\n![static-and-public](static-and-public.png)\nnew this prototypeprototype isChineseBookthis Book.isChinese prototype prototypeprototype\n\n6\n\n\n7\nnewthis,new this\n![safe-model](safe-model.png)\n\n\n1 - \n![class-inherit](class-inherit.png)\n2\n,,prototype_proto_\n,\n\n(1)instanceof\ninstanceof prototype\n**instanceof() subClass superClass superClasssubClass prototypeSubClass.prototypesuperClass**\n\n(2)\nprototype,\nprototype,\n\n2 - \n![constructor-inherit](constructor-inherit.png)\nSuperClass.call(thisid); callsuperClassthisprototype\n\n3 - \n(1)prototype,\n![combination-inherit](combination-inherit.png)\n\n(2)\n\n\n4 - \n![prototype-inherit](prototype-inherit.png)\n\n![test-prototype-inherit](test-prototype-inherit.png)\n\n5 - \n![parasitic-inherit](parasitic-inherit.png)\n,\n\n6 - \n\n\n\n![parasitic-inherit-change](parasitic-inherit-change.png)\n\n![parasitic-combination-inherit](parasitic-combination-inherit.png)\n\n![how-to-inherit](how-to-inherit.png)\n\n** prototype.**\n\n\n(extend)\n![multiple-inherit](multiple-inherit.png)\n\n\n\n![multiple-status](multiple-status.png)","slug":"23-about-design-model","published":1,"updated":"2022-09-22T09:15:58.613Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gwv000xcktt5uwdh7ah","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>))<br><br>1(prototype)(<strong></strong>)<br>(1)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Book.prototype.display = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// ....</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>(2)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Book.prototype = &#123;</span><br><span class=\"line\">  display = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>2this(prototype)<br>(1)thisthis<br>(2)prototypeprototype</p>\n<p>3constructor<br>constructorprototype prototype thisconstructorconstructor<br><img src=\"/2022/08/20/23-about-design-model/prototype.png\" alt=\"prototype\"></p>\n<p>4<br>(1)<br>JavaScript,<br>(2)<br> thisthis<br>(3)()<br>this,<br><img src=\"/2022/08/20/23-about-design-model/public-and-private.png\" alt=\"public-and-private\"></p>\n<p>5 prototype<br>(1)new,<br>(2) prototype: prototype thisprototype<br><img src=\"/2022/08/20/23-about-design-model/static-and-public.png\" alt=\"static-and-public\"><br>new this prototypeprototype isChineseBookthis Book.isChinese prototype prototypeprototype</p>\n<p>6<br></p>\n<p>7<br>newthis,new this<br><img src=\"/2022/08/20/23-about-design-model/safe-model.png\" alt=\"safe-model\"></p>\n<p><br>1 - <br><img src=\"/2022/08/20/23-about-design-model/class-inherit.png\" alt=\"class-inherit\"><br>2<br>,,prototype_proto_<br>,</p>\n<p>(1)instanceof<br>instanceof prototype<br><strong>instanceof() subClass superClass superClasssubClass prototypeSubClass.prototypesuperClass</strong></p>\n<p>(2)<br>prototype,<br>prototype,</p>\n<p>2 - <br><img src=\"/2022/08/20/23-about-design-model/constructor-inherit.png\" alt=\"constructor-inherit\"><br>SuperClass.call(thisid); callsuperClassthisprototype</p>\n<p>3 - <br>(1)prototype,<br><img src=\"/2022/08/20/23-about-design-model/combination-inherit.png\" alt=\"combination-inherit\"><br><br>(2)<br></p>\n<p>4 - <br><img src=\"/2022/08/20/23-about-design-model/prototype-inherit.png\" alt=\"prototype-inherit\"><br><br><img src=\"/2022/08/20/23-about-design-model/test-prototype-inherit.png\" alt=\"test-prototype-inherit\"></p>\n<p>5 - <br><img src=\"/2022/08/20/23-about-design-model/parasitic-inherit.png\" alt=\"parasitic-inherit\"><br>,</p>\n<p>6 - <br></p>\n<p><br><img src=\"/2022/08/20/23-about-design-model/parasitic-inherit-change.png\" alt=\"parasitic-inherit-change\"></p>\n<p><img src=\"/2022/08/20/23-about-design-model/parasitic-combination-inherit.png\" alt=\"parasitic-combination-inherit\"></p>\n<p><img src=\"/2022/08/20/23-about-design-model/how-to-inherit.png\" alt=\"how-to-inherit\"></p>\n<p><strong> prototype.</strong></p>\n<p><br>(extend)<br><img src=\"/2022/08/20/23-about-design-model/multiple-inherit.png\" alt=\"multiple-inherit\"></p>\n<p><br><br><img src=\"/2022/08/20/23-about-design-model/multiple-status.png\" alt=\"multiple-status\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>))<br><br>1(prototype)(<strong></strong>)<br>(1)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Book.prototype.display = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// ....</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>(2)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Book.prototype = &#123;</span><br><span class=\"line\">  display = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>2this(prototype)<br>(1)thisthis<br>(2)prototypeprototype</p>\n<p>3constructor<br>constructorprototype prototype thisconstructorconstructor<br><img src=\"/2022/08/20/23-about-design-model/prototype.png\" alt=\"prototype\"></p>\n<p>4<br>(1)<br>JavaScript,<br>(2)<br> thisthis<br>(3)()<br>this,<br><img src=\"/2022/08/20/23-about-design-model/public-and-private.png\" alt=\"public-and-private\"></p>\n<p>5 prototype<br>(1)new,<br>(2) prototype: prototype thisprototype<br><img src=\"/2022/08/20/23-about-design-model/static-and-public.png\" alt=\"static-and-public\"><br>new this prototypeprototype isChineseBookthis Book.isChinese prototype prototypeprototype</p>\n<p>6<br></p>\n<p>7<br>newthis,new this<br><img src=\"/2022/08/20/23-about-design-model/safe-model.png\" alt=\"safe-model\"></p>\n<p><br>1 - <br><img src=\"/2022/08/20/23-about-design-model/class-inherit.png\" alt=\"class-inherit\"><br>2<br>,,prototype_proto_<br>,</p>\n<p>(1)instanceof<br>instanceof prototype<br><strong>instanceof() subClass superClass superClasssubClass prototypeSubClass.prototypesuperClass</strong></p>\n<p>(2)<br>prototype,<br>prototype,</p>\n<p>2 - <br><img src=\"/2022/08/20/23-about-design-model/constructor-inherit.png\" alt=\"constructor-inherit\"><br>SuperClass.call(thisid); callsuperClassthisprototype</p>\n<p>3 - <br>(1)prototype,<br><img src=\"/2022/08/20/23-about-design-model/combination-inherit.png\" alt=\"combination-inherit\"><br><br>(2)<br></p>\n<p>4 - <br><img src=\"/2022/08/20/23-about-design-model/prototype-inherit.png\" alt=\"prototype-inherit\"><br><br><img src=\"/2022/08/20/23-about-design-model/test-prototype-inherit.png\" alt=\"test-prototype-inherit\"></p>\n<p>5 - <br><img src=\"/2022/08/20/23-about-design-model/parasitic-inherit.png\" alt=\"parasitic-inherit\"><br>,</p>\n<p>6 - <br></p>\n<p><br><img src=\"/2022/08/20/23-about-design-model/parasitic-inherit-change.png\" alt=\"parasitic-inherit-change\"></p>\n<p><img src=\"/2022/08/20/23-about-design-model/parasitic-combination-inherit.png\" alt=\"parasitic-combination-inherit\"></p>\n<p><img src=\"/2022/08/20/23-about-design-model/how-to-inherit.png\" alt=\"how-to-inherit\"></p>\n<p><strong> prototype.</strong></p>\n<p><br>(extend)<br><img src=\"/2022/08/20/23-about-design-model/multiple-inherit.png\" alt=\"multiple-inherit\"></p>\n<p><br><br><img src=\"/2022/08/20/23-about-design-model/multiple-status.png\" alt=\"multiple-status\"></p>\n"},{"title":"JavaScript(3)","date":"2022-09-06T07:11:48.000Z","_content":"\n#### \n\n\n###### \n(Facade):JavaScript\n\n\n![out-look](out-look.png)\n\n###### \n(Adapter):()(),()\n\n(1)\n(2)\n(3)\n\n(4)\n\n\n###### \n(Proxy):\n\n****\n(1)imgsrc\nget\n\n![station-culculate](station-culculate.png)\n\n(2)JSONP\nscript\n\n\n(3)\nBAHeaderA\n\n###### \n(Decorator):()\n![decorator](decorator.png)\n\n****\n\n\n\n###### \n(Bridge):\n\n\n\n![bridge1](bridge1.png)\n![bridge2](bridge2.png)\n![bridge3](bridge3.png)\n\n()(UI)\n\n###### \n(Composite):-\n\n\n\n###### \n(Flyweight):\n\n,\n\n,","source":"_posts/25-about-design-model2.md","raw":"---\ntitle: JavaScript(3)\ndate: 2022-09-06 15:11:48\ntags:\n---\n\n#### \n\n\n###### \n(Facade):JavaScript\n\n\n![out-look](out-look.png)\n\n###### \n(Adapter):()(),()\n\n(1)\n(2)\n(3)\n\n(4)\n\n\n###### \n(Proxy):\n\n****\n(1)imgsrc\nget\n\n![station-culculate](station-culculate.png)\n\n(2)JSONP\nscript\n\n\n(3)\nBAHeaderA\n\n###### \n(Decorator):()\n![decorator](decorator.png)\n\n****\n\n\n\n###### \n(Bridge):\n\n\n\n![bridge1](bridge1.png)\n![bridge2](bridge2.png)\n![bridge3](bridge3.png)\n\n()(UI)\n\n###### \n(Composite):-\n\n\n\n###### \n(Flyweight):\n\n,\n\n,","slug":"25-about-design-model2","published":1,"updated":"2022-09-22T09:16:44.404Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gwv000zcktthfkx2hwg","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Facade):JavaScript</p>\n<p><br><img src=\"/2022/09/06/25-about-design-model2/out-look.png\" alt=\"out-look\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Adapter):()(),()</p>\n<p>(1)<br>(2)<br>(3)<br><br>(4)<br></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Proxy):</p>\n<p><strong></strong><br>(1)imgsrc<br>get<br><br><img src=\"/2022/09/06/25-about-design-model2/station-culculate.png\" alt=\"station-culculate\"></p>\n<p>(2)JSONP<br>script<br></p>\n<p>(3)<br>BAHeaderA</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Decorator):()<br><img src=\"/2022/09/06/25-about-design-model2/decorator.png\" alt=\"decorator\"></p>\n<p><strong></strong><br><br></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Bridge):</p>\n<p></p>\n<p><img src=\"/2022/09/06/25-about-design-model2/bridge1.png\" alt=\"bridge1\"><br><img src=\"/2022/09/06/25-about-design-model2/bridge2.png\" alt=\"bridge2\"><br><img src=\"/2022/09/06/25-about-design-model2/bridge3.png\" alt=\"bridge3\"></p>\n<p>()(UI)</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Composite):-</p>\n<p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Flyweight):</p>\n<p>,</p>\n<p>,</p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Facade):JavaScript</p>\n<p><br><img src=\"/2022/09/06/25-about-design-model2/out-look.png\" alt=\"out-look\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Adapter):()(),()</p>\n<p>(1)<br>(2)<br>(3)<br><br>(4)<br></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Proxy):</p>\n<p><strong></strong><br>(1)imgsrc<br>get<br><br><img src=\"/2022/09/06/25-about-design-model2/station-culculate.png\" alt=\"station-culculate\"></p>\n<p>(2)JSONP<br>script<br></p>\n<p>(3)<br>BAHeaderA</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Decorator):()<br><img src=\"/2022/09/06/25-about-design-model2/decorator.png\" alt=\"decorator\"></p>\n<p><strong></strong><br><br></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Bridge):</p>\n<p></p>\n<p><img src=\"/2022/09/06/25-about-design-model2/bridge1.png\" alt=\"bridge1\"><br><img src=\"/2022/09/06/25-about-design-model2/bridge2.png\" alt=\"bridge2\"><br><img src=\"/2022/09/06/25-about-design-model2/bridge3.png\" alt=\"bridge3\"></p>\n<p>()(UI)</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Composite):-</p>\n<p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Flyweight):</p>\n<p>,</p>\n<p>,</p>\n"},{"title":"JavaScript(4)","date":"2022-09-07T09:40:43.000Z","_content":"\n#### \n,\n\n###### \n(Template Method):\n\n\n\n![basic-model](basic-model.png)\n![inherit-model](inherit-model.png)\n![inherit-as-basic-model](inherit-as-basic-model.png)\n\n###### \n(Observer):-\n\n\n\n![observer](observer.png)\n![observer-regist](observer-regist.png)\n![observer-fire](observer-fire.png)\n![observer-remove](observer-remove.png)\n\n![regist-message](regist-message.png)\n![regist-change-num](regist-change-num.png)\n![add-message](add-message.png)\n\n###### \n(State):\n\n\n\n![vote-status](vote-status.png)\n\n\n,\n![marry-state](marry-state.png)\n![marry-state1](marry-state1.png)\n\n###### \n(Strategy):\n\n****\n\n\n\n![price-strategy](price-strategy.png)\n\n****\n\n,\n,,\n\n****\n,\n\n\n****\n\n\n\n\n\n###### \n(Chain of Responsibility):\n\n\n![send-data](send-data.png)\n![deal-data](deal-data.png)\n![create-component](create-component.png)\n\n****\n\n\n\n###### \n(Command):\n\n![command-model-1](command-model-1.png)\n![command-model-2](command-model-2.png)\n![command-model-3](command-model-3.png)\n\n:\n\n\n\n:\n\n\n###### \n(Visitor):\n\n![visitor-model](visitor-model.png)\n\n###### \n(Mediator):\n\n(1)\n\n\n\n,\n()\n\n![mediator-model](mediator-model.png)\n\n###### \n(Memento):\n\n![cache-model](cache-model.png)\n\n###### \n(Iterator):\n\n![iterator-model](iterator-model.png)\n\n###### \n(Interpreter):\n\n![explain-model-1](explain-model-1.png)\n![explain-model-2](explain-model-2.png)\n![explain-model-3](explain-model-3.png)\n\n**,**","source":"_posts/26-about-design-model3.md","raw":"---\ntitle: JavaScript(4)\ndate: 2022-09-07 17:40:43\ntags:\n---\n\n#### \n,\n\n###### \n(Template Method):\n\n\n\n![basic-model](basic-model.png)\n![inherit-model](inherit-model.png)\n![inherit-as-basic-model](inherit-as-basic-model.png)\n\n###### \n(Observer):-\n\n\n\n![observer](observer.png)\n![observer-regist](observer-regist.png)\n![observer-fire](observer-fire.png)\n![observer-remove](observer-remove.png)\n\n![regist-message](regist-message.png)\n![regist-change-num](regist-change-num.png)\n![add-message](add-message.png)\n\n###### \n(State):\n\n\n\n![vote-status](vote-status.png)\n\n\n,\n![marry-state](marry-state.png)\n![marry-state1](marry-state1.png)\n\n###### \n(Strategy):\n\n****\n\n\n\n![price-strategy](price-strategy.png)\n\n****\n\n,\n,,\n\n****\n,\n\n\n****\n\n\n\n\n\n###### \n(Chain of Responsibility):\n\n\n![send-data](send-data.png)\n![deal-data](deal-data.png)\n![create-component](create-component.png)\n\n****\n\n\n\n###### \n(Command):\n\n![command-model-1](command-model-1.png)\n![command-model-2](command-model-2.png)\n![command-model-3](command-model-3.png)\n\n:\n\n\n\n:\n\n\n###### \n(Visitor):\n\n![visitor-model](visitor-model.png)\n\n###### \n(Mediator):\n\n(1)\n\n\n\n,\n()\n\n![mediator-model](mediator-model.png)\n\n###### \n(Memento):\n\n![cache-model](cache-model.png)\n\n###### \n(Iterator):\n\n![iterator-model](iterator-model.png)\n\n###### \n(Interpreter):\n\n![explain-model-1](explain-model-1.png)\n![explain-model-2](explain-model-2.png)\n![explain-model-3](explain-model-3.png)\n\n**,**","slug":"26-about-design-model3","published":1,"updated":"2022-09-22T09:17:06.427Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gww0011cktt12x8feua","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>,</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Template Method):</p>\n<p></p>\n<p><img src=\"/2022/09/07/26-about-design-model3/basic-model.png\" alt=\"basic-model\"><br><img src=\"/2022/09/07/26-about-design-model3/inherit-model.png\" alt=\"inherit-model\"><br><img src=\"/2022/09/07/26-about-design-model3/inherit-as-basic-model.png\" alt=\"inherit-as-basic-model\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Observer):-</p>\n<p></p>\n<p><img src=\"/2022/09/07/26-about-design-model3/observer.png\" alt=\"observer\"><br><img src=\"/2022/09/07/26-about-design-model3/observer-regist.png\" alt=\"observer-regist\"><br><img src=\"/2022/09/07/26-about-design-model3/observer-fire.png\" alt=\"observer-fire\"><br><img src=\"/2022/09/07/26-about-design-model3/observer-remove.png\" alt=\"observer-remove\"></p>\n<p><img src=\"/2022/09/07/26-about-design-model3/regist-message.png\" alt=\"regist-message\"><br><img src=\"/2022/09/07/26-about-design-model3/regist-change-num.png\" alt=\"regist-change-num\"><br><img src=\"/2022/09/07/26-about-design-model3/add-message.png\" alt=\"add-message\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(State):</p>\n<p></p>\n<p><img src=\"/2022/09/07/26-about-design-model3/vote-status.png\" alt=\"vote-status\"></p>\n<p><br>,<br><img src=\"/2022/09/07/26-about-design-model3/marry-state.png\" alt=\"marry-state\"><br><img src=\"/2022/09/07/26-about-design-model3/marry-state1.png\" alt=\"marry-state1\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Strategy):</p>\n<p><strong></strong><br><br></p>\n<p><img src=\"/2022/09/07/26-about-design-model3/price-strategy.png\" alt=\"price-strategy\"></p>\n<p><strong></strong><br><br>,<br>,,</p>\n<p><strong></strong><br>,<br></p>\n<p><strong></strong><br><br><br><br></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Chain of Responsibility):</p>\n<p><br><img src=\"/2022/09/07/26-about-design-model3/send-data.png\" alt=\"send-data\"><br><img src=\"/2022/09/07/26-about-design-model3/deal-data.png\" alt=\"deal-data\"><br><img src=\"/2022/09/07/26-about-design-model3/create-component.png\" alt=\"create-component\"></p>\n<p><strong></strong><br><br></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Command):<br><br><img src=\"/2022/09/07/26-about-design-model3/command-model-1.png\" alt=\"command-model-1\"><br><img src=\"/2022/09/07/26-about-design-model3/command-model-2.png\" alt=\"command-model-2\"><br><img src=\"/2022/09/07/26-about-design-model3/command-model-3.png\" alt=\"command-model-3\"></p>\n<p>:<br><br></p>\n<p>:<br></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Visitor):</p>\n<p><img src=\"/2022/09/07/26-about-design-model3/visitor-model.png\" alt=\"visitor-model\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Mediator):</p>\n<p>(1)<br><br><br><br>,<br>()</p>\n<p><img src=\"/2022/09/07/26-about-design-model3/mediator-model.png\" alt=\"mediator-model\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Memento):</p>\n<p><img src=\"/2022/09/07/26-about-design-model3/cache-model.png\" alt=\"cache-model\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Iterator):</p>\n<p><img src=\"/2022/09/07/26-about-design-model3/iterator-model.png\" alt=\"iterator-model\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Interpreter):</p>\n<p><img src=\"/2022/09/07/26-about-design-model3/explain-model-1.png\" alt=\"explain-model-1\"><br><img src=\"/2022/09/07/26-about-design-model3/explain-model-2.png\" alt=\"explain-model-2\"><br><img src=\"/2022/09/07/26-about-design-model3/explain-model-3.png\" alt=\"explain-model-3\"></p>\n<p><strong>,</strong></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>,</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Template Method):</p>\n<p></p>\n<p><img src=\"/2022/09/07/26-about-design-model3/basic-model.png\" alt=\"basic-model\"><br><img src=\"/2022/09/07/26-about-design-model3/inherit-model.png\" alt=\"inherit-model\"><br><img src=\"/2022/09/07/26-about-design-model3/inherit-as-basic-model.png\" alt=\"inherit-as-basic-model\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Observer):-</p>\n<p></p>\n<p><img src=\"/2022/09/07/26-about-design-model3/observer.png\" alt=\"observer\"><br><img src=\"/2022/09/07/26-about-design-model3/observer-regist.png\" alt=\"observer-regist\"><br><img src=\"/2022/09/07/26-about-design-model3/observer-fire.png\" alt=\"observer-fire\"><br><img src=\"/2022/09/07/26-about-design-model3/observer-remove.png\" alt=\"observer-remove\"></p>\n<p><img src=\"/2022/09/07/26-about-design-model3/regist-message.png\" alt=\"regist-message\"><br><img src=\"/2022/09/07/26-about-design-model3/regist-change-num.png\" alt=\"regist-change-num\"><br><img src=\"/2022/09/07/26-about-design-model3/add-message.png\" alt=\"add-message\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(State):</p>\n<p></p>\n<p><img src=\"/2022/09/07/26-about-design-model3/vote-status.png\" alt=\"vote-status\"></p>\n<p><br>,<br><img src=\"/2022/09/07/26-about-design-model3/marry-state.png\" alt=\"marry-state\"><br><img src=\"/2022/09/07/26-about-design-model3/marry-state1.png\" alt=\"marry-state1\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Strategy):</p>\n<p><strong></strong><br><br></p>\n<p><img src=\"/2022/09/07/26-about-design-model3/price-strategy.png\" alt=\"price-strategy\"></p>\n<p><strong></strong><br><br>,<br>,,</p>\n<p><strong></strong><br>,<br></p>\n<p><strong></strong><br><br><br><br></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Chain of Responsibility):</p>\n<p><br><img src=\"/2022/09/07/26-about-design-model3/send-data.png\" alt=\"send-data\"><br><img src=\"/2022/09/07/26-about-design-model3/deal-data.png\" alt=\"deal-data\"><br><img src=\"/2022/09/07/26-about-design-model3/create-component.png\" alt=\"create-component\"></p>\n<p><strong></strong><br><br></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Command):<br><br><img src=\"/2022/09/07/26-about-design-model3/command-model-1.png\" alt=\"command-model-1\"><br><img src=\"/2022/09/07/26-about-design-model3/command-model-2.png\" alt=\"command-model-2\"><br><img src=\"/2022/09/07/26-about-design-model3/command-model-3.png\" alt=\"command-model-3\"></p>\n<p>:<br><br></p>\n<p>:<br></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Visitor):</p>\n<p><img src=\"/2022/09/07/26-about-design-model3/visitor-model.png\" alt=\"visitor-model\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Mediator):</p>\n<p>(1)<br><br><br><br>,<br>()</p>\n<p><img src=\"/2022/09/07/26-about-design-model3/mediator-model.png\" alt=\"mediator-model\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Memento):</p>\n<p><img src=\"/2022/09/07/26-about-design-model3/cache-model.png\" alt=\"cache-model\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Iterator):</p>\n<p><img src=\"/2022/09/07/26-about-design-model3/iterator-model.png\" alt=\"iterator-model\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Interpreter):</p>\n<p><img src=\"/2022/09/07/26-about-design-model3/explain-model-1.png\" alt=\"explain-model-1\"><br><img src=\"/2022/09/07/26-about-design-model3/explain-model-2.png\" alt=\"explain-model-2\"><br><img src=\"/2022/09/07/26-about-design-model3/explain-model-3.png\" alt=\"explain-model-3\"></p>\n<p><strong>,</strong></p>\n"},{"title":"JavaScript(5)","date":"2022-09-19T09:51:10.000Z","_content":"\n#### \n\n\n###### \n(Operate of Responsibility):\n\n![chain-model-1](chain-model-1.png)\n![chain-model-2](chain-model-2.png)\n![chain-model-3](chain-model-3.png)\n\njOuery\nJavaScript JavaScriptJavaScriptlength ![] A.fn\n![chain-model-4](chain-model-4.png)\n\n![chain-model-5](chain-model-5.png)\n![chain-model-6](chain-model-6.png)\n\n###### \n(Entrust):\n\n\n\n\n\n![entrust-model-1](entrust-model-1.png)\n![entrust-model-2](entrust-model-2.png)\n\n###### \n(Data access object-DAO):DAO\n\n![localstorage-model-1](localstorage-model-1.png)\n![localstorage-model-2](localstorage-model-2.png)\n![localstorage-model-3](localstorage-model-3.png)\n![localstorage-model-4](localstorage-model-4.png)\n![localstorage-model-5](localstorage-model-5.png)\n![localstorage-model-6](localstorage-model-6.png)\n\n###### \n(Throttler):\n\n![throttle-model-1](throttle-model-1.png)\n![throttle-model-2](throttle-model-2.png)\n![throttle-model-3](throttle-model-3.png)\n\n(JavaScriptJavaScript ,())\n\n\n(1)\n(2)(worker)(ajax)\n\n###### \n(Simple template):\n\n![template-model-1](template-model-1.png)\n![template-model-2](template-model-2.png)\n![template-model-3](template-model-3.png)\n![template-model-4](template-model-4.png)\n![template-model-5](template-model-5.png)\n![template-model-6](template-model-6.png)\n\n###### \n(layier):\n\n\n(1)\n(2)\n\n![lazy-model-1](lazy-model-1.png)\n![lazy-model-2](lazy-model-2.png)\n![lazy-model-3](lazy-model-3.png)\n![lazy-model-4](lazy-model-4.png)\n![lazy-model-5](lazy-model-5.png)\n![lazy-model-6](lazy-model-6.png)\n\n###### \n(participator):\n\n![participate-model-1](participate-model-1.png)\n![participate-model-2](participate-model-2.png)\n\n\n\n![participate-model-3](participate-model-3.png)\n![participate-model-4](participate-model-4.png)\n![participate-model-5](participate-model-5.png)\n\n\n(1)()setTimeoutsetInterval\n(2),,,,\n\n\n![participate-model-6](participate-model-6.png)\n\n###### \n(waiter):\n\n![waiter-model-1](waiter-model-1.png)\n![waiter-model-2](waiter-model-2.png)\n![waiter-model-3](waiter-model-3.png)\n![waiter-model-4](waiter-model-4.png)\n![waiter-model-5](waiter-model-5.png)\n![waiter-model-6](waiter-model-6.png)\n![waiter-model-7](waiter-model-7.png)\n![waiter-model-8](waiter-model-8.png)\n\n","source":"_posts/27-about-design-model4.md","raw":"---\ntitle: JavaScript(5)\ndate: 2022-09-19 17:51:10\ntags:\n---\n\n#### \n\n\n###### \n(Operate of Responsibility):\n\n![chain-model-1](chain-model-1.png)\n![chain-model-2](chain-model-2.png)\n![chain-model-3](chain-model-3.png)\n\njOuery\nJavaScript JavaScriptJavaScriptlength ![] A.fn\n![chain-model-4](chain-model-4.png)\n\n![chain-model-5](chain-model-5.png)\n![chain-model-6](chain-model-6.png)\n\n###### \n(Entrust):\n\n\n\n\n\n![entrust-model-1](entrust-model-1.png)\n![entrust-model-2](entrust-model-2.png)\n\n###### \n(Data access object-DAO):DAO\n\n![localstorage-model-1](localstorage-model-1.png)\n![localstorage-model-2](localstorage-model-2.png)\n![localstorage-model-3](localstorage-model-3.png)\n![localstorage-model-4](localstorage-model-4.png)\n![localstorage-model-5](localstorage-model-5.png)\n![localstorage-model-6](localstorage-model-6.png)\n\n###### \n(Throttler):\n\n![throttle-model-1](throttle-model-1.png)\n![throttle-model-2](throttle-model-2.png)\n![throttle-model-3](throttle-model-3.png)\n\n(JavaScriptJavaScript ,())\n\n\n(1)\n(2)(worker)(ajax)\n\n###### \n(Simple template):\n\n![template-model-1](template-model-1.png)\n![template-model-2](template-model-2.png)\n![template-model-3](template-model-3.png)\n![template-model-4](template-model-4.png)\n![template-model-5](template-model-5.png)\n![template-model-6](template-model-6.png)\n\n###### \n(layier):\n\n\n(1)\n(2)\n\n![lazy-model-1](lazy-model-1.png)\n![lazy-model-2](lazy-model-2.png)\n![lazy-model-3](lazy-model-3.png)\n![lazy-model-4](lazy-model-4.png)\n![lazy-model-5](lazy-model-5.png)\n![lazy-model-6](lazy-model-6.png)\n\n###### \n(participator):\n\n![participate-model-1](participate-model-1.png)\n![participate-model-2](participate-model-2.png)\n\n\n\n![participate-model-3](participate-model-3.png)\n![participate-model-4](participate-model-4.png)\n![participate-model-5](participate-model-5.png)\n\n\n(1)()setTimeoutsetInterval\n(2),,,,\n\n\n![participate-model-6](participate-model-6.png)\n\n###### \n(waiter):\n\n![waiter-model-1](waiter-model-1.png)\n![waiter-model-2](waiter-model-2.png)\n![waiter-model-3](waiter-model-3.png)\n![waiter-model-4](waiter-model-4.png)\n![waiter-model-5](waiter-model-5.png)\n![waiter-model-6](waiter-model-6.png)\n![waiter-model-7](waiter-model-7.png)\n![waiter-model-8](waiter-model-8.png)\n\n","slug":"27-about-design-model4","published":1,"updated":"2022-09-23T06:51:25.454Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gwx0013cktt7ij295mx","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Operate of Responsibility):</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/chain-model-1.png\" alt=\"chain-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/chain-model-2.png\" alt=\"chain-model-2\"><br><img src=\"/2022/09/19/27-about-design-model4/chain-model-3.png\" alt=\"chain-model-3\"></p>\n<p>jOuery<br>JavaScript JavaScriptJavaScriptlength ![] A.fn<br><img src=\"/2022/09/19/27-about-design-model4/chain-model-4.png\" alt=\"chain-model-4\"></p>\n<p><img src=\"/2022/09/19/27-about-design-model4/chain-model-5.png\" alt=\"chain-model-5\"><br><img src=\"/2022/09/19/27-about-design-model4/chain-model-6.png\" alt=\"chain-model-6\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Entrust):</p>\n<p></p>\n<p></p>\n<p><img src=\"/2022/09/19/27-about-design-model4/entrust-model-1.png\" alt=\"entrust-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/entrust-model-2.png\" alt=\"entrust-model-2\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Data access object-DAO):DAO</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/localstorage-model-1.png\" alt=\"localstorage-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/localstorage-model-2.png\" alt=\"localstorage-model-2\"><br><img src=\"/2022/09/19/27-about-design-model4/localstorage-model-3.png\" alt=\"localstorage-model-3\"><br><img src=\"/2022/09/19/27-about-design-model4/localstorage-model-4.png\" alt=\"localstorage-model-4\"><br><img src=\"/2022/09/19/27-about-design-model4/localstorage-model-5.png\" alt=\"localstorage-model-5\"><br><img src=\"/2022/09/19/27-about-design-model4/localstorage-model-6.png\" alt=\"localstorage-model-6\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Throttler):</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/throttle-model-1.png\" alt=\"throttle-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/throttle-model-2.png\" alt=\"throttle-model-2\"><br><img src=\"/2022/09/19/27-about-design-model4/throttle-model-3.png\" alt=\"throttle-model-3\"></p>\n<p>(JavaScriptJavaScript ,())</p>\n<p><br>(1)<br>(2)(worker)(ajax)</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Simple template):</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/template-model-1.png\" alt=\"template-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/template-model-2.png\" alt=\"template-model-2\"><br><img src=\"/2022/09/19/27-about-design-model4/template-model-3.png\" alt=\"template-model-3\"><br><img src=\"/2022/09/19/27-about-design-model4/template-model-4.png\" alt=\"template-model-4\"><br><img src=\"/2022/09/19/27-about-design-model4/template-model-5.png\" alt=\"template-model-5\"><br><img src=\"/2022/09/19/27-about-design-model4/template-model-6.png\" alt=\"template-model-6\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(layier):</p>\n<p><br>(1)<br>(2)</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/lazy-model-1.png\" alt=\"lazy-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/lazy-model-2.png\" alt=\"lazy-model-2\"><br><img src=\"/2022/09/19/27-about-design-model4/lazy-model-3.png\" alt=\"lazy-model-3\"><br><img src=\"/2022/09/19/27-about-design-model4/lazy-model-4.png\" alt=\"lazy-model-4\"><br><img src=\"/2022/09/19/27-about-design-model4/lazy-model-5.png\" alt=\"lazy-model-5\"><br><img src=\"/2022/09/19/27-about-design-model4/lazy-model-6.png\" alt=\"lazy-model-6\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(participator):</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/participate-model-1.png\" alt=\"participate-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/participate-model-2.png\" alt=\"participate-model-2\"></p>\n<p></p>\n<p><img src=\"/2022/09/19/27-about-design-model4/participate-model-3.png\" alt=\"participate-model-3\"><br><img src=\"/2022/09/19/27-about-design-model4/participate-model-4.png\" alt=\"participate-model-4\"><br><img src=\"/2022/09/19/27-about-design-model4/participate-model-5.png\" alt=\"participate-model-5\"></p>\n<p><br>(1)()setTimeoutsetInterval<br>(2),,,,</p>\n<p><br><img src=\"/2022/09/19/27-about-design-model4/participate-model-6.png\" alt=\"participate-model-6\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(waiter):</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/waiter-model-1.png\" alt=\"waiter-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-2.png\" alt=\"waiter-model-2\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-3.png\" alt=\"waiter-model-3\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-4.png\" alt=\"waiter-model-4\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-5.png\" alt=\"waiter-model-5\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-6.png\" alt=\"waiter-model-6\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-7.png\" alt=\"waiter-model-7\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-8.png\" alt=\"waiter-model-8\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Operate of Responsibility):</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/chain-model-1.png\" alt=\"chain-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/chain-model-2.png\" alt=\"chain-model-2\"><br><img src=\"/2022/09/19/27-about-design-model4/chain-model-3.png\" alt=\"chain-model-3\"></p>\n<p>jOuery<br>JavaScript JavaScriptJavaScriptlength ![] A.fn<br><img src=\"/2022/09/19/27-about-design-model4/chain-model-4.png\" alt=\"chain-model-4\"></p>\n<p><img src=\"/2022/09/19/27-about-design-model4/chain-model-5.png\" alt=\"chain-model-5\"><br><img src=\"/2022/09/19/27-about-design-model4/chain-model-6.png\" alt=\"chain-model-6\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Entrust):</p>\n<p></p>\n<p></p>\n<p><img src=\"/2022/09/19/27-about-design-model4/entrust-model-1.png\" alt=\"entrust-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/entrust-model-2.png\" alt=\"entrust-model-2\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Data access object-DAO):DAO</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/localstorage-model-1.png\" alt=\"localstorage-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/localstorage-model-2.png\" alt=\"localstorage-model-2\"><br><img src=\"/2022/09/19/27-about-design-model4/localstorage-model-3.png\" alt=\"localstorage-model-3\"><br><img src=\"/2022/09/19/27-about-design-model4/localstorage-model-4.png\" alt=\"localstorage-model-4\"><br><img src=\"/2022/09/19/27-about-design-model4/localstorage-model-5.png\" alt=\"localstorage-model-5\"><br><img src=\"/2022/09/19/27-about-design-model4/localstorage-model-6.png\" alt=\"localstorage-model-6\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Throttler):</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/throttle-model-1.png\" alt=\"throttle-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/throttle-model-2.png\" alt=\"throttle-model-2\"><br><img src=\"/2022/09/19/27-about-design-model4/throttle-model-3.png\" alt=\"throttle-model-3\"></p>\n<p>(JavaScriptJavaScript ,())</p>\n<p><br>(1)<br>(2)(worker)(ajax)</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(Simple template):</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/template-model-1.png\" alt=\"template-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/template-model-2.png\" alt=\"template-model-2\"><br><img src=\"/2022/09/19/27-about-design-model4/template-model-3.png\" alt=\"template-model-3\"><br><img src=\"/2022/09/19/27-about-design-model4/template-model-4.png\" alt=\"template-model-4\"><br><img src=\"/2022/09/19/27-about-design-model4/template-model-5.png\" alt=\"template-model-5\"><br><img src=\"/2022/09/19/27-about-design-model4/template-model-6.png\" alt=\"template-model-6\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(layier):</p>\n<p><br>(1)<br>(2)</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/lazy-model-1.png\" alt=\"lazy-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/lazy-model-2.png\" alt=\"lazy-model-2\"><br><img src=\"/2022/09/19/27-about-design-model4/lazy-model-3.png\" alt=\"lazy-model-3\"><br><img src=\"/2022/09/19/27-about-design-model4/lazy-model-4.png\" alt=\"lazy-model-4\"><br><img src=\"/2022/09/19/27-about-design-model4/lazy-model-5.png\" alt=\"lazy-model-5\"><br><img src=\"/2022/09/19/27-about-design-model4/lazy-model-6.png\" alt=\"lazy-model-6\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(participator):</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/participate-model-1.png\" alt=\"participate-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/participate-model-2.png\" alt=\"participate-model-2\"></p>\n<p></p>\n<p><img src=\"/2022/09/19/27-about-design-model4/participate-model-3.png\" alt=\"participate-model-3\"><br><img src=\"/2022/09/19/27-about-design-model4/participate-model-4.png\" alt=\"participate-model-4\"><br><img src=\"/2022/09/19/27-about-design-model4/participate-model-5.png\" alt=\"participate-model-5\"></p>\n<p><br>(1)()setTimeoutsetInterval<br>(2),,,,</p>\n<p><br><img src=\"/2022/09/19/27-about-design-model4/participate-model-6.png\" alt=\"participate-model-6\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(waiter):</p>\n<p><img src=\"/2022/09/19/27-about-design-model4/waiter-model-1.png\" alt=\"waiter-model-1\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-2.png\" alt=\"waiter-model-2\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-3.png\" alt=\"waiter-model-3\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-4.png\" alt=\"waiter-model-4\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-5.png\" alt=\"waiter-model-5\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-6.png\" alt=\"waiter-model-6\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-7.png\" alt=\"waiter-model-7\"><br><img src=\"/2022/09/19/27-about-design-model4/waiter-model-8.png\" alt=\"waiter-model-8\"></p>\n"},{"title":"JavaScript(6)","date":"2022-09-20T07:22:12.000Z","_content":"\n#### \n,,\n\n###### \n:\nSMD (Synchronous Module Definition):\n\n(1)\n\n![module-model-1](module-model-1.png)\n![module-model-2](module-model-2.png)\n![module-model-3](module-model-3.png)\n![module-model-4](module-model-4.png)\n![module-model-5](module-model-5.png)\n\n###### \nAMD (Asynchronous Module Definition):\n\n![async-module-model-1](async-module-model-1.png)\n![async-module-model-2](async-module-model-2.png)\n![async-module-model-3](async-module-model-3.png)\n![async-module-model-4](async-module-model-4.png)\n![async-module-model-5](async-module-model-5.png)\n![async-module-model-6](async-module-model-6.png)\n![async-module-model-7](async-module-model-7.png)\n![async-module-model-8](async-module-model-8.png)\n![async-module-model-9](async-module-model-9.png)\n\n###### Widget\nWidget:(Web Widget)WidgetWeb Widget\n\n![widget-model-1](widget-model-1.png)\n![widget-model-2](widget-model-2.png)\n![widget-model-3](widget-model-3.png)\n![widget-model-4](widget-model-4.png)\n![widget-model-5](widget-model-5.png)\n![widget-model-6](widget-model-6.png)\n\n###### MVC\nMVC(model)(view)(controller)\n\n![mvc-model-1](mvc-model-1.png)\n\n****\n**3**\n\n![mvc-model-2](mvc-model-2.png)\n![mvc-model-3](mvc-model-3.png)\n3(M),\n\n![mvc-model-4](mvc-model-4.png)\n\n###### MVP\nMVP(Model)(View)(Presenter): ViewModelPresenterModelPresenter\n\n![mvp-model-1](mvp-model-1.png)\n![mvp-model-2](mvp-model-2.png)\n![mvp-model-3](mvp-model-3.png)\n![mvp-model-4](mvp-model-4.png)\n![mvp-model-5](mvp-model-5.png)\n![mvp-model-6](mvp-model-6.png)\n![mvp-model-7](mvp-model-7.png)\n\nMVPMVCMVPMVP\n\n###### MVVM\nMVVM(Model)-(View)-(ViewModel):(View)(ViewModel)(ViewModel)(View)(Model)\n\n![mvvm-model-1](mvvm-model-1.png)\n![mvvm-model-2](mvvm-model-2.png)\n![mvvm-model-3](mvvm-model-3.png)\n![mvvm-model-4](mvvm-model-4.png)\n![mvvm-model-5](mvvm-model-5.png)\n![mvvm-model-6](mvvm-model-6.png)\n![mvvm-model-7](mvvm-model-7.png)\n![mvvm-model-8](mvvm-model-8.png)\n\n###### \n![appendix-1](appendix-1.png)\n![appendix-2](appendix-2.png)\n![appendix-3](appendix-3.png)\n![appendix-4](appendix-4.png)\n![appendix-5](appendix-5.png)\n![appendix-6](appendix-6.png)\n![appendix-7](appendix-7.png)\n![appendix-8](appendix-8.png)\n![appendix-9](appendix-9.png)\n![appendix-10](appendix-10.png)\n\n\n\n(1)Arraysliceslice = Array.prototype.slice\n\n\n\n(2)\n\n\n\n(3)\n\n\n  \n(1, 2, ...);   (1)(2)...\n\n","source":"_posts/28-about-design-model5.md","raw":"---\ntitle: JavaScript(6)\ndate: 2022-09-20 15:22:12\ntags:\n---\n\n#### \n,,\n\n###### \n:\nSMD (Synchronous Module Definition):\n\n(1)\n\n![module-model-1](module-model-1.png)\n![module-model-2](module-model-2.png)\n![module-model-3](module-model-3.png)\n![module-model-4](module-model-4.png)\n![module-model-5](module-model-5.png)\n\n###### \nAMD (Asynchronous Module Definition):\n\n![async-module-model-1](async-module-model-1.png)\n![async-module-model-2](async-module-model-2.png)\n![async-module-model-3](async-module-model-3.png)\n![async-module-model-4](async-module-model-4.png)\n![async-module-model-5](async-module-model-5.png)\n![async-module-model-6](async-module-model-6.png)\n![async-module-model-7](async-module-model-7.png)\n![async-module-model-8](async-module-model-8.png)\n![async-module-model-9](async-module-model-9.png)\n\n###### Widget\nWidget:(Web Widget)WidgetWeb Widget\n\n![widget-model-1](widget-model-1.png)\n![widget-model-2](widget-model-2.png)\n![widget-model-3](widget-model-3.png)\n![widget-model-4](widget-model-4.png)\n![widget-model-5](widget-model-5.png)\n![widget-model-6](widget-model-6.png)\n\n###### MVC\nMVC(model)(view)(controller)\n\n![mvc-model-1](mvc-model-1.png)\n\n****\n**3**\n\n![mvc-model-2](mvc-model-2.png)\n![mvc-model-3](mvc-model-3.png)\n3(M),\n\n![mvc-model-4](mvc-model-4.png)\n\n###### MVP\nMVP(Model)(View)(Presenter): ViewModelPresenterModelPresenter\n\n![mvp-model-1](mvp-model-1.png)\n![mvp-model-2](mvp-model-2.png)\n![mvp-model-3](mvp-model-3.png)\n![mvp-model-4](mvp-model-4.png)\n![mvp-model-5](mvp-model-5.png)\n![mvp-model-6](mvp-model-6.png)\n![mvp-model-7](mvp-model-7.png)\n\nMVPMVCMVPMVP\n\n###### MVVM\nMVVM(Model)-(View)-(ViewModel):(View)(ViewModel)(ViewModel)(View)(Model)\n\n![mvvm-model-1](mvvm-model-1.png)\n![mvvm-model-2](mvvm-model-2.png)\n![mvvm-model-3](mvvm-model-3.png)\n![mvvm-model-4](mvvm-model-4.png)\n![mvvm-model-5](mvvm-model-5.png)\n![mvvm-model-6](mvvm-model-6.png)\n![mvvm-model-7](mvvm-model-7.png)\n![mvvm-model-8](mvvm-model-8.png)\n\n###### \n![appendix-1](appendix-1.png)\n![appendix-2](appendix-2.png)\n![appendix-3](appendix-3.png)\n![appendix-4](appendix-4.png)\n![appendix-5](appendix-5.png)\n![appendix-6](appendix-6.png)\n![appendix-7](appendix-7.png)\n![appendix-8](appendix-8.png)\n![appendix-9](appendix-9.png)\n![appendix-10](appendix-10.png)\n\n\n\n(1)Arraysliceslice = Array.prototype.slice\n\n\n\n(2)\n\n\n\n(3)\n\n\n  \n(1, 2, ...);   (1)(2)...\n\n","slug":"28-about-design-model5","published":1,"updated":"2022-09-23T06:59:38.606Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gwy0015cktt0yuydb6h","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>,,</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>:<br>SMD (Synchronous Module Definition):</p>\n<p>(1)</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/module-model-1.png\" alt=\"module-model-1\"><br><img src=\"/2022/09/20/28-about-design-model5/module-model-2.png\" alt=\"module-model-2\"><br><img src=\"/2022/09/20/28-about-design-model5/module-model-3.png\" alt=\"module-model-3\"><br><img src=\"/2022/09/20/28-about-design-model5/module-model-4.png\" alt=\"module-model-4\"><br><img src=\"/2022/09/20/28-about-design-model5/module-model-5.png\" alt=\"module-model-5\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>AMD (Asynchronous Module Definition):</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/async-module-model-1.png\" alt=\"async-module-model-1\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-2.png\" alt=\"async-module-model-2\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-3.png\" alt=\"async-module-model-3\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-4.png\" alt=\"async-module-model-4\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-5.png\" alt=\"async-module-model-5\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-6.png\" alt=\"async-module-model-6\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-7.png\" alt=\"async-module-model-7\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-8.png\" alt=\"async-module-model-8\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-9.png\" alt=\"async-module-model-9\"></p>\n<h6 id=\"Widget\"><a href=\"#Widget\" class=\"headerlink\" title=\"Widget\"></a>Widget</h6><p>Widget:(Web Widget)WidgetWeb Widget</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/widget-model-1.png\" alt=\"widget-model-1\"><br><img src=\"/2022/09/20/28-about-design-model5/widget-model-2.png\" alt=\"widget-model-2\"><br><img src=\"/2022/09/20/28-about-design-model5/widget-model-3.png\" alt=\"widget-model-3\"><br><img src=\"/2022/09/20/28-about-design-model5/widget-model-4.png\" alt=\"widget-model-4\"><br><img src=\"/2022/09/20/28-about-design-model5/widget-model-5.png\" alt=\"widget-model-5\"><br><img src=\"/2022/09/20/28-about-design-model5/widget-model-6.png\" alt=\"widget-model-6\"></p>\n<h6 id=\"MVC\"><a href=\"#MVC\" class=\"headerlink\" title=\"MVC\"></a>MVC</h6><p>MVC(model)(view)(controller)</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/mvc-model-1.png\" alt=\"mvc-model-1\"></p>\n<p><strong></strong><br><strong>3</strong></p>\n<p><img src=\"/2022/09/20/28-about-design-model5/mvc-model-2.png\" alt=\"mvc-model-2\"><br><img src=\"/2022/09/20/28-about-design-model5/mvc-model-3.png\" alt=\"mvc-model-3\"><br>3(M),</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/mvc-model-4.png\" alt=\"mvc-model-4\"></p>\n<h6 id=\"MVP\"><a href=\"#MVP\" class=\"headerlink\" title=\"MVP\"></a>MVP</h6><p>MVP(Model)(View)(Presenter): ViewModelPresenterModelPresenter</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/mvp-model-1.png\" alt=\"mvp-model-1\"><br><img src=\"/2022/09/20/28-about-design-model5/mvp-model-2.png\" alt=\"mvp-model-2\"><br><img src=\"/2022/09/20/28-about-design-model5/mvp-model-3.png\" alt=\"mvp-model-3\"><br><img src=\"/2022/09/20/28-about-design-model5/mvp-model-4.png\" alt=\"mvp-model-4\"><br><img src=\"/2022/09/20/28-about-design-model5/mvp-model-5.png\" alt=\"mvp-model-5\"><br><img src=\"/2022/09/20/28-about-design-model5/mvp-model-6.png\" alt=\"mvp-model-6\"><br><img src=\"/2022/09/20/28-about-design-model5/mvp-model-7.png\" alt=\"mvp-model-7\"></p>\n<p>MVPMVCMVPMVP</p>\n<h6 id=\"MVVM\"><a href=\"#MVVM\" class=\"headerlink\" title=\"MVVM\"></a>MVVM</h6><p>MVVM(Model)-(View)-(ViewModel):(View)(ViewModel)(ViewModel)(View)(Model)</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-1.png\" alt=\"mvvm-model-1\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-2.png\" alt=\"mvvm-model-2\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-3.png\" alt=\"mvvm-model-3\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-4.png\" alt=\"mvvm-model-4\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-5.png\" alt=\"mvvm-model-5\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-6.png\" alt=\"mvvm-model-6\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-7.png\" alt=\"mvvm-model-7\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-8.png\" alt=\"mvvm-model-8\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><img src=\"/2022/09/20/28-about-design-model5/appendix-1.png\" alt=\"appendix-1\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-2.png\" alt=\"appendix-2\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-3.png\" alt=\"appendix-3\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-4.png\" alt=\"appendix-4\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-5.png\" alt=\"appendix-5\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-6.png\" alt=\"appendix-6\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-7.png\" alt=\"appendix-7\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-8.png\" alt=\"appendix-8\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-9.png\" alt=\"appendix-9\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-10.png\" alt=\"appendix-10\"></p>\n<p><br>(1)Arraysliceslice = Array.prototype.slice<br><br></p>\n<p>(2)<br><br></p>\n<p>(3)<br><br><br>  <br>(1, 2, );   (1)(2)</p>\n<p></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>,,</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>:<br>SMD (Synchronous Module Definition):</p>\n<p>(1)</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/module-model-1.png\" alt=\"module-model-1\"><br><img src=\"/2022/09/20/28-about-design-model5/module-model-2.png\" alt=\"module-model-2\"><br><img src=\"/2022/09/20/28-about-design-model5/module-model-3.png\" alt=\"module-model-3\"><br><img src=\"/2022/09/20/28-about-design-model5/module-model-4.png\" alt=\"module-model-4\"><br><img src=\"/2022/09/20/28-about-design-model5/module-model-5.png\" alt=\"module-model-5\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>AMD (Asynchronous Module Definition):</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/async-module-model-1.png\" alt=\"async-module-model-1\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-2.png\" alt=\"async-module-model-2\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-3.png\" alt=\"async-module-model-3\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-4.png\" alt=\"async-module-model-4\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-5.png\" alt=\"async-module-model-5\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-6.png\" alt=\"async-module-model-6\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-7.png\" alt=\"async-module-model-7\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-8.png\" alt=\"async-module-model-8\"><br><img src=\"/2022/09/20/28-about-design-model5/async-module-model-9.png\" alt=\"async-module-model-9\"></p>\n<h6 id=\"Widget\"><a href=\"#Widget\" class=\"headerlink\" title=\"Widget\"></a>Widget</h6><p>Widget:(Web Widget)WidgetWeb Widget</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/widget-model-1.png\" alt=\"widget-model-1\"><br><img src=\"/2022/09/20/28-about-design-model5/widget-model-2.png\" alt=\"widget-model-2\"><br><img src=\"/2022/09/20/28-about-design-model5/widget-model-3.png\" alt=\"widget-model-3\"><br><img src=\"/2022/09/20/28-about-design-model5/widget-model-4.png\" alt=\"widget-model-4\"><br><img src=\"/2022/09/20/28-about-design-model5/widget-model-5.png\" alt=\"widget-model-5\"><br><img src=\"/2022/09/20/28-about-design-model5/widget-model-6.png\" alt=\"widget-model-6\"></p>\n<h6 id=\"MVC\"><a href=\"#MVC\" class=\"headerlink\" title=\"MVC\"></a>MVC</h6><p>MVC(model)(view)(controller)</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/mvc-model-1.png\" alt=\"mvc-model-1\"></p>\n<p><strong></strong><br><strong>3</strong></p>\n<p><img src=\"/2022/09/20/28-about-design-model5/mvc-model-2.png\" alt=\"mvc-model-2\"><br><img src=\"/2022/09/20/28-about-design-model5/mvc-model-3.png\" alt=\"mvc-model-3\"><br>3(M),</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/mvc-model-4.png\" alt=\"mvc-model-4\"></p>\n<h6 id=\"MVP\"><a href=\"#MVP\" class=\"headerlink\" title=\"MVP\"></a>MVP</h6><p>MVP(Model)(View)(Presenter): ViewModelPresenterModelPresenter</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/mvp-model-1.png\" alt=\"mvp-model-1\"><br><img src=\"/2022/09/20/28-about-design-model5/mvp-model-2.png\" alt=\"mvp-model-2\"><br><img src=\"/2022/09/20/28-about-design-model5/mvp-model-3.png\" alt=\"mvp-model-3\"><br><img src=\"/2022/09/20/28-about-design-model5/mvp-model-4.png\" alt=\"mvp-model-4\"><br><img src=\"/2022/09/20/28-about-design-model5/mvp-model-5.png\" alt=\"mvp-model-5\"><br><img src=\"/2022/09/20/28-about-design-model5/mvp-model-6.png\" alt=\"mvp-model-6\"><br><img src=\"/2022/09/20/28-about-design-model5/mvp-model-7.png\" alt=\"mvp-model-7\"></p>\n<p>MVPMVCMVPMVP</p>\n<h6 id=\"MVVM\"><a href=\"#MVVM\" class=\"headerlink\" title=\"MVVM\"></a>MVVM</h6><p>MVVM(Model)-(View)-(ViewModel):(View)(ViewModel)(ViewModel)(View)(Model)</p>\n<p><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-1.png\" alt=\"mvvm-model-1\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-2.png\" alt=\"mvvm-model-2\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-3.png\" alt=\"mvvm-model-3\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-4.png\" alt=\"mvvm-model-4\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-5.png\" alt=\"mvvm-model-5\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-6.png\" alt=\"mvvm-model-6\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-7.png\" alt=\"mvvm-model-7\"><br><img src=\"/2022/09/20/28-about-design-model5/mvvm-model-8.png\" alt=\"mvvm-model-8\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><img src=\"/2022/09/20/28-about-design-model5/appendix-1.png\" alt=\"appendix-1\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-2.png\" alt=\"appendix-2\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-3.png\" alt=\"appendix-3\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-4.png\" alt=\"appendix-4\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-5.png\" alt=\"appendix-5\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-6.png\" alt=\"appendix-6\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-7.png\" alt=\"appendix-7\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-8.png\" alt=\"appendix-8\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-9.png\" alt=\"appendix-9\"><br><img src=\"/2022/09/20/28-about-design-model5/appendix-10.png\" alt=\"appendix-10\"></p>\n<p><br>(1)Arraysliceslice = Array.prototype.slice<br><br></p>\n<p>(2)<br><br></p>\n<p>(3)<br><br><br>  <br>(1, 2, );   (1)(2)</p>\n<p></p>\n"},{"title":"","date":"2022-09-05T05:24:10.000Z","_content":"\n###### \n```javascript\n// \nconst name = '';\nconst obj = { ...name && {name}};\nconsole.log(obj); // {}\n// \nconst name = 'test_name';\nconst obj = { ...name && {name}};\nconsole.log(obj); // { name: 'test_name'}\n```\n\n###### \n```javascript\nlet one = '12';\nlet two = '34';\n[one, two] = [two, one];\nconsole.log(one); // '34'\nconsole.log(two); // '12'\n```\n\n###### Booleanfalse\n```javascript\nconst array = [0, false, 12, true, '12', undefined, '', 8, null];\nconst result = array.filter(Boolean);\nconsole.log(result); // [12, true, '12', 8]\n```\n\n###### \n```javascript\n// NumberString\nconst string = [1, 2, 3, 12].map(String);\nconsole.log(string); // ['1', '2', '3', '12']\n// StringNumber\nconst string = ['1', '2', '3', '12'].map(Number);\nconsole.log(string); // [1, 2, 3, 12]\n```\n\n###### \n```javascript\nconst repeatArray = [1,1,1,3,5,6,7,8,9,23,45,1,2,3,5,6];\nconst result = [...new Set(repeatArray)];\nconsole.log(result); // [1, 3, 5, 6, 7, 8, 9, 23, 45, 2]\n```","source":"_posts/30-some-convenient-code.md","raw":"---\ntitle: \ndate: 2022-09-05 13:24:10\ntags:\n---\n\n###### \n```javascript\n// \nconst name = '';\nconst obj = { ...name && {name}};\nconsole.log(obj); // {}\n// \nconst name = 'test_name';\nconst obj = { ...name && {name}};\nconsole.log(obj); // { name: 'test_name'}\n```\n\n###### \n```javascript\nlet one = '12';\nlet two = '34';\n[one, two] = [two, one];\nconsole.log(one); // '34'\nconsole.log(two); // '12'\n```\n\n###### Booleanfalse\n```javascript\nconst array = [0, false, 12, true, '12', undefined, '', 8, null];\nconst result = array.filter(Boolean);\nconsole.log(result); // [12, true, '12', 8]\n```\n\n###### \n```javascript\n// NumberString\nconst string = [1, 2, 3, 12].map(String);\nconsole.log(string); // ['1', '2', '3', '12']\n// StringNumber\nconst string = ['1', '2', '3', '12'].map(Number);\nconsole.log(string); // [1, 2, 3, 12]\n```\n\n###### \n```javascript\nconst repeatArray = [1,1,1,3,5,6,7,8,9,23,45,1,2,3,5,6];\nconst result = [...new Set(repeatArray)];\nconsole.log(result); // [1, 3, 5, 6, 7, 8, 9, 23, 45, 2]\n```","slug":"30-some-convenient-code","published":1,"updated":"2022-09-05T05:42:03.830Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gwy0017cktt7tj472c9","content":"<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> name = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123; ...name &amp;&amp; &#123;name&#125;&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj); <span class=\"comment\">// &#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> name = <span class=\"string\">&#x27;test_name&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123; ...name &amp;&amp; &#123;name&#125;&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj); <span class=\"comment\">// &#123; name: &#x27;test_name&#x27;&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> one = <span class=\"string\">&#x27;12&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> two = <span class=\"string\">&#x27;34&#x27;</span>;</span><br><span class=\"line\">[one, two] = [two, one];</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(one); <span class=\"comment\">// &#x27;34&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(two); <span class=\"comment\">// &#x27;12&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"Booleanfalse\"><a href=\"#Booleanfalse\" class=\"headerlink\" title=\"Booleanfalse\"></a>Booleanfalse</h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">0</span>, <span class=\"literal\">false</span>, <span class=\"number\">12</span>, <span class=\"literal\">true</span>, <span class=\"string\">&#x27;12&#x27;</span>, <span class=\"literal\">undefined</span>, <span class=\"string\">&#x27;&#x27;</span>, <span class=\"number\">8</span>, <span class=\"literal\">null</span>];</span><br><span class=\"line\"><span class=\"keyword\">const</span> result = array.filter(<span class=\"built_in\">Boolean</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(result); <span class=\"comment\">// [12, true, &#x27;12&#x27;, 8]</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// NumberString</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> string = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">12</span>].map(<span class=\"built_in\">String</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(string); <span class=\"comment\">// [&#x27;1&#x27;, &#x27;2&#x27;, &#x27;3&#x27;, &#x27;12&#x27;]</span></span><br><span class=\"line\"><span class=\"comment\">// StringNumber</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> string = [<span class=\"string\">&#x27;1&#x27;</span>, <span class=\"string\">&#x27;2&#x27;</span>, <span class=\"string\">&#x27;3&#x27;</span>, <span class=\"string\">&#x27;12&#x27;</span>].map(<span class=\"built_in\">Number</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(string); <span class=\"comment\">// [1, 2, 3, 12]</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> repeatArray = [<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"number\">3</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>,<span class=\"number\">7</span>,<span class=\"number\">8</span>,<span class=\"number\">9</span>,<span class=\"number\">23</span>,<span class=\"number\">45</span>,<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>];</span><br><span class=\"line\"><span class=\"keyword\">const</span> result = [...new <span class=\"built_in\">Set</span>(repeatArray)];</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(result); <span class=\"comment\">// [1, 3, 5, 6, 7, 8, 9, 23, 45, 2]</span></span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> name = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123; ...name &amp;&amp; &#123;name&#125;&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj); <span class=\"comment\">// &#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> name = <span class=\"string\">&#x27;test_name&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123; ...name &amp;&amp; &#123;name&#125;&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj); <span class=\"comment\">// &#123; name: &#x27;test_name&#x27;&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> one = <span class=\"string\">&#x27;12&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> two = <span class=\"string\">&#x27;34&#x27;</span>;</span><br><span class=\"line\">[one, two] = [two, one];</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(one); <span class=\"comment\">// &#x27;34&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(two); <span class=\"comment\">// &#x27;12&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"Booleanfalse\"><a href=\"#Booleanfalse\" class=\"headerlink\" title=\"Booleanfalse\"></a>Booleanfalse</h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">0</span>, <span class=\"literal\">false</span>, <span class=\"number\">12</span>, <span class=\"literal\">true</span>, <span class=\"string\">&#x27;12&#x27;</span>, <span class=\"literal\">undefined</span>, <span class=\"string\">&#x27;&#x27;</span>, <span class=\"number\">8</span>, <span class=\"literal\">null</span>];</span><br><span class=\"line\"><span class=\"keyword\">const</span> result = array.filter(<span class=\"built_in\">Boolean</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(result); <span class=\"comment\">// [12, true, &#x27;12&#x27;, 8]</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// NumberString</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> string = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">12</span>].map(<span class=\"built_in\">String</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(string); <span class=\"comment\">// [&#x27;1&#x27;, &#x27;2&#x27;, &#x27;3&#x27;, &#x27;12&#x27;]</span></span><br><span class=\"line\"><span class=\"comment\">// StringNumber</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> string = [<span class=\"string\">&#x27;1&#x27;</span>, <span class=\"string\">&#x27;2&#x27;</span>, <span class=\"string\">&#x27;3&#x27;</span>, <span class=\"string\">&#x27;12&#x27;</span>].map(<span class=\"built_in\">Number</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(string); <span class=\"comment\">// [1, 2, 3, 12]</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> repeatArray = [<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"number\">3</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>,<span class=\"number\">7</span>,<span class=\"number\">8</span>,<span class=\"number\">9</span>,<span class=\"number\">23</span>,<span class=\"number\">45</span>,<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>];</span><br><span class=\"line\"><span class=\"keyword\">const</span> result = [...new <span class=\"built_in\">Set</span>(repeatArray)];</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(result); <span class=\"comment\">// [1, 3, 5, 6, 7, 8, 9, 23, 45, 2]</span></span><br></pre></td></tr></table></figure>"},{"title":"hexo","date":"2022-03-26T13:14:29.000Z","_content":"\n## hexo\n\n1hexo'hexo'    bash: hexo: command not found\nnpm install hexo-cli -g\n\n2/.io//\nhexo-asset-imagebug\nnode_modules/hexo-asset-imageindex.js\n\n```javascript\n'use strict';\nvar cheerio = require('cheerio');\n\nfunction getPosition(str, m, i) {\nreturn str.split(m, i).join(m).length;\n}\n\nvar version = String(hexo.version).split('.');\nhexo.extend.filter.register('after_post_render', function(data){\nvar config = hexo.config;\nif(config.post_asset_folder){\n  var link = data.permalink;\n  if(version.length > 0 && Number(version[0]) == 3)\n     var beginPos = getPosition(link, '/', 1) + 1;\n  else\n     var beginPos = getPosition(link, '/', 3) + 1;\n  // In hexo 3.1.1, the permalink of \"about\" page is like \".../about/index.html\".\n  var endPos = link.lastIndexOf('/') + 1;\n  link = link.substring(beginPos, endPos);\n  \n  var toprocess = ['excerpt', 'more', 'content'];\n  for(var i = 0; i < toprocess.length; i++){\n    var key = toprocess[i];\n  \n    var $ = cheerio.load(data[key], {\n      ignoreWhitespace: false,\n      xmlMode: false,\n      lowerCaseTags: false,\n      decodeEntities: false\n    });\n  \n    $('img').each(function(){\n      if ($(this).attr('src')){\n          // For windows style path, we replace '\\' to '/'.\n          var src = $(this).attr('src').replace('\\\\', '/');\n          if(!/http[s]*.*|\\/\\/.*/.test(src) &&\n             !/^\\s*\\//.test(src)) {\n            // For \"about\" page, the first part of \"src\" can't be removed.\n            // In addition, to support multi-level local directory.\n            var linkArray = link.split('/').filter(function(elem){\n              return elem != '';\n            });\n            var srcArray = src.split('/').filter(function(elem){\n              return elem != '' && elem != '.';\n            });\n            if(srcArray.length > 1)\n              srcArray.shift();\n            src = srcArray.join('/');\n            // \n            if (link == 'nodejs/') {\n              src = `images/${src}`;\n            }\n            $(this).attr('src', config.root + link + src);\n            console.info&&console.info(\"update link as:-->\"+config.root + link + src);\n          }\n      }else{\n          console.info&&console.info(\"no src attr, skipped...\");\n          console.info&&console.info($(this));\n      }\n    });\n    data[key] = $.html();\n      }\n    }\n  });\n  \n```","source":"_posts/3-about-use-hexo.md","raw":"---\ntitle: hexo\ndate: 2022-03-26 21:14:29\ntags:\n---\n\n## hexo\n\n1hexo'hexo'    bash: hexo: command not found\nnpm install hexo-cli -g\n\n2/.io//\nhexo-asset-imagebug\nnode_modules/hexo-asset-imageindex.js\n\n```javascript\n'use strict';\nvar cheerio = require('cheerio');\n\nfunction getPosition(str, m, i) {\nreturn str.split(m, i).join(m).length;\n}\n\nvar version = String(hexo.version).split('.');\nhexo.extend.filter.register('after_post_render', function(data){\nvar config = hexo.config;\nif(config.post_asset_folder){\n  var link = data.permalink;\n  if(version.length > 0 && Number(version[0]) == 3)\n     var beginPos = getPosition(link, '/', 1) + 1;\n  else\n     var beginPos = getPosition(link, '/', 3) + 1;\n  // In hexo 3.1.1, the permalink of \"about\" page is like \".../about/index.html\".\n  var endPos = link.lastIndexOf('/') + 1;\n  link = link.substring(beginPos, endPos);\n  \n  var toprocess = ['excerpt', 'more', 'content'];\n  for(var i = 0; i < toprocess.length; i++){\n    var key = toprocess[i];\n  \n    var $ = cheerio.load(data[key], {\n      ignoreWhitespace: false,\n      xmlMode: false,\n      lowerCaseTags: false,\n      decodeEntities: false\n    });\n  \n    $('img').each(function(){\n      if ($(this).attr('src')){\n          // For windows style path, we replace '\\' to '/'.\n          var src = $(this).attr('src').replace('\\\\', '/');\n          if(!/http[s]*.*|\\/\\/.*/.test(src) &&\n             !/^\\s*\\//.test(src)) {\n            // For \"about\" page, the first part of \"src\" can't be removed.\n            // In addition, to support multi-level local directory.\n            var linkArray = link.split('/').filter(function(elem){\n              return elem != '';\n            });\n            var srcArray = src.split('/').filter(function(elem){\n              return elem != '' && elem != '.';\n            });\n            if(srcArray.length > 1)\n              srcArray.shift();\n            src = srcArray.join('/');\n            // \n            if (link == 'nodejs/') {\n              src = `images/${src}`;\n            }\n            $(this).attr('src', config.root + link + src);\n            console.info&&console.info(\"update link as:-->\"+config.root + link + src);\n          }\n      }else{\n          console.info&&console.info(\"no src attr, skipped...\");\n          console.info&&console.info($(this));\n      }\n    });\n    data[key] = $.html();\n      }\n    }\n  });\n  \n```","slug":"3-about-use-hexo","published":1,"updated":"2022-12-16T07:44:02.565Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gwz0019cktth3cb5axq","content":"<h2 id=\"hexo\"><a href=\"#hexo\" class=\"headerlink\" title=\"hexo\"></a>hexo</h2><p>1hexohexo    bash: hexo: command not found<br>npm install hexo-cli -g</p>\n<p>2/.io//<br>hexo-asset-imagebug<br>node_modules/hexo-asset-imageindex.js</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&#x27;use strict&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> cheerio = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;cheerio&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getPosition</span>(<span class=\"params\">str, m, i</span>) </span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> str.split(m, i).join(m).length;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> version = <span class=\"built_in\">String</span>(hexo.version).split(<span class=\"string\">&#x27;.&#x27;</span>);</span><br><span class=\"line\">hexo.extend.filter.register(<span class=\"string\">&#x27;after_post_render&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>)</span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">var</span> config = hexo.config;</span><br><span class=\"line\"><span class=\"keyword\">if</span>(config.post_asset_folder)&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> link = data.permalink;</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(version.length &gt; <span class=\"number\">0</span> &amp;&amp; <span class=\"built_in\">Number</span>(version[<span class=\"number\">0</span>]) == <span class=\"number\">3</span>)</span><br><span class=\"line\">     <span class=\"keyword\">var</span> beginPos = getPosition(link, <span class=\"string\">&#x27;/&#x27;</span>, <span class=\"number\">1</span>) + <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">else</span></span><br><span class=\"line\">     <span class=\"keyword\">var</span> beginPos = getPosition(link, <span class=\"string\">&#x27;/&#x27;</span>, <span class=\"number\">3</span>) + <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"comment\">// In hexo 3.1.1, the permalink of &quot;about&quot; page is like &quot;.../about/index.html&quot;.</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> endPos = link.lastIndexOf(<span class=\"string\">&#x27;/&#x27;</span>) + <span class=\"number\">1</span>;</span><br><span class=\"line\">  link = link.substring(beginPos, endPos);</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">var</span> toprocess = [<span class=\"string\">&#x27;excerpt&#x27;</span>, <span class=\"string\">&#x27;more&#x27;</span>, <span class=\"string\">&#x27;content&#x27;</span>];</span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; toprocess.length; i++)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> key = toprocess[i];</span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"keyword\">var</span> $ = cheerio.load(data[key], &#123;</span><br><span class=\"line\">      <span class=\"attr\">ignoreWhitespace</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      <span class=\"attr\">xmlMode</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      <span class=\"attr\">lowerCaseTags</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      <span class=\"attr\">decodeEntities</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  </span><br><span class=\"line\">    $(<span class=\"string\">&#x27;img&#x27;</span>).each(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> ($(<span class=\"built_in\">this</span>).attr(<span class=\"string\">&#x27;src&#x27;</span>))&#123;</span><br><span class=\"line\">          <span class=\"comment\">// For windows style path, we replace &#x27;\\&#x27; to &#x27;/&#x27;.</span></span><br><span class=\"line\">          <span class=\"keyword\">var</span> src = $(<span class=\"built_in\">this</span>).attr(<span class=\"string\">&#x27;src&#x27;</span>).replace(<span class=\"string\">&#x27;\\\\&#x27;</span>, <span class=\"string\">&#x27;/&#x27;</span>);</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(!<span class=\"regexp\">/http[s]*.*|\\/\\/.*/</span>.test(src) &amp;&amp;</span><br><span class=\"line\">             !<span class=\"regexp\">/^\\s*\\//</span>.test(src)) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// For &quot;about&quot; page, the first part of &quot;src&quot; can&#x27;t be removed.</span></span><br><span class=\"line\">            <span class=\"comment\">// In addition, to support multi-level local directory.</span></span><br><span class=\"line\">            <span class=\"keyword\">var</span> linkArray = link.split(<span class=\"string\">&#x27;/&#x27;</span>).filter(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">elem</span>)</span>&#123;</span><br><span class=\"line\">              <span class=\"keyword\">return</span> elem != <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            <span class=\"keyword\">var</span> srcArray = src.split(<span class=\"string\">&#x27;/&#x27;</span>).filter(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">elem</span>)</span>&#123;</span><br><span class=\"line\">              <span class=\"keyword\">return</span> elem != <span class=\"string\">&#x27;&#x27;</span> &amp;&amp; elem != <span class=\"string\">&#x27;.&#x27;</span>;</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(srcArray.length &gt; <span class=\"number\">1</span>)</span><br><span class=\"line\">              srcArray.shift();</span><br><span class=\"line\">            src = srcArray.join(<span class=\"string\">&#x27;/&#x27;</span>);</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (link == <span class=\"string\">&#x27;nodejs/&#x27;</span>) &#123;</span><br><span class=\"line\">              src = <span class=\"string\">`images/<span class=\"subst\">$&#123;src&#125;</span>`</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            $(<span class=\"built_in\">this</span>).attr(<span class=\"string\">&#x27;src&#x27;</span>, config.root + link + src);</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.info&amp;&amp;<span class=\"built_in\">console</span>.info(<span class=\"string\">&quot;update link as:--&gt;&quot;</span>+config.root + link + src);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">      &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">          <span class=\"built_in\">console</span>.info&amp;&amp;<span class=\"built_in\">console</span>.info(<span class=\"string\">&quot;no src attr, skipped...&quot;</span>);</span><br><span class=\"line\">          <span class=\"built_in\">console</span>.info&amp;&amp;<span class=\"built_in\">console</span>.info($(<span class=\"built_in\">this</span>));</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    data[key] = $.html();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  </span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<h2 id=\"hexo\"><a href=\"#hexo\" class=\"headerlink\" title=\"hexo\"></a>hexo</h2><p>1hexohexo    bash: hexo: command not found<br>npm install hexo-cli -g</p>\n<p>2/.io//<br>hexo-asset-imagebug<br>node_modules/hexo-asset-imageindex.js</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&#x27;use strict&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> cheerio = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;cheerio&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getPosition</span>(<span class=\"params\">str, m, i</span>) </span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> str.split(m, i).join(m).length;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> version = <span class=\"built_in\">String</span>(hexo.version).split(<span class=\"string\">&#x27;.&#x27;</span>);</span><br><span class=\"line\">hexo.extend.filter.register(<span class=\"string\">&#x27;after_post_render&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>)</span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">var</span> config = hexo.config;</span><br><span class=\"line\"><span class=\"keyword\">if</span>(config.post_asset_folder)&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> link = data.permalink;</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(version.length &gt; <span class=\"number\">0</span> &amp;&amp; <span class=\"built_in\">Number</span>(version[<span class=\"number\">0</span>]) == <span class=\"number\">3</span>)</span><br><span class=\"line\">     <span class=\"keyword\">var</span> beginPos = getPosition(link, <span class=\"string\">&#x27;/&#x27;</span>, <span class=\"number\">1</span>) + <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">else</span></span><br><span class=\"line\">     <span class=\"keyword\">var</span> beginPos = getPosition(link, <span class=\"string\">&#x27;/&#x27;</span>, <span class=\"number\">3</span>) + <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"comment\">// In hexo 3.1.1, the permalink of &quot;about&quot; page is like &quot;.../about/index.html&quot;.</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> endPos = link.lastIndexOf(<span class=\"string\">&#x27;/&#x27;</span>) + <span class=\"number\">1</span>;</span><br><span class=\"line\">  link = link.substring(beginPos, endPos);</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">var</span> toprocess = [<span class=\"string\">&#x27;excerpt&#x27;</span>, <span class=\"string\">&#x27;more&#x27;</span>, <span class=\"string\">&#x27;content&#x27;</span>];</span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; toprocess.length; i++)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> key = toprocess[i];</span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"keyword\">var</span> $ = cheerio.load(data[key], &#123;</span><br><span class=\"line\">      <span class=\"attr\">ignoreWhitespace</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      <span class=\"attr\">xmlMode</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      <span class=\"attr\">lowerCaseTags</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      <span class=\"attr\">decodeEntities</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  </span><br><span class=\"line\">    $(<span class=\"string\">&#x27;img&#x27;</span>).each(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> ($(<span class=\"built_in\">this</span>).attr(<span class=\"string\">&#x27;src&#x27;</span>))&#123;</span><br><span class=\"line\">          <span class=\"comment\">// For windows style path, we replace &#x27;\\&#x27; to &#x27;/&#x27;.</span></span><br><span class=\"line\">          <span class=\"keyword\">var</span> src = $(<span class=\"built_in\">this</span>).attr(<span class=\"string\">&#x27;src&#x27;</span>).replace(<span class=\"string\">&#x27;\\\\&#x27;</span>, <span class=\"string\">&#x27;/&#x27;</span>);</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(!<span class=\"regexp\">/http[s]*.*|\\/\\/.*/</span>.test(src) &amp;&amp;</span><br><span class=\"line\">             !<span class=\"regexp\">/^\\s*\\//</span>.test(src)) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// For &quot;about&quot; page, the first part of &quot;src&quot; can&#x27;t be removed.</span></span><br><span class=\"line\">            <span class=\"comment\">// In addition, to support multi-level local directory.</span></span><br><span class=\"line\">            <span class=\"keyword\">var</span> linkArray = link.split(<span class=\"string\">&#x27;/&#x27;</span>).filter(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">elem</span>)</span>&#123;</span><br><span class=\"line\">              <span class=\"keyword\">return</span> elem != <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            <span class=\"keyword\">var</span> srcArray = src.split(<span class=\"string\">&#x27;/&#x27;</span>).filter(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">elem</span>)</span>&#123;</span><br><span class=\"line\">              <span class=\"keyword\">return</span> elem != <span class=\"string\">&#x27;&#x27;</span> &amp;&amp; elem != <span class=\"string\">&#x27;.&#x27;</span>;</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(srcArray.length &gt; <span class=\"number\">1</span>)</span><br><span class=\"line\">              srcArray.shift();</span><br><span class=\"line\">            src = srcArray.join(<span class=\"string\">&#x27;/&#x27;</span>);</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (link == <span class=\"string\">&#x27;nodejs/&#x27;</span>) &#123;</span><br><span class=\"line\">              src = <span class=\"string\">`images/<span class=\"subst\">$&#123;src&#125;</span>`</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            $(<span class=\"built_in\">this</span>).attr(<span class=\"string\">&#x27;src&#x27;</span>, config.root + link + src);</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.info&amp;&amp;<span class=\"built_in\">console</span>.info(<span class=\"string\">&quot;update link as:--&gt;&quot;</span>+config.root + link + src);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">      &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">          <span class=\"built_in\">console</span>.info&amp;&amp;<span class=\"built_in\">console</span>.info(<span class=\"string\">&quot;no src attr, skipped...&quot;</span>);</span><br><span class=\"line\">          <span class=\"built_in\">console</span>.info&amp;&amp;<span class=\"built_in\">console</span>.info($(<span class=\"built_in\">this</span>));</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    data[key] = $.html();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  </span><br></pre></td></tr></table></figure>"},{"title":"es6","date":"2022-09-02T02:42:05.000Z","_content":"\n#### \n\n(1)js \n\n```javascript\nvar name = 'test';\nvar obj = {\n  name,\n};\nconsole.log(obj); // {name: 'test'}\n```\n\n(2)\n\n```javascript\n// ES5\nconst es5Obj = {\n  testFunction: function () {\n    console.log('es5');\n  },\n};\nconsole.log(es5Obj.testFunction()); // es5\n\n// es6\nconst es6Obj = {\n  testFunction() {\n    console.log('es6');\n  },\n};\nconsole.log(es6Obj.testFunction()); // es6\n\n// ****\nconst es6Obj1 = {\n  testFunction: function Hello() {\n    console.log('hello');\n  },\n};\nconsole.log(es6Obj1.testFunction()); // hello\n```\n\n**(1)(2)debugger **\n\n(3)[]\n\n```javascript\nconst es6Obj = {\n  ['first' + 'second']: 'hanmeimei',\n};\nconsole.log(es6Obj['first' + 'second']); // hanmeimei\n\nconst first = 'first';\nconst es6Obj1 = {\n  [first + 'second']: 'hanmeimei',\n};\nconsole.log(es6Obj[first + 'second']); // hanmeimei\n```\n\n(4)es5 es6 \n\n```javascript\nconst es6Obj = {\n  name: 'first',\n  name: 'second',\n};\nconsole.log(es6Obj); // {name: 'second'}\n```\n\n#### \n\n(1)Object.is()\n===+0 -0NaN  NaN\n\n```javascript\nconsole.log(+0 == -0); // true\nconsole.log(Object.is(+0, -0)); // false\nconsole.log(Object.is(NaN, NaN)); // true\n```\n\n(2)Object.assign()\n\n\n```javascript\n// Object.assign(target, ...sources);  target  sources\nconst target = { a: 1, b: 2 };\nconst source = { b: 4, c: 5 };\nconst returnedTarget = Object.assign(target, source);\nconsole.log(target); // Object { a: 1, b: 4, c: 5 }\nconsole.log(returnedTarget); // Object { a: 1, b: 4, c: 5 }\n```\n\n(3)Object.setPrototypeOf()\n\n```javascript\n// Object.setPrototypeOf(object, prototypeObject);\nlet person = {\n  greeting() {\n    return 'hello';\n  },\n};\nlet dog = {\n  greeting() {\n    return 'woof';\n  },\n};\nlet obj = {};\n// obj person\nObject.setPrototypeOf(obj, person);\nconsole.log(obj.greeting()); // hello\n// obj dog\nObject.setPrototypeOf(obj, dog);\nconsole.log(obj.greeting()); // woof\n```\n\n```javascript\nlet person = {\n  greeting() {\n    return 'hello';\n  },\n};\nlet dog = {\n  greeting() {\n    return 'woof';\n  },\n};\nlet obj = {\n greeting() {\n    return 'obj';\n  },\n};\nObject.setPrototypeOf(obj, person);\nconsole.log(obj.greeting()); // obj\nObject.setPrototypeOf(obj, dog);\nconsole.log(obj.greeting()); // obj\n```\nobj  ES6 super \n```javascript\nlet person = {\n  greeting() {\n    return 'hello';\n  },\n};\nlet dog = {\n  greeting() {\n    return 'woof';\n  },\n};\nlet obj = {\n greeting() {\n    return super.greeting() + 'obj';\n  },\n};\nObject.setPrototypeOf(obj, person);\nconsole.log(obj.greeting()); // helloobj\nObject.setPrototypeOf(obj, dog);\nconsole.log(obj.greeting()); // woofobj\n```\n:Uncaught SyntaxError: 'super' keyword unexpected here\n****\n```javascript\nlet person = {\n  greeting: function() {\n    return 'hello';\n  },\n};\nlet dog = {\n  greeting: function() {\n    return 'woof';\n  },\n};\nlet obj = {\n // Uncaught SyntaxError: 'super' keyword unexpected here\n greeting: function() {\n    return super.greeting() + 'obj';\n  },\n};\nObject.setPrototypeOf(obj, person);\nconsole.log(obj.greeting());\nObject.setPrototypeOf(obj, dog);\nconsole.log(obj.greeting());\n\nlet person = {\n  greeting: function() {\n    return 'hello';\n  },\n};\nlet dog = {\n  greeting: function() {\n    return 'woof';\n  },\n};\nlet obj = {\n // \n greeting() {\n    return super.greeting() + 'obj';\n  },\n};\nObject.setPrototypeOf(obj, person);\nconsole.log(obj.greeting()); // helloobj\nObject.setPrototypeOf(obj, dog);\nconsole.log(obj.greeting()); // woofobj\n```\n**ES6 [[HomeObject]], super Object.getPrototypeOf([[HomeObject]]) obj.greeting() greeting() [[HomeObject]] obj.  super Object.getPrototypeOf(obj), person dog super.greeting() person.greeting()  person.greeting.call(this).  persongreentingthis, this  this  this  obj **","source":"_posts/29-es6-object-strong.md","raw":"---\ntitle: es6\ndate: 2022-09-02 10:42:05\ntags:\n---\n\n#### \n\n(1)js \n\n```javascript\nvar name = 'test';\nvar obj = {\n  name,\n};\nconsole.log(obj); // {name: 'test'}\n```\n\n(2)\n\n```javascript\n// ES5\nconst es5Obj = {\n  testFunction: function () {\n    console.log('es5');\n  },\n};\nconsole.log(es5Obj.testFunction()); // es5\n\n// es6\nconst es6Obj = {\n  testFunction() {\n    console.log('es6');\n  },\n};\nconsole.log(es6Obj.testFunction()); // es6\n\n// ****\nconst es6Obj1 = {\n  testFunction: function Hello() {\n    console.log('hello');\n  },\n};\nconsole.log(es6Obj1.testFunction()); // hello\n```\n\n**(1)(2)debugger **\n\n(3)[]\n\n```javascript\nconst es6Obj = {\n  ['first' + 'second']: 'hanmeimei',\n};\nconsole.log(es6Obj['first' + 'second']); // hanmeimei\n\nconst first = 'first';\nconst es6Obj1 = {\n  [first + 'second']: 'hanmeimei',\n};\nconsole.log(es6Obj[first + 'second']); // hanmeimei\n```\n\n(4)es5 es6 \n\n```javascript\nconst es6Obj = {\n  name: 'first',\n  name: 'second',\n};\nconsole.log(es6Obj); // {name: 'second'}\n```\n\n#### \n\n(1)Object.is()\n===+0 -0NaN  NaN\n\n```javascript\nconsole.log(+0 == -0); // true\nconsole.log(Object.is(+0, -0)); // false\nconsole.log(Object.is(NaN, NaN)); // true\n```\n\n(2)Object.assign()\n\n\n```javascript\n// Object.assign(target, ...sources);  target  sources\nconst target = { a: 1, b: 2 };\nconst source = { b: 4, c: 5 };\nconst returnedTarget = Object.assign(target, source);\nconsole.log(target); // Object { a: 1, b: 4, c: 5 }\nconsole.log(returnedTarget); // Object { a: 1, b: 4, c: 5 }\n```\n\n(3)Object.setPrototypeOf()\n\n```javascript\n// Object.setPrototypeOf(object, prototypeObject);\nlet person = {\n  greeting() {\n    return 'hello';\n  },\n};\nlet dog = {\n  greeting() {\n    return 'woof';\n  },\n};\nlet obj = {};\n// obj person\nObject.setPrototypeOf(obj, person);\nconsole.log(obj.greeting()); // hello\n// obj dog\nObject.setPrototypeOf(obj, dog);\nconsole.log(obj.greeting()); // woof\n```\n\n```javascript\nlet person = {\n  greeting() {\n    return 'hello';\n  },\n};\nlet dog = {\n  greeting() {\n    return 'woof';\n  },\n};\nlet obj = {\n greeting() {\n    return 'obj';\n  },\n};\nObject.setPrototypeOf(obj, person);\nconsole.log(obj.greeting()); // obj\nObject.setPrototypeOf(obj, dog);\nconsole.log(obj.greeting()); // obj\n```\nobj  ES6 super \n```javascript\nlet person = {\n  greeting() {\n    return 'hello';\n  },\n};\nlet dog = {\n  greeting() {\n    return 'woof';\n  },\n};\nlet obj = {\n greeting() {\n    return super.greeting() + 'obj';\n  },\n};\nObject.setPrototypeOf(obj, person);\nconsole.log(obj.greeting()); // helloobj\nObject.setPrototypeOf(obj, dog);\nconsole.log(obj.greeting()); // woofobj\n```\n:Uncaught SyntaxError: 'super' keyword unexpected here\n****\n```javascript\nlet person = {\n  greeting: function() {\n    return 'hello';\n  },\n};\nlet dog = {\n  greeting: function() {\n    return 'woof';\n  },\n};\nlet obj = {\n // Uncaught SyntaxError: 'super' keyword unexpected here\n greeting: function() {\n    return super.greeting() + 'obj';\n  },\n};\nObject.setPrototypeOf(obj, person);\nconsole.log(obj.greeting());\nObject.setPrototypeOf(obj, dog);\nconsole.log(obj.greeting());\n\nlet person = {\n  greeting: function() {\n    return 'hello';\n  },\n};\nlet dog = {\n  greeting: function() {\n    return 'woof';\n  },\n};\nlet obj = {\n // \n greeting() {\n    return super.greeting() + 'obj';\n  },\n};\nObject.setPrototypeOf(obj, person);\nconsole.log(obj.greeting()); // helloobj\nObject.setPrototypeOf(obj, dog);\nconsole.log(obj.greeting()); // woofobj\n```\n**ES6 [[HomeObject]], super Object.getPrototypeOf([[HomeObject]]) obj.greeting() greeting() [[HomeObject]] obj.  super Object.getPrototypeOf(obj), person dog super.greeting() person.greeting()  person.greeting.call(this).  persongreentingthis, this  this  this  obj **","slug":"29-es6-object-strong","published":1,"updated":"2022-09-02T05:49:32.109Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gx0001acktth4sm5pcu","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>(1)js </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> name = <span class=\"string\">&#x27;test&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">  name,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj); <span class=\"comment\">// &#123;name: &#x27;test&#x27;&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>(2)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ES5</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> es5Obj = &#123;</span><br><span class=\"line\">  <span class=\"attr\">testFunction</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;es5&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(es5Obj.testFunction()); <span class=\"comment\">// es5</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// es6</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> es6Obj = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">testFunction</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;es6&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(es6Obj.testFunction()); <span class=\"comment\">// es6</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ****</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> es6Obj1 = &#123;</span><br><span class=\"line\">  <span class=\"attr\">testFunction</span>: <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Hello</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;hello&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(es6Obj1.testFunction()); <span class=\"comment\">// hello</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>(1)(2)debugger </strong></p>\n<p>(3)[]</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> es6Obj = &#123;</span><br><span class=\"line\">  [<span class=\"string\">&#x27;first&#x27;</span> + <span class=\"string\">&#x27;second&#x27;</span>]: <span class=\"string\">&#x27;hanmeimei&#x27;</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(es6Obj[<span class=\"string\">&#x27;first&#x27;</span> + <span class=\"string\">&#x27;second&#x27;</span>]); <span class=\"comment\">// hanmeimei</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> first = <span class=\"string\">&#x27;first&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> es6Obj1 = &#123;</span><br><span class=\"line\">  [first + <span class=\"string\">&#x27;second&#x27;</span>]: <span class=\"string\">&#x27;hanmeimei&#x27;</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(es6Obj[first + <span class=\"string\">&#x27;second&#x27;</span>]); <span class=\"comment\">// hanmeimei</span></span><br></pre></td></tr></table></figure>\n\n<p>(4)es5 es6 </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> es6Obj = &#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;first&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;second&#x27;</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(es6Obj); <span class=\"comment\">// &#123;name: &#x27;second&#x27;&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>(1)Object.is()<br>===+0 -0NaN  NaN</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.log(+<span class=\"number\">0</span> == -<span class=\"number\">0</span>); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.is(+<span class=\"number\">0</span>, -<span class=\"number\">0</span>)); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.is(<span class=\"literal\">NaN</span>, <span class=\"literal\">NaN</span>)); <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n<p>(2)Object.assign()<br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Object.assign(target, ...sources);  target  sources</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> target = &#123; <span class=\"attr\">a</span>: <span class=\"number\">1</span>, <span class=\"attr\">b</span>: <span class=\"number\">2</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> source = &#123; <span class=\"attr\">b</span>: <span class=\"number\">4</span>, <span class=\"attr\">c</span>: <span class=\"number\">5</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> returnedTarget = <span class=\"built_in\">Object</span>.assign(target, source);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(target); <span class=\"comment\">// Object &#123; a: 1, b: 4, c: 5 &#125;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(returnedTarget); <span class=\"comment\">// Object &#123; a: 1, b: 4, c: 5 &#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>(3)Object.setPrototypeOf()<br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Object.setPrototypeOf(object, prototypeObject);</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> person = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;hello&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> dog = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;woof&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;&#125;;</span><br><span class=\"line\"><span class=\"comment\">// obj person</span></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, person);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// hello</span></span><br><span class=\"line\"><span class=\"comment\">// obj dog</span></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, dog);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// woof</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> person = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;hello&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> dog = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;woof&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\"> <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;obj&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, person);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// obj</span></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, dog);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// obj</span></span><br></pre></td></tr></table></figure>\n<p>obj  ES6 super </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> person = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;hello&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> dog = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;woof&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\"> <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">super</span>.greeting() + <span class=\"string\">&#x27;obj&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, person);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// helloobj</span></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, dog);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// woofobj</span></span><br></pre></td></tr></table></figure>\n<p>:Uncaught SyntaxError: super keyword unexpected here<br><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> person = &#123;</span><br><span class=\"line\">  <span class=\"attr\">greeting</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;hello&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> dog = &#123;</span><br><span class=\"line\">  <span class=\"attr\">greeting</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;woof&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\"> <span class=\"comment\">// Uncaught SyntaxError: &#x27;super&#x27; keyword unexpected here</span></span><br><span class=\"line\"> <span class=\"attr\">greeting</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">super</span>.greeting() + <span class=\"string\">&#x27;obj&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, person);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting());</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, dog);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting());</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> person = &#123;</span><br><span class=\"line\">  <span class=\"attr\">greeting</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;hello&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> dog = &#123;</span><br><span class=\"line\">  <span class=\"attr\">greeting</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;woof&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\"> <span class=\"comment\">// </span></span><br><span class=\"line\"> <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">super</span>.greeting() + <span class=\"string\">&#x27;obj&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, person);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// helloobj</span></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, dog);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// woofobj</span></span><br></pre></td></tr></table></figure>\n<p><strong>ES6 [[HomeObject]], super Object.getPrototypeOf([[HomeObject]]) obj.greeting() greeting() [[HomeObject]] obj.  super Object.getPrototypeOf(obj), person dog super.greeting() person.greeting()  person.greeting.call(this).  persongreentingthis, this  this  this  obj </strong></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>(1)js </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> name = <span class=\"string\">&#x27;test&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">  name,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj); <span class=\"comment\">// &#123;name: &#x27;test&#x27;&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>(2)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ES5</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> es5Obj = &#123;</span><br><span class=\"line\">  <span class=\"attr\">testFunction</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;es5&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(es5Obj.testFunction()); <span class=\"comment\">// es5</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// es6</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> es6Obj = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">testFunction</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;es6&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(es6Obj.testFunction()); <span class=\"comment\">// es6</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ****</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> es6Obj1 = &#123;</span><br><span class=\"line\">  <span class=\"attr\">testFunction</span>: <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Hello</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;hello&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(es6Obj1.testFunction()); <span class=\"comment\">// hello</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>(1)(2)debugger </strong></p>\n<p>(3)[]</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> es6Obj = &#123;</span><br><span class=\"line\">  [<span class=\"string\">&#x27;first&#x27;</span> + <span class=\"string\">&#x27;second&#x27;</span>]: <span class=\"string\">&#x27;hanmeimei&#x27;</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(es6Obj[<span class=\"string\">&#x27;first&#x27;</span> + <span class=\"string\">&#x27;second&#x27;</span>]); <span class=\"comment\">// hanmeimei</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> first = <span class=\"string\">&#x27;first&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> es6Obj1 = &#123;</span><br><span class=\"line\">  [first + <span class=\"string\">&#x27;second&#x27;</span>]: <span class=\"string\">&#x27;hanmeimei&#x27;</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(es6Obj[first + <span class=\"string\">&#x27;second&#x27;</span>]); <span class=\"comment\">// hanmeimei</span></span><br></pre></td></tr></table></figure>\n\n<p>(4)es5 es6 </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> es6Obj = &#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;first&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;second&#x27;</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(es6Obj); <span class=\"comment\">// &#123;name: &#x27;second&#x27;&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>(1)Object.is()<br>===+0 -0NaN  NaN</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.log(+<span class=\"number\">0</span> == -<span class=\"number\">0</span>); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.is(+<span class=\"number\">0</span>, -<span class=\"number\">0</span>)); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.is(<span class=\"literal\">NaN</span>, <span class=\"literal\">NaN</span>)); <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n<p>(2)Object.assign()<br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Object.assign(target, ...sources);  target  sources</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> target = &#123; <span class=\"attr\">a</span>: <span class=\"number\">1</span>, <span class=\"attr\">b</span>: <span class=\"number\">2</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> source = &#123; <span class=\"attr\">b</span>: <span class=\"number\">4</span>, <span class=\"attr\">c</span>: <span class=\"number\">5</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> returnedTarget = <span class=\"built_in\">Object</span>.assign(target, source);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(target); <span class=\"comment\">// Object &#123; a: 1, b: 4, c: 5 &#125;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(returnedTarget); <span class=\"comment\">// Object &#123; a: 1, b: 4, c: 5 &#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>(3)Object.setPrototypeOf()<br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Object.setPrototypeOf(object, prototypeObject);</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> person = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;hello&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> dog = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;woof&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;&#125;;</span><br><span class=\"line\"><span class=\"comment\">// obj person</span></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, person);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// hello</span></span><br><span class=\"line\"><span class=\"comment\">// obj dog</span></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, dog);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// woof</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> person = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;hello&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> dog = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;woof&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\"> <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;obj&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, person);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// obj</span></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, dog);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// obj</span></span><br></pre></td></tr></table></figure>\n<p>obj  ES6 super </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> person = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;hello&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> dog = &#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;woof&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\"> <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">super</span>.greeting() + <span class=\"string\">&#x27;obj&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, person);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// helloobj</span></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, dog);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// woofobj</span></span><br></pre></td></tr></table></figure>\n<p>:Uncaught SyntaxError: super keyword unexpected here<br><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> person = &#123;</span><br><span class=\"line\">  <span class=\"attr\">greeting</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;hello&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> dog = &#123;</span><br><span class=\"line\">  <span class=\"attr\">greeting</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;woof&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\"> <span class=\"comment\">// Uncaught SyntaxError: &#x27;super&#x27; keyword unexpected here</span></span><br><span class=\"line\"> <span class=\"attr\">greeting</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">super</span>.greeting() + <span class=\"string\">&#x27;obj&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, person);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting());</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, dog);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting());</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> person = &#123;</span><br><span class=\"line\">  <span class=\"attr\">greeting</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;hello&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> dog = &#123;</span><br><span class=\"line\">  <span class=\"attr\">greeting</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;woof&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\"> <span class=\"comment\">// </span></span><br><span class=\"line\"> <span class=\"function\"><span class=\"title\">greeting</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">super</span>.greeting() + <span class=\"string\">&#x27;obj&#x27;</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, person);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// helloobj</span></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, dog);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(obj.greeting()); <span class=\"comment\">// woofobj</span></span><br></pre></td></tr></table></figure>\n<p><strong>ES6 [[HomeObject]], super Object.getPrototypeOf([[HomeObject]]) obj.greeting() greeting() [[HomeObject]] obj.  super Object.getPrototypeOf(obj), person dog super.greeting() person.greeting()  person.greeting.call(this).  persongreentingthis, this  this  this  obj </strong></p>\n"},{"title":"jsapply","date":"2022-09-21T09:07:53.000Z","_content":"\n###### applythiscallbind\n```javascript\nfunction test(a, b) {\n console.log(a);\n console.log(b);\n}\nconst array = [1, 10];\ntest(array);\n// [1, 10]\n// undefined\n\ntest.apply(null, array);\n// 1\n// 10\n\nvar test = {\n func: function (a, b) {\n  console.log(a);\n  console.log(b);\n }\n}\nconst array = [1, 10];\ntest.func(array);\n// [1, 10]\n// undefined\ntest.func.apply(test.func, array);\ntest.func.apply(null, array);\n// 1\n// 10\n\nconst array = [1, 2, 4, 6, 2, 8];\nMath.max(array);\n// NaN\nconst array = [1, 2, 4, 6, 2, 8];\nMath.max.apply(null, array);\n// 8\n```\n\n###### ES6\n```javascript\nfunction test(a, b) {\n console.log(a);\n console.log(b);\n}\nconst array = [1, 10];\ntest(...array);\n// 1\n// 10\n\nvar test = {\n func: function (a, b) {\n  console.log(a);\n  console.log(b);\n }\n}\nconst array = [1, 10];\ntest.func(...array);\n// 1\n// 10\n\nconst array = [1, 2, 4, 6, 2, 8];\nMath.max(...array);\n// 8\n```\n\n###### arguments\narguments\n```javascript\nfunction test() {\n for (let i = 0; i < arguments.length; i++) {\n  console.log(arguments[i]);\n }\n}\ntest(1,12,5);\n// 1 12 5\ntest(1,12,3,4,5);\n// 1 12 3 4 5\n```","source":"_posts/32-apply-array-to-params.md","raw":"---\ntitle: jsapply\ndate: 2022-09-21 17:07:53\ntags:\n---\n\n###### applythiscallbind\n```javascript\nfunction test(a, b) {\n console.log(a);\n console.log(b);\n}\nconst array = [1, 10];\ntest(array);\n// [1, 10]\n// undefined\n\ntest.apply(null, array);\n// 1\n// 10\n\nvar test = {\n func: function (a, b) {\n  console.log(a);\n  console.log(b);\n }\n}\nconst array = [1, 10];\ntest.func(array);\n// [1, 10]\n// undefined\ntest.func.apply(test.func, array);\ntest.func.apply(null, array);\n// 1\n// 10\n\nconst array = [1, 2, 4, 6, 2, 8];\nMath.max(array);\n// NaN\nconst array = [1, 2, 4, 6, 2, 8];\nMath.max.apply(null, array);\n// 8\n```\n\n###### ES6\n```javascript\nfunction test(a, b) {\n console.log(a);\n console.log(b);\n}\nconst array = [1, 10];\ntest(...array);\n// 1\n// 10\n\nvar test = {\n func: function (a, b) {\n  console.log(a);\n  console.log(b);\n }\n}\nconst array = [1, 10];\ntest.func(...array);\n// 1\n// 10\n\nconst array = [1, 2, 4, 6, 2, 8];\nMath.max(...array);\n// 8\n```\n\n###### arguments\narguments\n```javascript\nfunction test() {\n for (let i = 0; i < arguments.length; i++) {\n  console.log(arguments[i]);\n }\n}\ntest(1,12,5);\n// 1 12 5\ntest(1,12,3,4,5);\n// 1 12 3 4 5\n```","slug":"32-apply-array-to-params","published":1,"updated":"2022-10-25T06:46:40.737Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gx0001bckttcgv24tru","content":"<h6 id=\"applythiscallbind\"><a href=\"#applythiscallbind\" class=\"headerlink\" title=\"applythiscallbind\"></a>applythiscallbind</h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">test</span>(<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(a);</span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(b);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">10</span>];</span><br><span class=\"line\">test(array);</span><br><span class=\"line\"><span class=\"comment\">// [1, 10]</span></span><br><span class=\"line\"><span class=\"comment\">// undefined</span></span><br><span class=\"line\"></span><br><span class=\"line\">test.apply(<span class=\"literal\">null</span>, array);</span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"comment\">// 10</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> test = &#123;</span><br><span class=\"line\"> <span class=\"attr\">func</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(a);</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(b);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">10</span>];</span><br><span class=\"line\">test.func(array);</span><br><span class=\"line\"><span class=\"comment\">// [1, 10]</span></span><br><span class=\"line\"><span class=\"comment\">// undefined</span></span><br><span class=\"line\">test.func.apply(test.func, array);</span><br><span class=\"line\">test.func.apply(<span class=\"literal\">null</span>, array);</span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"comment\">// 10</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">6</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>];</span><br><span class=\"line\"><span class=\"built_in\">Math</span>.max(array);</span><br><span class=\"line\"><span class=\"comment\">// NaN</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">6</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>];</span><br><span class=\"line\"><span class=\"built_in\">Math</span>.max.apply(<span class=\"literal\">null</span>, array);</span><br><span class=\"line\"><span class=\"comment\">// 8</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"ES6\"><a href=\"#ES6\" class=\"headerlink\" title=\"ES6\"></a>ES6</h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">test</span>(<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(a);</span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(b);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">10</span>];</span><br><span class=\"line\">test(...array);</span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"comment\">// 10</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> test = &#123;</span><br><span class=\"line\"> <span class=\"attr\">func</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(a);</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(b);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">10</span>];</span><br><span class=\"line\">test.func(...array);</span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"comment\">// 10</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">6</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>];</span><br><span class=\"line\"><span class=\"built_in\">Math</span>.max(...array);</span><br><span class=\"line\"><span class=\"comment\">// 8</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"arguments\"><a href=\"#arguments\" class=\"headerlink\" title=\"arguments\"></a>arguments</h6><p>arguments</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">test</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"built_in\">arguments</span>.length; i++) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"built_in\">arguments</span>[i]);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">test(<span class=\"number\">1</span>,<span class=\"number\">12</span>,<span class=\"number\">5</span>);</span><br><span class=\"line\"><span class=\"comment\">// 1 12 5</span></span><br><span class=\"line\">test(<span class=\"number\">1</span>,<span class=\"number\">12</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>);</span><br><span class=\"line\"><span class=\"comment\">// 1 12 3 4 5</span></span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<h6 id=\"applythiscallbind\"><a href=\"#applythiscallbind\" class=\"headerlink\" title=\"applythiscallbind\"></a>applythiscallbind</h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">test</span>(<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(a);</span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(b);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">10</span>];</span><br><span class=\"line\">test(array);</span><br><span class=\"line\"><span class=\"comment\">// [1, 10]</span></span><br><span class=\"line\"><span class=\"comment\">// undefined</span></span><br><span class=\"line\"></span><br><span class=\"line\">test.apply(<span class=\"literal\">null</span>, array);</span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"comment\">// 10</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> test = &#123;</span><br><span class=\"line\"> <span class=\"attr\">func</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(a);</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(b);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">10</span>];</span><br><span class=\"line\">test.func(array);</span><br><span class=\"line\"><span class=\"comment\">// [1, 10]</span></span><br><span class=\"line\"><span class=\"comment\">// undefined</span></span><br><span class=\"line\">test.func.apply(test.func, array);</span><br><span class=\"line\">test.func.apply(<span class=\"literal\">null</span>, array);</span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"comment\">// 10</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">6</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>];</span><br><span class=\"line\"><span class=\"built_in\">Math</span>.max(array);</span><br><span class=\"line\"><span class=\"comment\">// NaN</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">6</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>];</span><br><span class=\"line\"><span class=\"built_in\">Math</span>.max.apply(<span class=\"literal\">null</span>, array);</span><br><span class=\"line\"><span class=\"comment\">// 8</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"ES6\"><a href=\"#ES6\" class=\"headerlink\" title=\"ES6\"></a>ES6</h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">test</span>(<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(a);</span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(b);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">10</span>];</span><br><span class=\"line\">test(...array);</span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"comment\">// 10</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> test = &#123;</span><br><span class=\"line\"> <span class=\"attr\">func</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(a);</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(b);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">10</span>];</span><br><span class=\"line\">test.func(...array);</span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"comment\">// 10</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> array = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">6</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>];</span><br><span class=\"line\"><span class=\"built_in\">Math</span>.max(...array);</span><br><span class=\"line\"><span class=\"comment\">// 8</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"arguments\"><a href=\"#arguments\" class=\"headerlink\" title=\"arguments\"></a>arguments</h6><p>arguments</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">test</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"built_in\">arguments</span>.length; i++) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"built_in\">arguments</span>[i]);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">test(<span class=\"number\">1</span>,<span class=\"number\">12</span>,<span class=\"number\">5</span>);</span><br><span class=\"line\"><span class=\"comment\">// 1 12 5</span></span><br><span class=\"line\">test(<span class=\"number\">1</span>,<span class=\"number\">12</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>);</span><br><span class=\"line\"><span class=\"comment\">// 1 12 3 4 5</span></span><br></pre></td></tr></table></figure>"},{"title":"Object","date":"2022-09-05T05:54:58.000Z","_content":"\n###### ObjectObject.getPrototypeOf\nObject.getPrototypeOf\n```javascript\nObject.getPrototypeOf(obj);\n```\n****\nobj: \n****\nnull\n\nes5TypeError\nes6\n****\n```javascript\nconsole.log(Object.getPrototypeOf('12') === String.prototype); // true\n// \nconsole.log(Object.getPrototypeOf(12) === Number.prototype); // true\n//\nconsole.log(Object.getPrototypeOf({}) === Object.prototype); // true\n// \nconsole.log(Object.getPrototypeOf(true) === Boolean.prototype); // true\n// \nconsole.log(Object.getPrototypeOf(Symbol('test')) === Symbol.prototype); // true\n// \nconsole.log(Object.getPrototypeOf(null)); // Uncaught TypeError: Cannot convert undefined or null to object\n// \nconsole.log(Object.getPrototypeOf(undefined)); // Uncaught TypeError: Cannot convert undefined or null to object\n\n// \nconst obj = Object.create(null);\nconsole.log(Object.getPrototypeOf(obj)); // null\nconst obj = Object.create(undefined);\nconsole.log(Object.getPrototypeOf(obj)); // Uncaught TypeError: Object prototype may only be an Object or null: undefined\n```\n\n###### Object: Object.setPrototypeOf\nObject.setPrototypeOfnull\n```javascript\nObject.setPrototypeOf(obj, proto);\n```\n****\nobj: \nproto: nullTypeError\n\n****\n\n\nObject.create()\n\n****\n```javascript\nconst obj = { name: 'test' };\nconst newObj = Object.create(obj);\nObject.setPrototypeOf(newObj, obj);\nconsole.log(newObj.name); // 'test'\n\nconst otherObj = { age: 12};\nconsole.log(Object.getPrototypeOf(newObj) === obj); // true\nObject.setPrototypeOf(newObj, otherObj);\nconsole.log(Object.getPrototypeOf(newObj) === obj); // false\nconsole.log(Object.getPrototypeOf(newObj) === otherObj); // true\nconsole.log(newObj.name); // undefined\nconsole.log(newObj.age); // 12\n```","source":"_posts/31-get-and-set-prototypeof.md","raw":"---\ntitle: Object\ndate: 2022-09-05 13:54:58\ntags:\n---\n\n###### ObjectObject.getPrototypeOf\nObject.getPrototypeOf\n```javascript\nObject.getPrototypeOf(obj);\n```\n****\nobj: \n****\nnull\n\nes5TypeError\nes6\n****\n```javascript\nconsole.log(Object.getPrototypeOf('12') === String.prototype); // true\n// \nconsole.log(Object.getPrototypeOf(12) === Number.prototype); // true\n//\nconsole.log(Object.getPrototypeOf({}) === Object.prototype); // true\n// \nconsole.log(Object.getPrototypeOf(true) === Boolean.prototype); // true\n// \nconsole.log(Object.getPrototypeOf(Symbol('test')) === Symbol.prototype); // true\n// \nconsole.log(Object.getPrototypeOf(null)); // Uncaught TypeError: Cannot convert undefined or null to object\n// \nconsole.log(Object.getPrototypeOf(undefined)); // Uncaught TypeError: Cannot convert undefined or null to object\n\n// \nconst obj = Object.create(null);\nconsole.log(Object.getPrototypeOf(obj)); // null\nconst obj = Object.create(undefined);\nconsole.log(Object.getPrototypeOf(obj)); // Uncaught TypeError: Object prototype may only be an Object or null: undefined\n```\n\n###### Object: Object.setPrototypeOf\nObject.setPrototypeOfnull\n```javascript\nObject.setPrototypeOf(obj, proto);\n```\n****\nobj: \nproto: nullTypeError\n\n****\n\n\nObject.create()\n\n****\n```javascript\nconst obj = { name: 'test' };\nconst newObj = Object.create(obj);\nObject.setPrototypeOf(newObj, obj);\nconsole.log(newObj.name); // 'test'\n\nconst otherObj = { age: 12};\nconsole.log(Object.getPrototypeOf(newObj) === obj); // true\nObject.setPrototypeOf(newObj, otherObj);\nconsole.log(Object.getPrototypeOf(newObj) === obj); // false\nconsole.log(Object.getPrototypeOf(newObj) === otherObj); // true\nconsole.log(newObj.name); // undefined\nconsole.log(newObj.age); // 12\n```","slug":"31-get-and-set-prototypeof","published":1,"updated":"2022-09-05T06:42:22.960Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gx1001ccktt0byr5e3n","content":"<h6 id=\"ObjectObject-getPrototypeOf\"><a href=\"#ObjectObject-getPrototypeOf\" class=\"headerlink\" title=\"ObjectObject.getPrototypeOf\"></a>ObjectObject.getPrototypeOf</h6><p>Object.getPrototypeOf</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Object</span>.getPrototypeOf(obj);</span><br></pre></td></tr></table></figure>\n<p><strong></strong><br>obj: <br><strong></strong><br>null<br><br>es5TypeError<br>es6<br><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(<span class=\"string\">&#x27;12&#x27;</span>) === <span class=\"built_in\">String</span>.prototype); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(<span class=\"number\">12</span>) === <span class=\"built_in\">Number</span>.prototype); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(&#123;&#125;) === <span class=\"built_in\">Object</span>.prototype); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(<span class=\"literal\">true</span>) === <span class=\"built_in\">Boolean</span>.prototype); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(<span class=\"built_in\">Symbol</span>(<span class=\"string\">&#x27;test&#x27;</span>)) === <span class=\"built_in\">Symbol</span>.prototype); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(<span class=\"literal\">null</span>)); <span class=\"comment\">// Uncaught TypeError: Cannot convert undefined or null to object</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(<span class=\"literal\">undefined</span>)); <span class=\"comment\">// Uncaught TypeError: Cannot convert undefined or null to object</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = <span class=\"built_in\">Object</span>.create(<span class=\"literal\">null</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(obj)); <span class=\"comment\">// null</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = <span class=\"built_in\">Object</span>.create(<span class=\"literal\">undefined</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(obj)); <span class=\"comment\">// Uncaught TypeError: Object prototype may only be an Object or null: undefined</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"Object-Object-setPrototypeOf\"><a href=\"#Object-Object-setPrototypeOf\" class=\"headerlink\" title=\"Object: Object.setPrototypeOf\"></a>Object: Object.setPrototypeOf</h6><p>Object.setPrototypeOfnull</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, proto);</span><br></pre></td></tr></table></figure>\n<p><strong></strong><br>obj: <br>proto: nullTypeError</p>\n<p><strong></strong><br></p>\n<p>Object.create()</p>\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;test&#x27;</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> newObj = <span class=\"built_in\">Object</span>.create(obj);</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(newObj, obj);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newObj.name); <span class=\"comment\">// &#x27;test&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> otherObj = &#123; <span class=\"attr\">age</span>: <span class=\"number\">12</span>&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(newObj) === obj); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(newObj, otherObj);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(newObj) === obj); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(newObj) === otherObj); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newObj.name); <span class=\"comment\">// undefined</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newObj.age); <span class=\"comment\">// 12</span></span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<h6 id=\"ObjectObject-getPrototypeOf\"><a href=\"#ObjectObject-getPrototypeOf\" class=\"headerlink\" title=\"ObjectObject.getPrototypeOf\"></a>ObjectObject.getPrototypeOf</h6><p>Object.getPrototypeOf</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Object</span>.getPrototypeOf(obj);</span><br></pre></td></tr></table></figure>\n<p><strong></strong><br>obj: <br><strong></strong><br>null<br><br>es5TypeError<br>es6<br><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(<span class=\"string\">&#x27;12&#x27;</span>) === <span class=\"built_in\">String</span>.prototype); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(<span class=\"number\">12</span>) === <span class=\"built_in\">Number</span>.prototype); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(&#123;&#125;) === <span class=\"built_in\">Object</span>.prototype); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(<span class=\"literal\">true</span>) === <span class=\"built_in\">Boolean</span>.prototype); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(<span class=\"built_in\">Symbol</span>(<span class=\"string\">&#x27;test&#x27;</span>)) === <span class=\"built_in\">Symbol</span>.prototype); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(<span class=\"literal\">null</span>)); <span class=\"comment\">// Uncaught TypeError: Cannot convert undefined or null to object</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(<span class=\"literal\">undefined</span>)); <span class=\"comment\">// Uncaught TypeError: Cannot convert undefined or null to object</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = <span class=\"built_in\">Object</span>.create(<span class=\"literal\">null</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(obj)); <span class=\"comment\">// null</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = <span class=\"built_in\">Object</span>.create(<span class=\"literal\">undefined</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(obj)); <span class=\"comment\">// Uncaught TypeError: Object prototype may only be an Object or null: undefined</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"Object-Object-setPrototypeOf\"><a href=\"#Object-Object-setPrototypeOf\" class=\"headerlink\" title=\"Object: Object.setPrototypeOf\"></a>Object: Object.setPrototypeOf</h6><p>Object.setPrototypeOfnull</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(obj, proto);</span><br></pre></td></tr></table></figure>\n<p><strong></strong><br>obj: <br>proto: nullTypeError</p>\n<p><strong></strong><br></p>\n<p>Object.create()</p>\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;test&#x27;</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> newObj = <span class=\"built_in\">Object</span>.create(obj);</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(newObj, obj);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newObj.name); <span class=\"comment\">// &#x27;test&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> otherObj = &#123; <span class=\"attr\">age</span>: <span class=\"number\">12</span>&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(newObj) === obj); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.setPrototypeOf(newObj, otherObj);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(newObj) === obj); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"built_in\">Object</span>.getPrototypeOf(newObj) === otherObj); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newObj.name); <span class=\"comment\">// undefined</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newObj.age); <span class=\"comment\">// 12</span></span><br></pre></td></tr></table></figure>"},{"title":"(4)","date":"2022-10-08T05:25:18.000Z","_content":"\n#### \n\n\n\n\n\n```javascript\nfunction understandRecursion(doIunderstandRecursion) {\n  const recursionAnswer = confirm('Do you understand recursion?');\n  if (recursionAnswer === true) {\n    // \n    return true;\n  }\n  understandRecursion(recursionAnswer); // \n}\n```\n\n###### \n\n n  n! 1  n \n5  5! 5  4  3  2  1  120\n(1)\n(n) _ (n - 1) _ (n - 2) _ (n - 3) _ ... \\* 1\n\n```javascript\nfunction factorialIterative(number) {\n  if (number < 0) return undefined;\n  let total = 1;\n  for (let n = number; n > 1; n--) {\n    total = total * n;\n  }\n  return total;\n}\nconsole.log(factorialIterative(5)); // 120\n```\n\n(2)\n\n```javascript\nfunction factorial(n) {\n  if (n === 1 || n === 0) {\n    // \n    return 1;\n  }\n  return n * factorial(n - 1); // \n}\nconsole.log(factorial(5)); // 120\n```\n\n![factorial](factorial.png)\n\nstack overflow error\n\n****\n\n```javascript\nlet i = 0;\nfunction recursiveFn() {\n  i++;\n  recursiveFn();\n}\ntry {\n  recursiveFn();\n} catch (ex) {\n  console.log('i = ' + i + ' error: ' + ex);\n}\n```\n\n**ECMAScript 2015 tail call optimizationjumpsubroutine call ECMAScript 2015 **\n https://www.chromestatus.com/feature/\n5516876633341952\n\n###### \n\n(1) 0 \n(2)1  2  1\n(3)n n > 2n - 1n - 2\n\n****\n\n```javascript\nfunction fibonacciIterative(n) {\n  if (n < 1) return 0;\n  if (n <= 2) return 1;\n  let fibNMinus2 = 0;\n  let fibNMinus1 = 1;\n  let fibN = n;\n  for (let i = 2; i <= n; i++) {\n    // n >= 2\n    fibN = fibNMinus1 + fibNMinus2; // f(n-1) + f(n-2)\n    fibNMinus2 = fibNMinus1;\n    fibNMinus1 = fibN;\n  }\n  return fibN;\n}\nfibonacciIterative(9); // 34\n```\n\n****\n\n```javascript\nfunction fibonacci(n) {\n  if (n < 1) return 0; // {1}\n  if (n <= 2) return 1; // {2}\n  return fibonacci(n - 1) + fibonacci(n - 2); // {3}\n}\nfibonacci(9); // 34\n```\n\n****\n\n```javascript\nfunction fibonacciMemoization(n) {\n  const memo = [0, 1]; // {1}\n  const fibonacci = (n) => {\n    if (memo[n] != null) return memo[n]; // {2}\n    return (memo[n] = fibonacci(n - 1, memo) + fibonacci(n - 2, memo)); // {3}\n  };\n  return fibonacci(n);\n}\nfibonacciMemoization(9); // 34\n```\n\n\n\n#### \n\n###### \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n 0  1 \n![tree](tree.png)\n\n###### \n\n\n\nBST\n![binary-search-tree](binary-search-tree.png)\n\n\n\n\n****\n![in-order-traverse](in-order-traverse.png)\n****\n![pre-order-traverse](pre-order-traverse.png)\n****\n![post-order-traverse](post-order-traverse.png)\n\n```javascript\nexport class Node {\n  constructor(key) {\n    this.key = key; // {1} \n    this.left = null; // \n    this.right = null; // \n  }\n}\n\nimport { Compare, defaultCompare } from '../util';\nimport { Node } from './models/node';\nexport default class BinarySearchTree {\n  constructor(compareFn = defaultCompare) {\n    this.compareFn = compareFn; // \n    this.root = null; // {1} Node \n  }\n  // \n  insert(key) {\n    if (this.root == null) {\n      // {1}\n      this.root = new Node(key); // {2}\n    } else {\n      this.insertNode(this.root, key); // {3}\n    }\n  }\n  insertNode(node, key) {\n    if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      // {4}\n      if (node.left == null) {\n        // {5}\n        node.left = new Node(key); // {6}\n      } else {\n        this.insertNode(node.left, key); // {7}\n      }\n    } else {\n      if (node.right == null) {\n        // {8}\n        node.right = new Node(key); // {9}\n      } else {\n        this.insertNode(node.right, key); // {10}\n      }\n    }\n  }\n  // \n  //  BST \n  // \n  inOrderTraverse(callback) {\n    this.inOrderTraverseNode(this.root, callback); // {1}\n  }\n  inOrderTraverseNode(node, callback) {\n    if (node != null) {\n      // {2}\n      this.inOrderTraverseNode(node.left, callback); // {3}\n      callback(node.key); // {4}\n      this.inOrderTraverseNode(node.right, callback); // {5}\n    }\n  }\n  // \n  // \n  preOrderTraverse(callback) {\n    this.preOrderTraverseNode(this.root, callback);\n  }\n  preOrderTraverseNode(node, callback) {\n    if (node != null) {\n      callback(node.key); // {1}\n      this.preOrderTraverseNode(node.left, callback); // {2}\n      this.preOrderTraverseNode(node.right, callback); // {3}\n    }\n  }\n  // \n  // \n  postOrderTraverse(callback) {\n    this.postOrderTraverseNode(this.root, callback);\n  }\n  postOrderTraverseNode(node, callback) {\n    if (node != null) {\n      this.postOrderTraverseNode(node.left, callback); // {1}\n      this.postOrderTraverseNode(node.right, callback); // {2}\n      callback(node.key); // {3}\n    }\n  }\n  // \n  min() {\n    return this.minNode(this.root); // {1}\n  }\n  minNode(node) {\n    let current = node;\n    while (current != null && current.left != null) {\n      // {2}\n      current = current.left; // {3}\n    }\n    return current; // {4}\n  }\n  max() {\n    return this.maxNode(this.root);\n  }\n  maxNode(node) {\n    let current = node;\n    while (current != null && current.right != null) {\n      // {5}\n      current = current.right;\n    }\n    return current;\n  }\n  // \n  search(key) {\n    return this.searchNode(this.root, key); // {1}\n  }\n  searchNode(node, key) {\n    if (node == null) {\n      // {2}\n      return false;\n    }\n    if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      // {3}\n      return this.searchNode(node.left, key); // {4}\n    } else if (this.compareFn(key, node.key) === Compare.BIGGER_THAN) {\n      // {5}\n      return this.searchNode(node.right, key); // {6}\n    } else {\n      return true; // {7}\n    }\n  }\n  // \n  remove(key) {\n    this.root = this.removeNode(this.root, key); // {1}\n  }\n  removeNode(node, key) {\n    if (node == null) {\n      // {2}\n      return null;\n    }\n    if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      // {3}\n      node.left = this.removeNode(node.left, key); // {4}\n      return node; // {5}\n    } else if (this.compareFn(key, node.key) === Compare.BIGGER_THAN) {\n      // {6}\n      node.right = this.removeNode(node.right, key); // {7}\n      return node; // {8}\n    } else {\n      //  node.key\n      // : \n      if (node.left == null && node.right == null) {\n        // {9}\n        node = null; // {10}\n        return node; // {11}\n      }\n      // : \n      if (node.left == null) {\n        // {12}\n        node = node.right; // {13}\n        return node; // {14}\n      } else if (node.right == null) {\n        // {15}\n        node = node.left; // {16}\n        return node; // {17}\n      }\n      // : \n      const aux = this.minNode(node.right); // {18}\n      node.key = aux.key; // {19}\n      node.right = this.removeNode(node.right, aux.key); // {20}\n      return node; // {21}\n    }\n  }\n}\n```\n\n****\n\n(1) {18}\n(2) {19}\n\n(3) \n{20}\n(4) {21}\n![remove-left-right](remove-left-right.png)\n\n###### \n\nAdelson-Velskii-Landi AVL \nAVL  1\n\n AVL hrhlhrhl 01 -1 AVL \n\n```javascript\nconst BalanceFactor = {\n  UNBALANCED_RIGHT: 1,\n  SLIGHTLY_UNBALANCED_RIGHT: 2,\n  BALANCED: 3,\n  SLIGHTLY_UNBALANCED_LEFT: 4,\n  UNBALANCED_LEFT: 5,\n};\n\nclass AVLTree extends BinarySearchTree {\n  constructor(compareFn = defaultCompare) {\n    super(compareFn);\n    this.compareFn = compareFn;\n    this.root = null;\n  }\n  // \n  getNodeHeight(node) {\n    if (node == null) {\n      return -1;\n    }\n    return (\n      Math.max(this.getNodeHeight(node.left), this.getNodeHeight(node.right)) +\n      1\n    );\n  }\n  getBalanceFactor(node) {\n    const heightDifference =\n      this.getNodeHeight(node.left) - this.getNodeHeight(node.right);\n    switch (heightDifference) {\n      case -2:\n        return BalanceFactor.UNBALANCED_RIGHT;\n      case -1:\n        return BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT;\n      case 1:\n        return BalanceFactor.SLIGHTLY_UNBALANCED_LEFT;\n      case 2:\n        return BalanceFactor.UNBALANCED_LEFT;\n      default:\n        return BalanceFactor.BALANCED;\n    }\n  }\n  rotationLL(node) {\n    const tmp = node.left; // {1}\n    node.left = tmp.right; // {2}\n    tmp.right = node; // {3}\n    return tmp;\n  }\n  rotationRR(node) {\n    const tmp = node.right; // {1}\n    node.right = tmp.left; // {2}\n    tmp.left = node; // {3}\n    return tmp;\n  }\n  rotationLR(node) {\n    node.left = this.rotationRR(node.left);\n    return this.rotationLL(node);\n  }\n  rotationRL(node) {\n    node.right = this.rotationLL(node.right);\n    return this.rotationRR(node);\n  }\n  //   AVL \n  insert(key) {\n    this.root = this.insertNode(this.root, key);\n  }\n  insertNode(node, key) {\n    //  BST \n    if (node == null) {\n      return new Node(key);\n    } else if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      node.left = this.insertNode(node.left, key);\n    } else if (this.compareFn(key, node.key) === Compare.BIGGER_THAN) {\n      node.right = this.insertNode(node.right, key);\n    } else {\n      return node; // \n    }\n    // \n    const balanceFactor = this.getBalanceFactor(node); // {1}\n    if (balanceFactor === BalanceFactor.UNBALANCED_LEFT) {\n      // {2}\n      if (this.compareFn(key, node.left.key) === Compare.LESS_THAN) {\n        // {3}\n        node = this.rotationLL(node); // {4}\n      } else {\n        return this.rotationLR(node); // {5}\n      }\n    }\n    if (balanceFactor === BalanceFactor.UNBALANCED_RIGHT) {\n      // {6}\n      if (this.compareFn(key, node.right.key) === Compare.BIGGER_THAN) {\n        // {7}\n        node = this.rotationRR(node); // {8}\n      } else {\n        return this.rotationRL(node); // {9}\n      }\n    }\n    return node;\n  }\n  //  AVL \n  removeNode(node, key) {\n    node = super.removeNode(node, key); // {1}\n    if (node == null) {\n      return node; // null\n    }\n    // \n    const balanceFactor = this.getBalanceFactor(node); // {2}\n    if (balanceFactor === BalanceFactor.UNBALANCED_LEFT) {\n      // {3}\n      const balanceFactorLeft = this.getBalanceFactor(node.left); // {4}\n      if (\n        balanceFactorLeft === BalanceFactor.BALANCED ||\n        balanceFactorLeft === BalanceFactor.SLIGHTLY_UNBALANCED_LEFT\n      ) {\n        // {5}\n        return this.rotationLL(node); // {6}\n      }\n      if (balanceFactorLeft === BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT) {\n        // {7}\n        return this.rotationLR(node.left); // {8}\n      }\n    }\n    if (balanceFactor === BalanceFactor.UNBALANCED_RIGHT) {\n      // {9}\n      const balanceFactorRight = this.getBalanceFactor(node.right); // {10}\n      if (\n        balanceFactorRight === BalanceFactor.BALANCED ||\n        balanceFactorRight === BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT\n      ) {\n        // {11}\n        return this.rotationRR(node); // {12}\n      }\n      if (balanceFactorRight === BalanceFactor.SLIGHTLY_UNBALANCED_LEFT) {\n        // {13}\n        return this.rotationRL(node.right); // {14}\n      }\n    }\n    return node;\n  }\n}\n```\n\n**AVL **\n(1)-LL\n\n![left-left-1](left-left-1.png)\n![left-left-2](left-left-2.png)\n\nrotationLL \nXYZ X  Y+2{1}\n X \n Y  X  Z{2}\n X  Y{3}\n\n(2)-RR\n    \n![right-right-1](right-right-1.png)\n![right-right-2](right-right-2.png)\n\nrotationRR \nXYZ X  Y 2{1}\n X \n Y  X  Z{2}\n X  Y{3}\n\n(3)-LR\n-\n![left-right-1](left-right-1.png)\n![left-right-2](left-right-2.png)\n\nrotationLR \n X  Y 2\n Z  X \n Y  X \n X  Y\n X  Z\n\n(4)-RL\n-    \n![right-left-1](right-left-1.png)\n![right-left-2](right-left-2.png)\n\nrotationRL \n X  Y+2\n Y  X \n Z  X \n X  Y\n X  Z\n\n###### \n\n AVL \n\n\n(1) \n(2) \n(3)  NULL \n(4) \n(5) \n(6) NULL \n\n```javascript\nclass RedBlackNode extends Node {\n  constructor(key) {\n    super(key);\n    this.key = key;\n    this.color = Colors.RED; // {6}\n    this.parent = null; // {7}\n  }\n  isRed() {\n    return this.color === Colors.RED;\n  }\n}\n\nclass RedBlackTree extends BinarySearchTree {\n  constructor(compareFn = defaultCompare) {\n    super(compareFn);\n    this.compareFn = compareFn;\n    this.root = null;\n  }\n  insert(key: T) {\n    if (this.root == null) {\n      // {1}\n      this.root = new RedBlackNode(key); // {2}\n      this.root.color = Colors.BLACK; // {3}\n    } else {\n      const newNode = this.insertNode(this.root, key); // {4}\n      this.fixTreeProperties(newNode); // {5}\n    }\n  }\n  insertNode(node, key) {\n    if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      if (node.left == null) {\n        node.left = new RedBlackNode(key);\n        node.left.parent = node; // {8}\n        return node.left; // {9}\n      } else {\n        return this.insertNode(node.left, key);\n      }\n    } else if (node.right == null) {\n      node.right = new RedBlackNode(key);\n      node.right.parent = node; // {10}\n      return node.right; // {11}\n    } else {\n      return this.insertNode(node.right, key);\n    }\n  }\n  fixTreeProperties(node) {\n    while (\n      node &&\n      node.parent &&\n      node.parent.color.isRed() && // {1}\n      node.color !== Colors.BLACK\n    ) {\n      // {2}\n      let parent = node.parent; // {3}\n      const grandParent = parent.parent; // {4}\n      //  A\n      if (grandParent && grandParent.left === parent) {\n        // {5}\n        const uncle = grandParent.right; // {6}\n        //  1A\n        if (uncle && uncle.color === Colors.RED) {\n          // {7}\n          grandParent.color = Colors.RED;\n          parent.color = Colors.BLACK;\n          uncle.color = Colors.BLACK;\n          node = grandParent; // {8}\n        } else {\n          //  2A\n          if (node === parent.right) {\n            this.rotationRR(parent); // {12}\n            node = parent; // {13}\n            parent = node.parent; // {14}\n          }\n          //  3A\n          this.rotationLL(grandParent); // {15}\n          parent.color = Colors.BLACK; // {16}\n          grandParent.color = Colors.RED; // {17}\n          node = parent; // {18}\n        }\n      } else {\n        //  B\n        const uncle = grandParent.left; // {9}\n        //  1B\n        if (uncle && uncle.color === Colors.RED) {\n          // {10}\n          grandParent.color = Colors.RED;\n          parent.color = Colors.BLACK;\n          uncle.color = Colors.BLACK;\n          node = grandParent;\n        } else {\n          //  2B\n          if (node === parent.left) {\n            this.rotationLL(parent); // {19}\n            node = parent;\n            parent = node.parent;\n          }\n          //  3B\n          this.rotationRR(grandParent); // {20}\n          parent.color = Colors.BLACK;\n          grandParent.color = Colors.RED;\n          node = parent;\n        }\n      }\n    }\n    this.root.color = Colors.BLACK; // {11}\n  }\n  rotationLL(node) {\n    const tmp = node.left;\n    node.left = tmp.right;\n    if (tmp.right && tmp.right.key) {\n      tmp.right.parent = node;\n    }\n    tmp.parent = node.parent;\n    if (!node.parent) {\n      this.root = tmp;\n    } else {\n      if (node === node.parent.left) {\n        node.parent.left = tmp;\n      } else {\n        node.parent.right = tmp;\n      }\n    }\n    tmp.right = node;\n    node.parent = tmp;\n  }\n  rotationRR(node) {\n    const tmp = node.right;\n    node.right = tmp.left;\n    if (tmp.left && tmp.left.key) {\n      tmp.left.parent = node;\n    }\n    tmp.parent = node.parent;\n    if (!node.parent) {\n      this.root = tmp;\n    } else {\n      if (node === node.parent.left) {\n        node.parent.left = tmp;\n      } else {\n        node.parent.right = tmp;\n      }\n    }\n    tmp.left = node;\n    node.parent = tmp;\n  }\n}\n```\n\n-LL 3A\n-LR 2A\n-RR 2A\n-RL 2A\n![red-black-2a](red-black-2a.png)\n![red-black-3a](red-black-3a.png)\n![red-black-2b](red-black-2b.png)\n![red-black-3b](red-black-3b.png)\n","source":"_posts/36-data-structure4.md","raw":"---\ntitle: (4)\ndate: 2022-10-08 13:25:18\ntags:\n---\n\n#### \n\n\n\n\n\n```javascript\nfunction understandRecursion(doIunderstandRecursion) {\n  const recursionAnswer = confirm('Do you understand recursion?');\n  if (recursionAnswer === true) {\n    // \n    return true;\n  }\n  understandRecursion(recursionAnswer); // \n}\n```\n\n###### \n\n n  n! 1  n \n5  5! 5  4  3  2  1  120\n(1)\n(n) _ (n - 1) _ (n - 2) _ (n - 3) _ ... \\* 1\n\n```javascript\nfunction factorialIterative(number) {\n  if (number < 0) return undefined;\n  let total = 1;\n  for (let n = number; n > 1; n--) {\n    total = total * n;\n  }\n  return total;\n}\nconsole.log(factorialIterative(5)); // 120\n```\n\n(2)\n\n```javascript\nfunction factorial(n) {\n  if (n === 1 || n === 0) {\n    // \n    return 1;\n  }\n  return n * factorial(n - 1); // \n}\nconsole.log(factorial(5)); // 120\n```\n\n![factorial](factorial.png)\n\nstack overflow error\n\n****\n\n```javascript\nlet i = 0;\nfunction recursiveFn() {\n  i++;\n  recursiveFn();\n}\ntry {\n  recursiveFn();\n} catch (ex) {\n  console.log('i = ' + i + ' error: ' + ex);\n}\n```\n\n**ECMAScript 2015 tail call optimizationjumpsubroutine call ECMAScript 2015 **\n https://www.chromestatus.com/feature/\n5516876633341952\n\n###### \n\n(1) 0 \n(2)1  2  1\n(3)n n > 2n - 1n - 2\n\n****\n\n```javascript\nfunction fibonacciIterative(n) {\n  if (n < 1) return 0;\n  if (n <= 2) return 1;\n  let fibNMinus2 = 0;\n  let fibNMinus1 = 1;\n  let fibN = n;\n  for (let i = 2; i <= n; i++) {\n    // n >= 2\n    fibN = fibNMinus1 + fibNMinus2; // f(n-1) + f(n-2)\n    fibNMinus2 = fibNMinus1;\n    fibNMinus1 = fibN;\n  }\n  return fibN;\n}\nfibonacciIterative(9); // 34\n```\n\n****\n\n```javascript\nfunction fibonacci(n) {\n  if (n < 1) return 0; // {1}\n  if (n <= 2) return 1; // {2}\n  return fibonacci(n - 1) + fibonacci(n - 2); // {3}\n}\nfibonacci(9); // 34\n```\n\n****\n\n```javascript\nfunction fibonacciMemoization(n) {\n  const memo = [0, 1]; // {1}\n  const fibonacci = (n) => {\n    if (memo[n] != null) return memo[n]; // {2}\n    return (memo[n] = fibonacci(n - 1, memo) + fibonacci(n - 2, memo)); // {3}\n  };\n  return fibonacci(n);\n}\nfibonacciMemoization(9); // 34\n```\n\n\n\n#### \n\n###### \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n 0  1 \n![tree](tree.png)\n\n###### \n\n\n\nBST\n![binary-search-tree](binary-search-tree.png)\n\n\n\n\n****\n![in-order-traverse](in-order-traverse.png)\n****\n![pre-order-traverse](pre-order-traverse.png)\n****\n![post-order-traverse](post-order-traverse.png)\n\n```javascript\nexport class Node {\n  constructor(key) {\n    this.key = key; // {1} \n    this.left = null; // \n    this.right = null; // \n  }\n}\n\nimport { Compare, defaultCompare } from '../util';\nimport { Node } from './models/node';\nexport default class BinarySearchTree {\n  constructor(compareFn = defaultCompare) {\n    this.compareFn = compareFn; // \n    this.root = null; // {1} Node \n  }\n  // \n  insert(key) {\n    if (this.root == null) {\n      // {1}\n      this.root = new Node(key); // {2}\n    } else {\n      this.insertNode(this.root, key); // {3}\n    }\n  }\n  insertNode(node, key) {\n    if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      // {4}\n      if (node.left == null) {\n        // {5}\n        node.left = new Node(key); // {6}\n      } else {\n        this.insertNode(node.left, key); // {7}\n      }\n    } else {\n      if (node.right == null) {\n        // {8}\n        node.right = new Node(key); // {9}\n      } else {\n        this.insertNode(node.right, key); // {10}\n      }\n    }\n  }\n  // \n  //  BST \n  // \n  inOrderTraverse(callback) {\n    this.inOrderTraverseNode(this.root, callback); // {1}\n  }\n  inOrderTraverseNode(node, callback) {\n    if (node != null) {\n      // {2}\n      this.inOrderTraverseNode(node.left, callback); // {3}\n      callback(node.key); // {4}\n      this.inOrderTraverseNode(node.right, callback); // {5}\n    }\n  }\n  // \n  // \n  preOrderTraverse(callback) {\n    this.preOrderTraverseNode(this.root, callback);\n  }\n  preOrderTraverseNode(node, callback) {\n    if (node != null) {\n      callback(node.key); // {1}\n      this.preOrderTraverseNode(node.left, callback); // {2}\n      this.preOrderTraverseNode(node.right, callback); // {3}\n    }\n  }\n  // \n  // \n  postOrderTraverse(callback) {\n    this.postOrderTraverseNode(this.root, callback);\n  }\n  postOrderTraverseNode(node, callback) {\n    if (node != null) {\n      this.postOrderTraverseNode(node.left, callback); // {1}\n      this.postOrderTraverseNode(node.right, callback); // {2}\n      callback(node.key); // {3}\n    }\n  }\n  // \n  min() {\n    return this.minNode(this.root); // {1}\n  }\n  minNode(node) {\n    let current = node;\n    while (current != null && current.left != null) {\n      // {2}\n      current = current.left; // {3}\n    }\n    return current; // {4}\n  }\n  max() {\n    return this.maxNode(this.root);\n  }\n  maxNode(node) {\n    let current = node;\n    while (current != null && current.right != null) {\n      // {5}\n      current = current.right;\n    }\n    return current;\n  }\n  // \n  search(key) {\n    return this.searchNode(this.root, key); // {1}\n  }\n  searchNode(node, key) {\n    if (node == null) {\n      // {2}\n      return false;\n    }\n    if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      // {3}\n      return this.searchNode(node.left, key); // {4}\n    } else if (this.compareFn(key, node.key) === Compare.BIGGER_THAN) {\n      // {5}\n      return this.searchNode(node.right, key); // {6}\n    } else {\n      return true; // {7}\n    }\n  }\n  // \n  remove(key) {\n    this.root = this.removeNode(this.root, key); // {1}\n  }\n  removeNode(node, key) {\n    if (node == null) {\n      // {2}\n      return null;\n    }\n    if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      // {3}\n      node.left = this.removeNode(node.left, key); // {4}\n      return node; // {5}\n    } else if (this.compareFn(key, node.key) === Compare.BIGGER_THAN) {\n      // {6}\n      node.right = this.removeNode(node.right, key); // {7}\n      return node; // {8}\n    } else {\n      //  node.key\n      // : \n      if (node.left == null && node.right == null) {\n        // {9}\n        node = null; // {10}\n        return node; // {11}\n      }\n      // : \n      if (node.left == null) {\n        // {12}\n        node = node.right; // {13}\n        return node; // {14}\n      } else if (node.right == null) {\n        // {15}\n        node = node.left; // {16}\n        return node; // {17}\n      }\n      // : \n      const aux = this.minNode(node.right); // {18}\n      node.key = aux.key; // {19}\n      node.right = this.removeNode(node.right, aux.key); // {20}\n      return node; // {21}\n    }\n  }\n}\n```\n\n****\n\n(1) {18}\n(2) {19}\n\n(3) \n{20}\n(4) {21}\n![remove-left-right](remove-left-right.png)\n\n###### \n\nAdelson-Velskii-Landi AVL \nAVL  1\n\n AVL hrhlhrhl 01 -1 AVL \n\n```javascript\nconst BalanceFactor = {\n  UNBALANCED_RIGHT: 1,\n  SLIGHTLY_UNBALANCED_RIGHT: 2,\n  BALANCED: 3,\n  SLIGHTLY_UNBALANCED_LEFT: 4,\n  UNBALANCED_LEFT: 5,\n};\n\nclass AVLTree extends BinarySearchTree {\n  constructor(compareFn = defaultCompare) {\n    super(compareFn);\n    this.compareFn = compareFn;\n    this.root = null;\n  }\n  // \n  getNodeHeight(node) {\n    if (node == null) {\n      return -1;\n    }\n    return (\n      Math.max(this.getNodeHeight(node.left), this.getNodeHeight(node.right)) +\n      1\n    );\n  }\n  getBalanceFactor(node) {\n    const heightDifference =\n      this.getNodeHeight(node.left) - this.getNodeHeight(node.right);\n    switch (heightDifference) {\n      case -2:\n        return BalanceFactor.UNBALANCED_RIGHT;\n      case -1:\n        return BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT;\n      case 1:\n        return BalanceFactor.SLIGHTLY_UNBALANCED_LEFT;\n      case 2:\n        return BalanceFactor.UNBALANCED_LEFT;\n      default:\n        return BalanceFactor.BALANCED;\n    }\n  }\n  rotationLL(node) {\n    const tmp = node.left; // {1}\n    node.left = tmp.right; // {2}\n    tmp.right = node; // {3}\n    return tmp;\n  }\n  rotationRR(node) {\n    const tmp = node.right; // {1}\n    node.right = tmp.left; // {2}\n    tmp.left = node; // {3}\n    return tmp;\n  }\n  rotationLR(node) {\n    node.left = this.rotationRR(node.left);\n    return this.rotationLL(node);\n  }\n  rotationRL(node) {\n    node.right = this.rotationLL(node.right);\n    return this.rotationRR(node);\n  }\n  //   AVL \n  insert(key) {\n    this.root = this.insertNode(this.root, key);\n  }\n  insertNode(node, key) {\n    //  BST \n    if (node == null) {\n      return new Node(key);\n    } else if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      node.left = this.insertNode(node.left, key);\n    } else if (this.compareFn(key, node.key) === Compare.BIGGER_THAN) {\n      node.right = this.insertNode(node.right, key);\n    } else {\n      return node; // \n    }\n    // \n    const balanceFactor = this.getBalanceFactor(node); // {1}\n    if (balanceFactor === BalanceFactor.UNBALANCED_LEFT) {\n      // {2}\n      if (this.compareFn(key, node.left.key) === Compare.LESS_THAN) {\n        // {3}\n        node = this.rotationLL(node); // {4}\n      } else {\n        return this.rotationLR(node); // {5}\n      }\n    }\n    if (balanceFactor === BalanceFactor.UNBALANCED_RIGHT) {\n      // {6}\n      if (this.compareFn(key, node.right.key) === Compare.BIGGER_THAN) {\n        // {7}\n        node = this.rotationRR(node); // {8}\n      } else {\n        return this.rotationRL(node); // {9}\n      }\n    }\n    return node;\n  }\n  //  AVL \n  removeNode(node, key) {\n    node = super.removeNode(node, key); // {1}\n    if (node == null) {\n      return node; // null\n    }\n    // \n    const balanceFactor = this.getBalanceFactor(node); // {2}\n    if (balanceFactor === BalanceFactor.UNBALANCED_LEFT) {\n      // {3}\n      const balanceFactorLeft = this.getBalanceFactor(node.left); // {4}\n      if (\n        balanceFactorLeft === BalanceFactor.BALANCED ||\n        balanceFactorLeft === BalanceFactor.SLIGHTLY_UNBALANCED_LEFT\n      ) {\n        // {5}\n        return this.rotationLL(node); // {6}\n      }\n      if (balanceFactorLeft === BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT) {\n        // {7}\n        return this.rotationLR(node.left); // {8}\n      }\n    }\n    if (balanceFactor === BalanceFactor.UNBALANCED_RIGHT) {\n      // {9}\n      const balanceFactorRight = this.getBalanceFactor(node.right); // {10}\n      if (\n        balanceFactorRight === BalanceFactor.BALANCED ||\n        balanceFactorRight === BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT\n      ) {\n        // {11}\n        return this.rotationRR(node); // {12}\n      }\n      if (balanceFactorRight === BalanceFactor.SLIGHTLY_UNBALANCED_LEFT) {\n        // {13}\n        return this.rotationRL(node.right); // {14}\n      }\n    }\n    return node;\n  }\n}\n```\n\n**AVL **\n(1)-LL\n\n![left-left-1](left-left-1.png)\n![left-left-2](left-left-2.png)\n\nrotationLL \nXYZ X  Y+2{1}\n X \n Y  X  Z{2}\n X  Y{3}\n\n(2)-RR\n    \n![right-right-1](right-right-1.png)\n![right-right-2](right-right-2.png)\n\nrotationRR \nXYZ X  Y 2{1}\n X \n Y  X  Z{2}\n X  Y{3}\n\n(3)-LR\n-\n![left-right-1](left-right-1.png)\n![left-right-2](left-right-2.png)\n\nrotationLR \n X  Y 2\n Z  X \n Y  X \n X  Y\n X  Z\n\n(4)-RL\n-    \n![right-left-1](right-left-1.png)\n![right-left-2](right-left-2.png)\n\nrotationRL \n X  Y+2\n Y  X \n Z  X \n X  Y\n X  Z\n\n###### \n\n AVL \n\n\n(1) \n(2) \n(3)  NULL \n(4) \n(5) \n(6) NULL \n\n```javascript\nclass RedBlackNode extends Node {\n  constructor(key) {\n    super(key);\n    this.key = key;\n    this.color = Colors.RED; // {6}\n    this.parent = null; // {7}\n  }\n  isRed() {\n    return this.color === Colors.RED;\n  }\n}\n\nclass RedBlackTree extends BinarySearchTree {\n  constructor(compareFn = defaultCompare) {\n    super(compareFn);\n    this.compareFn = compareFn;\n    this.root = null;\n  }\n  insert(key: T) {\n    if (this.root == null) {\n      // {1}\n      this.root = new RedBlackNode(key); // {2}\n      this.root.color = Colors.BLACK; // {3}\n    } else {\n      const newNode = this.insertNode(this.root, key); // {4}\n      this.fixTreeProperties(newNode); // {5}\n    }\n  }\n  insertNode(node, key) {\n    if (this.compareFn(key, node.key) === Compare.LESS_THAN) {\n      if (node.left == null) {\n        node.left = new RedBlackNode(key);\n        node.left.parent = node; // {8}\n        return node.left; // {9}\n      } else {\n        return this.insertNode(node.left, key);\n      }\n    } else if (node.right == null) {\n      node.right = new RedBlackNode(key);\n      node.right.parent = node; // {10}\n      return node.right; // {11}\n    } else {\n      return this.insertNode(node.right, key);\n    }\n  }\n  fixTreeProperties(node) {\n    while (\n      node &&\n      node.parent &&\n      node.parent.color.isRed() && // {1}\n      node.color !== Colors.BLACK\n    ) {\n      // {2}\n      let parent = node.parent; // {3}\n      const grandParent = parent.parent; // {4}\n      //  A\n      if (grandParent && grandParent.left === parent) {\n        // {5}\n        const uncle = grandParent.right; // {6}\n        //  1A\n        if (uncle && uncle.color === Colors.RED) {\n          // {7}\n          grandParent.color = Colors.RED;\n          parent.color = Colors.BLACK;\n          uncle.color = Colors.BLACK;\n          node = grandParent; // {8}\n        } else {\n          //  2A\n          if (node === parent.right) {\n            this.rotationRR(parent); // {12}\n            node = parent; // {13}\n            parent = node.parent; // {14}\n          }\n          //  3A\n          this.rotationLL(grandParent); // {15}\n          parent.color = Colors.BLACK; // {16}\n          grandParent.color = Colors.RED; // {17}\n          node = parent; // {18}\n        }\n      } else {\n        //  B\n        const uncle = grandParent.left; // {9}\n        //  1B\n        if (uncle && uncle.color === Colors.RED) {\n          // {10}\n          grandParent.color = Colors.RED;\n          parent.color = Colors.BLACK;\n          uncle.color = Colors.BLACK;\n          node = grandParent;\n        } else {\n          //  2B\n          if (node === parent.left) {\n            this.rotationLL(parent); // {19}\n            node = parent;\n            parent = node.parent;\n          }\n          //  3B\n          this.rotationRR(grandParent); // {20}\n          parent.color = Colors.BLACK;\n          grandParent.color = Colors.RED;\n          node = parent;\n        }\n      }\n    }\n    this.root.color = Colors.BLACK; // {11}\n  }\n  rotationLL(node) {\n    const tmp = node.left;\n    node.left = tmp.right;\n    if (tmp.right && tmp.right.key) {\n      tmp.right.parent = node;\n    }\n    tmp.parent = node.parent;\n    if (!node.parent) {\n      this.root = tmp;\n    } else {\n      if (node === node.parent.left) {\n        node.parent.left = tmp;\n      } else {\n        node.parent.right = tmp;\n      }\n    }\n    tmp.right = node;\n    node.parent = tmp;\n  }\n  rotationRR(node) {\n    const tmp = node.right;\n    node.right = tmp.left;\n    if (tmp.left && tmp.left.key) {\n      tmp.left.parent = node;\n    }\n    tmp.parent = node.parent;\n    if (!node.parent) {\n      this.root = tmp;\n    } else {\n      if (node === node.parent.left) {\n        node.parent.left = tmp;\n      } else {\n        node.parent.right = tmp;\n      }\n    }\n    tmp.left = node;\n    node.parent = tmp;\n  }\n}\n```\n\n-LL 3A\n-LR 2A\n-RR 2A\n-RL 2A\n![red-black-2a](red-black-2a.png)\n![red-black-3a](red-black-3a.png)\n![red-black-2b](red-black-2b.png)\n![red-black-3b](red-black-3b.png)\n","slug":"36-data-structure4","published":1,"updated":"2022-10-08T08:25:03.909Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gx1001dckttcuiw12rz","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">understandRecursion</span>(<span class=\"params\">doIunderstandRecursion</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> recursionAnswer = confirm(<span class=\"string\">&#x27;Do you understand recursion?&#x27;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (recursionAnswer === <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  understandRecursion(recursionAnswer); <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p> n  n! 1  n <br>5  5! 5  4  3  2  1  120<br>(1)<br>(n) _ (n - 1) _ (n - 2) _ (n - 3) _  * 1</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">factorialIterative</span>(<span class=\"params\">number</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (number &lt; <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> total = <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> n = number; n &gt; <span class=\"number\">1</span>; n--) &#123;</span><br><span class=\"line\">    total = total * n;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> total;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(factorialIterative(<span class=\"number\">5</span>)); <span class=\"comment\">// 120</span></span><br></pre></td></tr></table></figure>\n\n<p>(2)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">factorial</span>(<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span> || n === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> n * factorial(n - <span class=\"number\">1</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(factorial(<span class=\"number\">5</span>)); <span class=\"comment\">// 120</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/08/36-data-structure4/factorial.png\" alt=\"factorial\"></p>\n<p>stack overflow error</p>\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">recursiveFn</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  i++;</span><br><span class=\"line\">  recursiveFn();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">  recursiveFn();</span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (ex) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;i = &#x27;</span> + i + <span class=\"string\">&#x27; error: &#x27;</span> + ex);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>ECMAScript 2015 tail call optimizationjumpsubroutine call ECMAScript 2015 </strong><br> <a href=\"https://www.chromestatus.com/feature/\">https://www.chromestatus.com/feature/</a><br>5516876633341952</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(1) 0 <br>(2)1  2  1<br>(3)n n &gt; 2n - 1n - 2</p>\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fibonacciIterative</span>(<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n &lt; <span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n &lt;= <span class=\"number\">2</span>) <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> fibNMinus2 = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> fibNMinus1 = <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> fibN = n;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">2</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// n &gt;= 2</span></span><br><span class=\"line\">    fibN = fibNMinus1 + fibNMinus2; <span class=\"comment\">// f(n-1) + f(n-2)</span></span><br><span class=\"line\">    fibNMinus2 = fibNMinus1;</span><br><span class=\"line\">    fibNMinus1 = fibN;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> fibN;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">fibonacciIterative(<span class=\"number\">9</span>); <span class=\"comment\">// 34</span></span><br></pre></td></tr></table></figure>\n\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fibonacci</span>(<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n &lt; <span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n &lt;= <span class=\"number\">2</span>) <span class=\"keyword\">return</span> <span class=\"number\">1</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> fibonacci(n - <span class=\"number\">1</span>) + fibonacci(n - <span class=\"number\">2</span>); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">fibonacci(<span class=\"number\">9</span>); <span class=\"comment\">// 34</span></span><br></pre></td></tr></table></figure>\n\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fibonacciMemoization</span>(<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> memo = [<span class=\"number\">0</span>, <span class=\"number\">1</span>]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> fibonacci = <span class=\"function\">(<span class=\"params\">n</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (memo[n] != <span class=\"literal\">null</span>) <span class=\"keyword\">return</span> memo[n]; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> (memo[n] = fibonacci(n - <span class=\"number\">1</span>, memo) + fibonacci(n - <span class=\"number\">2</span>, memo)); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> fibonacci(n);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">fibonacciMemoization(<span class=\"number\">9</span>); <span class=\"comment\">// 34</span></span><br></pre></td></tr></table></figure>\n\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p><br><br><br></p>\n<p><br><br></p>\n<p></p>\n<p></p>\n<p> 0  1 <br><img src=\"/2022/10/08/36-data-structure4/tree.png\" alt=\"tree\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p>BST<br><img src=\"/2022/10/08/36-data-structure4/binary-search-tree.png\" alt=\"binary-search-tree\"></p>\n<p><br></p>\n<p><strong></strong><br><img src=\"/2022/10/08/36-data-structure4/in-order-traverse.png\" alt=\"in-order-traverse\"><br><strong></strong><br><img src=\"/2022/10/08/36-data-structure4/pre-order-traverse.png\" alt=\"pre-order-traverse\"><br><strong></strong><br><img src=\"/2022/10/08/36-data-structure4/post-order-traverse.png\" alt=\"post-order-traverse\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Node</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.key = key; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.left = <span class=\"literal\">null</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.right = <span class=\"literal\">null</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; Compare, defaultCompare &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../util&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; Node &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./models/node&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">BinarySearchTree</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">compareFn = defaultCompare</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.compareFn = compareFn; <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.root = <span class=\"literal\">null</span>; <span class=\"comment\">// &#123;1&#125; Node </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.root == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.root = <span class=\"keyword\">new</span> Node(key); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.insertNode(<span class=\"built_in\">this</span>.root, key); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insertNode</span>(<span class=\"params\">node, key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.left == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        node.left = <span class=\"keyword\">new</span> Node(key); <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.insertNode(node.left, key); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.right == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">        node.right = <span class=\"keyword\">new</span> Node(key); <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.insertNode(node.right, key); <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">//  BST </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">inOrderTraverse</span>(<span class=\"params\">callback</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.inOrderTraverseNode(<span class=\"built_in\">this</span>.root, callback); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">inOrderTraverseNode</span>(<span class=\"params\">node, callback</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.inOrderTraverseNode(node.left, callback); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      callback(node.key); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.inOrderTraverseNode(node.right, callback); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">preOrderTraverse</span>(<span class=\"params\">callback</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.preOrderTraverseNode(<span class=\"built_in\">this</span>.root, callback);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">preOrderTraverseNode</span>(<span class=\"params\">node, callback</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      callback(node.key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.preOrderTraverseNode(node.left, callback); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.preOrderTraverseNode(node.right, callback); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">postOrderTraverse</span>(<span class=\"params\">callback</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.postOrderTraverseNode(<span class=\"built_in\">this</span>.root, callback);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">postOrderTraverseNode</span>(<span class=\"params\">node, callback</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.postOrderTraverseNode(node.left, callback); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.postOrderTraverseNode(node.right, callback); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      callback(node.key); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">min</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.minNode(<span class=\"built_in\">this</span>.root); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">minNode</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> current = node;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (current != <span class=\"literal\">null</span> &amp;&amp; current.left != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      current = current.left; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> current; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">max</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.maxNode(<span class=\"built_in\">this</span>.root);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">maxNode</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> current = node;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (current != <span class=\"literal\">null</span> &amp;&amp; current.right != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      current = current.right;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> current;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">search</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.searchNode(<span class=\"built_in\">this</span>.root, key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">searchNode</span>(<span class=\"params\">node, key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.searchNode(node.left, key); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.searchNode(node.right, key); <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">remove</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.root = <span class=\"built_in\">this</span>.removeNode(<span class=\"built_in\">this</span>.root, key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeNode</span>(<span class=\"params\">node, key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      node.left = <span class=\"built_in\">this</span>.removeNode(node.left, key); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      node.right = <span class=\"built_in\">this</span>.removeNode(node.right, key); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">//  node.key</span></span><br><span class=\"line\">      <span class=\"comment\">// : </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.left == <span class=\"literal\">null</span> &amp;&amp; node.right == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">        node = <span class=\"literal\">null</span>; <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">// : </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.left == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">        node = node.right; <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;14&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (node.right == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;15&#125;</span></span><br><span class=\"line\">        node = node.left; <span class=\"comment\">// &#123;16&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;17&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">// : </span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> aux = <span class=\"built_in\">this</span>.minNode(node.right); <span class=\"comment\">// &#123;18&#125;</span></span><br><span class=\"line\">      node.key = aux.key; <span class=\"comment\">// &#123;19&#125;</span></span><br><span class=\"line\">      node.right = <span class=\"built_in\">this</span>.removeNode(node.right, aux.key); <span class=\"comment\">// &#123;20&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;21&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong><br><br>(1) {18}<br>(2) {19}<br><br>(3) <br>{20}<br>(4) {21}<br><img src=\"/2022/10/08/36-data-structure4/remove-left-right.png\" alt=\"remove-left-right\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>Adelson-Velskii-Landi AVL <br>AVL  1</p>\n<p> AVL hrhlhrhl 01 -1 AVL </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> BalanceFactor = &#123;</span><br><span class=\"line\">  <span class=\"attr\">UNBALANCED_RIGHT</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">  <span class=\"attr\">SLIGHTLY_UNBALANCED_RIGHT</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">  <span class=\"attr\">BALANCED</span>: <span class=\"number\">3</span>,</span><br><span class=\"line\">  <span class=\"attr\">SLIGHTLY_UNBALANCED_LEFT</span>: <span class=\"number\">4</span>,</span><br><span class=\"line\">  <span class=\"attr\">UNBALANCED_LEFT</span>: <span class=\"number\">5</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">AVLTree</span> <span class=\"keyword\">extends</span> <span class=\"title\">BinarySearchTree</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">compareFn = defaultCompare</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>(compareFn);</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.compareFn = compareFn;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.root = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getNodeHeight</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      <span class=\"built_in\">Math</span>.max(<span class=\"built_in\">this</span>.getNodeHeight(node.left), <span class=\"built_in\">this</span>.getNodeHeight(node.right)) +</span><br><span class=\"line\">      <span class=\"number\">1</span></span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getBalanceFactor</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> heightDifference =</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.getNodeHeight(node.left) - <span class=\"built_in\">this</span>.getNodeHeight(node.right);</span><br><span class=\"line\">    <span class=\"keyword\">switch</span> (heightDifference) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">case</span> -<span class=\"number\">2</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> BalanceFactor.UNBALANCED_RIGHT;</span><br><span class=\"line\">      <span class=\"keyword\">case</span> -<span class=\"number\">1</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT;</span><br><span class=\"line\">      <span class=\"keyword\">case</span> <span class=\"number\">1</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> BalanceFactor.SLIGHTLY_UNBALANCED_LEFT;</span><br><span class=\"line\">      <span class=\"keyword\">case</span> <span class=\"number\">2</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> BalanceFactor.UNBALANCED_LEFT;</span><br><span class=\"line\">      <span class=\"keyword\">default</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> BalanceFactor.BALANCED;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">rotationLL</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> tmp = node.left; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    node.left = tmp.right; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    tmp.right = node; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> tmp;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">rotationRR</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> tmp = node.right; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    node.right = tmp.left; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    tmp.left = node; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> tmp;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">rotationLR</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    node.left = <span class=\"built_in\">this</span>.rotationRR(node.left);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationLL(node);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">rotationRL</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    node.right = <span class=\"built_in\">this</span>.rotationLL(node.right);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationRR(node);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//   AVL </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.root = <span class=\"built_in\">this</span>.insertNode(<span class=\"built_in\">this</span>.root, key);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insertNode</span>(<span class=\"params\">node, key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//  BST </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Node(key);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      node.left = <span class=\"built_in\">this</span>.insertNode(node.left, key);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      node.right = <span class=\"built_in\">this</span>.insertNode(node.right, key);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> node; <span class=\"comment\">// </span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> balanceFactor = <span class=\"built_in\">this</span>.getBalanceFactor(node); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (balanceFactor === BalanceFactor.UNBALANCED_LEFT) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.left.key) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">        node = <span class=\"built_in\">this</span>.rotationLL(node); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationLR(node); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (balanceFactor === BalanceFactor.UNBALANCED_RIGHT) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.right.key) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">        node = <span class=\"built_in\">this</span>.rotationRR(node); <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationRL(node); <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> node;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  AVL </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeNode</span>(<span class=\"params\">node, key</span>)</span> &#123;</span><br><span class=\"line\">    node = <span class=\"built_in\">super</span>.removeNode(node, key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> node; <span class=\"comment\">// null</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> balanceFactor = <span class=\"built_in\">this</span>.getBalanceFactor(node); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (balanceFactor === BalanceFactor.UNBALANCED_LEFT) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> balanceFactorLeft = <span class=\"built_in\">this</span>.getBalanceFactor(node.left); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (</span><br><span class=\"line\">        balanceFactorLeft === BalanceFactor.BALANCED ||</span><br><span class=\"line\">        balanceFactorLeft === BalanceFactor.SLIGHTLY_UNBALANCED_LEFT</span><br><span class=\"line\">      ) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationLL(node); <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (balanceFactorLeft === BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationLR(node.left); <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (balanceFactor === BalanceFactor.UNBALANCED_RIGHT) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> balanceFactorRight = <span class=\"built_in\">this</span>.getBalanceFactor(node.right); <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (</span><br><span class=\"line\">        balanceFactorRight === BalanceFactor.BALANCED ||</span><br><span class=\"line\">        balanceFactorRight === BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT</span><br><span class=\"line\">      ) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationRR(node); <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (balanceFactorRight === BalanceFactor.SLIGHTLY_UNBALANCED_LEFT) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationRL(node.right); <span class=\"comment\">// &#123;14&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> node;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>AVL </strong><br>(1)-LL<br><br><img src=\"/2022/10/08/36-data-structure4/left-left-1.png\" alt=\"left-left-1\"><br><img src=\"/2022/10/08/36-data-structure4/left-left-2.png\" alt=\"left-left-2\"></p>\n<p>rotationLL <br>XYZ X  Y+2{1}<br> X <br> Y  X  Z{2}<br> X  Y{3}</p>\n<p>(2)-RR<br>    <br><img src=\"/2022/10/08/36-data-structure4/right-right-1.png\" alt=\"right-right-1\"><br><img src=\"/2022/10/08/36-data-structure4/right-right-2.png\" alt=\"right-right-2\"></p>\n<p>rotationRR <br>XYZ X  Y 2{1}<br> X <br> Y  X  Z{2}<br> X  Y{3}</p>\n<p>(3)-LR<br>-<br><img src=\"/2022/10/08/36-data-structure4/left-right-1.png\" alt=\"left-right-1\"><br><img src=\"/2022/10/08/36-data-structure4/left-right-2.png\" alt=\"left-right-2\"></p>\n<p>rotationLR <br> X  Y 2<br> Z  X <br> Y  X <br> X  Y<br> X  Z</p>\n<p>(4)-RL<br>-    <br><img src=\"/2022/10/08/36-data-structure4/right-left-1.png\" alt=\"right-left-1\"><br><img src=\"/2022/10/08/36-data-structure4/right-left-2.png\" alt=\"right-left-2\"></p>\n<p>rotationRL <br> X  Y+2<br> Y  X <br> Z  X <br> X  Y<br> X  Z</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p> AVL </p>\n<p><br>(1) <br>(2) <br>(3)  NULL <br>(4) <br>(5) <br>(6) NULL </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RedBlackNode</span> <span class=\"keyword\">extends</span> <span class=\"title\">Node</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>(key);</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.key = key;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.color = Colors.RED; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.parent = <span class=\"literal\">null</span>; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isRed</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.color === Colors.RED;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RedBlackTree</span> <span class=\"keyword\">extends</span> <span class=\"title\">BinarySearchTree</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">compareFn = defaultCompare</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>(compareFn);</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.compareFn = compareFn;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.root = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">key: T</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.root == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.root = <span class=\"keyword\">new</span> RedBlackNode(key); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.root.color = Colors.BLACK; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> newNode = <span class=\"built_in\">this</span>.insertNode(<span class=\"built_in\">this</span>.root, key); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.fixTreeProperties(newNode); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insertNode</span>(<span class=\"params\">node, key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.left == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        node.left = <span class=\"keyword\">new</span> RedBlackNode(key);</span><br><span class=\"line\">        node.left.parent = node; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> node.left; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.insertNode(node.left, key);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (node.right == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      node.right = <span class=\"keyword\">new</span> RedBlackNode(key);</span><br><span class=\"line\">      node.right.parent = node; <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> node.right; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.insertNode(node.right, key);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">fixTreeProperties</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (</span><br><span class=\"line\">      node &amp;&amp;</span><br><span class=\"line\">      node.parent &amp;&amp;</span><br><span class=\"line\">      node.parent.color.isRed() &amp;&amp; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      node.color !== Colors.BLACK</span><br><span class=\"line\">    ) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> parent = node.parent; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> grandParent = parent.parent; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"comment\">//  A</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (grandParent &amp;&amp; grandParent.left === parent) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> uncle = grandParent.right; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//  1A</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (uncle &amp;&amp; uncle.color === Colors.RED) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">          grandParent.color = Colors.RED;</span><br><span class=\"line\">          parent.color = Colors.BLACK;</span><br><span class=\"line\">          uncle.color = Colors.BLACK;</span><br><span class=\"line\">          node = grandParent; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          <span class=\"comment\">//  2A</span></span><br><span class=\"line\">          <span class=\"keyword\">if</span> (node === parent.right) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.rotationRR(parent); <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">            node = parent; <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">            parent = node.parent; <span class=\"comment\">// &#123;14&#125;</span></span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"comment\">//  3A</span></span><br><span class=\"line\">          <span class=\"built_in\">this</span>.rotationLL(grandParent); <span class=\"comment\">// &#123;15&#125;</span></span><br><span class=\"line\">          parent.color = Colors.BLACK; <span class=\"comment\">// &#123;16&#125;</span></span><br><span class=\"line\">          grandParent.color = Colors.RED; <span class=\"comment\">// &#123;17&#125;</span></span><br><span class=\"line\">          node = parent; <span class=\"comment\">// &#123;18&#125;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//  B</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> uncle = grandParent.left; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//  1B</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (uncle &amp;&amp; uncle.color === Colors.RED) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">          grandParent.color = Colors.RED;</span><br><span class=\"line\">          parent.color = Colors.BLACK;</span><br><span class=\"line\">          uncle.color = Colors.BLACK;</span><br><span class=\"line\">          node = grandParent;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          <span class=\"comment\">//  2B</span></span><br><span class=\"line\">          <span class=\"keyword\">if</span> (node === parent.left) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.rotationLL(parent); <span class=\"comment\">// &#123;19&#125;</span></span><br><span class=\"line\">            node = parent;</span><br><span class=\"line\">            parent = node.parent;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"comment\">//  3B</span></span><br><span class=\"line\">          <span class=\"built_in\">this</span>.rotationRR(grandParent); <span class=\"comment\">// &#123;20&#125;</span></span><br><span class=\"line\">          parent.color = Colors.BLACK;</span><br><span class=\"line\">          grandParent.color = Colors.RED;</span><br><span class=\"line\">          node = parent;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.root.color = Colors.BLACK; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">rotationLL</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> tmp = node.left;</span><br><span class=\"line\">    node.left = tmp.right;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (tmp.right &amp;&amp; tmp.right.key) &#123;</span><br><span class=\"line\">      tmp.right.parent = node;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    tmp.parent = node.parent;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!node.parent) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.root = tmp;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node === node.parent.left) &#123;</span><br><span class=\"line\">        node.parent.left = tmp;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        node.parent.right = tmp;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    tmp.right = node;</span><br><span class=\"line\">    node.parent = tmp;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">rotationRR</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> tmp = node.right;</span><br><span class=\"line\">    node.right = tmp.left;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (tmp.left &amp;&amp; tmp.left.key) &#123;</span><br><span class=\"line\">      tmp.left.parent = node;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    tmp.parent = node.parent;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!node.parent) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.root = tmp;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node === node.parent.left) &#123;</span><br><span class=\"line\">        node.parent.left = tmp;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        node.parent.right = tmp;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    tmp.left = node;</span><br><span class=\"line\">    node.parent = tmp;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>-LL 3A<br>-LR 2A<br>-RR 2A<br>-RL 2A<br><img src=\"/2022/10/08/36-data-structure4/red-black-2a.png\" alt=\"red-black-2a\"><br><img src=\"/2022/10/08/36-data-structure4/red-black-3a.png\" alt=\"red-black-3a\"><br><img src=\"/2022/10/08/36-data-structure4/red-black-2b.png\" alt=\"red-black-2b\"><br><img src=\"/2022/10/08/36-data-structure4/red-black-3b.png\" alt=\"red-black-3b\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">understandRecursion</span>(<span class=\"params\">doIunderstandRecursion</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> recursionAnswer = confirm(<span class=\"string\">&#x27;Do you understand recursion?&#x27;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (recursionAnswer === <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  understandRecursion(recursionAnswer); <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p> n  n! 1  n <br>5  5! 5  4  3  2  1  120<br>(1)<br>(n) _ (n - 1) _ (n - 2) _ (n - 3) _  * 1</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">factorialIterative</span>(<span class=\"params\">number</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (number &lt; <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> total = <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> n = number; n &gt; <span class=\"number\">1</span>; n--) &#123;</span><br><span class=\"line\">    total = total * n;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> total;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(factorialIterative(<span class=\"number\">5</span>)); <span class=\"comment\">// 120</span></span><br></pre></td></tr></table></figure>\n\n<p>(2)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">factorial</span>(<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span> || n === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> n * factorial(n - <span class=\"number\">1</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(factorial(<span class=\"number\">5</span>)); <span class=\"comment\">// 120</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/08/36-data-structure4/factorial.png\" alt=\"factorial\"></p>\n<p>stack overflow error</p>\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">recursiveFn</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  i++;</span><br><span class=\"line\">  recursiveFn();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">  recursiveFn();</span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (ex) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;i = &#x27;</span> + i + <span class=\"string\">&#x27; error: &#x27;</span> + ex);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>ECMAScript 2015 tail call optimizationjumpsubroutine call ECMAScript 2015 </strong><br> <a href=\"https://www.chromestatus.com/feature/\">https://www.chromestatus.com/feature/</a><br>5516876633341952</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(1) 0 <br>(2)1  2  1<br>(3)n n &gt; 2n - 1n - 2</p>\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fibonacciIterative</span>(<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n &lt; <span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n &lt;= <span class=\"number\">2</span>) <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> fibNMinus2 = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> fibNMinus1 = <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> fibN = n;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">2</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// n &gt;= 2</span></span><br><span class=\"line\">    fibN = fibNMinus1 + fibNMinus2; <span class=\"comment\">// f(n-1) + f(n-2)</span></span><br><span class=\"line\">    fibNMinus2 = fibNMinus1;</span><br><span class=\"line\">    fibNMinus1 = fibN;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> fibN;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">fibonacciIterative(<span class=\"number\">9</span>); <span class=\"comment\">// 34</span></span><br></pre></td></tr></table></figure>\n\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fibonacci</span>(<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n &lt; <span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n &lt;= <span class=\"number\">2</span>) <span class=\"keyword\">return</span> <span class=\"number\">1</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> fibonacci(n - <span class=\"number\">1</span>) + fibonacci(n - <span class=\"number\">2</span>); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">fibonacci(<span class=\"number\">9</span>); <span class=\"comment\">// 34</span></span><br></pre></td></tr></table></figure>\n\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fibonacciMemoization</span>(<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> memo = [<span class=\"number\">0</span>, <span class=\"number\">1</span>]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> fibonacci = <span class=\"function\">(<span class=\"params\">n</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (memo[n] != <span class=\"literal\">null</span>) <span class=\"keyword\">return</span> memo[n]; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> (memo[n] = fibonacci(n - <span class=\"number\">1</span>, memo) + fibonacci(n - <span class=\"number\">2</span>, memo)); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> fibonacci(n);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">fibonacciMemoization(<span class=\"number\">9</span>); <span class=\"comment\">// 34</span></span><br></pre></td></tr></table></figure>\n\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p><br><br><br></p>\n<p><br><br></p>\n<p></p>\n<p></p>\n<p> 0  1 <br><img src=\"/2022/10/08/36-data-structure4/tree.png\" alt=\"tree\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p>BST<br><img src=\"/2022/10/08/36-data-structure4/binary-search-tree.png\" alt=\"binary-search-tree\"></p>\n<p><br></p>\n<p><strong></strong><br><img src=\"/2022/10/08/36-data-structure4/in-order-traverse.png\" alt=\"in-order-traverse\"><br><strong></strong><br><img src=\"/2022/10/08/36-data-structure4/pre-order-traverse.png\" alt=\"pre-order-traverse\"><br><strong></strong><br><img src=\"/2022/10/08/36-data-structure4/post-order-traverse.png\" alt=\"post-order-traverse\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Node</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.key = key; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.left = <span class=\"literal\">null</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.right = <span class=\"literal\">null</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; Compare, defaultCompare &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../util&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; Node &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./models/node&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">BinarySearchTree</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">compareFn = defaultCompare</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.compareFn = compareFn; <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.root = <span class=\"literal\">null</span>; <span class=\"comment\">// &#123;1&#125; Node </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.root == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.root = <span class=\"keyword\">new</span> Node(key); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.insertNode(<span class=\"built_in\">this</span>.root, key); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insertNode</span>(<span class=\"params\">node, key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.left == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        node.left = <span class=\"keyword\">new</span> Node(key); <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.insertNode(node.left, key); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.right == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">        node.right = <span class=\"keyword\">new</span> Node(key); <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.insertNode(node.right, key); <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">//  BST </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">inOrderTraverse</span>(<span class=\"params\">callback</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.inOrderTraverseNode(<span class=\"built_in\">this</span>.root, callback); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">inOrderTraverseNode</span>(<span class=\"params\">node, callback</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.inOrderTraverseNode(node.left, callback); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      callback(node.key); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.inOrderTraverseNode(node.right, callback); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">preOrderTraverse</span>(<span class=\"params\">callback</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.preOrderTraverseNode(<span class=\"built_in\">this</span>.root, callback);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">preOrderTraverseNode</span>(<span class=\"params\">node, callback</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      callback(node.key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.preOrderTraverseNode(node.left, callback); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.preOrderTraverseNode(node.right, callback); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">postOrderTraverse</span>(<span class=\"params\">callback</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.postOrderTraverseNode(<span class=\"built_in\">this</span>.root, callback);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">postOrderTraverseNode</span>(<span class=\"params\">node, callback</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.postOrderTraverseNode(node.left, callback); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.postOrderTraverseNode(node.right, callback); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      callback(node.key); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">min</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.minNode(<span class=\"built_in\">this</span>.root); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">minNode</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> current = node;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (current != <span class=\"literal\">null</span> &amp;&amp; current.left != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      current = current.left; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> current; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">max</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.maxNode(<span class=\"built_in\">this</span>.root);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">maxNode</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> current = node;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (current != <span class=\"literal\">null</span> &amp;&amp; current.right != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      current = current.right;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> current;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">search</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.searchNode(<span class=\"built_in\">this</span>.root, key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">searchNode</span>(<span class=\"params\">node, key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.searchNode(node.left, key); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.searchNode(node.right, key); <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">remove</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.root = <span class=\"built_in\">this</span>.removeNode(<span class=\"built_in\">this</span>.root, key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeNode</span>(<span class=\"params\">node, key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      node.left = <span class=\"built_in\">this</span>.removeNode(node.left, key); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      node.right = <span class=\"built_in\">this</span>.removeNode(node.right, key); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">//  node.key</span></span><br><span class=\"line\">      <span class=\"comment\">// : </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.left == <span class=\"literal\">null</span> &amp;&amp; node.right == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">        node = <span class=\"literal\">null</span>; <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">// : </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.left == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">        node = node.right; <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;14&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (node.right == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;15&#125;</span></span><br><span class=\"line\">        node = node.left; <span class=\"comment\">// &#123;16&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;17&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">// : </span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> aux = <span class=\"built_in\">this</span>.minNode(node.right); <span class=\"comment\">// &#123;18&#125;</span></span><br><span class=\"line\">      node.key = aux.key; <span class=\"comment\">// &#123;19&#125;</span></span><br><span class=\"line\">      node.right = <span class=\"built_in\">this</span>.removeNode(node.right, aux.key); <span class=\"comment\">// &#123;20&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;21&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong><br><br>(1) {18}<br>(2) {19}<br><br>(3) <br>{20}<br>(4) {21}<br><img src=\"/2022/10/08/36-data-structure4/remove-left-right.png\" alt=\"remove-left-right\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>Adelson-Velskii-Landi AVL <br>AVL  1</p>\n<p> AVL hrhlhrhl 01 -1 AVL </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> BalanceFactor = &#123;</span><br><span class=\"line\">  <span class=\"attr\">UNBALANCED_RIGHT</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">  <span class=\"attr\">SLIGHTLY_UNBALANCED_RIGHT</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">  <span class=\"attr\">BALANCED</span>: <span class=\"number\">3</span>,</span><br><span class=\"line\">  <span class=\"attr\">SLIGHTLY_UNBALANCED_LEFT</span>: <span class=\"number\">4</span>,</span><br><span class=\"line\">  <span class=\"attr\">UNBALANCED_LEFT</span>: <span class=\"number\">5</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">AVLTree</span> <span class=\"keyword\">extends</span> <span class=\"title\">BinarySearchTree</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">compareFn = defaultCompare</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>(compareFn);</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.compareFn = compareFn;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.root = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getNodeHeight</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      <span class=\"built_in\">Math</span>.max(<span class=\"built_in\">this</span>.getNodeHeight(node.left), <span class=\"built_in\">this</span>.getNodeHeight(node.right)) +</span><br><span class=\"line\">      <span class=\"number\">1</span></span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getBalanceFactor</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> heightDifference =</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.getNodeHeight(node.left) - <span class=\"built_in\">this</span>.getNodeHeight(node.right);</span><br><span class=\"line\">    <span class=\"keyword\">switch</span> (heightDifference) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">case</span> -<span class=\"number\">2</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> BalanceFactor.UNBALANCED_RIGHT;</span><br><span class=\"line\">      <span class=\"keyword\">case</span> -<span class=\"number\">1</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT;</span><br><span class=\"line\">      <span class=\"keyword\">case</span> <span class=\"number\">1</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> BalanceFactor.SLIGHTLY_UNBALANCED_LEFT;</span><br><span class=\"line\">      <span class=\"keyword\">case</span> <span class=\"number\">2</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> BalanceFactor.UNBALANCED_LEFT;</span><br><span class=\"line\">      <span class=\"keyword\">default</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> BalanceFactor.BALANCED;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">rotationLL</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> tmp = node.left; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    node.left = tmp.right; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    tmp.right = node; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> tmp;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">rotationRR</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> tmp = node.right; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    node.right = tmp.left; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    tmp.left = node; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> tmp;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">rotationLR</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    node.left = <span class=\"built_in\">this</span>.rotationRR(node.left);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationLL(node);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">rotationRL</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    node.right = <span class=\"built_in\">this</span>.rotationLL(node.right);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationRR(node);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//   AVL </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.root = <span class=\"built_in\">this</span>.insertNode(<span class=\"built_in\">this</span>.root, key);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insertNode</span>(<span class=\"params\">node, key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//  BST </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Node(key);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      node.left = <span class=\"built_in\">this</span>.insertNode(node.left, key);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      node.right = <span class=\"built_in\">this</span>.insertNode(node.right, key);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> node; <span class=\"comment\">// </span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> balanceFactor = <span class=\"built_in\">this</span>.getBalanceFactor(node); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (balanceFactor === BalanceFactor.UNBALANCED_LEFT) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.left.key) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">        node = <span class=\"built_in\">this</span>.rotationLL(node); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationLR(node); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (balanceFactor === BalanceFactor.UNBALANCED_RIGHT) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.right.key) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">        node = <span class=\"built_in\">this</span>.rotationRR(node); <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationRL(node); <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> node;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  AVL </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeNode</span>(<span class=\"params\">node, key</span>)</span> &#123;</span><br><span class=\"line\">    node = <span class=\"built_in\">super</span>.removeNode(node, key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> node; <span class=\"comment\">// null</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> balanceFactor = <span class=\"built_in\">this</span>.getBalanceFactor(node); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (balanceFactor === BalanceFactor.UNBALANCED_LEFT) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> balanceFactorLeft = <span class=\"built_in\">this</span>.getBalanceFactor(node.left); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (</span><br><span class=\"line\">        balanceFactorLeft === BalanceFactor.BALANCED ||</span><br><span class=\"line\">        balanceFactorLeft === BalanceFactor.SLIGHTLY_UNBALANCED_LEFT</span><br><span class=\"line\">      ) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationLL(node); <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (balanceFactorLeft === BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationLR(node.left); <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (balanceFactor === BalanceFactor.UNBALANCED_RIGHT) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> balanceFactorRight = <span class=\"built_in\">this</span>.getBalanceFactor(node.right); <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (</span><br><span class=\"line\">        balanceFactorRight === BalanceFactor.BALANCED ||</span><br><span class=\"line\">        balanceFactorRight === BalanceFactor.SLIGHTLY_UNBALANCED_RIGHT</span><br><span class=\"line\">      ) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationRR(node); <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (balanceFactorRight === BalanceFactor.SLIGHTLY_UNBALANCED_LEFT) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.rotationRL(node.right); <span class=\"comment\">// &#123;14&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> node;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>AVL </strong><br>(1)-LL<br><br><img src=\"/2022/10/08/36-data-structure4/left-left-1.png\" alt=\"left-left-1\"><br><img src=\"/2022/10/08/36-data-structure4/left-left-2.png\" alt=\"left-left-2\"></p>\n<p>rotationLL <br>XYZ X  Y+2{1}<br> X <br> Y  X  Z{2}<br> X  Y{3}</p>\n<p>(2)-RR<br>    <br><img src=\"/2022/10/08/36-data-structure4/right-right-1.png\" alt=\"right-right-1\"><br><img src=\"/2022/10/08/36-data-structure4/right-right-2.png\" alt=\"right-right-2\"></p>\n<p>rotationRR <br>XYZ X  Y 2{1}<br> X <br> Y  X  Z{2}<br> X  Y{3}</p>\n<p>(3)-LR<br>-<br><img src=\"/2022/10/08/36-data-structure4/left-right-1.png\" alt=\"left-right-1\"><br><img src=\"/2022/10/08/36-data-structure4/left-right-2.png\" alt=\"left-right-2\"></p>\n<p>rotationLR <br> X  Y 2<br> Z  X <br> Y  X <br> X  Y<br> X  Z</p>\n<p>(4)-RL<br>-    <br><img src=\"/2022/10/08/36-data-structure4/right-left-1.png\" alt=\"right-left-1\"><br><img src=\"/2022/10/08/36-data-structure4/right-left-2.png\" alt=\"right-left-2\"></p>\n<p>rotationRL <br> X  Y+2<br> Y  X <br> Z  X <br> X  Y<br> X  Z</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p> AVL </p>\n<p><br>(1) <br>(2) <br>(3)  NULL <br>(4) <br>(5) <br>(6) NULL </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RedBlackNode</span> <span class=\"keyword\">extends</span> <span class=\"title\">Node</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>(key);</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.key = key;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.color = Colors.RED; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.parent = <span class=\"literal\">null</span>; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isRed</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.color === Colors.RED;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RedBlackTree</span> <span class=\"keyword\">extends</span> <span class=\"title\">BinarySearchTree</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">compareFn = defaultCompare</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>(compareFn);</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.compareFn = compareFn;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.root = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">key: T</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.root == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.root = <span class=\"keyword\">new</span> RedBlackNode(key); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.root.color = Colors.BLACK; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> newNode = <span class=\"built_in\">this</span>.insertNode(<span class=\"built_in\">this</span>.root, key); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.fixTreeProperties(newNode); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insertNode</span>(<span class=\"params\">node, key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.compareFn(key, node.key) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node.left == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        node.left = <span class=\"keyword\">new</span> RedBlackNode(key);</span><br><span class=\"line\">        node.left.parent = node; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> node.left; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.insertNode(node.left, key);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (node.right == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      node.right = <span class=\"keyword\">new</span> RedBlackNode(key);</span><br><span class=\"line\">      node.right.parent = node; <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> node.right; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.insertNode(node.right, key);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">fixTreeProperties</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (</span><br><span class=\"line\">      node &amp;&amp;</span><br><span class=\"line\">      node.parent &amp;&amp;</span><br><span class=\"line\">      node.parent.color.isRed() &amp;&amp; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      node.color !== Colors.BLACK</span><br><span class=\"line\">    ) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> parent = node.parent; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> grandParent = parent.parent; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"comment\">//  A</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (grandParent &amp;&amp; grandParent.left === parent) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> uncle = grandParent.right; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//  1A</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (uncle &amp;&amp; uncle.color === Colors.RED) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">          grandParent.color = Colors.RED;</span><br><span class=\"line\">          parent.color = Colors.BLACK;</span><br><span class=\"line\">          uncle.color = Colors.BLACK;</span><br><span class=\"line\">          node = grandParent; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          <span class=\"comment\">//  2A</span></span><br><span class=\"line\">          <span class=\"keyword\">if</span> (node === parent.right) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.rotationRR(parent); <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">            node = parent; <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">            parent = node.parent; <span class=\"comment\">// &#123;14&#125;</span></span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"comment\">//  3A</span></span><br><span class=\"line\">          <span class=\"built_in\">this</span>.rotationLL(grandParent); <span class=\"comment\">// &#123;15&#125;</span></span><br><span class=\"line\">          parent.color = Colors.BLACK; <span class=\"comment\">// &#123;16&#125;</span></span><br><span class=\"line\">          grandParent.color = Colors.RED; <span class=\"comment\">// &#123;17&#125;</span></span><br><span class=\"line\">          node = parent; <span class=\"comment\">// &#123;18&#125;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//  B</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> uncle = grandParent.left; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//  1B</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (uncle &amp;&amp; uncle.color === Colors.RED) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">          grandParent.color = Colors.RED;</span><br><span class=\"line\">          parent.color = Colors.BLACK;</span><br><span class=\"line\">          uncle.color = Colors.BLACK;</span><br><span class=\"line\">          node = grandParent;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          <span class=\"comment\">//  2B</span></span><br><span class=\"line\">          <span class=\"keyword\">if</span> (node === parent.left) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.rotationLL(parent); <span class=\"comment\">// &#123;19&#125;</span></span><br><span class=\"line\">            node = parent;</span><br><span class=\"line\">            parent = node.parent;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"comment\">//  3B</span></span><br><span class=\"line\">          <span class=\"built_in\">this</span>.rotationRR(grandParent); <span class=\"comment\">// &#123;20&#125;</span></span><br><span class=\"line\">          parent.color = Colors.BLACK;</span><br><span class=\"line\">          grandParent.color = Colors.RED;</span><br><span class=\"line\">          node = parent;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.root.color = Colors.BLACK; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">rotationLL</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> tmp = node.left;</span><br><span class=\"line\">    node.left = tmp.right;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (tmp.right &amp;&amp; tmp.right.key) &#123;</span><br><span class=\"line\">      tmp.right.parent = node;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    tmp.parent = node.parent;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!node.parent) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.root = tmp;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node === node.parent.left) &#123;</span><br><span class=\"line\">        node.parent.left = tmp;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        node.parent.right = tmp;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    tmp.right = node;</span><br><span class=\"line\">    node.parent = tmp;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">rotationRR</span>(<span class=\"params\">node</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> tmp = node.right;</span><br><span class=\"line\">    node.right = tmp.left;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (tmp.left &amp;&amp; tmp.left.key) &#123;</span><br><span class=\"line\">      tmp.left.parent = node;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    tmp.parent = node.parent;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!node.parent) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.root = tmp;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (node === node.parent.left) &#123;</span><br><span class=\"line\">        node.parent.left = tmp;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        node.parent.right = tmp;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    tmp.left = node;</span><br><span class=\"line\">    node.parent = tmp;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>-LL 3A<br>-LR 2A<br>-RR 2A<br>-RL 2A<br><img src=\"/2022/10/08/36-data-structure4/red-black-2a.png\" alt=\"red-black-2a\"><br><img src=\"/2022/10/08/36-data-structure4/red-black-3a.png\" alt=\"red-black-3a\"><br><img src=\"/2022/10/08/36-data-structure4/red-black-2b.png\" alt=\"red-black-2b\"><br><img src=\"/2022/10/08/36-data-structure4/red-black-3b.png\" alt=\"red-black-3b\"></p>\n"},{"title":"(2)","date":"2022-09-23T07:52:54.000Z","_content":"\n#### \n\nFIFO\n\n```javascript\nclass Queue {\n  constructor() {\n    this.count = 0; // {1}\n    this.lowestCount = 0; // {2}\n    this.items = {}; // {3}\n  }\n  // \n  enqueue(element) {\n    this.items[this.count] = element;\n    this.count++;\n  }\n  // \n  dequeue() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    const result = this.items[this.lowestCount]; // {1}\n    delete this.items[this.lowestCount]; // {2}\n    this.lowestCount++; // {3}\n    return result; // {4}\n  }\n  // \n  peek() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    return this.items[this.lowestCount];\n  }\n  // \n  isEmpty() {\n    return this.count - this.lowestCount === 0;\n  }\n  // \n  size() {\n    return this.count - this.lowestCount;\n  }\n  // \n  clear() {\n    this.items = {};\n    this.count = 0;\n    this.lowestCount = 0;\n  }\n  toString() {\n    if (this.isEmpty()) {\n      return '';\n    }\n    let objString = `${this.items[this.lowestCount]}`;\n    for (let i = this.lowestCount + 1; i < this.count; i++) {\n      objString = `${objString},${this.items[i]}`;\n    }\n    return objString;\n  }\n}\n```\n\n###### \n\ndeque double-ended queue\n\n\n\n```javascript\nclass Deque {\n  constructor() {\n    this.count = 0;\n    this.lowestCount = 0;\n    this.items = {};\n  }\n // \n  addFront(element) {\n    if (this.isEmpty()) { // {1}\n      this.addBack(element);\n    } else if (this.lowestCount > 0) { // {2}\n      this.lowestCount--;\n      this.items[this.lowestCount] = element;\n    } else {\n      for (let i = this.count; i > 0; i--) { // {3}\n        this.items[i] = this.items[i - 1];\n      }\n      this.count++;\n      this.lowestCount = 0;\n      this.items[0] = element; // {4}\n    }\n  }\n  addBack(element) {\n    this.items[this.count] = element;\n    this.count++;\n  }\n  removeFront() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    const result = this.items[this.lowestCount]; // {1}\n    delete this.items[this.lowestCount]; // {2}\n    this.lowestCount++; // {3}\n    return result; // {4}\n  }\n  removeBack() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    this.count--;\n    const result = this.items[this.count];\n    delete this.items[this.count];\n    return result;\n  }\n  peekFront() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    return this.items[this.lowestCount];\n  }\n  peekBack() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    return this.items[this.count - 1];\n  }\n  isEmpty() {\n    return this.count - this.lowestCount === 0;\n  }\n  clear() {\n    this.count = 0;\n    this.lowestCount = 0;\n    this.items = {};\n  }\n}\n```\n\n######  - \n\n```javascript\nfunction hotPotato(elementsList, num) { \n  const queue = new Queue(); // {1} \n  const elimitatedList = [];\n  // \n  for (let i = 0; i < elementsList.length; i++) { \n    queue.enqueue(elementsList[i]); // {2} \n  }\n  // \n  while (queue.size() > 1) { \n    for (let i = 0; i < num; i++) { \n      // \n      queue.enqueue(queue.dequeue()); // {3} \n    } \n    // \n    elimitatedList.push(queue.dequeue()); // {4} \n  } \n  return { \n    eliminated: elimitatedList, \n    winner: queue.dequeue() // {5} \n  };\n}\n\nconst names = ['John', 'Jack', 'Camila', 'Ingrid', 'Carl']; \nconst result = hotPotato(names, 7);\nresult.eliminated.forEach(name => { \n console.log(`${name}`); \n}); \nconsole.log(` ${result.winner}`);\n```\n\n###### \n madam racecar\n```javascript\nfunction palindromeChecker(aString) {\n  // \n  if (aString === undefined || aString === null || (aString !== null && aString.length === 0)) { // {1} \n    return false;\n  } \n  const deque = new Deque(); // {2}\n  // \n  const lowerString = aString.toLocaleLowerCase().split(' ').join(''); // {3} \n  let isEqual = true; \n  let firstChar, lastChar;\n  // \n  for (let i = 0; i < lowerString.length; i++) { // {4} \n    deque.addBack(lowerString.charAt(i)); \n  }\n\n  while (deque.size() > 1 && isEqual) { // {5} \n    firstChar = deque.removeFront(); // {6} \n    lastChar = deque.removeBack(); // {7}\n\n    if (firstChar !== lastChar) { \n      isEqual = false; // {8} \n    }\n  } \n  return isEqual;\n}\n```\n\n[javascript](https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/)\n\n\n#### \n\n###### \n![](chain-table-1.png)\n\n\n```javascript\n// util.js\nexport function defaultEquals(a, b) { \n  return a === b; \n}\n// models/linked-list-models\nexport class Node {\n  constructor(element) {\n    this.element = element; \n    this.next = undefined; \n  }\n} \n\nimport { defaultEquals } from '../util'; \nimport { Node } from './models/linked-list-models'; // {1} \nexport default class LinkedList { \n  constructor(equalsFn = defaultEquals) { \n    this.count = 0; // {2} \n    this.head = undefined; // {3}\n    this.equalsFn = equalsFn; // {4} \n  }\n  // \n  push(element) { \n    const node = new Node(element); // {1} \n    let current; // {2} \n\n    if (this.head == null) { // {3} \n      this.head = node;\n    } else {\n      current = this.head; // {4} \n      while (current.next != null) { // {5} \n        current = current.next; \n      }\n      //  next \n      current.next = node; // {6} \n    } \n    this.count++; // {7} \n  }\n  // \n  removeAt(index) { \n    // \n    if (index >= 0 && index < this.count) { // {1} \n      let current = this.head; // {2} \n      // \n      if (index === 0) { // {3} \n        this.head = current.next; \n      } else {\n        // index\n        const previous = this.getElementAt(index - 1);\n        current = previous.next;\n        //  previous  current  current\n        previous.next = current.next; // {8} \n      }\n      this.count--; // {9} \n      return current.element; \n    } \n    return undefined; // {10} \n  }\n  // \n  getElementAt(index) { \n    if (index >= 0 && index <= this.count) { // {1} \n      let node = this.head; // {2} \n      for (let i = 0; i < index && node != null; i++) { // {3} \n        node = node.next;\n      } \n      return node; // {4} \n    } \n    return undefined; // {5} \n  }\n  // \n  insert(element, index) { \n    if (index >= 0 && index <= this.count) { // {1} \n      const node = new Node(element);\n\n      if (index === 0) { // \n        const current = this.head; \n        node.next = current; // {2} \n        this.head = node; \n      } else { \n        const previous = this.getElementAt(index - 1); // {3} \n        const current = previous.next; // {4} \n        node.next = current; // {5} \n        previous.next = node; // {6} \n      } \n      this.count++; // \n      return true; \n    } \n    return false; // {7} \n  }\n  //  indexOf \n  indexOf(element) { \n    let current = this.head; // {1} \n    for (let i = 0; i < this.count && current != null; i++) { // {2} \n      if (this.equalsFn(element, current.element)) { // {3} \n        return i; // {4} \n      }\n      current = current.next; // {5} \n    } \n    return -1; // {6} \n  }\n  // \n  remove(element) { \n    const index = this.indexOf(element); \n    return this.removeAt(index); \n  }\n  size() { \n    return this.count; \n  }\n  isEmpty() { \n    return this.count === 0; \n  }\n  getHead() {\n    return this.head; \n  }\n  toString() { \n    if (this.head == null) { // {1} \n      return ''; \n    } \n    let objString = `${this.head.element}`; // {2} \n    let current = this.head.next; // {3} \n\n    for (let i = 1; i < this.size() && current != null; i++) { // {4} \n      objString = `${objString},${current.element}`; \n      current = current.next;\n    } \n    return objString; // {5} \n  }\n}\n```\n[javascript](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Memory_Management)\n\n###### \n\n![](chain-table-2.png)\n```javascript\nclass DoublyNode extends Node { // {1} \n constructor(element, next, prev) { \n  super(element, next); // {2} \n  this.prev = prev; // {3} \n } \n}\n\nclass DoublyLinkedList extends LinkedList { // {4} \n  constructor(equalsFn = defaultEquals) { \n    super(equalsFn); // {5} \n    this.tail = undefined; // {6} \n  }\n  //  \n  insert(element, index) { \n    if (index >= 0 && index <= this.count) { \n      const node = new DoublyNode(element); \n      let current = this.head;\n\n      if (index === 0) { \n          if (this.head == null) { // {1} \n            this.head = node; \n            this.tail = node; \n          } else { \n            node.next = this.head; // {2} \n            current.prev = node; // {3} \n            this.head = node; // {4} \n          } \n      } else if (index === this.count) { //  // \n        current = this.tail; // {5} \n        current.next = node; // {6} \n        node.prev = current; // {7} \n        this.tail = node; // {8} \n      } else { \n        const previous = this.getElementAt(index - 1); // {9} \n        current = previous.next; // {10} \n        node.next = current; // {11} \n        previous.next = node; // {12} \n        current.prev = node; // {13} \n        node.prev = previous; // {14} \n      }\n      this.count++; \n      return true;\n    } \n    return false; \n  }\n  // \n  removeAt(index) { \n    if (index >= 0 && index < this.count) { \n      let current = this.head;\n\n      if (index === 0) { \n        this.head = current.next; // {1} \n        //  tail // \n        if (this.count === 1) { // {2} \n          this.tail = undefined; \n        } else { \n          this.head.prev = undefined; // {3} \n        } \n      } else if (index === this.count - 1) { //  //\n        current = this.tail; // {4} \n        this.tail = current.prev; // {5} \n        this.tail.next = undefined; // {6} \n      } else { \n        current = this.getElementAt(index); // {7} \n        const previous = current.prev; // {8} \n        //  previous  current  current \n        previous.next = current.next; // {9} \n        current.next.prev = previous; // {10} \n      }\n      this.count--; \n      return current.element; \n    } \n    return undefined; \n  }\n}\n// https://github.com/loiane/javascript-datastructures-algorithms\n```\n\n###### \ntail.nextundefinedhead\n head  tail.next  tail  head.prev\n![](chain-table-3.png)\n![](chain-table-4.png)\n\n```javascript\nclass CircularLinkedList extends LinkedList { \n  constructor(equalsFn = defaultEquals) {\n    super(equalsFn); \n  }\n  // \n  insert(element, index) { \n    if (index >= 0 && index <= this.count) { \n      const node = new Node(element); \n      let current = this.head;\n\n      if (index === 0) { \n        if (this.head == null) { \n          this.head = node; // {1} \n          node.next = this.head; // {2} \n        } else { \n          node.next = current; // {3} \n          current = this.getElementAt(this.size()); // {4} \n          // \n          this.head = node; // {5} \n          current.next = this.head; // {6} \n        }\n      } else { // \n        const previous = this.getElementAt(index - 1); \n        node.next = previous.next; \n        previous.next = node; \n      } \n      this.count++; \n      return true;\n    } \n    return false; \n  }\n  // \n  removeAt(index) { \n    if (index >= 0 && index < this.count) { \n      let current = this.head;\n\n      if (index === 0) { \n        if (this.size() === 1) { \n          this.head = undefined; \n        } else { \n          const removed = this.head; // {1} \n          current = this.getElementAt(this.size()); // {2} \n          this.head = this.head.next; // {3} \n          current.next = this.head; // {4} \n          current = removed; // {5}\n        }\n      } else { \n        // \n        const previous = this.getElementAt(index - 1); \n        current = previous.next; \n        previous.next = current.next; \n      }\n      this.count--; \n      return current.element; // {6} \n    } \n    return undefined; \n  }\n}\n```\n\n###### \n\n```javascript\nconst Compare = { \n  LESS_THAN: -1, \n  BIGGER_THAN: 1 \n}; \nfunction defaultCompare(a, b) { \n  if (a === b) { // {1} \n    return 0; \n  } \n  return a < b ? Compare.LESS_THAN : Compare.BIGGER_THAN; // {2} \n} \nclass SortedLinkedList extends LinkedList { \n  constructor(equalsFn = defaultEquals, compareFn = defaultCompare) { \n    super(equalsFn); \n    this.compareFn = compareFn; // {3} \n  }\n  // \n  insert(element, index = 0) { // {1} \n    if (this.isEmpty()) { \n      return super.insert(element, 0); // {2} \n    } \n    const pos = this.getIndexNextSortedElement(element); // {3} \n    return super.insert(element, pos); // {4} \n  } \n  getIndexNextSortedElement(element) { \n    let current = this.head; \n    let i = 0; \n    for (; i < this.size() && current; i++) { \n      const comp = this.compareFn(element, current.element); // {5} \n      if (comp === Compare.LESS_THAN) { // {6} \n        return i; \n      } \n      current = current.next; \n    } \n    return i; // {7} \n  }\n}\n```\n\n######  StackLinkedList \n```javascript\nclass StackLinkedList { \n  constructor() { \n    this.items = new DoublyLinkedList(); // {1} \n  } \n  push(element) { \n    this.items.push(element); // {2} \n  } \n  pop() { \n    if (this.isEmpty()) { \n      return undefined; \n    } \n    return this.items.removeAt(this.size() - 1); // {3} \n  } \n}\n```","source":"_posts/34-data-structure2.md","raw":"---\ntitle: (2)\ndate: 2022-09-23 15:52:54\ntags:\n---\n\n#### \n\nFIFO\n\n```javascript\nclass Queue {\n  constructor() {\n    this.count = 0; // {1}\n    this.lowestCount = 0; // {2}\n    this.items = {}; // {3}\n  }\n  // \n  enqueue(element) {\n    this.items[this.count] = element;\n    this.count++;\n  }\n  // \n  dequeue() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    const result = this.items[this.lowestCount]; // {1}\n    delete this.items[this.lowestCount]; // {2}\n    this.lowestCount++; // {3}\n    return result; // {4}\n  }\n  // \n  peek() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    return this.items[this.lowestCount];\n  }\n  // \n  isEmpty() {\n    return this.count - this.lowestCount === 0;\n  }\n  // \n  size() {\n    return this.count - this.lowestCount;\n  }\n  // \n  clear() {\n    this.items = {};\n    this.count = 0;\n    this.lowestCount = 0;\n  }\n  toString() {\n    if (this.isEmpty()) {\n      return '';\n    }\n    let objString = `${this.items[this.lowestCount]}`;\n    for (let i = this.lowestCount + 1; i < this.count; i++) {\n      objString = `${objString},${this.items[i]}`;\n    }\n    return objString;\n  }\n}\n```\n\n###### \n\ndeque double-ended queue\n\n\n\n```javascript\nclass Deque {\n  constructor() {\n    this.count = 0;\n    this.lowestCount = 0;\n    this.items = {};\n  }\n // \n  addFront(element) {\n    if (this.isEmpty()) { // {1}\n      this.addBack(element);\n    } else if (this.lowestCount > 0) { // {2}\n      this.lowestCount--;\n      this.items[this.lowestCount] = element;\n    } else {\n      for (let i = this.count; i > 0; i--) { // {3}\n        this.items[i] = this.items[i - 1];\n      }\n      this.count++;\n      this.lowestCount = 0;\n      this.items[0] = element; // {4}\n    }\n  }\n  addBack(element) {\n    this.items[this.count] = element;\n    this.count++;\n  }\n  removeFront() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    const result = this.items[this.lowestCount]; // {1}\n    delete this.items[this.lowestCount]; // {2}\n    this.lowestCount++; // {3}\n    return result; // {4}\n  }\n  removeBack() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    this.count--;\n    const result = this.items[this.count];\n    delete this.items[this.count];\n    return result;\n  }\n  peekFront() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    return this.items[this.lowestCount];\n  }\n  peekBack() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    return this.items[this.count - 1];\n  }\n  isEmpty() {\n    return this.count - this.lowestCount === 0;\n  }\n  clear() {\n    this.count = 0;\n    this.lowestCount = 0;\n    this.items = {};\n  }\n}\n```\n\n######  - \n\n```javascript\nfunction hotPotato(elementsList, num) { \n  const queue = new Queue(); // {1} \n  const elimitatedList = [];\n  // \n  for (let i = 0; i < elementsList.length; i++) { \n    queue.enqueue(elementsList[i]); // {2} \n  }\n  // \n  while (queue.size() > 1) { \n    for (let i = 0; i < num; i++) { \n      // \n      queue.enqueue(queue.dequeue()); // {3} \n    } \n    // \n    elimitatedList.push(queue.dequeue()); // {4} \n  } \n  return { \n    eliminated: elimitatedList, \n    winner: queue.dequeue() // {5} \n  };\n}\n\nconst names = ['John', 'Jack', 'Camila', 'Ingrid', 'Carl']; \nconst result = hotPotato(names, 7);\nresult.eliminated.forEach(name => { \n console.log(`${name}`); \n}); \nconsole.log(` ${result.winner}`);\n```\n\n###### \n madam racecar\n```javascript\nfunction palindromeChecker(aString) {\n  // \n  if (aString === undefined || aString === null || (aString !== null && aString.length === 0)) { // {1} \n    return false;\n  } \n  const deque = new Deque(); // {2}\n  // \n  const lowerString = aString.toLocaleLowerCase().split(' ').join(''); // {3} \n  let isEqual = true; \n  let firstChar, lastChar;\n  // \n  for (let i = 0; i < lowerString.length; i++) { // {4} \n    deque.addBack(lowerString.charAt(i)); \n  }\n\n  while (deque.size() > 1 && isEqual) { // {5} \n    firstChar = deque.removeFront(); // {6} \n    lastChar = deque.removeBack(); // {7}\n\n    if (firstChar !== lastChar) { \n      isEqual = false; // {8} \n    }\n  } \n  return isEqual;\n}\n```\n\n[javascript](https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/)\n\n\n#### \n\n###### \n![](chain-table-1.png)\n\n\n```javascript\n// util.js\nexport function defaultEquals(a, b) { \n  return a === b; \n}\n// models/linked-list-models\nexport class Node {\n  constructor(element) {\n    this.element = element; \n    this.next = undefined; \n  }\n} \n\nimport { defaultEquals } from '../util'; \nimport { Node } from './models/linked-list-models'; // {1} \nexport default class LinkedList { \n  constructor(equalsFn = defaultEquals) { \n    this.count = 0; // {2} \n    this.head = undefined; // {3}\n    this.equalsFn = equalsFn; // {4} \n  }\n  // \n  push(element) { \n    const node = new Node(element); // {1} \n    let current; // {2} \n\n    if (this.head == null) { // {3} \n      this.head = node;\n    } else {\n      current = this.head; // {4} \n      while (current.next != null) { // {5} \n        current = current.next; \n      }\n      //  next \n      current.next = node; // {6} \n    } \n    this.count++; // {7} \n  }\n  // \n  removeAt(index) { \n    // \n    if (index >= 0 && index < this.count) { // {1} \n      let current = this.head; // {2} \n      // \n      if (index === 0) { // {3} \n        this.head = current.next; \n      } else {\n        // index\n        const previous = this.getElementAt(index - 1);\n        current = previous.next;\n        //  previous  current  current\n        previous.next = current.next; // {8} \n      }\n      this.count--; // {9} \n      return current.element; \n    } \n    return undefined; // {10} \n  }\n  // \n  getElementAt(index) { \n    if (index >= 0 && index <= this.count) { // {1} \n      let node = this.head; // {2} \n      for (let i = 0; i < index && node != null; i++) { // {3} \n        node = node.next;\n      } \n      return node; // {4} \n    } \n    return undefined; // {5} \n  }\n  // \n  insert(element, index) { \n    if (index >= 0 && index <= this.count) { // {1} \n      const node = new Node(element);\n\n      if (index === 0) { // \n        const current = this.head; \n        node.next = current; // {2} \n        this.head = node; \n      } else { \n        const previous = this.getElementAt(index - 1); // {3} \n        const current = previous.next; // {4} \n        node.next = current; // {5} \n        previous.next = node; // {6} \n      } \n      this.count++; // \n      return true; \n    } \n    return false; // {7} \n  }\n  //  indexOf \n  indexOf(element) { \n    let current = this.head; // {1} \n    for (let i = 0; i < this.count && current != null; i++) { // {2} \n      if (this.equalsFn(element, current.element)) { // {3} \n        return i; // {4} \n      }\n      current = current.next; // {5} \n    } \n    return -1; // {6} \n  }\n  // \n  remove(element) { \n    const index = this.indexOf(element); \n    return this.removeAt(index); \n  }\n  size() { \n    return this.count; \n  }\n  isEmpty() { \n    return this.count === 0; \n  }\n  getHead() {\n    return this.head; \n  }\n  toString() { \n    if (this.head == null) { // {1} \n      return ''; \n    } \n    let objString = `${this.head.element}`; // {2} \n    let current = this.head.next; // {3} \n\n    for (let i = 1; i < this.size() && current != null; i++) { // {4} \n      objString = `${objString},${current.element}`; \n      current = current.next;\n    } \n    return objString; // {5} \n  }\n}\n```\n[javascript](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Memory_Management)\n\n###### \n\n![](chain-table-2.png)\n```javascript\nclass DoublyNode extends Node { // {1} \n constructor(element, next, prev) { \n  super(element, next); // {2} \n  this.prev = prev; // {3} \n } \n}\n\nclass DoublyLinkedList extends LinkedList { // {4} \n  constructor(equalsFn = defaultEquals) { \n    super(equalsFn); // {5} \n    this.tail = undefined; // {6} \n  }\n  //  \n  insert(element, index) { \n    if (index >= 0 && index <= this.count) { \n      const node = new DoublyNode(element); \n      let current = this.head;\n\n      if (index === 0) { \n          if (this.head == null) { // {1} \n            this.head = node; \n            this.tail = node; \n          } else { \n            node.next = this.head; // {2} \n            current.prev = node; // {3} \n            this.head = node; // {4} \n          } \n      } else if (index === this.count) { //  // \n        current = this.tail; // {5} \n        current.next = node; // {6} \n        node.prev = current; // {7} \n        this.tail = node; // {8} \n      } else { \n        const previous = this.getElementAt(index - 1); // {9} \n        current = previous.next; // {10} \n        node.next = current; // {11} \n        previous.next = node; // {12} \n        current.prev = node; // {13} \n        node.prev = previous; // {14} \n      }\n      this.count++; \n      return true;\n    } \n    return false; \n  }\n  // \n  removeAt(index) { \n    if (index >= 0 && index < this.count) { \n      let current = this.head;\n\n      if (index === 0) { \n        this.head = current.next; // {1} \n        //  tail // \n        if (this.count === 1) { // {2} \n          this.tail = undefined; \n        } else { \n          this.head.prev = undefined; // {3} \n        } \n      } else if (index === this.count - 1) { //  //\n        current = this.tail; // {4} \n        this.tail = current.prev; // {5} \n        this.tail.next = undefined; // {6} \n      } else { \n        current = this.getElementAt(index); // {7} \n        const previous = current.prev; // {8} \n        //  previous  current  current \n        previous.next = current.next; // {9} \n        current.next.prev = previous; // {10} \n      }\n      this.count--; \n      return current.element; \n    } \n    return undefined; \n  }\n}\n// https://github.com/loiane/javascript-datastructures-algorithms\n```\n\n###### \ntail.nextundefinedhead\n head  tail.next  tail  head.prev\n![](chain-table-3.png)\n![](chain-table-4.png)\n\n```javascript\nclass CircularLinkedList extends LinkedList { \n  constructor(equalsFn = defaultEquals) {\n    super(equalsFn); \n  }\n  // \n  insert(element, index) { \n    if (index >= 0 && index <= this.count) { \n      const node = new Node(element); \n      let current = this.head;\n\n      if (index === 0) { \n        if (this.head == null) { \n          this.head = node; // {1} \n          node.next = this.head; // {2} \n        } else { \n          node.next = current; // {3} \n          current = this.getElementAt(this.size()); // {4} \n          // \n          this.head = node; // {5} \n          current.next = this.head; // {6} \n        }\n      } else { // \n        const previous = this.getElementAt(index - 1); \n        node.next = previous.next; \n        previous.next = node; \n      } \n      this.count++; \n      return true;\n    } \n    return false; \n  }\n  // \n  removeAt(index) { \n    if (index >= 0 && index < this.count) { \n      let current = this.head;\n\n      if (index === 0) { \n        if (this.size() === 1) { \n          this.head = undefined; \n        } else { \n          const removed = this.head; // {1} \n          current = this.getElementAt(this.size()); // {2} \n          this.head = this.head.next; // {3} \n          current.next = this.head; // {4} \n          current = removed; // {5}\n        }\n      } else { \n        // \n        const previous = this.getElementAt(index - 1); \n        current = previous.next; \n        previous.next = current.next; \n      }\n      this.count--; \n      return current.element; // {6} \n    } \n    return undefined; \n  }\n}\n```\n\n###### \n\n```javascript\nconst Compare = { \n  LESS_THAN: -1, \n  BIGGER_THAN: 1 \n}; \nfunction defaultCompare(a, b) { \n  if (a === b) { // {1} \n    return 0; \n  } \n  return a < b ? Compare.LESS_THAN : Compare.BIGGER_THAN; // {2} \n} \nclass SortedLinkedList extends LinkedList { \n  constructor(equalsFn = defaultEquals, compareFn = defaultCompare) { \n    super(equalsFn); \n    this.compareFn = compareFn; // {3} \n  }\n  // \n  insert(element, index = 0) { // {1} \n    if (this.isEmpty()) { \n      return super.insert(element, 0); // {2} \n    } \n    const pos = this.getIndexNextSortedElement(element); // {3} \n    return super.insert(element, pos); // {4} \n  } \n  getIndexNextSortedElement(element) { \n    let current = this.head; \n    let i = 0; \n    for (; i < this.size() && current; i++) { \n      const comp = this.compareFn(element, current.element); // {5} \n      if (comp === Compare.LESS_THAN) { // {6} \n        return i; \n      } \n      current = current.next; \n    } \n    return i; // {7} \n  }\n}\n```\n\n######  StackLinkedList \n```javascript\nclass StackLinkedList { \n  constructor() { \n    this.items = new DoublyLinkedList(); // {1} \n  } \n  push(element) { \n    this.items.push(element); // {2} \n  } \n  pop() { \n    if (this.isEmpty()) { \n      return undefined; \n    } \n    return this.items.removeAt(this.size() - 1); // {3} \n  } \n}\n```","slug":"34-data-structure2","published":1,"updated":"2022-09-27T09:21:29.523Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gx2001ecktthr53h1pe","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>FIFO</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Queue</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.lowestCount = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">enqueue</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count] = element;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count++;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">dequeue</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> result = <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount]; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.lowestCount++; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> result; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">peek</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count - <span class=\"built_in\">this</span>.lowestCount === <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count - <span class=\"built_in\">this</span>.lowestCount;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">clear</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.lowestCount = <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> objString = <span class=\"string\">`<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount]&#125;</span>`</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"built_in\">this</span>.lowestCount + <span class=\"number\">1</span>; i &lt; <span class=\"built_in\">this</span>.count; i++) &#123;</span><br><span class=\"line\">      objString = <span class=\"string\">`<span class=\"subst\">$&#123;objString&#125;</span>,<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.items[i]&#125;</span>`</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> objString;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>deque double-ended queue</p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Deque</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.lowestCount = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"> <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">addFront</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.addBack(element);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.lowestCount &gt; <span class=\"number\">0</span>) &#123; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.lowestCount--;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount] = element;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"built_in\">this</span>.count; i &gt; <span class=\"number\">0</span>; i--) &#123; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.items[i] = <span class=\"built_in\">this</span>.items[i - <span class=\"number\">1</span>];</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count++;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.lowestCount = <span class=\"number\">0</span>;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.items[<span class=\"number\">0</span>] = element; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">addBack</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count] = element;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count++;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeFront</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> result = <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount]; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.lowestCount++; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> result; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeBack</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count--;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> result = <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count];</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count];</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">peekFront</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">peekBack</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count - <span class=\"number\">1</span>];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count - <span class=\"built_in\">this</span>.lowestCount === <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">clear</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.lowestCount = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" - \"></a> - </h6><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">hotPotato</span>(<span class=\"params\">elementsList, num</span>) </span>&#123; </span><br><span class=\"line\">  <span class=\"keyword\">const</span> queue = <span class=\"keyword\">new</span> Queue(); <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> elimitatedList = [];</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; elementsList.length; i++) &#123; </span><br><span class=\"line\">    queue.enqueue(elementsList[i]); <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (queue.size() &gt; <span class=\"number\">1</span>) &#123; </span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; num; i++) &#123; </span><br><span class=\"line\">      <span class=\"comment\">// </span></span><br><span class=\"line\">      queue.enqueue(queue.dequeue()); <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    elimitatedList.push(queue.dequeue()); <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; </span><br><span class=\"line\">    <span class=\"attr\">eliminated</span>: elimitatedList, </span><br><span class=\"line\">    <span class=\"attr\">winner</span>: queue.dequeue() <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> names = [<span class=\"string\">&#x27;John&#x27;</span>, <span class=\"string\">&#x27;Jack&#x27;</span>, <span class=\"string\">&#x27;Camila&#x27;</span>, <span class=\"string\">&#x27;Ingrid&#x27;</span>, <span class=\"string\">&#x27;Carl&#x27;</span>]; </span><br><span class=\"line\"><span class=\"keyword\">const</span> result = hotPotato(names, <span class=\"number\">7</span>);</span><br><span class=\"line\">result.eliminated.forEach(<span class=\"function\"><span class=\"params\">name</span> =&gt;</span> &#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(<span class=\"string\">`<span class=\"subst\">$&#123;name&#125;</span>`</span>); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">` <span class=\"subst\">$&#123;result.winner&#125;</span>`</span>);</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p> madam racecar</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">palindromeChecker</span>(<span class=\"params\">aString</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (aString === <span class=\"literal\">undefined</span> || aString === <span class=\"literal\">null</span> || (aString !== <span class=\"literal\">null</span> &amp;&amp; aString.length === <span class=\"number\">0</span>)) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"keyword\">const</span> deque = <span class=\"keyword\">new</span> Deque(); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> lowerString = aString.toLocaleLowerCase().split(<span class=\"string\">&#x27; &#x27;</span>).join(<span class=\"string\">&#x27;&#x27;</span>); <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> isEqual = <span class=\"literal\">true</span>; </span><br><span class=\"line\">  <span class=\"keyword\">let</span> firstChar, lastChar;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; lowerString.length; i++) &#123; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">    deque.addBack(lowerString.charAt(i)); </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (deque.size() &gt; <span class=\"number\">1</span> &amp;&amp; isEqual) &#123; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">    firstChar = deque.removeFront(); <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">    lastChar = deque.removeBack(); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (firstChar !== lastChar) &#123; </span><br><span class=\"line\">      isEqual = <span class=\"literal\">false</span>; <span class=\"comment\">// &#123;8&#125; </span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"keyword\">return</span> isEqual;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/\">javascript</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><img src=\"/2022/09/23/34-data-structure2/chain-table-1.png\" alt=\"\"><br><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// util.js</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">defaultEquals</span>(<span class=\"params\">a, b</span>) </span>&#123; </span><br><span class=\"line\">  <span class=\"keyword\">return</span> a === b; </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// models/linked-list-models</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Node</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.element = element; </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.next = <span class=\"literal\">undefined</span>; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125; </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; defaultEquals &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../util&#x27;</span>; </span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; Node &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./models/linked-list-models&#x27;</span>; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">LinkedList</span> </span>&#123; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">equalsFn = defaultEquals</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.head = <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.equalsFn = equalsFn; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">push</span>(<span class=\"params\">element</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">const</span> node = <span class=\"keyword\">new</span> Node(element); <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> current; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.head == <span class=\"literal\">null</span>) &#123; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.head = node;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      current = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">while</span> (current.next != <span class=\"literal\">null</span>) &#123; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">        current = current.next; </span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">//  next </span></span><br><span class=\"line\">      current.next = node; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count++; <span class=\"comment\">// &#123;7&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeAt</span>(<span class=\"params\">index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt; <span class=\"built_in\">this</span>.count) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">      <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.head = current.next; </span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// index</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> previous = <span class=\"built_in\">this</span>.getElementAt(index - <span class=\"number\">1</span>);</span><br><span class=\"line\">        current = previous.next;</span><br><span class=\"line\">        <span class=\"comment\">//  previous  current  current</span></span><br><span class=\"line\">        previous.next = current.next; <span class=\"comment\">// &#123;8&#125; </span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count--; <span class=\"comment\">// &#123;9&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> current.element; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;10&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getElementAt</span>(<span class=\"params\">index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt;= <span class=\"built_in\">this</span>.count) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> node = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; index &amp;&amp; node != <span class=\"literal\">null</span>; i++) &#123; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">        node = node.next;</span><br><span class=\"line\">      &#125; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">element, index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt;= <span class=\"built_in\">this</span>.count) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> node = <span class=\"keyword\">new</span> Node(element);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123; <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> current = <span class=\"built_in\">this</span>.head; </span><br><span class=\"line\">        node.next = current; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.head = node; </span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">        <span class=\"keyword\">const</span> previous = <span class=\"built_in\">this</span>.getElementAt(index - <span class=\"number\">1</span>); <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> current = previous.next; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">        node.next = current; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">        previous.next = node; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">      &#125; </span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count++; <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// &#123;7&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  indexOf </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">indexOf</span>(<span class=\"params\">element</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"built_in\">this</span>.count &amp;&amp; current != <span class=\"literal\">null</span>; i++) &#123; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.equalsFn(element, current.element)) &#123; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> i; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      current = current.next; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> -<span class=\"number\">1</span>; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">remove</span>(<span class=\"params\">element</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">const</span> index = <span class=\"built_in\">this</span>.indexOf(element); </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.removeAt(index); </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count === <span class=\"number\">0</span>; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getHead</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.head; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.head == <span class=\"literal\">null</span>) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">&#x27;&#x27;</span>; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">let</span> objString = <span class=\"string\">`<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.head.element&#125;</span>`</span>; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head.next; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; <span class=\"built_in\">this</span>.size() &amp;&amp; current != <span class=\"literal\">null</span>; i++) &#123; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">      objString = <span class=\"string\">`<span class=\"subst\">$&#123;objString&#125;</span>,<span class=\"subst\">$&#123;current.element&#125;</span>`</span>; </span><br><span class=\"line\">      current = current.next;</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> objString; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Memory_Management\">javascript</a></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><br><img src=\"/2022/09/23/34-data-structure2/chain-table-2.png\" alt=\"\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DoublyNode</span> <span class=\"keyword\">extends</span> <span class=\"title\">Node</span> </span>&#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\"> <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">element, next, prev</span>)</span> &#123; </span><br><span class=\"line\">  <span class=\"built_in\">super</span>(element, next); <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">  <span class=\"built_in\">this</span>.prev = prev; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DoublyLinkedList</span> <span class=\"keyword\">extends</span> <span class=\"title\">LinkedList</span> </span>&#123; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">equalsFn = defaultEquals</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"built_in\">super</span>(equalsFn); <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.tail = <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">element, index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt;= <span class=\"built_in\">this</span>.count) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">const</span> node = <span class=\"keyword\">new</span> DoublyNode(element); </span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123; </span><br><span class=\"line\">          <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.head == <span class=\"literal\">null</span>) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">            <span class=\"built_in\">this</span>.head = node; </span><br><span class=\"line\">            <span class=\"built_in\">this</span>.tail = node; </span><br><span class=\"line\">          &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">            node.next = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">            current.prev = node; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">            <span class=\"built_in\">this</span>.head = node; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">          &#125; </span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (index === <span class=\"built_in\">this</span>.count) &#123; <span class=\"comment\">//  // </span></span><br><span class=\"line\">        current = <span class=\"built_in\">this</span>.tail; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">        current.next = node; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">        node.prev = current; <span class=\"comment\">// &#123;7&#125; </span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.tail = node; <span class=\"comment\">// &#123;8&#125; </span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">        <span class=\"keyword\">const</span> previous = <span class=\"built_in\">this</span>.getElementAt(index - <span class=\"number\">1</span>); <span class=\"comment\">// &#123;9&#125; </span></span><br><span class=\"line\">        current = previous.next; <span class=\"comment\">// &#123;10&#125; </span></span><br><span class=\"line\">        node.next = current; <span class=\"comment\">// &#123;11&#125; </span></span><br><span class=\"line\">        previous.next = node; <span class=\"comment\">// &#123;12&#125; </span></span><br><span class=\"line\">        current.prev = node; <span class=\"comment\">// &#123;13&#125; </span></span><br><span class=\"line\">        node.prev = previous; <span class=\"comment\">// &#123;14&#125; </span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count++; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeAt</span>(<span class=\"params\">index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt; <span class=\"built_in\">this</span>.count) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123; </span><br><span class=\"line\">        <span class=\"built_in\">this</span>.head = current.next; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">        <span class=\"comment\">//  tail // </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.count === <span class=\"number\">1</span>) &#123; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">          <span class=\"built_in\">this</span>.tail = <span class=\"literal\">undefined</span>; </span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">          <span class=\"built_in\">this</span>.head.prev = <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">        &#125; </span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (index === <span class=\"built_in\">this</span>.count - <span class=\"number\">1</span>) &#123; <span class=\"comment\">//  //</span></span><br><span class=\"line\">        current = <span class=\"built_in\">this</span>.tail; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.tail = current.prev; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.tail.next = <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">        current = <span class=\"built_in\">this</span>.getElementAt(index); <span class=\"comment\">// &#123;7&#125; </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> previous = current.prev; <span class=\"comment\">// &#123;8&#125; </span></span><br><span class=\"line\">        <span class=\"comment\">//  previous  current  current </span></span><br><span class=\"line\">        previous.next = current.next; <span class=\"comment\">// &#123;9&#125; </span></span><br><span class=\"line\">        current.next.prev = previous; <span class=\"comment\">// &#123;10&#125; </span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count--; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> current.element; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// https://github.com/loiane/javascript-datastructures-algorithms</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>tail.nextundefinedhead<br> head  tail.next  tail  head.prev<br><img src=\"/2022/09/23/34-data-structure2/chain-table-3.png\" alt=\"\"><br><img src=\"/2022/09/23/34-data-structure2/chain-table-4.png\" alt=\"\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CircularLinkedList</span> <span class=\"keyword\">extends</span> <span class=\"title\">LinkedList</span> </span>&#123; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">equalsFn = defaultEquals</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>(equalsFn); </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">element, index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt;= <span class=\"built_in\">this</span>.count) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">const</span> node = <span class=\"keyword\">new</span> Node(element); </span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123; </span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.head == <span class=\"literal\">null</span>) &#123; </span><br><span class=\"line\">          <span class=\"built_in\">this</span>.head = node; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">          node.next = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">          node.next = current; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">          current = <span class=\"built_in\">this</span>.getElementAt(<span class=\"built_in\">this</span>.size()); <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">          <span class=\"comment\">// </span></span><br><span class=\"line\">          <span class=\"built_in\">this</span>.head = node; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">          current.next = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123; <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> previous = <span class=\"built_in\">this</span>.getElementAt(index - <span class=\"number\">1</span>); </span><br><span class=\"line\">        node.next = previous.next; </span><br><span class=\"line\">        previous.next = node; </span><br><span class=\"line\">      &#125; </span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count++; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeAt</span>(<span class=\"params\">index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt; <span class=\"built_in\">this</span>.count) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123; </span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.size() === <span class=\"number\">1</span>) &#123; </span><br><span class=\"line\">          <span class=\"built_in\">this</span>.head = <span class=\"literal\">undefined</span>; </span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">          <span class=\"keyword\">const</span> removed = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">          current = <span class=\"built_in\">this</span>.getElementAt(<span class=\"built_in\">this</span>.size()); <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">          <span class=\"built_in\">this</span>.head = <span class=\"built_in\">this</span>.head.next; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">          current.next = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">          current = removed; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> previous = <span class=\"built_in\">this</span>.getElementAt(index - <span class=\"number\">1</span>); </span><br><span class=\"line\">        current = previous.next; </span><br><span class=\"line\">        previous.next = current.next; </span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count--; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> current.element; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> Compare = &#123; </span><br><span class=\"line\">  <span class=\"attr\">LESS_THAN</span>: -<span class=\"number\">1</span>, </span><br><span class=\"line\">  <span class=\"attr\">BIGGER_THAN</span>: <span class=\"number\">1</span> </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">defaultCompare</span>(<span class=\"params\">a, b</span>) </span>&#123; </span><br><span class=\"line\">  <span class=\"keyword\">if</span> (a === b) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>; </span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"keyword\">return</span> a &lt; b ? Compare.LESS_THAN : Compare.BIGGER_THAN; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">&#125; </span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SortedLinkedList</span> <span class=\"keyword\">extends</span> <span class=\"title\">LinkedList</span> </span>&#123; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">equalsFn = defaultEquals, compareFn = defaultCompare</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"built_in\">super</span>(equalsFn); </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.compareFn = compareFn; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">element, index = <span class=\"number\">0</span></span>)</span> &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">super</span>.insert(element, <span class=\"number\">0</span>); <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">const</span> pos = <span class=\"built_in\">this</span>.getIndexNextSortedElement(element); <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">super</span>.insert(element, pos); <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getIndexNextSortedElement</span>(<span class=\"params\">element</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head; </span><br><span class=\"line\">    <span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; </span><br><span class=\"line\">    <span class=\"keyword\">for</span> (; i &lt; <span class=\"built_in\">this</span>.size() &amp;&amp; current; i++) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">const</span> comp = <span class=\"built_in\">this</span>.compareFn(element, current.element); <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (comp === Compare.LESS_THAN) &#123; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> i; </span><br><span class=\"line\">      &#125; </span><br><span class=\"line\">      current = current.next; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> i; <span class=\"comment\">// &#123;7&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"-StackLinkedList-\"><a href=\"#-StackLinkedList-\" class=\"headerlink\" title=\" StackLinkedList \"></a> StackLinkedList </h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">StackLinkedList</span> </span>&#123; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = <span class=\"keyword\">new</span> DoublyLinkedList(); <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">push</span>(<span class=\"params\">element</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items.push(element); <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">pop</span>(<span class=\"params\"></span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items.removeAt(<span class=\"built_in\">this</span>.size() - <span class=\"number\">1</span>); <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>FIFO</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Queue</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.lowestCount = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">enqueue</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count] = element;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count++;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">dequeue</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> result = <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount]; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.lowestCount++; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> result; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">peek</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count - <span class=\"built_in\">this</span>.lowestCount === <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count - <span class=\"built_in\">this</span>.lowestCount;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">clear</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.lowestCount = <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> objString = <span class=\"string\">`<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount]&#125;</span>`</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"built_in\">this</span>.lowestCount + <span class=\"number\">1</span>; i &lt; <span class=\"built_in\">this</span>.count; i++) &#123;</span><br><span class=\"line\">      objString = <span class=\"string\">`<span class=\"subst\">$&#123;objString&#125;</span>,<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.items[i]&#125;</span>`</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> objString;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>deque double-ended queue</p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Deque</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.lowestCount = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"> <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">addFront</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.addBack(element);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.lowestCount &gt; <span class=\"number\">0</span>) &#123; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.lowestCount--;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount] = element;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"built_in\">this</span>.count; i &gt; <span class=\"number\">0</span>; i--) &#123; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.items[i] = <span class=\"built_in\">this</span>.items[i - <span class=\"number\">1</span>];</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count++;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.lowestCount = <span class=\"number\">0</span>;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.items[<span class=\"number\">0</span>] = element; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">addBack</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count] = element;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count++;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeFront</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> result = <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount]; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.lowestCount++; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> result; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeBack</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count--;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> result = <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count];</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count];</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">peekFront</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.lowestCount];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">peekBack</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count - <span class=\"number\">1</span>];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count - <span class=\"built_in\">this</span>.lowestCount === <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">clear</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.lowestCount = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" - \"></a> - </h6><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">hotPotato</span>(<span class=\"params\">elementsList, num</span>) </span>&#123; </span><br><span class=\"line\">  <span class=\"keyword\">const</span> queue = <span class=\"keyword\">new</span> Queue(); <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> elimitatedList = [];</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; elementsList.length; i++) &#123; </span><br><span class=\"line\">    queue.enqueue(elementsList[i]); <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (queue.size() &gt; <span class=\"number\">1</span>) &#123; </span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; num; i++) &#123; </span><br><span class=\"line\">      <span class=\"comment\">// </span></span><br><span class=\"line\">      queue.enqueue(queue.dequeue()); <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    elimitatedList.push(queue.dequeue()); <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; </span><br><span class=\"line\">    <span class=\"attr\">eliminated</span>: elimitatedList, </span><br><span class=\"line\">    <span class=\"attr\">winner</span>: queue.dequeue() <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> names = [<span class=\"string\">&#x27;John&#x27;</span>, <span class=\"string\">&#x27;Jack&#x27;</span>, <span class=\"string\">&#x27;Camila&#x27;</span>, <span class=\"string\">&#x27;Ingrid&#x27;</span>, <span class=\"string\">&#x27;Carl&#x27;</span>]; </span><br><span class=\"line\"><span class=\"keyword\">const</span> result = hotPotato(names, <span class=\"number\">7</span>);</span><br><span class=\"line\">result.eliminated.forEach(<span class=\"function\"><span class=\"params\">name</span> =&gt;</span> &#123; </span><br><span class=\"line\"> <span class=\"built_in\">console</span>.log(<span class=\"string\">`<span class=\"subst\">$&#123;name&#125;</span>`</span>); </span><br><span class=\"line\">&#125;); </span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">` <span class=\"subst\">$&#123;result.winner&#125;</span>`</span>);</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p> madam racecar</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">palindromeChecker</span>(<span class=\"params\">aString</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (aString === <span class=\"literal\">undefined</span> || aString === <span class=\"literal\">null</span> || (aString !== <span class=\"literal\">null</span> &amp;&amp; aString.length === <span class=\"number\">0</span>)) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"keyword\">const</span> deque = <span class=\"keyword\">new</span> Deque(); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> lowerString = aString.toLocaleLowerCase().split(<span class=\"string\">&#x27; &#x27;</span>).join(<span class=\"string\">&#x27;&#x27;</span>); <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> isEqual = <span class=\"literal\">true</span>; </span><br><span class=\"line\">  <span class=\"keyword\">let</span> firstChar, lastChar;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; lowerString.length; i++) &#123; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">    deque.addBack(lowerString.charAt(i)); </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (deque.size() &gt; <span class=\"number\">1</span> &amp;&amp; isEqual) &#123; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">    firstChar = deque.removeFront(); <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">    lastChar = deque.removeBack(); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (firstChar !== lastChar) &#123; </span><br><span class=\"line\">      isEqual = <span class=\"literal\">false</span>; <span class=\"comment\">// &#123;8&#125; </span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"keyword\">return</span> isEqual;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/\">javascript</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><img src=\"/2022/09/23/34-data-structure2/chain-table-1.png\" alt=\"\"><br><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// util.js</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">defaultEquals</span>(<span class=\"params\">a, b</span>) </span>&#123; </span><br><span class=\"line\">  <span class=\"keyword\">return</span> a === b; </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// models/linked-list-models</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Node</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.element = element; </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.next = <span class=\"literal\">undefined</span>; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125; </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; defaultEquals &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../util&#x27;</span>; </span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; Node &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./models/linked-list-models&#x27;</span>; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">LinkedList</span> </span>&#123; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">equalsFn = defaultEquals</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.head = <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.equalsFn = equalsFn; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">push</span>(<span class=\"params\">element</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">const</span> node = <span class=\"keyword\">new</span> Node(element); <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> current; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.head == <span class=\"literal\">null</span>) &#123; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.head = node;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      current = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">while</span> (current.next != <span class=\"literal\">null</span>) &#123; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">        current = current.next; </span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">//  next </span></span><br><span class=\"line\">      current.next = node; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count++; <span class=\"comment\">// &#123;7&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeAt</span>(<span class=\"params\">index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt; <span class=\"built_in\">this</span>.count) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">      <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.head = current.next; </span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// index</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> previous = <span class=\"built_in\">this</span>.getElementAt(index - <span class=\"number\">1</span>);</span><br><span class=\"line\">        current = previous.next;</span><br><span class=\"line\">        <span class=\"comment\">//  previous  current  current</span></span><br><span class=\"line\">        previous.next = current.next; <span class=\"comment\">// &#123;8&#125; </span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count--; <span class=\"comment\">// &#123;9&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> current.element; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;10&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getElementAt</span>(<span class=\"params\">index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt;= <span class=\"built_in\">this</span>.count) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> node = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; index &amp;&amp; node != <span class=\"literal\">null</span>; i++) &#123; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">        node = node.next;</span><br><span class=\"line\">      &#125; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> node; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">element, index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt;= <span class=\"built_in\">this</span>.count) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> node = <span class=\"keyword\">new</span> Node(element);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123; <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> current = <span class=\"built_in\">this</span>.head; </span><br><span class=\"line\">        node.next = current; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.head = node; </span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">        <span class=\"keyword\">const</span> previous = <span class=\"built_in\">this</span>.getElementAt(index - <span class=\"number\">1</span>); <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> current = previous.next; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">        node.next = current; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">        previous.next = node; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">      &#125; </span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count++; <span class=\"comment\">// </span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// &#123;7&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  indexOf </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">indexOf</span>(<span class=\"params\">element</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"built_in\">this</span>.count &amp;&amp; current != <span class=\"literal\">null</span>; i++) &#123; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.equalsFn(element, current.element)) &#123; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> i; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      current = current.next; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> -<span class=\"number\">1</span>; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">remove</span>(<span class=\"params\">element</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">const</span> index = <span class=\"built_in\">this</span>.indexOf(element); </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.removeAt(index); </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count === <span class=\"number\">0</span>; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getHead</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.head; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.head == <span class=\"literal\">null</span>) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">&#x27;&#x27;</span>; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">let</span> objString = <span class=\"string\">`<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.head.element&#125;</span>`</span>; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head.next; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; <span class=\"built_in\">this</span>.size() &amp;&amp; current != <span class=\"literal\">null</span>; i++) &#123; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">      objString = <span class=\"string\">`<span class=\"subst\">$&#123;objString&#125;</span>,<span class=\"subst\">$&#123;current.element&#125;</span>`</span>; </span><br><span class=\"line\">      current = current.next;</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> objString; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Memory_Management\">javascript</a></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><br><img src=\"/2022/09/23/34-data-structure2/chain-table-2.png\" alt=\"\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DoublyNode</span> <span class=\"keyword\">extends</span> <span class=\"title\">Node</span> </span>&#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\"> <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">element, next, prev</span>)</span> &#123; </span><br><span class=\"line\">  <span class=\"built_in\">super</span>(element, next); <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">  <span class=\"built_in\">this</span>.prev = prev; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\"> &#125; </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DoublyLinkedList</span> <span class=\"keyword\">extends</span> <span class=\"title\">LinkedList</span> </span>&#123; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">equalsFn = defaultEquals</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"built_in\">super</span>(equalsFn); <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.tail = <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">element, index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt;= <span class=\"built_in\">this</span>.count) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">const</span> node = <span class=\"keyword\">new</span> DoublyNode(element); </span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123; </span><br><span class=\"line\">          <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.head == <span class=\"literal\">null</span>) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">            <span class=\"built_in\">this</span>.head = node; </span><br><span class=\"line\">            <span class=\"built_in\">this</span>.tail = node; </span><br><span class=\"line\">          &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">            node.next = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">            current.prev = node; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">            <span class=\"built_in\">this</span>.head = node; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">          &#125; </span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (index === <span class=\"built_in\">this</span>.count) &#123; <span class=\"comment\">//  // </span></span><br><span class=\"line\">        current = <span class=\"built_in\">this</span>.tail; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">        current.next = node; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">        node.prev = current; <span class=\"comment\">// &#123;7&#125; </span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.tail = node; <span class=\"comment\">// &#123;8&#125; </span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">        <span class=\"keyword\">const</span> previous = <span class=\"built_in\">this</span>.getElementAt(index - <span class=\"number\">1</span>); <span class=\"comment\">// &#123;9&#125; </span></span><br><span class=\"line\">        current = previous.next; <span class=\"comment\">// &#123;10&#125; </span></span><br><span class=\"line\">        node.next = current; <span class=\"comment\">// &#123;11&#125; </span></span><br><span class=\"line\">        previous.next = node; <span class=\"comment\">// &#123;12&#125; </span></span><br><span class=\"line\">        current.prev = node; <span class=\"comment\">// &#123;13&#125; </span></span><br><span class=\"line\">        node.prev = previous; <span class=\"comment\">// &#123;14&#125; </span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count++; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeAt</span>(<span class=\"params\">index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt; <span class=\"built_in\">this</span>.count) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123; </span><br><span class=\"line\">        <span class=\"built_in\">this</span>.head = current.next; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">        <span class=\"comment\">//  tail // </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.count === <span class=\"number\">1</span>) &#123; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">          <span class=\"built_in\">this</span>.tail = <span class=\"literal\">undefined</span>; </span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">          <span class=\"built_in\">this</span>.head.prev = <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">        &#125; </span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (index === <span class=\"built_in\">this</span>.count - <span class=\"number\">1</span>) &#123; <span class=\"comment\">//  //</span></span><br><span class=\"line\">        current = <span class=\"built_in\">this</span>.tail; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.tail = current.prev; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.tail.next = <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">        current = <span class=\"built_in\">this</span>.getElementAt(index); <span class=\"comment\">// &#123;7&#125; </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> previous = current.prev; <span class=\"comment\">// &#123;8&#125; </span></span><br><span class=\"line\">        <span class=\"comment\">//  previous  current  current </span></span><br><span class=\"line\">        previous.next = current.next; <span class=\"comment\">// &#123;9&#125; </span></span><br><span class=\"line\">        current.next.prev = previous; <span class=\"comment\">// &#123;10&#125; </span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count--; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> current.element; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// https://github.com/loiane/javascript-datastructures-algorithms</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>tail.nextundefinedhead<br> head  tail.next  tail  head.prev<br><img src=\"/2022/09/23/34-data-structure2/chain-table-3.png\" alt=\"\"><br><img src=\"/2022/09/23/34-data-structure2/chain-table-4.png\" alt=\"\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CircularLinkedList</span> <span class=\"keyword\">extends</span> <span class=\"title\">LinkedList</span> </span>&#123; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">equalsFn = defaultEquals</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>(equalsFn); </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">element, index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt;= <span class=\"built_in\">this</span>.count) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">const</span> node = <span class=\"keyword\">new</span> Node(element); </span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123; </span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.head == <span class=\"literal\">null</span>) &#123; </span><br><span class=\"line\">          <span class=\"built_in\">this</span>.head = node; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">          node.next = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">          node.next = current; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">          current = <span class=\"built_in\">this</span>.getElementAt(<span class=\"built_in\">this</span>.size()); <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">          <span class=\"comment\">// </span></span><br><span class=\"line\">          <span class=\"built_in\">this</span>.head = node; <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">          current.next = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123; <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> previous = <span class=\"built_in\">this</span>.getElementAt(index - <span class=\"number\">1</span>); </span><br><span class=\"line\">        node.next = previous.next; </span><br><span class=\"line\">        previous.next = node; </span><br><span class=\"line\">      &#125; </span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count++; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">removeAt</span>(<span class=\"params\">index</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &gt;= <span class=\"number\">0</span> &amp;&amp; index &lt; <span class=\"built_in\">this</span>.count) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123; </span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.size() === <span class=\"number\">1</span>) &#123; </span><br><span class=\"line\">          <span class=\"built_in\">this</span>.head = <span class=\"literal\">undefined</span>; </span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">          <span class=\"keyword\">const</span> removed = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">          current = <span class=\"built_in\">this</span>.getElementAt(<span class=\"built_in\">this</span>.size()); <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">          <span class=\"built_in\">this</span>.head = <span class=\"built_in\">this</span>.head.next; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">          current.next = <span class=\"built_in\">this</span>.head; <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">          current = removed; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> previous = <span class=\"built_in\">this</span>.getElementAt(index - <span class=\"number\">1</span>); </span><br><span class=\"line\">        current = previous.next; </span><br><span class=\"line\">        previous.next = current.next; </span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.count--; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> current.element; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> Compare = &#123; </span><br><span class=\"line\">  <span class=\"attr\">LESS_THAN</span>: -<span class=\"number\">1</span>, </span><br><span class=\"line\">  <span class=\"attr\">BIGGER_THAN</span>: <span class=\"number\">1</span> </span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">defaultCompare</span>(<span class=\"params\">a, b</span>) </span>&#123; </span><br><span class=\"line\">  <span class=\"keyword\">if</span> (a === b) &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>; </span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"keyword\">return</span> a &lt; b ? Compare.LESS_THAN : Compare.BIGGER_THAN; <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">&#125; </span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SortedLinkedList</span> <span class=\"keyword\">extends</span> <span class=\"title\">LinkedList</span> </span>&#123; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">equalsFn = defaultEquals, compareFn = defaultCompare</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"built_in\">super</span>(equalsFn); </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.compareFn = compareFn; <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">element, index = <span class=\"number\">0</span></span>)</span> &#123; <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">super</span>.insert(element, <span class=\"number\">0</span>); <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">const</span> pos = <span class=\"built_in\">this</span>.getIndexNextSortedElement(element); <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">super</span>.insert(element, pos); <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getIndexNextSortedElement</span>(<span class=\"params\">element</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">let</span> current = <span class=\"built_in\">this</span>.head; </span><br><span class=\"line\">    <span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; </span><br><span class=\"line\">    <span class=\"keyword\">for</span> (; i &lt; <span class=\"built_in\">this</span>.size() &amp;&amp; current; i++) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">const</span> comp = <span class=\"built_in\">this</span>.compareFn(element, current.element); <span class=\"comment\">// &#123;5&#125; </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (comp === Compare.LESS_THAN) &#123; <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> i; </span><br><span class=\"line\">      &#125; </span><br><span class=\"line\">      current = current.next; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> i; <span class=\"comment\">// &#123;7&#125; </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"-StackLinkedList-\"><a href=\"#-StackLinkedList-\" class=\"headerlink\" title=\" StackLinkedList \"></a> StackLinkedList </h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">StackLinkedList</span> </span>&#123; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = <span class=\"keyword\">new</span> DoublyLinkedList(); <span class=\"comment\">// &#123;1&#125; </span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">push</span>(<span class=\"params\">element</span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items.push(element); <span class=\"comment\">// &#123;2&#125; </span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">pop</span>(<span class=\"params\"></span>)</span> &#123; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items.removeAt(<span class=\"built_in\">this</span>.size() - <span class=\"number\">1</span>); <span class=\"comment\">// &#123;3&#125; </span></span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"(1)","date":"2022-09-20T09:41:00.000Z","_content":"\nECMAScript  javascript \nECMAScript JavaScript ()\n\nES5ES6ES2015ES7ES2016ES8ES2017  ES.Next \n\n(1)2009  12  ECMAScript5( ES5 ES  ECMAScript )\n\n(2)ECMAScript2015(ES2015) 2015  6  ECMAScript \nECMAScript  ECMAScript2015(ES6)\n\n(3)2016  6 ECMAScript  ECMAScript2016  ES2016(ES7)\n\n(4)2017  6 ECMAScript  ECMAScript2017  ES2017(ES8)\n\n(5)ES.Next  ECMAScript\n\nES6 http://kangax.github.io/compat-table/es6/\nES7 http://kangax.github.io/compat-table/es2016plus/\n\nES5  class \n(1) get  set  get  set \n(2)\n\n```javascript\nclass Person {\n  constructor(name) {\n    this._name = name; // {1}\n  }\n  get name() {\n    // {2}\n    return this._name;\n  }\n  set name(value) {\n    // {3}\n    this._name = value;\n  }\n}\nlet lotrChar = new Person('Frodo');\nconsole.log(lotrChar.name); // {4} // Frodo\nlotrChar.name = 'Gandalf'; // {5}\nconsole.log(lotrChar.name); // Gandalf\nlotrChar._name = 'Sam'; // {6}\nconsole.log(lotrChar.name); // Sam\n```\n\n\n\n```javascript\nconst area = 3.14 * r * r;\nconst area = 3.14 * Math.pow(r, 2);\n// ES2016 **\nconst area = 3.14 * r ** 2;\n```\n\n[JavaScript  ECMAScript ](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript)\n\n###### TypeScript\n\nTypeScript .\n(1)\n\n```javascript\n// \ninterface Person {\n  name: string;\n  age: number;\n}\nfunction printName(person: Person) {\n  console.log(person.name);\n}\n/** Comparable  MyObject  compareTo \n**/\ninterface Comparable {\n  compareTo(b): number;\n}\nclass MyObject implements Comparable {\n  age: number;\n  compareTo(b): number {\n    if (this.age === b.age) {\n      return 0;\n    }\n    return this.age > b.age ? 1 : -1;\n  }\n}\n```\n\n**JavaScript  TypeScript JavaScript  // @ts-check**\n\n###### \n\nJavaScript \n\n(1)@@iterator \nES2015  Array @@iterator  Symbol.iterator \n\n```javascript\nconst numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9];\nlet iterator = numbers[Symbol.iterator]();\nconsole.log(iterator.next().value); // 1\nconsole.log(iterator.next().value); // 2\nconsole.log(iterator.next().value); // 3\nconsole.log(iterator.next().value); // 4\nconsole.log(iterator.next().value); // 5\n\nconst numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9];\niterator = numbers[Symbol.iterator]();\nfor (const n of iterator) {\n  console.log(n);\n}\n\n// \nlet numbers2 = Array.from(numbers);\nlet numbers3 = Array.of(...numbers);\n```\n\n(2)copyWithin\ncopyWithin \n\n```javascript\ncopyArray = [1, 2, 3, 4, 5, 6];\ncopyArray.copyWithin(1, 3, 5);\n// copyWithin()\n// [1, 4, 5, 4, 5, 6]\n```\n\n(3)\n\n```javascript\n// \nconst friends = [\n  { name: 'John', age: 30 },\n  { name: 'Ana', age: 20 },\n  { name: 'Chris', age: 25 }, // ES2017 \n];\nfunction comparePerson(a, b) {\n  if (a.age < b.age) {\n    return -1;\n  }\n  if (a.age > b.age) {\n    return 1;\n  }\n  return 0;\n}\nconsole.log(friends.sort(comparePerson));\n/**\n[ \n { name: 'Ana', age: 20 }, \n { name: 'Chris', age: 25 },\n { name: 'John', age: 30 }, \n]\n*/\n// \nconst names = ['Ana', 'ana', 'john', 'John']; // \nconsole.log(\n  names.sort((a, b) => {\n    if (a.toLowerCase() < b.toLowerCase()) {\n      return -1;\n    }\n    if (a.toLowerCase() > b.toLowerCase()) {\n      return 1;\n    }\n    return 0;\n  })\n);\n//  localeCompare \nconst names = ['Ana', 'ana', 'john', 'John'];\nnames.sort((a, b) => a.localeCompare(b));\n// ['ana', 'Ana', 'john', 'John']\n\nconst names2 = ['Mave', 'Maeve'];\nconsole.log(names2.sort((a, b) => a.localeCompare(b)));\n// [\"Maeve\", \"Mave\"]\n```\n\n###### \n\n|           |             |\n| ----------------- | ------------------- |\n| Int8Array         | 8   |\n| Uint8Array        | 8       |\n| Uint8ClampedArray | 8       |\n| Int16Array        | 16  |\n| Uint16Array       | 16      |\n| Int32Array        | 32  |\n| Uint32Array       | 32      |\n| Float32Array      | 32  IEEE    |\n| Float64Array      | 64  IEEE    |\n\n```javascript\nlet length = 5;\nlet int16 = new Int16Array(length);\nlet array16 = [];\narray16.length = length;\nfor (let i = 0; i < length; i++) {\n  int16[i] = i + 1;\n}\nconsole.log(int16);\n```\n\nWebGL API\n\n[](https://web.dev/webgl-typed-arrays/)\n\n###### \n\nLIFO\n\n\n\n(1)\n\n```javascript\nclass Stack {\n  constructor() {\n    this.items = [];\n  }\n  // \n  push(element) {\n    this.items.push(element);\n  }\n  // \n  pop() {\n    return this.items.pop();\n  }\n  // \n  peek() {\n    return this.items[this.items.length - 1];\n  }\n  //  true false\n  isEmpty() {\n    return this.items.length === 0;\n  }\n  //  length \n  size() {\n    return this.items.length;\n  }\n  // \n  clear() {\n    this.items = [];\n  }\n}\n```\n\n** O(n)O(n) n **\n(2) JavaScript  Stack \n\n```javascript\nclass Stack {\n  constructor() {\n    this.count = 0; // count ,\n    this.items = {};\n  }\n  // ,\n  push(element) {\n    this.items[this.count] = element;\n    this.count++;\n  }\n  // \n  size() {\n    return this.count;\n  }\n  // \n  isEmpty() {\n    return this.count === 0;\n  }\n  // \n  pop() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    this.count--;\n    const result = this.items[this.count];\n    delete this.items[this.count];\n    return result;\n  }\n  // \n  peek() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    return this.items[this.count - 1];\n  }\n  // \n  clear() {\n    this.items = {};\n    this.count = 0;\n    //  while (!this.isEmpty()) {\n    //  this.pop();\n    // }\n  }\n  toString() {\n    if (this.isEmpty()) {\n      return '';\n    }\n    let objString = `${this.items[0]}`; // {1}\n    for (let i = 1; i < this.count; i++) {\n      // {2}\n      objString = `${objString},${this.items[i]}`; // {3}\n    }\n    return objString;\n  }\n}\n```\n\n**javascript **\n\n\n```javascript\n// \nclass Stack {\n  constructor() {\n    this._count = 0;\n    this._items = {};\n  }\n}\n```\n\n_\\__\n\n** ES2015  Symbol **\n\n```javascript\nconst _items = Symbol('stackItems');\nclass Stack {\n  constructor() {\n    this[_items] = [];\n  }\n  // \n}\n\nconst stack = new Stack();\nstack.push(5);\nstack.push(8);\nlet objectSymbols = Object.getOwnPropertySymbols(stack);\nconsole.log(objectSymbols.length); //  1\nconsole.log(objectSymbols); // [Symbol()]\nconsole.log(objectSymbols[0]); // Symbol()\nstack[objectSymbols[0]].push(1);\nstack.print(); //  5, 8, 1\n```\n\n_ stack[objectSymbols[0]]\\_items,\\_items _\n\n** ES2015  WeakMap **\nWeakMap \n\n```javascript\nconst items = new WeakMap(); // {1}\nclass Stack {\n  constructor() {\n    items.set(this, []); // {2}\n  }\n  push(element) {\n    const s = items.get(this); // {3}\n    s.push(element);\n  }\n  pop() {\n    const s = items.get(this);\n    const r = s.pop();\n    return r;\n  }\n  // \n}\n```\n\n__\n\n**ECMAScript **\n\n```javascript\nclass Stack {\n  #count = 0;\n  #items = 0;\n  // \n}\n```\n\n****\n\n```javascript\nfunction decimalToBinary(decNumber) {\n  const remStack = new Stack();\n  let number = decNumber;\n  let rem;\n  let binaryString = '';\n  while (number > 0) {\n    rem = Math.floor(number % 2);\n    remStack.push(rem);\n    number = Math.floor(number / 2);\n  }\n  while (!remStack.isEmpty()) {\n    binaryString += remStack.pop().toString();\n  }\n  return binaryString;\n}\n```\n\n****\n\n```javascript\nfunction baseConverter(decNumber, base) {\n  const remStack = new Stack();\n  const digits = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'; // {6}\n  let number = decNumber;\n  let rem;\n  let baseString = '';\n  if (!(base >= 2 && base <= 36)) {\n    return '';\n  }\n  while (number > 0) {\n    rem = Math.floor(number % base);\n    remStack.push(rem);\n    number = Math.floor(number / base);\n  }\n  while (!remStack.isEmpty()) {\n    baseString += digits[remStack.pop()]; // {7}\n  }\n  return baseString;\n}\n```\n","source":"_posts/33-data-structure1.md","raw":"---\ntitle: (1)\ndate: 2022-09-20 17:41:00\ntags:\n---\n\nECMAScript  javascript \nECMAScript JavaScript ()\n\nES5ES6ES2015ES7ES2016ES8ES2017  ES.Next \n\n(1)2009  12  ECMAScript5( ES5 ES  ECMAScript )\n\n(2)ECMAScript2015(ES2015) 2015  6  ECMAScript \nECMAScript  ECMAScript2015(ES6)\n\n(3)2016  6 ECMAScript  ECMAScript2016  ES2016(ES7)\n\n(4)2017  6 ECMAScript  ECMAScript2017  ES2017(ES8)\n\n(5)ES.Next  ECMAScript\n\nES6 http://kangax.github.io/compat-table/es6/\nES7 http://kangax.github.io/compat-table/es2016plus/\n\nES5  class \n(1) get  set  get  set \n(2)\n\n```javascript\nclass Person {\n  constructor(name) {\n    this._name = name; // {1}\n  }\n  get name() {\n    // {2}\n    return this._name;\n  }\n  set name(value) {\n    // {3}\n    this._name = value;\n  }\n}\nlet lotrChar = new Person('Frodo');\nconsole.log(lotrChar.name); // {4} // Frodo\nlotrChar.name = 'Gandalf'; // {5}\nconsole.log(lotrChar.name); // Gandalf\nlotrChar._name = 'Sam'; // {6}\nconsole.log(lotrChar.name); // Sam\n```\n\n\n\n```javascript\nconst area = 3.14 * r * r;\nconst area = 3.14 * Math.pow(r, 2);\n// ES2016 **\nconst area = 3.14 * r ** 2;\n```\n\n[JavaScript  ECMAScript ](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript)\n\n###### TypeScript\n\nTypeScript .\n(1)\n\n```javascript\n// \ninterface Person {\n  name: string;\n  age: number;\n}\nfunction printName(person: Person) {\n  console.log(person.name);\n}\n/** Comparable  MyObject  compareTo \n**/\ninterface Comparable {\n  compareTo(b): number;\n}\nclass MyObject implements Comparable {\n  age: number;\n  compareTo(b): number {\n    if (this.age === b.age) {\n      return 0;\n    }\n    return this.age > b.age ? 1 : -1;\n  }\n}\n```\n\n**JavaScript  TypeScript JavaScript  // @ts-check**\n\n###### \n\nJavaScript \n\n(1)@@iterator \nES2015  Array @@iterator  Symbol.iterator \n\n```javascript\nconst numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9];\nlet iterator = numbers[Symbol.iterator]();\nconsole.log(iterator.next().value); // 1\nconsole.log(iterator.next().value); // 2\nconsole.log(iterator.next().value); // 3\nconsole.log(iterator.next().value); // 4\nconsole.log(iterator.next().value); // 5\n\nconst numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9];\niterator = numbers[Symbol.iterator]();\nfor (const n of iterator) {\n  console.log(n);\n}\n\n// \nlet numbers2 = Array.from(numbers);\nlet numbers3 = Array.of(...numbers);\n```\n\n(2)copyWithin\ncopyWithin \n\n```javascript\ncopyArray = [1, 2, 3, 4, 5, 6];\ncopyArray.copyWithin(1, 3, 5);\n// copyWithin()\n// [1, 4, 5, 4, 5, 6]\n```\n\n(3)\n\n```javascript\n// \nconst friends = [\n  { name: 'John', age: 30 },\n  { name: 'Ana', age: 20 },\n  { name: 'Chris', age: 25 }, // ES2017 \n];\nfunction comparePerson(a, b) {\n  if (a.age < b.age) {\n    return -1;\n  }\n  if (a.age > b.age) {\n    return 1;\n  }\n  return 0;\n}\nconsole.log(friends.sort(comparePerson));\n/**\n[ \n { name: 'Ana', age: 20 }, \n { name: 'Chris', age: 25 },\n { name: 'John', age: 30 }, \n]\n*/\n// \nconst names = ['Ana', 'ana', 'john', 'John']; // \nconsole.log(\n  names.sort((a, b) => {\n    if (a.toLowerCase() < b.toLowerCase()) {\n      return -1;\n    }\n    if (a.toLowerCase() > b.toLowerCase()) {\n      return 1;\n    }\n    return 0;\n  })\n);\n//  localeCompare \nconst names = ['Ana', 'ana', 'john', 'John'];\nnames.sort((a, b) => a.localeCompare(b));\n// ['ana', 'Ana', 'john', 'John']\n\nconst names2 = ['Mave', 'Maeve'];\nconsole.log(names2.sort((a, b) => a.localeCompare(b)));\n// [\"Maeve\", \"Mave\"]\n```\n\n###### \n\n|           |             |\n| ----------------- | ------------------- |\n| Int8Array         | 8   |\n| Uint8Array        | 8       |\n| Uint8ClampedArray | 8       |\n| Int16Array        | 16  |\n| Uint16Array       | 16      |\n| Int32Array        | 32  |\n| Uint32Array       | 32      |\n| Float32Array      | 32  IEEE    |\n| Float64Array      | 64  IEEE    |\n\n```javascript\nlet length = 5;\nlet int16 = new Int16Array(length);\nlet array16 = [];\narray16.length = length;\nfor (let i = 0; i < length; i++) {\n  int16[i] = i + 1;\n}\nconsole.log(int16);\n```\n\nWebGL API\n\n[](https://web.dev/webgl-typed-arrays/)\n\n###### \n\nLIFO\n\n\n\n(1)\n\n```javascript\nclass Stack {\n  constructor() {\n    this.items = [];\n  }\n  // \n  push(element) {\n    this.items.push(element);\n  }\n  // \n  pop() {\n    return this.items.pop();\n  }\n  // \n  peek() {\n    return this.items[this.items.length - 1];\n  }\n  //  true false\n  isEmpty() {\n    return this.items.length === 0;\n  }\n  //  length \n  size() {\n    return this.items.length;\n  }\n  // \n  clear() {\n    this.items = [];\n  }\n}\n```\n\n** O(n)O(n) n **\n(2) JavaScript  Stack \n\n```javascript\nclass Stack {\n  constructor() {\n    this.count = 0; // count ,\n    this.items = {};\n  }\n  // ,\n  push(element) {\n    this.items[this.count] = element;\n    this.count++;\n  }\n  // \n  size() {\n    return this.count;\n  }\n  // \n  isEmpty() {\n    return this.count === 0;\n  }\n  // \n  pop() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    this.count--;\n    const result = this.items[this.count];\n    delete this.items[this.count];\n    return result;\n  }\n  // \n  peek() {\n    if (this.isEmpty()) {\n      return undefined;\n    }\n    return this.items[this.count - 1];\n  }\n  // \n  clear() {\n    this.items = {};\n    this.count = 0;\n    //  while (!this.isEmpty()) {\n    //  this.pop();\n    // }\n  }\n  toString() {\n    if (this.isEmpty()) {\n      return '';\n    }\n    let objString = `${this.items[0]}`; // {1}\n    for (let i = 1; i < this.count; i++) {\n      // {2}\n      objString = `${objString},${this.items[i]}`; // {3}\n    }\n    return objString;\n  }\n}\n```\n\n**javascript **\n\n\n```javascript\n// \nclass Stack {\n  constructor() {\n    this._count = 0;\n    this._items = {};\n  }\n}\n```\n\n_\\__\n\n** ES2015  Symbol **\n\n```javascript\nconst _items = Symbol('stackItems');\nclass Stack {\n  constructor() {\n    this[_items] = [];\n  }\n  // \n}\n\nconst stack = new Stack();\nstack.push(5);\nstack.push(8);\nlet objectSymbols = Object.getOwnPropertySymbols(stack);\nconsole.log(objectSymbols.length); //  1\nconsole.log(objectSymbols); // [Symbol()]\nconsole.log(objectSymbols[0]); // Symbol()\nstack[objectSymbols[0]].push(1);\nstack.print(); //  5, 8, 1\n```\n\n_ stack[objectSymbols[0]]\\_items,\\_items _\n\n** ES2015  WeakMap **\nWeakMap \n\n```javascript\nconst items = new WeakMap(); // {1}\nclass Stack {\n  constructor() {\n    items.set(this, []); // {2}\n  }\n  push(element) {\n    const s = items.get(this); // {3}\n    s.push(element);\n  }\n  pop() {\n    const s = items.get(this);\n    const r = s.pop();\n    return r;\n  }\n  // \n}\n```\n\n__\n\n**ECMAScript **\n\n```javascript\nclass Stack {\n  #count = 0;\n  #items = 0;\n  // \n}\n```\n\n****\n\n```javascript\nfunction decimalToBinary(decNumber) {\n  const remStack = new Stack();\n  let number = decNumber;\n  let rem;\n  let binaryString = '';\n  while (number > 0) {\n    rem = Math.floor(number % 2);\n    remStack.push(rem);\n    number = Math.floor(number / 2);\n  }\n  while (!remStack.isEmpty()) {\n    binaryString += remStack.pop().toString();\n  }\n  return binaryString;\n}\n```\n\n****\n\n```javascript\nfunction baseConverter(decNumber, base) {\n  const remStack = new Stack();\n  const digits = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'; // {6}\n  let number = decNumber;\n  let rem;\n  let baseString = '';\n  if (!(base >= 2 && base <= 36)) {\n    return '';\n  }\n  while (number > 0) {\n    rem = Math.floor(number % base);\n    remStack.push(rem);\n    number = Math.floor(number / base);\n  }\n  while (!remStack.isEmpty()) {\n    baseString += digits[remStack.pop()]; // {7}\n  }\n  return baseString;\n}\n```\n","slug":"33-data-structure1","published":1,"updated":"2022-09-23T07:51:52.037Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gx2001fcktt6xzveimz","content":"<p>ECMAScript  javascript <br>ECMAScript JavaScript ()</p>\n<p>ES5ES6ES2015ES7ES2016ES8ES2017  ES.Next </p>\n<p>(1)2009  12  ECMAScript5( ES5 ES  ECMAScript )</p>\n<p>(2)ECMAScript2015(ES2015) 2015  6  ECMAScript <br>ECMAScript  ECMAScript2015(ES6)</p>\n<p>(3)2016  6 ECMAScript  ECMAScript2016  ES2016(ES7)</p>\n<p>(4)2017  6 ECMAScript  ECMAScript2017  ES2017(ES8)</p>\n<p>(5)ES.Next  ECMAScript</p>\n<p>ES6 <a href=\"http://kangax.github.io/compat-table/es6/\">http://kangax.github.io/compat-table/es6/</a><br>ES7 <a href=\"http://kangax.github.io/compat-table/es2016plus/\">http://kangax.github.io/compat-table/es2016plus/</a></p>\n<p>ES5  class <br>(1) get  set  get  set <br>(2)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Person</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">name</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>._name = name; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">get</span> <span class=\"title\">name</span>() &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>._name;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">set</span> <span class=\"title\">name</span>(<span class=\"params\">value</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>._name = value;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> lotrChar = <span class=\"keyword\">new</span> Person(<span class=\"string\">&#x27;Frodo&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(lotrChar.name); <span class=\"comment\">// &#123;4&#125; // Frodo</span></span><br><span class=\"line\">lotrChar.name = <span class=\"string\">&#x27;Gandalf&#x27;</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(lotrChar.name); <span class=\"comment\">// Gandalf</span></span><br><span class=\"line\">lotrChar._name = <span class=\"string\">&#x27;Sam&#x27;</span>; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(lotrChar.name); <span class=\"comment\">// Sam</span></span><br></pre></td></tr></table></figure>\n\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> area = <span class=\"number\">3.14</span> * r * r;</span><br><span class=\"line\"><span class=\"keyword\">const</span> area = <span class=\"number\">3.14</span> * <span class=\"built_in\">Math</span>.pow(r, <span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"comment\">// ES2016 **</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> area = <span class=\"number\">3.14</span> * r ** <span class=\"number\">2</span>;</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript\">JavaScript  ECMAScript </a></p>\n<h6 id=\"TypeScript\"><a href=\"#TypeScript\" class=\"headerlink\" title=\"TypeScript\"></a>TypeScript</h6><p>TypeScript .<br>(1)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">interface Person &#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>: string;</span><br><span class=\"line\">  age: number;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">printName</span>(<span class=\"params\">person: Person</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(person.name);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/** Comparable  MyObject  compareTo </span></span><br><span class=\"line\"><span class=\"comment\">**/</span></span><br><span class=\"line\">interface Comparable &#123;</span><br><span class=\"line\">  compareTo(b): number;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyObject</span> <span class=\"title\">implements</span> <span class=\"title\">Comparable</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"attr\">age</span>: number;</span><br><span class=\"line\">  compareTo(b): number &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.age === b.age) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.age &gt; b.age ? <span class=\"number\">1</span> : -<span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>JavaScript  TypeScript JavaScript  // @ts-check</strong></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>JavaScript </p>\n<p>(1)@@iterator <br>ES2015  Array @@iterator  Symbol.iterator </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> numbers = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">8</span>, <span class=\"number\">9</span>];</span><br><span class=\"line\"><span class=\"keyword\">let</span> iterator = numbers[<span class=\"built_in\">Symbol</span>.iterator]();</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(iterator.next().value); <span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(iterator.next().value); <span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(iterator.next().value); <span class=\"comment\">// 3</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(iterator.next().value); <span class=\"comment\">// 4</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(iterator.next().value); <span class=\"comment\">// 5</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> numbers = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">8</span>, <span class=\"number\">9</span>];</span><br><span class=\"line\">iterator = numbers[<span class=\"built_in\">Symbol</span>.iterator]();</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> n <span class=\"keyword\">of</span> iterator) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(n);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">let</span> numbers2 = <span class=\"built_in\">Array</span>.from(numbers);</span><br><span class=\"line\"><span class=\"keyword\">let</span> numbers3 = <span class=\"built_in\">Array</span>.of(...numbers);</span><br></pre></td></tr></table></figure>\n\n<p>(2)copyWithin<br>copyWithin </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">copyArray = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>];</span><br><span class=\"line\">copyArray.copyWithin(<span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>);</span><br><span class=\"line\"><span class=\"comment\">// copyWithin()</span></span><br><span class=\"line\"><span class=\"comment\">// [1, 4, 5, 4, 5, 6]</span></span><br></pre></td></tr></table></figure>\n\n<p>(3)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> friends = [</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;John&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">30</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;Ana&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">20</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;Chris&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">25</span> &#125;, <span class=\"comment\">// ES2017 </span></span><br><span class=\"line\">];</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">comparePerson</span>(<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (a.age &lt; b.age) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (a.age &gt; b.age) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(friends.sort(comparePerson));</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">[ </span></span><br><span class=\"line\"><span class=\"comment\"> &#123; name: &#x27;Ana&#x27;, age: 20 &#125;, </span></span><br><span class=\"line\"><span class=\"comment\"> &#123; name: &#x27;Chris&#x27;, age: 25 &#125;,</span></span><br><span class=\"line\"><span class=\"comment\"> &#123; name: &#x27;John&#x27;, age: 30 &#125;, </span></span><br><span class=\"line\"><span class=\"comment\">]</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> names = [<span class=\"string\">&#x27;Ana&#x27;</span>, <span class=\"string\">&#x27;ana&#x27;</span>, <span class=\"string\">&#x27;john&#x27;</span>, <span class=\"string\">&#x27;John&#x27;</span>]; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(</span><br><span class=\"line\">  names.sort(<span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (a.toLowerCase() &lt; b.toLowerCase()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (a.toLowerCase() &gt; b.toLowerCase()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">);</span><br><span class=\"line\"><span class=\"comment\">//  localeCompare </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> names = [<span class=\"string\">&#x27;Ana&#x27;</span>, <span class=\"string\">&#x27;ana&#x27;</span>, <span class=\"string\">&#x27;john&#x27;</span>, <span class=\"string\">&#x27;John&#x27;</span>];</span><br><span class=\"line\">names.sort(<span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a.localeCompare(b));</span><br><span class=\"line\"><span class=\"comment\">// [&#x27;ana&#x27;, &#x27;Ana&#x27;, &#x27;john&#x27;, &#x27;John&#x27;]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> names2 = [<span class=\"string\">&#x27;Mave&#x27;</span>, <span class=\"string\">&#x27;Maeve&#x27;</span>];</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(names2.sort(<span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a.localeCompare(b)));</span><br><span class=\"line\"><span class=\"comment\">// [&quot;Maeve&quot;, &quot;Mave&quot;]</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Int8Array</td>\n<td>8 </td>\n</tr>\n<tr>\n<td>Uint8Array</td>\n<td>8 </td>\n</tr>\n<tr>\n<td>Uint8ClampedArray</td>\n<td>8 </td>\n</tr>\n<tr>\n<td>Int16Array</td>\n<td>16 </td>\n</tr>\n<tr>\n<td>Uint16Array</td>\n<td>16 </td>\n</tr>\n<tr>\n<td>Int32Array</td>\n<td>32 </td>\n</tr>\n<tr>\n<td>Uint32Array</td>\n<td>32 </td>\n</tr>\n<tr>\n<td>Float32Array</td>\n<td>32  IEEE </td>\n</tr>\n<tr>\n<td>Float64Array</td>\n<td>64  IEEE </td>\n</tr>\n</tbody></table>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> length = <span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> int16 = <span class=\"keyword\">new</span> <span class=\"built_in\">Int16Array</span>(length);</span><br><span class=\"line\"><span class=\"keyword\">let</span> array16 = [];</span><br><span class=\"line\">array16.length = length;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">  int16[i] = i + <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(int16);</span><br></pre></td></tr></table></figure>\n\n<p>WebGL API</p>\n<p><a href=\"https://web.dev/webgl-typed-arrays/\"></a></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>LIFO</p>\n<p></p>\n<p>(1)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Stack</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = [];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">push</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items.push(element);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">pop</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items.pop();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">peek</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.items.length - <span class=\"number\">1</span>];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  true false</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items.length === <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  length </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items.length;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">clear</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = [];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong> O(n)O(n) n </strong><br>(2) JavaScript  Stack </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Stack</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>; <span class=\"comment\">// count ,</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// ,</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">push</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count] = element;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count++;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count === <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">pop</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count--;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> result = <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count];</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count];</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">peek</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count - <span class=\"number\">1</span>];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">clear</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"comment\">//  while (!this.isEmpty()) &#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//  this.pop();</span></span><br><span class=\"line\">    <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> objString = <span class=\"string\">`<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.items[<span class=\"number\">0</span>]&#125;</span>`</span>; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; <span class=\"built_in\">this</span>.count; i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      objString = <span class=\"string\">`<span class=\"subst\">$&#123;objString&#125;</span>,<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.items[i]&#125;</span>`</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> objString;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>javascript </strong><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Stack</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>._count = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>._items = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><em>_</em></p>\n<p><strong> ES2015  Symbol </strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> _items = <span class=\"built_in\">Symbol</span>(<span class=\"string\">&#x27;stackItems&#x27;</span>);</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Stack</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>[_items] = [];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> stack = <span class=\"keyword\">new</span> Stack();</span><br><span class=\"line\">stack.push(<span class=\"number\">5</span>);</span><br><span class=\"line\">stack.push(<span class=\"number\">8</span>);</span><br><span class=\"line\"><span class=\"keyword\">let</span> objectSymbols = <span class=\"built_in\">Object</span>.getOwnPropertySymbols(stack);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(objectSymbols.length); <span class=\"comment\">//  1</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(objectSymbols); <span class=\"comment\">// [Symbol()]</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(objectSymbols[<span class=\"number\">0</span>]); <span class=\"comment\">// Symbol()</span></span><br><span class=\"line\">stack[objectSymbols[<span class=\"number\">0</span>]].push(<span class=\"number\">1</span>);</span><br><span class=\"line\">stack.print(); <span class=\"comment\">//  5, 8, 1</span></span><br></pre></td></tr></table></figure>\n\n<p><em> stack[objectSymbols[0]]_items,_items </em></p>\n<p><strong> ES2015  WeakMap </strong><br>WeakMap </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> items = <span class=\"keyword\">new</span> <span class=\"built_in\">WeakMap</span>(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Stack</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    items.set(<span class=\"built_in\">this</span>, []); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">push</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> s = items.get(<span class=\"built_in\">this</span>); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    s.push(element);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">pop</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> s = items.get(<span class=\"built_in\">this</span>);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> r = s.pop();</span><br><span class=\"line\">    <span class=\"keyword\">return</span> r;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><em></em></p>\n<p><strong>ECMAScript </strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Stack</span> </span>&#123;</span><br><span class=\"line\">  #count = <span class=\"number\">0</span>;</span><br><span class=\"line\">  #items = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">decimalToBinary</span>(<span class=\"params\">decNumber</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> remStack = <span class=\"keyword\">new</span> Stack();</span><br><span class=\"line\">  <span class=\"keyword\">let</span> number = decNumber;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> rem;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> binaryString = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (number &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    rem = <span class=\"built_in\">Math</span>.floor(number % <span class=\"number\">2</span>);</span><br><span class=\"line\">    remStack.push(rem);</span><br><span class=\"line\">    number = <span class=\"built_in\">Math</span>.floor(number / <span class=\"number\">2</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (!remStack.isEmpty()) &#123;</span><br><span class=\"line\">    binaryString += remStack.pop().toString();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> binaryString;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">baseConverter</span>(<span class=\"params\">decNumber, base</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> remStack = <span class=\"keyword\">new</span> Stack();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> digits = <span class=\"string\">&#x27;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ&#x27;</span>; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> number = decNumber;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> rem;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> baseString = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!(base &gt;= <span class=\"number\">2</span> &amp;&amp; base &lt;= <span class=\"number\">36</span>)) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (number &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    rem = <span class=\"built_in\">Math</span>.floor(number % base);</span><br><span class=\"line\">    remStack.push(rem);</span><br><span class=\"line\">    number = <span class=\"built_in\">Math</span>.floor(number / base);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (!remStack.isEmpty()) &#123;</span><br><span class=\"line\">    baseString += digits[remStack.pop()]; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> baseString;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<p>ECMAScript  javascript <br>ECMAScript JavaScript ()</p>\n<p>ES5ES6ES2015ES7ES2016ES8ES2017  ES.Next </p>\n<p>(1)2009  12  ECMAScript5( ES5 ES  ECMAScript )</p>\n<p>(2)ECMAScript2015(ES2015) 2015  6  ECMAScript <br>ECMAScript  ECMAScript2015(ES6)</p>\n<p>(3)2016  6 ECMAScript  ECMAScript2016  ES2016(ES7)</p>\n<p>(4)2017  6 ECMAScript  ECMAScript2017  ES2017(ES8)</p>\n<p>(5)ES.Next  ECMAScript</p>\n<p>ES6 <a href=\"http://kangax.github.io/compat-table/es6/\">http://kangax.github.io/compat-table/es6/</a><br>ES7 <a href=\"http://kangax.github.io/compat-table/es2016plus/\">http://kangax.github.io/compat-table/es2016plus/</a></p>\n<p>ES5  class <br>(1) get  set  get  set <br>(2)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Person</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">name</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>._name = name; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">get</span> <span class=\"title\">name</span>() &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>._name;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">set</span> <span class=\"title\">name</span>(<span class=\"params\">value</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>._name = value;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> lotrChar = <span class=\"keyword\">new</span> Person(<span class=\"string\">&#x27;Frodo&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(lotrChar.name); <span class=\"comment\">// &#123;4&#125; // Frodo</span></span><br><span class=\"line\">lotrChar.name = <span class=\"string\">&#x27;Gandalf&#x27;</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(lotrChar.name); <span class=\"comment\">// Gandalf</span></span><br><span class=\"line\">lotrChar._name = <span class=\"string\">&#x27;Sam&#x27;</span>; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(lotrChar.name); <span class=\"comment\">// Sam</span></span><br></pre></td></tr></table></figure>\n\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> area = <span class=\"number\">3.14</span> * r * r;</span><br><span class=\"line\"><span class=\"keyword\">const</span> area = <span class=\"number\">3.14</span> * <span class=\"built_in\">Math</span>.pow(r, <span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"comment\">// ES2016 **</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> area = <span class=\"number\">3.14</span> * r ** <span class=\"number\">2</span>;</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript\">JavaScript  ECMAScript </a></p>\n<h6 id=\"TypeScript\"><a href=\"#TypeScript\" class=\"headerlink\" title=\"TypeScript\"></a>TypeScript</h6><p>TypeScript .<br>(1)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">interface Person &#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>: string;</span><br><span class=\"line\">  age: number;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">printName</span>(<span class=\"params\">person: Person</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(person.name);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/** Comparable  MyObject  compareTo </span></span><br><span class=\"line\"><span class=\"comment\">**/</span></span><br><span class=\"line\">interface Comparable &#123;</span><br><span class=\"line\">  compareTo(b): number;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyObject</span> <span class=\"title\">implements</span> <span class=\"title\">Comparable</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"attr\">age</span>: number;</span><br><span class=\"line\">  compareTo(b): number &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.age === b.age) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.age &gt; b.age ? <span class=\"number\">1</span> : -<span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>JavaScript  TypeScript JavaScript  // @ts-check</strong></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>JavaScript </p>\n<p>(1)@@iterator <br>ES2015  Array @@iterator  Symbol.iterator </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> numbers = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">8</span>, <span class=\"number\">9</span>];</span><br><span class=\"line\"><span class=\"keyword\">let</span> iterator = numbers[<span class=\"built_in\">Symbol</span>.iterator]();</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(iterator.next().value); <span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(iterator.next().value); <span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(iterator.next().value); <span class=\"comment\">// 3</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(iterator.next().value); <span class=\"comment\">// 4</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(iterator.next().value); <span class=\"comment\">// 5</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> numbers = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">8</span>, <span class=\"number\">9</span>];</span><br><span class=\"line\">iterator = numbers[<span class=\"built_in\">Symbol</span>.iterator]();</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> n <span class=\"keyword\">of</span> iterator) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(n);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">let</span> numbers2 = <span class=\"built_in\">Array</span>.from(numbers);</span><br><span class=\"line\"><span class=\"keyword\">let</span> numbers3 = <span class=\"built_in\">Array</span>.of(...numbers);</span><br></pre></td></tr></table></figure>\n\n<p>(2)copyWithin<br>copyWithin </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">copyArray = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>];</span><br><span class=\"line\">copyArray.copyWithin(<span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>);</span><br><span class=\"line\"><span class=\"comment\">// copyWithin()</span></span><br><span class=\"line\"><span class=\"comment\">// [1, 4, 5, 4, 5, 6]</span></span><br></pre></td></tr></table></figure>\n\n<p>(3)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> friends = [</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;John&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">30</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;Ana&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">20</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;Chris&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">25</span> &#125;, <span class=\"comment\">// ES2017 </span></span><br><span class=\"line\">];</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">comparePerson</span>(<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (a.age &lt; b.age) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (a.age &gt; b.age) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(friends.sort(comparePerson));</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">[ </span></span><br><span class=\"line\"><span class=\"comment\"> &#123; name: &#x27;Ana&#x27;, age: 20 &#125;, </span></span><br><span class=\"line\"><span class=\"comment\"> &#123; name: &#x27;Chris&#x27;, age: 25 &#125;,</span></span><br><span class=\"line\"><span class=\"comment\"> &#123; name: &#x27;John&#x27;, age: 30 &#125;, </span></span><br><span class=\"line\"><span class=\"comment\">]</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> names = [<span class=\"string\">&#x27;Ana&#x27;</span>, <span class=\"string\">&#x27;ana&#x27;</span>, <span class=\"string\">&#x27;john&#x27;</span>, <span class=\"string\">&#x27;John&#x27;</span>]; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(</span><br><span class=\"line\">  names.sort(<span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (a.toLowerCase() &lt; b.toLowerCase()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (a.toLowerCase() &gt; b.toLowerCase()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">);</span><br><span class=\"line\"><span class=\"comment\">//  localeCompare </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> names = [<span class=\"string\">&#x27;Ana&#x27;</span>, <span class=\"string\">&#x27;ana&#x27;</span>, <span class=\"string\">&#x27;john&#x27;</span>, <span class=\"string\">&#x27;John&#x27;</span>];</span><br><span class=\"line\">names.sort(<span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a.localeCompare(b));</span><br><span class=\"line\"><span class=\"comment\">// [&#x27;ana&#x27;, &#x27;Ana&#x27;, &#x27;john&#x27;, &#x27;John&#x27;]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> names2 = [<span class=\"string\">&#x27;Mave&#x27;</span>, <span class=\"string\">&#x27;Maeve&#x27;</span>];</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(names2.sort(<span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a.localeCompare(b)));</span><br><span class=\"line\"><span class=\"comment\">// [&quot;Maeve&quot;, &quot;Mave&quot;]</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Int8Array</td>\n<td>8 </td>\n</tr>\n<tr>\n<td>Uint8Array</td>\n<td>8 </td>\n</tr>\n<tr>\n<td>Uint8ClampedArray</td>\n<td>8 </td>\n</tr>\n<tr>\n<td>Int16Array</td>\n<td>16 </td>\n</tr>\n<tr>\n<td>Uint16Array</td>\n<td>16 </td>\n</tr>\n<tr>\n<td>Int32Array</td>\n<td>32 </td>\n</tr>\n<tr>\n<td>Uint32Array</td>\n<td>32 </td>\n</tr>\n<tr>\n<td>Float32Array</td>\n<td>32  IEEE </td>\n</tr>\n<tr>\n<td>Float64Array</td>\n<td>64  IEEE </td>\n</tr>\n</tbody></table>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> length = <span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> int16 = <span class=\"keyword\">new</span> <span class=\"built_in\">Int16Array</span>(length);</span><br><span class=\"line\"><span class=\"keyword\">let</span> array16 = [];</span><br><span class=\"line\">array16.length = length;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">  int16[i] = i + <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(int16);</span><br></pre></td></tr></table></figure>\n\n<p>WebGL API</p>\n<p><a href=\"https://web.dev/webgl-typed-arrays/\"></a></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>LIFO</p>\n<p></p>\n<p>(1)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Stack</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = [];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">push</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items.push(element);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">pop</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items.pop();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">peek</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.items.length - <span class=\"number\">1</span>];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  true false</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items.length === <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  length </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items.length;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">clear</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = [];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong> O(n)O(n) n </strong><br>(2) JavaScript  Stack </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Stack</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>; <span class=\"comment\">// count ,</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// ,</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">push</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count] = element;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count++;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.count === <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">pop</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count--;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> result = <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count];</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count];</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">peek</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.items[<span class=\"built_in\">this</span>.count - <span class=\"number\">1</span>];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">clear</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.count = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"comment\">//  while (!this.isEmpty()) &#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//  this.pop();</span></span><br><span class=\"line\">    <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> objString = <span class=\"string\">`<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.items[<span class=\"number\">0</span>]&#125;</span>`</span>; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; <span class=\"built_in\">this</span>.count; i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      objString = <span class=\"string\">`<span class=\"subst\">$&#123;objString&#125;</span>,<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.items[i]&#125;</span>`</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> objString;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>javascript </strong><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Stack</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>._count = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>._items = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><em>_</em></p>\n<p><strong> ES2015  Symbol </strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> _items = <span class=\"built_in\">Symbol</span>(<span class=\"string\">&#x27;stackItems&#x27;</span>);</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Stack</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>[_items] = [];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> stack = <span class=\"keyword\">new</span> Stack();</span><br><span class=\"line\">stack.push(<span class=\"number\">5</span>);</span><br><span class=\"line\">stack.push(<span class=\"number\">8</span>);</span><br><span class=\"line\"><span class=\"keyword\">let</span> objectSymbols = <span class=\"built_in\">Object</span>.getOwnPropertySymbols(stack);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(objectSymbols.length); <span class=\"comment\">//  1</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(objectSymbols); <span class=\"comment\">// [Symbol()]</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(objectSymbols[<span class=\"number\">0</span>]); <span class=\"comment\">// Symbol()</span></span><br><span class=\"line\">stack[objectSymbols[<span class=\"number\">0</span>]].push(<span class=\"number\">1</span>);</span><br><span class=\"line\">stack.print(); <span class=\"comment\">//  5, 8, 1</span></span><br></pre></td></tr></table></figure>\n\n<p><em> stack[objectSymbols[0]]_items,_items </em></p>\n<p><strong> ES2015  WeakMap </strong><br>WeakMap </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> items = <span class=\"keyword\">new</span> <span class=\"built_in\">WeakMap</span>(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Stack</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    items.set(<span class=\"built_in\">this</span>, []); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">push</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> s = items.get(<span class=\"built_in\">this</span>); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    s.push(element);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">pop</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> s = items.get(<span class=\"built_in\">this</span>);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> r = s.pop();</span><br><span class=\"line\">    <span class=\"keyword\">return</span> r;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><em></em></p>\n<p><strong>ECMAScript </strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Stack</span> </span>&#123;</span><br><span class=\"line\">  #count = <span class=\"number\">0</span>;</span><br><span class=\"line\">  #items = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">decimalToBinary</span>(<span class=\"params\">decNumber</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> remStack = <span class=\"keyword\">new</span> Stack();</span><br><span class=\"line\">  <span class=\"keyword\">let</span> number = decNumber;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> rem;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> binaryString = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (number &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    rem = <span class=\"built_in\">Math</span>.floor(number % <span class=\"number\">2</span>);</span><br><span class=\"line\">    remStack.push(rem);</span><br><span class=\"line\">    number = <span class=\"built_in\">Math</span>.floor(number / <span class=\"number\">2</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (!remStack.isEmpty()) &#123;</span><br><span class=\"line\">    binaryString += remStack.pop().toString();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> binaryString;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">baseConverter</span>(<span class=\"params\">decNumber, base</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> remStack = <span class=\"keyword\">new</span> Stack();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> digits = <span class=\"string\">&#x27;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ&#x27;</span>; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> number = decNumber;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> rem;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> baseString = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!(base &gt;= <span class=\"number\">2</span> &amp;&amp; base &lt;= <span class=\"number\">36</span>)) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (number &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    rem = <span class=\"built_in\">Math</span>.floor(number % base);</span><br><span class=\"line\">    remStack.push(rem);</span><br><span class=\"line\">    number = <span class=\"built_in\">Math</span>.floor(number / base);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (!remStack.isEmpty()) &#123;</span><br><span class=\"line\">    baseString += digits[remStack.pop()]; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> baseString;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"(3)","date":"2022-09-29T02:49:51.000Z","_content":"\n#### \n\n\n\n###### \n\n```javascript\nclass Set {\n  constructor() {\n    this.items = {};\n  }\n  has(element) {\n    return element in items;\n  }\n  // Object  hasOwnProperty \n  // in \n  // has(element) {\n  //   return Object.prototype.hasOwnProperty.call(this.items, element);\n  // }\n  add(element) {\n    if (!this.has(element)) {\n      this.items[element] = element; // {1}\n      return true;\n    }\n    return false;\n  }\n  delete(element) {\n    if (this.has(element)) {\n      delete this.items[element]; // {1}\n      return true;\n    }\n    return false;\n  }\n  clear() {\n    this.items = {}; // {2}\n  }\n  size() {\n    return Object.keys(this.items).length; // {1}\n  }\n  // sizeLegacy() {\n  //  let count = 0;\n  //  for(let key in this.items) { // {2}\n  //  for-in  items  count \n  //  has  items \n  //  JavaScript  Object \n  // \n  //  if(this.items.hasOwnProperty(key)) { // {3}\n  //  count++; // {4}\n  //  }\n  //  return count;\n  // }\n  values() {\n    return Object.values(this.items);\n  }\n  // valuesLegacy() {\n  //  let values = [];\n  //  for(let key in this.items) { // {1}\n  //    if(this.items.hasOwnProperty(key)) {\n  //       values.push(key); // {2}\n  //    }\n  //  }\n  //  return values;\n  // }\n}\n```\n\n###### \n\n(1)\n\n```javascript\n// \nunion(otherSet) {\n  const unionSet = new Set(); // {1}\n  //  Set values\n  this.values().forEach(value => unionSet.add(value)); // {2}\n  otherSet.values().forEach(value => unionSet.add(value)); // {3}\n  return unionSet;\n}\nconst setA = new Set();\nsetA.add(1);\nsetA.add(2);\nsetA.add(3);\nconst setB = new Set();\nsetB.add(3);\nsetB.add(4);\nsetB.add(5);\nsetB.add(6);\nconst unionAB = setA.union(setB);\nconsole.log(unionAB.values());\n// [1,2,3,4,5,6]\n```\n\n(2)\n\n```javascript\nintersection(otherSet) {\n const intersectionSet = new Set(); // {1}\n const values = this.values();\n for (let i = 0; i < values.length; i++) { // {2}\n   if (otherSet.has(values[i])) { // {3}\n     intersectionSet.add(values[i]); // {4}\n   }\n }\n return intersectionSet;\n}\n\nconst setA = new Set();\nsetA.add(1);\nsetA.add(2);\nsetA.add(3);\nconst setB = new Set();\nsetB.add(2);\nsetB.add(3);\nsetB.add(4);\nconst intersectionAB = setA.intersection(setB);\nconsole.log(intersectionAB.values());\n// [2,3]\n\n// \nintersection(otherSet) {\n const intersectionSet = new Set(); // {1}\n const values = this.values(); // {2}\n const otherValues = otherSet.values(); // {3}\n let biggerSet = values; // {4}\n let smallerSet = otherValues; // {5}\n\n if (otherValues.length - values.length > 0) { // {6}\n   biggerSet = otherValues;\n   smallerSet = values;\n }\n smallerSet.forEach(value => { // {7}\n   if (biggerSet.includes(value)) {\n     intersectionSet.add(value);\n   }\n });\n return intersectionSet;\n}\n```\n\n(3)\n\n```javascript\ndifference(otherSet) {\n  const differenceSet = new Set(); // {1}\n  this.values().forEach(value => { // {2}\n    if (!otherSet.has(value)) { // {3}\n      differenceSet.add(value); // {4}\n    }\n  });\n  return differenceSet;\n}\n\nconst setA = new Set();\nsetA.add(1);\nsetA.add(2);\nsetA.add(3);\nconst setB = new Set();\nsetB.add(2);\nsetB.add(3);\nsetB.add(4);\nconst differenceAB = setA.difference(setB);\nconsole.log(differenceAB.values());\n// [1]\n```\n\n(4)\n\n```javascript\nisSubsetOf(otherSet) {\n  if (this.size() > otherSet.size()) { // {1}\n    return false;\n  }\n  let isSubset = true; // {2}\n  //  trueevery {6} false\n  this.values().every(value => { // {3}\n    if (!otherSet.has(value)) { // {4}\n      isSubset = false; // {5}\n      return false;\n    }\n    return true; // {6}\n  });\n  return isSubset; // {7}\n}\n\nconst setA = new Set();\nsetA.add(1);\nsetA.add(2);\nconst setB = new Set();\nsetB.add(1);\nsetB.add(2);\nsetB.add(3);\nconst setC = new Set();\nsetC.add(2);\nsetC.add(3);\nsetC.add(4);\nconsole.log(setA.isSubsetOf(setB));\n// true\nconsole.log(setA.isSubsetOf(setC));\n// false\n```\n\n###### \n\n```javascript\n// \nconsole.log(new Set([...setA, ...setB]));\n\n// \nconsole.log(new Set([...setA].filter((x) => setB.has(x))));\n\n// \nconsole.log(new Set([...setA].filter((x) => !setB.has(x))));\n```\n\n#### \n\n###### \n\n[]\n[][]\n\n\n```javascript\n// util.js\nexport function defaultToString(item) {\n  if (item === null) {\n    return 'NULL';\n  } else if (item === undefined) {\n    return 'UNDEFINED';\n  } else if (typeof item === 'string' || item instanceof String) {\n    return `${item}`;\n  }\n  return item.toString(); // {1}\n}\n\nclass ValuePair {\n  constructor(key, value) {\n    this.key = key;\n    this.value = value;\n  }\n  toString() {\n    return `[#${this.key}: ${this.value}]`;\n  }\n}\n\nimport { defaultToString } from '../util';\nexport default class Dictionary {\n  constructor(toStrFn = defaultToString) {\n    this.toStrFn = toStrFn; // {1}\n    this.table = {}; // {2}\n  }\n  // \n  hasKey(key) {\n    return this.table[this.toStrFn(key)] != null;\n  }\n  //  ValuePair \n  set(key, value) {\n    if (key != null && value != null) {\n      const tableKey = this.toStrFn(key); // {1}\n      this.table[tableKey] = new ValuePair(key, value); // {2}\n      return true;\n    }\n    return false;\n  }\n  // \n  remove(key) {\n    if (this.hasKey(key)) {\n      delete this.table[this.toStrFn(key)];\n      return true;\n    }\n    return false;\n  }\n  // \n  get(key) {\n    const valuePair = this.table[this.toStrFn(key)]; // {1}\n    return valuePair == null ? undefined : valuePair.value; // {2}\n  }\n  keyValues() {\n    return Object.values(this.table);\n  }\n  keys() {\n    return this.keyValues().map((valuePair) => valuePair.key);\n  }\n  values() {\n    return this.keyValues().map((valuePair) => valuePair.value);\n  }\n  forEach(callbackFn) {\n    const valuePairs = this.keyValues(); // {1}\n    for (let i = 0; i < valuePairs.length; i++) {\n      // {2}\n      const result = callbackFn(valuePairs[i].key, valuePairs[i].value); // {3}\n      if (result === false) {\n        break; // {4}\n      }\n    }\n  }\n  size() {\n    return Object.keys(this.table).length;\n  }\n  isEmpty() {\n    return this.size() === 0;\n  }\n  clear() {\n    this.table = {};\n  }\n  toString() {\n    if (this.isEmpty()) {\n      return '';\n    }\n    const valuePairs = this.keyValues();\n    let objString = `${valuePairs[0].toString()}`; // {1}\n    for (let i = 1; i < valuePairs.length; i++) {\n      objString = `${objString},${valuePairs[i].toString()}`; // {2}\n    }\n    return objString; // {3}\n  }\n}\n```\n\n###### \n\n\n\n\n\n:\n(1) MySQLMicrosoft SQL ServerOracle key\n(2)JavaScript  key  key \n\n ---- lose lose \n![lose-lose](lose-lose.png)\n\nHashTable  Dictionary  Dictionary \n valuePair  table  key \n HashTable  keyhash valuePair \n hash \n\n```javascript\nclass HashTable {\n  constructor(toStrFn = defaultToString) {\n    this.toStrFn = toStrFn;\n    this.table = {};\n  }\n  // \n  loseloseHashCode(key) {\n    if (typeof key === 'number') {\n      // {1}\n      return key;\n    }\n    const tableKey = this.toStrFn(key); // {2}\n    //  key  ASCII \n    let hash = 0; // {3}\n    for (let i = 0; i < tableKey.length; i++) {\n      hash += tableKey.charCodeAt(i); // {4}\n    }\n    //  hash %{5}\n    // \n    return hash % 37; // {5}\n  }\n  hashCode(key) {\n    return this.loseloseHashCode(key);\n  }\n  put(key, value) {\n    if (key != null && value != null) {\n      // {1}\n      const position = this.hashCode(key); // {2}\n      this.table[position] = new ValuePair(key, value); // {3}\n      return true;\n    }\n    return false;\n  }\n  get(key) {\n    const valuePair = this.table[this.hashCode(key)];\n    return valuePair == null ? undefined : valuePair.value;\n  }\n  remove(key) {\n    const hash = this.hashCode(key); // {1}\n    const valuePair = this.table[hash]; // {2}\n    if (valuePair != null) {\n      delete this.table[hash]; // {3}\n      return true;\n    }\n    return false;\n  }\n}\n\nconst hash = new HashTable();\nhash.put('Gandalf', 'gandalf@email.com');\nhash.put('John', 'johnsnow@email.com');\nhash.put('Tyrion', 'tyrion@email.com');\nconsole.log(hash.hashCode('Gandalf') + ' - Gandalf');\nconsole.log(hash.hashCode('John') + ' - John');\nconsole.log(hash.hashCode('Tyrion') + ' - Tyrion');\n// 19 - Gandalf\n// 29 - John\n// 16 - Tyrion\n```\n\n****\n hashCode \n\n\n****\n\n\n\n\n(1)\n\n HashTable \n![sperate-chain](sperate-chain.png)\n\n```javascript\nclass HashTableSeparateChaining {\n  constructor(toStrFn = defaultToString) {\n    this.toStrFn = toStrFn;\n    this.table = {};\n  }\n  put(key, value) {\n    if (key != null && value != null) {\n      const position = this.hashCode(key);\n      //  \n      if (this.table[position] == null) {\n        // {1}\n        this.table[position] = new LinkedList(); // {2}\n      }\n      this.table[position].push(new ValuePair(key, value)); // {3}\n      return true;\n    }\n    return false;\n  }\n  //  get  key put \n  // LinkedList LinkedList  equalsFn key\n  //  ValuePair LinkedList ===\n  //  ValuePair  get \n  //  indexOf  key\n  //  getElementAt  ValuePair \n  get(key) {\n    const position = this.hashCode(key);\n    const linkedList = this.table[position]; // {1}\n    if (linkedList != null && !linkedList.isEmpty()) {\n      // {2}\n      let current = linkedList.getHead(); // {3}\n      while (current != null) {\n        // {4}\n        if (current.element.key === key) {\n          // {5}\n          return current.element.value; // {6}\n        }\n        current = current.next; // {7}\n      }\n    }\n    return undefined; // {8}\n  }\n  remove(key) {\n    const position = this.hashCode(key);\n    const linkedList = this.table[position];\n    if (linkedList != null && !linkedList.isEmpty()) {\n      let current = linkedList.getHead();\n      while (current != null) {\n        if (current.element.key === key) {\n          // {1}\n          linkedList.remove(current.element); // {2}\n          if (linkedList.isEmpty()) {\n            // {3}\n            delete this.table[position]; // {4}\n          }\n          return true; // {5}\n        }\n        current = current.next; // {6}\n      }\n    }\n    return false; // {7}\n  }\n}\n```\n\n(2)\n\n position  position+1  position+1  position+2 \n![linear-probing](linear-probing.png)\n\n\n\n\n![soft-delete](soft-delete.png)\n[](http://github.com/loiane/javascript-datastructures-algorithms)\n\n\n![move-key](move-key.png)\n\n```javascript\n// move-key\nclass HashTableSeparateChainingMoveKey {\n  constructor(toStrFn = defaultToString) {\n    this.toStrFn = toStrFn;\n    this.table = {};\n  }\n  put(key, value) {\n    if (key != null && value != null) {\n      const position = this.hashCode(key);\n      if (this.table[position] == null) {\n        // {1}\n        this.table[position] = new ValuePair(key, value); // {2}\n      } else {\n        let index = position + 1; // {3}\n        while (this.table[index] != null) {\n          // {4}\n          index++; // {5}\n        }\n        this.table[index] = new ValuePair(key, value); // {6}\n      }\n      return true;\n    }\n    return false;\n  }\n  // \n  // \n  // \n  //  JavaScript \n  //  JavaScript \n  // \n  get(key) {\n    const position = this.hashCode(key);\n    if (this.table[position] != null) {\n      // {1}\n      if (this.table[position].key === key) {\n        // {2}\n        return this.table[position].value; // {3}\n      }\n      let index = position + 1; // {4}\n      while (this.table[index] != null && this.table[index].key !== key) {\n        // {5}\n        index++;\n      }\n      if (this.table[index] != null && this.table[index].key === key) {\n        // {6}\n        return this.table[position].value; // {7}\n      }\n    }\n    return undefined; // {8}\n  }\n  remove(key) {\n    const position = this.hashCode(key);\n    if (this.table[position] != null) {\n      if (this.table[position].key === key) {\n        delete this.table[position]; // {1}\n        this.verifyRemoveSideEffect(key, position); // {2}\n        return true;\n      }\n      let index = position + 1;\n      while (this.table[index] != null && this.table[index].key !== key) {\n        index++;\n      }\n      if (this.table[index] != null && this.table[index].key === key) {\n        delete this.table[index]; // {3}\n        this.verifyRemoveSideEffect(key, index); // {4}\n        return true;\n      }\n    }\n    return false;\n  }\n  verifyRemoveSideEffect(key, removedPosition) {\n    const hash = this.hashCode(key); // {1}\n    let index = removedPosition + 1; // {2}\n    while (this.table[index] != null) {\n      // {3}\n      const posHash = this.hashCode(this.table[index].key); // {4}\n      if (posHash <= hash || posHash <= removedPosition) {\n        // {5}\n        this.table[removedPosition] = this.table[index]; // {6}\n        delete this.table[index];\n        removedPosition = index;\n      }\n      index++;\n    }\n  }\n}\n```\n\n****\n\n\n```javascript\ndjb2HashCode(key) {\n const tableKey = this.toStrFn(key); // {1}\n//   hash ,5381\n let hash = 5381; // {2}\n for (let i = 0; i < tableKey.length; i++) { // {3}\n//   hash  33 ASCII \n hash = (hash * 33) + tableKey.charCodeAt(i); // {4}\n }\n//  \n return hash % 1013; // {5}\n}\n// http://t.cn/Eqg1yb0\n```\n\n**ES2015 Map **\n\n```javascript\nconst map = new Map();\nmap.set('Gandalf', 'gandalf@email.com');\nmap.set('John', 'johnsnow@email.com');\nmap.set('Tyrion', 'tyrion@email.com');\nconsole.log(map.has('Gandalf')); // true\nconsole.log(map.size); // 3\nconsole.log(map.keys()); // {\"Gandalf\", \"John\", \"Tyrion\"}\nconsole.log(map.values()); // {\"gandalf@email.com\", \"johnsnow@email.com\",\n\"tyrion@email.com\"}\nconsole.log(map.get('Tyrion')); // tyrion@email.com\nmap.delete('John');\n```\n\n**ES2105 WeakMap  WeakSet **\nMap  Set :\n(1)WeakSet  WeakMap  entrieskeys  values \n(2)WeakSet  WeakMap \n\n```javascript\nconst map = new WeakMap();\nconst ob1 = { name: 'Gandalf' }; // {1}\nconst ob2 = { name: 'John' };\nconst ob3 = { name: 'Tyrion' };\nmap.set(ob1, 'gandalf@email.com'); // {2}\nmap.set(ob2, 'johnsnow@email.com');\nmap.set(ob3, 'tyrion@email.com');\nconsole.log(map.has(ob1)); // true {3}\nconsole.log(map.get(ob3)); // tyrion@email.com {4}\nmap.delete(ob2); // {5}\n```\n\nWeakMap  set \n","source":"_posts/35-data-structure3.md","raw":"---\ntitle: (3)\ndate: 2022-09-29 10:49:51\ntags:\n---\n\n#### \n\n\n\n###### \n\n```javascript\nclass Set {\n  constructor() {\n    this.items = {};\n  }\n  has(element) {\n    return element in items;\n  }\n  // Object  hasOwnProperty \n  // in \n  // has(element) {\n  //   return Object.prototype.hasOwnProperty.call(this.items, element);\n  // }\n  add(element) {\n    if (!this.has(element)) {\n      this.items[element] = element; // {1}\n      return true;\n    }\n    return false;\n  }\n  delete(element) {\n    if (this.has(element)) {\n      delete this.items[element]; // {1}\n      return true;\n    }\n    return false;\n  }\n  clear() {\n    this.items = {}; // {2}\n  }\n  size() {\n    return Object.keys(this.items).length; // {1}\n  }\n  // sizeLegacy() {\n  //  let count = 0;\n  //  for(let key in this.items) { // {2}\n  //  for-in  items  count \n  //  has  items \n  //  JavaScript  Object \n  // \n  //  if(this.items.hasOwnProperty(key)) { // {3}\n  //  count++; // {4}\n  //  }\n  //  return count;\n  // }\n  values() {\n    return Object.values(this.items);\n  }\n  // valuesLegacy() {\n  //  let values = [];\n  //  for(let key in this.items) { // {1}\n  //    if(this.items.hasOwnProperty(key)) {\n  //       values.push(key); // {2}\n  //    }\n  //  }\n  //  return values;\n  // }\n}\n```\n\n###### \n\n(1)\n\n```javascript\n// \nunion(otherSet) {\n  const unionSet = new Set(); // {1}\n  //  Set values\n  this.values().forEach(value => unionSet.add(value)); // {2}\n  otherSet.values().forEach(value => unionSet.add(value)); // {3}\n  return unionSet;\n}\nconst setA = new Set();\nsetA.add(1);\nsetA.add(2);\nsetA.add(3);\nconst setB = new Set();\nsetB.add(3);\nsetB.add(4);\nsetB.add(5);\nsetB.add(6);\nconst unionAB = setA.union(setB);\nconsole.log(unionAB.values());\n// [1,2,3,4,5,6]\n```\n\n(2)\n\n```javascript\nintersection(otherSet) {\n const intersectionSet = new Set(); // {1}\n const values = this.values();\n for (let i = 0; i < values.length; i++) { // {2}\n   if (otherSet.has(values[i])) { // {3}\n     intersectionSet.add(values[i]); // {4}\n   }\n }\n return intersectionSet;\n}\n\nconst setA = new Set();\nsetA.add(1);\nsetA.add(2);\nsetA.add(3);\nconst setB = new Set();\nsetB.add(2);\nsetB.add(3);\nsetB.add(4);\nconst intersectionAB = setA.intersection(setB);\nconsole.log(intersectionAB.values());\n// [2,3]\n\n// \nintersection(otherSet) {\n const intersectionSet = new Set(); // {1}\n const values = this.values(); // {2}\n const otherValues = otherSet.values(); // {3}\n let biggerSet = values; // {4}\n let smallerSet = otherValues; // {5}\n\n if (otherValues.length - values.length > 0) { // {6}\n   biggerSet = otherValues;\n   smallerSet = values;\n }\n smallerSet.forEach(value => { // {7}\n   if (biggerSet.includes(value)) {\n     intersectionSet.add(value);\n   }\n });\n return intersectionSet;\n}\n```\n\n(3)\n\n```javascript\ndifference(otherSet) {\n  const differenceSet = new Set(); // {1}\n  this.values().forEach(value => { // {2}\n    if (!otherSet.has(value)) { // {3}\n      differenceSet.add(value); // {4}\n    }\n  });\n  return differenceSet;\n}\n\nconst setA = new Set();\nsetA.add(1);\nsetA.add(2);\nsetA.add(3);\nconst setB = new Set();\nsetB.add(2);\nsetB.add(3);\nsetB.add(4);\nconst differenceAB = setA.difference(setB);\nconsole.log(differenceAB.values());\n// [1]\n```\n\n(4)\n\n```javascript\nisSubsetOf(otherSet) {\n  if (this.size() > otherSet.size()) { // {1}\n    return false;\n  }\n  let isSubset = true; // {2}\n  //  trueevery {6} false\n  this.values().every(value => { // {3}\n    if (!otherSet.has(value)) { // {4}\n      isSubset = false; // {5}\n      return false;\n    }\n    return true; // {6}\n  });\n  return isSubset; // {7}\n}\n\nconst setA = new Set();\nsetA.add(1);\nsetA.add(2);\nconst setB = new Set();\nsetB.add(1);\nsetB.add(2);\nsetB.add(3);\nconst setC = new Set();\nsetC.add(2);\nsetC.add(3);\nsetC.add(4);\nconsole.log(setA.isSubsetOf(setB));\n// true\nconsole.log(setA.isSubsetOf(setC));\n// false\n```\n\n###### \n\n```javascript\n// \nconsole.log(new Set([...setA, ...setB]));\n\n// \nconsole.log(new Set([...setA].filter((x) => setB.has(x))));\n\n// \nconsole.log(new Set([...setA].filter((x) => !setB.has(x))));\n```\n\n#### \n\n###### \n\n[]\n[][]\n\n\n```javascript\n// util.js\nexport function defaultToString(item) {\n  if (item === null) {\n    return 'NULL';\n  } else if (item === undefined) {\n    return 'UNDEFINED';\n  } else if (typeof item === 'string' || item instanceof String) {\n    return `${item}`;\n  }\n  return item.toString(); // {1}\n}\n\nclass ValuePair {\n  constructor(key, value) {\n    this.key = key;\n    this.value = value;\n  }\n  toString() {\n    return `[#${this.key}: ${this.value}]`;\n  }\n}\n\nimport { defaultToString } from '../util';\nexport default class Dictionary {\n  constructor(toStrFn = defaultToString) {\n    this.toStrFn = toStrFn; // {1}\n    this.table = {}; // {2}\n  }\n  // \n  hasKey(key) {\n    return this.table[this.toStrFn(key)] != null;\n  }\n  //  ValuePair \n  set(key, value) {\n    if (key != null && value != null) {\n      const tableKey = this.toStrFn(key); // {1}\n      this.table[tableKey] = new ValuePair(key, value); // {2}\n      return true;\n    }\n    return false;\n  }\n  // \n  remove(key) {\n    if (this.hasKey(key)) {\n      delete this.table[this.toStrFn(key)];\n      return true;\n    }\n    return false;\n  }\n  // \n  get(key) {\n    const valuePair = this.table[this.toStrFn(key)]; // {1}\n    return valuePair == null ? undefined : valuePair.value; // {2}\n  }\n  keyValues() {\n    return Object.values(this.table);\n  }\n  keys() {\n    return this.keyValues().map((valuePair) => valuePair.key);\n  }\n  values() {\n    return this.keyValues().map((valuePair) => valuePair.value);\n  }\n  forEach(callbackFn) {\n    const valuePairs = this.keyValues(); // {1}\n    for (let i = 0; i < valuePairs.length; i++) {\n      // {2}\n      const result = callbackFn(valuePairs[i].key, valuePairs[i].value); // {3}\n      if (result === false) {\n        break; // {4}\n      }\n    }\n  }\n  size() {\n    return Object.keys(this.table).length;\n  }\n  isEmpty() {\n    return this.size() === 0;\n  }\n  clear() {\n    this.table = {};\n  }\n  toString() {\n    if (this.isEmpty()) {\n      return '';\n    }\n    const valuePairs = this.keyValues();\n    let objString = `${valuePairs[0].toString()}`; // {1}\n    for (let i = 1; i < valuePairs.length; i++) {\n      objString = `${objString},${valuePairs[i].toString()}`; // {2}\n    }\n    return objString; // {3}\n  }\n}\n```\n\n###### \n\n\n\n\n\n:\n(1) MySQLMicrosoft SQL ServerOracle key\n(2)JavaScript  key  key \n\n ---- lose lose \n![lose-lose](lose-lose.png)\n\nHashTable  Dictionary  Dictionary \n valuePair  table  key \n HashTable  keyhash valuePair \n hash \n\n```javascript\nclass HashTable {\n  constructor(toStrFn = defaultToString) {\n    this.toStrFn = toStrFn;\n    this.table = {};\n  }\n  // \n  loseloseHashCode(key) {\n    if (typeof key === 'number') {\n      // {1}\n      return key;\n    }\n    const tableKey = this.toStrFn(key); // {2}\n    //  key  ASCII \n    let hash = 0; // {3}\n    for (let i = 0; i < tableKey.length; i++) {\n      hash += tableKey.charCodeAt(i); // {4}\n    }\n    //  hash %{5}\n    // \n    return hash % 37; // {5}\n  }\n  hashCode(key) {\n    return this.loseloseHashCode(key);\n  }\n  put(key, value) {\n    if (key != null && value != null) {\n      // {1}\n      const position = this.hashCode(key); // {2}\n      this.table[position] = new ValuePair(key, value); // {3}\n      return true;\n    }\n    return false;\n  }\n  get(key) {\n    const valuePair = this.table[this.hashCode(key)];\n    return valuePair == null ? undefined : valuePair.value;\n  }\n  remove(key) {\n    const hash = this.hashCode(key); // {1}\n    const valuePair = this.table[hash]; // {2}\n    if (valuePair != null) {\n      delete this.table[hash]; // {3}\n      return true;\n    }\n    return false;\n  }\n}\n\nconst hash = new HashTable();\nhash.put('Gandalf', 'gandalf@email.com');\nhash.put('John', 'johnsnow@email.com');\nhash.put('Tyrion', 'tyrion@email.com');\nconsole.log(hash.hashCode('Gandalf') + ' - Gandalf');\nconsole.log(hash.hashCode('John') + ' - John');\nconsole.log(hash.hashCode('Tyrion') + ' - Tyrion');\n// 19 - Gandalf\n// 29 - John\n// 16 - Tyrion\n```\n\n****\n hashCode \n\n\n****\n\n\n\n\n(1)\n\n HashTable \n![sperate-chain](sperate-chain.png)\n\n```javascript\nclass HashTableSeparateChaining {\n  constructor(toStrFn = defaultToString) {\n    this.toStrFn = toStrFn;\n    this.table = {};\n  }\n  put(key, value) {\n    if (key != null && value != null) {\n      const position = this.hashCode(key);\n      //  \n      if (this.table[position] == null) {\n        // {1}\n        this.table[position] = new LinkedList(); // {2}\n      }\n      this.table[position].push(new ValuePair(key, value)); // {3}\n      return true;\n    }\n    return false;\n  }\n  //  get  key put \n  // LinkedList LinkedList  equalsFn key\n  //  ValuePair LinkedList ===\n  //  ValuePair  get \n  //  indexOf  key\n  //  getElementAt  ValuePair \n  get(key) {\n    const position = this.hashCode(key);\n    const linkedList = this.table[position]; // {1}\n    if (linkedList != null && !linkedList.isEmpty()) {\n      // {2}\n      let current = linkedList.getHead(); // {3}\n      while (current != null) {\n        // {4}\n        if (current.element.key === key) {\n          // {5}\n          return current.element.value; // {6}\n        }\n        current = current.next; // {7}\n      }\n    }\n    return undefined; // {8}\n  }\n  remove(key) {\n    const position = this.hashCode(key);\n    const linkedList = this.table[position];\n    if (linkedList != null && !linkedList.isEmpty()) {\n      let current = linkedList.getHead();\n      while (current != null) {\n        if (current.element.key === key) {\n          // {1}\n          linkedList.remove(current.element); // {2}\n          if (linkedList.isEmpty()) {\n            // {3}\n            delete this.table[position]; // {4}\n          }\n          return true; // {5}\n        }\n        current = current.next; // {6}\n      }\n    }\n    return false; // {7}\n  }\n}\n```\n\n(2)\n\n position  position+1  position+1  position+2 \n![linear-probing](linear-probing.png)\n\n\n\n\n![soft-delete](soft-delete.png)\n[](http://github.com/loiane/javascript-datastructures-algorithms)\n\n\n![move-key](move-key.png)\n\n```javascript\n// move-key\nclass HashTableSeparateChainingMoveKey {\n  constructor(toStrFn = defaultToString) {\n    this.toStrFn = toStrFn;\n    this.table = {};\n  }\n  put(key, value) {\n    if (key != null && value != null) {\n      const position = this.hashCode(key);\n      if (this.table[position] == null) {\n        // {1}\n        this.table[position] = new ValuePair(key, value); // {2}\n      } else {\n        let index = position + 1; // {3}\n        while (this.table[index] != null) {\n          // {4}\n          index++; // {5}\n        }\n        this.table[index] = new ValuePair(key, value); // {6}\n      }\n      return true;\n    }\n    return false;\n  }\n  // \n  // \n  // \n  //  JavaScript \n  //  JavaScript \n  // \n  get(key) {\n    const position = this.hashCode(key);\n    if (this.table[position] != null) {\n      // {1}\n      if (this.table[position].key === key) {\n        // {2}\n        return this.table[position].value; // {3}\n      }\n      let index = position + 1; // {4}\n      while (this.table[index] != null && this.table[index].key !== key) {\n        // {5}\n        index++;\n      }\n      if (this.table[index] != null && this.table[index].key === key) {\n        // {6}\n        return this.table[position].value; // {7}\n      }\n    }\n    return undefined; // {8}\n  }\n  remove(key) {\n    const position = this.hashCode(key);\n    if (this.table[position] != null) {\n      if (this.table[position].key === key) {\n        delete this.table[position]; // {1}\n        this.verifyRemoveSideEffect(key, position); // {2}\n        return true;\n      }\n      let index = position + 1;\n      while (this.table[index] != null && this.table[index].key !== key) {\n        index++;\n      }\n      if (this.table[index] != null && this.table[index].key === key) {\n        delete this.table[index]; // {3}\n        this.verifyRemoveSideEffect(key, index); // {4}\n        return true;\n      }\n    }\n    return false;\n  }\n  verifyRemoveSideEffect(key, removedPosition) {\n    const hash = this.hashCode(key); // {1}\n    let index = removedPosition + 1; // {2}\n    while (this.table[index] != null) {\n      // {3}\n      const posHash = this.hashCode(this.table[index].key); // {4}\n      if (posHash <= hash || posHash <= removedPosition) {\n        // {5}\n        this.table[removedPosition] = this.table[index]; // {6}\n        delete this.table[index];\n        removedPosition = index;\n      }\n      index++;\n    }\n  }\n}\n```\n\n****\n\n\n```javascript\ndjb2HashCode(key) {\n const tableKey = this.toStrFn(key); // {1}\n//   hash ,5381\n let hash = 5381; // {2}\n for (let i = 0; i < tableKey.length; i++) { // {3}\n//   hash  33 ASCII \n hash = (hash * 33) + tableKey.charCodeAt(i); // {4}\n }\n//  \n return hash % 1013; // {5}\n}\n// http://t.cn/Eqg1yb0\n```\n\n**ES2015 Map **\n\n```javascript\nconst map = new Map();\nmap.set('Gandalf', 'gandalf@email.com');\nmap.set('John', 'johnsnow@email.com');\nmap.set('Tyrion', 'tyrion@email.com');\nconsole.log(map.has('Gandalf')); // true\nconsole.log(map.size); // 3\nconsole.log(map.keys()); // {\"Gandalf\", \"John\", \"Tyrion\"}\nconsole.log(map.values()); // {\"gandalf@email.com\", \"johnsnow@email.com\",\n\"tyrion@email.com\"}\nconsole.log(map.get('Tyrion')); // tyrion@email.com\nmap.delete('John');\n```\n\n**ES2105 WeakMap  WeakSet **\nMap  Set :\n(1)WeakSet  WeakMap  entrieskeys  values \n(2)WeakSet  WeakMap \n\n```javascript\nconst map = new WeakMap();\nconst ob1 = { name: 'Gandalf' }; // {1}\nconst ob2 = { name: 'John' };\nconst ob3 = { name: 'Tyrion' };\nmap.set(ob1, 'gandalf@email.com'); // {2}\nmap.set(ob2, 'johnsnow@email.com');\nmap.set(ob3, 'tyrion@email.com');\nconsole.log(map.has(ob1)); // true {3}\nconsole.log(map.get(ob3)); // tyrion@email.com {4}\nmap.delete(ob2); // {5}\n```\n\nWeakMap  set \n","slug":"35-data-structure3","published":1,"updated":"2022-10-08T05:24:51.061Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gx3001gckttebru30l9","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Set</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">has</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> element <span class=\"keyword\">in</span> items;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// Object  hasOwnProperty </span></span><br><span class=\"line\">  <span class=\"comment\">// in </span></span><br><span class=\"line\">  <span class=\"comment\">// has(element) &#123;</span></span><br><span class=\"line\">  <span class=\"comment\">//   return Object.prototype.hasOwnProperty.call(this.items, element);</span></span><br><span class=\"line\">  <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">add</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.has(element)) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.items[element] = element; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">delete</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.has(element)) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.items[element]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">clear</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.keys(<span class=\"built_in\">this</span>.items).length; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// sizeLegacy() &#123;</span></span><br><span class=\"line\">  <span class=\"comment\">//  let count = 0;</span></span><br><span class=\"line\">  <span class=\"comment\">//  for(let key in this.items) &#123; // &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  for-in  items  count </span></span><br><span class=\"line\">  <span class=\"comment\">//  has  items </span></span><br><span class=\"line\">  <span class=\"comment\">//  JavaScript  Object </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">//  if(this.items.hasOwnProperty(key)) &#123; // &#123;3&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  count++; // &#123;4&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  &#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  return count;</span></span><br><span class=\"line\">  <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">values</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.values(<span class=\"built_in\">this</span>.items);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// valuesLegacy() &#123;</span></span><br><span class=\"line\">  <span class=\"comment\">//  let values = [];</span></span><br><span class=\"line\">  <span class=\"comment\">//  for(let key in this.items) &#123; // &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//    if(this.items.hasOwnProperty(key)) &#123;</span></span><br><span class=\"line\">  <span class=\"comment\">//       values.push(key); // &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//    &#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  &#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  return values;</span></span><br><span class=\"line\">  <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(1)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">union</span>(<span class=\"params\">otherSet</span>)</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> unionSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  Set values</span></span><br><span class=\"line\">  <span class=\"built_in\">this</span>.values().forEach(<span class=\"function\"><span class=\"params\">value</span> =&gt;</span> unionSet.add(value)); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  otherSet.values().forEach(<span class=\"function\"><span class=\"params\">value</span> =&gt;</span> unionSet.add(value)); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> unionSet;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> setA = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setA.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> setB = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setB.add(<span class=\"number\">3</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">4</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">5</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">6</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> unionAB = setA.union(setB);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(unionAB.values());</span><br><span class=\"line\"><span class=\"comment\">// [1,2,3,4,5,6]</span></span><br></pre></td></tr></table></figure>\n\n<p>(2)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">intersection</span>(<span class=\"params\">otherSet</span>)</span> &#123;</span><br><span class=\"line\"> <span class=\"keyword\">const</span> intersectionSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\"> <span class=\"keyword\">const</span> values = <span class=\"built_in\">this</span>.values();</span><br><span class=\"line\"> <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; values.length; i++) &#123; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">   <span class=\"keyword\">if</span> (otherSet.has(values[i])) &#123; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">     intersectionSet.add(values[i]); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> intersectionSet;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> setA = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setA.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> setB = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setB.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">3</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">4</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> intersectionAB = setA.intersection(setB);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(intersectionAB.values());</span><br><span class=\"line\"><span class=\"comment\">// [2,3]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">intersection</span>(<span class=\"params\">otherSet</span>)</span> &#123;</span><br><span class=\"line\"> <span class=\"keyword\">const</span> intersectionSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\"> <span class=\"keyword\">const</span> values = <span class=\"built_in\">this</span>.values(); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\"> <span class=\"keyword\">const</span> otherValues = otherSet.values(); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\"> <span class=\"keyword\">let</span> biggerSet = values; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\"> <span class=\"keyword\">let</span> smallerSet = otherValues; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"keyword\">if</span> (otherValues.length - values.length &gt; <span class=\"number\">0</span>) &#123; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">   biggerSet = otherValues;</span><br><span class=\"line\">   smallerSet = values;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> smallerSet.forEach(<span class=\"function\"><span class=\"params\">value</span> =&gt;</span> &#123; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">   <span class=\"keyword\">if</span> (biggerSet.includes(value)) &#123;</span><br><span class=\"line\">     intersectionSet.add(value);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"> &#125;);</span><br><span class=\"line\"> <span class=\"keyword\">return</span> intersectionSet;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>(3)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">difference</span>(<span class=\"params\">otherSet</span>)</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> differenceSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"built_in\">this</span>.values().forEach(<span class=\"function\"><span class=\"params\">value</span> =&gt;</span> &#123; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!otherSet.has(value)) &#123; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      differenceSet.add(value); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> differenceSet;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> setA = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setA.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> setB = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setB.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">3</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">4</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> differenceAB = setA.difference(setB);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(differenceAB.values());</span><br><span class=\"line\"><span class=\"comment\">// [1]</span></span><br></pre></td></tr></table></figure>\n\n<p>(4)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">isSubsetOf</span>(<span class=\"params\">otherSet</span>)</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.size() &gt; otherSet.size()) &#123; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> isSubset = <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  trueevery &#123;6&#125; false</span></span><br><span class=\"line\">  <span class=\"built_in\">this</span>.values().every(<span class=\"function\"><span class=\"params\">value</span> =&gt;</span> &#123; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!otherSet.has(value)) &#123; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      isSubset = <span class=\"literal\">false</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> isSubset; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> setA = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setA.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> setB = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setB.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> setC = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setC.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setC.add(<span class=\"number\">3</span>);</span><br><span class=\"line\">setC.add(<span class=\"number\">4</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(setA.isSubsetOf(setB));</span><br><span class=\"line\"><span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(setA.isSubsetOf(setC));</span><br><span class=\"line\"><span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>([...setA, ...setB]));</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>([...setA].filter(<span class=\"function\">(<span class=\"params\">x</span>) =&gt;</span> setB.has(x))));</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>([...setA].filter(<span class=\"function\">(<span class=\"params\">x</span>) =&gt;</span> !setB.has(x))));</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>[]<br>[][]<br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// util.js</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">defaultToString</span>(<span class=\"params\">item</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (item === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;NULL&#x27;</span>;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (item === <span class=\"literal\">undefined</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;UNDEFINED&#x27;</span>;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> item === <span class=\"string\">&#x27;string&#x27;</span> || item <span class=\"keyword\">instanceof</span> <span class=\"built_in\">String</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">`<span class=\"subst\">$&#123;item&#125;</span>`</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> item.toString(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ValuePair</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">key, value</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.key = key;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.value = value;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">`[#<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.key&#125;</span>: <span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.value&#125;</span>]`</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; defaultToString &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../util&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Dictionary</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">toStrFn = defaultToString</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.toStrFn = toStrFn; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.table = &#123;&#125;; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">hasKey</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.table[<span class=\"built_in\">this</span>.toStrFn(key)] != <span class=\"literal\">null</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  ValuePair </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">set</span>(<span class=\"params\">key, value</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (key != <span class=\"literal\">null</span> &amp;&amp; value != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> tableKey = <span class=\"built_in\">this</span>.toStrFn(key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.table[tableKey] = <span class=\"keyword\">new</span> ValuePair(key, value); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">remove</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.hasKey(key)) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.table[<span class=\"built_in\">this</span>.toStrFn(key)];</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">get</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> valuePair = <span class=\"built_in\">this</span>.table[<span class=\"built_in\">this</span>.toStrFn(key)]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> valuePair == <span class=\"literal\">null</span> ? <span class=\"literal\">undefined</span> : valuePair.value; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">keyValues</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.values(<span class=\"built_in\">this</span>.table);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">keys</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.keyValues().map(<span class=\"function\">(<span class=\"params\">valuePair</span>) =&gt;</span> valuePair.key);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">values</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.keyValues().map(<span class=\"function\">(<span class=\"params\">valuePair</span>) =&gt;</span> valuePair.value);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">forEach</span>(<span class=\"params\">callbackFn</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> valuePairs = <span class=\"built_in\">this</span>.keyValues(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; valuePairs.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> result = callbackFn(valuePairs[i].key, valuePairs[i].value); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (result === <span class=\"literal\">false</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">break</span>; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.keys(<span class=\"built_in\">this</span>.table).length;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.size() === <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">clear</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.table = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> valuePairs = <span class=\"built_in\">this</span>.keyValues();</span><br><span class=\"line\">    <span class=\"keyword\">let</span> objString = <span class=\"string\">`<span class=\"subst\">$&#123;valuePairs[<span class=\"number\">0</span>].toString()&#125;</span>`</span>; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; valuePairs.length; i++) &#123;</span><br><span class=\"line\">      objString = <span class=\"string\">`<span class=\"subst\">$&#123;objString&#125;</span>,<span class=\"subst\">$&#123;valuePairs[i].toString()&#125;</span>`</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> objString; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p></p>\n<p>:<br>(1) MySQLMicrosoft SQL ServerOracle key<br>(2)JavaScript  key  key </p>\n<p> - lose lose <br><img src=\"/2022/09/29/35-data-structure3/lose-lose.png\" alt=\"lose-lose\"></p>\n<p>HashTable  Dictionary  Dictionary <br> valuePair  table  key <br> HashTable  keyhash valuePair <br> hash </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HashTable</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">toStrFn = defaultToString</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.toStrFn = toStrFn;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.table = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">loseloseHashCode</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> key === <span class=\"string\">&#x27;number&#x27;</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> key;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> tableKey = <span class=\"built_in\">this</span>.toStrFn(key); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//  key  ASCII </span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> hash = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; tableKey.length; i++) &#123;</span><br><span class=\"line\">      hash += tableKey.charCodeAt(i); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//  hash %&#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> hash % <span class=\"number\">37</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">hashCode</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.loseloseHashCode(key);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">put</span>(<span class=\"params\">key, value</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (key != <span class=\"literal\">null</span> &amp;&amp; value != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.table[position] = <span class=\"keyword\">new</span> ValuePair(key, value); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">get</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> valuePair = <span class=\"built_in\">this</span>.table[<span class=\"built_in\">this</span>.hashCode(key)];</span><br><span class=\"line\">    <span class=\"keyword\">return</span> valuePair == <span class=\"literal\">null</span> ? <span class=\"literal\">undefined</span> : valuePair.value;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">remove</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> hash = <span class=\"built_in\">this</span>.hashCode(key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> valuePair = <span class=\"built_in\">this</span>.table[hash]; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (valuePair != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.table[hash]; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> hash = <span class=\"keyword\">new</span> HashTable();</span><br><span class=\"line\">hash.put(<span class=\"string\">&#x27;Gandalf&#x27;</span>, <span class=\"string\">&#x27;gandalf@email.com&#x27;</span>);</span><br><span class=\"line\">hash.put(<span class=\"string\">&#x27;John&#x27;</span>, <span class=\"string\">&#x27;johnsnow@email.com&#x27;</span>);</span><br><span class=\"line\">hash.put(<span class=\"string\">&#x27;Tyrion&#x27;</span>, <span class=\"string\">&#x27;tyrion@email.com&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(hash.hashCode(<span class=\"string\">&#x27;Gandalf&#x27;</span>) + <span class=\"string\">&#x27; - Gandalf&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(hash.hashCode(<span class=\"string\">&#x27;John&#x27;</span>) + <span class=\"string\">&#x27; - John&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(hash.hashCode(<span class=\"string\">&#x27;Tyrion&#x27;</span>) + <span class=\"string\">&#x27; - Tyrion&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">// 19 - Gandalf</span></span><br><span class=\"line\"><span class=\"comment\">// 29 - John</span></span><br><span class=\"line\"><span class=\"comment\">// 16 - Tyrion</span></span><br></pre></td></tr></table></figure>\n\n<p><strong></strong><br> hashCode <br></p>\n<p><strong></strong><br></p>\n<p></p>\n<p>(1)<br><br> HashTable <br><img src=\"/2022/09/29/35-data-structure3/sperate-chain.png\" alt=\"sperate-chain\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HashTableSeparateChaining</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">toStrFn = defaultToString</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.toStrFn = toStrFn;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.table = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">put</span>(<span class=\"params\">key, value</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (key != <span class=\"literal\">null</span> &amp;&amp; value != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key);</span><br><span class=\"line\">      <span class=\"comment\">//  </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[position] == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.table[position] = <span class=\"keyword\">new</span> LinkedList(); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.table[position].push(<span class=\"keyword\">new</span> ValuePair(key, value)); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  get  key put </span></span><br><span class=\"line\">  <span class=\"comment\">// LinkedList LinkedList  equalsFn key</span></span><br><span class=\"line\">  <span class=\"comment\">//  ValuePair LinkedList ===</span></span><br><span class=\"line\">  <span class=\"comment\">//  ValuePair  get </span></span><br><span class=\"line\">  <span class=\"comment\">//  indexOf  key</span></span><br><span class=\"line\">  <span class=\"comment\">//  getElementAt  ValuePair </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">get</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> linkedList = <span class=\"built_in\">this</span>.table[position]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (linkedList != <span class=\"literal\">null</span> &amp;&amp; !linkedList.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = linkedList.getHead(); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">while</span> (current != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (current.element.key === key) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">          <span class=\"keyword\">return</span> current.element.value; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        current = current.next; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">remove</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> linkedList = <span class=\"built_in\">this</span>.table[position];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (linkedList != <span class=\"literal\">null</span> &amp;&amp; !linkedList.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = linkedList.getHead();</span><br><span class=\"line\">      <span class=\"keyword\">while</span> (current != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (current.element.key === key) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">          linkedList.remove(current.element); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">          <span class=\"keyword\">if</span> (linkedList.isEmpty()) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">            <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.table[position]; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        current = current.next; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>(2)<br><br> position  position+1  position+1  position+2 <br><img src=\"/2022/09/29/35-data-structure3/linear-probing.png\" alt=\"linear-probing\"></p>\n<p></p>\n<p><br><img src=\"/2022/09/29/35-data-structure3/soft-delete.png\" alt=\"soft-delete\"><br><a href=\"http://github.com/loiane/javascript-datastructures-algorithms\"></a></p>\n<p><br><img src=\"/2022/09/29/35-data-structure3/move-key.png\" alt=\"move-key\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// move-key</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HashTableSeparateChainingMoveKey</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">toStrFn = defaultToString</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.toStrFn = toStrFn;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.table = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">put</span>(<span class=\"params\">key, value</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (key != <span class=\"literal\">null</span> &amp;&amp; value != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key);</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[position] == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.table[position] = <span class=\"keyword\">new</span> ValuePair(key, value); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> index = position + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (<span class=\"built_in\">this</span>.table[index] != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">          index++; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.table[index] = <span class=\"keyword\">new</span> ValuePair(key, value); <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">//  JavaScript </span></span><br><span class=\"line\">  <span class=\"comment\">//  JavaScript </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">get</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[position] != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[position].key === key) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.table[position].value; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> index = position + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">while</span> (<span class=\"built_in\">this</span>.table[index] != <span class=\"literal\">null</span> &amp;&amp; <span class=\"built_in\">this</span>.table[index].key !== key) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        index++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[index] != <span class=\"literal\">null</span> &amp;&amp; <span class=\"built_in\">this</span>.table[index].key === key) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.table[position].value; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">remove</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[position] != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[position].key === key) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.table[position]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.verifyRemoveSideEffect(key, position); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> index = position + <span class=\"number\">1</span>;</span><br><span class=\"line\">      <span class=\"keyword\">while</span> (<span class=\"built_in\">this</span>.table[index] != <span class=\"literal\">null</span> &amp;&amp; <span class=\"built_in\">this</span>.table[index].key !== key) &#123;</span><br><span class=\"line\">        index++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[index] != <span class=\"literal\">null</span> &amp;&amp; <span class=\"built_in\">this</span>.table[index].key === key) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.table[index]; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.verifyRemoveSideEffect(key, index); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">verifyRemoveSideEffect</span>(<span class=\"params\">key, removedPosition</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> hash = <span class=\"built_in\">this</span>.hashCode(key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> index = removedPosition + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (<span class=\"built_in\">this</span>.table[index] != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> posHash = <span class=\"built_in\">this</span>.hashCode(<span class=\"built_in\">this</span>.table[index].key); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (posHash &lt;= hash || posHash &lt;= removedPosition) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.table[removedPosition] = <span class=\"built_in\">this</span>.table[index]; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.table[index];</span><br><span class=\"line\">        removedPosition = index;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      index++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">djb2HashCode</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\"> <span class=\"keyword\">const</span> tableKey = <span class=\"built_in\">this</span>.toStrFn(key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\"><span class=\"comment\">//   hash ,5381</span></span><br><span class=\"line\"> <span class=\"keyword\">let</span> hash = <span class=\"number\">5381</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\"> <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; tableKey.length; i++) &#123; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\"><span class=\"comment\">//   hash  33 ASCII </span></span><br><span class=\"line\"> hash = (hash * <span class=\"number\">33</span>) + tableKey.charCodeAt(i); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"><span class=\"comment\">//  </span></span><br><span class=\"line\"> <span class=\"keyword\">return</span> hash % <span class=\"number\">1013</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// http://t.cn/Eqg1yb0</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>ES2015 Map </strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.set(<span class=\"string\">&#x27;Gandalf&#x27;</span>, <span class=\"string\">&#x27;gandalf@email.com&#x27;</span>);</span><br><span class=\"line\">map.set(<span class=\"string\">&#x27;John&#x27;</span>, <span class=\"string\">&#x27;johnsnow@email.com&#x27;</span>);</span><br><span class=\"line\">map.set(<span class=\"string\">&#x27;Tyrion&#x27;</span>, <span class=\"string\">&#x27;tyrion@email.com&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.has(<span class=\"string\">&#x27;Gandalf&#x27;</span>)); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.size); <span class=\"comment\">// 3</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.keys()); <span class=\"comment\">// &#123;&quot;Gandalf&quot;, &quot;John&quot;, &quot;Tyrion&quot;&#125;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.values()); <span class=\"comment\">// &#123;&quot;gandalf@email.com&quot;, &quot;johnsnow@email.com&quot;,</span></span><br><span class=\"line\"><span class=\"string\">&quot;tyrion@email.com&quot;</span>&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.get(<span class=\"string\">&#x27;Tyrion&#x27;</span>)); <span class=\"comment\">// tyrion@email.com</span></span><br><span class=\"line\">map.delete(<span class=\"string\">&#x27;John&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<p><strong>ES2105 WeakMap  WeakSet </strong><br>Map  Set :<br>(1)WeakSet  WeakMap  entrieskeys  values <br>(2)WeakSet  WeakMap </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">WeakMap</span>();</span><br><span class=\"line\"><span class=\"keyword\">const</span> ob1 = &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;Gandalf&#x27;</span> &#125;; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> ob2 = &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;John&#x27;</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> ob3 = &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;Tyrion&#x27;</span> &#125;;</span><br><span class=\"line\">map.set(ob1, <span class=\"string\">&#x27;gandalf@email.com&#x27;</span>); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">map.set(ob2, <span class=\"string\">&#x27;johnsnow@email.com&#x27;</span>);</span><br><span class=\"line\">map.set(ob3, <span class=\"string\">&#x27;tyrion@email.com&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.has(ob1)); <span class=\"comment\">// true &#123;3&#125;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.get(ob3)); <span class=\"comment\">// tyrion@email.com &#123;4&#125;</span></span><br><span class=\"line\">map.delete(ob2); <span class=\"comment\">// &#123;5&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>WeakMap  set </p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Set</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">has</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> element <span class=\"keyword\">in</span> items;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// Object  hasOwnProperty </span></span><br><span class=\"line\">  <span class=\"comment\">// in </span></span><br><span class=\"line\">  <span class=\"comment\">// has(element) &#123;</span></span><br><span class=\"line\">  <span class=\"comment\">//   return Object.prototype.hasOwnProperty.call(this.items, element);</span></span><br><span class=\"line\">  <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">add</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.has(element)) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.items[element] = element; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">delete</span>(<span class=\"params\">element</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.has(element)) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.items[element]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">clear</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.items = &#123;&#125;; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.keys(<span class=\"built_in\">this</span>.items).length; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// sizeLegacy() &#123;</span></span><br><span class=\"line\">  <span class=\"comment\">//  let count = 0;</span></span><br><span class=\"line\">  <span class=\"comment\">//  for(let key in this.items) &#123; // &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  for-in  items  count </span></span><br><span class=\"line\">  <span class=\"comment\">//  has  items </span></span><br><span class=\"line\">  <span class=\"comment\">//  JavaScript  Object </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">//  if(this.items.hasOwnProperty(key)) &#123; // &#123;3&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  count++; // &#123;4&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  &#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  return count;</span></span><br><span class=\"line\">  <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">values</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.values(<span class=\"built_in\">this</span>.items);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// valuesLegacy() &#123;</span></span><br><span class=\"line\">  <span class=\"comment\">//  let values = [];</span></span><br><span class=\"line\">  <span class=\"comment\">//  for(let key in this.items) &#123; // &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//    if(this.items.hasOwnProperty(key)) &#123;</span></span><br><span class=\"line\">  <span class=\"comment\">//       values.push(key); // &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//    &#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  &#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  return values;</span></span><br><span class=\"line\">  <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(1)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">union</span>(<span class=\"params\">otherSet</span>)</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> unionSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  Set values</span></span><br><span class=\"line\">  <span class=\"built_in\">this</span>.values().forEach(<span class=\"function\"><span class=\"params\">value</span> =&gt;</span> unionSet.add(value)); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  otherSet.values().forEach(<span class=\"function\"><span class=\"params\">value</span> =&gt;</span> unionSet.add(value)); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> unionSet;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> setA = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setA.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> setB = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setB.add(<span class=\"number\">3</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">4</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">5</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">6</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> unionAB = setA.union(setB);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(unionAB.values());</span><br><span class=\"line\"><span class=\"comment\">// [1,2,3,4,5,6]</span></span><br></pre></td></tr></table></figure>\n\n<p>(2)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">intersection</span>(<span class=\"params\">otherSet</span>)</span> &#123;</span><br><span class=\"line\"> <span class=\"keyword\">const</span> intersectionSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\"> <span class=\"keyword\">const</span> values = <span class=\"built_in\">this</span>.values();</span><br><span class=\"line\"> <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; values.length; i++) &#123; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">   <span class=\"keyword\">if</span> (otherSet.has(values[i])) &#123; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">     intersectionSet.add(values[i]); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> intersectionSet;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> setA = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setA.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> setB = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setB.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">3</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">4</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> intersectionAB = setA.intersection(setB);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(intersectionAB.values());</span><br><span class=\"line\"><span class=\"comment\">// [2,3]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">intersection</span>(<span class=\"params\">otherSet</span>)</span> &#123;</span><br><span class=\"line\"> <span class=\"keyword\">const</span> intersectionSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\"> <span class=\"keyword\">const</span> values = <span class=\"built_in\">this</span>.values(); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\"> <span class=\"keyword\">const</span> otherValues = otherSet.values(); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\"> <span class=\"keyword\">let</span> biggerSet = values; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\"> <span class=\"keyword\">let</span> smallerSet = otherValues; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"keyword\">if</span> (otherValues.length - values.length &gt; <span class=\"number\">0</span>) &#123; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">   biggerSet = otherValues;</span><br><span class=\"line\">   smallerSet = values;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> smallerSet.forEach(<span class=\"function\"><span class=\"params\">value</span> =&gt;</span> &#123; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">   <span class=\"keyword\">if</span> (biggerSet.includes(value)) &#123;</span><br><span class=\"line\">     intersectionSet.add(value);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"> &#125;);</span><br><span class=\"line\"> <span class=\"keyword\">return</span> intersectionSet;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>(3)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">difference</span>(<span class=\"params\">otherSet</span>)</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> differenceSet = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"built_in\">this</span>.values().forEach(<span class=\"function\"><span class=\"params\">value</span> =&gt;</span> &#123; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!otherSet.has(value)) &#123; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      differenceSet.add(value); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> differenceSet;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> setA = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setA.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> setB = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setB.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">3</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">4</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> differenceAB = setA.difference(setB);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(differenceAB.values());</span><br><span class=\"line\"><span class=\"comment\">// [1]</span></span><br></pre></td></tr></table></figure>\n\n<p>(4)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">isSubsetOf</span>(<span class=\"params\">otherSet</span>)</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.size() &gt; otherSet.size()) &#123; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> isSubset = <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  trueevery &#123;6&#125; false</span></span><br><span class=\"line\">  <span class=\"built_in\">this</span>.values().every(<span class=\"function\"><span class=\"params\">value</span> =&gt;</span> &#123; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!otherSet.has(value)) &#123; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      isSubset = <span class=\"literal\">false</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> isSubset; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> setA = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setA.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">setA.add(<span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> setB = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setB.add(<span class=\"number\">1</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setB.add(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> setC = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">setC.add(<span class=\"number\">2</span>);</span><br><span class=\"line\">setC.add(<span class=\"number\">3</span>);</span><br><span class=\"line\">setC.add(<span class=\"number\">4</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(setA.isSubsetOf(setB));</span><br><span class=\"line\"><span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(setA.isSubsetOf(setC));</span><br><span class=\"line\"><span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>([...setA, ...setB]));</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>([...setA].filter(<span class=\"function\">(<span class=\"params\">x</span>) =&gt;</span> setB.has(x))));</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>([...setA].filter(<span class=\"function\">(<span class=\"params\">x</span>) =&gt;</span> !setB.has(x))));</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>[]<br>[][]<br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// util.js</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">defaultToString</span>(<span class=\"params\">item</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (item === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;NULL&#x27;</span>;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (item === <span class=\"literal\">undefined</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;UNDEFINED&#x27;</span>;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> item === <span class=\"string\">&#x27;string&#x27;</span> || item <span class=\"keyword\">instanceof</span> <span class=\"built_in\">String</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">`<span class=\"subst\">$&#123;item&#125;</span>`</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> item.toString(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ValuePair</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">key, value</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.key = key;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.value = value;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">`[#<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.key&#125;</span>: <span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.value&#125;</span>]`</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; defaultToString &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../util&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Dictionary</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">toStrFn = defaultToString</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.toStrFn = toStrFn; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.table = &#123;&#125;; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">hasKey</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.table[<span class=\"built_in\">this</span>.toStrFn(key)] != <span class=\"literal\">null</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  ValuePair </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">set</span>(<span class=\"params\">key, value</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (key != <span class=\"literal\">null</span> &amp;&amp; value != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> tableKey = <span class=\"built_in\">this</span>.toStrFn(key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.table[tableKey] = <span class=\"keyword\">new</span> ValuePair(key, value); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">remove</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.hasKey(key)) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.table[<span class=\"built_in\">this</span>.toStrFn(key)];</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">get</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> valuePair = <span class=\"built_in\">this</span>.table[<span class=\"built_in\">this</span>.toStrFn(key)]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> valuePair == <span class=\"literal\">null</span> ? <span class=\"literal\">undefined</span> : valuePair.value; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">keyValues</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.values(<span class=\"built_in\">this</span>.table);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">keys</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.keyValues().map(<span class=\"function\">(<span class=\"params\">valuePair</span>) =&gt;</span> valuePair.key);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">values</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.keyValues().map(<span class=\"function\">(<span class=\"params\">valuePair</span>) =&gt;</span> valuePair.value);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">forEach</span>(<span class=\"params\">callbackFn</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> valuePairs = <span class=\"built_in\">this</span>.keyValues(); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; valuePairs.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> result = callbackFn(valuePairs[i].key, valuePairs[i].value); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (result === <span class=\"literal\">false</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">break</span>; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.keys(<span class=\"built_in\">this</span>.table).length;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.size() === <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">clear</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.table = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> valuePairs = <span class=\"built_in\">this</span>.keyValues();</span><br><span class=\"line\">    <span class=\"keyword\">let</span> objString = <span class=\"string\">`<span class=\"subst\">$&#123;valuePairs[<span class=\"number\">0</span>].toString()&#125;</span>`</span>; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; valuePairs.length; i++) &#123;</span><br><span class=\"line\">      objString = <span class=\"string\">`<span class=\"subst\">$&#123;objString&#125;</span>,<span class=\"subst\">$&#123;valuePairs[i].toString()&#125;</span>`</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> objString; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p></p>\n<p>:<br>(1) MySQLMicrosoft SQL ServerOracle key<br>(2)JavaScript  key  key </p>\n<p> - lose lose <br><img src=\"/2022/09/29/35-data-structure3/lose-lose.png\" alt=\"lose-lose\"></p>\n<p>HashTable  Dictionary  Dictionary <br> valuePair  table  key <br> HashTable  keyhash valuePair <br> hash </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HashTable</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">toStrFn = defaultToString</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.toStrFn = toStrFn;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.table = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">loseloseHashCode</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> key === <span class=\"string\">&#x27;number&#x27;</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> key;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> tableKey = <span class=\"built_in\">this</span>.toStrFn(key); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//  key  ASCII </span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> hash = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; tableKey.length; i++) &#123;</span><br><span class=\"line\">      hash += tableKey.charCodeAt(i); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//  hash %&#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> hash % <span class=\"number\">37</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">hashCode</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.loseloseHashCode(key);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">put</span>(<span class=\"params\">key, value</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (key != <span class=\"literal\">null</span> &amp;&amp; value != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.table[position] = <span class=\"keyword\">new</span> ValuePair(key, value); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">get</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> valuePair = <span class=\"built_in\">this</span>.table[<span class=\"built_in\">this</span>.hashCode(key)];</span><br><span class=\"line\">    <span class=\"keyword\">return</span> valuePair == <span class=\"literal\">null</span> ? <span class=\"literal\">undefined</span> : valuePair.value;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">remove</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> hash = <span class=\"built_in\">this</span>.hashCode(key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> valuePair = <span class=\"built_in\">this</span>.table[hash]; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (valuePair != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.table[hash]; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> hash = <span class=\"keyword\">new</span> HashTable();</span><br><span class=\"line\">hash.put(<span class=\"string\">&#x27;Gandalf&#x27;</span>, <span class=\"string\">&#x27;gandalf@email.com&#x27;</span>);</span><br><span class=\"line\">hash.put(<span class=\"string\">&#x27;John&#x27;</span>, <span class=\"string\">&#x27;johnsnow@email.com&#x27;</span>);</span><br><span class=\"line\">hash.put(<span class=\"string\">&#x27;Tyrion&#x27;</span>, <span class=\"string\">&#x27;tyrion@email.com&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(hash.hashCode(<span class=\"string\">&#x27;Gandalf&#x27;</span>) + <span class=\"string\">&#x27; - Gandalf&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(hash.hashCode(<span class=\"string\">&#x27;John&#x27;</span>) + <span class=\"string\">&#x27; - John&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(hash.hashCode(<span class=\"string\">&#x27;Tyrion&#x27;</span>) + <span class=\"string\">&#x27; - Tyrion&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">// 19 - Gandalf</span></span><br><span class=\"line\"><span class=\"comment\">// 29 - John</span></span><br><span class=\"line\"><span class=\"comment\">// 16 - Tyrion</span></span><br></pre></td></tr></table></figure>\n\n<p><strong></strong><br> hashCode <br></p>\n<p><strong></strong><br></p>\n<p></p>\n<p>(1)<br><br> HashTable <br><img src=\"/2022/09/29/35-data-structure3/sperate-chain.png\" alt=\"sperate-chain\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HashTableSeparateChaining</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">toStrFn = defaultToString</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.toStrFn = toStrFn;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.table = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">put</span>(<span class=\"params\">key, value</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (key != <span class=\"literal\">null</span> &amp;&amp; value != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key);</span><br><span class=\"line\">      <span class=\"comment\">//  </span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[position] == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.table[position] = <span class=\"keyword\">new</span> LinkedList(); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.table[position].push(<span class=\"keyword\">new</span> ValuePair(key, value)); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  get  key put </span></span><br><span class=\"line\">  <span class=\"comment\">// LinkedList LinkedList  equalsFn key</span></span><br><span class=\"line\">  <span class=\"comment\">//  ValuePair LinkedList ===</span></span><br><span class=\"line\">  <span class=\"comment\">//  ValuePair  get </span></span><br><span class=\"line\">  <span class=\"comment\">//  indexOf  key</span></span><br><span class=\"line\">  <span class=\"comment\">//  getElementAt  ValuePair </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">get</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> linkedList = <span class=\"built_in\">this</span>.table[position]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (linkedList != <span class=\"literal\">null</span> &amp;&amp; !linkedList.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = linkedList.getHead(); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">while</span> (current != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (current.element.key === key) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">          <span class=\"keyword\">return</span> current.element.value; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        current = current.next; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">remove</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> linkedList = <span class=\"built_in\">this</span>.table[position];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (linkedList != <span class=\"literal\">null</span> &amp;&amp; !linkedList.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> current = linkedList.getHead();</span><br><span class=\"line\">      <span class=\"keyword\">while</span> (current != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (current.element.key === key) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">          linkedList.remove(current.element); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">          <span class=\"keyword\">if</span> (linkedList.isEmpty()) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">            <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.table[position]; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        current = current.next; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>(2)<br><br> position  position+1  position+1  position+2 <br><img src=\"/2022/09/29/35-data-structure3/linear-probing.png\" alt=\"linear-probing\"></p>\n<p></p>\n<p><br><img src=\"/2022/09/29/35-data-structure3/soft-delete.png\" alt=\"soft-delete\"><br><a href=\"http://github.com/loiane/javascript-datastructures-algorithms\"></a></p>\n<p><br><img src=\"/2022/09/29/35-data-structure3/move-key.png\" alt=\"move-key\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// move-key</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HashTableSeparateChainingMoveKey</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">toStrFn = defaultToString</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.toStrFn = toStrFn;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.table = &#123;&#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">put</span>(<span class=\"params\">key, value</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (key != <span class=\"literal\">null</span> &amp;&amp; value != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key);</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[position] == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.table[position] = <span class=\"keyword\">new</span> ValuePair(key, value); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> index = position + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (<span class=\"built_in\">this</span>.table[index] != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">          index++; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.table[index] = <span class=\"keyword\">new</span> ValuePair(key, value); <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"comment\">//  JavaScript </span></span><br><span class=\"line\">  <span class=\"comment\">//  JavaScript </span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">get</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[position] != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[position].key === key) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.table[position].value; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> index = position + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">while</span> (<span class=\"built_in\">this</span>.table[index] != <span class=\"literal\">null</span> &amp;&amp; <span class=\"built_in\">this</span>.table[index].key !== key) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        index++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[index] != <span class=\"literal\">null</span> &amp;&amp; <span class=\"built_in\">this</span>.table[index].key === key) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.table[position].value; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">remove</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> position = <span class=\"built_in\">this</span>.hashCode(key);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[position] != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[position].key === key) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.table[position]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.verifyRemoveSideEffect(key, position); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> index = position + <span class=\"number\">1</span>;</span><br><span class=\"line\">      <span class=\"keyword\">while</span> (<span class=\"built_in\">this</span>.table[index] != <span class=\"literal\">null</span> &amp;&amp; <span class=\"built_in\">this</span>.table[index].key !== key) &#123;</span><br><span class=\"line\">        index++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.table[index] != <span class=\"literal\">null</span> &amp;&amp; <span class=\"built_in\">this</span>.table[index].key === key) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.table[index]; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.verifyRemoveSideEffect(key, index); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">verifyRemoveSideEffect</span>(<span class=\"params\">key, removedPosition</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> hash = <span class=\"built_in\">this</span>.hashCode(key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> index = removedPosition + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (<span class=\"built_in\">this</span>.table[index] != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> posHash = <span class=\"built_in\">this</span>.hashCode(<span class=\"built_in\">this</span>.table[index].key); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (posHash &lt;= hash || posHash &lt;= removedPosition) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.table[removedPosition] = <span class=\"built_in\">this</span>.table[index]; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.table[index];</span><br><span class=\"line\">        removedPosition = index;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      index++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">djb2HashCode</span>(<span class=\"params\">key</span>)</span> &#123;</span><br><span class=\"line\"> <span class=\"keyword\">const</span> tableKey = <span class=\"built_in\">this</span>.toStrFn(key); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\"><span class=\"comment\">//   hash ,5381</span></span><br><span class=\"line\"> <span class=\"keyword\">let</span> hash = <span class=\"number\">5381</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\"> <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; tableKey.length; i++) &#123; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\"><span class=\"comment\">//   hash  33 ASCII </span></span><br><span class=\"line\"> hash = (hash * <span class=\"number\">33</span>) + tableKey.charCodeAt(i); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"><span class=\"comment\">//  </span></span><br><span class=\"line\"> <span class=\"keyword\">return</span> hash % <span class=\"number\">1013</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// http://t.cn/Eqg1yb0</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>ES2015 Map </strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>();</span><br><span class=\"line\">map.set(<span class=\"string\">&#x27;Gandalf&#x27;</span>, <span class=\"string\">&#x27;gandalf@email.com&#x27;</span>);</span><br><span class=\"line\">map.set(<span class=\"string\">&#x27;John&#x27;</span>, <span class=\"string\">&#x27;johnsnow@email.com&#x27;</span>);</span><br><span class=\"line\">map.set(<span class=\"string\">&#x27;Tyrion&#x27;</span>, <span class=\"string\">&#x27;tyrion@email.com&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.has(<span class=\"string\">&#x27;Gandalf&#x27;</span>)); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.size); <span class=\"comment\">// 3</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.keys()); <span class=\"comment\">// &#123;&quot;Gandalf&quot;, &quot;John&quot;, &quot;Tyrion&quot;&#125;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.values()); <span class=\"comment\">// &#123;&quot;gandalf@email.com&quot;, &quot;johnsnow@email.com&quot;,</span></span><br><span class=\"line\"><span class=\"string\">&quot;tyrion@email.com&quot;</span>&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.get(<span class=\"string\">&#x27;Tyrion&#x27;</span>)); <span class=\"comment\">// tyrion@email.com</span></span><br><span class=\"line\">map.delete(<span class=\"string\">&#x27;John&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<p><strong>ES2105 WeakMap  WeakSet </strong><br>Map  Set :<br>(1)WeakSet  WeakMap  entrieskeys  values <br>(2)WeakSet  WeakMap </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">WeakMap</span>();</span><br><span class=\"line\"><span class=\"keyword\">const</span> ob1 = &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;Gandalf&#x27;</span> &#125;; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> ob2 = &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;John&#x27;</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> ob3 = &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;Tyrion&#x27;</span> &#125;;</span><br><span class=\"line\">map.set(ob1, <span class=\"string\">&#x27;gandalf@email.com&#x27;</span>); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">map.set(ob2, <span class=\"string\">&#x27;johnsnow@email.com&#x27;</span>);</span><br><span class=\"line\">map.set(ob3, <span class=\"string\">&#x27;tyrion@email.com&#x27;</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.has(ob1)); <span class=\"comment\">// true &#123;3&#125;</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(map.get(ob3)); <span class=\"comment\">// tyrion@email.com &#123;4&#125;</span></span><br><span class=\"line\">map.delete(ob2); <span class=\"comment\">// &#123;5&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>WeakMap  set </p>\n"},{"title":"","date":"2022-05-23T06:13:56.000Z","_content":"\n## \n(1)HTMLDOM\n(2)CSSCSSOM\n(3)DOMCSSOMRender\n(4)\n(5)\n(6)GPUGPU\n(7)(PS:htmlrender)\n## GUI\n(1)HTMLCSSDOMRender\n(2)/\n--1JavaScriptCSSreflow\n--2\n()\nDOM\n\n\nresize\n\noffsetLeft/Top/Height/Width,clientTop/Left/Width/Height,scrollTop/Left/Width/Height,width/height,getComputedStyle(),currentStyle(IE))\n--3 JavaScript \n--4\n## JS\n(1)Javascript\n(2)GUIGUI ON then JS Suspend.JS\n## \n(1)JS\n(2)JSclick,AJAXJS\n## \n(1)setIntervalsetTimeout\n(2)JS,JavaScript, \n(3)JS\n## http\n(1)XMLHttpRequest\n(2)JavaScript\n\n## hover\n![hover](hover.png)\n\n## performance\n![performance](performance.png)\n\n## network\n![network](network.png)\n- preserve log \n","source":"_posts/4-browser-render.md","raw":"---\ntitle: \ndate: 2022-05-23 14:13:56\ntags:\n---\n\n## \n(1)HTMLDOM\n(2)CSSCSSOM\n(3)DOMCSSOMRender\n(4)\n(5)\n(6)GPUGPU\n(7)(PS:htmlrender)\n## GUI\n(1)HTMLCSSDOMRender\n(2)/\n--1JavaScriptCSSreflow\n--2\n()\nDOM\n\n\nresize\n\noffsetLeft/Top/Height/Width,clientTop/Left/Width/Height,scrollTop/Left/Width/Height,width/height,getComputedStyle(),currentStyle(IE))\n--3 JavaScript \n--4\n## JS\n(1)Javascript\n(2)GUIGUI ON then JS Suspend.JS\n## \n(1)JS\n(2)JSclick,AJAXJS\n## \n(1)setIntervalsetTimeout\n(2)JS,JavaScript, \n(3)JS\n## http\n(1)XMLHttpRequest\n(2)JavaScript\n\n## hover\n![hover](hover.png)\n\n## performance\n![performance](performance.png)\n\n## network\n![network](network.png)\n- preserve log \n","slug":"4-browser-render","published":1,"updated":"2022-10-25T03:20:16.618Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gx3001hcktt12699h3i","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>(1)HTMLDOM<br>(2)CSSCSSOM<br>(3)DOMCSSOMRender<br>(4)<br>(5)<br>(6)GPUGPU<br>(7)(PS:htmlrender)</p>\n<h2 id=\"GUI\"><a href=\"#GUI\" class=\"headerlink\" title=\"GUI\"></a>GUI</h2><p>(1)HTMLCSSDOMRender<br>(2)/<br>1JavaScriptCSSreflow<br>2<br>()<br>DOM<br><br><br>resize<br><br>offsetLeft/Top/Height/Width,clientTop/Left/Width/Height,scrollTop/Left/Width/Height,width/height,getComputedStyle(),currentStyle(IE))<br>3 JavaScript <br>4</p>\n<h2 id=\"JS\"><a href=\"#JS\" class=\"headerlink\" title=\"JS\"></a>JS</h2><p>(1)Javascript<br>(2)GUIGUI ON then JS Suspend.JS</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>(1)JS<br>(2)JSclick,AJAXJS</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>(1)setIntervalsetTimeout<br>(2)JS,JavaScript, <br>(3)JS</p>\n<h2 id=\"http\"><a href=\"#http\" class=\"headerlink\" title=\"http\"></a>http</h2><p>(1)XMLHttpRequest<br>(2)JavaScript</p>\n<h2 id=\"hover\"><a href=\"#hover\" class=\"headerlink\" title=\"hover\"></a>hover</h2><p><img src=\"/2022/05/23/4-browser-render/hover.png\" alt=\"hover\"></p>\n<h2 id=\"performance\"><a href=\"#performance\" class=\"headerlink\" title=\"performance\"></a>performance</h2><p><img src=\"/2022/05/23/4-browser-render/performance.png\" alt=\"performance\"></p>\n<h2 id=\"network\"><a href=\"#network\" class=\"headerlink\" title=\"network\"></a>network</h2><p><img src=\"/2022/05/23/4-browser-render/network.png\" alt=\"network\"></p>\n<ul>\n<li>preserve log </li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>(1)HTMLDOM<br>(2)CSSCSSOM<br>(3)DOMCSSOMRender<br>(4)<br>(5)<br>(6)GPUGPU<br>(7)(PS:htmlrender)</p>\n<h2 id=\"GUI\"><a href=\"#GUI\" class=\"headerlink\" title=\"GUI\"></a>GUI</h2><p>(1)HTMLCSSDOMRender<br>(2)/<br>1JavaScriptCSSreflow<br>2<br>()<br>DOM<br><br><br>resize<br><br>offsetLeft/Top/Height/Width,clientTop/Left/Width/Height,scrollTop/Left/Width/Height,width/height,getComputedStyle(),currentStyle(IE))<br>3 JavaScript <br>4</p>\n<h2 id=\"JS\"><a href=\"#JS\" class=\"headerlink\" title=\"JS\"></a>JS</h2><p>(1)Javascript<br>(2)GUIGUI ON then JS Suspend.JS</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>(1)JS<br>(2)JSclick,AJAXJS</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>(1)setIntervalsetTimeout<br>(2)JS,JavaScript, <br>(3)JS</p>\n<h2 id=\"http\"><a href=\"#http\" class=\"headerlink\" title=\"http\"></a>http</h2><p>(1)XMLHttpRequest<br>(2)JavaScript</p>\n<h2 id=\"hover\"><a href=\"#hover\" class=\"headerlink\" title=\"hover\"></a>hover</h2><p><img src=\"/2022/05/23/4-browser-render/hover.png\" alt=\"hover\"></p>\n<h2 id=\"performance\"><a href=\"#performance\" class=\"headerlink\" title=\"performance\"></a>performance</h2><p><img src=\"/2022/05/23/4-browser-render/performance.png\" alt=\"performance\"></p>\n<h2 id=\"network\"><a href=\"#network\" class=\"headerlink\" title=\"network\"></a>network</h2><p><img src=\"/2022/05/23/4-browser-render/network.png\" alt=\"network\"></p>\n<ul>\n<li>preserve log </li>\n</ul>\n"},{"title":"(6)","date":"2022-10-13T06:15:28.000Z","_content":"\n#### \n\n###### \n\n****\n(_ O(n2)_)\n\n```javascript\nfunction defaultCompare(a, b) {\n  return a < b ? Compare.LESS_THAN : Compare.BIGGER_THAN;\n}\nfunction bubbleSort(array, compareFn = defaultCompare) {\n  const { length } = array; // {1}\n  for (let i = 0; i < length; i++) {\n    // {2}\n    for (let j = 0; j < length - 1; j++) {\n      // {3}\n      if (compareFn(array[j], array[j + 1]) === Compare.BIGGER_THAN) {\n        // {4}\n        swap(array, j, j + 1); // {5}\n      }\n    }\n  }\n  return array;\n}\n\nfunction swap(array, a, b) {\n  /* const temp = array[a]; \n array[a] = array[b]; \n array[b] = temp; */ // \n  [array[a], array[b]] = [array[b], array[a]]; // ES2015 \n}\n```\n\n![sort-1](sort-1.png)\n__\n\n```javascript\nfunction modifiedBubbleSort(array, compareFn = defaultCompare) {\n  const { length } = array;\n  for (let i = 0; i < length; i++) {\n    for (let j = 0; j < length - 1 - i; j++) {\n      // {1}\n      if (compareFn(array[j], array[j + 1]) === Compare.BIGGER_THAN) {\n        swap(array, j, j + 1);\n      }\n    }\n  }\n  return array;\n}\n```\n\n![sort-2](sort-2.png)\n\n****\n(_ O(n2)_).\n\n```javascript\nfunction selectionSort(array, compareFn = defaultCompare) {\n  const { length } = array; // {1}\n  let indexMin;\n  for (let i = 0; i < length - 1; i++) {\n    // {2}\n    indexMin = i; // {3}\n    for (let j = i; j < length; j++) {\n      // {4}\n      if (compareFn(array[indexMin], array[j]) === Compare.BIGGER_THAN) {\n        // {5}\n        indexMin = j; // {6}\n      }\n    }\n    if (i !== indexMin) {\n      // {7}\n      swap(array, i, indexMin);\n    }\n  }\n  return array;\n}\n```\n\n![sort-3](sort-3.png)\n\n****\n.\n\n```javascript\nfunction insertionSort(array, compareFn = defaultCompare) {\n  const { length } = array; // {1}\n  let temp;\n  for (let i = 1; i < length; i++) {\n    // {2}\n    let j = i; // {3}\n    temp = array[i]; // {4}\n    while (j > 0 && compareFn(array[j - 1], temp) === Compare.BIGGER_THAN) {\n      // {5}\n      array[j] = array[j - 1]; // {6}\n      j--;\n    }\n    array[j] = temp; // {7}\n  }\n  return array;\n}\n```\n\n![sort-4](sort-4.png)\n__\n\n****\n O(nlog(n))\n\n_JavaScript  Array  sort Array.prototype.sort JavaScript ECMAScript Mozilla Firefox  Array.prototype.sort  ChromeV8 _\n\n\n\n\n\n```javascript\nfunction mergeSort(array, compareFn = defaultCompare) {\n  if (array.length > 1) {\n    // {1}\n    const { length } = array;\n    const middle = Math.floor(length / 2); // {2}\n    const left = mergeSort(array.slice(0, middle), compareFn); // {3}\n    const right = mergeSort(array.slice(middle, length), compareFn); // {4}\n    array = merge(left, right, compareFn); // {5}\n  }\n  return array;\n}\n\nfunction merge(left, right, compareFn) {\n  let i = 0; // {6}\n  let j = 0;\n  const result = [];\n  while (i < left.length && j < right.length) {\n    // {7}\n    result.push(\n      compareFn(left[i], right[j]) === Compare.LESS_THAN\n        ? left[i++]\n        : right[j++]\n    ); // {8}\n  }\n  return result.concat(i < left.length ? left.slice(i) : right.slice(j)); // {9}\n}\n```\n\n![sort-5](sort-5.png)\n\n****\n O(nlog(n)) O(nlog(n))\n\n(1) pivot\n(2) partition\n(3) \n\n```javascript\nfunction quickSort(array, compareFn = defaultCompare) {\n  return quick(array, 0, array.length - 1, compareFn);\n}\n\nfunction quick(array, left, right, compareFn) {\n  let index; // {1}\n  if (array.length > 1) {\n    // {2}\n    index = partition(array, left, right, compareFn); // {3}\n    if (left < index - 1) {\n      // {4}\n      quick(array, left, index - 1, compareFn); // {5}\n    }\n    if (index < right) {\n      // {6}\n      quick(array, index, right, compareFn); // {7}\n    }\n  }\n  return array;\n}\n\nfunction partition(array, left, right, compareFn) {\n  // \n  const pivot = array[Math.floor((right + left) / 2)]; // {8}\n  let i = left; // {9}\n  let j = right; // {10}\n  while (i <= j) {\n    // {11}\n    while (compareFn(array[i], pivot) === Compare.LESS_THAN) {\n      // {12}\n      i++;\n    }\n    while (compareFn(array[j], pivot) === Compare.BIGGER_THAN) {\n      // {13}\n      j--;\n    }\n    if (i <= j) {\n      // {14}\n      swap(array, i, j); // {15}\n      i++;\n      j--;\n    }\n  }\n  return i; // {16}\n}\n```\n\n\n![sort-6](sort-6.png)\n\n![sort-7](sort-7.png)\n\n![sort-8](sort-8.png)\n![sort-9](sort-9.png)\n![sort-10](sort-10.png)\n\n****\n\n\n O(n+k) k \n\n```javascript\nfunction countingSort(array) {\n  if (array.length < 2) {\n    // {1}\n    return array;\n  }\n  const maxValue = findMaxValue(array); // {2}\n  const counts = new Array(maxValue + 1); // {3}\n  array.forEach((element) => {\n    if (!counts[element]) {\n      // {4}\n      counts[element] = 0;\n    }\n    counts[element]++; // {5}\n  });\n  let sortedIndex = 0;\n  counts.forEach((count, i) => {\n    while (count > 0) {\n      // {6}\n      array[sortedIndex++] = i; // {7}\n      count--; // {8}\n    }\n  });\n  return array;\n}\n\nfunction findMaxValue(array) {\n  let max = array[0];\n  for (let i = 1; i < array.length; i++) {\n    if (array[i] > max) {\n      max = array[i];\n    }\n  }\n  return max;\n}\n```\n\n****\n\n\n_ 5 _\n\n```javascript\nfunction bucketSort(array, bucketSize = 5) {\n  // {1}\n  if (array.length < 2) {\n    return array;\n  }\n  // \n  const buckets = createBuckets(array, bucketSize); // {2}\n  // \n  return sortBuckets(buckets); // {3}\n}\n\nfunction createBuckets(array, bucketSize) {\n  let minValue = array[0];\n  let maxValue = array[0];\n  for (let i = 1; i < array.length; i++) {\n    // {4}\n    if (array[i] < minValue) {\n      minValue = array[i];\n    } else if (array[i] > maxValue) {\n      maxValue = array[i];\n    }\n  }\n  // \n  const bucketCount = Math.floor((maxValue - minValue) / bucketSize) + 1; // {5}\n  const buckets = [];\n  for (let i = 0; i < bucketCount; i++) {\n    // \n    buckets[i] = [];\n  }\n  for (let i = 0; i < array.length; i++) {\n    // {7}\n    const bucketIndex = Math.floor((array[i] - minValue) / bucketSize); // {8}\n    buckets[bucketIndex].push(array[i]);\n  }\n  return buckets;\n}\n\nfunction sortBuckets(buckets) {\n  const sortedArray = []; // {9}\n  for (let i = 0; i < buckets.length; i++) {\n    // {10}\n    if (buckets[i] != null) {\n      insertionSort(buckets[i]); // {11}\n      sortedArray.push(...buckets[i]); // {12}\n    }\n  }\n  return sortedArray;\n}\n```\n\n![sort-11](sort-11.png)\n\n****\n\n\n```javascript\nfunction radixSort(array, radixBase = 10) {\n  if (array.length < 2) {\n    return array;\n  }\n  const minValue = findMinValue(array);\n  const maxValue = findMaxValue(array);\n  let significantDigit = 1; // {1}\n  while ((maxValue - minValue) / significantDigit >= 1) {\n    // {2}\n    array = countingSortForRadix(array, radixBase, significantDigit, minValue); // {3}\n    significantDigit *= radixBase; // {4}\n  }\n  return array;\n}\n\nfunction countingSortForRadix(array, radixBase, significantDigit, minValue) {\n  let bucketsIndex;\n  const buckets = [];\n  const aux = [];\n  for (let i = 0; i < radixBase; i++) {\n    // {5}\n    buckets[i] = 0;\n  }\n  for (let i = 0; i < array.length; i++) {\n    // {7}\n    bucketsIndex = Math.floor(\n      ((array[i] - minValue) / significantDigit) % radixBase\n    ); // {7}\n    buckets[bucketsIndex]++; // {8}\n  }\n  for (let i = 1; i < radixBase; i++) {\n    // \n    buckets[i] += buckets[i - 1];\n  }\n  for (let i = array.length - 1; i >= 0; i--) {\n    // {10}\n    bucketsIndex = Math.floor(\n      ((array[i] - minValue) / significantDigit) % radixBase\n    ); // {11}\n    aux[--buckets[bucketsIndex]] = array[i]; // {12}\n  }\n  for (let i = 0; i < array.length; i++) {\n    // {13}\n    array[i] = aux[i];\n  }\n  return array;\n}\n```\n\n![sort-12](sort-12.png)\n\n###### \n\n****\n\n\n```javascript\nconst DOES_NOT_EXIST = -1;\nfunction sequentialSearch(array, value, equalsFn = defaultEquals) {\n  for (let i = 0; i < array.length; i++) {\n    // {1}\n    if (equalsFn(value, array[i])) {\n      // {2}\n      return i; // {3}\n    }\n  }\n  return DOES_NOT_EXIST; // {4}\n}\n```\n\n![search-1](search-1.png)\n\n****\n\n(1) \n(2) \n(3)  1 \n(4)  1 \n\n```javascript\nfunction binarySearch(array, value, compareFn = defaultCompare) {\n  const sortedArray = quickSort(array); // {1}\n  let low = 0; // {2}\n  let high = sortedArray.length - 1; // {3}\n  while (lesserOrEquals(low, high, compareFn)) {\n    // {4}\n    const mid = Math.floor((low + high) / 2); // {5}\n    const element = sortedArray[mid]; // {6}\n    if (compareFn(element, value) === Compare.LESS_THAN) {\n      // {7}\n      low = mid + 1; // {8}\n    } else if (compareFn(element, value) === Compare.BIGGER_THAN) {\n      // {9}\n      high = mid - 1; // {10}\n    } else {\n      return mid; // {11}\n    }\n  }\n  return DOES_NOT_EXIST; // {12}\n}\n\nfunction lesserOrEquals(a, b, compareFn) {\n  const comp = compareFn(a, b);\n  return comp === Compare.LESS_THAN || comp === Compare.EQUALS;\n}\n```\n\n![search-2](search-2.png)\n\n****\n mid \n\n\n\n(1)  position \n(2) \n(3)  1 \n(4)  1 \n\n```javascript\nfunction interpolationSearch(\n  array,\n  value,\n  compareFn = defaultCompare,\n  equalsFn = defaultEquals,\n  diffFn = defaultDiff\n) {\n  const { length } = array;\n  let low = 0;\n  let high = length - 1;\n  let position = -1;\n  let delta = -1;\n  while (\n    low <= high &&\n    biggerOrEquals(value, array[low], compareFn) &&\n    lesserOrEquals(value, array[high], compareFn)\n  ) {\n    /**  array[high] position  array[low]position delta  */\n    delta = diffFn(value, array[low]) / diffFn(array[high], array[low]);\n    position = low + Math.floor((high - low) * delta); // {2}\n    if (equalsFn(array[position], value)) {\n      // {3}\n      return position;\n    }\n    if (compareFn(array[position], value) === Compare.LESS_THAN) {\n      // {4}\n      low = position + 1;\n    } else {\n      high = position - 1;\n    }\n  }\n  return DOES_NOT_EXIST;\n}\n\nfunction lesserOrEquals(a, b, compareFn) {\n  const comp = compareFn(a, b);\n  return comp === Compare.LESS_THAN || comp === Compare.EQUALS;\n}\nfunction biggerOrEquals(a, b, compareFn) {\n  const comp = compareFn(a, b);\n  return comp === Compare.BIGGER_THAN || comp === Compare.EQUALS;\n}\n```\n\n![search-3](search-3.png)\n\n###### \n\n**Fisher-Yates **\n\n\n```javascript\nfunction shuffle(array) {\n  for (let i = array.length - 1; i > 0; i--) {\n    const randomIndex = Math.floor(Math.random() * (i + 1));\n    swap(array, i, randomIndex);\n  }\n  return array;\n}\n```\n\n![search-4](search-4.png)\n","source":"_posts/38-data-structure6.md","raw":"---\ntitle: (6)\ndate: 2022-10-13 14:15:28\ntags:\n---\n\n#### \n\n###### \n\n****\n(_ O(n2)_)\n\n```javascript\nfunction defaultCompare(a, b) {\n  return a < b ? Compare.LESS_THAN : Compare.BIGGER_THAN;\n}\nfunction bubbleSort(array, compareFn = defaultCompare) {\n  const { length } = array; // {1}\n  for (let i = 0; i < length; i++) {\n    // {2}\n    for (let j = 0; j < length - 1; j++) {\n      // {3}\n      if (compareFn(array[j], array[j + 1]) === Compare.BIGGER_THAN) {\n        // {4}\n        swap(array, j, j + 1); // {5}\n      }\n    }\n  }\n  return array;\n}\n\nfunction swap(array, a, b) {\n  /* const temp = array[a]; \n array[a] = array[b]; \n array[b] = temp; */ // \n  [array[a], array[b]] = [array[b], array[a]]; // ES2015 \n}\n```\n\n![sort-1](sort-1.png)\n__\n\n```javascript\nfunction modifiedBubbleSort(array, compareFn = defaultCompare) {\n  const { length } = array;\n  for (let i = 0; i < length; i++) {\n    for (let j = 0; j < length - 1 - i; j++) {\n      // {1}\n      if (compareFn(array[j], array[j + 1]) === Compare.BIGGER_THAN) {\n        swap(array, j, j + 1);\n      }\n    }\n  }\n  return array;\n}\n```\n\n![sort-2](sort-2.png)\n\n****\n(_ O(n2)_).\n\n```javascript\nfunction selectionSort(array, compareFn = defaultCompare) {\n  const { length } = array; // {1}\n  let indexMin;\n  for (let i = 0; i < length - 1; i++) {\n    // {2}\n    indexMin = i; // {3}\n    for (let j = i; j < length; j++) {\n      // {4}\n      if (compareFn(array[indexMin], array[j]) === Compare.BIGGER_THAN) {\n        // {5}\n        indexMin = j; // {6}\n      }\n    }\n    if (i !== indexMin) {\n      // {7}\n      swap(array, i, indexMin);\n    }\n  }\n  return array;\n}\n```\n\n![sort-3](sort-3.png)\n\n****\n.\n\n```javascript\nfunction insertionSort(array, compareFn = defaultCompare) {\n  const { length } = array; // {1}\n  let temp;\n  for (let i = 1; i < length; i++) {\n    // {2}\n    let j = i; // {3}\n    temp = array[i]; // {4}\n    while (j > 0 && compareFn(array[j - 1], temp) === Compare.BIGGER_THAN) {\n      // {5}\n      array[j] = array[j - 1]; // {6}\n      j--;\n    }\n    array[j] = temp; // {7}\n  }\n  return array;\n}\n```\n\n![sort-4](sort-4.png)\n__\n\n****\n O(nlog(n))\n\n_JavaScript  Array  sort Array.prototype.sort JavaScript ECMAScript Mozilla Firefox  Array.prototype.sort  ChromeV8 _\n\n\n\n\n\n```javascript\nfunction mergeSort(array, compareFn = defaultCompare) {\n  if (array.length > 1) {\n    // {1}\n    const { length } = array;\n    const middle = Math.floor(length / 2); // {2}\n    const left = mergeSort(array.slice(0, middle), compareFn); // {3}\n    const right = mergeSort(array.slice(middle, length), compareFn); // {4}\n    array = merge(left, right, compareFn); // {5}\n  }\n  return array;\n}\n\nfunction merge(left, right, compareFn) {\n  let i = 0; // {6}\n  let j = 0;\n  const result = [];\n  while (i < left.length && j < right.length) {\n    // {7}\n    result.push(\n      compareFn(left[i], right[j]) === Compare.LESS_THAN\n        ? left[i++]\n        : right[j++]\n    ); // {8}\n  }\n  return result.concat(i < left.length ? left.slice(i) : right.slice(j)); // {9}\n}\n```\n\n![sort-5](sort-5.png)\n\n****\n O(nlog(n)) O(nlog(n))\n\n(1) pivot\n(2) partition\n(3) \n\n```javascript\nfunction quickSort(array, compareFn = defaultCompare) {\n  return quick(array, 0, array.length - 1, compareFn);\n}\n\nfunction quick(array, left, right, compareFn) {\n  let index; // {1}\n  if (array.length > 1) {\n    // {2}\n    index = partition(array, left, right, compareFn); // {3}\n    if (left < index - 1) {\n      // {4}\n      quick(array, left, index - 1, compareFn); // {5}\n    }\n    if (index < right) {\n      // {6}\n      quick(array, index, right, compareFn); // {7}\n    }\n  }\n  return array;\n}\n\nfunction partition(array, left, right, compareFn) {\n  // \n  const pivot = array[Math.floor((right + left) / 2)]; // {8}\n  let i = left; // {9}\n  let j = right; // {10}\n  while (i <= j) {\n    // {11}\n    while (compareFn(array[i], pivot) === Compare.LESS_THAN) {\n      // {12}\n      i++;\n    }\n    while (compareFn(array[j], pivot) === Compare.BIGGER_THAN) {\n      // {13}\n      j--;\n    }\n    if (i <= j) {\n      // {14}\n      swap(array, i, j); // {15}\n      i++;\n      j--;\n    }\n  }\n  return i; // {16}\n}\n```\n\n\n![sort-6](sort-6.png)\n\n![sort-7](sort-7.png)\n\n![sort-8](sort-8.png)\n![sort-9](sort-9.png)\n![sort-10](sort-10.png)\n\n****\n\n\n O(n+k) k \n\n```javascript\nfunction countingSort(array) {\n  if (array.length < 2) {\n    // {1}\n    return array;\n  }\n  const maxValue = findMaxValue(array); // {2}\n  const counts = new Array(maxValue + 1); // {3}\n  array.forEach((element) => {\n    if (!counts[element]) {\n      // {4}\n      counts[element] = 0;\n    }\n    counts[element]++; // {5}\n  });\n  let sortedIndex = 0;\n  counts.forEach((count, i) => {\n    while (count > 0) {\n      // {6}\n      array[sortedIndex++] = i; // {7}\n      count--; // {8}\n    }\n  });\n  return array;\n}\n\nfunction findMaxValue(array) {\n  let max = array[0];\n  for (let i = 1; i < array.length; i++) {\n    if (array[i] > max) {\n      max = array[i];\n    }\n  }\n  return max;\n}\n```\n\n****\n\n\n_ 5 _\n\n```javascript\nfunction bucketSort(array, bucketSize = 5) {\n  // {1}\n  if (array.length < 2) {\n    return array;\n  }\n  // \n  const buckets = createBuckets(array, bucketSize); // {2}\n  // \n  return sortBuckets(buckets); // {3}\n}\n\nfunction createBuckets(array, bucketSize) {\n  let minValue = array[0];\n  let maxValue = array[0];\n  for (let i = 1; i < array.length; i++) {\n    // {4}\n    if (array[i] < minValue) {\n      minValue = array[i];\n    } else if (array[i] > maxValue) {\n      maxValue = array[i];\n    }\n  }\n  // \n  const bucketCount = Math.floor((maxValue - minValue) / bucketSize) + 1; // {5}\n  const buckets = [];\n  for (let i = 0; i < bucketCount; i++) {\n    // \n    buckets[i] = [];\n  }\n  for (let i = 0; i < array.length; i++) {\n    // {7}\n    const bucketIndex = Math.floor((array[i] - minValue) / bucketSize); // {8}\n    buckets[bucketIndex].push(array[i]);\n  }\n  return buckets;\n}\n\nfunction sortBuckets(buckets) {\n  const sortedArray = []; // {9}\n  for (let i = 0; i < buckets.length; i++) {\n    // {10}\n    if (buckets[i] != null) {\n      insertionSort(buckets[i]); // {11}\n      sortedArray.push(...buckets[i]); // {12}\n    }\n  }\n  return sortedArray;\n}\n```\n\n![sort-11](sort-11.png)\n\n****\n\n\n```javascript\nfunction radixSort(array, radixBase = 10) {\n  if (array.length < 2) {\n    return array;\n  }\n  const minValue = findMinValue(array);\n  const maxValue = findMaxValue(array);\n  let significantDigit = 1; // {1}\n  while ((maxValue - minValue) / significantDigit >= 1) {\n    // {2}\n    array = countingSortForRadix(array, radixBase, significantDigit, minValue); // {3}\n    significantDigit *= radixBase; // {4}\n  }\n  return array;\n}\n\nfunction countingSortForRadix(array, radixBase, significantDigit, minValue) {\n  let bucketsIndex;\n  const buckets = [];\n  const aux = [];\n  for (let i = 0; i < radixBase; i++) {\n    // {5}\n    buckets[i] = 0;\n  }\n  for (let i = 0; i < array.length; i++) {\n    // {7}\n    bucketsIndex = Math.floor(\n      ((array[i] - minValue) / significantDigit) % radixBase\n    ); // {7}\n    buckets[bucketsIndex]++; // {8}\n  }\n  for (let i = 1; i < radixBase; i++) {\n    // \n    buckets[i] += buckets[i - 1];\n  }\n  for (let i = array.length - 1; i >= 0; i--) {\n    // {10}\n    bucketsIndex = Math.floor(\n      ((array[i] - minValue) / significantDigit) % radixBase\n    ); // {11}\n    aux[--buckets[bucketsIndex]] = array[i]; // {12}\n  }\n  for (let i = 0; i < array.length; i++) {\n    // {13}\n    array[i] = aux[i];\n  }\n  return array;\n}\n```\n\n![sort-12](sort-12.png)\n\n###### \n\n****\n\n\n```javascript\nconst DOES_NOT_EXIST = -1;\nfunction sequentialSearch(array, value, equalsFn = defaultEquals) {\n  for (let i = 0; i < array.length; i++) {\n    // {1}\n    if (equalsFn(value, array[i])) {\n      // {2}\n      return i; // {3}\n    }\n  }\n  return DOES_NOT_EXIST; // {4}\n}\n```\n\n![search-1](search-1.png)\n\n****\n\n(1) \n(2) \n(3)  1 \n(4)  1 \n\n```javascript\nfunction binarySearch(array, value, compareFn = defaultCompare) {\n  const sortedArray = quickSort(array); // {1}\n  let low = 0; // {2}\n  let high = sortedArray.length - 1; // {3}\n  while (lesserOrEquals(low, high, compareFn)) {\n    // {4}\n    const mid = Math.floor((low + high) / 2); // {5}\n    const element = sortedArray[mid]; // {6}\n    if (compareFn(element, value) === Compare.LESS_THAN) {\n      // {7}\n      low = mid + 1; // {8}\n    } else if (compareFn(element, value) === Compare.BIGGER_THAN) {\n      // {9}\n      high = mid - 1; // {10}\n    } else {\n      return mid; // {11}\n    }\n  }\n  return DOES_NOT_EXIST; // {12}\n}\n\nfunction lesserOrEquals(a, b, compareFn) {\n  const comp = compareFn(a, b);\n  return comp === Compare.LESS_THAN || comp === Compare.EQUALS;\n}\n```\n\n![search-2](search-2.png)\n\n****\n mid \n\n\n\n(1)  position \n(2) \n(3)  1 \n(4)  1 \n\n```javascript\nfunction interpolationSearch(\n  array,\n  value,\n  compareFn = defaultCompare,\n  equalsFn = defaultEquals,\n  diffFn = defaultDiff\n) {\n  const { length } = array;\n  let low = 0;\n  let high = length - 1;\n  let position = -1;\n  let delta = -1;\n  while (\n    low <= high &&\n    biggerOrEquals(value, array[low], compareFn) &&\n    lesserOrEquals(value, array[high], compareFn)\n  ) {\n    /**  array[high] position  array[low]position delta  */\n    delta = diffFn(value, array[low]) / diffFn(array[high], array[low]);\n    position = low + Math.floor((high - low) * delta); // {2}\n    if (equalsFn(array[position], value)) {\n      // {3}\n      return position;\n    }\n    if (compareFn(array[position], value) === Compare.LESS_THAN) {\n      // {4}\n      low = position + 1;\n    } else {\n      high = position - 1;\n    }\n  }\n  return DOES_NOT_EXIST;\n}\n\nfunction lesserOrEquals(a, b, compareFn) {\n  const comp = compareFn(a, b);\n  return comp === Compare.LESS_THAN || comp === Compare.EQUALS;\n}\nfunction biggerOrEquals(a, b, compareFn) {\n  const comp = compareFn(a, b);\n  return comp === Compare.BIGGER_THAN || comp === Compare.EQUALS;\n}\n```\n\n![search-3](search-3.png)\n\n###### \n\n**Fisher-Yates **\n\n\n```javascript\nfunction shuffle(array) {\n  for (let i = array.length - 1; i > 0; i--) {\n    const randomIndex = Math.floor(Math.random() * (i + 1));\n    swap(array, i, randomIndex);\n  }\n  return array;\n}\n```\n\n![search-4](search-4.png)\n","slug":"38-data-structure6","published":1,"updated":"2022-10-13T08:12:54.939Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gx4001icktt1le40upq","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><strong></strong><br>(<em> O(n2)</em>)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">defaultCompare</span>(<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> a &lt; b ? Compare.LESS_THAN : Compare.BIGGER_THAN;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">bubbleSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length - <span class=\"number\">1</span>; j++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (compareFn(array[j], array[j + <span class=\"number\">1</span>]) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">        swap(array, j, j + <span class=\"number\">1</span>); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">swap</span>(<span class=\"params\">array, a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">/* const temp = array[a]; </span></span><br><span class=\"line\"><span class=\"comment\"> array[a] = array[b]; </span></span><br><span class=\"line\"><span class=\"comment\"> array[b] = temp; */</span> <span class=\"comment\">// </span></span><br><span class=\"line\">  [array[a], array[b]] = [array[b], array[a]]; <span class=\"comment\">// ES2015 </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-1.png\" alt=\"sort-1\"><br><em></em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">modifiedBubbleSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length - <span class=\"number\">1</span> - i; j++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (compareFn(array[j], array[j + <span class=\"number\">1</span>]) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">        swap(array, j, j + <span class=\"number\">1</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-2.png\" alt=\"sort-2\"></p>\n<p><strong></strong><br>(<em> O(n2)</em>).</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">selectionSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> indexMin;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    indexMin = i; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = i; j &lt; length; j++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (compareFn(array[indexMin], array[j]) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        indexMin = j; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (i !== indexMin) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      swap(array, i, indexMin);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-3.png\" alt=\"sort-3\"></p>\n<p><strong></strong><br>.</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">insertionSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> temp;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> j = i; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    temp = array[i]; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (j &gt; <span class=\"number\">0</span> &amp;&amp; compareFn(array[j - <span class=\"number\">1</span>], temp) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      array[j] = array[j - <span class=\"number\">1</span>]; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      j--;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    array[j] = temp; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-4.png\" alt=\"sort-4\"><br><em></em></p>\n<p><strong></strong><br> O(nlog(n))</p>\n<p><em>JavaScript  Array  sort Array.prototype.sort JavaScript ECMAScript Mozilla Firefox  Array.prototype.sort  ChromeV8 </em></p>\n<p></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">mergeSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (array.length &gt; <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; length &#125; = array;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> middle = <span class=\"built_in\">Math</span>.floor(length / <span class=\"number\">2</span>); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> left = mergeSort(array.slice(<span class=\"number\">0</span>, middle), compareFn); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> right = mergeSort(array.slice(middle, length), compareFn); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    array = merge(left, right, compareFn); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">merge</span>(<span class=\"params\">left, right, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> j = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> result = [];</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (i &lt; left.length &amp;&amp; j &lt; right.length) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    result.push(</span><br><span class=\"line\">      compareFn(left[i], right[j]) === Compare.LESS_THAN</span><br><span class=\"line\">        ? left[i++]</span><br><span class=\"line\">        : right[j++]</span><br><span class=\"line\">    ); <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> result.concat(i &lt; left.length ? left.slice(i) : right.slice(j)); <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-5.png\" alt=\"sort-5\"></p>\n<p><strong></strong><br> O(nlog(n)) O(nlog(n))</p>\n<p>(1) pivot<br>(2) partition<br>(3) </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">quickSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> quick(array, <span class=\"number\">0</span>, array.length - <span class=\"number\">1</span>, compareFn);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">quick</span>(<span class=\"params\">array, left, right, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> index; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (array.length &gt; <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    index = partition(array, left, right, compareFn); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (left &lt; index - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      quick(array, left, index - <span class=\"number\">1</span>, compareFn); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &lt; right) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      quick(array, index, right, compareFn); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">partition</span>(<span class=\"params\">array, left, right, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> pivot = array[<span class=\"built_in\">Math</span>.floor((right + left) / <span class=\"number\">2</span>)]; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> i = left; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> j = right; <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (i &lt;= j) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (compareFn(array[i], pivot) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">      i++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (compareFn(array[j], pivot) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">      j--;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (i &lt;= j) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;14&#125;</span></span><br><span class=\"line\">      swap(array, i, j); <span class=\"comment\">// &#123;15&#125;</span></span><br><span class=\"line\">      i++;</span><br><span class=\"line\">      j--;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> i; <span class=\"comment\">// &#123;16&#125;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><br><img src=\"/2022/10/13/38-data-structure6/sort-6.png\" alt=\"sort-6\"><br><br><img src=\"/2022/10/13/38-data-structure6/sort-7.png\" alt=\"sort-7\"><br><br><img src=\"/2022/10/13/38-data-structure6/sort-8.png\" alt=\"sort-8\"><br><img src=\"/2022/10/13/38-data-structure6/sort-9.png\" alt=\"sort-9\"><br><img src=\"/2022/10/13/38-data-structure6/sort-10.png\" alt=\"sort-10\"></p>\n<p><strong></strong><br></p>\n<p> O(n+k) k </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">countingSort</span>(<span class=\"params\">array</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (array.length &lt; <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> maxValue = findMaxValue(array); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> counts = <span class=\"keyword\">new</span> <span class=\"built_in\">Array</span>(maxValue + <span class=\"number\">1</span>); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  array.forEach(<span class=\"function\">(<span class=\"params\">element</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!counts[element]) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      counts[element] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    counts[element]++; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">let</span> sortedIndex = <span class=\"number\">0</span>;</span><br><span class=\"line\">  counts.forEach(<span class=\"function\">(<span class=\"params\">count, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (count &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      array[sortedIndex++] = i; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      count--; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">findMaxValue</span>(<span class=\"params\">array</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> max = array[<span class=\"number\">0</span>];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (array[i] &gt; max) &#123;</span><br><span class=\"line\">      max = array[i];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> max;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong><br></p>\n<p><em> 5 </em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">bucketSort</span>(<span class=\"params\">array, bucketSize = <span class=\"number\">5</span></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (array.length &lt; <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> buckets = createBuckets(array, bucketSize); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> sortBuckets(buckets); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createBuckets</span>(<span class=\"params\">array, bucketSize</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> minValue = array[<span class=\"number\">0</span>];</span><br><span class=\"line\">  <span class=\"keyword\">let</span> maxValue = array[<span class=\"number\">0</span>];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (array[i] &lt; minValue) &#123;</span><br><span class=\"line\">      minValue = array[i];</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (array[i] &gt; maxValue) &#123;</span><br><span class=\"line\">      maxValue = array[i];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> bucketCount = <span class=\"built_in\">Math</span>.floor((maxValue - minValue) / bucketSize) + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> buckets = [];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; bucketCount; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    buckets[i] = [];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> bucketIndex = <span class=\"built_in\">Math</span>.floor((array[i] - minValue) / bucketSize); <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    buckets[bucketIndex].push(array[i]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> buckets;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sortBuckets</span>(<span class=\"params\">buckets</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> sortedArray = []; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; buckets.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (buckets[i] != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      insertionSort(buckets[i]); <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">      sortedArray.push(...buckets[i]); <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> sortedArray;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-11.png\" alt=\"sort-11\"></p>\n<p><strong></strong><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">radixSort</span>(<span class=\"params\">array, radixBase = <span class=\"number\">10</span></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (array.length &lt; <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> minValue = findMinValue(array);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> maxValue = findMaxValue(array);</span><br><span class=\"line\">  <span class=\"keyword\">let</span> significantDigit = <span class=\"number\">1</span>; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> ((maxValue - minValue) / significantDigit &gt;= <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    array = countingSortForRadix(array, radixBase, significantDigit, minValue); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    significantDigit *= radixBase; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">countingSortForRadix</span>(<span class=\"params\">array, radixBase, significantDigit, minValue</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> bucketsIndex;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> buckets = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> aux = [];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; radixBase; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    buckets[i] = <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    bucketsIndex = <span class=\"built_in\">Math</span>.floor(</span><br><span class=\"line\">      ((array[i] - minValue) / significantDigit) % radixBase</span><br><span class=\"line\">    ); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    buckets[bucketsIndex]++; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; radixBase; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    buckets[i] += buckets[i - <span class=\"number\">1</span>];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = array.length - <span class=\"number\">1</span>; i &gt;= <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">    bucketsIndex = <span class=\"built_in\">Math</span>.floor(</span><br><span class=\"line\">      ((array[i] - minValue) / significantDigit) % radixBase</span><br><span class=\"line\">    ); <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    aux[--buckets[bucketsIndex]] = array[i]; <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">    array[i] = aux[i];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-12.png\" alt=\"sort-12\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><strong></strong><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> DOES_NOT_EXIST = -<span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sequentialSearch</span>(<span class=\"params\">array, value, equalsFn = defaultEquals</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (equalsFn(value, array[i])) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> i; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> DOES_NOT_EXIST; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/search-1.png\" alt=\"search-1\"></p>\n<p><strong></strong><br><br>(1) <br>(2) <br>(3)  1 <br>(4)  1 </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">binarySearch</span>(<span class=\"params\">array, value, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> sortedArray = quickSort(array); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> low = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> high = sortedArray.length - <span class=\"number\">1</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (lesserOrEquals(low, high, compareFn)) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> mid = <span class=\"built_in\">Math</span>.floor((low + high) / <span class=\"number\">2</span>); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> element = sortedArray[mid]; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (compareFn(element, value) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      low = mid + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (compareFn(element, value) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">      high = mid - <span class=\"number\">1</span>; <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> mid; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> DOES_NOT_EXIST; <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">lesserOrEquals</span>(<span class=\"params\">a, b, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> comp = compareFn(a, b);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> comp === Compare.LESS_THAN || comp === Compare.EQUALS;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/search-2.png\" alt=\"search-2\"></p>\n<p><strong></strong><br> mid </p>\n<p></p>\n<p>(1)  position <br>(2) <br>(3)  1 <br>(4)  1 </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">interpolationSearch</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  array,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  value,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  compareFn = defaultCompare,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  equalsFn = defaultEquals,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  diffFn = defaultDiff</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> low = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> high = length - <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> position = -<span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> delta = -<span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (</span><br><span class=\"line\">    low &lt;= high &amp;&amp;</span><br><span class=\"line\">    biggerOrEquals(value, array[low], compareFn) &amp;&amp;</span><br><span class=\"line\">    lesserOrEquals(value, array[high], compareFn)</span><br><span class=\"line\">  ) &#123;</span><br><span class=\"line\">    <span class=\"comment\">/**  array[high] position  array[low]position delta  */</span></span><br><span class=\"line\">    delta = diffFn(value, array[low]) / diffFn(array[high], array[low]);</span><br><span class=\"line\">    position = low + <span class=\"built_in\">Math</span>.floor((high - low) * delta); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (equalsFn(array[position], value)) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> position;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (compareFn(array[position], value) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      low = position + <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      high = position - <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> DOES_NOT_EXIST;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">lesserOrEquals</span>(<span class=\"params\">a, b, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> comp = compareFn(a, b);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> comp === Compare.LESS_THAN || comp === Compare.EQUALS;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">biggerOrEquals</span>(<span class=\"params\">a, b, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> comp = compareFn(a, b);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> comp === Compare.BIGGER_THAN || comp === Compare.EQUALS;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/search-3.png\" alt=\"search-3\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><strong>Fisher-Yates </strong><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">shuffle</span>(<span class=\"params\">array</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = array.length - <span class=\"number\">1</span>; i &gt; <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> randomIndex = <span class=\"built_in\">Math</span>.floor(<span class=\"built_in\">Math</span>.random() * (i + <span class=\"number\">1</span>));</span><br><span class=\"line\">    swap(array, i, randomIndex);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/search-4.png\" alt=\"search-4\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><strong></strong><br>(<em> O(n2)</em>)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">defaultCompare</span>(<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> a &lt; b ? Compare.LESS_THAN : Compare.BIGGER_THAN;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">bubbleSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length - <span class=\"number\">1</span>; j++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (compareFn(array[j], array[j + <span class=\"number\">1</span>]) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">        swap(array, j, j + <span class=\"number\">1</span>); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">swap</span>(<span class=\"params\">array, a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">/* const temp = array[a]; </span></span><br><span class=\"line\"><span class=\"comment\"> array[a] = array[b]; </span></span><br><span class=\"line\"><span class=\"comment\"> array[b] = temp; */</span> <span class=\"comment\">// </span></span><br><span class=\"line\">  [array[a], array[b]] = [array[b], array[a]]; <span class=\"comment\">// ES2015 </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-1.png\" alt=\"sort-1\"><br><em></em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">modifiedBubbleSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length - <span class=\"number\">1</span> - i; j++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (compareFn(array[j], array[j + <span class=\"number\">1</span>]) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">        swap(array, j, j + <span class=\"number\">1</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-2.png\" alt=\"sort-2\"></p>\n<p><strong></strong><br>(<em> O(n2)</em>).</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">selectionSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> indexMin;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    indexMin = i; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = i; j &lt; length; j++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (compareFn(array[indexMin], array[j]) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">        indexMin = j; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (i !== indexMin) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      swap(array, i, indexMin);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-3.png\" alt=\"sort-3\"></p>\n<p><strong></strong><br>.</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">insertionSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> temp;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> j = i; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    temp = array[i]; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (j &gt; <span class=\"number\">0</span> &amp;&amp; compareFn(array[j - <span class=\"number\">1</span>], temp) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      array[j] = array[j - <span class=\"number\">1</span>]; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      j--;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    array[j] = temp; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-4.png\" alt=\"sort-4\"><br><em></em></p>\n<p><strong></strong><br> O(nlog(n))</p>\n<p><em>JavaScript  Array  sort Array.prototype.sort JavaScript ECMAScript Mozilla Firefox  Array.prototype.sort  ChromeV8 </em></p>\n<p></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">mergeSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (array.length &gt; <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; length &#125; = array;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> middle = <span class=\"built_in\">Math</span>.floor(length / <span class=\"number\">2</span>); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> left = mergeSort(array.slice(<span class=\"number\">0</span>, middle), compareFn); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> right = mergeSort(array.slice(middle, length), compareFn); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    array = merge(left, right, compareFn); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">merge</span>(<span class=\"params\">left, right, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> j = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> result = [];</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (i &lt; left.length &amp;&amp; j &lt; right.length) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    result.push(</span><br><span class=\"line\">      compareFn(left[i], right[j]) === Compare.LESS_THAN</span><br><span class=\"line\">        ? left[i++]</span><br><span class=\"line\">        : right[j++]</span><br><span class=\"line\">    ); <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> result.concat(i &lt; left.length ? left.slice(i) : right.slice(j)); <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-5.png\" alt=\"sort-5\"></p>\n<p><strong></strong><br> O(nlog(n)) O(nlog(n))</p>\n<p>(1) pivot<br>(2) partition<br>(3) </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">quickSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> quick(array, <span class=\"number\">0</span>, array.length - <span class=\"number\">1</span>, compareFn);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">quick</span>(<span class=\"params\">array, left, right, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> index; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (array.length &gt; <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    index = partition(array, left, right, compareFn); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (left &lt; index - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      quick(array, left, index - <span class=\"number\">1</span>, compareFn); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index &lt; right) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      quick(array, index, right, compareFn); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">partition</span>(<span class=\"params\">array, left, right, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> pivot = array[<span class=\"built_in\">Math</span>.floor((right + left) / <span class=\"number\">2</span>)]; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> i = left; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> j = right; <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (i &lt;= j) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (compareFn(array[i], pivot) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">      i++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (compareFn(array[j], pivot) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">      j--;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (i &lt;= j) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;14&#125;</span></span><br><span class=\"line\">      swap(array, i, j); <span class=\"comment\">// &#123;15&#125;</span></span><br><span class=\"line\">      i++;</span><br><span class=\"line\">      j--;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> i; <span class=\"comment\">// &#123;16&#125;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><br><img src=\"/2022/10/13/38-data-structure6/sort-6.png\" alt=\"sort-6\"><br><br><img src=\"/2022/10/13/38-data-structure6/sort-7.png\" alt=\"sort-7\"><br><br><img src=\"/2022/10/13/38-data-structure6/sort-8.png\" alt=\"sort-8\"><br><img src=\"/2022/10/13/38-data-structure6/sort-9.png\" alt=\"sort-9\"><br><img src=\"/2022/10/13/38-data-structure6/sort-10.png\" alt=\"sort-10\"></p>\n<p><strong></strong><br></p>\n<p> O(n+k) k </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">countingSort</span>(<span class=\"params\">array</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (array.length &lt; <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> maxValue = findMaxValue(array); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> counts = <span class=\"keyword\">new</span> <span class=\"built_in\">Array</span>(maxValue + <span class=\"number\">1</span>); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  array.forEach(<span class=\"function\">(<span class=\"params\">element</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!counts[element]) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      counts[element] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    counts[element]++; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">let</span> sortedIndex = <span class=\"number\">0</span>;</span><br><span class=\"line\">  counts.forEach(<span class=\"function\">(<span class=\"params\">count, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (count &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      array[sortedIndex++] = i; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      count--; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">findMaxValue</span>(<span class=\"params\">array</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> max = array[<span class=\"number\">0</span>];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (array[i] &gt; max) &#123;</span><br><span class=\"line\">      max = array[i];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> max;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong><br></p>\n<p><em> 5 </em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">bucketSort</span>(<span class=\"params\">array, bucketSize = <span class=\"number\">5</span></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (array.length &lt; <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> buckets = createBuckets(array, bucketSize); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> sortBuckets(buckets); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createBuckets</span>(<span class=\"params\">array, bucketSize</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> minValue = array[<span class=\"number\">0</span>];</span><br><span class=\"line\">  <span class=\"keyword\">let</span> maxValue = array[<span class=\"number\">0</span>];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (array[i] &lt; minValue) &#123;</span><br><span class=\"line\">      minValue = array[i];</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (array[i] &gt; maxValue) &#123;</span><br><span class=\"line\">      maxValue = array[i];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> bucketCount = <span class=\"built_in\">Math</span>.floor((maxValue - minValue) / bucketSize) + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> buckets = [];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; bucketCount; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    buckets[i] = [];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> bucketIndex = <span class=\"built_in\">Math</span>.floor((array[i] - minValue) / bucketSize); <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    buckets[bucketIndex].push(array[i]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> buckets;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sortBuckets</span>(<span class=\"params\">buckets</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> sortedArray = []; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; buckets.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (buckets[i] != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      insertionSort(buckets[i]); <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">      sortedArray.push(...buckets[i]); <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> sortedArray;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-11.png\" alt=\"sort-11\"></p>\n<p><strong></strong><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">radixSort</span>(<span class=\"params\">array, radixBase = <span class=\"number\">10</span></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (array.length &lt; <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> minValue = findMinValue(array);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> maxValue = findMaxValue(array);</span><br><span class=\"line\">  <span class=\"keyword\">let</span> significantDigit = <span class=\"number\">1</span>; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> ((maxValue - minValue) / significantDigit &gt;= <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    array = countingSortForRadix(array, radixBase, significantDigit, minValue); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    significantDigit *= radixBase; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">countingSortForRadix</span>(<span class=\"params\">array, radixBase, significantDigit, minValue</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> bucketsIndex;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> buckets = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> aux = [];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; radixBase; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    buckets[i] = <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    bucketsIndex = <span class=\"built_in\">Math</span>.floor(</span><br><span class=\"line\">      ((array[i] - minValue) / significantDigit) % radixBase</span><br><span class=\"line\">    ); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    buckets[bucketsIndex]++; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; radixBase; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    buckets[i] += buckets[i - <span class=\"number\">1</span>];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = array.length - <span class=\"number\">1</span>; i &gt;= <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">    bucketsIndex = <span class=\"built_in\">Math</span>.floor(</span><br><span class=\"line\">      ((array[i] - minValue) / significantDigit) % radixBase</span><br><span class=\"line\">    ); <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    aux[--buckets[bucketsIndex]] = array[i]; <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">    array[i] = aux[i];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/sort-12.png\" alt=\"sort-12\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><strong></strong><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> DOES_NOT_EXIST = -<span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sequentialSearch</span>(<span class=\"params\">array, value, equalsFn = defaultEquals</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (equalsFn(value, array[i])) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> i; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> DOES_NOT_EXIST; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/search-1.png\" alt=\"search-1\"></p>\n<p><strong></strong><br><br>(1) <br>(2) <br>(3)  1 <br>(4)  1 </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">binarySearch</span>(<span class=\"params\">array, value, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> sortedArray = quickSort(array); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> low = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> high = sortedArray.length - <span class=\"number\">1</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (lesserOrEquals(low, high, compareFn)) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> mid = <span class=\"built_in\">Math</span>.floor((low + high) / <span class=\"number\">2</span>); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> element = sortedArray[mid]; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (compareFn(element, value) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      low = mid + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (compareFn(element, value) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">      high = mid - <span class=\"number\">1</span>; <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> mid; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> DOES_NOT_EXIST; <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">lesserOrEquals</span>(<span class=\"params\">a, b, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> comp = compareFn(a, b);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> comp === Compare.LESS_THAN || comp === Compare.EQUALS;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/search-2.png\" alt=\"search-2\"></p>\n<p><strong></strong><br> mid </p>\n<p></p>\n<p>(1)  position <br>(2) <br>(3)  1 <br>(4)  1 </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">interpolationSearch</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  array,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  value,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  compareFn = defaultCompare,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  equalsFn = defaultEquals,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  diffFn = defaultDiff</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> low = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> high = length - <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> position = -<span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> delta = -<span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (</span><br><span class=\"line\">    low &lt;= high &amp;&amp;</span><br><span class=\"line\">    biggerOrEquals(value, array[low], compareFn) &amp;&amp;</span><br><span class=\"line\">    lesserOrEquals(value, array[high], compareFn)</span><br><span class=\"line\">  ) &#123;</span><br><span class=\"line\">    <span class=\"comment\">/**  array[high] position  array[low]position delta  */</span></span><br><span class=\"line\">    delta = diffFn(value, array[low]) / diffFn(array[high], array[low]);</span><br><span class=\"line\">    position = low + <span class=\"built_in\">Math</span>.floor((high - low) * delta); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (equalsFn(array[position], value)) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> position;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (compareFn(array[position], value) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      low = position + <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      high = position - <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> DOES_NOT_EXIST;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">lesserOrEquals</span>(<span class=\"params\">a, b, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> comp = compareFn(a, b);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> comp === Compare.LESS_THAN || comp === Compare.EQUALS;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">biggerOrEquals</span>(<span class=\"params\">a, b, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> comp = compareFn(a, b);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> comp === Compare.BIGGER_THAN || comp === Compare.EQUALS;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/search-3.png\" alt=\"search-3\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><strong>Fisher-Yates </strong><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">shuffle</span>(<span class=\"params\">array</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = array.length - <span class=\"number\">1</span>; i &gt; <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> randomIndex = <span class=\"built_in\">Math</span>.floor(<span class=\"built_in\">Math</span>.random() * (i + <span class=\"number\">1</span>));</span><br><span class=\"line\">    swap(array, i, randomIndex);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/38-data-structure6/search-4.png\" alt=\"search-4\"></p>\n"},{"title":"(5)","date":"2022-10-08T08:33:37.000Z","_content":"\n#### \n\n###### \n\n(1)\n(2)\n![heat](heat.png)\n\n\n\n\n![min-heat](min-heat.png)\n\n:\n 2 _ index + 1\n 2 _ index + 2\n index / 2\n\n```javascript\nimport { defaultCompare } from '../util';\n\nexport class MinHeap {\n  constructor(compareFn = defaultCompare) {\n    this.compareFn = compareFn; // {1}\n    this.heap = []; // {2}\n  }\n  getLeftIndex(index) {\n    return 2 * index + 1;\n  }\n  getRightIndex(index) {\n    return 2 * index + 2;\n  }\n  getParentIndex(index) {\n    if (index === 0) {\n      return undefined;\n    }\n    return Math.floor((index - 1) / 2);\n  }\n  insert(value) {\n    if (value != null) {\n      this.heap.push(value); // {1}\n      this.siftUp(this.heap.length - 1); // {2}\n      return true;\n    }\n    return false;\n  }\n  // \n  siftUp(index) {\n    let parent = this.getParentIndex(index); // {1}\n    while (\n      index > 0 &&\n      this.compareFn(this.heap[parent], this.heap[index]) > Compare.BIGGER_THAN\n    ) {\n      // {2}\n      swap(this.heap, parent, index); // {3}\n      index = parent;\n      parent = this.getParentIndex(index); // {4}\n    }\n    function swap(array, a, b) {\n      const temp = array[a]; // {5}\n      array[a] = array[b]; // {6}\n      array[b] = temp; // {7}\n    }\n  }\n  size() {\n    return this.heap.length;\n  }\n  isEmpty() {\n    return this.size() === 0;\n  }\n  findMinimum() {\n    return this.isEmpty() ? undefined : this.heap[0]; // {1}\n  }\n  extract() {\n    if (this.isEmpty()) {\n      return undefined; // {1}\n    }\n    if (this.size() === 1) {\n      return this.heap.shift(); // {2}\n    }\n    const removedValue = this.heap.shift(); // {3}\n    this.siftDown(0); // {4}\n    return removedValue; // {5}\n  }\n  siftDown(index) {\n    let element = index;\n    const left = this.getLeftIndex(index); // {1}\n    const right = this.getRightIndex(index); // {2}\n    const size = this.size();\n    if (\n      left < size &&\n      this.compareFn(this.heap[element], this.heap[left]) > Compare.BIGGER_THAN\n    ) {\n      // {3}\n      element = left; // {4}\n    }\n    if (\n      right < size &&\n      this.compareFn(this.heap[element], this.heap[right]) > Compare.BIGGER_THAN\n    ) {\n      // {5}\n      element = right; // {6}\n    }\n    if (index !== element) {\n      // {7}\n      swap(this.heap, index, element); // {8}\n      this.siftDown(element); // {9}\n    }\n  }\n}\n```\n\n![min-heat-pic](min-heat-pic.png)\n\n****\nMaxHeap  MinHeap ><\n\n```javascript\nfunction reverseCompare(compareFn) {\n  return (a, b) => compareFn(b, a);\n}\n\nexport class MaxHeap extends MinHeap {\n  constructor(compareFn = defaultCompare) {\n    super(compareFn);\n    this.compareFn = reverseCompare(compareFn); // {1}\n  }\n}\n```\n\n****\n(1) \n(2)  1\n(3)  2  1\n\n```javascript\nfunction heapSort(array, compareFn = defaultCompare) {\n  let heapSize = array.length;\n  buildMaxHeap(array, compareFn); //  1\n  while (heapSize > 1) {\n    swap(array, 0, --heapSize); //  2\n    heapify(array, 0, heapSize, compareFn); //  3\n  }\n  return array;\n}\nfunction buildMaxHeap(array, compareFn) {\n  for (let i = Math.floor(array.length / 2); i >= 0; i -= 1) {\n    heapify(array, i, array.length, compareFn);\n  }\n  return array;\n}\n```\n\nheapify  siftDown  heapSort \n![heap-sort](heap-sort.png)\n\n****\n\n#### \n\n###### \n\n\nG = (V, E)\nV: \nE:  V \n![graph-1](graph-1.png)\n\nA  B A  D A  C A  E \nA  A  3E  E  2\n v1, v2, , vk  vi  vi+1  A B E I  A C D G\nA D G  A D C A A\n\n\n****\n\nC  D  A  B \n![graph-2](graph-2.png)\n\n![graph-3](graph-3.png)\n\n###### \n\n****\n i  j  array[i][j] === 1 array[i][j] === 0\n![graph-4](graph-4.png)\n__\n(1) 0\n(2)\n\n****\n\n\n![graph-5](graph-5.png)\n\n****\n v  e  array[v][e] === 1array[v][e] === 0\n![graph-6](graph-6.png)\n__\n\n######  Graph \n\n```javascript\nclass Graph {\n  constructor(isDirected = false) {\n    // \n    this.isDirected = isDirected; // {1}\n    //  \n    this.vertices = []; // {2}\n    //  \n    this.adjList = new Dictionary(); // {3}\n  }\n  //  \n  addVertex(v) {\n    if (!this.vertices.includes(v)) {\n      // {5}\n      this.vertices.push(v); // {6}\n      this.adjList.set(v, []); // {7}\n    }\n  }\n  // \n  addEdge(v, w) {\n    if (!this.adjList.get(v)) {\n      this.addVertex(v); // {8}\n    }\n    if (!this.adjList.get(w)) {\n      this.addVertex(w); // {9}\n    }\n    this.adjList.get(v).push(w); // {10}\n    if (!this.isDirected) {\n      this.adjList.get(w).push(v); // {11}\n    }\n  }\n  // \n  getVertices() {\n    return this.vertices;\n  }\n  // \n  getAdjList() {\n    return this.adjList;\n  }\n  toString() {\n    let s = '';\n    for (let i = 0; i < this.vertices.length; i++) {\n      // {15}\n      s += `${this.vertices[i]} -> `;\n      const neighbors = this.adjList.get(this.vertices[i]); // {16}\n      for (let j = 0; j < neighbors.length; j++) {\n        // {17}\n        s += `${neighbors[j]} `;\n      }\n      s += '\\n'; // {18}\n    }\n    return s;\n  }\n}\n```\n\n###### \n\n**\n\n\n\n\n**breadth-first searchBFS**\n**depth-first searchDFS**\n**\n|          |  |                                                            |\n| ------------ | -------- | -------------------------------------------------------------- |\n|  |        |  |\n|  |      |                        |\n\n```javascript\n// \n// \n// \nconst Colors = {\n  WHITE: 0,\n  GREY: 1,\n  BLACK: 2,\n};\n// \nconst initializeColor = (vertices) => {\n  const color = {};\n  for (let i = 0; i < vertices.length; i++) {\n    color[vertices[i]] = Colors.WHITE;\n  }\n  return color;\n};\n```\n\n****\n\n![graph-7](graph-7.png)\n__\n(1)  Q\n(2)  v  v  Q\n(3)  Q \n\n- (a)  u  Q \n- (b)  u \n- (c)  u \n- (d)  u \n\n```javascript\nexport const breadthFirstSearch = (graph, startVertex, callback) => {\n  const vertices = graph.getVertices();\n  const adjList = graph.getAdjList();\n  const color = initializeColor(vertices); // {1}\n  const queue = new Queue(); // {2}\n  queue.enqueue(startVertex); // {3}\n  while (!queue.isEmpty()) {\n    // {4}\n    const u = queue.dequeue(); // {5}\n    const neighbors = adjList.get(u); // {6}\n    // \n    color[u] = Colors.GREY; // {7}\n    for (let i = 0; i < neighbors.length; i++) {\n      // {8}\n      const w = neighbors[i]; // {9}\n      if (color[w] === Colors.WHITE) {\n        // {10}\n        color[w] = Colors.GREY; // {11}\n        queue.enqueue(w); // {12}\n      }\n    }\n    color[u] = Colors.BLACK; // {13}\n    // \n    if (callback) {\n      // {14}\n      callback(u);\n    }\n  }\n};\n\nconst printVertex = (value) => console.log('Visited vertex: ' + value); // {15}\nbreadthFirstSearch(graph, myVertices[0], printVertex);\n```\n\n_ BFS _\n G  v u  v \n\n```javascript\nconst BFS = (graph, startVertex) => {\n  const vertices = graph.getVertices();\n  const adjList = graph.getAdjList();\n  const color = initializeColor(vertices);\n  // \n  const queue = new Queue();\n  const distances = {}; // {1}\n  const predecessors = {}; // {2}\n  queue.enqueue(startVertex);\n  for (let i = 0; i < vertices.length; i++) {\n    // {3}\n    distances[vertices[i]] = 0; // {4}\n    predecessors[vertices[i]] = null; // {5}\n  }\n  while (!queue.isEmpty()) {\n    const u = queue.dequeue();\n    const neighbors = adjList.get(u);\n    color[u] = Colors.GREY;\n    for (let i = 0; i < neighbors.length; i++) {\n      const w = neighbors[i];\n      if (color[w] === Colors.WHITE) {\n        color[w] = Colors.GREY;\n        distances[w] = distances[u] + 1; // {6}\n        predecessors[w] = u; // {7}\n        queue.enqueue(w);\n      }\n    }\n    color[u] = Colors.BLACK;\n  }\n  return {\n    // {8}\n    distances, //  v()  u()  distances[u]\n    predecessors, //  predecessors[u] v  u \n  };\n};\n\nconst shortestPathA = BFS(graph, myVertices[0]);\nconsole.log(shortestPathA);\n// distances: {A: 0, B: 1, C: 1, D: 1, E: 2, F: 2, G: 2, H: 2 , I: 3},\n// predecessors: {A: null, B: \"A\", C: \"A\", D: \"A\", E: \"B\", F: \"B\", G: \"C\", H: \"D\", I: \"E\"}\n\nconst fromVertex = myVertices[0]; // {9}\n\nfor (i = 1; i < myVertices.length; i++) {\n  // {10}\n  const toVertex = myVertices[i]; // {11}\n  // \n  const path = new Stack(); // {12}\n  // \n  for (let v = toVertex; v !== fromVertex; v = shortestPathA.predecessors[v]) {\n    // {13}\n    path.push(v); // {14}\n  }\n  path.push(fromVertex); // {15}\n  let s = path.pop(); // {16}\n  while (!path.isEmpty()) {\n    // {17}\n    s += ' - ' + path.pop(); // {18}\n  }\n  console.log(s); // {19}\n}\n// A - B\n// A - C\n// A - D\n// A - B - E\n// A - B - F\n// A - C - G\n// A - D - H\n// A - B - E - I\n```\n\n__\nDijkstra \nBellman-Ford \nA\\*\nFloyd-Warshall \n\n****\n\n![graph-8](graph-8.png)\n\n v  v\n__\n(1)  v \n(2)  v  w w\n(3)  v \n\n\n\n```javascript\nconst depthFirstSearch = (graph, callback) => {\n  // {1}\n  const vertices = graph.getVertices();\n  const adjList = graph.getAdjList();\n  const color = initializeColor(vertices);\n  for (let i = 0; i < vertices.length; i++) {\n    // {2}\n    if (color[vertices[i]] === Colors.WHITE) {\n      // {3}\n      depthFirstSearchVisit(vertices[i], color, adjList, callback); // {4}\n    }\n  }\n};\nconst depthFirstSearchVisit = (u, color, adjList, callback) => {\n  color[u] = Colors.GREY; // {5}\n  if (callback) {\n    // {6}\n    callback(u);\n  }\n  const neighbors = adjList.get(u); // {7}\n  for (let i = 0; i < neighbors.length; i++) {\n    // {8}\n    const w = neighbors[i]; // {9}\n    if (color[w] === Colors.WHITE) {\n      // {10}\n      depthFirstSearchVisit(w, color, adjList, callback); // {11}\n    }\n  }\n  color[u] = Colors.BLACK; // {12}\n};\n\ndepthFirstSearch(graph, printVertex);\n// Visited vertex: A\n// Visited vertex: B\n// Visited vertex: E\n// Visited vertex: I\n// Visited vertex: F\n// Visited vertex: C\n// Visited vertex: D\n// Visited vertex: G\n// Visited vertex: H\n```\n\n![graph-9](graph-9.png)\n\n_Angular 2+ HTML _\n\n__\n G G \n\n```javascript\nexport const DFS = (graph) => {\n  const vertices = graph.getVertices();\n  const adjList = graph.getAdjList();\n  const color = initializeColor(vertices);\n  const d = {};\n  const f = {};\n  const p = {};\n  const time = { count: 0 }; // {1}\n  for (let i = 0; i < vertices.length; i++) {\n    // {2}\n    f[vertices[i]] = 0;\n    d[vertices[i]] = 0;\n    p[vertices[i]] = null;\n  }\n  for (let i = 0; i < vertices.length; i++) {\n    if (color[vertices[i]] === Colors.WHITE) {\n      DFSVisit(vertices[i], color, d, f, p, time, adjList);\n    }\n  }\n  return {\n    // {3}\n    discovery: d, //  u  d[u]\n    finished: f, //  u u  f[u]\n    predecessors: p, //  u  p[u]\n  };\n};\nconst DFSVisit = (u, color, d, f, p, time, adjList) => {\n  color[u] = Colors.GREY;\n  d[u] = ++time.count; // {4}\n  const neighbors = adjList.get(u);\n  for (let i = 0; i < neighbors.length; i++) {\n    const w = neighbors[i];\n    if (color[w] === Colors.WHITE) {\n      p[w] = u; // {5}\n      DFSVisit(w, color, d, f, p, time, adjList);\n    }\n  }\n  color[u] = Colors.BLACK;\n  f[u] = ++time.count; // {6}\n};\n```\n\n(1)time2|V|\n(2) ud[u] < f[u] ()\n\n_1 <= d [u] < f [u] <= 2|V|_\n/\n![graph-10](graph-10.png)\n\n****\n![graph-11](graph-11.png)\nDAG\n\ntopological sorting topsort  toposort\n\n_ DAG_\n\n```javascript\ngraph = new Graph(true); // \nmyVertices = ['A', 'B', 'C', 'D', 'E', 'F'];\nfor (i = 0; i < myVertices.length; i++) {\n  graph.addVertex(myVertices[i]);\n}\ngraph.addEdge('A', 'C');\ngraph.addEdge('A', 'D');\ngraph.addEdge('B', 'D');\ngraph.addEdge('B', 'E');\ngraph.addEdge('C', 'F');\ngraph.addEdge('F', 'E');\nconst result = DFS(graph);\n```\n\n![graph-12](graph-12.png)\n\n```javascript\nconst fTimes = result.finished;\ns = '';\nfor (let count = 0; count < myVertices.length; count++) {\n  let max = 0;\n  let maxName = null;\n  for (i = 0; i < myVertices.length; i++) {\n    if (fTimes[myVertices[i]] > max) {\n      max = fTimes[myVertices[i]];\n      maxName = myVertices[i];\n    }\n  }\n  s += ' - ' + maxName;\n  delete fTimes[maxName];\n}\nconsole.log(s);\n// B - A - D - C - F - E\n```\n\n###### \n\n_Dijkstra _\nDijkstra \n\n![graph-13](graph-13.png)\n\n```javascript\nvar graph = [\n  [0, 2, 4, 0, 0, 0],\n  [0, 0, 1, 4, 2, 0],\n  [0, 0, 0, 0, 3, 0],\n  [0, 0, 0, 0, 0, 2],\n  [0, 0, 0, 3, 0, 2],\n  [0, 0, 0, 0, 0, 0],\n];\n// JavaScript  INF = Number.MAX_SAFE_INTEGER\nconst INF = Number.MAX_SAFE_INTEGER;\nconst dijkstra = (graph, src) => {\n  const dist = [];\n  const visited = [];\n  const { length } = graph;\n  for (let i = 0; i < length; i++) {\n    // {1}\n    dist[i] = INF; // dist\n    visited[i] = false;\n  }\n  dist[src] = 0; // {2}  0\n  for (let i = 0; i < length - 1; i++) {\n    // {3}\n    const u = minDistance(dist, visited); // {4} \n    visited[u] = true; // {5}  visited\n    for (let v = 0; v < length; v++) {\n      if (\n        !visited[v] &&\n        graph[u][v] !== 0 &&\n        dist[u] !== INF &&\n        dist[u] + graph[u][v] < dist[v]\n      ) {\n        // \n        // {6}\n        dist[v] = dist[u] + graph[u][v]; // {7}\n      }\n    }\n  }\n  return dist; // {8}\n};\n\nconst minDistance = (dist, visited) => {\n  let min = INF;\n  let minIndex = -1;\n  for (let v = 0; v < dist.length; v++) {\n    if (visited[v] === false && dist[v] <= min) {\n      min = dist[v];\n      minIndex = v;\n    }\n  }\n  return minIndex;\n};\n\n// 0 0\n// 1 2\n// 2 4\n// 3 6\n// 4 4\n// 5 6\n```\n\n**Floyd-Warshall **\nFloyd-Warshall \n\n```javascript\nconst floydWarshall = (graph) => {\n  const dist = [];\n  const { length } = graph;\n  for (let i = 0; i < length; i++) {\n    // {1}\n    dist[i] = [];\n    for (let j = 0; j < length; j++) {\n      if (i === j) {\n        dist[i][j] = 0; // {2}\n      } else if (!isFinite(graph[i][j])) {\n        //  Infinity\n        dist[i][j] = Infinity; // {3}\n      } else {\n        //  i  j \n        dist[i][j] = graph[i][j]; // {4}\n      }\n    }\n  }\n  //  0  k {5} i  j  k\n  for (let k = 0; k < length; k++) {\n    // {5}\n    for (let i = 0; i < length; i++) {\n      for (let j = 0; j < length; j++) {\n        //  k  i  j \n        if (dist[i][k] + dist[k][j] < dist[i][j]) {\n          // {6}\n          dist[i][j] = dist[i][k] + dist[k][j]; // {7}\n        }\n      }\n    }\n  }\n  return dist;\n};\n// 0 2 4 6 4 6\n// INF 0 2 4 2 4\n// INF INF 0 6 3 5\n// INF INF INF 0 INF 2\n// INF INF INF 3 0 2\n// INF INF INF INF INF 0\n```\n\n###### (MST)\n\n**Prim **\nPrim  MST \n\n```javascript\nvar graph = [\n  [0, 2, 4, 0, 0, 0],\n  [2, 0, 2, 4, 2, 0],\n  [4, 2, 0, 0, 3, 0],\n  [0, 4, 0, 0, 3, 2],\n  [0, 2, 3, 3, 0, 2],\n  [0, 0, 0, 2, 2, 0],\n];\n\nconst INF = Number.MAX_SAFE_INTEGER;\nconst prim = (graph) => {\n  const parent = [];\n  const key = [];\n  const visited = [];\n  const { length } = graph;\n  // key\n  for (let i = 0; i < length; i++) {\n    // {1}\n    key[i] = INF;\n    visited[i] = false;\n  }\n  //  key  MST  parent[0] = -1\n  key[0] = 0; // {2}\n  parent[0] = -1;\n  for (let i = 0; i < length - 1; i++) {\n    // {3}\n    //  key  Dijkstra minDistance \n    const u = minKey(graph, key, visited); // {4}\n    visited[u] = true; // {5}\n    for (let v = 0; v < length; v++) {\n      //  MST parent\n      if (graph[u][v] && !visited[v] && graph[u][v] < key[v]) {\n        // {6}\n        parent[v] = u; // {7}\n        key[v] = graph[u][v]; // {8}\n      }\n    }\n  }\n  return parent; // {9}\n};\n\nconst minDistance = (dist, key, visited) => {\n  let min = INF;\n  let minIndex = -1;\n  for (let v = 0; v < dist[key].length; v++) {\n    if (visited[v] === false && dist[key][v] <= min) {\n      min = dist[key][v];\n      minIndex = v;\n    }\n  }\n  return minIndex;\n};\n\n// Edge Weight\n// 0 - 1 2\n// 1 - 2 2\n// 5 - 3 2\n// 1 - 4 2\n// 4 - 5 2\n```\n\n**Kruskal **\n MST \n\n```javascript\nconst kruskal = (graph) => {\n  const { length } = graph;\n  const parent = [];\n  let ne = 0;\n  let a;\n  let b;\n  let u;\n  let v;\n  //  cost \n  const cost = initializeCost(graph); // {1}\n  //  MST  1 \n  while (ne < length - 1) {\n    // \n    for (let i = 0, min = INF; i < length; i++) {\n      // {3}\n      for (let j = 0; j < length; j++) {\n        if (cost[i][j] < min) {\n          min = cost[i][j];\n          a = u = i;\n          b = v = j;\n        }\n      }\n    }\n    //  MST \n    u = find(u, parent); // {4}\n    v = find(v, parent); // {5}\n    //  u  v  MST\n    if (union(u, v, parent)) {\n      // {6}\n      ne++;\n    }\n    // \n    cost[a][b] = cost[b][a] = INF; // {7}\n  }\n  return parent;\n};\n\nconst find = (i, parent) => {\n  while (parent[i]) {\n    i = parent[i];\n  }\n  return i;\n};\nconst union = (i, j, parent) => {\n  if (i !== j) {\n    parent[j] = i;\n    return true;\n  }\n  return false;\n};\n```\n","source":"_posts/37-data-structure5.md","raw":"---\ntitle: (5)\ndate: 2022-10-08 16:33:37\ntags:\n---\n\n#### \n\n###### \n\n(1)\n(2)\n![heat](heat.png)\n\n\n\n\n![min-heat](min-heat.png)\n\n:\n 2 _ index + 1\n 2 _ index + 2\n index / 2\n\n```javascript\nimport { defaultCompare } from '../util';\n\nexport class MinHeap {\n  constructor(compareFn = defaultCompare) {\n    this.compareFn = compareFn; // {1}\n    this.heap = []; // {2}\n  }\n  getLeftIndex(index) {\n    return 2 * index + 1;\n  }\n  getRightIndex(index) {\n    return 2 * index + 2;\n  }\n  getParentIndex(index) {\n    if (index === 0) {\n      return undefined;\n    }\n    return Math.floor((index - 1) / 2);\n  }\n  insert(value) {\n    if (value != null) {\n      this.heap.push(value); // {1}\n      this.siftUp(this.heap.length - 1); // {2}\n      return true;\n    }\n    return false;\n  }\n  // \n  siftUp(index) {\n    let parent = this.getParentIndex(index); // {1}\n    while (\n      index > 0 &&\n      this.compareFn(this.heap[parent], this.heap[index]) > Compare.BIGGER_THAN\n    ) {\n      // {2}\n      swap(this.heap, parent, index); // {3}\n      index = parent;\n      parent = this.getParentIndex(index); // {4}\n    }\n    function swap(array, a, b) {\n      const temp = array[a]; // {5}\n      array[a] = array[b]; // {6}\n      array[b] = temp; // {7}\n    }\n  }\n  size() {\n    return this.heap.length;\n  }\n  isEmpty() {\n    return this.size() === 0;\n  }\n  findMinimum() {\n    return this.isEmpty() ? undefined : this.heap[0]; // {1}\n  }\n  extract() {\n    if (this.isEmpty()) {\n      return undefined; // {1}\n    }\n    if (this.size() === 1) {\n      return this.heap.shift(); // {2}\n    }\n    const removedValue = this.heap.shift(); // {3}\n    this.siftDown(0); // {4}\n    return removedValue; // {5}\n  }\n  siftDown(index) {\n    let element = index;\n    const left = this.getLeftIndex(index); // {1}\n    const right = this.getRightIndex(index); // {2}\n    const size = this.size();\n    if (\n      left < size &&\n      this.compareFn(this.heap[element], this.heap[left]) > Compare.BIGGER_THAN\n    ) {\n      // {3}\n      element = left; // {4}\n    }\n    if (\n      right < size &&\n      this.compareFn(this.heap[element], this.heap[right]) > Compare.BIGGER_THAN\n    ) {\n      // {5}\n      element = right; // {6}\n    }\n    if (index !== element) {\n      // {7}\n      swap(this.heap, index, element); // {8}\n      this.siftDown(element); // {9}\n    }\n  }\n}\n```\n\n![min-heat-pic](min-heat-pic.png)\n\n****\nMaxHeap  MinHeap ><\n\n```javascript\nfunction reverseCompare(compareFn) {\n  return (a, b) => compareFn(b, a);\n}\n\nexport class MaxHeap extends MinHeap {\n  constructor(compareFn = defaultCompare) {\n    super(compareFn);\n    this.compareFn = reverseCompare(compareFn); // {1}\n  }\n}\n```\n\n****\n(1) \n(2)  1\n(3)  2  1\n\n```javascript\nfunction heapSort(array, compareFn = defaultCompare) {\n  let heapSize = array.length;\n  buildMaxHeap(array, compareFn); //  1\n  while (heapSize > 1) {\n    swap(array, 0, --heapSize); //  2\n    heapify(array, 0, heapSize, compareFn); //  3\n  }\n  return array;\n}\nfunction buildMaxHeap(array, compareFn) {\n  for (let i = Math.floor(array.length / 2); i >= 0; i -= 1) {\n    heapify(array, i, array.length, compareFn);\n  }\n  return array;\n}\n```\n\nheapify  siftDown  heapSort \n![heap-sort](heap-sort.png)\n\n****\n\n#### \n\n###### \n\n\nG = (V, E)\nV: \nE:  V \n![graph-1](graph-1.png)\n\nA  B A  D A  C A  E \nA  A  3E  E  2\n v1, v2, , vk  vi  vi+1  A B E I  A C D G\nA D G  A D C A A\n\n\n****\n\nC  D  A  B \n![graph-2](graph-2.png)\n\n![graph-3](graph-3.png)\n\n###### \n\n****\n i  j  array[i][j] === 1 array[i][j] === 0\n![graph-4](graph-4.png)\n__\n(1) 0\n(2)\n\n****\n\n\n![graph-5](graph-5.png)\n\n****\n v  e  array[v][e] === 1array[v][e] === 0\n![graph-6](graph-6.png)\n__\n\n######  Graph \n\n```javascript\nclass Graph {\n  constructor(isDirected = false) {\n    // \n    this.isDirected = isDirected; // {1}\n    //  \n    this.vertices = []; // {2}\n    //  \n    this.adjList = new Dictionary(); // {3}\n  }\n  //  \n  addVertex(v) {\n    if (!this.vertices.includes(v)) {\n      // {5}\n      this.vertices.push(v); // {6}\n      this.adjList.set(v, []); // {7}\n    }\n  }\n  // \n  addEdge(v, w) {\n    if (!this.adjList.get(v)) {\n      this.addVertex(v); // {8}\n    }\n    if (!this.adjList.get(w)) {\n      this.addVertex(w); // {9}\n    }\n    this.adjList.get(v).push(w); // {10}\n    if (!this.isDirected) {\n      this.adjList.get(w).push(v); // {11}\n    }\n  }\n  // \n  getVertices() {\n    return this.vertices;\n  }\n  // \n  getAdjList() {\n    return this.adjList;\n  }\n  toString() {\n    let s = '';\n    for (let i = 0; i < this.vertices.length; i++) {\n      // {15}\n      s += `${this.vertices[i]} -> `;\n      const neighbors = this.adjList.get(this.vertices[i]); // {16}\n      for (let j = 0; j < neighbors.length; j++) {\n        // {17}\n        s += `${neighbors[j]} `;\n      }\n      s += '\\n'; // {18}\n    }\n    return s;\n  }\n}\n```\n\n###### \n\n**\n\n\n\n\n**breadth-first searchBFS**\n**depth-first searchDFS**\n**\n|          |  |                                                            |\n| ------------ | -------- | -------------------------------------------------------------- |\n|  |        |  |\n|  |      |                        |\n\n```javascript\n// \n// \n// \nconst Colors = {\n  WHITE: 0,\n  GREY: 1,\n  BLACK: 2,\n};\n// \nconst initializeColor = (vertices) => {\n  const color = {};\n  for (let i = 0; i < vertices.length; i++) {\n    color[vertices[i]] = Colors.WHITE;\n  }\n  return color;\n};\n```\n\n****\n\n![graph-7](graph-7.png)\n__\n(1)  Q\n(2)  v  v  Q\n(3)  Q \n\n- (a)  u  Q \n- (b)  u \n- (c)  u \n- (d)  u \n\n```javascript\nexport const breadthFirstSearch = (graph, startVertex, callback) => {\n  const vertices = graph.getVertices();\n  const adjList = graph.getAdjList();\n  const color = initializeColor(vertices); // {1}\n  const queue = new Queue(); // {2}\n  queue.enqueue(startVertex); // {3}\n  while (!queue.isEmpty()) {\n    // {4}\n    const u = queue.dequeue(); // {5}\n    const neighbors = adjList.get(u); // {6}\n    // \n    color[u] = Colors.GREY; // {7}\n    for (let i = 0; i < neighbors.length; i++) {\n      // {8}\n      const w = neighbors[i]; // {9}\n      if (color[w] === Colors.WHITE) {\n        // {10}\n        color[w] = Colors.GREY; // {11}\n        queue.enqueue(w); // {12}\n      }\n    }\n    color[u] = Colors.BLACK; // {13}\n    // \n    if (callback) {\n      // {14}\n      callback(u);\n    }\n  }\n};\n\nconst printVertex = (value) => console.log('Visited vertex: ' + value); // {15}\nbreadthFirstSearch(graph, myVertices[0], printVertex);\n```\n\n_ BFS _\n G  v u  v \n\n```javascript\nconst BFS = (graph, startVertex) => {\n  const vertices = graph.getVertices();\n  const adjList = graph.getAdjList();\n  const color = initializeColor(vertices);\n  // \n  const queue = new Queue();\n  const distances = {}; // {1}\n  const predecessors = {}; // {2}\n  queue.enqueue(startVertex);\n  for (let i = 0; i < vertices.length; i++) {\n    // {3}\n    distances[vertices[i]] = 0; // {4}\n    predecessors[vertices[i]] = null; // {5}\n  }\n  while (!queue.isEmpty()) {\n    const u = queue.dequeue();\n    const neighbors = adjList.get(u);\n    color[u] = Colors.GREY;\n    for (let i = 0; i < neighbors.length; i++) {\n      const w = neighbors[i];\n      if (color[w] === Colors.WHITE) {\n        color[w] = Colors.GREY;\n        distances[w] = distances[u] + 1; // {6}\n        predecessors[w] = u; // {7}\n        queue.enqueue(w);\n      }\n    }\n    color[u] = Colors.BLACK;\n  }\n  return {\n    // {8}\n    distances, //  v()  u()  distances[u]\n    predecessors, //  predecessors[u] v  u \n  };\n};\n\nconst shortestPathA = BFS(graph, myVertices[0]);\nconsole.log(shortestPathA);\n// distances: {A: 0, B: 1, C: 1, D: 1, E: 2, F: 2, G: 2, H: 2 , I: 3},\n// predecessors: {A: null, B: \"A\", C: \"A\", D: \"A\", E: \"B\", F: \"B\", G: \"C\", H: \"D\", I: \"E\"}\n\nconst fromVertex = myVertices[0]; // {9}\n\nfor (i = 1; i < myVertices.length; i++) {\n  // {10}\n  const toVertex = myVertices[i]; // {11}\n  // \n  const path = new Stack(); // {12}\n  // \n  for (let v = toVertex; v !== fromVertex; v = shortestPathA.predecessors[v]) {\n    // {13}\n    path.push(v); // {14}\n  }\n  path.push(fromVertex); // {15}\n  let s = path.pop(); // {16}\n  while (!path.isEmpty()) {\n    // {17}\n    s += ' - ' + path.pop(); // {18}\n  }\n  console.log(s); // {19}\n}\n// A - B\n// A - C\n// A - D\n// A - B - E\n// A - B - F\n// A - C - G\n// A - D - H\n// A - B - E - I\n```\n\n__\nDijkstra \nBellman-Ford \nA\\*\nFloyd-Warshall \n\n****\n\n![graph-8](graph-8.png)\n\n v  v\n__\n(1)  v \n(2)  v  w w\n(3)  v \n\n\n\n```javascript\nconst depthFirstSearch = (graph, callback) => {\n  // {1}\n  const vertices = graph.getVertices();\n  const adjList = graph.getAdjList();\n  const color = initializeColor(vertices);\n  for (let i = 0; i < vertices.length; i++) {\n    // {2}\n    if (color[vertices[i]] === Colors.WHITE) {\n      // {3}\n      depthFirstSearchVisit(vertices[i], color, adjList, callback); // {4}\n    }\n  }\n};\nconst depthFirstSearchVisit = (u, color, adjList, callback) => {\n  color[u] = Colors.GREY; // {5}\n  if (callback) {\n    // {6}\n    callback(u);\n  }\n  const neighbors = adjList.get(u); // {7}\n  for (let i = 0; i < neighbors.length; i++) {\n    // {8}\n    const w = neighbors[i]; // {9}\n    if (color[w] === Colors.WHITE) {\n      // {10}\n      depthFirstSearchVisit(w, color, adjList, callback); // {11}\n    }\n  }\n  color[u] = Colors.BLACK; // {12}\n};\n\ndepthFirstSearch(graph, printVertex);\n// Visited vertex: A\n// Visited vertex: B\n// Visited vertex: E\n// Visited vertex: I\n// Visited vertex: F\n// Visited vertex: C\n// Visited vertex: D\n// Visited vertex: G\n// Visited vertex: H\n```\n\n![graph-9](graph-9.png)\n\n_Angular 2+ HTML _\n\n__\n G G \n\n```javascript\nexport const DFS = (graph) => {\n  const vertices = graph.getVertices();\n  const adjList = graph.getAdjList();\n  const color = initializeColor(vertices);\n  const d = {};\n  const f = {};\n  const p = {};\n  const time = { count: 0 }; // {1}\n  for (let i = 0; i < vertices.length; i++) {\n    // {2}\n    f[vertices[i]] = 0;\n    d[vertices[i]] = 0;\n    p[vertices[i]] = null;\n  }\n  for (let i = 0; i < vertices.length; i++) {\n    if (color[vertices[i]] === Colors.WHITE) {\n      DFSVisit(vertices[i], color, d, f, p, time, adjList);\n    }\n  }\n  return {\n    // {3}\n    discovery: d, //  u  d[u]\n    finished: f, //  u u  f[u]\n    predecessors: p, //  u  p[u]\n  };\n};\nconst DFSVisit = (u, color, d, f, p, time, adjList) => {\n  color[u] = Colors.GREY;\n  d[u] = ++time.count; // {4}\n  const neighbors = adjList.get(u);\n  for (let i = 0; i < neighbors.length; i++) {\n    const w = neighbors[i];\n    if (color[w] === Colors.WHITE) {\n      p[w] = u; // {5}\n      DFSVisit(w, color, d, f, p, time, adjList);\n    }\n  }\n  color[u] = Colors.BLACK;\n  f[u] = ++time.count; // {6}\n};\n```\n\n(1)time2|V|\n(2) ud[u] < f[u] ()\n\n_1 <= d [u] < f [u] <= 2|V|_\n/\n![graph-10](graph-10.png)\n\n****\n![graph-11](graph-11.png)\nDAG\n\ntopological sorting topsort  toposort\n\n_ DAG_\n\n```javascript\ngraph = new Graph(true); // \nmyVertices = ['A', 'B', 'C', 'D', 'E', 'F'];\nfor (i = 0; i < myVertices.length; i++) {\n  graph.addVertex(myVertices[i]);\n}\ngraph.addEdge('A', 'C');\ngraph.addEdge('A', 'D');\ngraph.addEdge('B', 'D');\ngraph.addEdge('B', 'E');\ngraph.addEdge('C', 'F');\ngraph.addEdge('F', 'E');\nconst result = DFS(graph);\n```\n\n![graph-12](graph-12.png)\n\n```javascript\nconst fTimes = result.finished;\ns = '';\nfor (let count = 0; count < myVertices.length; count++) {\n  let max = 0;\n  let maxName = null;\n  for (i = 0; i < myVertices.length; i++) {\n    if (fTimes[myVertices[i]] > max) {\n      max = fTimes[myVertices[i]];\n      maxName = myVertices[i];\n    }\n  }\n  s += ' - ' + maxName;\n  delete fTimes[maxName];\n}\nconsole.log(s);\n// B - A - D - C - F - E\n```\n\n###### \n\n_Dijkstra _\nDijkstra \n\n![graph-13](graph-13.png)\n\n```javascript\nvar graph = [\n  [0, 2, 4, 0, 0, 0],\n  [0, 0, 1, 4, 2, 0],\n  [0, 0, 0, 0, 3, 0],\n  [0, 0, 0, 0, 0, 2],\n  [0, 0, 0, 3, 0, 2],\n  [0, 0, 0, 0, 0, 0],\n];\n// JavaScript  INF = Number.MAX_SAFE_INTEGER\nconst INF = Number.MAX_SAFE_INTEGER;\nconst dijkstra = (graph, src) => {\n  const dist = [];\n  const visited = [];\n  const { length } = graph;\n  for (let i = 0; i < length; i++) {\n    // {1}\n    dist[i] = INF; // dist\n    visited[i] = false;\n  }\n  dist[src] = 0; // {2}  0\n  for (let i = 0; i < length - 1; i++) {\n    // {3}\n    const u = minDistance(dist, visited); // {4} \n    visited[u] = true; // {5}  visited\n    for (let v = 0; v < length; v++) {\n      if (\n        !visited[v] &&\n        graph[u][v] !== 0 &&\n        dist[u] !== INF &&\n        dist[u] + graph[u][v] < dist[v]\n      ) {\n        // \n        // {6}\n        dist[v] = dist[u] + graph[u][v]; // {7}\n      }\n    }\n  }\n  return dist; // {8}\n};\n\nconst minDistance = (dist, visited) => {\n  let min = INF;\n  let minIndex = -1;\n  for (let v = 0; v < dist.length; v++) {\n    if (visited[v] === false && dist[v] <= min) {\n      min = dist[v];\n      minIndex = v;\n    }\n  }\n  return minIndex;\n};\n\n// 0 0\n// 1 2\n// 2 4\n// 3 6\n// 4 4\n// 5 6\n```\n\n**Floyd-Warshall **\nFloyd-Warshall \n\n```javascript\nconst floydWarshall = (graph) => {\n  const dist = [];\n  const { length } = graph;\n  for (let i = 0; i < length; i++) {\n    // {1}\n    dist[i] = [];\n    for (let j = 0; j < length; j++) {\n      if (i === j) {\n        dist[i][j] = 0; // {2}\n      } else if (!isFinite(graph[i][j])) {\n        //  Infinity\n        dist[i][j] = Infinity; // {3}\n      } else {\n        //  i  j \n        dist[i][j] = graph[i][j]; // {4}\n      }\n    }\n  }\n  //  0  k {5} i  j  k\n  for (let k = 0; k < length; k++) {\n    // {5}\n    for (let i = 0; i < length; i++) {\n      for (let j = 0; j < length; j++) {\n        //  k  i  j \n        if (dist[i][k] + dist[k][j] < dist[i][j]) {\n          // {6}\n          dist[i][j] = dist[i][k] + dist[k][j]; // {7}\n        }\n      }\n    }\n  }\n  return dist;\n};\n// 0 2 4 6 4 6\n// INF 0 2 4 2 4\n// INF INF 0 6 3 5\n// INF INF INF 0 INF 2\n// INF INF INF 3 0 2\n// INF INF INF INF INF 0\n```\n\n###### (MST)\n\n**Prim **\nPrim  MST \n\n```javascript\nvar graph = [\n  [0, 2, 4, 0, 0, 0],\n  [2, 0, 2, 4, 2, 0],\n  [4, 2, 0, 0, 3, 0],\n  [0, 4, 0, 0, 3, 2],\n  [0, 2, 3, 3, 0, 2],\n  [0, 0, 0, 2, 2, 0],\n];\n\nconst INF = Number.MAX_SAFE_INTEGER;\nconst prim = (graph) => {\n  const parent = [];\n  const key = [];\n  const visited = [];\n  const { length } = graph;\n  // key\n  for (let i = 0; i < length; i++) {\n    // {1}\n    key[i] = INF;\n    visited[i] = false;\n  }\n  //  key  MST  parent[0] = -1\n  key[0] = 0; // {2}\n  parent[0] = -1;\n  for (let i = 0; i < length - 1; i++) {\n    // {3}\n    //  key  Dijkstra minDistance \n    const u = minKey(graph, key, visited); // {4}\n    visited[u] = true; // {5}\n    for (let v = 0; v < length; v++) {\n      //  MST parent\n      if (graph[u][v] && !visited[v] && graph[u][v] < key[v]) {\n        // {6}\n        parent[v] = u; // {7}\n        key[v] = graph[u][v]; // {8}\n      }\n    }\n  }\n  return parent; // {9}\n};\n\nconst minDistance = (dist, key, visited) => {\n  let min = INF;\n  let minIndex = -1;\n  for (let v = 0; v < dist[key].length; v++) {\n    if (visited[v] === false && dist[key][v] <= min) {\n      min = dist[key][v];\n      minIndex = v;\n    }\n  }\n  return minIndex;\n};\n\n// Edge Weight\n// 0 - 1 2\n// 1 - 2 2\n// 5 - 3 2\n// 1 - 4 2\n// 4 - 5 2\n```\n\n**Kruskal **\n MST \n\n```javascript\nconst kruskal = (graph) => {\n  const { length } = graph;\n  const parent = [];\n  let ne = 0;\n  let a;\n  let b;\n  let u;\n  let v;\n  //  cost \n  const cost = initializeCost(graph); // {1}\n  //  MST  1 \n  while (ne < length - 1) {\n    // \n    for (let i = 0, min = INF; i < length; i++) {\n      // {3}\n      for (let j = 0; j < length; j++) {\n        if (cost[i][j] < min) {\n          min = cost[i][j];\n          a = u = i;\n          b = v = j;\n        }\n      }\n    }\n    //  MST \n    u = find(u, parent); // {4}\n    v = find(v, parent); // {5}\n    //  u  v  MST\n    if (union(u, v, parent)) {\n      // {6}\n      ne++;\n    }\n    // \n    cost[a][b] = cost[b][a] = INF; // {7}\n  }\n  return parent;\n};\n\nconst find = (i, parent) => {\n  while (parent[i]) {\n    i = parent[i];\n  }\n  return i;\n};\nconst union = (i, j, parent) => {\n  if (i !== j) {\n    parent[j] = i;\n    return true;\n  }\n  return false;\n};\n```\n","slug":"37-data-structure5","published":1,"updated":"2022-10-13T06:14:03.893Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gx4001jcktta6jo57f0","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(1)<br>(2)<br><img src=\"/2022/10/08/37-data-structure5/heat.png\" alt=\"heat\"></p>\n<p><br><br><br><img src=\"/2022/10/08/37-data-structure5/min-heat.png\" alt=\"min-heat\"></p>\n<p>:<br> 2 _ index + 1<br> 2 _ index + 2<br> index / 2</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; defaultCompare &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../util&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MinHeap</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">compareFn = defaultCompare</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.compareFn = compareFn; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.heap = []; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getLeftIndex</span>(<span class=\"params\">index</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">2</span> * index + <span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getRightIndex</span>(<span class=\"params\">index</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">2</span> * index + <span class=\"number\">2</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getParentIndex</span>(<span class=\"params\">index</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Math</span>.floor((index - <span class=\"number\">1</span>) / <span class=\"number\">2</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">value</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (value != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.heap.push(value); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.siftUp(<span class=\"built_in\">this</span>.heap.length - <span class=\"number\">1</span>); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">siftUp</span>(<span class=\"params\">index</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> parent = <span class=\"built_in\">this</span>.getParentIndex(index); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (</span><br><span class=\"line\">      index &gt; <span class=\"number\">0</span> &amp;&amp;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.compareFn(<span class=\"built_in\">this</span>.heap[parent], <span class=\"built_in\">this</span>.heap[index]) &gt; Compare.BIGGER_THAN</span><br><span class=\"line\">    ) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      swap(<span class=\"built_in\">this</span>.heap, parent, index); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      index = parent;</span><br><span class=\"line\">      parent = <span class=\"built_in\">this</span>.getParentIndex(index); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">swap</span>(<span class=\"params\">array, a, b</span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> temp = array[a]; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      array[a] = array[b]; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      array[b] = temp; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.heap.length;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.size() === <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">findMinimum</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.isEmpty() ? <span class=\"literal\">undefined</span> : <span class=\"built_in\">this</span>.heap[<span class=\"number\">0</span>]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">extract</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.size() === <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.heap.shift(); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> removedValue = <span class=\"built_in\">this</span>.heap.shift(); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.siftDown(<span class=\"number\">0</span>); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> removedValue; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">siftDown</span>(<span class=\"params\">index</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> element = index;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> left = <span class=\"built_in\">this</span>.getLeftIndex(index); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> right = <span class=\"built_in\">this</span>.getRightIndex(index); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> size = <span class=\"built_in\">this</span>.size();</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (</span><br><span class=\"line\">      left &lt; size &amp;&amp;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.compareFn(<span class=\"built_in\">this</span>.heap[element], <span class=\"built_in\">this</span>.heap[left]) &gt; Compare.BIGGER_THAN</span><br><span class=\"line\">    ) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      element = left; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (</span><br><span class=\"line\">      right &lt; size &amp;&amp;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.compareFn(<span class=\"built_in\">this</span>.heap[element], <span class=\"built_in\">this</span>.heap[right]) &gt; Compare.BIGGER_THAN</span><br><span class=\"line\">    ) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      element = right; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index !== element) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      swap(<span class=\"built_in\">this</span>.heap, index, element); <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.siftDown(element); <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/08/37-data-structure5/min-heat-pic.png\" alt=\"min-heat-pic\"></p>\n<p><strong></strong><br>MaxHeap  MinHeap &gt;&lt;</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">reverseCompare</span>(<span class=\"params\">compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> compareFn(b, a);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MaxHeap</span> <span class=\"keyword\">extends</span> <span class=\"title\">MinHeap</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">compareFn = defaultCompare</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>(compareFn);</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.compareFn = reverseCompare(compareFn); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong><br>(1) <br>(2)  1<br>(3)  2  1</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">heapSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> heapSize = array.length;</span><br><span class=\"line\">  buildMaxHeap(array, compareFn); <span class=\"comment\">//  1</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (heapSize &gt; <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    swap(array, <span class=\"number\">0</span>, --heapSize); <span class=\"comment\">//  2</span></span><br><span class=\"line\">    heapify(array, <span class=\"number\">0</span>, heapSize, compareFn); <span class=\"comment\">//  3</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">buildMaxHeap</span>(<span class=\"params\">array, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"built_in\">Math</span>.floor(array.length / <span class=\"number\">2</span>); i &gt;= <span class=\"number\">0</span>; i -= <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    heapify(array, i, array.length, compareFn);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>heapify  siftDown  heapSort <br><img src=\"/2022/10/08/37-data-structure5/heap-sort.png\" alt=\"heap-sort\"></p>\n<p><strong></strong></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><br>G = (V, E)<br>V: <br>E:  V <br><img src=\"/2022/10/08/37-data-structure5/graph-1.png\" alt=\"graph-1\"></p>\n<p>A  B A  D A  C A  E <br>A  A  3E  E  2<br> v1, v2, , vk  vi  vi+1  A B E I  A C D G<br>A D G  A D C A A<br></p>\n<p><strong></strong><br><br>C  D  A  B <br><img src=\"/2022/10/08/37-data-structure5/graph-2.png\" alt=\"graph-2\"><br><br><img src=\"/2022/10/08/37-data-structure5/graph-3.png\" alt=\"graph-3\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><strong></strong><br> i  j  array[i][j] === 1 array[i][j] === 0<br><img src=\"/2022/10/08/37-data-structure5/graph-4.png\" alt=\"graph-4\"><br><em></em><br>(1) 0<br>(2)</p>\n<p><strong></strong><br><br><br><img src=\"/2022/10/08/37-data-structure5/graph-5.png\" alt=\"graph-5\"></p>\n<p><strong></strong><br> v  e  array[v][e] === 1array[v][e] === 0<br><img src=\"/2022/10/08/37-data-structure5/graph-6.png\" alt=\"graph-6\"><br><em></em></p>\n<h6 id=\"-Graph-\"><a href=\"#-Graph-\" class=\"headerlink\" title=\" Graph \"></a> Graph </h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Graph</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">isDirected = <span class=\"literal\">false</span></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.isDirected = isDirected; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//  </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.vertices = []; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//  </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.adjList = <span class=\"keyword\">new</span> Dictionary(); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">addVertex</span>(<span class=\"params\">v</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.vertices.includes(v)) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.vertices.push(v); <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.adjList.set(v, []); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">addEdge</span>(<span class=\"params\">v, w</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.adjList.get(v)) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.addVertex(v); <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.adjList.get(w)) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.addVertex(w); <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.adjList.get(v).push(w); <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.isDirected) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.adjList.get(w).push(v); <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getVertices</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.vertices;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getAdjList</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.adjList;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> s = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"built_in\">this</span>.vertices.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;15&#125;</span></span><br><span class=\"line\">      s += <span class=\"string\">`<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.vertices[i]&#125;</span> -&gt; `</span>;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> neighbors = <span class=\"built_in\">this</span>.adjList.get(<span class=\"built_in\">this</span>.vertices[i]); <span class=\"comment\">// &#123;16&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; neighbors.length; j++) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;17&#125;</span></span><br><span class=\"line\">        s += <span class=\"string\">`<span class=\"subst\">$&#123;neighbors[j]&#125;</span> `</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      s += <span class=\"string\">&#x27;\\n&#x27;</span>; <span class=\"comment\">// &#123;18&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> s;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br><br><br></p>\n<p><strong>breadth-first searchBFS</strong><br><strong>depth-first searchDFS</strong><br><em></em><br>|          |  |                                                            |<br>|  |  |  |<br>|  |        |  |<br>|  |      |                        |</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> Colors = &#123;</span><br><span class=\"line\">  <span class=\"attr\">WHITE</span>: <span class=\"number\">0</span>,</span><br><span class=\"line\">  <span class=\"attr\">GREY</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">  <span class=\"attr\">BLACK</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> initializeColor = <span class=\"function\">(<span class=\"params\">vertices</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> color = &#123;&#125;;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; vertices.length; i++) &#123;</span><br><span class=\"line\">    color[vertices[i]] = Colors.WHITE;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> color;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong><br><br><img src=\"/2022/10/08/37-data-structure5/graph-7.png\" alt=\"graph-7\"><br><em></em><br>(1)  Q<br>(2)  v  v  Q<br>(3)  Q </p>\n<ul>\n<li>(a)  u  Q </li>\n<li>(b)  u </li>\n<li>(c)  u </li>\n<li>(d)  u </li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> breadthFirstSearch = <span class=\"function\">(<span class=\"params\">graph, startVertex, callback</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> vertices = graph.getVertices();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> adjList = graph.getAdjList();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> color = initializeColor(vertices); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> queue = <span class=\"keyword\">new</span> Queue(); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  queue.enqueue(startVertex); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (!queue.isEmpty()) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> u = queue.dequeue(); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> neighbors = adjList.get(u); <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    color[u] = Colors.GREY; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; neighbors.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> w = neighbors[i]; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (color[w] === Colors.WHITE) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">        color[w] = Colors.GREY; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">        queue.enqueue(w); <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    color[u] = Colors.BLACK; <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (callback) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;14&#125;</span></span><br><span class=\"line\">      callback(u);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> printVertex = <span class=\"function\">(<span class=\"params\">value</span>) =&gt;</span> <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;Visited vertex: &#x27;</span> + value); <span class=\"comment\">// &#123;15&#125;</span></span><br><span class=\"line\">breadthFirstSearch(graph, myVertices[<span class=\"number\">0</span>], printVertex);</span><br></pre></td></tr></table></figure>\n\n<p><em> BFS </em><br> G  v u  v </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> BFS = <span class=\"function\">(<span class=\"params\">graph, startVertex</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> vertices = graph.getVertices();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> adjList = graph.getAdjList();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> color = initializeColor(vertices);</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> queue = <span class=\"keyword\">new</span> Queue();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> distances = &#123;&#125;; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> predecessors = &#123;&#125;; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  queue.enqueue(startVertex);</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; vertices.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    distances[vertices[i]] = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    predecessors[vertices[i]] = <span class=\"literal\">null</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (!queue.isEmpty()) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> u = queue.dequeue();</span><br><span class=\"line\">    <span class=\"keyword\">const</span> neighbors = adjList.get(u);</span><br><span class=\"line\">    color[u] = Colors.GREY;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; neighbors.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> w = neighbors[i];</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (color[w] === Colors.WHITE) &#123;</span><br><span class=\"line\">        color[w] = Colors.GREY;</span><br><span class=\"line\">        distances[w] = distances[u] + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        predecessors[w] = u; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">        queue.enqueue(w);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    color[u] = Colors.BLACK;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    distances, <span class=\"comment\">//  v()  u()  distances[u]</span></span><br><span class=\"line\">    predecessors, <span class=\"comment\">//  predecessors[u] v  u </span></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> shortestPathA = BFS(graph, myVertices[<span class=\"number\">0</span>]);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(shortestPathA);</span><br><span class=\"line\"><span class=\"comment\">// distances: &#123;A: 0, B: 1, C: 1, D: 1, E: 2, F: 2, G: 2, H: 2 , I: 3&#125;,</span></span><br><span class=\"line\"><span class=\"comment\">// predecessors: &#123;A: null, B: &quot;A&quot;, C: &quot;A&quot;, D: &quot;A&quot;, E: &quot;B&quot;, F: &quot;B&quot;, G: &quot;C&quot;, H: &quot;D&quot;, I: &quot;E&quot;&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> fromVertex = myVertices[<span class=\"number\">0</span>]; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> (i = <span class=\"number\">1</span>; i &lt; myVertices.length; i++) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> toVertex = myVertices[i]; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> path = <span class=\"keyword\">new</span> Stack(); <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> v = toVertex; v !== fromVertex; v = shortestPathA.predecessors[v]) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">    path.push(v); <span class=\"comment\">// &#123;14&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  path.push(fromVertex); <span class=\"comment\">// &#123;15&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> s = path.pop(); <span class=\"comment\">// &#123;16&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (!path.isEmpty()) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;17&#125;</span></span><br><span class=\"line\">    s += <span class=\"string\">&#x27; - &#x27;</span> + path.pop(); <span class=\"comment\">// &#123;18&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(s); <span class=\"comment\">// &#123;19&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// A - B</span></span><br><span class=\"line\"><span class=\"comment\">// A - C</span></span><br><span class=\"line\"><span class=\"comment\">// A - D</span></span><br><span class=\"line\"><span class=\"comment\">// A - B - E</span></span><br><span class=\"line\"><span class=\"comment\">// A - B - F</span></span><br><span class=\"line\"><span class=\"comment\">// A - C - G</span></span><br><span class=\"line\"><span class=\"comment\">// A - D - H</span></span><br><span class=\"line\"><span class=\"comment\">// A - B - E - I</span></span><br></pre></td></tr></table></figure>\n\n<p><em></em><br>Dijkstra <br>Bellman-Ford <br>A*<br>Floyd-Warshall </p>\n<p><strong></strong><br><br><img src=\"/2022/10/08/37-data-structure5/graph-8.png\" alt=\"graph-8\"></p>\n<p> v  v<br><em></em><br>(1)  v <br>(2)  v  w w<br>(3)  v </p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> depthFirstSearch = <span class=\"function\">(<span class=\"params\">graph, callback</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> vertices = graph.getVertices();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> adjList = graph.getAdjList();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> color = initializeColor(vertices);</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; vertices.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (color[vertices[i]] === Colors.WHITE) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      depthFirstSearchVisit(vertices[i], color, adjList, callback); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> depthFirstSearchVisit = <span class=\"function\">(<span class=\"params\">u, color, adjList, callback</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  color[u] = Colors.GREY; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (callback) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    callback(u);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> neighbors = adjList.get(u); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; neighbors.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> w = neighbors[i]; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (color[w] === Colors.WHITE) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">      depthFirstSearchVisit(w, color, adjList, callback); <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  color[u] = Colors.BLACK; <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">depthFirstSearch(graph, printVertex);</span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: A</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: B</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: E</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: I</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: F</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: C</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: D</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: G</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: H</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/08/37-data-structure5/graph-9.png\" alt=\"graph-9\"></p>\n<p><em>Angular 2+ HTML </em></p>\n<p><em></em><br> G G </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> DFS = <span class=\"function\">(<span class=\"params\">graph</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> vertices = graph.getVertices();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> adjList = graph.getAdjList();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> color = initializeColor(vertices);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> d = &#123;&#125;;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> f = &#123;&#125;;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> p = &#123;&#125;;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> time = &#123; <span class=\"attr\">count</span>: <span class=\"number\">0</span> &#125;; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; vertices.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    f[vertices[i]] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    d[vertices[i]] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    p[vertices[i]] = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; vertices.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (color[vertices[i]] === Colors.WHITE) &#123;</span><br><span class=\"line\">      DFSVisit(vertices[i], color, d, f, p, time, adjList);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"attr\">discovery</span>: d, <span class=\"comment\">//  u  d[u]</span></span><br><span class=\"line\">    <span class=\"attr\">finished</span>: f, <span class=\"comment\">//  u u  f[u]</span></span><br><span class=\"line\">    <span class=\"attr\">predecessors</span>: p, <span class=\"comment\">//  u  p[u]</span></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> DFSVisit = <span class=\"function\">(<span class=\"params\">u, color, d, f, p, time, adjList</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  color[u] = Colors.GREY;</span><br><span class=\"line\">  d[u] = ++time.count; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> neighbors = adjList.get(u);</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; neighbors.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> w = neighbors[i];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (color[w] === Colors.WHITE) &#123;</span><br><span class=\"line\">      p[w] = u; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      DFSVisit(w, color, d, f, p, time, adjList);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  color[u] = Colors.BLACK;</span><br><span class=\"line\">  f[u] = ++time.count; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>(1)time2|V|<br>(2) ud[u] &lt; f[u] ()<br><br><em>1 &lt;= d [u] &lt; f [u] &lt;= 2|V|</em><br>/<br><img src=\"/2022/10/08/37-data-structure5/graph-10.png\" alt=\"graph-10\"></p>\n<p><strong></strong><br><img src=\"/2022/10/08/37-data-structure5/graph-11.png\" alt=\"graph-11\"><br>DAG</p>\n<p>topological sorting topsort  toposort</p>\n<p><em> DAG</em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">graph = <span class=\"keyword\">new</span> Graph(<span class=\"literal\">true</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">myVertices = [<span class=\"string\">&#x27;A&#x27;</span>, <span class=\"string\">&#x27;B&#x27;</span>, <span class=\"string\">&#x27;C&#x27;</span>, <span class=\"string\">&#x27;D&#x27;</span>, <span class=\"string\">&#x27;E&#x27;</span>, <span class=\"string\">&#x27;F&#x27;</span>];</span><br><span class=\"line\"><span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; myVertices.length; i++) &#123;</span><br><span class=\"line\">  graph.addVertex(myVertices[i]);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">&#x27;A&#x27;</span>, <span class=\"string\">&#x27;C&#x27;</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">&#x27;A&#x27;</span>, <span class=\"string\">&#x27;D&#x27;</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">&#x27;B&#x27;</span>, <span class=\"string\">&#x27;D&#x27;</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">&#x27;B&#x27;</span>, <span class=\"string\">&#x27;E&#x27;</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">&#x27;C&#x27;</span>, <span class=\"string\">&#x27;F&#x27;</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">&#x27;F&#x27;</span>, <span class=\"string\">&#x27;E&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> result = DFS(graph);</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/08/37-data-structure5/graph-12.png\" alt=\"graph-12\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> fTimes = result.finished;</span><br><span class=\"line\">s = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> count = <span class=\"number\">0</span>; count &lt; myVertices.length; count++) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> max = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> maxName = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; myVertices.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (fTimes[myVertices[i]] &gt; max) &#123;</span><br><span class=\"line\">      max = fTimes[myVertices[i]];</span><br><span class=\"line\">      maxName = myVertices[i];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  s += <span class=\"string\">&#x27; - &#x27;</span> + maxName;</span><br><span class=\"line\">  <span class=\"keyword\">delete</span> fTimes[maxName];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(s);</span><br><span class=\"line\"><span class=\"comment\">// B - A - D - C - F - E</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em>Dijkstra </em><br>Dijkstra </p>\n<p><img src=\"/2022/10/08/37-data-structure5/graph-13.png\" alt=\"graph-13\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> graph = [</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">];</span><br><span class=\"line\"><span class=\"comment\">// JavaScript  INF = Number.MAX_SAFE_INTEGER</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> INF = <span class=\"built_in\">Number</span>.MAX_SAFE_INTEGER;</span><br><span class=\"line\"><span class=\"keyword\">const</span> dijkstra = <span class=\"function\">(<span class=\"params\">graph, src</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> dist = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> visited = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = graph;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    dist[i] = INF; <span class=\"comment\">// dist</span></span><br><span class=\"line\">    visited[i] = <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  dist[src] = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125;  0</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> u = minDistance(dist, visited); <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">    visited[u] = <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;5&#125;  visited</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> v = <span class=\"number\">0</span>; v &lt; length; v++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (</span><br><span class=\"line\">        !visited[v] &amp;&amp;</span><br><span class=\"line\">        graph[u][v] !== <span class=\"number\">0</span> &amp;&amp;</span><br><span class=\"line\">        dist[u] !== INF &amp;&amp;</span><br><span class=\"line\">        dist[u] + graph[u][v] &lt; dist[v]</span><br><span class=\"line\">      ) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        dist[v] = dist[u] + graph[u][v]; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> dist; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> minDistance = <span class=\"function\">(<span class=\"params\">dist, visited</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> min = INF;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> minIndex = -<span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> v = <span class=\"number\">0</span>; v &lt; dist.length; v++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (visited[v] === <span class=\"literal\">false</span> &amp;&amp; dist[v] &lt;= min) &#123;</span><br><span class=\"line\">      min = dist[v];</span><br><span class=\"line\">      minIndex = v;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> minIndex;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 0 0</span></span><br><span class=\"line\"><span class=\"comment\">// 1 2</span></span><br><span class=\"line\"><span class=\"comment\">// 2 4</span></span><br><span class=\"line\"><span class=\"comment\">// 3 6</span></span><br><span class=\"line\"><span class=\"comment\">// 4 4</span></span><br><span class=\"line\"><span class=\"comment\">// 5 6</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Floyd-Warshall </strong><br>Floyd-Warshall </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> floydWarshall = <span class=\"function\">(<span class=\"params\">graph</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> dist = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = graph;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    dist[i] = [];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length; j++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (i === j) &#123;</span><br><span class=\"line\">        dist[i][j] = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (!<span class=\"built_in\">isFinite</span>(graph[i][j])) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//  Infinity</span></span><br><span class=\"line\">        dist[i][j] = <span class=\"literal\">Infinity</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//  i  j </span></span><br><span class=\"line\">        dist[i][j] = graph[i][j]; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  0  k &#123;5&#125; i  j  k</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> k = <span class=\"number\">0</span>; k &lt; length; k++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length; j++) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//  k  i  j </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (dist[i][k] + dist[k][j] &lt; dist[i][j]) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">          dist[i][j] = dist[i][k] + dist[k][j]; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> dist;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// 0 2 4 6 4 6</span></span><br><span class=\"line\"><span class=\"comment\">// INF 0 2 4 2 4</span></span><br><span class=\"line\"><span class=\"comment\">// INF INF 0 6 3 5</span></span><br><span class=\"line\"><span class=\"comment\">// INF INF INF 0 INF 2</span></span><br><span class=\"line\"><span class=\"comment\">// INF INF INF 3 0 2</span></span><br><span class=\"line\"><span class=\"comment\">// INF INF INF INF INF 0</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"-MST\"><a href=\"#-MST\" class=\"headerlink\" title=\"(MST)\"></a>(MST)</h6><p><strong>Prim </strong><br>Prim  MST </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> graph = [</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">2</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">4</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>, <span class=\"number\">2</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">3</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">2</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> INF = <span class=\"built_in\">Number</span>.MAX_SAFE_INTEGER;</span><br><span class=\"line\"><span class=\"keyword\">const</span> prim = <span class=\"function\">(<span class=\"params\">graph</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> parent = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> key = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> visited = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = graph;</span><br><span class=\"line\">  <span class=\"comment\">// key</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    key[i] = INF;</span><br><span class=\"line\">    visited[i] = <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  key  MST  parent[0] = -1</span></span><br><span class=\"line\">  key[<span class=\"number\">0</span>] = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  parent[<span class=\"number\">0</span>] = -<span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//  key  Dijkstra minDistance </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> u = minKey(graph, key, visited); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    visited[u] = <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> v = <span class=\"number\">0</span>; v &lt; length; v++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">//  MST parent</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (graph[u][v] &amp;&amp; !visited[v] &amp;&amp; graph[u][v] &lt; key[v]) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        parent[v] = u; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">        key[v] = graph[u][v]; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> parent; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> minDistance = <span class=\"function\">(<span class=\"params\">dist, key, visited</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> min = INF;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> minIndex = -<span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> v = <span class=\"number\">0</span>; v &lt; dist[key].length; v++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (visited[v] === <span class=\"literal\">false</span> &amp;&amp; dist[key][v] &lt;= min) &#123;</span><br><span class=\"line\">      min = dist[key][v];</span><br><span class=\"line\">      minIndex = v;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> minIndex;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Edge Weight</span></span><br><span class=\"line\"><span class=\"comment\">// 0 - 1 2</span></span><br><span class=\"line\"><span class=\"comment\">// 1 - 2 2</span></span><br><span class=\"line\"><span class=\"comment\">// 5 - 3 2</span></span><br><span class=\"line\"><span class=\"comment\">// 1 - 4 2</span></span><br><span class=\"line\"><span class=\"comment\">// 4 - 5 2</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Kruskal </strong><br> MST </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> kruskal = <span class=\"function\">(<span class=\"params\">graph</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = graph;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> parent = [];</span><br><span class=\"line\">  <span class=\"keyword\">let</span> ne = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> a;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> b;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> u;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> v;</span><br><span class=\"line\">  <span class=\"comment\">//  cost </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> cost = initializeCost(graph); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  MST  1 </span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (ne &lt; length - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>, min = INF; i &lt; length; i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length; j++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (cost[i][j] &lt; min) &#123;</span><br><span class=\"line\">          min = cost[i][j];</span><br><span class=\"line\">          a = u = i;</span><br><span class=\"line\">          b = v = j;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//  MST </span></span><br><span class=\"line\">    u = find(u, parent); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    v = find(v, parent); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//  u  v  MST</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (union(u, v, parent)) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      ne++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    cost[a][b] = cost[b][a] = INF; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> parent;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> find = <span class=\"function\">(<span class=\"params\">i, parent</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (parent[i]) &#123;</span><br><span class=\"line\">    i = parent[i];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> union = <span class=\"function\">(<span class=\"params\">i, j, parent</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (i !== j) &#123;</span><br><span class=\"line\">    parent[j] = i;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(1)<br>(2)<br><img src=\"/2022/10/08/37-data-structure5/heat.png\" alt=\"heat\"></p>\n<p><br><br><br><img src=\"/2022/10/08/37-data-structure5/min-heat.png\" alt=\"min-heat\"></p>\n<p>:<br> 2 _ index + 1<br> 2 _ index + 2<br> index / 2</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; defaultCompare &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../util&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MinHeap</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">compareFn = defaultCompare</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.compareFn = compareFn; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.heap = []; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getLeftIndex</span>(<span class=\"params\">index</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">2</span> * index + <span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getRightIndex</span>(<span class=\"params\">index</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">2</span> * index + <span class=\"number\">2</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getParentIndex</span>(<span class=\"params\">index</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Math</span>.floor((index - <span class=\"number\">1</span>) / <span class=\"number\">2</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">insert</span>(<span class=\"params\">value</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (value != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.heap.push(value); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.siftUp(<span class=\"built_in\">this</span>.heap.length - <span class=\"number\">1</span>); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">siftUp</span>(<span class=\"params\">index</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> parent = <span class=\"built_in\">this</span>.getParentIndex(index); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (</span><br><span class=\"line\">      index &gt; <span class=\"number\">0</span> &amp;&amp;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.compareFn(<span class=\"built_in\">this</span>.heap[parent], <span class=\"built_in\">this</span>.heap[index]) &gt; Compare.BIGGER_THAN</span><br><span class=\"line\">    ) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      swap(<span class=\"built_in\">this</span>.heap, parent, index); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      index = parent;</span><br><span class=\"line\">      parent = <span class=\"built_in\">this</span>.getParentIndex(index); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">swap</span>(<span class=\"params\">array, a, b</span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> temp = array[a]; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      array[a] = array[b]; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      array[b] = temp; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">size</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.heap.length;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">isEmpty</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.size() === <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">findMinimum</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.isEmpty() ? <span class=\"literal\">undefined</span> : <span class=\"built_in\">this</span>.heap[<span class=\"number\">0</span>]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">extract</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.isEmpty()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">undefined</span>; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.size() === <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.heap.shift(); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> removedValue = <span class=\"built_in\">this</span>.heap.shift(); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.siftDown(<span class=\"number\">0</span>); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> removedValue; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">siftDown</span>(<span class=\"params\">index</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> element = index;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> left = <span class=\"built_in\">this</span>.getLeftIndex(index); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> right = <span class=\"built_in\">this</span>.getRightIndex(index); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> size = <span class=\"built_in\">this</span>.size();</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (</span><br><span class=\"line\">      left &lt; size &amp;&amp;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.compareFn(<span class=\"built_in\">this</span>.heap[element], <span class=\"built_in\">this</span>.heap[left]) &gt; Compare.BIGGER_THAN</span><br><span class=\"line\">    ) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      element = left; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (</span><br><span class=\"line\">      right &lt; size &amp;&amp;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.compareFn(<span class=\"built_in\">this</span>.heap[element], <span class=\"built_in\">this</span>.heap[right]) &gt; Compare.BIGGER_THAN</span><br><span class=\"line\">    ) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      element = right; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index !== element) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      swap(<span class=\"built_in\">this</span>.heap, index, element); <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.siftDown(element); <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/08/37-data-structure5/min-heat-pic.png\" alt=\"min-heat-pic\"></p>\n<p><strong></strong><br>MaxHeap  MinHeap &gt;&lt;</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">reverseCompare</span>(<span class=\"params\">compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> compareFn(b, a);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MaxHeap</span> <span class=\"keyword\">extends</span> <span class=\"title\">MinHeap</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">compareFn = defaultCompare</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>(compareFn);</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.compareFn = reverseCompare(compareFn); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong><br>(1) <br>(2)  1<br>(3)  2  1</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">heapSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> heapSize = array.length;</span><br><span class=\"line\">  buildMaxHeap(array, compareFn); <span class=\"comment\">//  1</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (heapSize &gt; <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    swap(array, <span class=\"number\">0</span>, --heapSize); <span class=\"comment\">//  2</span></span><br><span class=\"line\">    heapify(array, <span class=\"number\">0</span>, heapSize, compareFn); <span class=\"comment\">//  3</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">buildMaxHeap</span>(<span class=\"params\">array, compareFn</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"built_in\">Math</span>.floor(array.length / <span class=\"number\">2</span>); i &gt;= <span class=\"number\">0</span>; i -= <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    heapify(array, i, array.length, compareFn);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>heapify  siftDown  heapSort <br><img src=\"/2022/10/08/37-data-structure5/heap-sort.png\" alt=\"heap-sort\"></p>\n<p><strong></strong></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><br>G = (V, E)<br>V: <br>E:  V <br><img src=\"/2022/10/08/37-data-structure5/graph-1.png\" alt=\"graph-1\"></p>\n<p>A  B A  D A  C A  E <br>A  A  3E  E  2<br> v1, v2, , vk  vi  vi+1  A B E I  A C D G<br>A D G  A D C A A<br></p>\n<p><strong></strong><br><br>C  D  A  B <br><img src=\"/2022/10/08/37-data-structure5/graph-2.png\" alt=\"graph-2\"><br><br><img src=\"/2022/10/08/37-data-structure5/graph-3.png\" alt=\"graph-3\"></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><strong></strong><br> i  j  array[i][j] === 1 array[i][j] === 0<br><img src=\"/2022/10/08/37-data-structure5/graph-4.png\" alt=\"graph-4\"><br><em></em><br>(1) 0<br>(2)</p>\n<p><strong></strong><br><br><br><img src=\"/2022/10/08/37-data-structure5/graph-5.png\" alt=\"graph-5\"></p>\n<p><strong></strong><br> v  e  array[v][e] === 1array[v][e] === 0<br><img src=\"/2022/10/08/37-data-structure5/graph-6.png\" alt=\"graph-6\"><br><em></em></p>\n<h6 id=\"-Graph-\"><a href=\"#-Graph-\" class=\"headerlink\" title=\" Graph \"></a> Graph </h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Graph</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">isDirected = <span class=\"literal\">false</span></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.isDirected = isDirected; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//  </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.vertices = []; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//  </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.adjList = <span class=\"keyword\">new</span> Dictionary(); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">addVertex</span>(<span class=\"params\">v</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.vertices.includes(v)) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.vertices.push(v); <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      <span class=\"built_in\">this</span>.adjList.set(v, []); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">addEdge</span>(<span class=\"params\">v, w</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.adjList.get(v)) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.addVertex(v); <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.adjList.get(w)) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.addVertex(w); <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.adjList.get(v).push(w); <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.isDirected) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.adjList.get(w).push(v); <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getVertices</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.vertices;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">getAdjList</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.adjList;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">toString</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> s = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"built_in\">this</span>.vertices.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;15&#125;</span></span><br><span class=\"line\">      s += <span class=\"string\">`<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.vertices[i]&#125;</span> -&gt; `</span>;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> neighbors = <span class=\"built_in\">this</span>.adjList.get(<span class=\"built_in\">this</span>.vertices[i]); <span class=\"comment\">// &#123;16&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; neighbors.length; j++) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;17&#125;</span></span><br><span class=\"line\">        s += <span class=\"string\">`<span class=\"subst\">$&#123;neighbors[j]&#125;</span> `</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      s += <span class=\"string\">&#x27;\\n&#x27;</span>; <span class=\"comment\">// &#123;18&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> s;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em><br><br><br></p>\n<p><strong>breadth-first searchBFS</strong><br><strong>depth-first searchDFS</strong><br><em></em><br>|          |  |                                                            |<br>|  |  |  |<br>|  |        |  |<br>|  |      |                        |</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> Colors = &#123;</span><br><span class=\"line\">  <span class=\"attr\">WHITE</span>: <span class=\"number\">0</span>,</span><br><span class=\"line\">  <span class=\"attr\">GREY</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">  <span class=\"attr\">BLACK</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> initializeColor = <span class=\"function\">(<span class=\"params\">vertices</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> color = &#123;&#125;;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; vertices.length; i++) &#123;</span><br><span class=\"line\">    color[vertices[i]] = Colors.WHITE;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> color;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong><br><br><img src=\"/2022/10/08/37-data-structure5/graph-7.png\" alt=\"graph-7\"><br><em></em><br>(1)  Q<br>(2)  v  v  Q<br>(3)  Q </p>\n<ul>\n<li>(a)  u  Q </li>\n<li>(b)  u </li>\n<li>(c)  u </li>\n<li>(d)  u </li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> breadthFirstSearch = <span class=\"function\">(<span class=\"params\">graph, startVertex, callback</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> vertices = graph.getVertices();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> adjList = graph.getAdjList();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> color = initializeColor(vertices); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> queue = <span class=\"keyword\">new</span> Queue(); <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  queue.enqueue(startVertex); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (!queue.isEmpty()) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> u = queue.dequeue(); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> neighbors = adjList.get(u); <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    color[u] = Colors.GREY; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; neighbors.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> w = neighbors[i]; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (color[w] === Colors.WHITE) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">        color[w] = Colors.GREY; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">        queue.enqueue(w); <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    color[u] = Colors.BLACK; <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (callback) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;14&#125;</span></span><br><span class=\"line\">      callback(u);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> printVertex = <span class=\"function\">(<span class=\"params\">value</span>) =&gt;</span> <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;Visited vertex: &#x27;</span> + value); <span class=\"comment\">// &#123;15&#125;</span></span><br><span class=\"line\">breadthFirstSearch(graph, myVertices[<span class=\"number\">0</span>], printVertex);</span><br></pre></td></tr></table></figure>\n\n<p><em> BFS </em><br> G  v u  v </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> BFS = <span class=\"function\">(<span class=\"params\">graph, startVertex</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> vertices = graph.getVertices();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> adjList = graph.getAdjList();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> color = initializeColor(vertices);</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> queue = <span class=\"keyword\">new</span> Queue();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> distances = &#123;&#125;; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> predecessors = &#123;&#125;; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  queue.enqueue(startVertex);</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; vertices.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    distances[vertices[i]] = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    predecessors[vertices[i]] = <span class=\"literal\">null</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (!queue.isEmpty()) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> u = queue.dequeue();</span><br><span class=\"line\">    <span class=\"keyword\">const</span> neighbors = adjList.get(u);</span><br><span class=\"line\">    color[u] = Colors.GREY;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; neighbors.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> w = neighbors[i];</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (color[w] === Colors.WHITE) &#123;</span><br><span class=\"line\">        color[w] = Colors.GREY;</span><br><span class=\"line\">        distances[w] = distances[u] + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        predecessors[w] = u; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">        queue.enqueue(w);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    color[u] = Colors.BLACK;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    distances, <span class=\"comment\">//  v()  u()  distances[u]</span></span><br><span class=\"line\">    predecessors, <span class=\"comment\">//  predecessors[u] v  u </span></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> shortestPathA = BFS(graph, myVertices[<span class=\"number\">0</span>]);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(shortestPathA);</span><br><span class=\"line\"><span class=\"comment\">// distances: &#123;A: 0, B: 1, C: 1, D: 1, E: 2, F: 2, G: 2, H: 2 , I: 3&#125;,</span></span><br><span class=\"line\"><span class=\"comment\">// predecessors: &#123;A: null, B: &quot;A&quot;, C: &quot;A&quot;, D: &quot;A&quot;, E: &quot;B&quot;, F: &quot;B&quot;, G: &quot;C&quot;, H: &quot;D&quot;, I: &quot;E&quot;&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> fromVertex = myVertices[<span class=\"number\">0</span>]; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> (i = <span class=\"number\">1</span>; i &lt; myVertices.length; i++) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> toVertex = myVertices[i]; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> path = <span class=\"keyword\">new</span> Stack(); <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> v = toVertex; v !== fromVertex; v = shortestPathA.predecessors[v]) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">    path.push(v); <span class=\"comment\">// &#123;14&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  path.push(fromVertex); <span class=\"comment\">// &#123;15&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> s = path.pop(); <span class=\"comment\">// &#123;16&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (!path.isEmpty()) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;17&#125;</span></span><br><span class=\"line\">    s += <span class=\"string\">&#x27; - &#x27;</span> + path.pop(); <span class=\"comment\">// &#123;18&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(s); <span class=\"comment\">// &#123;19&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// A - B</span></span><br><span class=\"line\"><span class=\"comment\">// A - C</span></span><br><span class=\"line\"><span class=\"comment\">// A - D</span></span><br><span class=\"line\"><span class=\"comment\">// A - B - E</span></span><br><span class=\"line\"><span class=\"comment\">// A - B - F</span></span><br><span class=\"line\"><span class=\"comment\">// A - C - G</span></span><br><span class=\"line\"><span class=\"comment\">// A - D - H</span></span><br><span class=\"line\"><span class=\"comment\">// A - B - E - I</span></span><br></pre></td></tr></table></figure>\n\n<p><em></em><br>Dijkstra <br>Bellman-Ford <br>A*<br>Floyd-Warshall </p>\n<p><strong></strong><br><br><img src=\"/2022/10/08/37-data-structure5/graph-8.png\" alt=\"graph-8\"></p>\n<p> v  v<br><em></em><br>(1)  v <br>(2)  v  w w<br>(3)  v </p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> depthFirstSearch = <span class=\"function\">(<span class=\"params\">graph, callback</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> vertices = graph.getVertices();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> adjList = graph.getAdjList();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> color = initializeColor(vertices);</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; vertices.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (color[vertices[i]] === Colors.WHITE) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      depthFirstSearchVisit(vertices[i], color, adjList, callback); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> depthFirstSearchVisit = <span class=\"function\">(<span class=\"params\">u, color, adjList, callback</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  color[u] = Colors.GREY; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (callback) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    callback(u);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> neighbors = adjList.get(u); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; neighbors.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> w = neighbors[i]; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (color[w] === Colors.WHITE) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">      depthFirstSearchVisit(w, color, adjList, callback); <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  color[u] = Colors.BLACK; <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">depthFirstSearch(graph, printVertex);</span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: A</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: B</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: E</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: I</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: F</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: C</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: D</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: G</span></span><br><span class=\"line\"><span class=\"comment\">// Visited vertex: H</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/08/37-data-structure5/graph-9.png\" alt=\"graph-9\"></p>\n<p><em>Angular 2+ HTML </em></p>\n<p><em></em><br> G G </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> DFS = <span class=\"function\">(<span class=\"params\">graph</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> vertices = graph.getVertices();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> adjList = graph.getAdjList();</span><br><span class=\"line\">  <span class=\"keyword\">const</span> color = initializeColor(vertices);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> d = &#123;&#125;;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> f = &#123;&#125;;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> p = &#123;&#125;;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> time = &#123; <span class=\"attr\">count</span>: <span class=\"number\">0</span> &#125;; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; vertices.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    f[vertices[i]] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    d[vertices[i]] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    p[vertices[i]] = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; vertices.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (color[vertices[i]] === Colors.WHITE) &#123;</span><br><span class=\"line\">      DFSVisit(vertices[i], color, d, f, p, time, adjList);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"attr\">discovery</span>: d, <span class=\"comment\">//  u  d[u]</span></span><br><span class=\"line\">    <span class=\"attr\">finished</span>: f, <span class=\"comment\">//  u u  f[u]</span></span><br><span class=\"line\">    <span class=\"attr\">predecessors</span>: p, <span class=\"comment\">//  u  p[u]</span></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> DFSVisit = <span class=\"function\">(<span class=\"params\">u, color, d, f, p, time, adjList</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  color[u] = Colors.GREY;</span><br><span class=\"line\">  d[u] = ++time.count; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> neighbors = adjList.get(u);</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; neighbors.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> w = neighbors[i];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (color[w] === Colors.WHITE) &#123;</span><br><span class=\"line\">      p[w] = u; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      DFSVisit(w, color, d, f, p, time, adjList);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  color[u] = Colors.BLACK;</span><br><span class=\"line\">  f[u] = ++time.count; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>(1)time2|V|<br>(2) ud[u] &lt; f[u] ()<br><br><em>1 &lt;= d [u] &lt; f [u] &lt;= 2|V|</em><br>/<br><img src=\"/2022/10/08/37-data-structure5/graph-10.png\" alt=\"graph-10\"></p>\n<p><strong></strong><br><img src=\"/2022/10/08/37-data-structure5/graph-11.png\" alt=\"graph-11\"><br>DAG</p>\n<p>topological sorting topsort  toposort</p>\n<p><em> DAG</em></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">graph = <span class=\"keyword\">new</span> Graph(<span class=\"literal\">true</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">myVertices = [<span class=\"string\">&#x27;A&#x27;</span>, <span class=\"string\">&#x27;B&#x27;</span>, <span class=\"string\">&#x27;C&#x27;</span>, <span class=\"string\">&#x27;D&#x27;</span>, <span class=\"string\">&#x27;E&#x27;</span>, <span class=\"string\">&#x27;F&#x27;</span>];</span><br><span class=\"line\"><span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; myVertices.length; i++) &#123;</span><br><span class=\"line\">  graph.addVertex(myVertices[i]);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">&#x27;A&#x27;</span>, <span class=\"string\">&#x27;C&#x27;</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">&#x27;A&#x27;</span>, <span class=\"string\">&#x27;D&#x27;</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">&#x27;B&#x27;</span>, <span class=\"string\">&#x27;D&#x27;</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">&#x27;B&#x27;</span>, <span class=\"string\">&#x27;E&#x27;</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">&#x27;C&#x27;</span>, <span class=\"string\">&#x27;F&#x27;</span>);</span><br><span class=\"line\">graph.addEdge(<span class=\"string\">&#x27;F&#x27;</span>, <span class=\"string\">&#x27;E&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> result = DFS(graph);</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/08/37-data-structure5/graph-12.png\" alt=\"graph-12\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> fTimes = result.finished;</span><br><span class=\"line\">s = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> count = <span class=\"number\">0</span>; count &lt; myVertices.length; count++) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> max = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> maxName = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; myVertices.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (fTimes[myVertices[i]] &gt; max) &#123;</span><br><span class=\"line\">      max = fTimes[myVertices[i]];</span><br><span class=\"line\">      maxName = myVertices[i];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  s += <span class=\"string\">&#x27; - &#x27;</span> + maxName;</span><br><span class=\"line\">  <span class=\"keyword\">delete</span> fTimes[maxName];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(s);</span><br><span class=\"line\"><span class=\"comment\">// B - A - D - C - F - E</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em>Dijkstra </em><br>Dijkstra </p>\n<p><img src=\"/2022/10/08/37-data-structure5/graph-13.png\" alt=\"graph-13\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> graph = [</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">];</span><br><span class=\"line\"><span class=\"comment\">// JavaScript  INF = Number.MAX_SAFE_INTEGER</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> INF = <span class=\"built_in\">Number</span>.MAX_SAFE_INTEGER;</span><br><span class=\"line\"><span class=\"keyword\">const</span> dijkstra = <span class=\"function\">(<span class=\"params\">graph, src</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> dist = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> visited = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = graph;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    dist[i] = INF; <span class=\"comment\">// dist</span></span><br><span class=\"line\">    visited[i] = <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  dist[src] = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125;  0</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> u = minDistance(dist, visited); <span class=\"comment\">// &#123;4&#125; </span></span><br><span class=\"line\">    visited[u] = <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;5&#125;  visited</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> v = <span class=\"number\">0</span>; v &lt; length; v++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (</span><br><span class=\"line\">        !visited[v] &amp;&amp;</span><br><span class=\"line\">        graph[u][v] !== <span class=\"number\">0</span> &amp;&amp;</span><br><span class=\"line\">        dist[u] !== INF &amp;&amp;</span><br><span class=\"line\">        dist[u] + graph[u][v] &lt; dist[v]</span><br><span class=\"line\">      ) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        dist[v] = dist[u] + graph[u][v]; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> dist; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> minDistance = <span class=\"function\">(<span class=\"params\">dist, visited</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> min = INF;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> minIndex = -<span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> v = <span class=\"number\">0</span>; v &lt; dist.length; v++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (visited[v] === <span class=\"literal\">false</span> &amp;&amp; dist[v] &lt;= min) &#123;</span><br><span class=\"line\">      min = dist[v];</span><br><span class=\"line\">      minIndex = v;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> minIndex;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 0 0</span></span><br><span class=\"line\"><span class=\"comment\">// 1 2</span></span><br><span class=\"line\"><span class=\"comment\">// 2 4</span></span><br><span class=\"line\"><span class=\"comment\">// 3 6</span></span><br><span class=\"line\"><span class=\"comment\">// 4 4</span></span><br><span class=\"line\"><span class=\"comment\">// 5 6</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Floyd-Warshall </strong><br>Floyd-Warshall </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> floydWarshall = <span class=\"function\">(<span class=\"params\">graph</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> dist = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = graph;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    dist[i] = [];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length; j++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (i === j) &#123;</span><br><span class=\"line\">        dist[i][j] = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (!<span class=\"built_in\">isFinite</span>(graph[i][j])) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//  Infinity</span></span><br><span class=\"line\">        dist[i][j] = <span class=\"literal\">Infinity</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//  i  j </span></span><br><span class=\"line\">        dist[i][j] = graph[i][j]; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  0  k &#123;5&#125; i  j  k</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> k = <span class=\"number\">0</span>; k &lt; length; k++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length; j++) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//  k  i  j </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (dist[i][k] + dist[k][j] &lt; dist[i][j]) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">          dist[i][j] = dist[i][k] + dist[k][j]; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> dist;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// 0 2 4 6 4 6</span></span><br><span class=\"line\"><span class=\"comment\">// INF 0 2 4 2 4</span></span><br><span class=\"line\"><span class=\"comment\">// INF INF 0 6 3 5</span></span><br><span class=\"line\"><span class=\"comment\">// INF INF INF 0 INF 2</span></span><br><span class=\"line\"><span class=\"comment\">// INF INF INF 3 0 2</span></span><br><span class=\"line\"><span class=\"comment\">// INF INF INF INF INF 0</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"-MST\"><a href=\"#-MST\" class=\"headerlink\" title=\"(MST)\"></a>(MST)</h6><p><strong>Prim </strong><br>Prim  MST </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> graph = [</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">2</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">4</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>, <span class=\"number\">2</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">3</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">2</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> INF = <span class=\"built_in\">Number</span>.MAX_SAFE_INTEGER;</span><br><span class=\"line\"><span class=\"keyword\">const</span> prim = <span class=\"function\">(<span class=\"params\">graph</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> parent = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> key = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> visited = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = graph;</span><br><span class=\"line\">  <span class=\"comment\">// key</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    key[i] = INF;</span><br><span class=\"line\">    visited[i] = <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//  key  MST  parent[0] = -1</span></span><br><span class=\"line\">  key[<span class=\"number\">0</span>] = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">  parent[<span class=\"number\">0</span>] = -<span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//  key  Dijkstra minDistance </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> u = minKey(graph, key, visited); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    visited[u] = <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> v = <span class=\"number\">0</span>; v &lt; length; v++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">//  MST parent</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (graph[u][v] &amp;&amp; !visited[v] &amp;&amp; graph[u][v] &lt; key[v]) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">        parent[v] = u; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">        key[v] = graph[u][v]; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> parent; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> minDistance = <span class=\"function\">(<span class=\"params\">dist, key, visited</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> min = INF;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> minIndex = -<span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> v = <span class=\"number\">0</span>; v &lt; dist[key].length; v++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (visited[v] === <span class=\"literal\">false</span> &amp;&amp; dist[key][v] &lt;= min) &#123;</span><br><span class=\"line\">      min = dist[key][v];</span><br><span class=\"line\">      minIndex = v;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> minIndex;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Edge Weight</span></span><br><span class=\"line\"><span class=\"comment\">// 0 - 1 2</span></span><br><span class=\"line\"><span class=\"comment\">// 1 - 2 2</span></span><br><span class=\"line\"><span class=\"comment\">// 5 - 3 2</span></span><br><span class=\"line\"><span class=\"comment\">// 1 - 4 2</span></span><br><span class=\"line\"><span class=\"comment\">// 4 - 5 2</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Kruskal </strong><br> MST </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> kruskal = <span class=\"function\">(<span class=\"params\">graph</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = graph;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> parent = [];</span><br><span class=\"line\">  <span class=\"keyword\">let</span> ne = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> a;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> b;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> u;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> v;</span><br><span class=\"line\">  <span class=\"comment\">//  cost </span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> cost = initializeCost(graph); <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">//  MST  1 </span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> (ne &lt; length - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>, min = INF; i &lt; length; i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length; j++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (cost[i][j] &lt; min) &#123;</span><br><span class=\"line\">          min = cost[i][j];</span><br><span class=\"line\">          a = u = i;</span><br><span class=\"line\">          b = v = j;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//  MST </span></span><br><span class=\"line\">    u = find(u, parent); <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    v = find(v, parent); <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//  u  v  MST</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (union(u, v, parent)) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      ne++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    cost[a][b] = cost[b][a] = INF; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> parent;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> find = <span class=\"function\">(<span class=\"params\">i, parent</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (parent[i]) &#123;</span><br><span class=\"line\">    i = parent[i];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> union = <span class=\"function\">(<span class=\"params\">i, j, parent</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (i !== j) &#123;</span><br><span class=\"line\">    parent[j] = i;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n"},{"title":"42-js-equal-type","date":"2022-10-26T06:24:02.000Z","_content":"\n#### javascript\n\n","source":"_posts/41-js-equal-type.md","raw":"---\ntitle: 42-js-equal-type\ndate: 2022-10-26 14:24:02\ntags:\n---\n\n#### javascript\n\n","slug":"41-js-equal-type","published":1,"updated":"2022-10-26T09:26:49.205Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gx5001kcktt4st45hhz","content":"<h4 id=\"javascript\"><a href=\"#javascript\" class=\"headerlink\" title=\"javascript\"></a>javascript</h4>","site":{"data":{}},"excerpt":"","more":"<h4 id=\"javascript\"><a href=\"#javascript\" class=\"headerlink\" title=\"javascript\"></a>javascript</h4>"},{"title":"(7)","date":"2022-10-13T08:13:40.000Z","_content":"\n#### \n\n###### \n\n\n\n\n(1) \n(2) \n(3) \n\n****\n mid \n\n\n\n```javascript\nfunction binarySearchRecursive(\n  array,\n  value,\n  low,\n  high,\n  compareFn = defaultCompare\n) {\n  if (low <= high) {\n    const mid = Math.floor((low + high) / 2);\n    const element = array[mid];\n    if (compareFn(element, value) === Compare.LESS_THAN) {\n      // {1}\n      return binarySearchRecursive(array, value, mid + 1, high, compareFn);\n    } else if (compareFn(element, value) === Compare.BIGGER_THAN) {\n      // {2}\n      return binarySearchRecursive(array, value, low, mid - 1, compareFn);\n    } else {\n      return mid; // {3}\n    }\n  }\n  return DOES_NOT_EXIST; // {4}\n}\nexport function binarySearch(array, value, compareFn = defaultCompare) {\n  const sortedArray = quickSort(array);\n  const low = 0;\n  const high = sortedArray.length - 1;\n  return binarySearchRecursive(array, value, low, high, compareFn);\n}\n```\n\n![technology-1](technology-1.png)\n\n****\ndynamic programmingDP\n\n__\n\n\n(1) \n(2) \n(3) \n\n__\n(1)\n(2)\n(3)\n(4) d1, , dn \n(5)(u, v) u  v (Floyd-Warshall )\n\n__\n d1, , dn  d1, , dn \n\n```javascript\n// coins \nfunction minCoinChange(coins, amount) {\n  const cache = []; // {1}\n  const makeChange = (value) => {\n    // {2}\n    if (!value) {\n      // {3}\n      return [];\n    }\n    if (cache[value]) {\n      // {4}\n      return cache[value];\n    }\n    let min = [];\n    let newMin;\n    let newAmount;\n    for (let i = 0; i < coins.length; i++) {\n      // {5}\n      const coin = coins[i];\n      newAmount = value - coin; // {6}\n      if (newAmount >= 0) {\n        newMin = makeChange(newAmount); // {7}\n      }\n      if (\n        newAmount >= 0 && // {8}\n        (newMin.length < min.length - 1 || !min.length) && // {9}\n        (newMin.length || !newAmount) // {10}\n      ) {\n        min = [coin].concat(newMin); // {11}\n        console.log('new Min ' + min + ' for ' + amount);\n      }\n    }\n    return (cache[value] = min); // {12}\n  };\n  return makeChange(amount); // {13}\n}\n```\n\n__\n W  W\n\n```javascript\nfunction knapSack(capacity, weights, values, n) {\n  const kS = [];\n  // \n  for (let i = 0; i <= n; i++) {\n    kS[i] = [];\n  }\n  for (let i = 0; i <= n; i++) {\n    for (let w = 0; w <= capacity; w++) {\n      if (i === 0 || w === 0) {\n        // {2}\n        kS[i][w] = 0;\n      } else if (weights[i - 1] <= w) {\n        //  i \n        const a = values[i - 1] + kS[i - 1][w - weights[i - 1]];\n        const b = kS[i - 1][w];\n        // \n        kS[i][w] = a > b ? a : b; // {4} max(a,b)\n      } else {\n        kS[i][w] = kS[i - 1][w]; // {5}\n      }\n    }\n  }\n  findValues(n, capacity, kS, weights, values); // {6} \n  return kS[n][capacity]; // {7}\n}\n\nfunction findValues(n, capacity, kS, weights, values) {\n  let i = n;\n  let k = capacity;\n  console.log('');\n  while (i > 0 && k > 0) {\n    if (kS[i][k] !== kS[i - 1][k]) {\n      console.log(\n        ` ${i}  w,v: ${weights[i - 1]}, ${values[i - 1]}`\n      );\n      i--;\n      k -= kS[i][k];\n    } else {\n      i--;\n    }\n  }\n}\n```\n\n![technology-2](technology-2.png)\n\n_(LCS)_\n\n![technology-3](technology-3.png)\n\n```javascript\nfunction lcs(wordX, wordY) {\n  const m = wordX.length;\n  const n = wordY.length;\n  const l = [];\n  for (let i = 0; i <= m; i++) {\n    l[i] = []; // {1}\n    // solution[i] = [];\n    for (let j = 0; j <= n; j++) {\n      l[i][j] = 0; // {2}\n      // solution[i][j] = '0';\n    }\n  }\n  for (let i = 0; i <= m; i++) {\n    for (let j = 0; j <= n; j++) {\n      if (i === 0 || j === 0) {\n        l[i][j] = 0;\n      } else if (wordX[i - 1] === wordY[j - 1]) {\n        l[i][j] = l[i - 1][j - 1] + 1; // {3}\n        // solution[i][j] = 'diagonal';\n      } else {\n        const a = l[i - 1][j];\n        const b = l[i][j - 1];\n        l[i][j] = a > b ? a : b; // {4} max(a,b)\n        // solution[i][j]=(l[i][j] == l[i-1][j]) ? 'top' : 'left';\n      }\n    }\n  }\n  return l[m][n]; // {5}\n  // printSolution(solution, wordX, m, n);\n}\n\nfunction printSolution(solution, wordX, m, n) {\n  let a = m;\n  let b = n;\n  let x = solution[a][b];\n  let answer = '';\n  while (x !== '0') {\n    if (solution[a][b] === 'diagonal') {\n      answer = wordX[a - 1] + answer;\n      a--;\n      b--;\n    } else if (solution[a][b] === 'left') {\n      b--;\n    } else if (solution[a][b] === 'top') {\n      a--;\n    }\n    x = solution[a][b];\n  }\n  console.log('lcs: ' + answer);\n}\n```\n\n![technology-4](technology-4.png)\n\n__\n\n\nA*B*C\\*D \n\nA  10  100 \nB  100  5 \nC  5  50 \nD  50  1 \nA*B*C\\*D  10  1 \n\n(1) (A(B(CD))) 1750 \n(2) ((AB)(CD)) 5300 \n(3) (((AB)C)D) 8000 \n(4) ((A(BC))D) 75 500 \n(5) (A((BC)D)) 31 000 \n\n```javascript\nfunction matrixChainOrder(p) {\n  const n = p.length;\n  const m = [];\n  const s = [];\n  for (let i = 1; i <= n; i++) {\n    m[i] = [];\n    m[i][i] = 0;\n  }\n\n  //   const s = [];\n  // for (let i = 0; i <= n; i++){\n  //  s[i] = [];\n  //  for (let j=0; j <= n; j++){\n  //  s[i][j] = 0;\n  //  }\n  // }\n\n  for (let l = 2; l < n; l++) {\n    for (let i = 1; i <= n - l + 1; i++) {\n      const j = i + l - 1;\n      m[i][j] = Number.MAX_SAFE_INTEGER;\n      for (let k = i; k <= j - 1; k++) {\n        const q = m[i][k] + m[k + 1][j] + p[i - 1] * p[k] * p[j]; // {1}\n        if (q < m[i][j]) {\n          m[i][j] = q; // {2}\n          // s[i][j] = k;\n        }\n      }\n    }\n  }\n  return m[1][n - 1]; // {3}\n  // printOptimalParenthesis(s, 1, n-1);\n}\n\nfunction printOptimalParenthesis(s, i, j) {\n  if (i === j) {\n    console.log('A[' + i + ']');\n  } else {\n    console.log('(');\n    printOptimalParenthesis(s, i, s[i][j]);\n    printOptimalParenthesis(s, s[i][j] + 1, j);\n    console.log(')');\n  }\n}\n// (A[1](A[2](A[3]A[4]))) => (A(B(CD)))\n```\n\n###### \n\n\n\n****\n\n```javascript\nfunction minCoinChange(coins, amount) {\n  const change = [];\n  let total = 0;\n  for (let i = coins.length; i >= 0; i--) {\n    // {1}\n    const coin = coins[i];\n    while (total + coin <= amount) {\n      // {2}\n      change.push(coin); // {3}\n      total += coin; // {4}\n    }\n  }\n  return change;\n}\n```\n\n![technology-5](technology-5.png)\n\n__\n\n****\n\n```javascript\nfunction knapSack(capacity, weights, values) {\n  const n = values.length;\n  let load = 0;\n  let val = 0;\n  for (let i = 0; i < n && load < capacity; i++) {\n    // {1}\n    if (weights[i] <= capacity - load) {\n      // {2}\n      val += values[i];\n      load += weights[i];\n    } else {\n      const r = (capacity - load) / weights[i]; // {3}\n      val += r * values[i];\n      load += weights[i];\n    }\n  }\n  return val;\n}\n```\n\n###### \n\n\n\n****\n\n```javascript\nexport function ratInAMaze(maze) {\n  const solution = [];\n  // \n  for (let i = 0; i < maze.length; i++) {\n    // {1}\n    solution[i] = [];\n    for (let j = 0; j < maze[i].length; j++) {\n      solution[i][j] = 0;\n    }\n  }\n  if (findPath(maze, 0, 0, solution) === true) {\n    // {2}\n    return solution;\n  }\n  return 'NO PATH FOUND'; // {3}\n}\n\nfunction findPath(maze, x, y, solution) {\n  const n = maze.length;\n  if (x === n - 1 && y === n - 1) {\n    // {4}\n    solution[x][y] = 1;\n    return true;\n  }\n  if (isSafe(maze, x, y) === true) {\n    // {5}\n    solution[x][y] = 1; // {6}\n    if (findPath(maze, x + 1, y, solution)) {\n      // {7}\n      return true;\n    }\n    if (findPath(maze, x, y + 1, solution)) {\n      // {8}\n      return true;\n    }\n    solution[x][y] = 0; // {9}\n    return false;\n  }\n  return false; // {10}\n}\n\nfunction isSafe(maze, x, y) {\n  const n = maze.length;\n  if (x >= 0 && y >= 0 && x < n && y < n && maze[x][y] !== 0) {\n    return true; // {11}\n  }\n  return false;\n}\n\nconst maze = [\n  [1, 0, 0, 0],\n  [1, 1, 1, 1],\n  [0, 0, 1, 0],\n  [0, 1, 1, 1],\n];\nconsole.log(ratInAMaze(maze));\n[\n  [1, 0, 0, 0],\n  [1, 1, 1, 0],\n  [0, 0, 1, 0],\n  [0, 0, 1, 1],\n];\n```\n\n****\n\n```javascript\nfunction sudokuSolver(matrix) {\n  if (solveSudoku(matrix) === true) {\n    return matrix;\n  }\n  return '';\n}\n\nconst UNASSIGNED = 0;\nfunction solveSudoku(matrix) {\n  let row = 0;\n  let col = 0;\n  let checkBlankSpaces = false;\n  for (row = 0; row < matrix.length; row++) {\n    // {1}\n    for (col = 0; col < matrix[row].length; col++) {\n      if (matrix[row][col] === UNASSIGNED) {\n        checkBlankSpaces = true; // {2}\n        break;\n      }\n    }\n    if (checkBlankSpaces === true) {\n      // {3}\n      break;\n    }\n  }\n  if (checkBlankSpaces === false) {\n    return true; // {4}\n  }\n  for (let num = 1; num <= 9; num++) {\n    // {5}\n    if (isSafe(matrix, row, col, num)) {\n      // {6}\n      matrix[row][col] = num; // {7}\n      if (solveSudoku(matrix)) {\n        // {8}\n        return true;\n      }\n      matrix[row][col] = UNASSIGNED; // {9}\n    }\n  }\n  return false; // {10}\n}\nfunction isSafe(matrix, row, col, num) {\n  return (\n    !usedInRow(matrix, row, num) &&\n    !usedInCol(matrix, col, num) &&\n    !usedInBox(matrix, row - (row % 3), col - (col % 3), num)\n  );\n}\n\nfunction usedInRow(matrix, row, num) {\n  for (let col = 0; col < matrix.length; col++) {\n    // {11}\n    if (matrix[row][col] === num) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction usedInCol(matrix, col, num) {\n  for (let row = 0; row < matrix.length; row++) {\n    // {12}\n    if (matrix[row][col] === num) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction usedInBox(matrix, boxStartRow, boxStartCol, num) {\n  for (let row = 0; row < 3; row++) {\n    for (let col = 0; col < 3; col++) {\n      if (matrix[row + boxStartRow][col + boxStartCol] === num) {\n        // {13}\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nconst sudokuGrid = [\n  [5, 3, 0, 0, 7, 0, 0, 0, 0],\n  [6, 0, 0, 1, 9, 5, 0, 0, 0],\n  [0, 9, 8, 0, 0, 0, 0, 6, 0],\n  [8, 0, 0, 0, 6, 0, 0, 0, 3],\n  [4, 0, 0, 8, 0, 3, 0, 0, 1],\n  [7, 0, 0, 0, 2, 0, 0, 0, 6],\n  [0, 6, 0, 0, 0, 0, 2, 8, 0],\n  [0, 0, 0, 4, 1, 9, 0, 0, 5],\n  [0, 0, 0, 0, 8, 0, 0, 7, 9],\n];\nconsole.log(sudokuSolver(sudokuGrid));\n[\n  [5, 3, 4, 6, 7, 8, 9, 1, 2],\n  [6, 7, 2, 1, 9, 5, 3, 4, 8],\n  [1, 9, 8, 3, 4, 2, 5, 6, 7],\n  [8, 5, 9, 7, 6, 1, 4, 2, 3],\n  [4, 2, 6, 8, 5, 3, 7, 9, 1],\n  [7, 1, 3, 9, 2, 4, 8, 5, 6],\n  [9, 6, 1, 5, 3, 7, 2, 8, 4],\n  [2, 8, 7, 4, 1, 9, 6, 3, 5],\n  [3, 4, 5, 2, 8, 6, 1, 7, 9],\n];\n```\n\n###### (FP)\n\n****\n\n```javascript\n// \nconst printArray = function (array) {\n  for (var i = 0; i < array.length; i++) {\n    console.log(array[i]);\n  }\n};\nprintArray([1, 2, 3, 4, 5]);\n\n// \nconst forEach = function (array, action) {\n  for (var i = 0; i < array.length; i++) {\n    action(array[i]);\n  }\n};\nconst logItem = function (item) {\n  console.log(item);\n};\nforEach([1, 2, 3, 4, 5], logItem);\n```\n\n__\n(1)\n(2)\n(3)\n(4)\n(5)\n\n**JavaScript **\nUnderscode.jshttp://underscorejs.org/\nBilby.jshttp://bilby.brianmckenna.org/\nLazy.jshttp://danieltao.com/lazy.js/\nBacon.jshttps://baconjs.github.io/\nFn.jshttp://eliperelman.com/fn.js/\nFunctional.jshttp://functionaljs.com/\nRamda.jshttp://ramdajs.com/0.20.1/index.html\nMorihttp://swannodette.github.io/mori/\n\nJavaScript https://www.packtpub.com/web-development/functional-programming-javascript\n\n#### \n\n######  O \n\n\n O /\n\n|          |          |\n| ------------ | ------------ |\n| O(1)         |        |\n| O(log(n))    |        |\n| O((log(n))c) |  |\n| O(n)         |        |\n| O(n^2)       |        |\n| O(n^c)       |      |\n| O(c^n)       |        |\n\n** O **\n\n CPU O  CPU\n\n1. O(1)\n\n```javascript\nfunction increment(num) {\n  return ++num;\n}\n```\n\n increment(1) X 2 increment  Xincrement  O(1)\n\n2. O(n)\n\n 10 10 1000 1000 sequentialSearch  O(n)n \n\n\n\n```javascript\nfunction sequentialSearch(array, value, equalsFn = defaultEquals) {\n  for (let i = 0; i < array.length; i++) {\n    if (equalsFn(value, array[i])) {\n      // {1}\n      return i;\n    }\n  }\n  return -1;\n}\n\nfunction sequentialSearch(array, value, equalsFn = defaultEquals) {\n  let cost = 0;\n  for (let i = 0; i < array.length; i++) {\n    cost++;\n    if (equalsFn(value, array[i])) {\n      return i;\n    }\n  }\n  console.log(\n    `cost for sequentialSearch with input size ${array.length} is ${cost}`\n  );\n  return -1;\n}\n```\n\n3. O(n^2)\n\n\n\n```javascript\nfunction bubbleSort(array, compareFn = defaultCompare) {\n  const { length } = array;\n  for (let i = 0; i < length; i++) {\n    // {1}\n    for (let j = 0; j < length - 1; j++) {\n      // {2}\n      if (compareFn(array[j], array[j + 1]) === Compare.BIGGER_THAN) {\n        swap(array, j, j + 1);\n      }\n    }\n  }\n  return array;\n}\n\n// {1}{2} 1\nfunction bubbleSort(array, compareFn = defaultCompare) {\n  const { length } = array;\n  let cost = 0;\n  for (let i = 0; i < length; i++) {\n    // {1}\n    cost++;\n    for (let j = 0; j < length - 1; j++) {\n      // {2}\n      cost++;\n      if (compareFn(array[j], array[j + 1]) === Compare.BIGGER_THAN) {\n        swap(array, j, j + 1);\n      }\n    }\n  }\n  console.log(`cost for bubbleSort with input size ${length} is ${cost}`);\n  return array;\n}\n```\n\n 10  bubbleSort 10010^2 100 bubbleSort 10 000100^2\n\n* O(n) O(n^2) O(n^3)*\n\n****\n\n| n | O(1) | O(log(n)) | O(n)   | O(nlog(n)) | O(n^2)      | O(2^n)    |\n| ------------- | ---- | --------- | ------ | ---------- | ----------- | --------- |\n| 10            | 1    | 1         | 10     | 10         | 100         | 1024      |\n| 20            | 1    | 1.30      | 20     | 26.02      | 400         | 1 048 576 |\n| 50            | 1    | 1.69      | 50     | 84.94      | 2500        |     |\n| 100           | 1    | 2         | 100    | 200        | 10 000      |     |\n| 500           | 1    | 2.69      | 500    | 1349.48    | 250 000     |     |\n| 1000          | 1    | 3         | 1000   | 3000       | 1 000 000   |     |\n| 10 000        | 1    | 4         | 10 000 | 40 000     | 100 000 000 |     |\n\n O \n\n![big-o-1](big-o-1.png)\n\n**\n![big-o-2](big-o-2.png)\n\n**\n![big-o-3](big-o-3.png)\n\n**\n![big-o-4](big-o-4.png)\n\n**\n![big-o-5](big-o-5.png)\n\n**NP **\n O(n^k) k .\n\n Ppolynomial\n\nNPnondeterministic polynomial NP\n\n P NPP = NP \n\nNP  NP  L  NP \n(1) L  NP \n(2)  NP  L\n\n L M A L B y M L M B A\n\n NP  NP NP  NP \n\n P<>NP PNPNP  NP \n![big-o-6](big-o-6.png)\n\n NP  NP SAT\n\nNP \n\nhttps://en.wikipedia.org/wiki/NP-completeness\n\n**\n\n\n\n https://en.wikipedia.org/wiki/Heuristic_(computer_science)\n\nUVa Online Judgehttp://uva.onlinejudge.org/\nSphere Online Judgehttp://www.spoj.com/\nCoderbytehttp://coderbyte.com/\nProject Eulerhttps://projecteuler.net/\nHackerRankhttps://www.hackerrank.com\nCodeChefhttp://www.codechef.com/\nTop Coderhttp://www.topcoder.com/\n\n\n#### \n\n- \n- \nFloyd-Warshall \nKruskal \n\n\n\nNP \n- \n\n\n\n\n\nLeetCode\n\nantdvisible\n\ntesting-library/reactreact\numc-ui","source":"_posts/39-data-structure7.md","raw":"---\ntitle: (7)\ndate: 2022-10-13 16:13:40\ntags:\n---\n\n#### \n\n###### \n\n\n\n\n(1) \n(2) \n(3) \n\n****\n mid \n\n\n\n```javascript\nfunction binarySearchRecursive(\n  array,\n  value,\n  low,\n  high,\n  compareFn = defaultCompare\n) {\n  if (low <= high) {\n    const mid = Math.floor((low + high) / 2);\n    const element = array[mid];\n    if (compareFn(element, value) === Compare.LESS_THAN) {\n      // {1}\n      return binarySearchRecursive(array, value, mid + 1, high, compareFn);\n    } else if (compareFn(element, value) === Compare.BIGGER_THAN) {\n      // {2}\n      return binarySearchRecursive(array, value, low, mid - 1, compareFn);\n    } else {\n      return mid; // {3}\n    }\n  }\n  return DOES_NOT_EXIST; // {4}\n}\nexport function binarySearch(array, value, compareFn = defaultCompare) {\n  const sortedArray = quickSort(array);\n  const low = 0;\n  const high = sortedArray.length - 1;\n  return binarySearchRecursive(array, value, low, high, compareFn);\n}\n```\n\n![technology-1](technology-1.png)\n\n****\ndynamic programmingDP\n\n__\n\n\n(1) \n(2) \n(3) \n\n__\n(1)\n(2)\n(3)\n(4) d1, , dn \n(5)(u, v) u  v (Floyd-Warshall )\n\n__\n d1, , dn  d1, , dn \n\n```javascript\n// coins \nfunction minCoinChange(coins, amount) {\n  const cache = []; // {1}\n  const makeChange = (value) => {\n    // {2}\n    if (!value) {\n      // {3}\n      return [];\n    }\n    if (cache[value]) {\n      // {4}\n      return cache[value];\n    }\n    let min = [];\n    let newMin;\n    let newAmount;\n    for (let i = 0; i < coins.length; i++) {\n      // {5}\n      const coin = coins[i];\n      newAmount = value - coin; // {6}\n      if (newAmount >= 0) {\n        newMin = makeChange(newAmount); // {7}\n      }\n      if (\n        newAmount >= 0 && // {8}\n        (newMin.length < min.length - 1 || !min.length) && // {9}\n        (newMin.length || !newAmount) // {10}\n      ) {\n        min = [coin].concat(newMin); // {11}\n        console.log('new Min ' + min + ' for ' + amount);\n      }\n    }\n    return (cache[value] = min); // {12}\n  };\n  return makeChange(amount); // {13}\n}\n```\n\n__\n W  W\n\n```javascript\nfunction knapSack(capacity, weights, values, n) {\n  const kS = [];\n  // \n  for (let i = 0; i <= n; i++) {\n    kS[i] = [];\n  }\n  for (let i = 0; i <= n; i++) {\n    for (let w = 0; w <= capacity; w++) {\n      if (i === 0 || w === 0) {\n        // {2}\n        kS[i][w] = 0;\n      } else if (weights[i - 1] <= w) {\n        //  i \n        const a = values[i - 1] + kS[i - 1][w - weights[i - 1]];\n        const b = kS[i - 1][w];\n        // \n        kS[i][w] = a > b ? a : b; // {4} max(a,b)\n      } else {\n        kS[i][w] = kS[i - 1][w]; // {5}\n      }\n    }\n  }\n  findValues(n, capacity, kS, weights, values); // {6} \n  return kS[n][capacity]; // {7}\n}\n\nfunction findValues(n, capacity, kS, weights, values) {\n  let i = n;\n  let k = capacity;\n  console.log('');\n  while (i > 0 && k > 0) {\n    if (kS[i][k] !== kS[i - 1][k]) {\n      console.log(\n        ` ${i}  w,v: ${weights[i - 1]}, ${values[i - 1]}`\n      );\n      i--;\n      k -= kS[i][k];\n    } else {\n      i--;\n    }\n  }\n}\n```\n\n![technology-2](technology-2.png)\n\n_(LCS)_\n\n![technology-3](technology-3.png)\n\n```javascript\nfunction lcs(wordX, wordY) {\n  const m = wordX.length;\n  const n = wordY.length;\n  const l = [];\n  for (let i = 0; i <= m; i++) {\n    l[i] = []; // {1}\n    // solution[i] = [];\n    for (let j = 0; j <= n; j++) {\n      l[i][j] = 0; // {2}\n      // solution[i][j] = '0';\n    }\n  }\n  for (let i = 0; i <= m; i++) {\n    for (let j = 0; j <= n; j++) {\n      if (i === 0 || j === 0) {\n        l[i][j] = 0;\n      } else if (wordX[i - 1] === wordY[j - 1]) {\n        l[i][j] = l[i - 1][j - 1] + 1; // {3}\n        // solution[i][j] = 'diagonal';\n      } else {\n        const a = l[i - 1][j];\n        const b = l[i][j - 1];\n        l[i][j] = a > b ? a : b; // {4} max(a,b)\n        // solution[i][j]=(l[i][j] == l[i-1][j]) ? 'top' : 'left';\n      }\n    }\n  }\n  return l[m][n]; // {5}\n  // printSolution(solution, wordX, m, n);\n}\n\nfunction printSolution(solution, wordX, m, n) {\n  let a = m;\n  let b = n;\n  let x = solution[a][b];\n  let answer = '';\n  while (x !== '0') {\n    if (solution[a][b] === 'diagonal') {\n      answer = wordX[a - 1] + answer;\n      a--;\n      b--;\n    } else if (solution[a][b] === 'left') {\n      b--;\n    } else if (solution[a][b] === 'top') {\n      a--;\n    }\n    x = solution[a][b];\n  }\n  console.log('lcs: ' + answer);\n}\n```\n\n![technology-4](technology-4.png)\n\n__\n\n\nA*B*C\\*D \n\nA  10  100 \nB  100  5 \nC  5  50 \nD  50  1 \nA*B*C\\*D  10  1 \n\n(1) (A(B(CD))) 1750 \n(2) ((AB)(CD)) 5300 \n(3) (((AB)C)D) 8000 \n(4) ((A(BC))D) 75 500 \n(5) (A((BC)D)) 31 000 \n\n```javascript\nfunction matrixChainOrder(p) {\n  const n = p.length;\n  const m = [];\n  const s = [];\n  for (let i = 1; i <= n; i++) {\n    m[i] = [];\n    m[i][i] = 0;\n  }\n\n  //   const s = [];\n  // for (let i = 0; i <= n; i++){\n  //  s[i] = [];\n  //  for (let j=0; j <= n; j++){\n  //  s[i][j] = 0;\n  //  }\n  // }\n\n  for (let l = 2; l < n; l++) {\n    for (let i = 1; i <= n - l + 1; i++) {\n      const j = i + l - 1;\n      m[i][j] = Number.MAX_SAFE_INTEGER;\n      for (let k = i; k <= j - 1; k++) {\n        const q = m[i][k] + m[k + 1][j] + p[i - 1] * p[k] * p[j]; // {1}\n        if (q < m[i][j]) {\n          m[i][j] = q; // {2}\n          // s[i][j] = k;\n        }\n      }\n    }\n  }\n  return m[1][n - 1]; // {3}\n  // printOptimalParenthesis(s, 1, n-1);\n}\n\nfunction printOptimalParenthesis(s, i, j) {\n  if (i === j) {\n    console.log('A[' + i + ']');\n  } else {\n    console.log('(');\n    printOptimalParenthesis(s, i, s[i][j]);\n    printOptimalParenthesis(s, s[i][j] + 1, j);\n    console.log(')');\n  }\n}\n// (A[1](A[2](A[3]A[4]))) => (A(B(CD)))\n```\n\n###### \n\n\n\n****\n\n```javascript\nfunction minCoinChange(coins, amount) {\n  const change = [];\n  let total = 0;\n  for (let i = coins.length; i >= 0; i--) {\n    // {1}\n    const coin = coins[i];\n    while (total + coin <= amount) {\n      // {2}\n      change.push(coin); // {3}\n      total += coin; // {4}\n    }\n  }\n  return change;\n}\n```\n\n![technology-5](technology-5.png)\n\n__\n\n****\n\n```javascript\nfunction knapSack(capacity, weights, values) {\n  const n = values.length;\n  let load = 0;\n  let val = 0;\n  for (let i = 0; i < n && load < capacity; i++) {\n    // {1}\n    if (weights[i] <= capacity - load) {\n      // {2}\n      val += values[i];\n      load += weights[i];\n    } else {\n      const r = (capacity - load) / weights[i]; // {3}\n      val += r * values[i];\n      load += weights[i];\n    }\n  }\n  return val;\n}\n```\n\n###### \n\n\n\n****\n\n```javascript\nexport function ratInAMaze(maze) {\n  const solution = [];\n  // \n  for (let i = 0; i < maze.length; i++) {\n    // {1}\n    solution[i] = [];\n    for (let j = 0; j < maze[i].length; j++) {\n      solution[i][j] = 0;\n    }\n  }\n  if (findPath(maze, 0, 0, solution) === true) {\n    // {2}\n    return solution;\n  }\n  return 'NO PATH FOUND'; // {3}\n}\n\nfunction findPath(maze, x, y, solution) {\n  const n = maze.length;\n  if (x === n - 1 && y === n - 1) {\n    // {4}\n    solution[x][y] = 1;\n    return true;\n  }\n  if (isSafe(maze, x, y) === true) {\n    // {5}\n    solution[x][y] = 1; // {6}\n    if (findPath(maze, x + 1, y, solution)) {\n      // {7}\n      return true;\n    }\n    if (findPath(maze, x, y + 1, solution)) {\n      // {8}\n      return true;\n    }\n    solution[x][y] = 0; // {9}\n    return false;\n  }\n  return false; // {10}\n}\n\nfunction isSafe(maze, x, y) {\n  const n = maze.length;\n  if (x >= 0 && y >= 0 && x < n && y < n && maze[x][y] !== 0) {\n    return true; // {11}\n  }\n  return false;\n}\n\nconst maze = [\n  [1, 0, 0, 0],\n  [1, 1, 1, 1],\n  [0, 0, 1, 0],\n  [0, 1, 1, 1],\n];\nconsole.log(ratInAMaze(maze));\n[\n  [1, 0, 0, 0],\n  [1, 1, 1, 0],\n  [0, 0, 1, 0],\n  [0, 0, 1, 1],\n];\n```\n\n****\n\n```javascript\nfunction sudokuSolver(matrix) {\n  if (solveSudoku(matrix) === true) {\n    return matrix;\n  }\n  return '';\n}\n\nconst UNASSIGNED = 0;\nfunction solveSudoku(matrix) {\n  let row = 0;\n  let col = 0;\n  let checkBlankSpaces = false;\n  for (row = 0; row < matrix.length; row++) {\n    // {1}\n    for (col = 0; col < matrix[row].length; col++) {\n      if (matrix[row][col] === UNASSIGNED) {\n        checkBlankSpaces = true; // {2}\n        break;\n      }\n    }\n    if (checkBlankSpaces === true) {\n      // {3}\n      break;\n    }\n  }\n  if (checkBlankSpaces === false) {\n    return true; // {4}\n  }\n  for (let num = 1; num <= 9; num++) {\n    // {5}\n    if (isSafe(matrix, row, col, num)) {\n      // {6}\n      matrix[row][col] = num; // {7}\n      if (solveSudoku(matrix)) {\n        // {8}\n        return true;\n      }\n      matrix[row][col] = UNASSIGNED; // {9}\n    }\n  }\n  return false; // {10}\n}\nfunction isSafe(matrix, row, col, num) {\n  return (\n    !usedInRow(matrix, row, num) &&\n    !usedInCol(matrix, col, num) &&\n    !usedInBox(matrix, row - (row % 3), col - (col % 3), num)\n  );\n}\n\nfunction usedInRow(matrix, row, num) {\n  for (let col = 0; col < matrix.length; col++) {\n    // {11}\n    if (matrix[row][col] === num) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction usedInCol(matrix, col, num) {\n  for (let row = 0; row < matrix.length; row++) {\n    // {12}\n    if (matrix[row][col] === num) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction usedInBox(matrix, boxStartRow, boxStartCol, num) {\n  for (let row = 0; row < 3; row++) {\n    for (let col = 0; col < 3; col++) {\n      if (matrix[row + boxStartRow][col + boxStartCol] === num) {\n        // {13}\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nconst sudokuGrid = [\n  [5, 3, 0, 0, 7, 0, 0, 0, 0],\n  [6, 0, 0, 1, 9, 5, 0, 0, 0],\n  [0, 9, 8, 0, 0, 0, 0, 6, 0],\n  [8, 0, 0, 0, 6, 0, 0, 0, 3],\n  [4, 0, 0, 8, 0, 3, 0, 0, 1],\n  [7, 0, 0, 0, 2, 0, 0, 0, 6],\n  [0, 6, 0, 0, 0, 0, 2, 8, 0],\n  [0, 0, 0, 4, 1, 9, 0, 0, 5],\n  [0, 0, 0, 0, 8, 0, 0, 7, 9],\n];\nconsole.log(sudokuSolver(sudokuGrid));\n[\n  [5, 3, 4, 6, 7, 8, 9, 1, 2],\n  [6, 7, 2, 1, 9, 5, 3, 4, 8],\n  [1, 9, 8, 3, 4, 2, 5, 6, 7],\n  [8, 5, 9, 7, 6, 1, 4, 2, 3],\n  [4, 2, 6, 8, 5, 3, 7, 9, 1],\n  [7, 1, 3, 9, 2, 4, 8, 5, 6],\n  [9, 6, 1, 5, 3, 7, 2, 8, 4],\n  [2, 8, 7, 4, 1, 9, 6, 3, 5],\n  [3, 4, 5, 2, 8, 6, 1, 7, 9],\n];\n```\n\n###### (FP)\n\n****\n\n```javascript\n// \nconst printArray = function (array) {\n  for (var i = 0; i < array.length; i++) {\n    console.log(array[i]);\n  }\n};\nprintArray([1, 2, 3, 4, 5]);\n\n// \nconst forEach = function (array, action) {\n  for (var i = 0; i < array.length; i++) {\n    action(array[i]);\n  }\n};\nconst logItem = function (item) {\n  console.log(item);\n};\nforEach([1, 2, 3, 4, 5], logItem);\n```\n\n__\n(1)\n(2)\n(3)\n(4)\n(5)\n\n**JavaScript **\nUnderscode.jshttp://underscorejs.org/\nBilby.jshttp://bilby.brianmckenna.org/\nLazy.jshttp://danieltao.com/lazy.js/\nBacon.jshttps://baconjs.github.io/\nFn.jshttp://eliperelman.com/fn.js/\nFunctional.jshttp://functionaljs.com/\nRamda.jshttp://ramdajs.com/0.20.1/index.html\nMorihttp://swannodette.github.io/mori/\n\nJavaScript https://www.packtpub.com/web-development/functional-programming-javascript\n\n#### \n\n######  O \n\n\n O /\n\n|          |          |\n| ------------ | ------------ |\n| O(1)         |        |\n| O(log(n))    |        |\n| O((log(n))c) |  |\n| O(n)         |        |\n| O(n^2)       |        |\n| O(n^c)       |      |\n| O(c^n)       |        |\n\n** O **\n\n CPU O  CPU\n\n1. O(1)\n\n```javascript\nfunction increment(num) {\n  return ++num;\n}\n```\n\n increment(1) X 2 increment  Xincrement  O(1)\n\n2. O(n)\n\n 10 10 1000 1000 sequentialSearch  O(n)n \n\n\n\n```javascript\nfunction sequentialSearch(array, value, equalsFn = defaultEquals) {\n  for (let i = 0; i < array.length; i++) {\n    if (equalsFn(value, array[i])) {\n      // {1}\n      return i;\n    }\n  }\n  return -1;\n}\n\nfunction sequentialSearch(array, value, equalsFn = defaultEquals) {\n  let cost = 0;\n  for (let i = 0; i < array.length; i++) {\n    cost++;\n    if (equalsFn(value, array[i])) {\n      return i;\n    }\n  }\n  console.log(\n    `cost for sequentialSearch with input size ${array.length} is ${cost}`\n  );\n  return -1;\n}\n```\n\n3. O(n^2)\n\n\n\n```javascript\nfunction bubbleSort(array, compareFn = defaultCompare) {\n  const { length } = array;\n  for (let i = 0; i < length; i++) {\n    // {1}\n    for (let j = 0; j < length - 1; j++) {\n      // {2}\n      if (compareFn(array[j], array[j + 1]) === Compare.BIGGER_THAN) {\n        swap(array, j, j + 1);\n      }\n    }\n  }\n  return array;\n}\n\n// {1}{2} 1\nfunction bubbleSort(array, compareFn = defaultCompare) {\n  const { length } = array;\n  let cost = 0;\n  for (let i = 0; i < length; i++) {\n    // {1}\n    cost++;\n    for (let j = 0; j < length - 1; j++) {\n      // {2}\n      cost++;\n      if (compareFn(array[j], array[j + 1]) === Compare.BIGGER_THAN) {\n        swap(array, j, j + 1);\n      }\n    }\n  }\n  console.log(`cost for bubbleSort with input size ${length} is ${cost}`);\n  return array;\n}\n```\n\n 10  bubbleSort 10010^2 100 bubbleSort 10 000100^2\n\n* O(n) O(n^2) O(n^3)*\n\n****\n\n| n | O(1) | O(log(n)) | O(n)   | O(nlog(n)) | O(n^2)      | O(2^n)    |\n| ------------- | ---- | --------- | ------ | ---------- | ----------- | --------- |\n| 10            | 1    | 1         | 10     | 10         | 100         | 1024      |\n| 20            | 1    | 1.30      | 20     | 26.02      | 400         | 1 048 576 |\n| 50            | 1    | 1.69      | 50     | 84.94      | 2500        |     |\n| 100           | 1    | 2         | 100    | 200        | 10 000      |     |\n| 500           | 1    | 2.69      | 500    | 1349.48    | 250 000     |     |\n| 1000          | 1    | 3         | 1000   | 3000       | 1 000 000   |     |\n| 10 000        | 1    | 4         | 10 000 | 40 000     | 100 000 000 |     |\n\n O \n\n![big-o-1](big-o-1.png)\n\n**\n![big-o-2](big-o-2.png)\n\n**\n![big-o-3](big-o-3.png)\n\n**\n![big-o-4](big-o-4.png)\n\n**\n![big-o-5](big-o-5.png)\n\n**NP **\n O(n^k) k .\n\n Ppolynomial\n\nNPnondeterministic polynomial NP\n\n P NPP = NP \n\nNP  NP  L  NP \n(1) L  NP \n(2)  NP  L\n\n L M A L B y M L M B A\n\n NP  NP NP  NP \n\n P<>NP PNPNP  NP \n![big-o-6](big-o-6.png)\n\n NP  NP SAT\n\nNP \n\nhttps://en.wikipedia.org/wiki/NP-completeness\n\n**\n\n\n\n https://en.wikipedia.org/wiki/Heuristic_(computer_science)\n\nUVa Online Judgehttp://uva.onlinejudge.org/\nSphere Online Judgehttp://www.spoj.com/\nCoderbytehttp://coderbyte.com/\nProject Eulerhttps://projecteuler.net/\nHackerRankhttps://www.hackerrank.com\nCodeChefhttp://www.codechef.com/\nTop Coderhttp://www.topcoder.com/\n\n\n#### \n\n- \n- \nFloyd-Warshall \nKruskal \n\n\n\nNP \n- \n\n\n\n\n\nLeetCode\n\nantdvisible\n\ntesting-library/reactreact\numc-ui","slug":"39-data-structure7","published":1,"updated":"2022-10-25T02:34:13.998Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gx5001lckttflx468i6","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p><br>(1) <br>(2) <br>(3) </p>\n<p><strong></strong><br> mid <br><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">binarySearchRecursive</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  array,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  value,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  low,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  high,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  compareFn = defaultCompare</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (low &lt;= high) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> mid = <span class=\"built_in\">Math</span>.floor((low + high) / <span class=\"number\">2</span>);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> element = array[mid];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (compareFn(element, value) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> binarySearchRecursive(array, value, mid + <span class=\"number\">1</span>, high, compareFn);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (compareFn(element, value) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> binarySearchRecursive(array, value, low, mid - <span class=\"number\">1</span>, compareFn);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> mid; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> DOES_NOT_EXIST; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">binarySearch</span>(<span class=\"params\">array, value, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> sortedArray = quickSort(array);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> low = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> high = sortedArray.length - <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> binarySearchRecursive(array, value, low, high, compareFn);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/39-data-structure7/technology-1.png\" alt=\"technology-1\"></p>\n<p><strong></strong><br>dynamic programmingDP</p>\n<p><em></em></p>\n<p><br>(1) <br>(2) <br>(3) </p>\n<p><em></em><br>(1)<br>(2)<br>(3)<br>(4) d1, , dn <br>(5)(u, v) u  v (Floyd-Warshall )</p>\n<p><em></em><br> d1, , dn  d1, , dn </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// coins </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">minCoinChange</span>(<span class=\"params\">coins, amount</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> cache = []; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> makeChange = <span class=\"function\">(<span class=\"params\">value</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!value) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> [];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (cache[value]) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> cache[value];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> min = [];</span><br><span class=\"line\">    <span class=\"keyword\">let</span> newMin;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> newAmount;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; coins.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> coin = coins[i];</span><br><span class=\"line\">      newAmount = value - coin; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (newAmount &gt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        newMin = makeChange(newAmount); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (</span><br><span class=\"line\">        newAmount &gt;= <span class=\"number\">0</span> &amp;&amp; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">        (newMin.length &lt; min.length - <span class=\"number\">1</span> || !min.length) &amp;&amp; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">        (newMin.length || !newAmount) <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">      ) &#123;</span><br><span class=\"line\">        min = [coin].concat(newMin); <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;new Min &#x27;</span> + min + <span class=\"string\">&#x27; for &#x27;</span> + amount);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (cache[value] = min); <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> makeChange(amount); <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><em></em><br> W  W</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">knapSack</span>(<span class=\"params\">capacity, weights, values, n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> kS = [];</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">    kS[i] = [];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> w = <span class=\"number\">0</span>; w &lt;= capacity; w++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (i === <span class=\"number\">0</span> || w === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">        kS[i][w] = <span class=\"number\">0</span>;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (weights[i - <span class=\"number\">1</span>] &lt;= w) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//  i </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> a = values[i - <span class=\"number\">1</span>] + kS[i - <span class=\"number\">1</span>][w - weights[i - <span class=\"number\">1</span>]];</span><br><span class=\"line\">        <span class=\"keyword\">const</span> b = kS[i - <span class=\"number\">1</span>][w];</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        kS[i][w] = a &gt; b ? a : b; <span class=\"comment\">// &#123;4&#125; max(a,b)</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        kS[i][w] = kS[i - <span class=\"number\">1</span>][w]; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  findValues(n, capacity, kS, weights, values); <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> kS[n][capacity]; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">findValues</span>(<span class=\"params\">n, capacity, kS, weights, values</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> i = n;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> k = capacity;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (i &gt; <span class=\"number\">0</span> &amp;&amp; k &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (kS[i][k] !== kS[i - <span class=\"number\">1</span>][k]) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(</span><br><span class=\"line\">        <span class=\"string\">` <span class=\"subst\">$&#123;i&#125;</span>  w,v: <span class=\"subst\">$&#123;weights[i - <span class=\"number\">1</span>]&#125;</span>, <span class=\"subst\">$&#123;values[i - <span class=\"number\">1</span>]&#125;</span>`</span></span><br><span class=\"line\">      );</span><br><span class=\"line\">      i--;</span><br><span class=\"line\">      k -= kS[i][k];</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      i--;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/39-data-structure7/technology-2.png\" alt=\"technology-2\"></p>\n<p><em>(LCS)</em><br><br><img src=\"/2022/10/13/39-data-structure7/technology-3.png\" alt=\"technology-3\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">lcs</span>(<span class=\"params\">wordX, wordY</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> m = wordX.length;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> n = wordY.length;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> l = [];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt;= m; i++) &#123;</span><br><span class=\"line\">    l[i] = []; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">// solution[i] = [];</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt;= n; j++) &#123;</span><br><span class=\"line\">      l[i][j] = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"comment\">// solution[i][j] = &#x27;0&#x27;;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt;= m; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt;= n; j++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (i === <span class=\"number\">0</span> || j === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        l[i][j] = <span class=\"number\">0</span>;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (wordX[i - <span class=\"number\">1</span>] === wordY[j - <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">        l[i][j] = l[i - <span class=\"number\">1</span>][j - <span class=\"number\">1</span>] + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">        <span class=\"comment\">// solution[i][j] = &#x27;diagonal&#x27;;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> a = l[i - <span class=\"number\">1</span>][j];</span><br><span class=\"line\">        <span class=\"keyword\">const</span> b = l[i][j - <span class=\"number\">1</span>];</span><br><span class=\"line\">        l[i][j] = a &gt; b ? a : b; <span class=\"comment\">// &#123;4&#125; max(a,b)</span></span><br><span class=\"line\">        <span class=\"comment\">// solution[i][j]=(l[i][j] == l[i-1][j]) ? &#x27;top&#x27; : &#x27;left&#x27;;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> l[m][n]; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// printSolution(solution, wordX, m, n);</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">printSolution</span>(<span class=\"params\">solution, wordX, m, n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> a = m;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> b = n;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> x = solution[a][b];</span><br><span class=\"line\">  <span class=\"keyword\">let</span> answer = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (x !== <span class=\"string\">&#x27;0&#x27;</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (solution[a][b] === <span class=\"string\">&#x27;diagonal&#x27;</span>) &#123;</span><br><span class=\"line\">      answer = wordX[a - <span class=\"number\">1</span>] + answer;</span><br><span class=\"line\">      a--;</span><br><span class=\"line\">      b--;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (solution[a][b] === <span class=\"string\">&#x27;left&#x27;</span>) &#123;</span><br><span class=\"line\">      b--;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (solution[a][b] === <span class=\"string\">&#x27;top&#x27;</span>) &#123;</span><br><span class=\"line\">      a--;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    x = solution[a][b];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;lcs: &#x27;</span> + answer);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/39-data-structure7/technology-4.png\" alt=\"technology-4\"></p>\n<p><em></em><br></p>\n<p>A<em>B</em>C*D </p>\n<p>A  10  100 <br>B  100  5 <br>C  5  50 <br>D  50  1 <br>A<em>B</em>C*D  10  1 </p>\n<p>(1) (A(B(CD))) 1750 <br>(2) ((AB)(CD)) 5300 <br>(3) (((AB)C)D) 8000 <br>(4) ((A(BC))D) 75 500 <br>(5) (A((BC)D)) 31 000 </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">matrixChainOrder</span>(<span class=\"params\">p</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> n = p.length;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> m = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> s = [];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">    m[i] = [];</span><br><span class=\"line\">    m[i][i] = <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">//   const s = [];</span></span><br><span class=\"line\">  <span class=\"comment\">// for (let i = 0; i &lt;= n; i++)&#123;</span></span><br><span class=\"line\">  <span class=\"comment\">//  s[i] = [];</span></span><br><span class=\"line\">  <span class=\"comment\">//  for (let j=0; j &lt;= n; j++)&#123;</span></span><br><span class=\"line\">  <span class=\"comment\">//  s[i][j] = 0;</span></span><br><span class=\"line\">  <span class=\"comment\">//  &#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> l = <span class=\"number\">2</span>; l &lt; n; l++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt;= n - l + <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> j = i + l - <span class=\"number\">1</span>;</span><br><span class=\"line\">      m[i][j] = <span class=\"built_in\">Number</span>.MAX_SAFE_INTEGER;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> k = i; k &lt;= j - <span class=\"number\">1</span>; k++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> q = m[i][k] + m[k + <span class=\"number\">1</span>][j] + p[i - <span class=\"number\">1</span>] * p[k] * p[j]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (q &lt; m[i][j]) &#123;</span><br><span class=\"line\">          m[i][j] = q; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">          <span class=\"comment\">// s[i][j] = k;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> m[<span class=\"number\">1</span>][n - <span class=\"number\">1</span>]; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// printOptimalParenthesis(s, 1, n-1);</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">printOptimalParenthesis</span>(<span class=\"params\">s, i, j</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (i === j) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;A[&#x27;</span> + i + <span class=\"string\">&#x27;]&#x27;</span>);</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;(&#x27;</span>);</span><br><span class=\"line\">    printOptimalParenthesis(s, i, s[i][j]);</span><br><span class=\"line\">    printOptimalParenthesis(s, s[i][j] + <span class=\"number\">1</span>, j);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;)&#x27;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// (A[1](A[2](A[3]A[4]))) =&gt; (A(B(CD)))</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">minCoinChange</span>(<span class=\"params\">coins, amount</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> change = [];</span><br><span class=\"line\">  <span class=\"keyword\">let</span> total = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = coins.length; i &gt;= <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> coin = coins[i];</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (total + coin &lt;= amount) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      change.push(coin); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      total += coin; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> change;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/39-data-structure7/technology-5.png\" alt=\"technology-5\"></p>\n<p><em></em></p>\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">knapSack</span>(<span class=\"params\">capacity, weights, values</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> n = values.length;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> load = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> val = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; n &amp;&amp; load &lt; capacity; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (weights[i] &lt;= capacity - load) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      val += values[i];</span><br><span class=\"line\">      load += weights[i];</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> r = (capacity - load) / weights[i]; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      val += r * values[i];</span><br><span class=\"line\">      load += weights[i];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> val;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">ratInAMaze</span>(<span class=\"params\">maze</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> solution = [];</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; maze.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    solution[i] = [];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; maze[i].length; j++) &#123;</span><br><span class=\"line\">      solution[i][j] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (findPath(maze, <span class=\"number\">0</span>, <span class=\"number\">0</span>, solution) === <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> solution;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"string\">&#x27;NO PATH FOUND&#x27;</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">findPath</span>(<span class=\"params\">maze, x, y, solution</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> n = maze.length;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (x === n - <span class=\"number\">1</span> &amp;&amp; y === n - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    solution[x][y] = <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (isSafe(maze, x, y) === <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    solution[x][y] = <span class=\"number\">1</span>; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (findPath(maze, x + <span class=\"number\">1</span>, y, solution)) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (findPath(maze, x, y + <span class=\"number\">1</span>, solution)) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    solution[x][y] = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">isSafe</span>(<span class=\"params\">maze, x, y</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> n = maze.length;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (x &gt;= <span class=\"number\">0</span> &amp;&amp; y &gt;= <span class=\"number\">0</span> &amp;&amp; x &lt; n &amp;&amp; y &lt; n &amp;&amp; maze[x][y] !== <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> maze = [</span><br><span class=\"line\">  [<span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>],</span><br><span class=\"line\">];</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(ratInAMaze(maze));</span><br><span class=\"line\">[</span><br><span class=\"line\">  [<span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>],</span><br><span class=\"line\">];</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sudokuSolver</span>(<span class=\"params\">matrix</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (solveSudoku(matrix) === <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> matrix;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> UNASSIGNED = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">solveSudoku</span>(<span class=\"params\">matrix</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> row = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> col = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> checkBlankSpaces = <span class=\"literal\">false</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (row = <span class=\"number\">0</span>; row &lt; matrix.length; row++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (col = <span class=\"number\">0</span>; col &lt; matrix[row].length; col++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (matrix[row][col] === UNASSIGNED) &#123;</span><br><span class=\"line\">        checkBlankSpaces = <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (checkBlankSpaces === <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (checkBlankSpaces === <span class=\"literal\">false</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> num = <span class=\"number\">1</span>; num &lt;= <span class=\"number\">9</span>; num++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (isSafe(matrix, row, col, num)) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      matrix[row][col] = num; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (solveSudoku(matrix)) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      matrix[row][col] = UNASSIGNED; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">isSafe</span>(<span class=\"params\">matrix, row, col, num</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (</span><br><span class=\"line\">    !usedInRow(matrix, row, num) &amp;&amp;</span><br><span class=\"line\">    !usedInCol(matrix, col, num) &amp;&amp;</span><br><span class=\"line\">    !usedInBox(matrix, row - (row % <span class=\"number\">3</span>), col - (col % <span class=\"number\">3</span>), num)</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">usedInRow</span>(<span class=\"params\">matrix, row, num</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> col = <span class=\"number\">0</span>; col &lt; matrix.length; col++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (matrix[row][col] === num) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">usedInCol</span>(<span class=\"params\">matrix, col, num</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> row = <span class=\"number\">0</span>; row &lt; matrix.length; row++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (matrix[row][col] === num) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">usedInBox</span>(<span class=\"params\">matrix, boxStartRow, boxStartCol, num</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> row = <span class=\"number\">0</span>; row &lt; <span class=\"number\">3</span>; row++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> col = <span class=\"number\">0</span>; col &lt; <span class=\"number\">3</span>; col++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (matrix[row + boxStartRow][col + boxStartCol] === num) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> sudokuGrid = [</span><br><span class=\"line\">  [<span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">7</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">6</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">9</span>, <span class=\"number\">5</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">9</span>, <span class=\"number\">8</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">6</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">8</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">6</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>],</span><br><span class=\"line\">  [<span class=\"number\">4</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">8</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>],</span><br><span class=\"line\">  [<span class=\"number\">7</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">6</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">6</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">4</span>, <span class=\"number\">1</span>, <span class=\"number\">9</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">5</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">8</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">7</span>, <span class=\"number\">9</span>],</span><br><span class=\"line\">];</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(sudokuSolver(sudokuGrid));</span><br><span class=\"line\">[</span><br><span class=\"line\">  [<span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">8</span>, <span class=\"number\">9</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>],</span><br><span class=\"line\">  [<span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>, <span class=\"number\">9</span>, <span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">8</span>],</span><br><span class=\"line\">  [<span class=\"number\">1</span>, <span class=\"number\">9</span>, <span class=\"number\">8</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>],</span><br><span class=\"line\">  [<span class=\"number\">8</span>, <span class=\"number\">5</span>, <span class=\"number\">9</span>, <span class=\"number\">7</span>, <span class=\"number\">6</span>, <span class=\"number\">1</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>],</span><br><span class=\"line\">  [<span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">6</span>, <span class=\"number\">8</span>, <span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">7</span>, <span class=\"number\">9</span>, <span class=\"number\">1</span>],</span><br><span class=\"line\">  [<span class=\"number\">7</span>, <span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">9</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">8</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>],</span><br><span class=\"line\">  [<span class=\"number\">9</span>, <span class=\"number\">6</span>, <span class=\"number\">1</span>, <span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">7</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>, <span class=\"number\">4</span>],</span><br><span class=\"line\">  [<span class=\"number\">2</span>, <span class=\"number\">8</span>, <span class=\"number\">7</span>, <span class=\"number\">4</span>, <span class=\"number\">1</span>, <span class=\"number\">9</span>, <span class=\"number\">6</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>],</span><br><span class=\"line\">  [<span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>, <span class=\"number\">6</span>, <span class=\"number\">1</span>, <span class=\"number\">7</span>, <span class=\"number\">9</span>],</span><br><span class=\"line\">];</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"-FP-\"><a href=\"#-FP-\" class=\"headerlink\" title=\"(FP)\"></a>(FP)</h6><p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> printArray = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">array</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(array[i]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">printArray([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>]);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> forEach = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">array, action</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    action(array[i]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> logItem = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">item</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(item);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">forEach([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>], logItem);</span><br></pre></td></tr></table></figure>\n\n<p><em></em><br>(1)<br>(2)<br>(3)<br>(4)<br>(5)</p>\n<p><strong>JavaScript </strong><br>Underscode.js<a href=\"http://underscorejs.org/\">http://underscorejs.org/</a><br>Bilby.js<a href=\"http://bilby.brianmckenna.org/\">http://bilby.brianmckenna.org/</a><br>Lazy.js<a href=\"http://danieltao.com/lazy.js/\">http://danieltao.com/lazy.js/</a><br>Bacon.js<a href=\"https://baconjs.github.io/\">https://baconjs.github.io/</a><br>Fn.js<a href=\"http://eliperelman.com/fn.js/\">http://eliperelman.com/fn.js/</a><br>Functional.js<a href=\"http://functionaljs.com/\">http://functionaljs.com/</a><br>Ramda.js<a href=\"http://ramdajs.com/0.20.1/index.html\">http://ramdajs.com/0.20.1/index.html</a><br>Mori<a href=\"http://swannodette.github.io/mori/\">http://swannodette.github.io/mori/</a></p>\n<p>JavaScript <a href=\"https://www.packtpub.com/web-development/functional-programming-javascript\">https://www.packtpub.com/web-development/functional-programming-javascript</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"-O-\"><a href=\"#-O-\" class=\"headerlink\" title=\" O \"></a> O </h6><p><br> O /</p>\n<table>\n<thead>\n<tr>\n<th> </th>\n<th> </th>\n</tr>\n</thead>\n<tbody><tr>\n<td>O(1)</td>\n<td></td>\n</tr>\n<tr>\n<td>O(log(n))</td>\n<td></td>\n</tr>\n<tr>\n<td>O((log(n))c)</td>\n<td></td>\n</tr>\n<tr>\n<td>O(n)</td>\n<td></td>\n</tr>\n<tr>\n<td>O(n^2)</td>\n<td></td>\n</tr>\n<tr>\n<td>O(n^c)</td>\n<td></td>\n</tr>\n<tr>\n<td>O(c^n)</td>\n<td></td>\n</tr>\n</tbody></table>\n<p><strong> O </strong></p>\n<p> CPU O  CPU</p>\n<ol>\n<li>O(1)</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">increment</span>(<span class=\"params\">num</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> ++num;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p> increment(1) X 2 increment  Xincrement  O(1)</p>\n<ol start=\"2\">\n<li>O(n)</li>\n</ol>\n<p> 10 10 1000 1000 sequentialSearch  O(n)n </p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sequentialSearch</span>(<span class=\"params\">array, value, equalsFn = defaultEquals</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (equalsFn(value, array[i])) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sequentialSearch</span>(<span class=\"params\">array, value, equalsFn = defaultEquals</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> cost = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    cost++;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (equalsFn(value, array[i])) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(</span><br><span class=\"line\">    <span class=\"string\">`cost for sequentialSearch with input size <span class=\"subst\">$&#123;array.length&#125;</span> is <span class=\"subst\">$&#123;cost&#125;</span>`</span></span><br><span class=\"line\">  );</span><br><span class=\"line\">  <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>O(n^2)</li>\n</ol>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">bubbleSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length - <span class=\"number\">1</span>; j++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (compareFn(array[j], array[j + <span class=\"number\">1</span>]) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">        swap(array, j, j + <span class=\"number\">1</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// &#123;1&#125;&#123;2&#125; 1</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">bubbleSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> cost = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    cost++;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length - <span class=\"number\">1</span>; j++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      cost++;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (compareFn(array[j], array[j + <span class=\"number\">1</span>]) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">        swap(array, j, j + <span class=\"number\">1</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`cost for bubbleSort with input size <span class=\"subst\">$&#123;length&#125;</span> is <span class=\"subst\">$&#123;cost&#125;</span>`</span>);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p> 10  bubbleSort 10010^2 100 bubbleSort 10 000100^2</p>\n<p><em> O(n) O(n^2) O(n^3)</em></p>\n<p><strong></strong></p>\n<table>\n<thead>\n<tr>\n<th>n</th>\n<th>O(1)</th>\n<th>O(log(n))</th>\n<th>O(n)</th>\n<th>O(nlog(n))</th>\n<th>O(n^2)</th>\n<th>O(2^n)</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>10</td>\n<td>1</td>\n<td>1</td>\n<td>10</td>\n<td>10</td>\n<td>100</td>\n<td>1024</td>\n</tr>\n<tr>\n<td>20</td>\n<td>1</td>\n<td>1.30</td>\n<td>20</td>\n<td>26.02</td>\n<td>400</td>\n<td>1 048 576</td>\n</tr>\n<tr>\n<td>50</td>\n<td>1</td>\n<td>1.69</td>\n<td>50</td>\n<td>84.94</td>\n<td>2500</td>\n<td></td>\n</tr>\n<tr>\n<td>100</td>\n<td>1</td>\n<td>2</td>\n<td>100</td>\n<td>200</td>\n<td>10 000</td>\n<td></td>\n</tr>\n<tr>\n<td>500</td>\n<td>1</td>\n<td>2.69</td>\n<td>500</td>\n<td>1349.48</td>\n<td>250 000</td>\n<td></td>\n</tr>\n<tr>\n<td>1000</td>\n<td>1</td>\n<td>3</td>\n<td>1000</td>\n<td>3000</td>\n<td>1 000 000</td>\n<td></td>\n</tr>\n<tr>\n<td>10 000</td>\n<td>1</td>\n<td>4</td>\n<td>10 000</td>\n<td>40 000</td>\n<td>100 000 000</td>\n<td></td>\n</tr>\n</tbody></table>\n<p> O </p>\n<p><img src=\"/2022/10/13/39-data-structure7/big-o-1.png\" alt=\"big-o-1\"></p>\n<p><em></em><br><img src=\"/2022/10/13/39-data-structure7/big-o-2.png\" alt=\"big-o-2\"></p>\n<p><em></em><br><img src=\"/2022/10/13/39-data-structure7/big-o-3.png\" alt=\"big-o-3\"></p>\n<p><em></em><br><img src=\"/2022/10/13/39-data-structure7/big-o-4.png\" alt=\"big-o-4\"></p>\n<p><em></em><br><img src=\"/2022/10/13/39-data-structure7/big-o-5.png\" alt=\"big-o-5\"></p>\n<p><strong>NP </strong><br> O(n^k) k .</p>\n<p> Ppolynomial</p>\n<p>NPnondeterministic polynomial NP</p>\n<p> P NPP = NP </p>\n<p>NP  NP  L  NP <br>(1) L  NP <br>(2)  NP  L</p>\n<p> L M A L B y M L M B A</p>\n<p> NP  NP NP  NP </p>\n<p> P&lt;&gt;NP PNPNP  NP <br><img src=\"/2022/10/13/39-data-structure7/big-o-6.png\" alt=\"big-o-6\"></p>\n<p> NP  NP SAT</p>\n<p>NP </p>\n<p><a href=\"https://en.wikipedia.org/wiki/NP-completeness\">https://en.wikipedia.org/wiki/NP-completeness</a></p>\n<p><em></em><br><br><br><br> <a href=\"https://en.wikipedia.org/wiki/Heuristic_(computer_science)\">https://en.wikipedia.org/wiki/Heuristic_(computer_science)</a></p>\n<p>UVa Online Judge<a href=\"http://uva.onlinejudge.org/%EF%BC%89\">http://uva.onlinejudge.org/</a><br>Sphere Online Judge<a href=\"http://www.spoj.com/%EF%BC%89\">http://www.spoj.com/</a><br>Coderbyte<a href=\"http://coderbyte.com/%EF%BC%89\">http://coderbyte.com/</a><br>Project Euler<a href=\"https://projecteuler.net/%EF%BC%89\">https://projecteuler.net/</a><br>HackerRank<a href=\"https://www.hackerrank.com)/\">https://www.hackerrank.com</a><br>CodeChef<a href=\"http://www.codechef.com/%EF%BC%89\">http://www.codechef.com/</a><br>Top Coder<a href=\"http://www.topcoder.com/%EF%BC%89\">http://www.topcoder.com/</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li></li>\n<li><br>Floyd-Warshall <br>Kruskal <br><br><br><br>NP </li>\n<li></li>\n</ul>\n<p><br></p>\n<p><br>LeetCode</p>\n<p>antdvisible<br><br>testing-library/reactreact<br>umc-ui</p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p><br>(1) <br>(2) <br>(3) </p>\n<p><strong></strong><br> mid <br><br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">binarySearchRecursive</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  array,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  value,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  low,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  high,</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\">  compareFn = defaultCompare</span></span></span><br><span class=\"line\"><span class=\"params\"><span class=\"function\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (low &lt;= high) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> mid = <span class=\"built_in\">Math</span>.floor((low + high) / <span class=\"number\">2</span>);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> element = array[mid];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (compareFn(element, value) === Compare.LESS_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> binarySearchRecursive(array, value, mid + <span class=\"number\">1</span>, high, compareFn);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (compareFn(element, value) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> binarySearchRecursive(array, value, low, mid - <span class=\"number\">1</span>, compareFn);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> mid; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> DOES_NOT_EXIST; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">binarySearch</span>(<span class=\"params\">array, value, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> sortedArray = quickSort(array);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> low = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> high = sortedArray.length - <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> binarySearchRecursive(array, value, low, high, compareFn);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/39-data-structure7/technology-1.png\" alt=\"technology-1\"></p>\n<p><strong></strong><br>dynamic programmingDP</p>\n<p><em></em></p>\n<p><br>(1) <br>(2) <br>(3) </p>\n<p><em></em><br>(1)<br>(2)<br>(3)<br>(4) d1, , dn <br>(5)(u, v) u  v (Floyd-Warshall )</p>\n<p><em></em><br> d1, , dn  d1, , dn </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// coins </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">minCoinChange</span>(<span class=\"params\">coins, amount</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> cache = []; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> makeChange = <span class=\"function\">(<span class=\"params\">value</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!value) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> [];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (cache[value]) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> cache[value];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> min = [];</span><br><span class=\"line\">    <span class=\"keyword\">let</span> newMin;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> newAmount;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; coins.length; i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> coin = coins[i];</span><br><span class=\"line\">      newAmount = value - coin; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (newAmount &gt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        newMin = makeChange(newAmount); <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (</span><br><span class=\"line\">        newAmount &gt;= <span class=\"number\">0</span> &amp;&amp; <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">        (newMin.length &lt; min.length - <span class=\"number\">1</span> || !min.length) &amp;&amp; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">        (newMin.length || !newAmount) <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">      ) &#123;</span><br><span class=\"line\">        min = [coin].concat(newMin); <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;new Min &#x27;</span> + min + <span class=\"string\">&#x27; for &#x27;</span> + amount);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (cache[value] = min); <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> makeChange(amount); <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><em></em><br> W  W</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">knapSack</span>(<span class=\"params\">capacity, weights, values, n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> kS = [];</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">    kS[i] = [];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> w = <span class=\"number\">0</span>; w &lt;= capacity; w++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (i === <span class=\"number\">0</span> || w === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">        kS[i][w] = <span class=\"number\">0</span>;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (weights[i - <span class=\"number\">1</span>] &lt;= w) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//  i </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> a = values[i - <span class=\"number\">1</span>] + kS[i - <span class=\"number\">1</span>][w - weights[i - <span class=\"number\">1</span>]];</span><br><span class=\"line\">        <span class=\"keyword\">const</span> b = kS[i - <span class=\"number\">1</span>][w];</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        kS[i][w] = a &gt; b ? a : b; <span class=\"comment\">// &#123;4&#125; max(a,b)</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        kS[i][w] = kS[i - <span class=\"number\">1</span>][w]; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  findValues(n, capacity, kS, weights, values); <span class=\"comment\">// &#123;6&#125; </span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> kS[n][capacity]; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">findValues</span>(<span class=\"params\">n, capacity, kS, weights, values</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> i = n;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> k = capacity;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (i &gt; <span class=\"number\">0</span> &amp;&amp; k &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (kS[i][k] !== kS[i - <span class=\"number\">1</span>][k]) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(</span><br><span class=\"line\">        <span class=\"string\">` <span class=\"subst\">$&#123;i&#125;</span>  w,v: <span class=\"subst\">$&#123;weights[i - <span class=\"number\">1</span>]&#125;</span>, <span class=\"subst\">$&#123;values[i - <span class=\"number\">1</span>]&#125;</span>`</span></span><br><span class=\"line\">      );</span><br><span class=\"line\">      i--;</span><br><span class=\"line\">      k -= kS[i][k];</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      i--;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/39-data-structure7/technology-2.png\" alt=\"technology-2\"></p>\n<p><em>(LCS)</em><br><br><img src=\"/2022/10/13/39-data-structure7/technology-3.png\" alt=\"technology-3\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">lcs</span>(<span class=\"params\">wordX, wordY</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> m = wordX.length;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> n = wordY.length;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> l = [];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt;= m; i++) &#123;</span><br><span class=\"line\">    l[i] = []; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"comment\">// solution[i] = [];</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt;= n; j++) &#123;</span><br><span class=\"line\">      l[i][j] = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"comment\">// solution[i][j] = &#x27;0&#x27;;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt;= m; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt;= n; j++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (i === <span class=\"number\">0</span> || j === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        l[i][j] = <span class=\"number\">0</span>;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (wordX[i - <span class=\"number\">1</span>] === wordY[j - <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">        l[i][j] = l[i - <span class=\"number\">1</span>][j - <span class=\"number\">1</span>] + <span class=\"number\">1</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">        <span class=\"comment\">// solution[i][j] = &#x27;diagonal&#x27;;</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> a = l[i - <span class=\"number\">1</span>][j];</span><br><span class=\"line\">        <span class=\"keyword\">const</span> b = l[i][j - <span class=\"number\">1</span>];</span><br><span class=\"line\">        l[i][j] = a &gt; b ? a : b; <span class=\"comment\">// &#123;4&#125; max(a,b)</span></span><br><span class=\"line\">        <span class=\"comment\">// solution[i][j]=(l[i][j] == l[i-1][j]) ? &#x27;top&#x27; : &#x27;left&#x27;;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> l[m][n]; <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// printSolution(solution, wordX, m, n);</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">printSolution</span>(<span class=\"params\">solution, wordX, m, n</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> a = m;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> b = n;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> x = solution[a][b];</span><br><span class=\"line\">  <span class=\"keyword\">let</span> answer = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (x !== <span class=\"string\">&#x27;0&#x27;</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (solution[a][b] === <span class=\"string\">&#x27;diagonal&#x27;</span>) &#123;</span><br><span class=\"line\">      answer = wordX[a - <span class=\"number\">1</span>] + answer;</span><br><span class=\"line\">      a--;</span><br><span class=\"line\">      b--;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (solution[a][b] === <span class=\"string\">&#x27;left&#x27;</span>) &#123;</span><br><span class=\"line\">      b--;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (solution[a][b] === <span class=\"string\">&#x27;top&#x27;</span>) &#123;</span><br><span class=\"line\">      a--;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    x = solution[a][b];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;lcs: &#x27;</span> + answer);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/39-data-structure7/technology-4.png\" alt=\"technology-4\"></p>\n<p><em></em><br></p>\n<p>A<em>B</em>C*D </p>\n<p>A  10  100 <br>B  100  5 <br>C  5  50 <br>D  50  1 <br>A<em>B</em>C*D  10  1 </p>\n<p>(1) (A(B(CD))) 1750 <br>(2) ((AB)(CD)) 5300 <br>(3) (((AB)C)D) 8000 <br>(4) ((A(BC))D) 75 500 <br>(5) (A((BC)D)) 31 000 </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">matrixChainOrder</span>(<span class=\"params\">p</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> n = p.length;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> m = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> s = [];</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">    m[i] = [];</span><br><span class=\"line\">    m[i][i] = <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">//   const s = [];</span></span><br><span class=\"line\">  <span class=\"comment\">// for (let i = 0; i &lt;= n; i++)&#123;</span></span><br><span class=\"line\">  <span class=\"comment\">//  s[i] = [];</span></span><br><span class=\"line\">  <span class=\"comment\">//  for (let j=0; j &lt;= n; j++)&#123;</span></span><br><span class=\"line\">  <span class=\"comment\">//  s[i][j] = 0;</span></span><br><span class=\"line\">  <span class=\"comment\">//  &#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> l = <span class=\"number\">2</span>; l &lt; n; l++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt;= n - l + <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> j = i + l - <span class=\"number\">1</span>;</span><br><span class=\"line\">      m[i][j] = <span class=\"built_in\">Number</span>.MAX_SAFE_INTEGER;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> k = i; k &lt;= j - <span class=\"number\">1</span>; k++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> q = m[i][k] + m[k + <span class=\"number\">1</span>][j] + p[i - <span class=\"number\">1</span>] * p[k] * p[j]; <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (q &lt; m[i][j]) &#123;</span><br><span class=\"line\">          m[i][j] = q; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">          <span class=\"comment\">// s[i][j] = k;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> m[<span class=\"number\">1</span>][n - <span class=\"number\">1</span>]; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">  <span class=\"comment\">// printOptimalParenthesis(s, 1, n-1);</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">printOptimalParenthesis</span>(<span class=\"params\">s, i, j</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (i === j) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;A[&#x27;</span> + i + <span class=\"string\">&#x27;]&#x27;</span>);</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;(&#x27;</span>);</span><br><span class=\"line\">    printOptimalParenthesis(s, i, s[i][j]);</span><br><span class=\"line\">    printOptimalParenthesis(s, s[i][j] + <span class=\"number\">1</span>, j);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;)&#x27;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// (A[1](A[2](A[3]A[4]))) =&gt; (A(B(CD)))</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">minCoinChange</span>(<span class=\"params\">coins, amount</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> change = [];</span><br><span class=\"line\">  <span class=\"keyword\">let</span> total = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = coins.length; i &gt;= <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> coin = coins[i];</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (total + coin &lt;= amount) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      change.push(coin); <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      total += coin; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> change;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2022/10/13/39-data-structure7/technology-5.png\" alt=\"technology-5\"></p>\n<p><em></em></p>\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">knapSack</span>(<span class=\"params\">capacity, weights, values</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> n = values.length;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> load = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> val = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; n &amp;&amp; load &lt; capacity; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (weights[i] &lt;= capacity - load) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      val += values[i];</span><br><span class=\"line\">      load += weights[i];</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> r = (capacity - load) / weights[i]; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      val += r * values[i];</span><br><span class=\"line\">      load += weights[i];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> val;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">ratInAMaze</span>(<span class=\"params\">maze</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> solution = [];</span><br><span class=\"line\">  <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; maze.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    solution[i] = [];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; maze[i].length; j++) &#123;</span><br><span class=\"line\">      solution[i][j] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (findPath(maze, <span class=\"number\">0</span>, <span class=\"number\">0</span>, solution) === <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> solution;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"string\">&#x27;NO PATH FOUND&#x27;</span>; <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">findPath</span>(<span class=\"params\">maze, x, y, solution</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> n = maze.length;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (x === n - <span class=\"number\">1</span> &amp;&amp; y === n - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">    solution[x][y] = <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (isSafe(maze, x, y) === <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    solution[x][y] = <span class=\"number\">1</span>; <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (findPath(maze, x + <span class=\"number\">1</span>, y, solution)) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (findPath(maze, x, y + <span class=\"number\">1</span>, solution)) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    solution[x][y] = <span class=\"number\">0</span>; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">isSafe</span>(<span class=\"params\">maze, x, y</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> n = maze.length;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (x &gt;= <span class=\"number\">0</span> &amp;&amp; y &gt;= <span class=\"number\">0</span> &amp;&amp; x &lt; n &amp;&amp; y &lt; n &amp;&amp; maze[x][y] !== <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> maze = [</span><br><span class=\"line\">  [<span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>],</span><br><span class=\"line\">];</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(ratInAMaze(maze));</span><br><span class=\"line\">[</span><br><span class=\"line\">  [<span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>],</span><br><span class=\"line\">];</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sudokuSolver</span>(<span class=\"params\">matrix</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (solveSudoku(matrix) === <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> matrix;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> UNASSIGNED = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">solveSudoku</span>(<span class=\"params\">matrix</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> row = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> col = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> checkBlankSpaces = <span class=\"literal\">false</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (row = <span class=\"number\">0</span>; row &lt; matrix.length; row++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (col = <span class=\"number\">0</span>; col &lt; matrix[row].length; col++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (matrix[row][col] === UNASSIGNED) &#123;</span><br><span class=\"line\">        checkBlankSpaces = <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (checkBlankSpaces === <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;3&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (checkBlankSpaces === <span class=\"literal\">false</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// &#123;4&#125;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> num = <span class=\"number\">1</span>; num &lt;= <span class=\"number\">9</span>; num++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;5&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (isSafe(matrix, row, col, num)) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;6&#125;</span></span><br><span class=\"line\">      matrix[row][col] = num; <span class=\"comment\">// &#123;7&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (solveSudoku(matrix)) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;8&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      matrix[row][col] = UNASSIGNED; <span class=\"comment\">// &#123;9&#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// &#123;10&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">isSafe</span>(<span class=\"params\">matrix, row, col, num</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (</span><br><span class=\"line\">    !usedInRow(matrix, row, num) &amp;&amp;</span><br><span class=\"line\">    !usedInCol(matrix, col, num) &amp;&amp;</span><br><span class=\"line\">    !usedInBox(matrix, row - (row % <span class=\"number\">3</span>), col - (col % <span class=\"number\">3</span>), num)</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">usedInRow</span>(<span class=\"params\">matrix, row, num</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> col = <span class=\"number\">0</span>; col &lt; matrix.length; col++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;11&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (matrix[row][col] === num) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">usedInCol</span>(<span class=\"params\">matrix, col, num</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> row = <span class=\"number\">0</span>; row &lt; matrix.length; row++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;12&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (matrix[row][col] === num) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">usedInBox</span>(<span class=\"params\">matrix, boxStartRow, boxStartCol, num</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> row = <span class=\"number\">0</span>; row &lt; <span class=\"number\">3</span>; row++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> col = <span class=\"number\">0</span>; col &lt; <span class=\"number\">3</span>; col++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (matrix[row + boxStartRow][col + boxStartCol] === num) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// &#123;13&#125;</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> sudokuGrid = [</span><br><span class=\"line\">  [<span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">7</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">6</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">9</span>, <span class=\"number\">5</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">9</span>, <span class=\"number\">8</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">6</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">8</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">6</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>],</span><br><span class=\"line\">  [<span class=\"number\">4</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">8</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>],</span><br><span class=\"line\">  [<span class=\"number\">7</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">6</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">6</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">4</span>, <span class=\"number\">1</span>, <span class=\"number\">9</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">5</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">8</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">7</span>, <span class=\"number\">9</span>],</span><br><span class=\"line\">];</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(sudokuSolver(sudokuGrid));</span><br><span class=\"line\">[</span><br><span class=\"line\">  [<span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">8</span>, <span class=\"number\">9</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>],</span><br><span class=\"line\">  [<span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>, <span class=\"number\">9</span>, <span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">8</span>],</span><br><span class=\"line\">  [<span class=\"number\">1</span>, <span class=\"number\">9</span>, <span class=\"number\">8</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>],</span><br><span class=\"line\">  [<span class=\"number\">8</span>, <span class=\"number\">5</span>, <span class=\"number\">9</span>, <span class=\"number\">7</span>, <span class=\"number\">6</span>, <span class=\"number\">1</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>],</span><br><span class=\"line\">  [<span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">6</span>, <span class=\"number\">8</span>, <span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">7</span>, <span class=\"number\">9</span>, <span class=\"number\">1</span>],</span><br><span class=\"line\">  [<span class=\"number\">7</span>, <span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">9</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">8</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>],</span><br><span class=\"line\">  [<span class=\"number\">9</span>, <span class=\"number\">6</span>, <span class=\"number\">1</span>, <span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">7</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>, <span class=\"number\">4</span>],</span><br><span class=\"line\">  [<span class=\"number\">2</span>, <span class=\"number\">8</span>, <span class=\"number\">7</span>, <span class=\"number\">4</span>, <span class=\"number\">1</span>, <span class=\"number\">9</span>, <span class=\"number\">6</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>],</span><br><span class=\"line\">  [<span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>, <span class=\"number\">6</span>, <span class=\"number\">1</span>, <span class=\"number\">7</span>, <span class=\"number\">9</span>],</span><br><span class=\"line\">];</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"-FP-\"><a href=\"#-FP-\" class=\"headerlink\" title=\"(FP)\"></a>(FP)</h6><p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> printArray = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">array</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(array[i]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">printArray([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>]);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> forEach = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">array, action</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    action(array[i]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> logItem = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">item</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(item);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">forEach([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>], logItem);</span><br></pre></td></tr></table></figure>\n\n<p><em></em><br>(1)<br>(2)<br>(3)<br>(4)<br>(5)</p>\n<p><strong>JavaScript </strong><br>Underscode.js<a href=\"http://underscorejs.org/\">http://underscorejs.org/</a><br>Bilby.js<a href=\"http://bilby.brianmckenna.org/\">http://bilby.brianmckenna.org/</a><br>Lazy.js<a href=\"http://danieltao.com/lazy.js/\">http://danieltao.com/lazy.js/</a><br>Bacon.js<a href=\"https://baconjs.github.io/\">https://baconjs.github.io/</a><br>Fn.js<a href=\"http://eliperelman.com/fn.js/\">http://eliperelman.com/fn.js/</a><br>Functional.js<a href=\"http://functionaljs.com/\">http://functionaljs.com/</a><br>Ramda.js<a href=\"http://ramdajs.com/0.20.1/index.html\">http://ramdajs.com/0.20.1/index.html</a><br>Mori<a href=\"http://swannodette.github.io/mori/\">http://swannodette.github.io/mori/</a></p>\n<p>JavaScript <a href=\"https://www.packtpub.com/web-development/functional-programming-javascript\">https://www.packtpub.com/web-development/functional-programming-javascript</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"-O-\"><a href=\"#-O-\" class=\"headerlink\" title=\" O \"></a> O </h6><p><br> O /</p>\n<table>\n<thead>\n<tr>\n<th> </th>\n<th> </th>\n</tr>\n</thead>\n<tbody><tr>\n<td>O(1)</td>\n<td></td>\n</tr>\n<tr>\n<td>O(log(n))</td>\n<td></td>\n</tr>\n<tr>\n<td>O((log(n))c)</td>\n<td></td>\n</tr>\n<tr>\n<td>O(n)</td>\n<td></td>\n</tr>\n<tr>\n<td>O(n^2)</td>\n<td></td>\n</tr>\n<tr>\n<td>O(n^c)</td>\n<td></td>\n</tr>\n<tr>\n<td>O(c^n)</td>\n<td></td>\n</tr>\n</tbody></table>\n<p><strong> O </strong></p>\n<p> CPU O  CPU</p>\n<ol>\n<li>O(1)</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">increment</span>(<span class=\"params\">num</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> ++num;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p> increment(1) X 2 increment  Xincrement  O(1)</p>\n<ol start=\"2\">\n<li>O(n)</li>\n</ol>\n<p> 10 10 1000 1000 sequentialSearch  O(n)n </p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sequentialSearch</span>(<span class=\"params\">array, value, equalsFn = defaultEquals</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (equalsFn(value, array[i])) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sequentialSearch</span>(<span class=\"params\">array, value, equalsFn = defaultEquals</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> cost = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; array.length; i++) &#123;</span><br><span class=\"line\">    cost++;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (equalsFn(value, array[i])) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(</span><br><span class=\"line\">    <span class=\"string\">`cost for sequentialSearch with input size <span class=\"subst\">$&#123;array.length&#125;</span> is <span class=\"subst\">$&#123;cost&#125;</span>`</span></span><br><span class=\"line\">  );</span><br><span class=\"line\">  <span class=\"keyword\">return</span> -<span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>O(n^2)</li>\n</ol>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">bubbleSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length - <span class=\"number\">1</span>; j++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (compareFn(array[j], array[j + <span class=\"number\">1</span>]) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">        swap(array, j, j + <span class=\"number\">1</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// &#123;1&#125;&#123;2&#125; 1</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">bubbleSort</span>(<span class=\"params\">array, compareFn = defaultCompare</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; length &#125; = array;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> cost = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// &#123;1&#125;</span></span><br><span class=\"line\">    cost++;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; length - <span class=\"number\">1</span>; j++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// &#123;2&#125;</span></span><br><span class=\"line\">      cost++;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (compareFn(array[j], array[j + <span class=\"number\">1</span>]) === Compare.BIGGER_THAN) &#123;</span><br><span class=\"line\">        swap(array, j, j + <span class=\"number\">1</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`cost for bubbleSort with input size <span class=\"subst\">$&#123;length&#125;</span> is <span class=\"subst\">$&#123;cost&#125;</span>`</span>);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p> 10  bubbleSort 10010^2 100 bubbleSort 10 000100^2</p>\n<p><em> O(n) O(n^2) O(n^3)</em></p>\n<p><strong></strong></p>\n<table>\n<thead>\n<tr>\n<th>n</th>\n<th>O(1)</th>\n<th>O(log(n))</th>\n<th>O(n)</th>\n<th>O(nlog(n))</th>\n<th>O(n^2)</th>\n<th>O(2^n)</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>10</td>\n<td>1</td>\n<td>1</td>\n<td>10</td>\n<td>10</td>\n<td>100</td>\n<td>1024</td>\n</tr>\n<tr>\n<td>20</td>\n<td>1</td>\n<td>1.30</td>\n<td>20</td>\n<td>26.02</td>\n<td>400</td>\n<td>1 048 576</td>\n</tr>\n<tr>\n<td>50</td>\n<td>1</td>\n<td>1.69</td>\n<td>50</td>\n<td>84.94</td>\n<td>2500</td>\n<td></td>\n</tr>\n<tr>\n<td>100</td>\n<td>1</td>\n<td>2</td>\n<td>100</td>\n<td>200</td>\n<td>10 000</td>\n<td></td>\n</tr>\n<tr>\n<td>500</td>\n<td>1</td>\n<td>2.69</td>\n<td>500</td>\n<td>1349.48</td>\n<td>250 000</td>\n<td></td>\n</tr>\n<tr>\n<td>1000</td>\n<td>1</td>\n<td>3</td>\n<td>1000</td>\n<td>3000</td>\n<td>1 000 000</td>\n<td></td>\n</tr>\n<tr>\n<td>10 000</td>\n<td>1</td>\n<td>4</td>\n<td>10 000</td>\n<td>40 000</td>\n<td>100 000 000</td>\n<td></td>\n</tr>\n</tbody></table>\n<p> O </p>\n<p><img src=\"/2022/10/13/39-data-structure7/big-o-1.png\" alt=\"big-o-1\"></p>\n<p><em></em><br><img src=\"/2022/10/13/39-data-structure7/big-o-2.png\" alt=\"big-o-2\"></p>\n<p><em></em><br><img src=\"/2022/10/13/39-data-structure7/big-o-3.png\" alt=\"big-o-3\"></p>\n<p><em></em><br><img src=\"/2022/10/13/39-data-structure7/big-o-4.png\" alt=\"big-o-4\"></p>\n<p><em></em><br><img src=\"/2022/10/13/39-data-structure7/big-o-5.png\" alt=\"big-o-5\"></p>\n<p><strong>NP </strong><br> O(n^k) k .</p>\n<p> Ppolynomial</p>\n<p>NPnondeterministic polynomial NP</p>\n<p> P NPP = NP </p>\n<p>NP  NP  L  NP <br>(1) L  NP <br>(2)  NP  L</p>\n<p> L M A L B y M L M B A</p>\n<p> NP  NP NP  NP </p>\n<p> P&lt;&gt;NP PNPNP  NP <br><img src=\"/2022/10/13/39-data-structure7/big-o-6.png\" alt=\"big-o-6\"></p>\n<p> NP  NP SAT</p>\n<p>NP </p>\n<p><a href=\"https://en.wikipedia.org/wiki/NP-completeness\">https://en.wikipedia.org/wiki/NP-completeness</a></p>\n<p><em></em><br><br><br><br> <a href=\"https://en.wikipedia.org/wiki/Heuristic_(computer_science)\">https://en.wikipedia.org/wiki/Heuristic_(computer_science)</a></p>\n<p>UVa Online Judge<a href=\"http://uva.onlinejudge.org/%EF%BC%89\">http://uva.onlinejudge.org/</a><br>Sphere Online Judge<a href=\"http://www.spoj.com/%EF%BC%89\">http://www.spoj.com/</a><br>Coderbyte<a href=\"http://coderbyte.com/%EF%BC%89\">http://coderbyte.com/</a><br>Project Euler<a href=\"https://projecteuler.net/%EF%BC%89\">https://projecteuler.net/</a><br>HackerRank<a href=\"https://www.hackerrank.com)/\">https://www.hackerrank.com</a><br>CodeChef<a href=\"http://www.codechef.com/%EF%BC%89\">http://www.codechef.com/</a><br>Top Coder<a href=\"http://www.topcoder.com/%EF%BC%89\">http://www.topcoder.com/</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li></li>\n<li><br>Floyd-Warshall <br>Kruskal <br><br><br><br>NP </li>\n<li></li>\n</ul>\n<p><br></p>\n<p><br>LeetCode</p>\n<p>antdvisible<br><br>testing-library/reactreact<br>umc-ui</p>\n"},{"title":"","date":"2022-10-17T02:26:13.000Z","_content":"\n###### \n****\n\n```javascript\nfunction call1(a) {\n return call2(a);\n}\n\n// \n// \nfunction call1(a) {\n const x = call2(a);\n return x;\n}\n\nfunction call1(a) {\n return call2(a) + 1;\n}\n\nfunction call1(a) {\n call2(a);\n}\n\n// \nfunction call1(a) {\n if (!!a) {\n  return call2(a);\n }\n return call3(a);\n}\n```\n\n###### \n\n**\n\nABABBABBCBC(call stack)\n\n![call-stack](40-tail-call/call-stack.png)\n\n\n\n**\n\n###### \n\n\n(stack overflow)\n\n```javascript\n// \n//  O(n)\nfunction factorial(n) {\n if (n === 1) return 1;\n return n * factorial(n - 1);\n}\n\n// O(1)\nfunction factorial(n, total) {\n if (n === 1) return total;\n return factorial(n -1, n* total);\n}\nfactorial(5, 1);\n\n// factorial(5, 1);\n// factorial(4, 5);\n// factorial(3, 20);\n// factorial(2, 60);\n// factorial(1, 120);\n// 120\n```\n\n###### \n\n\n(1) \n\n```javascript\nfunction tailCall(n, total) {\n if (n === 1) return total;\n return tailCall(n -1, n*total);\n}\n\nfunction call(n) {\n return tailCall(n, 1);\n}\n\ncall(5);\n```\n\n(2) \n\n```javascript\nfunction currying(fn, n) {\n return function (m) {\n  return fn.call(this, m, n);\n }\n}\n\nfunction tailCall(n, total) {\n if (n === 1) return total;\n return tailCall(n -1, n*total);\n}\n\nconst factorial = currying(tailCall, 1);\nfactorial(5);\n\n// ES6\nfunction factorial(n, total = 1) {\n if (n === 1) return total;\n return tailCall(n -1, n*total);\n}\nfactorial(5);\n```\n\n*ES6*\n\n- arguments \n- func.caller \n\n\n[-](https://zh.wikipedia.org/wiki/%E5%B0%BE%E8%B0%83%E7%94%A8)","source":"_posts/40-tail-call.md","raw":"---\ntitle: \ndate: 2022-10-17 10:26:13\ntags:\n---\n\n###### \n****\n\n```javascript\nfunction call1(a) {\n return call2(a);\n}\n\n// \n// \nfunction call1(a) {\n const x = call2(a);\n return x;\n}\n\nfunction call1(a) {\n return call2(a) + 1;\n}\n\nfunction call1(a) {\n call2(a);\n}\n\n// \nfunction call1(a) {\n if (!!a) {\n  return call2(a);\n }\n return call3(a);\n}\n```\n\n###### \n\n**\n\nABABBABBCBC(call stack)\n\n![call-stack](40-tail-call/call-stack.png)\n\n\n\n**\n\n###### \n\n\n(stack overflow)\n\n```javascript\n// \n//  O(n)\nfunction factorial(n) {\n if (n === 1) return 1;\n return n * factorial(n - 1);\n}\n\n// O(1)\nfunction factorial(n, total) {\n if (n === 1) return total;\n return factorial(n -1, n* total);\n}\nfactorial(5, 1);\n\n// factorial(5, 1);\n// factorial(4, 5);\n// factorial(3, 20);\n// factorial(2, 60);\n// factorial(1, 120);\n// 120\n```\n\n###### \n\n\n(1) \n\n```javascript\nfunction tailCall(n, total) {\n if (n === 1) return total;\n return tailCall(n -1, n*total);\n}\n\nfunction call(n) {\n return tailCall(n, 1);\n}\n\ncall(5);\n```\n\n(2) \n\n```javascript\nfunction currying(fn, n) {\n return function (m) {\n  return fn.call(this, m, n);\n }\n}\n\nfunction tailCall(n, total) {\n if (n === 1) return total;\n return tailCall(n -1, n*total);\n}\n\nconst factorial = currying(tailCall, 1);\nfactorial(5);\n\n// ES6\nfunction factorial(n, total = 1) {\n if (n === 1) return total;\n return tailCall(n -1, n*total);\n}\nfactorial(5);\n```\n\n*ES6*\n\n- arguments \n- func.caller \n\n\n[-](https://zh.wikipedia.org/wiki/%E5%B0%BE%E8%B0%83%E7%94%A8)","slug":"40-tail-call","published":1,"updated":"2022-12-16T06:56:22.607Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gx6001mcktt1axz3zz6","content":"<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">call1</span>(<span class=\"params\">a</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> call2(a);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">call1</span>(<span class=\"params\">a</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">const</span> x = call2(a);</span><br><span class=\"line\"> <span class=\"keyword\">return</span> x;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">call1</span>(<span class=\"params\">a</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> call2(a) + <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">call1</span>(<span class=\"params\">a</span>) </span>&#123;</span><br><span class=\"line\"> call2(a);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">call1</span>(<span class=\"params\">a</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">if</span> (!!a) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> call2(a);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> call3(a);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em></p>\n<p>ABABBABBCBC(call stack)</p>\n<p><img src=\"/2022/10/17/40-tail-call/call-stack.png\" alt=\"call-stack\"></p>\n<p></p>\n<p><em></em></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p>(stack overflow)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">//  O(n)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">factorial</span>(<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> n * factorial(n - <span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// O(1)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">factorial</span>(<span class=\"params\">n, total</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span>) <span class=\"keyword\">return</span> total;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> factorial(n -<span class=\"number\">1</span>, n* total);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">factorial(<span class=\"number\">5</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// factorial(5, 1);</span></span><br><span class=\"line\"><span class=\"comment\">// factorial(4, 5);</span></span><br><span class=\"line\"><span class=\"comment\">// factorial(3, 20);</span></span><br><span class=\"line\"><span class=\"comment\">// factorial(2, 60);</span></span><br><span class=\"line\"><span class=\"comment\">// factorial(1, 120);</span></span><br><span class=\"line\"><span class=\"comment\">// 120</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p>(1) </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">tailCall</span>(<span class=\"params\">n, total</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span>) <span class=\"keyword\">return</span> total;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> tailCall(n -<span class=\"number\">1</span>, n*total);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">call</span>(<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> tailCall(n, <span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">call(<span class=\"number\">5</span>);</span><br></pre></td></tr></table></figure>\n\n<p>(2) </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">currying</span>(<span class=\"params\">fn, n</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">m</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> fn.call(<span class=\"built_in\">this</span>, m, n);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">tailCall</span>(<span class=\"params\">n, total</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span>) <span class=\"keyword\">return</span> total;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> tailCall(n -<span class=\"number\">1</span>, n*total);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> factorial = currying(tailCall, <span class=\"number\">1</span>);</span><br><span class=\"line\">factorial(<span class=\"number\">5</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ES6</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">factorial</span>(<span class=\"params\">n, total = <span class=\"number\">1</span></span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span>) <span class=\"keyword\">return</span> total;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> tailCall(n -<span class=\"number\">1</span>, n*total);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">factorial(<span class=\"number\">5</span>);</span><br></pre></td></tr></table></figure>\n\n<p><em>ES6</em><br></p>\n<ul>\n<li>arguments </li>\n<li>func.caller <br></li>\n</ul>\n<p><a href=\"https://zh.wikipedia.org/wiki/%E5%B0%BE%E8%B0%83%E7%94%A8\">-</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><strong></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">call1</span>(<span class=\"params\">a</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> call2(a);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">call1</span>(<span class=\"params\">a</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">const</span> x = call2(a);</span><br><span class=\"line\"> <span class=\"keyword\">return</span> x;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">call1</span>(<span class=\"params\">a</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> call2(a) + <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">call1</span>(<span class=\"params\">a</span>) </span>&#123;</span><br><span class=\"line\"> call2(a);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">call1</span>(<span class=\"params\">a</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">if</span> (!!a) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> call2(a);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> call3(a);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><em></em></p>\n<p>ABABBABBCBC(call stack)</p>\n<p><img src=\"/2022/10/17/40-tail-call/call-stack.png\" alt=\"call-stack\"></p>\n<p></p>\n<p><em></em></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p>(stack overflow)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">//  O(n)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">factorial</span>(<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> n * factorial(n - <span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// O(1)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">factorial</span>(<span class=\"params\">n, total</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span>) <span class=\"keyword\">return</span> total;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> factorial(n -<span class=\"number\">1</span>, n* total);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">factorial(<span class=\"number\">5</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// factorial(5, 1);</span></span><br><span class=\"line\"><span class=\"comment\">// factorial(4, 5);</span></span><br><span class=\"line\"><span class=\"comment\">// factorial(3, 20);</span></span><br><span class=\"line\"><span class=\"comment\">// factorial(2, 60);</span></span><br><span class=\"line\"><span class=\"comment\">// factorial(1, 120);</span></span><br><span class=\"line\"><span class=\"comment\">// 120</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<p>(1) </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">tailCall</span>(<span class=\"params\">n, total</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span>) <span class=\"keyword\">return</span> total;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> tailCall(n -<span class=\"number\">1</span>, n*total);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">call</span>(<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> tailCall(n, <span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">call(<span class=\"number\">5</span>);</span><br></pre></td></tr></table></figure>\n\n<p>(2) </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">currying</span>(<span class=\"params\">fn, n</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">m</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> fn.call(<span class=\"built_in\">this</span>, m, n);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">tailCall</span>(<span class=\"params\">n, total</span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span>) <span class=\"keyword\">return</span> total;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> tailCall(n -<span class=\"number\">1</span>, n*total);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> factorial = currying(tailCall, <span class=\"number\">1</span>);</span><br><span class=\"line\">factorial(<span class=\"number\">5</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ES6</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">factorial</span>(<span class=\"params\">n, total = <span class=\"number\">1</span></span>) </span>&#123;</span><br><span class=\"line\"> <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span>) <span class=\"keyword\">return</span> total;</span><br><span class=\"line\"> <span class=\"keyword\">return</span> tailCall(n -<span class=\"number\">1</span>, n*total);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">factorial(<span class=\"number\">5</span>);</span><br></pre></td></tr></table></figure>\n\n<p><em>ES6</em><br></p>\n<ul>\n<li>arguments </li>\n<li>func.caller <br></li>\n</ul>\n<p><a href=\"https://zh.wikipedia.org/wiki/%E5%B0%BE%E8%B0%83%E7%94%A8\">-</a></p>\n"},{"title":"scrollIntoView","date":"2022-11-10T02:39:52.000Z","_content":"\n###### scrollIntoView\n*element.scrollIntoView*\nscrollIntoView2\n\n###### scrollIntoView\n*element.scrollIntoView()*\nelement.scrollIntoView(true)\n\n*element.scrollIntoView(boolean)*\n- booleantrue\n  - \n  - element.scrollIntoView({ block: \"start\", inline: 'nearest'})\n- booleanfalse\n  - \n  - element.scrollIntoView({ block: \"end\", inline: 'nearest'})\n\n*element.scrollIntoView(options)*\noptions\n- behavior\n  - \n  - \n    - auto()\n    - smooth\n- block\n  - \n  - \n    - start: \n    - center\n    - end\n    - nearest\n- inline\n  - \n  - \n    - start\n    - center\n    - end\n    - nearest: \n\n****","source":"_posts/42-scrollInToView-params.md","raw":"---\ntitle: scrollIntoView\ndate: 2022-11-10 10:39:52\ntags:\n---\n\n###### scrollIntoView\n*element.scrollIntoView*\nscrollIntoView2\n\n###### scrollIntoView\n*element.scrollIntoView()*\nelement.scrollIntoView(true)\n\n*element.scrollIntoView(boolean)*\n- booleantrue\n  - \n  - element.scrollIntoView({ block: \"start\", inline: 'nearest'})\n- booleanfalse\n  - \n  - element.scrollIntoView({ block: \"end\", inline: 'nearest'})\n\n*element.scrollIntoView(options)*\noptions\n- behavior\n  - \n  - \n    - auto()\n    - smooth\n- block\n  - \n  - \n    - start: \n    - center\n    - end\n    - nearest\n- inline\n  - \n  - \n    - start\n    - center\n    - end\n    - nearest: \n\n****","slug":"42-scrollInToView-params","published":1,"updated":"2022-11-10T03:09:05.623Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gx6001ncktthx0kd8sm","content":"<h6 id=\"scrollIntoView\"><a href=\"#scrollIntoView\" class=\"headerlink\" title=\"scrollIntoView\"></a>scrollIntoView</h6><p><em>element.scrollIntoView</em><br>scrollIntoView2</p>\n<h6 id=\"scrollIntoView\"><a href=\"#scrollIntoView\" class=\"headerlink\" title=\"scrollIntoView\"></a>scrollIntoView</h6><p><em>element.scrollIntoView()</em><br>element.scrollIntoView(true)</p>\n<p><em>element.scrollIntoView(boolean)</em></p>\n<ul>\n<li>booleantrue<ul>\n<li></li>\n<li>element.scrollIntoView({ block: start, inline: nearest})</li>\n</ul>\n</li>\n<li>booleanfalse<ul>\n<li></li>\n<li>element.scrollIntoView({ block: end, inline: nearest})</li>\n</ul>\n</li>\n</ul>\n<p><em>element.scrollIntoView(options)</em><br>options</p>\n<ul>\n<li>behavior<ul>\n<li></li>\n<li><ul>\n<li>auto()</li>\n<li>smooth</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>block<ul>\n<li></li>\n<li><ul>\n<li>start: </li>\n<li>center</li>\n<li>end</li>\n<li>nearest</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>inline<ul>\n<li></li>\n<li><ul>\n<li>start</li>\n<li>center</li>\n<li>end</li>\n<li>nearest: </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong></strong></p>\n","site":{"data":{}},"excerpt":"","more":"<h6 id=\"scrollIntoView\"><a href=\"#scrollIntoView\" class=\"headerlink\" title=\"scrollIntoView\"></a>scrollIntoView</h6><p><em>element.scrollIntoView</em><br>scrollIntoView2</p>\n<h6 id=\"scrollIntoView\"><a href=\"#scrollIntoView\" class=\"headerlink\" title=\"scrollIntoView\"></a>scrollIntoView</h6><p><em>element.scrollIntoView()</em><br>element.scrollIntoView(true)</p>\n<p><em>element.scrollIntoView(boolean)</em></p>\n<ul>\n<li>booleantrue<ul>\n<li></li>\n<li>element.scrollIntoView({ block: start, inline: nearest})</li>\n</ul>\n</li>\n<li>booleanfalse<ul>\n<li></li>\n<li>element.scrollIntoView({ block: end, inline: nearest})</li>\n</ul>\n</li>\n</ul>\n<p><em>element.scrollIntoView(options)</em><br>options</p>\n<ul>\n<li>behavior<ul>\n<li></li>\n<li><ul>\n<li>auto()</li>\n<li>smooth</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>block<ul>\n<li></li>\n<li><ul>\n<li>start: </li>\n<li>center</li>\n<li>end</li>\n<li>nearest</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>inline<ul>\n<li></li>\n<li><ul>\n<li>start</li>\n<li>center</li>\n<li>end</li>\n<li>nearest: </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong></strong></p>\n"},{"title":"react","date":"2022-06-22T14:12:37.000Z","_content":"\n## \n#### React.createElement\n(1)React.createElement(type, [props], [...children]);\n(2)type\n(3)props\n(4)children\n#### DOM\n(1)JS\n(2)$$typeofSymbol\n\n#### \n#### filter\n![filter_tree](fiber_tree.png)\n\n## ElementDom\n(1)React.createElementReactDomReactDom.render\n(2)ReactDOM.render(element, container[, callback])\n(3)ReactDOM.renderDomDomDomReactcallback function\n\n## \n1setState\n![update_class](update_class.png)\n(1)static getDerivedStateFromProps()\n(2)shouldComponentUpdate(nextProps,nextState)\n(3)render()\n(4)getSnapshotBeforeUpdate(prevProps,prevState)\n(5)componentDidUpdate(prevProps,prevState,snapshot)\ngetSnapshotBeforeUpdate(prevProps,prevState)null(Snapshot Valueundefined)componentDidUpdate\n2forceUpdate\n![force_update](force_update.png)\n(1)static getDerivedStateFromProps()\n(2)render()\n(3)getSnapshotBeforeUpdate()\n(4)componentDidUpdate()","source":"_posts/5-react-render.md","raw":"---\ntitle: react\ndate: 2022-06-22 22:12:37\ntags:\n---\n\n## \n#### React.createElement\n(1)React.createElement(type, [props], [...children]);\n(2)type\n(3)props\n(4)children\n#### DOM\n(1)JS\n(2)$$typeofSymbol\n\n#### \n#### filter\n![filter_tree](fiber_tree.png)\n\n## ElementDom\n(1)React.createElementReactDomReactDom.render\n(2)ReactDOM.render(element, container[, callback])\n(3)ReactDOM.renderDomDomDomReactcallback function\n\n## \n1setState\n![update_class](update_class.png)\n(1)static getDerivedStateFromProps()\n(2)shouldComponentUpdate(nextProps,nextState)\n(3)render()\n(4)getSnapshotBeforeUpdate(prevProps,prevState)\n(5)componentDidUpdate(prevProps,prevState,snapshot)\ngetSnapshotBeforeUpdate(prevProps,prevState)null(Snapshot Valueundefined)componentDidUpdate\n2forceUpdate\n![force_update](force_update.png)\n(1)static getDerivedStateFromProps()\n(2)render()\n(3)getSnapshotBeforeUpdate()\n(4)componentDidUpdate()","slug":"5-react-render","published":1,"updated":"2022-08-10T03:15:06.301Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gx6001ocktt5q7ha88g","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"React-createElement\"><a href=\"#React-createElement\" class=\"headerlink\" title=\"React.createElement\"></a>React.createElement</h4><p>(1)React.createElement(type, [props], [children]);<br>(2)type<br>(3)props<br>(4)children</p>\n<h4 id=\"DOM\"><a href=\"#DOM\" class=\"headerlink\" title=\"DOM\"></a>DOM</h4><p>(1)JS<br>(2)$$typeofSymbol</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"filter\"><a href=\"#filter\" class=\"headerlink\" title=\"filter\"></a>filter</h4><p><img src=\"/2022/06/22/5-react-render/fiber_tree.png\" alt=\"filter_tree\"></p>\n<h2 id=\"ElementDom\"><a href=\"#ElementDom\" class=\"headerlink\" title=\"ElementDom\"></a>ElementDom</h2><p>(1)React.createElementReactDomReactDom.render<br>(2)ReactDOM.render(element, container[, callback])<br>(3)ReactDOM.renderDomDomDomReactcallback function</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>1setState<br><img src=\"/2022/06/22/5-react-render/update_class.png\" alt=\"update_class\"><br>(1)static getDerivedStateFromProps()<br>(2)shouldComponentUpdate(nextProps,nextState)<br>(3)render()<br>(4)getSnapshotBeforeUpdate(prevProps,prevState)<br>(5)componentDidUpdate(prevProps,prevState,snapshot)<br>getSnapshotBeforeUpdate(prevProps,prevState)null(Snapshot Valueundefined)componentDidUpdate<br>2forceUpdate<br><img src=\"/2022/06/22/5-react-render/force_update.png\" alt=\"force_update\"><br>(1)static getDerivedStateFromProps()<br>(2)render()<br>(3)getSnapshotBeforeUpdate()<br>(4)componentDidUpdate()</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"React-createElement\"><a href=\"#React-createElement\" class=\"headerlink\" title=\"React.createElement\"></a>React.createElement</h4><p>(1)React.createElement(type, [props], [children]);<br>(2)type<br>(3)props<br>(4)children</p>\n<h4 id=\"DOM\"><a href=\"#DOM\" class=\"headerlink\" title=\"DOM\"></a>DOM</h4><p>(1)JS<br>(2)$$typeofSymbol</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"filter\"><a href=\"#filter\" class=\"headerlink\" title=\"filter\"></a>filter</h4><p><img src=\"/2022/06/22/5-react-render/fiber_tree.png\" alt=\"filter_tree\"></p>\n<h2 id=\"ElementDom\"><a href=\"#ElementDom\" class=\"headerlink\" title=\"ElementDom\"></a>ElementDom</h2><p>(1)React.createElementReactDomReactDom.render<br>(2)ReactDOM.render(element, container[, callback])<br>(3)ReactDOM.renderDomDomDomReactcallback function</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>1setState<br><img src=\"/2022/06/22/5-react-render/update_class.png\" alt=\"update_class\"><br>(1)static getDerivedStateFromProps()<br>(2)shouldComponentUpdate(nextProps,nextState)<br>(3)render()<br>(4)getSnapshotBeforeUpdate(prevProps,prevState)<br>(5)componentDidUpdate(prevProps,prevState,snapshot)<br>getSnapshotBeforeUpdate(prevProps,prevState)null(Snapshot Valueundefined)componentDidUpdate<br>2forceUpdate<br><img src=\"/2022/06/22/5-react-render/force_update.png\" alt=\"force_update\"><br>(1)static getDerivedStateFromProps()<br>(2)render()<br>(3)getSnapshotBeforeUpdate()<br>(4)componentDidUpdate()</p>\n"},{"title":"-canvas.toDataURL & canvas.toBlob","date":"2022-12-08T08:48:13.000Z","_content":"\n###### \n\n\n###### \n* \n* canvas\n\n- <input type=\"file\"/>\n-  FileReader base64 Image \n-  Canvas\n- Canvas  base64 \n\n###### toDataURL\n* canvascanvasbase64.\n* canvascanvasbase64base64\n* base64\n  - base64htmlcssjs\n  - \n* \n  -  0data:,\n* toDataURL(type, encoderOptions)\n  - typebase64image/pngimage/jpegimage/webpimage/png\n  - encoderOptionsbase64 image/jpeg  image/webp 0-10.92\n[MDN HTMLCanvasElement.toDataURL()](https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/toDataURL)\n\n###### toBlob\n*  Blob  canvas \n* toBlob(callback, type, quality)\n  - callback Blob  null \n  - type(): DOMString  image/png\n  - quality(): Number  0  1  image/jpeg  image/webp \n[MDN HTMLCanvasElement.toBlob()](https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/toBlob)\n\n###### toDataURLtoBlob\n* \n  - \n    - toBlobcanvasBlobBlobFile\n    - toDataURLcanvasbase64base64File\n  - \n    - toBlob Blob \n    - toDataURL data URI DOMString\n  - \n    - toDataURLUI\n    - toBlob\n  - toDataURLtoBlobtoDataURLbase64base6437\n\n* \n  - canvas image/jpeg  image/webp  0  1  0.92\n\n```javascript\n// toBlob\ncanvas.toBlob(\n  function (b) {\n    let compressUrl = URL.createObjectURL(b); //url\n    let fileName =\n      imgFile.name.substring(0, imgFile.name.lastIndexOf('.')) +\n      '.' +\n      imgType.split('/')[1]; //\n    let file = blobToFile(b, fileName, imgType); //BlobFile\n    resolve({\n      url: compressUrl,\n      file: file,\n    });\n    imgCanvas = null; //\n  },\n  imgType,\n  quality\n);\n// toDataURL\ncanvas.toDataURL(imgType, quality);\n```","source":"_posts/43-compress-picture.md","raw":"---\ntitle: -canvas.toDataURL & canvas.toBlob\ndate: 2022-12-08 16:48:13\ntags:\n---\n\n###### \n\n\n###### \n* \n* canvas\n\n- <input type=\"file\"/>\n-  FileReader base64 Image \n-  Canvas\n- Canvas  base64 \n\n###### toDataURL\n* canvascanvasbase64.\n* canvascanvasbase64base64\n* base64\n  - base64htmlcssjs\n  - \n* \n  -  0data:,\n* toDataURL(type, encoderOptions)\n  - typebase64image/pngimage/jpegimage/webpimage/png\n  - encoderOptionsbase64 image/jpeg  image/webp 0-10.92\n[MDN HTMLCanvasElement.toDataURL()](https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/toDataURL)\n\n###### toBlob\n*  Blob  canvas \n* toBlob(callback, type, quality)\n  - callback Blob  null \n  - type(): DOMString  image/png\n  - quality(): Number  0  1  image/jpeg  image/webp \n[MDN HTMLCanvasElement.toBlob()](https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/toBlob)\n\n###### toDataURLtoBlob\n* \n  - \n    - toBlobcanvasBlobBlobFile\n    - toDataURLcanvasbase64base64File\n  - \n    - toBlob Blob \n    - toDataURL data URI DOMString\n  - \n    - toDataURLUI\n    - toBlob\n  - toDataURLtoBlobtoDataURLbase64base6437\n\n* \n  - canvas image/jpeg  image/webp  0  1  0.92\n\n```javascript\n// toBlob\ncanvas.toBlob(\n  function (b) {\n    let compressUrl = URL.createObjectURL(b); //url\n    let fileName =\n      imgFile.name.substring(0, imgFile.name.lastIndexOf('.')) +\n      '.' +\n      imgType.split('/')[1]; //\n    let file = blobToFile(b, fileName, imgType); //BlobFile\n    resolve({\n      url: compressUrl,\n      file: file,\n    });\n    imgCanvas = null; //\n  },\n  imgType,\n  quality\n);\n// toDataURL\ncanvas.toDataURL(imgType, quality);\n```","slug":"43-compress-picture","published":1,"updated":"2022-12-09T01:43:39.494Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gx7001pcktt13bq8zys","content":"<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li></li>\n<li>canvas<br></li>\n</ul>\n<ul>\n<li><input type=\"file\"></li>\n<li> FileReader base64 Image </li>\n<li> Canvas</li>\n<li>Canvas  base64 </li>\n</ul>\n<h6 id=\"toDataURL\"><a href=\"#toDataURL\" class=\"headerlink\" title=\"toDataURL\"></a>toDataURL</h6><ul>\n<li>canvascanvasbase64.</li>\n<li>canvascanvasbase64base64</li>\n<li>base64<ul>\n<li>base64htmlcssjs</li>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li> 0data:,</li>\n</ul>\n</li>\n<li>toDataURL(type, encoderOptions)<ul>\n<li>typebase64image/pngimage/jpegimage/webpimage/png</li>\n<li>encoderOptionsbase64 image/jpeg  image/webp 0-10.92<br><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/toDataURL\">MDN HTMLCanvasElement.toDataURL()</a></li>\n</ul>\n</li>\n</ul>\n<h6 id=\"toBlob\"><a href=\"#toBlob\" class=\"headerlink\" title=\"toBlob\"></a>toBlob</h6><ul>\n<li> Blob  canvas </li>\n<li>toBlob(callback, type, quality)<ul>\n<li>callback Blob  null </li>\n<li>type(): DOMString  image/png</li>\n<li>quality(): Number  0  1  image/jpeg  image/webp <br><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/toBlob\">MDN HTMLCanvasElement.toBlob()</a></li>\n</ul>\n</li>\n</ul>\n<h6 id=\"toDataURLtoBlob\"><a href=\"#toDataURLtoBlob\" class=\"headerlink\" title=\"toDataURLtoBlob\"></a>toDataURLtoBlob</h6><ul>\n<li><p></p>\n<ul>\n<li><ul>\n<li>toBlobcanvasBlobBlobFile</li>\n<li>toDataURLcanvasbase64base64File</li>\n</ul>\n</li>\n<li><ul>\n<li>toBlob Blob </li>\n<li>toDataURL data URI DOMString</li>\n</ul>\n</li>\n<li><ul>\n<li>toDataURLUI</li>\n<li>toBlob</li>\n</ul>\n</li>\n<li>toDataURLtoBlobtoDataURLbase64base6437</li>\n</ul>\n</li>\n<li><p></p>\n<ul>\n<li>canvas image/jpeg  image/webp  0  1  0.92</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// toBlob</span></span><br><span class=\"line\">canvas.toBlob(</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">b</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> compressUrl = URL.createObjectURL(b); <span class=\"comment\">//url</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> fileName =</span><br><span class=\"line\">      imgFile.name.substring(<span class=\"number\">0</span>, imgFile.name.lastIndexOf(<span class=\"string\">&#x27;.&#x27;</span>)) +</span><br><span class=\"line\">      <span class=\"string\">&#x27;.&#x27;</span> +</span><br><span class=\"line\">      imgType.split(<span class=\"string\">&#x27;/&#x27;</span>)[<span class=\"number\">1</span>]; <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> file = blobToFile(b, fileName, imgType); <span class=\"comment\">//BlobFile</span></span><br><span class=\"line\">    resolve(&#123;</span><br><span class=\"line\">      <span class=\"attr\">url</span>: compressUrl,</span><br><span class=\"line\">      <span class=\"attr\">file</span>: file,</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    imgCanvas = <span class=\"literal\">null</span>; <span class=\"comment\">//</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  imgType,</span><br><span class=\"line\">  quality</span><br><span class=\"line\">);</span><br><span class=\"line\"><span class=\"comment\">// toDataURL</span></span><br><span class=\"line\">canvas.toDataURL(imgType, quality);</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p></p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li></li>\n<li>canvas<br></li>\n</ul>\n<ul>\n<li><input type=\"file\"></li>\n<li> FileReader base64 Image </li>\n<li> Canvas</li>\n<li>Canvas  base64 </li>\n</ul>\n<h6 id=\"toDataURL\"><a href=\"#toDataURL\" class=\"headerlink\" title=\"toDataURL\"></a>toDataURL</h6><ul>\n<li>canvascanvasbase64.</li>\n<li>canvascanvasbase64base64</li>\n<li>base64<ul>\n<li>base64htmlcssjs</li>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li> 0data:,</li>\n</ul>\n</li>\n<li>toDataURL(type, encoderOptions)<ul>\n<li>typebase64image/pngimage/jpegimage/webpimage/png</li>\n<li>encoderOptionsbase64 image/jpeg  image/webp 0-10.92<br><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/toDataURL\">MDN HTMLCanvasElement.toDataURL()</a></li>\n</ul>\n</li>\n</ul>\n<h6 id=\"toBlob\"><a href=\"#toBlob\" class=\"headerlink\" title=\"toBlob\"></a>toBlob</h6><ul>\n<li> Blob  canvas </li>\n<li>toBlob(callback, type, quality)<ul>\n<li>callback Blob  null </li>\n<li>type(): DOMString  image/png</li>\n<li>quality(): Number  0  1  image/jpeg  image/webp <br><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/toBlob\">MDN HTMLCanvasElement.toBlob()</a></li>\n</ul>\n</li>\n</ul>\n<h6 id=\"toDataURLtoBlob\"><a href=\"#toDataURLtoBlob\" class=\"headerlink\" title=\"toDataURLtoBlob\"></a>toDataURLtoBlob</h6><ul>\n<li><p></p>\n<ul>\n<li><ul>\n<li>toBlobcanvasBlobBlobFile</li>\n<li>toDataURLcanvasbase64base64File</li>\n</ul>\n</li>\n<li><ul>\n<li>toBlob Blob </li>\n<li>toDataURL data URI DOMString</li>\n</ul>\n</li>\n<li><ul>\n<li>toDataURLUI</li>\n<li>toBlob</li>\n</ul>\n</li>\n<li>toDataURLtoBlobtoDataURLbase64base6437</li>\n</ul>\n</li>\n<li><p></p>\n<ul>\n<li>canvas image/jpeg  image/webp  0  1  0.92</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// toBlob</span></span><br><span class=\"line\">canvas.toBlob(</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">b</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> compressUrl = URL.createObjectURL(b); <span class=\"comment\">//url</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> fileName =</span><br><span class=\"line\">      imgFile.name.substring(<span class=\"number\">0</span>, imgFile.name.lastIndexOf(<span class=\"string\">&#x27;.&#x27;</span>)) +</span><br><span class=\"line\">      <span class=\"string\">&#x27;.&#x27;</span> +</span><br><span class=\"line\">      imgType.split(<span class=\"string\">&#x27;/&#x27;</span>)[<span class=\"number\">1</span>]; <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> file = blobToFile(b, fileName, imgType); <span class=\"comment\">//BlobFile</span></span><br><span class=\"line\">    resolve(&#123;</span><br><span class=\"line\">      <span class=\"attr\">url</span>: compressUrl,</span><br><span class=\"line\">      <span class=\"attr\">file</span>: file,</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    imgCanvas = <span class=\"literal\">null</span>; <span class=\"comment\">//</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  imgType,</span><br><span class=\"line\">  quality</span><br><span class=\"line\">);</span><br><span class=\"line\"><span class=\"comment\">// toDataURL</span></span><br><span class=\"line\">canvas.toDataURL(imgType, quality);</span><br></pre></td></tr></table></figure>"},{"title":"grid","date":"2023-01-03T07:28:21.000Z","_content":"\n###### grid\n###### grid\n###### grid\n###### grid\n- grid-row: grid-row-start / grid-row-end;\n  - grid-row-start\t\n  - grid-row-end\t\n```css\n/*  \"item1\"  1  4  */\n.item1 {\n  grid-row: 1 / 4;\n}\n/*  \"span\"  */\n/*  \"item1\"  */\n.item1 {\n  grid-row: 1 / span 2;\n}\n```\n- grid-template-columns\n  - \n```css\n/* 10px */\n.grid-container {\n  grid-template-columns: 10px 10px 10px;\n}\n/*  */\n.grid-container {\n  grid-template-columns: auto auto auto auto;\n}\n```\n- repeat()\n  - \n  -  CSS Grid  grid-template-columns  grid-template-rows\n```css\n/* repeat(4, 1fr) */\n/*  */\n.grid-container {\n  grid-template-columns: repeat(4, 1fr);\n}\n```\n- fr\n  -  fr(fraction) Grid (leftover space)(fraction)\n  -  1fr 100%, .25fr 25% fr  1 \n  -  fr>=1 ,  1fr 2fr  .33fr .67fr ","source":"_posts/44-about-grid.md","raw":"---\ntitle: grid\ndate: 2023-01-03 15:28:21\ntags:\n---\n\n###### grid\n###### grid\n###### grid\n###### grid\n- grid-row: grid-row-start / grid-row-end;\n  - grid-row-start\t\n  - grid-row-end\t\n```css\n/*  \"item1\"  1  4  */\n.item1 {\n  grid-row: 1 / 4;\n}\n/*  \"span\"  */\n/*  \"item1\"  */\n.item1 {\n  grid-row: 1 / span 2;\n}\n```\n- grid-template-columns\n  - \n```css\n/* 10px */\n.grid-container {\n  grid-template-columns: 10px 10px 10px;\n}\n/*  */\n.grid-container {\n  grid-template-columns: auto auto auto auto;\n}\n```\n- repeat()\n  - \n  -  CSS Grid  grid-template-columns  grid-template-rows\n```css\n/* repeat(4, 1fr) */\n/*  */\n.grid-container {\n  grid-template-columns: repeat(4, 1fr);\n}\n```\n- fr\n  -  fr(fraction) Grid (leftover space)(fraction)\n  -  1fr 100%, .25fr 25% fr  1 \n  -  fr>=1 ,  1fr 2fr  .33fr .67fr ","slug":"44-about-grid","published":1,"updated":"2023-01-03T08:17:58.368Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gx7001qcktt5y4ac7aj","content":"<h6 id=\"grid\"><a href=\"#grid\" class=\"headerlink\" title=\"grid\"></a>grid</h6><h6 id=\"grid\"><a href=\"#grid\" class=\"headerlink\" title=\"grid\"></a>grid</h6><h6 id=\"grid\"><a href=\"#grid\" class=\"headerlink\" title=\"grid\"></a>grid</h6><h6 id=\"grid\"><a href=\"#grid\" class=\"headerlink\" title=\"grid\"></a>grid</h6><ul>\n<li>grid-row: grid-row-start / grid-row-end;<ul>\n<li>grid-row-start    </li>\n<li>grid-row-end    <figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*  &quot;item1&quot;  1  4  */</span></span><br><span class=\"line\"><span class=\"selector-class\">.item1</span> &#123;</span><br><span class=\"line\">  grid-row: <span class=\"number\">1</span> / <span class=\"number\">4</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*  &quot;span&quot;  */</span></span><br><span class=\"line\"><span class=\"comment\">/*  &quot;item1&quot;  */</span></span><br><span class=\"line\"><span class=\"selector-class\">.item1</span> &#123;</span><br><span class=\"line\">  grid-row: <span class=\"number\">1</span> / span <span class=\"number\">2</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>grid-template-columns<ul>\n<li><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 10px */</span></span><br><span class=\"line\"><span class=\"selector-class\">.grid-container</span> &#123;</span><br><span class=\"line\">  grid-template-<span class=\"attribute\">columns</span>: <span class=\"number\">10px</span> <span class=\"number\">10px</span> <span class=\"number\">10px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*  */</span></span><br><span class=\"line\"><span class=\"selector-class\">.grid-container</span> &#123;</span><br><span class=\"line\">  grid-template-<span class=\"attribute\">columns</span>: auto auto auto auto;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>repeat()<ul>\n<li></li>\n<li> CSS Grid  grid-template-columns  grid-template-rows<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* repeat(4, 1fr) */</span></span><br><span class=\"line\"><span class=\"comment\">/*  */</span></span><br><span class=\"line\"><span class=\"selector-class\">.grid-container</span> &#123;</span><br><span class=\"line\">  grid-template-<span class=\"attribute\">columns</span>: <span class=\"built_in\">repeat</span>(<span class=\"number\">4</span>, <span class=\"number\">1</span>fr);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>fr<ul>\n<li> fr(fraction) Grid (leftover space)(fraction)</li>\n<li> 1fr 100%, .25fr 25% fr  1 </li>\n<li> fr&gt;=1 ,  1fr 2fr  .33fr .67fr </li>\n</ul>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h6 id=\"grid\"><a href=\"#grid\" class=\"headerlink\" title=\"grid\"></a>grid</h6><h6 id=\"grid\"><a href=\"#grid\" class=\"headerlink\" title=\"grid\"></a>grid</h6><h6 id=\"grid\"><a href=\"#grid\" class=\"headerlink\" title=\"grid\"></a>grid</h6><h6 id=\"grid\"><a href=\"#grid\" class=\"headerlink\" title=\"grid\"></a>grid</h6><ul>\n<li>grid-row: grid-row-start / grid-row-end;<ul>\n<li>grid-row-start    </li>\n<li>grid-row-end    <figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*  &quot;item1&quot;  1  4  */</span></span><br><span class=\"line\"><span class=\"selector-class\">.item1</span> &#123;</span><br><span class=\"line\">  grid-row: <span class=\"number\">1</span> / <span class=\"number\">4</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*  &quot;span&quot;  */</span></span><br><span class=\"line\"><span class=\"comment\">/*  &quot;item1&quot;  */</span></span><br><span class=\"line\"><span class=\"selector-class\">.item1</span> &#123;</span><br><span class=\"line\">  grid-row: <span class=\"number\">1</span> / span <span class=\"number\">2</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>grid-template-columns<ul>\n<li><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 10px */</span></span><br><span class=\"line\"><span class=\"selector-class\">.grid-container</span> &#123;</span><br><span class=\"line\">  grid-template-<span class=\"attribute\">columns</span>: <span class=\"number\">10px</span> <span class=\"number\">10px</span> <span class=\"number\">10px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*  */</span></span><br><span class=\"line\"><span class=\"selector-class\">.grid-container</span> &#123;</span><br><span class=\"line\">  grid-template-<span class=\"attribute\">columns</span>: auto auto auto auto;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>repeat()<ul>\n<li></li>\n<li> CSS Grid  grid-template-columns  grid-template-rows<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* repeat(4, 1fr) */</span></span><br><span class=\"line\"><span class=\"comment\">/*  */</span></span><br><span class=\"line\"><span class=\"selector-class\">.grid-container</span> &#123;</span><br><span class=\"line\">  grid-template-<span class=\"attribute\">columns</span>: <span class=\"built_in\">repeat</span>(<span class=\"number\">4</span>, <span class=\"number\">1</span>fr);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>fr<ul>\n<li> fr(fraction) Grid (leftover space)(fraction)</li>\n<li> 1fr 100%, .25fr 25% fr  1 </li>\n<li> fr&gt;=1 ,  1fr 2fr  .33fr .67fr </li>\n</ul>\n</li>\n</ul>\n"},{"title":"vue3","date":"2022-06-22T14:12:51.000Z","_content":"\n## \n![vue3_render](vue3_render.png)\n(1)vue -> \n(2)beforeCreate\n(3)datamethod\n(4)created\n(5)eltemplatemount\n(6)templaterender\n(7)1template2outerHTMLHTML\n(8)beforeMountvueDOM\n(9)HTML\n(10)mounted\n-- 1\n-- 2beforeUpdate\n-- 3DOMDOMpatch\n-- 4updated\n(11)beforeUnmount\n(12)vm.$destroy\n(13)unmounted\n\n## render\n![render](render.png)\n(1)Vnodeunmount\n(2)patchpatchPS: patch\n(3)patch flushPostFlushCbs\n(4)Vnode\npatchVnodepatchFlagVnodepatchrender\n\n## patch\n![render_node1](render_node1.png)\n![render_node2](render_node2.png)\n![render_function](render_function.png)\npatchTextCommentStaticFragment\n(1)n1  n2 n1 n2 \n(2)container \n(3)anchor \n(4)optimized \n\n## \nrenderVnodeunmount \n(1)refref\n(2)Keep-Alivedeactivate\n(3)VnodeunmountComponent\n","source":"_posts/6-vue3-render.md","raw":"---\ntitle: vue3\ndate: 2022-06-22 22:12:51\ntags:\n---\n\n## \n![vue3_render](vue3_render.png)\n(1)vue -> \n(2)beforeCreate\n(3)datamethod\n(4)created\n(5)eltemplatemount\n(6)templaterender\n(7)1template2outerHTMLHTML\n(8)beforeMountvueDOM\n(9)HTML\n(10)mounted\n-- 1\n-- 2beforeUpdate\n-- 3DOMDOMpatch\n-- 4updated\n(11)beforeUnmount\n(12)vm.$destroy\n(13)unmounted\n\n## render\n![render](render.png)\n(1)Vnodeunmount\n(2)patchpatchPS: patch\n(3)patch flushPostFlushCbs\n(4)Vnode\npatchVnodepatchFlagVnodepatchrender\n\n## patch\n![render_node1](render_node1.png)\n![render_node2](render_node2.png)\n![render_function](render_function.png)\npatchTextCommentStaticFragment\n(1)n1  n2 n1 n2 \n(2)container \n(3)anchor \n(4)optimized \n\n## \nrenderVnodeunmount \n(1)refref\n(2)Keep-Alivedeactivate\n(3)VnodeunmountComponent\n","slug":"6-vue3-render","published":1,"updated":"2022-08-10T03:16:20.555Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gx7001rckttcenka803","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/2022/06/22/6-vue3-render/vue3_render.png\" alt=\"vue3_render\"><br>(1)vue -&gt; <br>(2)beforeCreate<br>(3)datamethod<br>(4)created<br>(5)eltemplatemount<br>(6)templaterender<br>(7)1template2outerHTMLHTML<br>(8)beforeMountvueDOM<br>(9)HTML<br>(10)mounted<br> 1<br> 2beforeUpdate<br> 3DOMDOMpatch<br> 4updated<br>(11)beforeUnmount<br>(12)vm.$destroy<br>(13)unmounted</p>\n<h2 id=\"render\"><a href=\"#render\" class=\"headerlink\" title=\"render\"></a>render</h2><p><img src=\"/2022/06/22/6-vue3-render/render.png\" alt=\"render\"><br>(1)Vnodeunmount<br>(2)patchpatchPS: patch<br>(3)patch flushPostFlushCbs<br>(4)Vnode<br>patchVnodepatchFlagVnodepatchrender</p>\n<h2 id=\"patch\"><a href=\"#patch\" class=\"headerlink\" title=\"patch\"></a>patch</h2><p><img src=\"/2022/06/22/6-vue3-render/render_node1.png\" alt=\"render_node1\"><br><img src=\"/2022/06/22/6-vue3-render/render_node2.png\" alt=\"render_node2\"><br><img src=\"/2022/06/22/6-vue3-render/render_function.png\" alt=\"render_function\"><br>patchTextCommentStaticFragment<br>(1)n1  n2 n1 n2 <br>(2)container <br>(3)anchor <br>(4)optimized </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>renderVnodeunmount <br>(1)refref<br>(2)Keep-Alivedeactivate<br>(3)VnodeunmountComponent</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/2022/06/22/6-vue3-render/vue3_render.png\" alt=\"vue3_render\"><br>(1)vue -&gt; <br>(2)beforeCreate<br>(3)datamethod<br>(4)created<br>(5)eltemplatemount<br>(6)templaterender<br>(7)1template2outerHTMLHTML<br>(8)beforeMountvueDOM<br>(9)HTML<br>(10)mounted<br> 1<br> 2beforeUpdate<br> 3DOMDOMpatch<br> 4updated<br>(11)beforeUnmount<br>(12)vm.$destroy<br>(13)unmounted</p>\n<h2 id=\"render\"><a href=\"#render\" class=\"headerlink\" title=\"render\"></a>render</h2><p><img src=\"/2022/06/22/6-vue3-render/render.png\" alt=\"render\"><br>(1)Vnodeunmount<br>(2)patchpatchPS: patch<br>(3)patch flushPostFlushCbs<br>(4)Vnode<br>patchVnodepatchFlagVnodepatchrender</p>\n<h2 id=\"patch\"><a href=\"#patch\" class=\"headerlink\" title=\"patch\"></a>patch</h2><p><img src=\"/2022/06/22/6-vue3-render/render_node1.png\" alt=\"render_node1\"><br><img src=\"/2022/06/22/6-vue3-render/render_node2.png\" alt=\"render_node2\"><br><img src=\"/2022/06/22/6-vue3-render/render_function.png\" alt=\"render_function\"><br>patchTextCommentStaticFragment<br>(1)n1  n2 n1 n2 <br>(2)container <br>(3)anchor <br>(4)optimized </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>renderVnodeunmount <br>(1)refref<br>(2)Keep-Alivedeactivate<br>(3)VnodeunmountComponent</p>\n"},{"title":"react & vue","date":"2022-06-23T05:21:12.000Z","_content":"\n#### \n(1)reactvue3\n\n(2)react\n\n(3)vue3patchpatchElement\n\n(4)reactreactreact-domvue3vue.cjs.jsvue.global.js\nreact-dom = \nvuereact-dom\n(5)vue3reacthooks\ncreateElement\n(6)hooks\n(7)vue3element-plus\n(8)\n(9)\n","source":"_posts/7-question-about-render.md","raw":"---\ntitle: react & vue\ndate: 2022-06-23 13:21:12\ntags:\n---\n\n#### \n(1)reactvue3\n\n(2)react\n\n(3)vue3patchpatchElement\n\n(4)reactreactreact-domvue3vue.cjs.jsvue.global.js\nreact-dom = \nvuereact-dom\n(5)vue3reacthooks\ncreateElement\n(6)hooks\n(7)vue3element-plus\n(8)\n(9)\n","slug":"7-question-about-render","published":1,"updated":"2022-08-10T03:14:53.040Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gx8001scktt8kyh3pzz","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>(1)reactvue3<br><br>(2)react<br><br>(3)vue3patchpatchElement<br><br>(4)reactreactreact-domvue3vue.cjs.jsvue.global.js<br>react-dom = <br>vuereact-dom<br>(5)vue3reacthooks<br>createElement<br>(6)hooks<br>(7)vue3element-plus<br>(8)<br>(9)</p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>(1)reactvue3<br><br>(2)react<br><br>(3)vue3patchpatchElement<br><br>(4)reactreactreact-domvue3vue.cjs.jsvue.global.js<br>react-dom = <br>vuereact-dom<br>(5)vue3reacthooks<br>createElement<br>(6)hooks<br>(7)vue3element-plus<br>(8)<br>(9)</p>\n"},{"title":"js-","date":"2022-06-27T02:20:46.000Z","_content":"\n#### \n\n###### primitives\n```javascript\nconst newArray = Array(3).fill(3);\nconsole.log(newArray);  // [3, 3, 3]\n```\nArray(length).fill(initialValue) \n\n###### \n(1)Array().fill()\n```javascript\nconst newArray = Array(3).fill({ value: 0 });\nconsole.log(newArray);  // [{value: 0}, {value: 0}, {value: 0}]\n```\nArray(length).fill({ value: 0 }) length 3{ value: 0 }\n:\n```javascript\nconst newArray = Array(3).fill({ value: 0 });\nconsole.log(newArray);  // [{value: 0}, {value: 0}, {value: 0}]\nnewArray[1].value = 2;\nconsole.log(newArray);  // [{value: 2}, {value: 2}, {value: 2}]\n```\n(2)Array.from()\nArray.from() \n Array.from() :\n```javascript\nconst newArray = Array.from(Array(3), () => {\n  return { value: 0 };\n});\nconsole.log(newArray);  // [{value: 0}, {value: 0}, {value: 0}]\n```\n\n```javascript\nconst newArray = Array.from(Array(3), () => {\n  return { value: 0 };\n});\nconsole.log(newArray);  // [{value: 0}, {value: 0}, {value: 0}]\nnewArray[1].value = 2\nconsole.log(newArray);  // [{value: 0}, {value: 2}, {value: 0}]\n```\n(3)Array.map()Array.fill()\nmap**array.map() empty **\n```javascript\nconst newArray = Array(3).map(() => {\n  return { value: 0 };\n});\nconsole.log(newArray);  // [empty x 3]\n```\n empty  fill null \n```javascript\nconst newArray = Array(3).fill(null).map(() => {\n  return { value: 0 };\n});\nconsole.log(newArray);  // [{value: 0}, {value: 0}, {value: 0}]\n```\n\n```javascript\nconst newArray = Array(3).fill(null).map(() => {\n  return { value: 0 };\n});\nconsole.log(newArray);  // [{value: 0}, {value: 0}, {value: 0}]\nnewArray[1].value = 2;\nconsole.log(newArray);  // [{value: 0}, {value: 2}, {value: 0}]\n```\n","source":"_posts/8-create-fixed-length-array.md","raw":"---\ntitle: js-\ndate: 2022-06-27 10:20:46\ntags:\n---\n\n#### \n\n###### primitives\n```javascript\nconst newArray = Array(3).fill(3);\nconsole.log(newArray);  // [3, 3, 3]\n```\nArray(length).fill(initialValue) \n\n###### \n(1)Array().fill()\n```javascript\nconst newArray = Array(3).fill({ value: 0 });\nconsole.log(newArray);  // [{value: 0}, {value: 0}, {value: 0}]\n```\nArray(length).fill({ value: 0 }) length 3{ value: 0 }\n:\n```javascript\nconst newArray = Array(3).fill({ value: 0 });\nconsole.log(newArray);  // [{value: 0}, {value: 0}, {value: 0}]\nnewArray[1].value = 2;\nconsole.log(newArray);  // [{value: 2}, {value: 2}, {value: 2}]\n```\n(2)Array.from()\nArray.from() \n Array.from() :\n```javascript\nconst newArray = Array.from(Array(3), () => {\n  return { value: 0 };\n});\nconsole.log(newArray);  // [{value: 0}, {value: 0}, {value: 0}]\n```\n\n```javascript\nconst newArray = Array.from(Array(3), () => {\n  return { value: 0 };\n});\nconsole.log(newArray);  // [{value: 0}, {value: 0}, {value: 0}]\nnewArray[1].value = 2\nconsole.log(newArray);  // [{value: 0}, {value: 2}, {value: 0}]\n```\n(3)Array.map()Array.fill()\nmap**array.map() empty **\n```javascript\nconst newArray = Array(3).map(() => {\n  return { value: 0 };\n});\nconsole.log(newArray);  // [empty x 3]\n```\n empty  fill null \n```javascript\nconst newArray = Array(3).fill(null).map(() => {\n  return { value: 0 };\n});\nconsole.log(newArray);  // [{value: 0}, {value: 0}, {value: 0}]\n```\n\n```javascript\nconst newArray = Array(3).fill(null).map(() => {\n  return { value: 0 };\n});\nconsole.log(newArray);  // [{value: 0}, {value: 0}, {value: 0}]\nnewArray[1].value = 2;\nconsole.log(newArray);  // [{value: 0}, {value: 2}, {value: 0}]\n```\n","slug":"8-create-fixed-length-array","published":1,"updated":"2022-08-10T03:12:26.408Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gx8001tcktt1pzc3gt0","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"primitives\"><a href=\"#primitives\" class=\"headerlink\" title=\"primitives\"></a>primitives</h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>(<span class=\"number\">3</span>).fill(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [3, 3, 3]</span></span><br></pre></td></tr></table></figure>\n<p>Array(length).fill(initialValue) </p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(1)Array().fill()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>(<span class=\"number\">3</span>).fill(&#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 0&#125;, &#123;value: 0&#125;]</span></span><br></pre></td></tr></table></figure>\n<p>Array(length).fill({ value: 0 }) length 3{ value: 0 }<br>:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>(<span class=\"number\">3</span>).fill(&#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 0&#125;, &#123;value: 0&#125;]</span></span><br><span class=\"line\">newArray[<span class=\"number\">1</span>].value = <span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 2&#125;, &#123;value: 2&#125;, &#123;value: 2&#125;]</span></span><br></pre></td></tr></table></figure>\n<p>(2)Array.from()<br>Array.from() <br> Array.from() :</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>.from(<span class=\"built_in\">Array</span>(<span class=\"number\">3</span>), <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 0&#125;, &#123;value: 0&#125;]</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>.from(<span class=\"built_in\">Array</span>(<span class=\"number\">3</span>), <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 0&#125;, &#123;value: 0&#125;]</span></span><br><span class=\"line\">newArray[<span class=\"number\">1</span>].value = <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 2&#125;, &#123;value: 0&#125;]</span></span><br></pre></td></tr></table></figure>\n<p>(3)Array.map()Array.fill()<br>map<strong>array.map() empty </strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>(<span class=\"number\">3</span>).map(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [empty x 3]</span></span><br></pre></td></tr></table></figure>\n<p> empty  fill null </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>(<span class=\"number\">3</span>).fill(<span class=\"literal\">null</span>).map(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 0&#125;, &#123;value: 0&#125;]</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>(<span class=\"number\">3</span>).fill(<span class=\"literal\">null</span>).map(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 0&#125;, &#123;value: 0&#125;]</span></span><br><span class=\"line\">newArray[<span class=\"number\">1</span>].value = <span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 2&#125;, &#123;value: 0&#125;]</span></span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h6 id=\"primitives\"><a href=\"#primitives\" class=\"headerlink\" title=\"primitives\"></a>primitives</h6><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>(<span class=\"number\">3</span>).fill(<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [3, 3, 3]</span></span><br></pre></td></tr></table></figure>\n<p>Array(length).fill(initialValue) </p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>(1)Array().fill()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>(<span class=\"number\">3</span>).fill(&#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 0&#125;, &#123;value: 0&#125;]</span></span><br></pre></td></tr></table></figure>\n<p>Array(length).fill({ value: 0 }) length 3{ value: 0 }<br>:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>(<span class=\"number\">3</span>).fill(&#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 0&#125;, &#123;value: 0&#125;]</span></span><br><span class=\"line\">newArray[<span class=\"number\">1</span>].value = <span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 2&#125;, &#123;value: 2&#125;, &#123;value: 2&#125;]</span></span><br></pre></td></tr></table></figure>\n<p>(2)Array.from()<br>Array.from() <br> Array.from() :</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>.from(<span class=\"built_in\">Array</span>(<span class=\"number\">3</span>), <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 0&#125;, &#123;value: 0&#125;]</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>.from(<span class=\"built_in\">Array</span>(<span class=\"number\">3</span>), <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 0&#125;, &#123;value: 0&#125;]</span></span><br><span class=\"line\">newArray[<span class=\"number\">1</span>].value = <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 2&#125;, &#123;value: 0&#125;]</span></span><br></pre></td></tr></table></figure>\n<p>(3)Array.map()Array.fill()<br>map<strong>array.map() empty </strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>(<span class=\"number\">3</span>).map(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [empty x 3]</span></span><br></pre></td></tr></table></figure>\n<p> empty  fill null </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>(<span class=\"number\">3</span>).fill(<span class=\"literal\">null</span>).map(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 0&#125;, &#123;value: 0&#125;]</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> newArray = <span class=\"built_in\">Array</span>(<span class=\"number\">3</span>).fill(<span class=\"literal\">null</span>).map(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; <span class=\"attr\">value</span>: <span class=\"number\">0</span> &#125;;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 0&#125;, &#123;value: 0&#125;]</span></span><br><span class=\"line\">newArray[<span class=\"number\">1</span>].value = <span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(newArray);  <span class=\"comment\">// [&#123;value: 0&#125;, &#123;value: 2&#125;, &#123;value: 0&#125;]</span></span><br></pre></td></tr></table></figure>\n"},{"title":"MarkDown","date":"2022-06-27T02:43:07.000Z","_content":"\n#### MarkDown\n\n###### \n\\```javascript\nconst name = 'eric';\n....\n\\``` \n###### \n\\*\\*\\*\\*\n\\_\\_\\_\\_\n\n###### \n\\*\\*\n\\_\\_\n\n###### \n\\*\\*\\*\\*\\*\\*\n\\_\\_\\_\\_\\_\\_\n\n###### \n\\~\\~\\~\\~\n\n###### \n| 1 | 2 |\n| ----- | ----- |\n| 1 | 2 |\n\n###### \n<font color=\"red\"></font>\n```javascript\n<font color=\"red\"></font>\n<font color=\"blue\"></font>\n```\n\n###### \n<font size=\"10\"></font>\n```javascript\n<font size=\"10\"></font>\n<font size=\"14\"></font>\n```\n\n###### \n<font face=\"\"></font>\n```javascript\n<font face=\"\"></font>\n<font face=\"\"></font>\n```\n\n###### \n<mark style=\"bgcolor:red\"></mark>\n```javascript\n<mark style=\"bgcolor:red\"></mark>\n```\n\n###### \n* \n* \n* \n\n+ \n+ \n+ \n\n- \n- \n- \n```javascript\n* \n* \n* \n\n+ \n+ \n+ \n\n- \n- \n- \n```\n\n###### \n1. \n2. \n3. \n\n```javascript\n1. \n2. \n3. \n```\n\n###### : \n* \n  - 1-1\n* \n  - 2-1\n* \n  - 3-1\n\n\n* \n  1. 1-1\n* \n  1. 2-1\n* \n  1. 3-1\n\n```javascript\n* \n  - 1-1\n* \n  - 2-1\n* \n  - 3-1\n\n* \n  1. 1-1\n* \n  1. 2-1\n* \n  1. 3-1\n```\n\n######  >  \n\\> \n> 1\n> 2\n\n >  > \n> 1\n> > 2\n> > > 3\n\n###### \n\\[\\]\\(\\)  <>\n```\n[](www.baidu.com)\n<www.baidu.com>\n```\n\n###### \n!\\[alt \\]\\(\\)\n\n\n###### \n$  $\n$$  $$\n\n###### ^_, {} \na^1\na_1\n$$ x^{y^z}=(1+{\\rm e}^x)^{-2xy^w} $$\n\n\n","source":"_posts/9-text-type-about-markdown.md","raw":"---\ntitle: MarkDown\ndate: 2022-06-27 10:43:07\ntags:\n---\n\n#### MarkDown\n\n###### \n\\```javascript\nconst name = 'eric';\n....\n\\``` \n###### \n\\*\\*\\*\\*\n\\_\\_\\_\\_\n\n###### \n\\*\\*\n\\_\\_\n\n###### \n\\*\\*\\*\\*\\*\\*\n\\_\\_\\_\\_\\_\\_\n\n###### \n\\~\\~\\~\\~\n\n###### \n| 1 | 2 |\n| ----- | ----- |\n| 1 | 2 |\n\n###### \n<font color=\"red\"></font>\n```javascript\n<font color=\"red\"></font>\n<font color=\"blue\"></font>\n```\n\n###### \n<font size=\"10\"></font>\n```javascript\n<font size=\"10\"></font>\n<font size=\"14\"></font>\n```\n\n###### \n<font face=\"\"></font>\n```javascript\n<font face=\"\"></font>\n<font face=\"\"></font>\n```\n\n###### \n<mark style=\"bgcolor:red\"></mark>\n```javascript\n<mark style=\"bgcolor:red\"></mark>\n```\n\n###### \n* \n* \n* \n\n+ \n+ \n+ \n\n- \n- \n- \n```javascript\n* \n* \n* \n\n+ \n+ \n+ \n\n- \n- \n- \n```\n\n###### \n1. \n2. \n3. \n\n```javascript\n1. \n2. \n3. \n```\n\n###### : \n* \n  - 1-1\n* \n  - 2-1\n* \n  - 3-1\n\n\n* \n  1. 1-1\n* \n  1. 2-1\n* \n  1. 3-1\n\n```javascript\n* \n  - 1-1\n* \n  - 2-1\n* \n  - 3-1\n\n* \n  1. 1-1\n* \n  1. 2-1\n* \n  1. 3-1\n```\n\n######  >  \n\\> \n> 1\n> 2\n\n >  > \n> 1\n> > 2\n> > > 3\n\n###### \n\\[\\]\\(\\)  <>\n```\n[](www.baidu.com)\n<www.baidu.com>\n```\n\n###### \n!\\[alt \\]\\(\\)\n\n\n###### \n$  $\n$$  $$\n\n###### ^_, {} \na^1\na_1\n$$ x^{y^z}=(1+{\\rm e}^x)^{-2xy^w} $$\n\n\n","slug":"9-text-type-about-markdown","published":1,"updated":"2022-10-14T03:01:44.781Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gx9001ucktt5whgcf7s","content":"<h4 id=\"MarkDown\"><a href=\"#MarkDown\" class=\"headerlink\" title=\"MarkDown\"></a>MarkDown</h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>```javascript<br>const name = eric;<br>.<br>``` </p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>****<br>____</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>**<br>__</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>******<br>______</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>~~~~</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><table>\n<thead>\n<tr>\n<th>1</th>\n<th>2</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1</td>\n<td>2</td>\n</tr>\n</tbody></table>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><font color=\"red\"></font></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;font color=<span class=\"string\">&quot;red&quot;</span>&gt;&lt;/font&gt;</span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">color</span>=<span class=\"string\">&quot;blue&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><font size=\"10\"></font></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;font size=<span class=\"string\">&quot;10&quot;</span>&gt;&lt;/font&gt;</span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">size</span>=<span class=\"string\">&quot;14&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><font face=\"\"></font></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;font face=<span class=\"string\">&quot;&quot;</span>&gt;&lt;/font&gt;</span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">face</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><mark style=\"bgcolor:red\"></mark></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;mark style=<span class=\"string\">&quot;bgcolor:red&quot;</span>&gt;&lt;/mark&gt;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<ul>\n<li></li>\n<li></li>\n<li><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">* </span><br><span class=\"line\">* </span><br><span class=\"line\">* </span><br><span class=\"line\"></span><br><span class=\"line\">+ </span><br><span class=\"line\">+ </span><br><span class=\"line\">+ </span><br><span class=\"line\"></span><br><span class=\"line\">- </span><br><span class=\"line\">- </span><br><span class=\"line\">- </span><br></pre></td></tr></table></figure></li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ol>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1.</span> </span><br><span class=\"line\"><span class=\"number\">2.</span> </span><br><span class=\"line\"><span class=\"number\">3.</span> </span><br></pre></td></tr></table></figure>\n\n<h6 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\": \"></a>: </h6><ul>\n<li><ul>\n<li>1-1</li>\n</ul>\n</li>\n<li><ul>\n<li>2-1</li>\n</ul>\n</li>\n<li><ul>\n<li>3-1</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li><ol>\n<li>1-1</li>\n</ol>\n</li>\n<li><ol>\n<li>2-1</li>\n</ol>\n</li>\n<li><ol>\n<li>3-1</li>\n</ol>\n</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">* </span><br><span class=\"line\">  - <span class=\"number\">1</span>-<span class=\"number\">1</span></span><br><span class=\"line\">* </span><br><span class=\"line\">  - <span class=\"number\">2</span>-<span class=\"number\">1</span></span><br><span class=\"line\">* </span><br><span class=\"line\">  - <span class=\"number\">3</span>-<span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">* </span><br><span class=\"line\">  <span class=\"number\">1.</span> <span class=\"number\">1</span>-<span class=\"number\">1</span></span><br><span class=\"line\">* </span><br><span class=\"line\">  <span class=\"number\">1.</span> <span class=\"number\">2</span>-<span class=\"number\">1</span></span><br><span class=\"line\">* </span><br><span class=\"line\">  <span class=\"number\">1.</span> <span class=\"number\">3</span>-<span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"-gt--\"><a href=\"#-gt--\" class=\"headerlink\" title=\" &gt;  \"></a> &gt;  </h6><p>&gt; </p>\n<blockquote>\n<p>1<br>2</p>\n</blockquote>\n<p> &gt;  &gt; </p>\n<blockquote>\n<p>1</p>\n<blockquote>\n<p>2</p>\n<blockquote>\n<p>3</p>\n</blockquote>\n</blockquote>\n</blockquote>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>[]()  &lt;&gt;</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[](www.baidu.com)</span><br><span class=\"line\">&lt;www.baidu.com&gt;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>![alt ]()</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>$  $<br>$$  $$</p>\n<h6 id=\"----\"><a href=\"#----\" class=\"headerlink\" title=\"^_, {} \"></a>^_, {} </h6><p>a^1<br>a_1<br>$$ x^{y^z}=(1+{\\rm e}^x)^{-2xy^w} $$</p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"MarkDown\"><a href=\"#MarkDown\" class=\"headerlink\" title=\"MarkDown\"></a>MarkDown</h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>```javascript<br>const name = eric;<br>.<br>``` </p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>****<br>____</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>**<br>__</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>******<br>______</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>~~~~</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><table>\n<thead>\n<tr>\n<th>1</th>\n<th>2</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1</td>\n<td>2</td>\n</tr>\n</tbody></table>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><font color=\"red\"></font></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;font color=<span class=\"string\">&quot;red&quot;</span>&gt;&lt;/font&gt;</span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">color</span>=<span class=\"string\">&quot;blue&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><font size=\"10\"></font></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;font size=<span class=\"string\">&quot;10&quot;</span>&gt;&lt;/font&gt;</span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">size</span>=<span class=\"string\">&quot;14&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><font face=\"\"></font></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;font face=<span class=\"string\">&quot;&quot;</span>&gt;&lt;/font&gt;</span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">face</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p><mark style=\"bgcolor:red\"></mark></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;mark style=<span class=\"string\">&quot;bgcolor:red&quot;</span>&gt;&lt;/mark&gt;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<ul>\n<li></li>\n<li></li>\n<li><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">* </span><br><span class=\"line\">* </span><br><span class=\"line\">* </span><br><span class=\"line\"></span><br><span class=\"line\">+ </span><br><span class=\"line\">+ </span><br><span class=\"line\">+ </span><br><span class=\"line\"></span><br><span class=\"line\">- </span><br><span class=\"line\">- </span><br><span class=\"line\">- </span><br></pre></td></tr></table></figure></li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ol>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1.</span> </span><br><span class=\"line\"><span class=\"number\">2.</span> </span><br><span class=\"line\"><span class=\"number\">3.</span> </span><br></pre></td></tr></table></figure>\n\n<h6 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\": \"></a>: </h6><ul>\n<li><ul>\n<li>1-1</li>\n</ul>\n</li>\n<li><ul>\n<li>2-1</li>\n</ul>\n</li>\n<li><ul>\n<li>3-1</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li><ol>\n<li>1-1</li>\n</ol>\n</li>\n<li><ol>\n<li>2-1</li>\n</ol>\n</li>\n<li><ol>\n<li>3-1</li>\n</ol>\n</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">* </span><br><span class=\"line\">  - <span class=\"number\">1</span>-<span class=\"number\">1</span></span><br><span class=\"line\">* </span><br><span class=\"line\">  - <span class=\"number\">2</span>-<span class=\"number\">1</span></span><br><span class=\"line\">* </span><br><span class=\"line\">  - <span class=\"number\">3</span>-<span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">* </span><br><span class=\"line\">  <span class=\"number\">1.</span> <span class=\"number\">1</span>-<span class=\"number\">1</span></span><br><span class=\"line\">* </span><br><span class=\"line\">  <span class=\"number\">1.</span> <span class=\"number\">2</span>-<span class=\"number\">1</span></span><br><span class=\"line\">* </span><br><span class=\"line\">  <span class=\"number\">1.</span> <span class=\"number\">3</span>-<span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"-gt--\"><a href=\"#-gt--\" class=\"headerlink\" title=\" &gt;  \"></a> &gt;  </h6><p>&gt; </p>\n<blockquote>\n<p>1<br>2</p>\n</blockquote>\n<p> &gt;  &gt; </p>\n<blockquote>\n<p>1</p>\n<blockquote>\n<p>2</p>\n<blockquote>\n<p>3</p>\n</blockquote>\n</blockquote>\n</blockquote>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>[]()  &lt;&gt;</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[](www.baidu.com)</span><br><span class=\"line\">&lt;www.baidu.com&gt;</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>![alt ]()</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>$  $<br>$$  $$</p>\n<h6 id=\"----\"><a href=\"#----\" class=\"headerlink\" title=\"^_, {} \"></a>^_, {} </h6><p>a^1<br>a_1<br>$$ x^{y^z}=(1+{\\rm e}^x)^{-2xy^w} $$</p>\n"},{"_content":"<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Document</title>\n  </head>\n  <body>\n    <script>\n      console.log(`1 - true: ${1 - true}`);\n      console.log(`1 - false: ${1 - false}`);\n      console.log(`1 - null: ${1 - null}`);\n      console.log(`1 - undefined: ${1 - undefined}`);\n      console.log(`2 * ['5']: ${2 * ['5']}`);\n\n      console.log(`123 + '123': ${123 + '123'}`);\n      console.log(`123 + null: ${123 + null}`);\n      console.log(`123 + true: ${123 + true}`);\n      console.log(`123 + {}: ${123 + {}}`);\n\n      console.log(`NaN == NaN: ${NaN == NaN}`);\n\n      console.log(`true == 1: ${true == 1}`);\n      console.log(`true == '2': ${true == '2'}`);\n      console.log(`true == ['1']: ${true == ['1']}`);\n      console.log(`true == ['2']: ${true == ['2']}`);\n      console.log(`undefined == false: ${undefined == false}`);\n      console.log(`null == false: ${null == false}`);\n\n      console.log(`123 == '123': ${123 == '123'}`);\n      console.log(`'' == 0: ${'' == 0}`);\n\n      console.log(`null == undefined: ${null == undefined}`); // true\n      console.log(`null == '': ${null == ''}`); // false\n      console.log(`null == 0: ${null == 0}`); // false\n      console.log(`null == false: ${null == false}`); // false\n      console.log(`undefined == '': ${undefined == ''}`); // false\n      console.log(`undefined == 0: ${undefined == 0}`); // false\n      console.log(`undefined == false: ${undefined == false}`); // false\n\n      console.log(`'[object Object]' == {}: ${'[object Object]' == {}}`); // true\n      console.log(`'1,2,3' == [1, 2, 3]: ${'1,2,3' == [1, 2, 3]}`); // true\n\n      console.log(`'10' > '2': ${'10' > '2'}`); // false\n    </script>\n  </body>\n</html>\n","source":"_posts/15-js-transform/js-transform.html","raw":"<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Document</title>\n  </head>\n  <body>\n    <script>\n      console.log(`1 - true: ${1 - true}`);\n      console.log(`1 - false: ${1 - false}`);\n      console.log(`1 - null: ${1 - null}`);\n      console.log(`1 - undefined: ${1 - undefined}`);\n      console.log(`2 * ['5']: ${2 * ['5']}`);\n\n      console.log(`123 + '123': ${123 + '123'}`);\n      console.log(`123 + null: ${123 + null}`);\n      console.log(`123 + true: ${123 + true}`);\n      console.log(`123 + {}: ${123 + {}}`);\n\n      console.log(`NaN == NaN: ${NaN == NaN}`);\n\n      console.log(`true == 1: ${true == 1}`);\n      console.log(`true == '2': ${true == '2'}`);\n      console.log(`true == ['1']: ${true == ['1']}`);\n      console.log(`true == ['2']: ${true == ['2']}`);\n      console.log(`undefined == false: ${undefined == false}`);\n      console.log(`null == false: ${null == false}`);\n\n      console.log(`123 == '123': ${123 == '123'}`);\n      console.log(`'' == 0: ${'' == 0}`);\n\n      console.log(`null == undefined: ${null == undefined}`); // true\n      console.log(`null == '': ${null == ''}`); // false\n      console.log(`null == 0: ${null == 0}`); // false\n      console.log(`null == false: ${null == false}`); // false\n      console.log(`undefined == '': ${undefined == ''}`); // false\n      console.log(`undefined == 0: ${undefined == 0}`); // false\n      console.log(`undefined == false: ${undefined == false}`); // false\n\n      console.log(`'[object Object]' == {}: ${'[object Object]' == {}}`); // true\n      console.log(`'1,2,3' == [1, 2, 3]: ${'1,2,3' == [1, 2, 3]}`); // true\n\n      console.log(`'10' > '2': ${'10' > '2'}`); // false\n    </script>\n  </body>\n</html>\n","slug":"15-js-transform/js-transform","published":1,"date":"2022-08-11T05:19:34.637Z","updated":"2022-08-11T09:29:33.722Z","title":"","comments":1,"layout":"post","photos":[],"link":"","_id":"clchh4gx9001vcktt0lbnbc1n","content":"<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Document</title>\n  </head>\n  <body>\n    <script>\n      console.log(`1 - true: ${1 - true}`);\n      console.log(`1 - false: ${1 - false}`);\n      console.log(`1 - null: ${1 - null}`);\n      console.log(`1 - undefined: ${1 - undefined}`);\n      console.log(`2 * ['5']: ${2 * ['5']}`);\n\n      console.log(`123 + '123': ${123 + '123'}`);\n      console.log(`123 + null: ${123 + null}`);\n      console.log(`123 + true: ${123 + true}`);\n      console.log(`123 + {}: ${123 + {}}`);\n\n      console.log(`NaN == NaN: ${NaN == NaN}`);\n\n      console.log(`true == 1: ${true == 1}`);\n      console.log(`true == '2': ${true == '2'}`);\n      console.log(`true == ['1']: ${true == ['1']}`);\n      console.log(`true == ['2']: ${true == ['2']}`);\n      console.log(`undefined == false: ${undefined == false}`);\n      console.log(`null == false: ${null == false}`);\n\n      console.log(`123 == '123': ${123 == '123'}`);\n      console.log(`'' == 0: ${'' == 0}`);\n\n      console.log(`null == undefined: ${null == undefined}`); // true\n      console.log(`null == '': ${null == ''}`); // false\n      console.log(`null == 0: ${null == 0}`); // false\n      console.log(`null == false: ${null == false}`); // false\n      console.log(`undefined == '': ${undefined == ''}`); // false\n      console.log(`undefined == 0: ${undefined == 0}`); // false\n      console.log(`undefined == false: ${undefined == false}`); // false\n\n      console.log(`'[object Object]' == {}: ${'[object Object]' == {}}`); // true\n      console.log(`'1,2,3' == [1, 2, 3]: ${'1,2,3' == [1, 2, 3]}`); // true\n\n      console.log(`'10' > '2': ${'10' > '2'}`); // false\n    </script>\n  </body>\n</html>\n","site":{"data":{}},"excerpt":"","more":"<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Document</title>\n  </head>\n  <body>\n    <script>\n      console.log(`1 - true: ${1 - true}`);\n      console.log(`1 - false: ${1 - false}`);\n      console.log(`1 - null: ${1 - null}`);\n      console.log(`1 - undefined: ${1 - undefined}`);\n      console.log(`2 * ['5']: ${2 * ['5']}`);\n\n      console.log(`123 + '123': ${123 + '123'}`);\n      console.log(`123 + null: ${123 + null}`);\n      console.log(`123 + true: ${123 + true}`);\n      console.log(`123 + {}: ${123 + {}}`);\n\n      console.log(`NaN == NaN: ${NaN == NaN}`);\n\n      console.log(`true == 1: ${true == 1}`);\n      console.log(`true == '2': ${true == '2'}`);\n      console.log(`true == ['1']: ${true == ['1']}`);\n      console.log(`true == ['2']: ${true == ['2']}`);\n      console.log(`undefined == false: ${undefined == false}`);\n      console.log(`null == false: ${null == false}`);\n\n      console.log(`123 == '123': ${123 == '123'}`);\n      console.log(`'' == 0: ${'' == 0}`);\n\n      console.log(`null == undefined: ${null == undefined}`); // true\n      console.log(`null == '': ${null == ''}`); // false\n      console.log(`null == 0: ${null == 0}`); // false\n      console.log(`null == false: ${null == false}`); // false\n      console.log(`undefined == '': ${undefined == ''}`); // false\n      console.log(`undefined == 0: ${undefined == 0}`); // false\n      console.log(`undefined == false: ${undefined == false}`); // false\n\n      console.log(`'[object Object]' == {}: ${'[object Object]' == {}}`); // true\n      console.log(`'1,2,3' == [1, 2, 3]: ${'1,2,3' == [1, 2, 3]}`); // true\n\n      console.log(`'10' > '2': ${'10' > '2'}`); // false\n    </script>\n  </body>\n</html>\n"}],"PostAsset":[{"_id":"source/_posts/15-js-transform/convert-table.png","post":"clchh4gwn000fckttde89euf3","slug":"convert-table.png","modified":1,"renderable":1},{"_id":"source/_posts/15-js-transform/js-transform.html","post":"clchh4gwn000fckttde89euf3","slug":"js-transform.html","modified":1,"renderable":1},{"_id":"source/_posts/18-fake-array/array_from.png","post":"clchh4gwp000jcktt3n3i9ak4","slug":"array_from.png","modified":1,"renderable":1},{"_id":"source/_posts/18-fake-array/document.png","post":"clchh4gwp000jcktt3n3i9ak4","slug":"document.png","modified":1,"renderable":1},{"_id":"source/_posts/18-fake-array/prototype_call.png","post":"clchh4gwp000jcktt3n3i9ak4","slug":"prototype_call.png","modified":1,"renderable":1},{"_id":"source/_posts/18-fake-array/slice_call.png","post":"clchh4gwp000jcktt3n3i9ak4","slug":"slice_call.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/abstract-car.png","post":"clchh4gwt000tcktt1jfgchng","slug":"abstract-car.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/abstract-factory1.png","post":"clchh4gwt000tcktt1jfgchng","slug":"abstract-factory1.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/abstract-factory2.png","post":"clchh4gwt000tcktt1jfgchng","slug":"abstract-factory2.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/abstract-factory3.png","post":"clchh4gwt000tcktt1jfgchng","slug":"abstract-factory3.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/human.png","post":"clchh4gwt000tcktt1jfgchng","slug":"human.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/lazy-single-instance.png","post":"clchh4gwt000tcktt1jfgchng","slug":"lazy-single-instance.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/name.png","post":"clchh4gwt000tcktt1jfgchng","slug":"name.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/person.png","post":"clchh4gwt000tcktt1jfgchng","slug":"person.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/prototype-inherit1.png","post":"clchh4gwt000tcktt1jfgchng","slug":"prototype-inherit1.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/prototype-inherit2.png","post":"clchh4gwt000tcktt1jfgchng","slug":"prototype-inherit2.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/prototype-model.png","post":"clchh4gwt000tcktt1jfgchng","slug":"prototype-model.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/safe-factory-model.png","post":"clchh4gwt000tcktt1jfgchng","slug":"safe-factory-model.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/safe-model-class.png","post":"clchh4gwt000tcktt1jfgchng","slug":"safe-model-class.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/static-param.png","post":"clchh4gwt000tcktt1jfgchng","slug":"static-param.png","modified":1,"renderable":1},{"_id":"source/_posts/24-about-design-model1/work.png","post":"clchh4gwt000tcktt1jfgchng","slug":"work.png","modified":1,"renderable":1},{"_id":"source/_posts/25-about-design-model2/bridge1.png","post":"clchh4gwv000zcktthfkx2hwg","slug":"bridge1.png","modified":1,"renderable":1},{"_id":"source/_posts/25-about-design-model2/bridge2.png","post":"clchh4gwv000zcktthfkx2hwg","slug":"bridge2.png","modified":1,"renderable":1},{"_id":"source/_posts/25-about-design-model2/bridge3.png","post":"clchh4gwv000zcktthfkx2hwg","slug":"bridge3.png","modified":1,"renderable":1},{"_id":"source/_posts/25-about-design-model2/decorator.png","post":"clchh4gwv000zcktthfkx2hwg","slug":"decorator.png","modified":1,"renderable":1},{"_id":"source/_posts/25-about-design-model2/out-look.png","post":"clchh4gwv000zcktthfkx2hwg","slug":"out-look.png","modified":1,"renderable":1},{"_id":"source/_posts/25-about-design-model2/station-culculate.png","post":"clchh4gwv000zcktthfkx2hwg","slug":"station-culculate.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/class-inherit.png","post":"clchh4gwv000xcktt5uwdh7ah","slug":"class-inherit.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/combination-inherit.png","post":"clchh4gwv000xcktt5uwdh7ah","slug":"combination-inherit.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/constructor-inherit.png","post":"clchh4gwv000xcktt5uwdh7ah","slug":"constructor-inherit.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/create-pop.png","post":"clchh4gwv000xcktt5uwdh7ah","slug":"create-pop.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/how-to-inherit.png","post":"clchh4gwv000xcktt5uwdh7ah","slug":"how-to-inherit.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/multiple-inherit.png","post":"clchh4gwv000xcktt5uwdh7ah","slug":"multiple-inherit.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/multiple-status.png","post":"clchh4gwv000xcktt5uwdh7ah","slug":"multiple-status.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/parasitic-combination-inherit.png","post":"clchh4gwv000xcktt5uwdh7ah","slug":"parasitic-combination-inherit.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/parasitic-inherit-change.png","post":"clchh4gwv000xcktt5uwdh7ah","slug":"parasitic-inherit-change.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/parasitic-inherit.png","post":"clchh4gwv000xcktt5uwdh7ah","slug":"parasitic-inherit.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/prototype-inherit.png","post":"clchh4gwv000xcktt5uwdh7ah","slug":"prototype-inherit.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/prototype.png","post":"clchh4gwv000xcktt5uwdh7ah","slug":"prototype.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/public-and-private.png","post":"clchh4gwv000xcktt5uwdh7ah","slug":"public-and-private.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/safe-model.png","post":"clchh4gwv000xcktt5uwdh7ah","slug":"safe-model.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/simple-factory1.png","post":"clchh4gwv000xcktt5uwdh7ah","slug":"simple-factory1.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/simple-factory2.png","post":"clchh4gwv000xcktt5uwdh7ah","slug":"simple-factory2.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/static-and-public.png","post":"clchh4gwv000xcktt5uwdh7ah","slug":"static-and-public.png","modified":1,"renderable":1},{"_id":"source/_posts/23-about-design-model/test-prototype-inherit.png","post":"clchh4gwv000xcktt5uwdh7ah","slug":"test-prototype-inherit.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/add-message.png","post":"clchh4gww0011cktt12x8feua","slug":"add-message.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/basic-model.png","post":"clchh4gww0011cktt12x8feua","slug":"basic-model.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/cache-model.png","post":"clchh4gww0011cktt12x8feua","slug":"cache-model.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/command-model-1.png","post":"clchh4gww0011cktt12x8feua","slug":"command-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/command-model-2.png","post":"clchh4gww0011cktt12x8feua","slug":"command-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/command-model-3.png","post":"clchh4gww0011cktt12x8feua","slug":"command-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/create-component.png","post":"clchh4gww0011cktt12x8feua","slug":"create-component.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/deal-data.png","post":"clchh4gww0011cktt12x8feua","slug":"deal-data.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/explain-model-1.png","post":"clchh4gww0011cktt12x8feua","slug":"explain-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/explain-model-2.png","post":"clchh4gww0011cktt12x8feua","slug":"explain-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/explain-model-3.png","post":"clchh4gww0011cktt12x8feua","slug":"explain-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/inherit-as-basic-model.png","post":"clchh4gww0011cktt12x8feua","slug":"inherit-as-basic-model.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/inherit-model.png","post":"clchh4gww0011cktt12x8feua","slug":"inherit-model.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/iterator-model.png","post":"clchh4gww0011cktt12x8feua","slug":"iterator-model.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/marry-state.png","post":"clchh4gww0011cktt12x8feua","slug":"marry-state.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/marry-state1.png","post":"clchh4gww0011cktt12x8feua","slug":"marry-state1.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/mediator-model.png","post":"clchh4gww0011cktt12x8feua","slug":"mediator-model.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/observer-fire.png","post":"clchh4gww0011cktt12x8feua","slug":"observer-fire.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/observer-regist.png","post":"clchh4gww0011cktt12x8feua","slug":"observer-regist.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/observer-remove.png","post":"clchh4gww0011cktt12x8feua","slug":"observer-remove.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/observer.png","post":"clchh4gww0011cktt12x8feua","slug":"observer.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/price-strategy.png","post":"clchh4gww0011cktt12x8feua","slug":"price-strategy.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/regist-change-num.png","post":"clchh4gww0011cktt12x8feua","slug":"regist-change-num.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/regist-message.png","post":"clchh4gww0011cktt12x8feua","slug":"regist-message.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/send-data.png","post":"clchh4gww0011cktt12x8feua","slug":"send-data.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/visitor-model.png","post":"clchh4gww0011cktt12x8feua","slug":"visitor-model.png","modified":1,"renderable":1},{"_id":"source/_posts/26-about-design-model3/vote-status.png","post":"clchh4gww0011cktt12x8feua","slug":"vote-status.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/chain-model-1.png","post":"clchh4gwx0013cktt7ij295mx","slug":"chain-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/chain-model-2.png","post":"clchh4gwx0013cktt7ij295mx","slug":"chain-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/chain-model-3.png","post":"clchh4gwx0013cktt7ij295mx","slug":"chain-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/chain-model-4.png","post":"clchh4gwx0013cktt7ij295mx","slug":"chain-model-4.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/chain-model-5.png","post":"clchh4gwx0013cktt7ij295mx","slug":"chain-model-5.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/chain-model-6.png","post":"clchh4gwx0013cktt7ij295mx","slug":"chain-model-6.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/entrust-model-1.png","post":"clchh4gwx0013cktt7ij295mx","slug":"entrust-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/entrust-model-2.png","post":"clchh4gwx0013cktt7ij295mx","slug":"entrust-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/lazy-model-1.png","post":"clchh4gwx0013cktt7ij295mx","slug":"lazy-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/lazy-model-2.png","post":"clchh4gwx0013cktt7ij295mx","slug":"lazy-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/lazy-model-3.png","post":"clchh4gwx0013cktt7ij295mx","slug":"lazy-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/lazy-model-4.png","post":"clchh4gwx0013cktt7ij295mx","slug":"lazy-model-4.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/lazy-model-5.png","post":"clchh4gwx0013cktt7ij295mx","slug":"lazy-model-5.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/lazy-model-6.png","post":"clchh4gwx0013cktt7ij295mx","slug":"lazy-model-6.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/localstorage-model-1.png","post":"clchh4gwx0013cktt7ij295mx","slug":"localstorage-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/localstorage-model-2.png","post":"clchh4gwx0013cktt7ij295mx","slug":"localstorage-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/localstorage-model-3.png","post":"clchh4gwx0013cktt7ij295mx","slug":"localstorage-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/localstorage-model-4.png","post":"clchh4gwx0013cktt7ij295mx","slug":"localstorage-model-4.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/localstorage-model-5.png","post":"clchh4gwx0013cktt7ij295mx","slug":"localstorage-model-5.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/localstorage-model-6.png","post":"clchh4gwx0013cktt7ij295mx","slug":"localstorage-model-6.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/participate-model-1.png","post":"clchh4gwx0013cktt7ij295mx","slug":"participate-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/participate-model-2.png","post":"clchh4gwx0013cktt7ij295mx","slug":"participate-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/participate-model-3.png","post":"clchh4gwx0013cktt7ij295mx","slug":"participate-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/participate-model-4.png","post":"clchh4gwx0013cktt7ij295mx","slug":"participate-model-4.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/participate-model-5.png","post":"clchh4gwx0013cktt7ij295mx","slug":"participate-model-5.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/participate-model-6.png","post":"clchh4gwx0013cktt7ij295mx","slug":"participate-model-6.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/template-model-1.png","post":"clchh4gwx0013cktt7ij295mx","slug":"template-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/template-model-2.png","post":"clchh4gwx0013cktt7ij295mx","slug":"template-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/template-model-3.png","post":"clchh4gwx0013cktt7ij295mx","slug":"template-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/template-model-4.png","post":"clchh4gwx0013cktt7ij295mx","slug":"template-model-4.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/template-model-5.png","post":"clchh4gwx0013cktt7ij295mx","slug":"template-model-5.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/template-model-6.png","post":"clchh4gwx0013cktt7ij295mx","slug":"template-model-6.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/throttle-model-1.png","post":"clchh4gwx0013cktt7ij295mx","slug":"throttle-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/throttle-model-2.png","post":"clchh4gwx0013cktt7ij295mx","slug":"throttle-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/throttle-model-3.png","post":"clchh4gwx0013cktt7ij295mx","slug":"throttle-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/waiter-model-1.png","post":"clchh4gwx0013cktt7ij295mx","slug":"waiter-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/waiter-model-2.png","post":"clchh4gwx0013cktt7ij295mx","slug":"waiter-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/waiter-model-3.png","post":"clchh4gwx0013cktt7ij295mx","slug":"waiter-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/waiter-model-4.png","post":"clchh4gwx0013cktt7ij295mx","slug":"waiter-model-4.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/waiter-model-5.png","post":"clchh4gwx0013cktt7ij295mx","slug":"waiter-model-5.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/waiter-model-6.png","post":"clchh4gwx0013cktt7ij295mx","slug":"waiter-model-6.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/waiter-model-7.png","post":"clchh4gwx0013cktt7ij295mx","slug":"waiter-model-7.png","modified":1,"renderable":1},{"_id":"source/_posts/27-about-design-model4/waiter-model-8.png","post":"clchh4gwx0013cktt7ij295mx","slug":"waiter-model-8.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/appendix-1.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"appendix-1.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/appendix-10.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"appendix-10.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/appendix-2.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"appendix-2.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/appendix-3.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"appendix-3.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/appendix-4.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"appendix-4.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/appendix-5.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"appendix-5.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/appendix-6.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"appendix-6.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/appendix-7.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"appendix-7.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/appendix-8.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"appendix-8.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/appendix-9.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"appendix-9.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/async-module-model-1.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"async-module-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/async-module-model-2.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"async-module-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/async-module-model-3.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"async-module-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/async-module-model-4.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"async-module-model-4.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/async-module-model-5.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"async-module-model-5.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/async-module-model-6.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"async-module-model-6.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/async-module-model-7.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"async-module-model-7.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/async-module-model-8.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"async-module-model-8.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/async-module-model-9.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"async-module-model-9.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/module-model-1.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"module-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/module-model-2.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"module-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/module-model-3.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"module-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/module-model-4.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"module-model-4.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/module-model-5.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"module-model-5.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvc-model-1.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"mvc-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvc-model-2.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"mvc-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvc-model-3.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"mvc-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvc-model-4.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"mvc-model-4.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvp-model-1.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"mvp-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvp-model-2.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"mvp-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvp-model-3.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"mvp-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvp-model-4.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"mvp-model-4.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvp-model-5.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"mvp-model-5.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvp-model-6.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"mvp-model-6.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvp-model-7.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"mvp-model-7.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvvm-model-1.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"mvvm-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvvm-model-2.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"mvvm-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvvm-model-3.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"mvvm-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvvm-model-4.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"mvvm-model-4.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvvm-model-5.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"mvvm-model-5.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvvm-model-6.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"mvvm-model-6.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvvm-model-7.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"mvvm-model-7.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/mvvm-model-8.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"mvvm-model-8.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/widget-model-1.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"widget-model-1.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/widget-model-2.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"widget-model-2.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/widget-model-3.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"widget-model-3.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/widget-model-4.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"widget-model-4.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/widget-model-5.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"widget-model-5.png","modified":1,"renderable":1},{"_id":"source/_posts/28-about-design-model5/widget-model-6.png","post":"clchh4gwy0015cktt0yuydb6h","slug":"widget-model-6.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/binary-search-tree.png","post":"clchh4gx1001dckttcuiw12rz","slug":"binary-search-tree.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/factorial.png","post":"clchh4gx1001dckttcuiw12rz","slug":"factorial.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/in-order-traverse.png","post":"clchh4gx1001dckttcuiw12rz","slug":"in-order-traverse.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/left-left-1.png","post":"clchh4gx1001dckttcuiw12rz","slug":"left-left-1.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/left-left-2.png","post":"clchh4gx1001dckttcuiw12rz","slug":"left-left-2.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/left-right-1.png","post":"clchh4gx1001dckttcuiw12rz","slug":"left-right-1.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/left-right-2.png","post":"clchh4gx1001dckttcuiw12rz","slug":"left-right-2.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/post-order-traverse.png","post":"clchh4gx1001dckttcuiw12rz","slug":"post-order-traverse.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/pre-order-traverse.png","post":"clchh4gx1001dckttcuiw12rz","slug":"pre-order-traverse.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/red-black-2a.png","post":"clchh4gx1001dckttcuiw12rz","slug":"red-black-2a.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/red-black-2b.png","post":"clchh4gx1001dckttcuiw12rz","slug":"red-black-2b.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/red-black-3a.png","post":"clchh4gx1001dckttcuiw12rz","slug":"red-black-3a.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/red-black-3b.png","post":"clchh4gx1001dckttcuiw12rz","slug":"red-black-3b.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/remove-left-right.png","post":"clchh4gx1001dckttcuiw12rz","slug":"remove-left-right.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/right-left-1.png","post":"clchh4gx1001dckttcuiw12rz","slug":"right-left-1.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/right-left-2.png","post":"clchh4gx1001dckttcuiw12rz","slug":"right-left-2.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/right-right-1.png","post":"clchh4gx1001dckttcuiw12rz","slug":"right-right-1.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/right-right-2.png","post":"clchh4gx1001dckttcuiw12rz","slug":"right-right-2.png","modified":1,"renderable":1},{"_id":"source/_posts/36-data-structure4/tree.png","post":"clchh4gx1001dckttcuiw12rz","slug":"tree.png","modified":1,"renderable":1},{"_id":"source/_posts/34-data-structure2/chain-table-1.png","post":"clchh4gx2001ecktthr53h1pe","slug":"chain-table-1.png","modified":1,"renderable":1},{"_id":"source/_posts/34-data-structure2/chain-table-2.png","post":"clchh4gx2001ecktthr53h1pe","slug":"chain-table-2.png","modified":1,"renderable":1},{"_id":"source/_posts/34-data-structure2/chain-table-3.png","post":"clchh4gx2001ecktthr53h1pe","slug":"chain-table-3.png","modified":1,"renderable":1},{"_id":"source/_posts/34-data-structure2/chain-table-4.png","post":"clchh4gx2001ecktthr53h1pe","slug":"chain-table-4.png","modified":1,"renderable":1},{"_id":"source/_posts/35-data-structure3/linear-probing.png","post":"clchh4gx3001gckttebru30l9","slug":"linear-probing.png","modified":1,"renderable":1},{"_id":"source/_posts/35-data-structure3/lose-lose.png","post":"clchh4gx3001gckttebru30l9","slug":"lose-lose.png","modified":1,"renderable":1},{"_id":"source/_posts/35-data-structure3/move-key.png","post":"clchh4gx3001gckttebru30l9","slug":"move-key.png","modified":1,"renderable":1},{"_id":"source/_posts/35-data-structure3/soft-delete.png","post":"clchh4gx3001gckttebru30l9","slug":"soft-delete.png","modified":1,"renderable":1},{"_id":"source/_posts/35-data-structure3/sperate-chain.png","post":"clchh4gx3001gckttebru30l9","slug":"sperate-chain.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/search-1.png","post":"clchh4gx4001icktt1le40upq","slug":"search-1.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/search-2.png","post":"clchh4gx4001icktt1le40upq","slug":"search-2.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/search-3.png","post":"clchh4gx4001icktt1le40upq","slug":"search-3.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/search-4.png","post":"clchh4gx4001icktt1le40upq","slug":"search-4.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/sort-1.png","post":"clchh4gx4001icktt1le40upq","slug":"sort-1.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/sort-10.png","post":"clchh4gx4001icktt1le40upq","slug":"sort-10.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/sort-11.png","post":"clchh4gx4001icktt1le40upq","slug":"sort-11.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/sort-12.png","post":"clchh4gx4001icktt1le40upq","slug":"sort-12.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/sort-2.png","post":"clchh4gx4001icktt1le40upq","slug":"sort-2.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/sort-3.png","post":"clchh4gx4001icktt1le40upq","slug":"sort-3.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/sort-4.png","post":"clchh4gx4001icktt1le40upq","slug":"sort-4.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/sort-5.png","post":"clchh4gx4001icktt1le40upq","slug":"sort-5.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/sort-6.png","post":"clchh4gx4001icktt1le40upq","slug":"sort-6.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/sort-7.png","post":"clchh4gx4001icktt1le40upq","slug":"sort-7.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/sort-8.png","post":"clchh4gx4001icktt1le40upq","slug":"sort-8.png","modified":1,"renderable":1},{"_id":"source/_posts/38-data-structure6/sort-9.png","post":"clchh4gx4001icktt1le40upq","slug":"sort-9.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/graph-1.png","post":"clchh4gx4001jcktta6jo57f0","slug":"graph-1.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/graph-10.png","post":"clchh4gx4001jcktta6jo57f0","slug":"graph-10.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/graph-11.png","post":"clchh4gx4001jcktta6jo57f0","slug":"graph-11.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/graph-12.png","post":"clchh4gx4001jcktta6jo57f0","slug":"graph-12.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/graph-13.png","post":"clchh4gx4001jcktta6jo57f0","slug":"graph-13.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/graph-2.png","post":"clchh4gx4001jcktta6jo57f0","slug":"graph-2.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/graph-3.png","post":"clchh4gx4001jcktta6jo57f0","slug":"graph-3.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/graph-4.png","post":"clchh4gx4001jcktta6jo57f0","slug":"graph-4.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/graph-5.png","post":"clchh4gx4001jcktta6jo57f0","slug":"graph-5.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/graph-6.png","post":"clchh4gx4001jcktta6jo57f0","slug":"graph-6.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/graph-7.png","post":"clchh4gx4001jcktta6jo57f0","slug":"graph-7.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/graph-8.png","post":"clchh4gx4001jcktta6jo57f0","slug":"graph-8.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/graph-9.png","post":"clchh4gx4001jcktta6jo57f0","slug":"graph-9.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/heap-sort.png","post":"clchh4gx4001jcktta6jo57f0","slug":"heap-sort.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/heat.png","post":"clchh4gx4001jcktta6jo57f0","slug":"heat.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/min-heat-pic.png","post":"clchh4gx4001jcktta6jo57f0","slug":"min-heat-pic.png","modified":1,"renderable":1},{"_id":"source/_posts/37-data-structure5/min-heat.png","post":"clchh4gx4001jcktta6jo57f0","slug":"min-heat.png","modified":1,"renderable":1},{"_id":"source/_posts/40-tail-call/call-stack.png","post":"clchh4gx6001mcktt1axz3zz6","slug":"call-stack.png","modified":1,"renderable":1},{"_id":"source/_posts/39-data-structure7/big-o-1.png","post":"clchh4gx5001lckttflx468i6","slug":"big-o-1.png","modified":1,"renderable":1},{"_id":"source/_posts/39-data-structure7/big-o-2.png","post":"clchh4gx5001lckttflx468i6","slug":"big-o-2.png","modified":1,"renderable":1},{"_id":"source/_posts/39-data-structure7/big-o-3.png","post":"clchh4gx5001lckttflx468i6","slug":"big-o-3.png","modified":1,"renderable":1},{"_id":"source/_posts/39-data-structure7/big-o-4.png","post":"clchh4gx5001lckttflx468i6","slug":"big-o-4.png","modified":1,"renderable":1},{"_id":"source/_posts/39-data-structure7/big-o-5.png","post":"clchh4gx5001lckttflx468i6","slug":"big-o-5.png","modified":1,"renderable":1},{"_id":"source/_posts/39-data-structure7/big-o-6.png","post":"clchh4gx5001lckttflx468i6","slug":"big-o-6.png","modified":1,"renderable":1},{"_id":"source/_posts/39-data-structure7/technology-1.png","post":"clchh4gx5001lckttflx468i6","slug":"technology-1.png","modified":1,"renderable":1},{"_id":"source/_posts/39-data-structure7/technology-2.png","post":"clchh4gx5001lckttflx468i6","slug":"technology-2.png","modified":1,"renderable":1},{"_id":"source/_posts/39-data-structure7/technology-3.png","post":"clchh4gx5001lckttflx468i6","slug":"technology-3.png","modified":1,"renderable":1},{"_id":"source/_posts/39-data-structure7/technology-4.png","post":"clchh4gx5001lckttflx468i6","slug":"technology-4.png","modified":1,"renderable":1},{"_id":"source/_posts/39-data-structure7/technology-5.png","post":"clchh4gx5001lckttflx468i6","slug":"technology-5.png","modified":1,"renderable":1},{"_id":"source/_posts/5-react-render/fiber_tree.png","post":"clchh4gx6001ocktt5q7ha88g","slug":"fiber_tree.png","modified":1,"renderable":1},{"_id":"source/_posts/5-react-render/force_update.png","post":"clchh4gx6001ocktt5q7ha88g","slug":"force_update.png","modified":1,"renderable":1},{"_id":"source/_posts/5-react-render/update_class.png","post":"clchh4gx6001ocktt5q7ha88g","slug":"update_class.png","modified":1,"renderable":1},{"_id":"source/_posts/6-vue3-render/render.png","post":"clchh4gx7001rckttcenka803","slug":"render.png","modified":1,"renderable":1},{"_id":"source/_posts/6-vue3-render/render_function.png","post":"clchh4gx7001rckttcenka803","slug":"render_function.png","modified":1,"renderable":1},{"_id":"source/_posts/6-vue3-render/render_node1.png","post":"clchh4gx7001rckttcenka803","slug":"render_node1.png","modified":1,"renderable":1},{"_id":"source/_posts/6-vue3-render/render_node2.png","post":"clchh4gx7001rckttcenka803","slug":"render_node2.png","modified":1,"renderable":1},{"_id":"source/_posts/6-vue3-render/vue3_render.png","post":"clchh4gx7001rckttcenka803","slug":"vue3_render.png","modified":1,"renderable":1}],"PostCategory":[],"PostTag":[],"Tag":[]}}